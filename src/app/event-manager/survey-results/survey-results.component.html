<div *ngIf="statistics" @fade class="results">
  <div *ngFor="let result of statistics" class="result-container" [class.closed]="!result.open" (click)="open(result)">
    <span class="result-title">{{ result.title }}</span>
    <div [@drawer2]="result.open" class="result-options" [class.closed]="!result.open">
      <table>
        <tr>
          <td class="first-column first-row"></td>
          <td *ngFor="let option of result.options" [style.width.%]="100 / result.options.length" class="first-row">{{ option.text }}</td>
        </tr>
        <tr *ngFor="let userEntry of userEntries">
          <td class="first-column">{{ getShortName(userEntry.userDisplayName) }}</td>
          <td *ngFor="let option of result.options">
            <i *ngIf="option.people.includes(userEntry.userDisplayName)" class="fa-solid fa-check"></i>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>