var wP=Object.defineProperty,EP=Object.defineProperties;var IP=Object.getOwnPropertyDescriptors;var du=Object.getOwnPropertySymbols,CP=Object.getPrototypeOf,R0=Object.prototype.hasOwnProperty,N0=Object.prototype.propertyIsEnumerable,bP=Reflect.get;var O0=(t,e,n)=>e in t?wP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})R0.call(e,n)&&O0(t,n,e[n]);if(du)for(var n of du(e))N0.call(e,n)&&O0(t,n,e[n]);return t},Ae=(t,e)=>EP(t,IP(e));var hp=(t,e)=>{var n={};for(var r in t)R0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&du)for(var r of du(t))e.indexOf(r)<0&&N0.call(t,r)&&(n[r]=t[r]);return n};var gi=(t,e,n)=>bP(CP(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function TP(t,e){return Object.is(t,e)}var Ct=null,Qa=!1,hu=1,yi=Symbol("SIGNAL");function xe(t){let e=Ct;return Ct=t,e}function DP(){return Qa}var fu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function k0(t){if(Qa)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(_s(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&Ya(Ct)){let n=Ct.producerNode[e];mu(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=Ya(Ct)?j0(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function SP(){hu++}function AP(t){if(!(Ya(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hu)){if(!t.producerMustRecompute(t)&&!pu(t)){t.dirty=!1,t.lastCleanEpoch=hu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=hu}}function F0(t){if(t.liveConsumerNode===void 0)return;let e=Qa;Qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||L0(n)}finally{Qa=e}}function V0(){return Ct?.consumerAllowSignalWrites!==!1}function L0(t){t.dirty=!0,F0(t),t.consumerMarkedDirty?.(t)}function pp(t){return t&&(t.nextProducerIndex=0),xe(t)}function mp(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ya(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pu(t){_s(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AP(n),r!==n.version))return!0}return!1}function gp(t){if(_s(t),Ya(t))for(let e=0;e<t.producerNode.length;e++)mu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function j0(t,e,n){if(U0(t),_s(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=j0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function mu(t,e){if(U0(t),_s(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)mu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_s(i),i.producerIndexOfThis[r]=e}}function Ya(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function U0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function xP(){throw new Error}var B0=xP;function $0(){B0()}function H0(t){B0=t}var MP=null;function z0(t){let e=Object.create(G0);e.value=t;let n=()=>(k0(e),e.value);return n[yi]=e,n}function yp(t,e){V0()||$0(),t.equal(t.value,e)||(t.value=e,PP(t))}function q0(t,e){V0()||$0(),yp(t,e(t.value))}var G0=Ae(R({},fu),{equal:TP,value:void 0});function PP(t){t.version++,SP(),F0(t),MP?.()}function W0(t,e,n){let r=Object.create(OP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(gp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=fp)}let a=()=>{if(r.fn===null)return;if(DP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!pu(r))return;r.hasRun=!0;let c=pp(r);try{r.cleanupFn(),r.cleanupFn=fp,r.fn(i)}finally{mp(r,c)}};return r.ref={notify:()=>L0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[yi]:r},r.ref}var fp=()=>{},OP=Ae(R({},fu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:fp});function J(t){return typeof t=="function"}function ws(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gu=ws(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var nt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof gu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{K0(o)}catch(s){e=e??[],s instanceof gu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)K0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){let{_finalizers:n}=this;n&&fo(n,e),e instanceof t&&e._removeParent(this)}};nt.EMPTY=(()=>{let t=new nt;return t.closed=!0,t})();var vp=nt.EMPTY;function yu(t){return t instanceof nt||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function K0(t){J(t)?t():t.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Es={setTimeout(t,e,...n){let{delegate:r}=Es;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Es;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vu(t){Es.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(t);else throw t})}function Xa(){}var Q0=_p("C",void 0,void 0);function Y0(t){return _p("E",void 0,t)}function X0(t){return _p("N",t,void 0)}function _p(t,e,n){return{kind:t,value:e,error:n}}var po=null;function Is(t){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=po;if(po=null,n)throw r}}else t()}function J0(t){Kn.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=t)}var mo=class extends nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yu(e)&&e.add(this)):this.destination=kP}static create(e,n,r){return new vi(e,n,r)}next(e){this.isStopped?Ep(X0(e),this):this._next(e)}error(e){this.isStopped?Ep(Y0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ep(Q0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RP=Function.prototype.bind;function wp(t,e){return RP.call(t,e)}var Ip=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_u(r)}else _u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_u(n)}}},vi=class extends mo{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wp(e.next,o),error:e.error&&wp(e.error,o),complete:e.complete&&wp(e.complete,o)}):i=e}this.destination=new Ip(i)}};function _u(t){Kn.useDeprecatedSynchronousErrorHandling?J0(t):vu(t)}function NP(t){throw t}function Ep(t,e){let{onStoppedNotification:n}=Kn;n&&Es.setTimeout(()=>n(t,e))}var kP={closed:!0,next:Xa,error:NP,complete:Xa};var Cs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(t){return t}function Cp(...t){return bp(t)}function bp(t){return t.length===0?_n:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VP(n)?n:new vi(n,r,i);return Is(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Z0(r),new r((i,o)=>{let s=new vi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Cs](){return this}pipe(...n){return bp(n)(this)}toPromise(n){return n=Z0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Z0(t){var e;return(e=t??Kn.Promise)!==null&&e!==void 0?e:Promise}function FP(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function VP(t){return t&&t instanceof mo||FP(t)&&yu(t)}function Tp(t){return J(t?.lift)}function we(t){return e=>{if(Tp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Dp(t,e,n,r,i)}var Dp=class extends mo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bs(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ts=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nt;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nt.EMPTY)}return e}refCount(){return bs()(this)}};var eE=ws(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Vt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new eE}next(n){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vp:(this.currentObservers=null,o.push(n),new nt(()=>{this.currentObservers=null,fo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new wu(e,n),t})(),wu=class extends Vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:vp}};var ht=class extends Vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sp={now(){return(Sp.delegate||Date).now()},delegate:void 0};var Eu=class extends nt{constructor(e,n){super()}schedule(e,n=0){return this}};var Ja={setInterval(t,e,...n){let{delegate:r}=Ja;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ja;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ds=class extends Eu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ja.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ja.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ss=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ss.now=Sp.now;var As=class extends Ss{constructor(e,n=Ss.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xs=new As(Ds),Ap=xs;var Iu=class extends Ds{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Cu=class extends As{};var xp=new Cu(Iu);var un=new se(t=>t.complete());function bu(t){return t&&J(t.schedule)}function Mp(t){return t[t.length-1]}function Tu(t){return J(Mp(t))?t.pop():void 0}function hr(t){return bu(Mp(t))?t.pop():void 0}function tE(t,e){return typeof Mp(t)=="number"?t.pop():e}function Pp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function nE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(t){return this instanceof go?(this.v=t,this):new go(t)}function iE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,E){o.push([h,f,g,E])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(o[0][3],g)}}function c(h){h.value instanceof go?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function oE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nE=="function"?nE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ms=t=>t&&typeof t.length=="number"&&typeof t!="function";function Du(t){return J(t?.then)}function Su(t){return J(t[Cs])}function Au(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mu=LP();function Pu(t){return J(t?.[Mu])}function Ou(t){return iE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield go(n.read());if(i)return yield go(void 0);yield yield go(r)}}finally{n.releaseLock()}})}function Ru(t){return J(t?.getReader)}function Ue(t){if(t instanceof se)return t;if(t!=null){if(Su(t))return jP(t);if(Ms(t))return UP(t);if(Du(t))return BP(t);if(Au(t))return sE(t);if(Pu(t))return $P(t);if(Ru(t))return HP(t)}throw xu(t)}function jP(t){return new se(e=>{let n=t[Cs]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vu)})}function $P(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sE(t){return new se(e=>{zP(t,e).catch(n=>e.error(n))})}function HP(t){return sE(Ou(t))}function zP(t,e){var n,r,i,o;return rE(this,void 0,void 0,function*(){try{for(n=oE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function dn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _i(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>dn(r,t,()=>r.next(i),e),()=>dn(r,t,()=>r.complete(),e),i=>dn(r,t,()=>r.error(i),e)))})}function wi(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aE(t,e){return Ue(t).pipe(wi(e),_i(e))}function cE(t,e){return Ue(t).pipe(wi(e),_i(e))}function lE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uE(t,e){return new se(n=>{let r;return dn(n,e,()=>{r=t[Mu](),dn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Nu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{dn(n,e,()=>{let r=t[Symbol.asyncIterator]();dn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dE(t,e){return Nu(Ou(t),e)}function hE(t,e){if(t!=null){if(Su(t))return aE(t,e);if(Ms(t))return lE(t,e);if(Du(t))return cE(t,e);if(Au(t))return Nu(t,e);if(Pu(t))return uE(t,e);if(Ru(t))return dE(t,e)}throw xu(t)}function Le(t,e){return e?hE(t,e):Ue(t)}function ae(...t){let e=hr(t);return Le(t,e)}function Ei(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Op(t){return!!t&&(t instanceof se||J(t.lift)&&J(t.subscribe))}var wn=ws(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function En(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new wn)}})})}function ku(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new vi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new wn)}});t.subscribe(o)})}function fE(t){return t instanceof Date&&!isNaN(t)}function re(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:qP}=Array;function GP(t,e){return qP(e)?t(...e):t(e)}function Ps(t){return re(e=>GP(t,e))}var{isArray:WP}=Array,{getPrototypeOf:KP,prototype:QP,keys:YP}=Object;function Fu(t){if(t.length===1){let e=t[0];if(WP(e))return{args:e,keys:null};if(XP(e)){let n=YP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function XP(t){return t&&typeof t=="object"&&KP(t)===QP}function Vu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Lu(...t){let e=hr(t),n=Tu(t),{args:r,keys:i}=Fu(t);if(r.length===0)return Le([],e);let o=new se(JP(r,e,i?s=>Vu(i,s):_n));return n?o.pipe(Ps(n)):o}function JP(t,e,n=_n){return r=>{pE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)pE(e,()=>{let l=Le(t[c],e),u=!1;l.subscribe(ge(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pE(t,e,n){t?dn(n,t,e):e()}function mE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=E=>l<r?g(E):c.push(E),g=E=>{o&&e.next(E),l++;let T=!1;Ue(n(E,u++)).subscribe(ge(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let D=c.shift();s?dn(e,s,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ge(e,f,()=>{d=!0,h()})),()=>{a?.()}}function rt(t,e,n=1/0){return J(e)?rt((r,i)=>re((o,s)=>e(r,o,i,s))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>mE(r,i,t,n)))}function Za(t=1/0){return rt(_n,t)}function gE(){return Za(1)}function Os(...t){return gE()(Le(t,hr(t)))}function ju(t){return new se(e=>{Ue(t()).subscribe(e)})}function Rp(...t){let e=Tu(t),{args:n,keys:r}=Fu(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ue(n[u]).subscribe(ge(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Vu(r,a):a),o.complete())}))}});return e?i.pipe(Ps(e)):i}var ZP=["addListener","removeListener"],eO=["addEventListener","removeEventListener"],tO=["on","off"];function Rs(t,e,n,r){if(J(n)&&(r=n,n=void 0),r)return Rs(t,e,n).pipe(Ps(r));let[i,o]=iO(t)?eO.map(s=>a=>t[s](e,a,n)):nO(t)?ZP.map(yE(t,e)):rO(t)?tO.map(yE(t,e)):[];if(!i&&Ms(t))return rt(s=>Rs(s,e,n))(Ue(t));if(!i)throw new TypeError("Invalid event target");return new se(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function yE(t,e){return n=>r=>t[n](e,r)}function nO(t){return J(t.addListener)&&J(t.removeListener)}function rO(t){return J(t.on)&&J(t.off)}function iO(t){return J(t.addEventListener)&&J(t.removeEventListener)}function vE(t=0,e,n=Ap){let r=-1;return e!=null&&(bu(e)?n=e:r=e),new se(i=>{let o=fE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ec(...t){let e=hr(t),n=tE(t,1/0),r=t;return r.length?r.length===1?Ue(r[0]):Za(n)(Le(r,e)):un}function bt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _E(t){return we((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ge(n,l=>{r=!0,i=l,o||Ue(t(l)).subscribe(o=ge(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Np(t,e=xs){return _E(()=>vE(t,e))}function Qn(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=Ue(t(s,Qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ge(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ii(t,e){return J(e)?rt(t,e,1):rt(t,1)}function Ci(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Br(t){return t<=0?()=>un:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function kp(t){return re(()=>t)}function Uu(t=oO){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function oO(){return new wn}function yo(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):_n,Br(1),n?Ci(e):Uu(()=>new wn))}function Ns(t){return t<=0?()=>un:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):_n,Ns(1),n?Ci(e):Uu(()=>new wn))}function Vp(t,e){return we(wE(t,e,arguments.length>=2,!0))}function Lp(t){return bt((e,n)=>t<=n)}function jp(...t){let e=hr(t);return we((n,r)=>{(e?Os(t,n,e):Os(t,n)).subscribe(r)})}function Tt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,c=>{i?.unsubscribe();let l=0,u=o++;Ue(t(c,u)).subscribe(i=ge(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yn(t){return we((e,n)=>{Ue(t).subscribe(ge(n,()=>n.complete(),Xa)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_n}var cI="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(vd(e,n)),this.code=e}};function vd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var tm=class extends Vt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Up(o),i&&(i=Up(i)),s&&(s=Up(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof nt&&e.add(a),a}};function Up(t){return e=>{setTimeout(t,void 0,e)}}var Ke=tm;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function tn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(tn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function nm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lI||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{});function fc(t){return{toString:t}.toString()}var $r=globalThis;var Us={},hn=[];function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function sO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var aO=je({\u0275cmp:je}),cO=je({\u0275dir:je}),lO=je({\u0275pipe:je}),uO=je({\u0275mod:je}),ed=je({\u0275fac:je}),tc=je({__NG_ELEMENT_ID__:je}),EE=je({__NG_ENV_ID__:je}),ne=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ne||{});function uI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function rm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];hO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dO(t){return t===3||t===4||t===6}function hO(t){return t.charCodeAt(0)===64}function nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?IE(t,n,i,null,e[++r]):IE(t,n,i,null,null))}}return t}function IE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var dI="ng-template";function fO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&uI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function hI(t){return t.type===4&&t.value!==dI}function pO(t,e,n){let r=t.type===4&&!n?dI:t.value;return e===r}function mO(t,e,n){let r=4,i=t.attrs||[],o=vO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Xn(r)&&!Xn(c))return!1;if(s&&Xn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!pO(t,c,n)||c===""&&e.length===1){if(Xn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!fO(t.attrs,l,n)){if(Xn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=gO(u,i,hI(t),n);if(d===-1){if(Xn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&uI(f,l,0)!==-1||r&2&&l!==h){if(Xn(r))return!1;s=!0}}}}return Xn(r)||s}function Xn(t){return(t&1)===0}function gO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _O(e,t)}function yO(t,e,n=!1){for(let r=0;r<e.length;r++)if(mO(t,e[r],n))return!0;return!1}function vO(t){for(let e=0;e<t.length;e++){let n=t[e];if(dO(n))return e}return t.length}function _O(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function CE(t,e){return t?":not("+e.trim()+")":e}function wO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xn(s)&&(e+=CE(o,i),i=""),r=s,o=o||!Xn(r);n++}return i!==""&&(e+=CE(o,i)),e}function EO(t){return t.map(wO).join(",")}function IO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Xn(i))break;i=o}r++}return{attrs:e,classes:n}}function Q(t){return fc(()=>{let e=yI(t),n=Ae(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||hn,_:null,schemas:t.schemas||null,tView:null,id:""});vI(n);let r=t.dependencies;return n.directiveDefs=TE(r,!1),n.pipeDefs=TE(r,!0),n.id=TO(n),n})}function CO(t){return Di(t)||fI(t)}function bO(t){return t!==null}function nn(t){return fc(()=>({type:t.type,bootstrap:t.bootstrap||hn,declarations:t.declarations||hn,imports:t.imports||hn,exports:t.exports||hn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bE(t,e){if(t==null)return Us;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ne.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ne.None?[r,a]:r,e[o]=s):n[o]=r}return n}function st(t){return fc(()=>{let e=yI(t);return vI(e),e})}function Di(t){return t[aO]||null}function fI(t){return t[cO]||null}function pI(t){return t[lO]||null}function mI(t){let e=Di(t)||fI(t)||pI(t);return e!==null?e.standalone:!1}function gI(t,e){let n=t[uO]||null;if(!n&&e===!0)throw new Error(`Type ${tn(t)} does not have '\u0275mod' property.`);return n}function yI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Us,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||hn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bE(t.inputs,e),outputs:bE(t.outputs),debugInfo:null}}function vI(t){t.features?.forEach(e=>e(t))}function TE(t,e){if(!t)return null;let n=e?pI:CO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bO)}function TO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Er=0,ye=1,te=2,Lt=3,Jn=4,tr=5,td=6,rc=7,Zn=8,Bs=9,Hr=10,ot=11,ic=12,DE=13,Ys=14,yr=15,pc=16,ks=17,zr=18,_d=19,_I=20,Ti=21,Wu=22,wo=23,vr=25,rg=1;var Eo=7,nd=8,$s=9,In=10,ig=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ig||{});function vo(t){return Array.isArray(t)&&typeof t[rg]=="object"}function Qr(t){return Array.isArray(t)&&t[rg]===!0}function og(t){return(t.flags&4)!==0}function wd(t){return t.componentOffset>-1}function Ed(t){return(t.flags&1)===1}function qr(t){return!!t.template}function DO(t){return(t[te]&512)!==0}var SO="svg",AO="math",xO=!1;function MO(){return xO}function _r(t){for(;Array.isArray(t);)t=t[Er];return t}function PO(t){for(;Array.isArray(t);){if(typeof t[rg]=="object")return t;t=t[Er]}return null}function wI(t,e){return _r(e[t])}function nr(t,e){return _r(e[t.index])}function EI(t,e){return t.data[e]}function OO(t,e){return t[e]}function Mi(t,e){let n=e[t];return vo(n)?n:n[Er]}function RO(t){return(t[te]&4)===4}function sg(t){return(t[te]&128)===128}function NO(t){return Qr(t[Lt])}function Hs(t,e){return e==null?null:t[e]}function II(t){t[ks]=0}function kO(t){t[te]&1024||(t[te]|=1024,sg(t)&&oc(t))}function FO(t,e){for(;t>0;)e=e[Ys],t--;return e}function ag(t){return!!(t[te]&9216||t[wo]?.dirty)}function im(t){ag(t)?oc(t):t[te]&64&&(MO()?(t[te]|=1024,oc(t)):t[Hr].changeDetectionScheduler?.notify())}function oc(t){t[Hr].changeDetectionScheduler?.notify();let e=sc(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!sg(e)));)e=sc(e)}function CI(t,e){if((t[te]&256)===256)throw new P(911,!1);t[Ti]===null&&(t[Ti]=[]),t[Ti].push(e)}function VO(t,e){if(t[Ti]===null)return;let n=t[Ti].indexOf(e);n!==-1&&t[Ti].splice(n,1)}function sc(t){let e=t[Lt];return Qr(e)?e[Lt]:e}var ve={lFrame:PI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LO(){return ve.lFrame.elementDepthCount}function jO(){ve.lFrame.elementDepthCount++}function UO(){ve.lFrame.elementDepthCount--}function bI(){return ve.bindingsEnabled}function BO(){return ve.skipHydrationRootTNode!==null}function $O(t){return ve.skipHydrationRootTNode===t}function HO(){ve.skipHydrationRootTNode=null}function Me(){return ve.lFrame.lView}function St(){return ve.lFrame.tView}function S(t){return ve.lFrame.contextLView=t,t[Zn]}function A(t){return ve.lFrame.contextLView=null,t}function fn(){let t=TI();for(;t!==null&&t.type===64;)t=t.parent;return t}function TI(){return ve.lFrame.currentTNode}function zO(){let t=ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ao(t,e){let n=ve.lFrame;n.currentTNode=t,n.isParent=e}function cg(){return ve.lFrame.isParent}function DI(){ve.lFrame.isParent=!1}function qO(){return ve.lFrame.contextLView}function GO(){return ve.lFrame.bindingIndex}function WO(t){return ve.lFrame.bindingIndex=t}function Id(){return ve.lFrame.bindingIndex++}function lg(t){let e=ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function KO(){return ve.lFrame.inI18n}function QO(t,e){let n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,om(e)}function YO(){return ve.lFrame.currentDirectiveIndex}function om(t){ve.lFrame.currentDirectiveIndex=t}function SI(t){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function AI(){return ve.lFrame.currentQueryIndex}function ug(t){ve.lFrame.currentQueryIndex=t}function XO(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[tr]:null}function xI(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=XO(o),i===null||(o=o[Ys],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ve.lFrame=MI();return r.currentTNode=e,r.lView=t,!0}function dg(t){let e=MI(),n=t[ye];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MI(){let t=ve.lFrame,e=t===null?null:t.child;return e===null?PI(t):e}function PI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OI(){let t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RI=OI;function hg(){let t=OI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function JO(t){return(ve.lFrame.contextLView=FO(t,ve.lFrame.contextLView))[Zn]}function Pi(){return ve.lFrame.selectedIndex}function Io(t){ve.lFrame.selectedIndex=t}function fg(){let t=ve.lFrame;return EI(t.tView,t.selectedIndex)}function ZO(){return ve.lFrame.currentNamespace}var NI=!0;function Cd(){return NI}function bd(t){NI=t}function eR(){return Xs(fn(),Me())}function Xs(t,e){return new jt(nr(t,e))}var jt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=eR;let t=e;return t})();function tR(t){return t instanceof jt?t.nativeElement:t}function nR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function rR(t){return t.flat(Number.POSITIVE_INFINITY)}function pg(t,e){t.forEach(n=>Array.isArray(n)?pg(n,e):e(n))}function kI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function iR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Td(t,e,n){let r=mc(t,e);return r>=0?t[r|1]=n:(r=~r,iR(t,r,e,n)),r}function Bp(t,e){let n=mc(t,e);if(n>=0)return t[n|1]}function mc(t,e){return oR(t,e,1)}function oR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function sR(){return this._results[Symbol.iterator]()}var sm=class t{get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=sR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=rR(e);(this._changesDetected=!nR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function FI(t){return(t.flags&128)===128}var am;function VI(t){am=t}function aR(){if(am!==void 0)return am;if(typeof document<"u")return document;throw new P(210,!1)}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dd(t){return SE(t,jI)||SE(t,UI)}function LI(t){return Dd(t)!==null}function SE(t,e){return t.hasOwnProperty(e)?t[e]:null}function cR(t){let e=t&&(t[jI]||t[UI]);return e||null}function AE(t){return t&&(t.hasOwnProperty(xE)||t.hasOwnProperty(lR))?t[xE]:null}var jI=je({\u0275prov:je}),xE=je({\u0275inj:je}),UI=je({ngInjectableDef:je}),lR=je({ngInjectorDef:je}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},mg=new G("",{providedIn:"root",factory:()=>uR}),uR="ng",gg=new G(""),kn=new G("",{providedIn:"platform",factory:()=>"unknown"});var yg=new G(""),vg=new G("",{providedIn:"root",factory:()=>aR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dR=je({__forward_ref__:je});function gc(t){return t.__forward_ref__=gc,t.toString=function(){return tn(this())},t}function en(t){return BI(t)?t():t}function BI(t){return typeof t=="function"&&t.hasOwnProperty(dR)&&t.__forward_ref__===gc}function $I(t){return t&&!!t.\u0275providers}function ac(t){return typeof t=="string"?t:t==null?"":String(t)}function hR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ac(t)}function fR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function _g(t,e){throw new P(-201,!1)}var cm;function HI(){return cm}function Nn(t){let e=cm;return cm=t,e}function zI(t,e,n){let r=Dd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;_g(t,"Injector")}var pR={},cc=pR,lm="__NG_DI_FLAG__",id="ngTempTokenPath",mR="ngTokenPath",gR=/\n/gm,yR="\u0275",ME="__source",Ls;function vR(){return Ls}function bi(t){let e=Ls;return Ls=t,e}function _R(t,e=_e.Default){if(Ls===void 0)throw new P(-203,!1);return Ls===null?zI(t,void 0,e):Ls.get(t,e&_e.Optional?null:void 0,e)}function V(t,e=_e.Default){return(HI()||_R)(en(t),e)}function O(t,e=_e.Default){return V(t,Sd(e))}function Sd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){let e=[];for(let n=0;n<t.length;n++){let r=en(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=wR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(V(i,o))}else e.push(V(r))}return e}function qI(t,e){return t[lm]=e,t.prototype[lm]=e,t}function wR(t){return t[lm]}function ER(t,e,n,r){let i=t[id];throw e[ME]&&i.unshift(e[ME]),t.message=IR(`
`+t.message,i,n,r),t[mR]=i,t[id]=null,t}function IR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yR?t.slice(2):t;let i=tn(e);if(Array.isArray(e))i=e.map(tn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):tn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gR,`
  `)}`}var CR="h",bR="b";var TR=()=>null;function wg(t,e,n=!1){return TR(t,e,n)}var Bu="__parameters__";function DR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GI(t,e,n){return fc(()=>{let r=DR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Bu)?c[Bu]:Object.defineProperty(c,Bu,{value:[]})[Bu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var on=qI(GI("Optional"),8);var WI=qI(GI("SkipSelf"),4);function zs(t,e){let n=t.hasOwnProperty(ed);return n?t[ed]:null}var qs=new G(""),KI=new G("",-1),QI=new G(""),od=class{get(e,n=cc){if(n===cc){let r=new Error(`NullInjectorError: No provider for ${tn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Oi(t){return{\u0275providers:t}}function yc(...t){return{\u0275providers:YI(!0,t),\u0275fromNgModule:!0}}function YI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return pg(e,s=>{let a=s;dm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&XI(i,o),n}function XI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eg(i,o=>{e(o,r)})}}function dm(t,e,n,r){if(t=en(t),!t)return!1;let i=null,o=AE(t),s=!o&&Di(t);if(!o&&!s){let c=t.ngModule;if(o=AE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)dm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{pg(o.imports,u=>{dm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&XI(l,e)}if(!a){let l=zs(i)||(()=>new i);e({provide:i,useFactory:l,deps:hn},i),e({provide:QI,useValue:i,multi:!0},i),e({provide:qs,useValue:()=>V(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Eg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Eg(t,e){for(let n of t)$I(n)&&(n=n.\u0275providers),Array.isArray(n)?Eg(n,e):e(n)}var SR=je({provide:String,useValue:je});function JI(t){return t!==null&&typeof t=="object"&&SR in t}function AR(t){return!!(t&&t.useExisting)}function xR(t){return!!(t&&t.useFactory)}function Gs(t){return typeof t=="function"}function MR(t){return!!t.useClass}var Ad=new G(""),Ku={},PR={},$p;function xd(){return $p===void 0&&($p=new od),$p}var Dt=class{},lc=class extends Dt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fm(e,s=>this.processProvider(s)),this.records.set(KI,Fs(void 0,this)),i.has("environment")&&this.records.set(Dt,Fs(void 0,this));let o=this.records.get(Ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QI,hn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=bi(this),r=Nn(void 0),i;try{return e()}finally{bi(n),Nn(r)}}get(e,n=cc,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(EE))return e[EE](this);r=Sd(r);let i,o=bi(this),s=Nn(void 0);try{if(!(r&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=FR(e)&&Dd(e);l&&this.injectableDefInScope(l)?c=Fs(hm(e),Ku):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&_e.Self?xd():this.parent;return n=r&_e.Optional&&n===cc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[id]=a[id]||[]).unshift(tn(e)),o)throw a;return ER(a,e,"R3InjectorError",this.source)}else throw a}finally{Nn(s),bi(o)}}resolveInjectorInitializers(){let e=xe(null),n=bi(this),r=Nn(void 0),i;try{let o=this.get(qs,hn,_e.Self);for(let s of o)s()}finally{bi(n),Nn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=en(e);let n=Gs(e)?e:en(e&&e.provide),r=RR(e);if(!Gs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fs(void 0,Ku,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Ku&&(n.value=PR,n.value=n.factory()),typeof n.value=="object"&&n.value&&kR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=en(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hm(t){let e=Dd(t),n=e!==null?e.factory:zs(t);if(n!==null)return n;if(t instanceof G)throw new P(204,!1);if(t instanceof Function)return OR(t);throw new P(204,!1)}function OR(t){if(t.length>0)throw new P(204,!1);let n=cR(t);return n!==null?()=>n.factory(t):()=>new t}function RR(t){if(JI(t))return Fs(void 0,t.useValue);{let e=ZI(t);return Fs(e,Ku)}}function ZI(t,e,n){let r;if(Gs(t)){let i=en(t);return zs(i)||hm(i)}else if(JI(t))r=()=>en(t.useValue);else if(xR(t))r=()=>t.useFactory(...um(t.deps||[]));else if(AR(t))r=()=>V(en(t.useExisting));else{let i=en(t&&(t.useClass||t.provide));if(NR(t))r=()=>new i(...um(t.deps));else return zs(i)||hm(i)}return r}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NR(t){return!!t.deps}function kR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function FR(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function fm(t,e){for(let n of t)Array.isArray(n)?fm(n,e):n&&$I(n)?fm(n.\u0275providers,e):e(n)}function Yr(t,e){t instanceof lc&&t.assertNotDestroyed();let n,r=bi(t),i=Nn(void 0);try{return e()}finally{bi(r),Nn(i)}}function VR(t){if(!HI()&&!vR())throw new P(-203,!1)}function LR(t){return typeof t=="function"}var pm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xr(){return tC}function tC(t){return t.type.prototype.ngOnChanges&&(t.setInput=UR),jR}Xr.ngInherit=!0;function jR(){let t=rC(this),e=t?.current;if(e){let n=t.previous;if(n===Us)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UR(t,e,n,r,i){let o=this.declaredInputs[r],s=rC(t)||BR(t,{previous:Us,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new pm(l&&l.currentValue,n,c===Us),eC(t,e,i,n)}var nC="__ngSimpleChanges__";function rC(t){return t[nC]||null}function BR(t,e){return t[nC]=e}var PE=null;var pr=function(t,e,n){PE?.(t,e,n)};function $R(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Md(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Qu(t,e,n){iC(t,e,3,n)}function Yu(t,e,n,r){(t[te]&3)===n&&iC(t,e,n,r)}function Hp(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function iC(t,e,n,r){let i=r!==void 0?t[ks]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ks]+=65536),(a<o||o==-1)&&(HR(t,n,e,c),t[ks]=(t[ks]&4294901760)+c+2),c++}function OE(t,e){pr(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),pr(5,t,e)}}function HR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[ks]>>16&&(t[te]&3)===e&&(t[te]+=16384,OE(a,o)):OE(a,o)}var js=-1,Co=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function zR(t){return t instanceof Co}function qR(t){return(t.flags&8)!==0}function GR(t){return(t.flags&16)!==0}function oC(t){return t!==js}function sd(t){return t&32767}function WR(t){return t>>16}function ad(t,e){let n=WR(t),r=e;for(;n>0;)r=r[Ys],n--;return r}var mm=!0;function RE(t){let e=mm;return mm=t,e}var KR=256,sC=KR-1,aC=5,QR=0,mr={};function YR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(tc)&&(r=n[tc]),r==null&&(r=n[tc]=QR++);let i=r&sC,o=1<<i;e.data[t+(i>>aC)]|=o}function cd(t,e){let n=cC(t,e);if(n!==-1)return n;let r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,zp(r.data,t),zp(e,null),zp(r.blueprint,null));let i=Ig(t,e),o=t.injectorIndex;if(oC(i)){let s=sd(i),a=ad(i,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function zp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ig(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fC(i),r===null)return js;if(n++,i=i[Ys],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return js}function gm(t,e,n){YR(t,e,n)}function lC(t,e,n){if(n&_e.Optional||t!==void 0)return t;_g(e,"NodeInjector")}function uC(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[Bs],o=Nn(void 0);try{return i?i.get(e,r,n&_e.Optional):zI(e,r,n&_e.Optional)}finally{Nn(o)}}return lC(r,e,n)}function dC(t,e,n,r=_e.Default,i){if(t!==null){if(e[te]&2048&&!(r&_e.Self)){let s=eN(t,e,n,r,mr);if(s!==mr)return s}let o=hC(t,e,n,r,mr);if(o!==mr)return o}return uC(e,n,r,i)}function hC(t,e,n,r,i){let o=JR(n);if(typeof o=="function"){if(!xI(e,t,r))return r&_e.Host?lC(i,n,r):uC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))_g(n);else return s}finally{RI()}}else if(typeof o=="number"){let s=null,a=cC(t,e),c=js,l=r&_e.Host?e[yr][tr]:null;for((a===-1||r&_e.SkipSelf)&&(c=a===-1?Ig(t,e):e[a+8],c===js||!kE(r,!1)?a=-1:(s=e[ye],a=sd(c),e=ad(c,e)));a!==-1;){let u=e[ye];if(NE(o,a,u.data)){let d=XR(a,e,n,s,r,l);if(d!==mr)return d}c=e[a+8],c!==js&&kE(r,e[ye].data[a+8]===l)&&NE(o,a,e)?(s=u,a=sd(c),e=ad(c,e)):a=-1}}return i}function XR(t,e,n,r,i,o){let s=e[ye],a=s.data[t+8],c=r==null?wd(a)&&mm:r!=s&&(a.type&3)!==0,l=i&_e.Host&&o===a,u=Xu(a,s,n,c,l);return u!==null?bo(e,s,u,a):mr}function Xu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&qr(f)&&f.type===n)return c}return null}function bo(t,e,n,r){let i=t[n],o=e.data;if(zR(i)){let s=i;s.resolving&&fR(hR(o[n]));let a=RE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Nn(s.injectImpl):null,u=xI(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$R(n,o[n],e)}finally{l!==null&&Nn(l),RE(a),s.resolving=!1,RI()}}return i}function JR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(tc)?t[tc]:void 0;return typeof e=="number"?e>=0?e&sC:ZR:e}function NE(t,e,n){let r=1<<t;return!!(n[e+(t>>aC)]&r)}function kE(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var _o=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dC(this._tNode,this._lView,e,Sd(r),n)}};function ZR(){return new _o(fn(),Me())}function Cn(t){return fc(()=>{let e=t.prototype.constructor,n=e[ed]||ym(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ed]||ym(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ym(t){return BI(t)?()=>{let e=ym(en(t));return e&&e()}:zs(t)}function eN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=hC(o,s,n,r|_e.Self,mr);if(a!==mr)return a;let c=o.parent;if(!c){let l=s[_I];if(l){let u=l.get(n,mr,r);if(u!==mr)return u}c=fC(s),s=s[Ys]}o=c}return i}function fC(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[tr]:null}function FE(t,e=null,n=null,r){let i=pC(t,e,n,r);return i.resolveInjectorInitializers(),i}function pC(t,e=null,n=null,r,i=new Set){let o=[n||hn,yc(t)];return r=r||(typeof t=="object"?void 0:tn(t)),new lc(o,e||xd(),r||null,i)}var Qe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return FE({name:""},i,r,"");{let o=r.name??"";return FE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=cc,e.NULL=new od,e.\u0275prov=F({token:e,providedIn:"any",factory:()=>V(KI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),tN="ngOriginalError";function qp(t){return t[tN]}var wr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qp(e);for(;n&&qp(n);)n=qp(n);return n||null}},mC=new G("",{providedIn:"root",factory:()=>O(wr).handleError.bind(void 0)});var gC=!1,nN=new G("",{providedIn:"root",factory:()=>gC}),$u;function rN(){if($u===void 0&&($u=null,$r.trustedTypes))try{$u=$r.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $u}function Pd(t){return rN()?.createHTML(t)||t}var Hu;function iN(){if(Hu===void 0&&(Hu=null,$r.trustedTypes))try{Hu=$r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hu}function VE(t){return iN()?.createScriptURL(t)||t}var Gr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cI})`}},vm=class extends Gr{getTypeName(){return"HTML"}},_m=class extends Gr{getTypeName(){return"Style"}},wm=class extends Gr{getTypeName(){return"Script"}},Em=class extends Gr{getTypeName(){return"URL"}},Im=class extends Gr{getTypeName(){return"ResourceURL"}};function Fn(t){return t instanceof Gr?t.changingThisBreaksApplicationSecurity:t}function Ri(t,e){let n=oN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cI})`)}return n===e}function oN(t){return t instanceof Gr&&t.getTypeName()||null}function yC(t){return new vm(t)}function vC(t){return new _m(t)}function _C(t){return new wm(t)}function wC(t){return new Em(t)}function EC(t){return new Im(t)}function sN(t){let e=new bm(t);return aN()?new Cm(e):e}var Cm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Pd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},bm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Pd(e),n}};function aN(){try{return!!new window.DOMParser().parseFromString(Pd(""),"text/html")}catch{return!1}}var cN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Od(t){return t=String(t),t.match(cN)?t:"unsafe:"+t}function Jr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function vc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var IC=Jr("area,br,col,hr,img,wbr"),CC=Jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bC=Jr("rp,rt"),lN=vc(bC,CC),uN=vc(CC,Jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dN=vc(bC,Jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),LE=vc(IC,uN,dN,lN),TC=Jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hN=Jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fN=Jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),pN=vc(TC,hN,fN),mN=Jr("script,style,template"),Tm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!LE.hasOwnProperty(n))return this.sanitizedSomething=!0,!mN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!pN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;TC[a]&&(c=Od(c)),this.buf.push(" ",s,'="',jE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();LE.hasOwnProperty(n)&&!IC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},gN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yN=/([^\#-~ |!])/g;function jE(t){return t.replace(/&/g,"&amp;").replace(gN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(yN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zu;function DC(t,e){let n=null;try{zu=zu||sN(t);let r=e?String(e):"";n=zu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=zu.getInertBodyElement(r)}while(r!==o);let a=new Tm().sanitizeChildren(UE(n)||n);return Pd(a)}finally{if(n){let r=UE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function UE(t){return"content"in t&&vN(t)?t.content:null}function vN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ir||{});function bn(t){let e=AC();return e?e.sanitize(Ir.URL,t)||"":Ri(t,"URL")?Fn(t):Od(ac(t))}function SC(t){let e=AC();if(e)return VE(e.sanitize(Ir.RESOURCE_URL,t)||"");if(Ri(t,"ResourceURL"))return VE(Fn(t));throw new P(904,!1)}function AC(){let t=Me();return t&&t[Hr].sanitizer}var _N=/^>|^->|<!--|-->|--!>|<!-$/g,wN=/(<|>)/g,EN="\u200B$1\u200B";function IN(t){return t.replace(_N,e=>e.replace(wN,EN))}var xC=new Map,CN=0;function bN(){return CN++}function TN(t){xC.set(t[_d],t)}function DN(t){xC.delete(t[_d])}var BE="__ngContext__";function Si(t,e){vo(e)?(t[BE]=e[_d],TN(e)):t[BE]=e}function Ye(t){return t.ownerDocument.defaultView}function MC(t){return t.ownerDocument}function PC(t){return t instanceof Function?t():t}var Wr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wr||{}),SN;function Cg(t,e){return SN(t,e)}function Vs(t,e,n,r,i){if(r!=null){let o,s=!1;Qr(r)?o=r:vo(r)&&(s=!0,r=r[Er]);let a=_r(r);t===0&&n!==null?i==null?FC(e,n,a):ld(e,n,a,i||null,!0):t===1&&n!==null?ld(e,n,a,i||null,!0):t===2?qN(e,a,s):t===3&&e.destroyNode(a),o!=null&&WN(e,t,o,n,i)}}function AN(t,e){return t.createText(e)}function xN(t,e,n){t.setValue(e,n)}function MN(t,e){return t.createComment(IN(e))}function OC(t,e,n){return t.createElement(e,n)}function PN(t,e){RC(t,e),e[Er]=null,e[tr]=null}function ON(t,e,n,r,i,o){r[Er]=i,r[tr]=e,Nd(t,r,n,1,i,o)}function RC(t,e){Nd(t,e,e[ot],2,null,null)}function RN(t){let e=t[ic];if(!e)return Gp(t[ye],t);for(;e;){let n=null;if(vo(e))n=e[ic];else{let r=e[In];r&&(n=r)}if(!n){for(;e&&!e[Jn]&&e!==t;)vo(e)&&Gp(e[ye],e),e=e[Lt];e===null&&(e=t),vo(e)&&Gp(e[ye],e),n=e&&e[Jn]}e=n}}function NN(t,e,n,r){let i=In+r,o=n.length;r>0&&(n[i-1][Jn]=e),r<o-In?(e[Jn]=n[i],kI(n,In+r,e)):(n.push(e),e[Jn]=null),e[Lt]=n;let s=e[pc];s!==null&&n!==s&&kN(s,e);let a=e[zr];a!==null&&a.insertView(t),im(e),e[te]|=128}function kN(t,e){let n=t[$s],i=e[Lt][Lt][yr];e[yr]!==i&&(t[te]|=ig.HasTransplantedViews),n===null?t[$s]=[e]:n.push(e)}function NC(t,e){let n=t[$s],r=n.indexOf(e);n.splice(r,1)}function Dm(t,e){if(t.length<=In)return;let n=In+e,r=t[n];if(r){let i=r[pc];i!==null&&i!==t&&NC(i,r),e>0&&(t[n-1][Jn]=r[Jn]);let o=rd(t,In+e);PN(r[ye],r);let s=o[zr];s!==null&&s.detachView(o[ye]),r[Lt]=null,r[Jn]=null,r[te]&=-129}return r}function kC(t,e){if(!(e[te]&256)){let n=e[ot];n.destroyNode&&Nd(t,e,n,3,null,null),RN(e)}}function Gp(t,e){if(e[te]&256)return;let n=xe(null);try{e[te]&=-129,e[te]|=256,e[wo]&&gp(e[wo]),VN(t,e),FN(t,e),e[ye].type===1&&e[ot].destroy();let r=e[pc];if(r!==null&&Qr(e[Lt])){r!==e[Lt]&&NC(r,e);let i=e[zr];i!==null&&i.detachView(t)}DN(e)}finally{xe(n)}}function FN(t,e){let n=t.cleanup,r=e[rc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[rc]=null);let i=e[Ti];if(i!==null){e[Ti]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function VN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Co)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];pr(4,a,c);try{c.call(a)}finally{pr(5,a,c)}}else{pr(4,i,o);try{o.call(i)}finally{pr(5,i,o)}}}}}function LN(t,e,n){return jN(t,e.parent,n)}function jN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===gr.None||o===gr.Emulated)return null}return nr(r,n)}}function ld(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FC(t,e,n){t.appendChild(e,n)}function $E(t,e,n,r,i){r!==null?ld(t,e,n,r,i):FC(t,e,n)}function UN(t,e,n,r){t.removeChild(e,n,r)}function bg(t,e){return t.parentNode(e)}function BN(t,e){return t.nextSibling(e)}function $N(t,e,n){return zN(t,e,n)}function HN(t,e,n){return t.type&40?nr(t,n):null}var zN=HN,HE;function Rd(t,e,n,r){let i=LN(t,r,e),o=e[ot],s=r.parent||e[tr],a=$N(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$E(o,i,n[c],a,!1);else $E(o,i,n,a,!1);HE!==void 0&&HE(o,r,e,n,i)}function Ju(t,e){if(e!==null){let n=e.type;if(n&3)return nr(e,t);if(n&4)return Sm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ju(t,r);{let i=t[e.index];return Qr(i)?Sm(-1,i):_r(i)}}else{if(n&32)return Cg(e,t)()||_r(t[e.index]);{let r=VC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sc(t[yr]);return Ju(i,r)}else return Ju(t,e.next)}}}return null}function VC(t,e){if(e!==null){let r=t[yr][tr],i=e.projection;return r.projection[i]}return null}function Sm(t,e){let n=In+t+1;if(n<e.length){let r=e[n],i=r[ye].firstChild;if(i!==null)return Ju(r,i)}return e[Eo]}function qN(t,e,n){let r=bg(t,e);r&&UN(t,r,e,n)}function Tg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Si(_r(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Tg(t,e,n.child,r,i,o,!1),Vs(e,t,i,a,o);else if(c&32){let l=Cg(n,r),u;for(;u=l();)Vs(e,t,i,u,o);Vs(e,t,i,a,o)}else c&16?GN(t,e,r,n,i,o):Vs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nd(t,e,n,r,i,o){Tg(n,r,t.firstChild,e,i,o,!1)}function GN(t,e,n,r,i,o){let s=n[yr],c=s[tr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Vs(e,t,i,u,o)}else{let l=c,u=s[Lt];FI(r)&&(l.flags|=128),Tg(t,e,l,u,i,o,!0)}}function WN(t,e,n,r,i){let o=n[Eo],s=_r(n);o!==s&&Vs(e,t,r,o,i);for(let a=In;a<n.length;a++){let c=n[a];Nd(c[ye],c,t,e,r,o)}}function KN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wr.Important),t.setStyle(n,r,i,o))}}function QN(t,e,n){t.setAttribute(e,"style",n)}function LC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&rm(t,e,r),i!==null&&LC(t,e,i),o!==null&&QN(t,e,o)}var Cr={};function w(t=1){UC(St(),Me(),Pi()+t,!1)}function UC(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Qu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Yu(e,o,0,n)}Io(n)}function M(t,e=_e.Default){let n=Me();if(n===null)return V(t,e);let r=fn();return dC(r,n,en(t),e)}function BC(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&ne.SignalBased&&(a=e[r][yi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ne.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):eC(e,a,r,o)}finally{xe(s)}}function YN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Io(~i);else{let o=i,s=n[++r],a=n[++r];QO(s,o);let c=e[o];a(2,c)}}}finally{Io(-1)}}function kd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Er]=i,d[te]=r|4|128|8|64,(l!==null||t&&t[te]&2048)&&(d[te]|=2048),II(d),d[Lt]=d[Ys]=t,d[Zn]=n,d[Hr]=s||t&&t[Hr],d[ot]=a||t&&t[ot],d[Bs]=c||t&&t[Bs]||null,d[tr]=o,d[_d]=bN(),d[td]=u,d[_I]=l,d[yr]=e.type==2?t[yr]:d,d}function _c(t,e,n,r,i){let o=t.data[e];if(o===null)o=XN(t,e,n,r,i),KO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=zO();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function XN(t,e,n,r,i){let o=TI(),s=cg(),a=s?o:o&&o.parent,c=t.data[e]=rk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function $C(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function HC(t,e,n,r,i){let o=Pi(),s=r&2;try{Io(-1),s&&e.length>vr&&UC(t,e,vr,!1),pr(s?2:0,i),n(r,i)}finally{Io(o),pr(s?3:1,i)}}function Dg(t,e,n){if(og(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function Sg(t,e,n){bI()&&(lk(t,e,n,nr(n,e)),(n.flags&64)===64&&GC(t,e,n))}function Ag(t,e,n=nr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function zC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xg(t,e,n,r,i,o,s,a,c,l,u){let d=vr+r,h=d+i,f=JN(d,h),g=typeof l=="function"?l():l;return f[ye]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function JN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Cr);return n}function ZN(t,e,n,r){let o=r.get(nN,gC)||n===gr.ShadowDom,s=t.selectRootElement(e,o);return ek(s),s}function ek(t){tk(t)}var tk=()=>null;function nk(t,e,n,r){let i=QC(e);i.push(n),t.firstCreatePass&&YC(t).push(r,i.length-1)}function rk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return BO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ne.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?qE(r,n,l,a,c):qE(r,n,l,a)}return r}function qE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ik(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=zE(0,d.inputs,u,c,f),l=zE(1,d.outputs,u,l,g);let E=c!==null&&s!==null&&!hI(e)?vk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function ok(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mg(t,e,n,r,i,o,s,a){let c=nr(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Og(t,n,u,r,i),wd(e)&&sk(n,e.index)):e.type&3?(r=ok(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function sk(t,e){let n=Mi(e,t);n[te]&16||(n[te]|=64)}function Pg(t,e,n,r){if(bI()){let i=r===null?null:{"":-1},o=dk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&qC(t,e,n,s,i,a),i&&hk(n,r,i)}n.mergedAttrs=nc(n.mergedAttrs,n.attrs)}function qC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)gm(cd(n,e),t,r[l].type);pk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=$C(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=nc(n.mergedAttrs,u.hostAttrs),mk(t,n,e,c,u),fk(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ik(t,n,o)}function ak(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ck(s)!=a&&s.push(a),s.push(n,r,o)}}function ck(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function lk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;wd(n)&&gk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cd(n,e),Si(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=bo(e,t,a,n);if(Si(l,e),s!==null&&yk(e,a-i,l,c,n,s),qr(c)){let u=Mi(n.index,e);u[Zn]=bo(e,t,a,n)}}}function GC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=YO();try{Io(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];om(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&uk(c,l)}}finally{Io(-1),om(s)}}function uk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(yO(e,s.selectors,!1))if(r||(r=[]),qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Am(t,e,c)}else r.unshift(s),Am(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Am(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}}function fk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qr(e)&&(n[""]=t)}}function pk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zs(i.type,!0)),s=new Co(o,qr(i),M);t.blueprint[r]=s,n[r]=s,ak(t,e,r,$C(t,n,i.hostVars,Cr),i)}function gk(t,e,n){let r=nr(e,t),i=zC(n),o=t[Hr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Fd(t,kd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function yk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];BC(r,n,c,l,u,d)}}function vk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function WC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function KC(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ug(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Fd(t,e){return t[ic]?t[DE][Jn]=e:t[ic]=e,t[DE]=e,e}function xm(t,e,n){ug(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function QC(t){return t[rc]||(t[rc]=[])}function YC(t){return t.cleanup||(t.cleanup=[])}function _k(t,e,n){return(t===null||qr(t))&&(n=PO(n[e.index])),n[ot]}function XC(t,e){let n=t[Bs],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Og(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];BC(u,l,r,a,c,i)}}function JC(t,e,n){let r=wI(e,t);xN(t[ot],r,n)}function wk(t,e){let n=Mi(e,t),r=n[ye];Ek(r,n);let i=n[Er];i!==null&&n[td]===null&&(n[td]=wg(i,n[Bs])),Rg(r,n,n[Zn])}function Ek(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rg(t,e,n){dg(e);try{let r=t.viewQuery;r!==null&&xm(1,r,n);let i=t.template;i!==null&&HC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zr]?.finishViewCreation(t),t.staticContentQueries&&KC(t,e),t.staticViewQueries&&xm(2,t.viewQuery,n);let o=t.components;o!==null&&Ik(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,hg()}}function Ik(t,e){for(let n=0;n<e.length;n++)wk(t,e[n])}function Ck(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[te]&4096?4096:16,c=kd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[pc]=l;let u=t[zr];return u!==null&&(c[zr]=u.createEmbeddedView(o)),Rg(o,c,n),c}finally{xe(i)}}function GE(t,e){return!e||e.firstChild===null||FI(t)}function bk(t,e,n,r=!0){let i=e[ye];if(NN(i,e,t,n),r){let s=Sm(n,t),a=e[ot],c=bg(a,t[Eo]);c!==null&&ON(i,t[tr],a,e,c,s)}let o=e[td];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ud(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(_r(o)),Qr(o)&&Tk(o,r);let s=n.type;if(s&8)ud(t,e,n.child,r);else if(s&32){let a=Cg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=VC(e,n);if(Array.isArray(a))r.push(...a);else{let c=sc(e[yr]);ud(c[ye],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tk(t,e){for(let n=In;n<t.length;n++){let r=t[n],i=r[ye].firstChild;i!==null&&ud(r[ye],r,i,e)}t[Eo]!==t[Er]&&e.push(t[Eo])}var ZC=[];function Dk(t){return t[wo]??Sk(t)}function Sk(t){let e=ZC.pop()??Object.create(xk);return e.lView=t,e}function Ak(t){t.lView[wo]!==t&&(t.lView=null,ZC.push(t))}var xk=Ae(R({},fu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oc(t.lView)},consumerOnSignalRead(){this.lView[wo]=this}});function eb(t){return nb(t[ic])}function tb(t){return nb(t[Jn])}function nb(t){for(;t!==null&&!Qr(t);)t=t[Jn];return t}var rb=100;function ib(t,e=!0,n=0){let r=t[Hr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Mk(t,n)}catch(s){throw e&&XC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Mk(t,e){Mm(t,e);let n=0;for(;ag(t);){if(n===rb)throw new P(103,!1);n++,Mm(t,1)}}function Pk(t,e,n,r){let i=e[te];if((i&256)===256)return;let o=!1;!o&&e[Hr].inlineEffectRunner?.flush(),dg(e);let s=null,a=null;!o&&Ok(t)&&(a=Dk(e),s=pp(a));try{II(e),WO(t.bindingStartIndex),n!==null&&HC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Qu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Yu(e,d,0,null),Hp(e,0)}if(Rk(e),ob(e,0),t.contentQueries!==null&&KC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Qu(e,d)}else{let d=t.contentHooks;d!==null&&Yu(e,d,1),Hp(e,1)}YN(t,e);let l=t.components;l!==null&&ab(e,l,0);let u=t.viewQuery;if(u!==null&&xm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Qu(e,d)}else{let d=t.viewHooks;d!==null&&Yu(e,d,2),Hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wu]){for(let d of e[Wu])d();e[Wu]=null}o||(e[te]&=-73)}catch(c){throw oc(e),c}finally{a!==null&&(mp(a,s),Ak(a)),hg()}}function Ok(t){return t.type!==2}function ob(t,e){for(let n=eb(t);n!==null;n=tb(n))for(let r=In;r<n.length;r++){let i=n[r];sb(i,e)}}function Rk(t){for(let e=eb(t);e!==null;e=tb(e)){if(!(e[te]&ig.HasTransplantedViews))continue;let n=e[$s];for(let r=0;r<n.length;r++){let i=n[r],o=i[Lt];kO(i)}}}function Nk(t,e,n){let r=Mi(e,t);sb(r,n)}function sb(t,e){sg(t)&&Mm(t,e)}function Mm(t,e){let r=t[ye],i=t[te],o=t[wo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pu(o)),o&&(o.dirty=!1),t[te]&=-9217,s)Pk(r,t,r.template,t[Zn]);else if(i&8192){ob(t,1);let a=r.components;a!==null&&ab(t,a,1)}}function ab(t,e,n){for(let r=0;r<e.length;r++)Nk(t,e[r],n)}function Ng(t){for(t[Hr].changeDetectionScheduler?.notify();t;){t[te]|=64;let e=sc(t);if(DO(t)&&!e)return t;t=e}return null}var To=class{get rootNodes(){let e=this._lView,n=e[ye];return ud(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(e){this._lView[Zn]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Qr(e)){let n=e[nd],r=n?n.indexOf(this):-1;r>-1&&(Dm(e,r),rd(n,r))}this._attachedToViewContainer=!1}kC(this._lView[ye],this._lView)}onDestroy(e){CI(this._lView,e)}markForCheck(){Ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){im(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,ib(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,RC(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,im(this._lView)}},er=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vk;let t=e;return t})(),kk=er,Fk=class extends kk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ck(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new To(i)}};function Vk(){return Vd(fn(),Me())}function Vd(t,e){return t.type&4?new Fk(e,t,Xs(t,e)):null}var v7=new RegExp(`^(\\d+)*(${bR}|${CR})*(.*)`);var Lk=()=>null;function WE(t,e){return Lk(t,e)}var uc=class{},Pm=class{},dd=class{};function jk(t){let e=Error(`No component factory found for ${tn(t)}.`);return e[Uk]=t,e}var Uk="ngComponent";var Om=class{resolveComponentFactory(e){throw jk(e)}},Ld=(()=>{let e=class e{};e.NULL=new Om;let t=e;return t})(),Do=class{},xo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bk();let t=e;return t})();function Bk(){let t=Me(),e=fn(),n=Mi(e.index,t);return(vo(n)?n:t)[ot]}var $k=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Wp={},cb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Hk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Rm=class extends cb{constructor(e){super(),this._lView=e}onDestroy(e){return CI(this._lView,e),()=>VO(this._lView,e)}};function Hk(){return new Rm(Me())}var KE=new Set;function Mo(t){KE.has(t)||(KE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function QE(...t){}function zk(){let t=typeof $r.requestAnimationFrame=="function",e=$r[t?"requestAnimationFrame":"setTimeout"],n=$r[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=zk().nativeRequestAnimationFrame,Wk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qk,QE,QE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qk={};function kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($r,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nm(t),t.isCheckStableRunning=!0,kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nm(t))}function Wk(t){let e=()=>{Gk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Kk(a))return n.invokeTask(i,o,s,a);try{return YE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return YE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),XE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Nm(t),kg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Nm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function YE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XE(t){t._nesting--,kg(t)}function Kk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var lb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function hd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=nm(i,a);else if(o==2){let c=a,l=e[++s];r=nm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var fd=class extends Ld{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Di(e);return new Ws(n,this.ngModule)}};function JE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Qk(t){let e=t.toLowerCase();return e==="svg"?SO:e==="math"?AO:null}var km=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sd(r);let i=this.injector.get(e,Wp,r);return i!==Wp||n===Wp?i:this.parentInjector.get(e,n,r)}},Ws=class extends dd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=JE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return JE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=EO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Dt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new km(e,s):e,c=a.get(Do,null);if(c===null)throw new P(407,!1);let l=a.get($k,null),u=a.get(lb,null),d=a.get(uc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",E=r?ZN(f,r,this.componentDef.encapsulation,a):OC(f,g,Qk(g)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let D=null;E!==null&&(D=wg(E,a,!0));let j=xg(0,null,null,1,0,null,null,null,null,null,null),$=kd(null,j,null,T,null,null,h,f,a,null,D);dg($);let p,K;try{let x=this.componentDef,W,ue=null;x.findHostDirectiveDefs?(W=[],ue=new Map,x.findHostDirectiveDefs(x,W,ue),W.push(x)):W=[x];let Ie=Yk($,E),Te=Xk(Ie,E,x,W,$,h,f);K=EI(j,vr),E&&e1(f,x,E,r),n!==void 0&&t1(K,this.ngContentSelectors,n),p=Zk(Te,x,W,ue,$,[n1]),Rg(j,$,null)}finally{hg()}return new Fm(this.componentType,p,Xs(K,$),$,K)}finally{xe(o)}}},Fm=class extends Pm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new To(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Og(o[ye],o,i,e,n),this.previousInputValues.set(e,n);let s=Mi(this._tNode.index,o);Ng(s)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Yk(t,e){let n=t[ye],r=vr;return t[r]=e,_c(n,r,2,"#host",null)}function Xk(t,e,n,r,i,o,s){let a=i[ye];Jk(r,t,e,s);let c=null;e!==null&&(c=wg(e,i[Bs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=kd(i,zC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Am(a,t,r.length-1),Fd(i,d),i[t.index]=d}function Jk(t,e,n,r){for(let i of t)e.mergedAttrs=nc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hd(e,e.mergedAttrs,!0),n!==null&&jC(r,n,e))}function Zk(t,e,n,r,i,o){let s=fn(),a=i[ye],c=nr(s,i);qC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=bo(i,a,d,s);Si(h,i)}GC(a,i,s),c&&Si(c,i);let l=bo(i,a,s.directiveStart+s.componentOffset,s);if(t[Zn]=i[Zn]=l,o!==null)for(let u of o)u(l,e);return Dg(a,s,i),l}function e1(t,e,n,r){if(r)rm(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=IO(e.selectors[0]);i&&rm(t,n,i),o&&o.length>0&&LC(t,n,o.join(" "))}}function t1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function n1(){let t=fn();Md(Me()[ye],t)}var Ut=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=r1;let t=e;return t})();function r1(){let t=fn();return db(t,Me())}var i1=Ut,ub=class extends i1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xs(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ig(this._hostTNode,this._hostLView);if(oC(e)){let n=ad(e,this._hostLView),r=sd(e),i=n[ye].data[r+8];return new _o(i,n)}else return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ZE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=WE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,GE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!LR(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new Ws(Di(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Dt,null);E&&(o=E)}let u=Di(c.componentType??{}),d=WE(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,GE(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Lt],l=new ub(c,c[tr],c[Lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bk(s,i,o,r),e.attachToViewContainerRef(),kI(Kp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ZE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);r&&(rd(Kp(this._lContainer),n),kC(r[ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);return r&&rd(Kp(this._lContainer),n)!=null?new To(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ZE(t){return t[nd]}function Kp(t){return t[nd]||(t[nd]=[])}function db(t,e){let n,r=e[t.index];return Qr(r)?n=r:(n=WC(r,e,null,t),e[t.index]=n,Fd(e,n)),s1(n,e,t,r),new ub(n,t,e)}function o1(t,e){let n=t[ot],r=n.createComment(""),i=nr(e,t),o=bg(n,i);return ld(n,o,r,BN(n,i),!1),r}var s1=l1,a1=()=>!1;function c1(t,e,n){return a1(t,e,n)}function l1(t,e,n,r){if(t[Eo])return;let i;n.type&8?i=_r(r):i=o1(e,n),t[Eo]=i}var Vm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fg(e,n).matches!==null&&this.queries[n].setDirty()}},jm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=y1(e):this.predicate=e}},Um=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,u1(n,o)),this.matchTNodeWithReadOption(e,n,Xu(n,e,o,!1,!1))}else r===er?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===jt||i===Ut||i===er&&n.type&4)this.addMatch(n.index,-2);else{let o=Xu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function u1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function d1(t,e){return t.type&11?Xs(t,e):t.type&4?Vd(t,e):null}function h1(t,e,n,r){return n===-1?d1(e,t):n===-2?f1(t,e,r):bo(t,t[ye],n,e)}function f1(t,e,n){if(n===jt)return Xs(e,t);if(n===er)return Vd(e,t);if(n===Ut)return db(e,t)}function hb(t,e,n,r){let i=e[zr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(h1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function $m(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=hb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=In;d<u.length;d++){let h=u[d];h[pc]===h[Lt]&&$m(h[ye],h,l,r)}if(u[$s]!==null){let d=u[$s];for(let h=0;h<d.length;h++){let f=d[h];$m(f[ye],f,l,r)}}}}}return r}function p1(t,e){return t[zr].queries[e].queryList}function m1(t,e,n){let r=new sm((n&4)===4);return nk(t,e,r,r.destroy),(e[zr]??=new Lm).queries.push(new Vm(r))-1}function g1(t,e,n){let r=St();return r.firstCreatePass&&(v1(r,new jm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),m1(r,Me(),e)}function y1(t){return t.split(",").map(e=>e.trim())}function v1(t,e,n){t.queries===null&&(t.queries=new Um),t.queries.track(new Bm(e,n))}function Fg(t,e){return t.queries.getByIndex(e)}function _1(t,e){let n=t[ye],r=Fg(n,e);return r.crossesNgTemplate?$m(n,t,e,[]):hb(n,t,r,e)}function w1(t){return typeof t=="function"&&t[yi]!==void 0}function Js(t,e){Mo("NgSignals");let n=z0(t),r=n[yi];return e?.equal&&(r.equal=e.equal),n.set=i=>yp(r,i),n.update=i=>q0(r,i),n.asReadonly=E1.bind(n),n}function E1(){let t=this[yi];if(t.readonlyFn===void 0){let e=()=>this();e[yi]=t,t.readonlyFn=e}return t.readonlyFn}function fb(t){return w1(t)&&typeof t.set=="function"}function I1(t){return Object.getPrototypeOf(t.prototype).constructor}function Xe(t){let e=I1(t.type),n=!0,r=[t];for(;e;){let i;if(qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=qu(t.inputs),s.inputTransforms=qu(t.inputTransforms),s.declaredInputs=qu(t.declaredInputs),s.outputs=qu(t.outputs);let a=i.hostBindings;a&&S1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&T1(t,c),l&&D1(t,l),C1(t,i),sO(t.outputs,i.outputs),qr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Xe&&(n=!1)}}e=Object.getPrototypeOf(e)}b1(r)}function C1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function b1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}function qu(t){return t===Us?{}:t===hn?[]:t}function T1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function D1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function S1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function jd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ai=class{},dc=class{};var Hm=class extends Ai{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fd(this);let i=gI(e);this._bootstrapComponents=PC(i.bootstrap),this._r3Injector=pC(e,n,[{provide:Ai,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zm=class extends dc{constructor(e){super(),this.moduleType=e}create(e){return new Hm(this.moduleType,e,[])}};var pd=class extends Ai{constructor(e){super(),this.componentFactoryResolver=new fd(this),this.instance=null;let n=new lc([...e.providers,{provide:Ai,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],e.parent||xd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vg(t,e,n=null){return new pd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Po=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pb(t){return x1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function A1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function x1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function xi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function M1(t,e,n,r){let i=xi(t,e,n);return xi(t,e+1,r)||i}function P1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=_c(e,t,4,s||null,Hs(l,a));Pg(e,n,u,Hs(l,c)),Md(e,u);let d=u.tView=xg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function z(t,e,n,r,i,o,s,a){let c=Me(),l=St(),u=t+vr,d=l.firstCreatePass?P1(u,l,c,e,n,r,i,o,s):l.data[u];Ao(d,!1);let h=O1(l,c,d,t);Cd()&&Rd(l,c,h,d),Si(h,c);let f=WC(h,c,h,d);return c[u]=f,Fd(c,f),c1(f,d,c),Ed(d)&&Sg(l,c,d),s!=null&&Ag(c,d,a),z}var O1=R1;function R1(t,e,n,r){return bd(!0),e[ot].createComment("")}function N1(t,e,n,r){return xi(t,Id(),n)?e+ac(n)+r:Cr}function k1(t,e,n,r,i,o){let s=GO(),a=M1(t,s,n,i);return lg(2),a?e+ac(n)+r+ac(i)+o:Cr}function Gu(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function F1(t){return(t&2)==2}function V1(t,e){return t&131071|e<<17}function qm(t){return t|2}function Ks(t){return(t&131068)>>2}function Qp(t,e){return t&-131069|e<<2}function L1(t){return(t&1)===1}function Gm(t){return t|1}function j1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=So(s),c=Ks(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||mc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=So(t[a+1]);t[r+1]=Gu(h,a),h!==0&&(t[h+1]=Qp(t[h+1],r)),t[a+1]=V1(t[a+1],r)}else t[r+1]=Gu(a,0),a!==0&&(t[a+1]=Qp(t[a+1],r)),a=r;else t[r+1]=Gu(c,0),a===0?a=r:t[c+1]=Qp(t[c+1],r),c=r;l&&(t[r+1]=qm(t[r+1])),eI(t,u,r,!0),eI(t,u,r,!1),U1(e,u,t,r,o),s=Gu(a,c),o?e.classBindings=s:e.styleBindings=s}function U1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&mc(o,e)>=0&&(n[r+1]=Gm(n[r+1]))}function eI(t,e,n,r){let i=t[n+1],o=e===null,s=r?So(i):Ks(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];B1(c,e)&&(a=!0,t[s+1]=r?Gm(l):qm(l)),s=r?So(l):Ks(l)}a&&(t[n+1]=r?qm(i):Gm(i))}function B1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?mc(t,e)>=0:!1}var ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mb(t){return t.substring(ft.key,ft.keyEnd)}function $1(t){return t.substring(ft.value,ft.valueEnd)}function H1(t){return vb(t),gb(t,Qs(t,0,ft.textEnd))}function gb(t,e){let n=ft.textEnd;return n===e?-1:(e=ft.keyEnd=q1(t,ft.key=e,n),Qs(t,e,n))}function z1(t){return vb(t),yb(t,Qs(t,0,ft.textEnd))}function yb(t,e){let n=ft.textEnd,r=ft.key=Qs(t,e,n);return n===r?-1:(r=ft.keyEnd=G1(t,r,n),r=tI(t,r,n,58),r=ft.value=Qs(t,r,n),r=ft.valueEnd=W1(t,r,n),tI(t,r,n,59))}function vb(t){ft.key=0,ft.keyEnd=0,ft.value=0,ft.valueEnd=0,ft.textEnd=t.length}function Qs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function q1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function G1(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function tI(t,e,n,r){return e=Qs(t,e,n),e<n&&e++,e}function W1(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=nI(t,c,s,n):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=nI(t,41,s,n):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function nI(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function C(t,e,n){let r=Me(),i=Id();if(xi(r,i,e)){let o=St(),s=fg();Mg(o,s,r,t,e,r[ot],n,!1)}return C}function Wm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Og(t,n,o[s],s,r)}function Zr(t,e,n){return wb(t,e,n,!1),Zr}function Ee(t,e){return wb(t,e,null,!0),Ee}function Ud(t){Eb(bb,K1,t,!1)}function K1(t,e){for(let n=z1(e);n>=0;n=yb(e,n))bb(t,mb(e),$1(e))}function _b(t){Eb(tF,Q1,t,!0)}function Q1(t,e){for(let n=H1(e);n>=0;n=gb(e,n))Td(t,mb(e),!0)}function wb(t,e,n,r){let i=Me(),o=St(),s=lg(2);if(o.firstUpdatePass&&Cb(o,t,s,r),e!==Cr&&xi(i,s,e)){let a=o.data[Pi()];Tb(o,a,i,i[ot],t,i[s+1]=rF(e,n),r,s)}}function Eb(t,e,n,r){let i=St(),o=lg(2);i.firstUpdatePass&&Cb(i,null,o,r);let s=Me();if(n!==Cr&&xi(s,o,n)){let a=i.data[Pi()];if(Db(a,r)&&!Ib(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=nm(c,n||"")),Wm(i,a,s,n,r)}else nF(i,a,s,s[ot],s[o+1],s[o+1]=eF(t,e,n),r,o)}}function Ib(t,e){return e>=t.expandoStartIndex}function Cb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Pi()],s=Ib(t,n);Db(o,r)&&e===null&&!s&&(e=!1),e=Y1(i,o,e,r),j1(i,o,e,n,s,r)}}function Y1(t,e,n,r){let i=SI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yp(null,t,e,n,r),n=hc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Yp(i,t,e,n,r),o===null){let c=X1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Yp(null,t,e,c[1],r),c=hc(c,e.attrs,r),J1(t,e,r,c))}else o=Z1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function X1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ks(r)!==0)return t[So(r)]}function J1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[So(i)]=r}function Z1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=hc(r,s,n)}return hc(r,e.attrs,n)}function Yp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=hc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function hc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Td(t,s,n?!0:e[++o]))}return t===void 0?null:t}function eF(t,e,n){if(n==null||n==="")return hn;let r=[],i=Fn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function bb(t,e,n){Td(t,e,Fn(n))}function tF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Td(t,r,n)}function nF(t,e,n,r,i,o,s,a){i===Cr&&(i=hn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,g=null,E;u===d?(c+=2,l+=2,h!==f&&(g=d,E=f)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,E=f),g!==null&&Tb(t,e,n,r,g,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Tb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=L1(l)?rI(c,e,n,i,Ks(l),s):void 0;if(!md(u)){md(o)||F1(l)&&(o=rI(c,null,n,i,a,s));let d=wI(Pi(),n);KN(r,s,d,i,o)}}function rI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Cr&&(h=d?hn:void 0);let f=d?Bp(h,r):u===r?h:void 0;if(l&&!md(f)&&(f=Bp(c,r)),md(f)&&(a=f,s))return a;let g=t[i+1];i=s?So(g):Ks(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Bp(c,r))}return a}function md(t){return t!==void 0}function rF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=tn(Fn(t)))),t}function Db(t,e){return(t.flags&(e?8:16))!==0}function iF(t,e,n,r,i,o){let s=e.consts,a=Hs(s,i),c=_c(e,t,2,r,a);return Pg(e,n,c,Hs(s,o)),c.attrs!==null&&hd(c,c.attrs,!1),c.mergedAttrs!==null&&hd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=Me(),o=St(),s=vr+t,a=i[ot],c=o.firstCreatePass?iF(s,o,i,e,n,r):o.data[s],l=oF(o,i,c,a,e,t);i[s]=l;let u=Ed(c);return Ao(c,!0),jC(a,l,c),(c.flags&32)!==32&&Cd()&&Rd(o,i,l,c),LO()===0&&Si(l,i),jO(),u&&(Sg(o,i,c),Dg(o,c,i)),r!==null&&Ag(i,c),m}function y(){let t=fn();cg()?DI():(t=t.parent,Ao(t,!1));let e=t;$O(e)&&HO(),UO();let n=St();return n.firstCreatePass&&(Md(n,t),og(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&qR(e)&&Wm(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&GR(e)&&Wm(n,e,Me(),e.stylesWithoutHost,!1),y}function ie(t,e,n,r){return m(t,e,n,r),y(),ie}var oF=(t,e,n,r,i,o)=>(bd(!0),OC(r,i,ZO()));function sF(t,e,n,r,i){let o=e.consts,s=Hs(o,r),a=_c(e,t,8,"ng-container",s);s!==null&&hd(a,s,!0);let c=Hs(o,i);return Pg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function pt(t,e,n){let r=Me(),i=St(),o=t+vr,s=i.firstCreatePass?sF(o,i,r,e,n):i.data[o];Ao(s,!0);let a=aF(i,r,s,t);return r[o]=a,Cd()&&Rd(i,r,a,s),Si(a,r),Ed(s)&&(Sg(i,r,s),Dg(i,s,r)),n!=null&&Ag(r,s),pt}function mt(){let t=fn(),e=St();return cg()?DI():(t=t.parent,Ao(t,!1)),e.firstCreatePass&&(Md(e,t),og(t)&&e.queries.elementEnd(t)),mt}function Lg(t,e,n){return pt(t,e,n),mt(),Lg}var aF=(t,e,n,r)=>(bd(!0),MN(e[ot],""));function Y(){return Me()}function wc(t,e,n){let r=Me(),i=Id();if(xi(r,i,e)){let o=St(),s=fg(),a=SI(o.data),c=_k(a,s,r);Mg(o,s,r,t,e,c,n,!0)}return wc}var gd="en-US";var cF=gd;function lF(t){typeof t=="string"&&(cF=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,r){let i=Me(),o=St(),s=fn();return Sb(o,i,i[ot],s,t,e,r),I}function uF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[rc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Sb(t,e,n,r,i,o,s){let a=Ed(r),l=t.firstCreatePass&&YC(t),u=e[Zn],d=QC(e),h=!0;if(r.type&3||s){let E=nr(r,e),T=s?s(E):E,D=d.length,j=s?p=>s(_r(p[r.index])):r.index,$=null;if(!s&&a&&($=uF(t,e,i,r.index)),$!==null){let p=$.__ngLastListenerFn__||$;p.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1}else{o=oI(r,e,u,o,!1);let p=n.listen(T,i,o);d.push(o,p),l&&l.push(i,j,D,D+1)}}else o=oI(r,e,u,o,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let E=g.length;if(E)for(let T=0;T<E;T+=2){let D=g[T],j=g[T+1],K=e[D][j].subscribe(o),x=d.length;if(d.push(o,K),l){let W=typeof K=="function"?x+1:-(x+1);l.push(i,r.index,x,W)}}}}function iI(t,e,n,r){let i=xe(null);try{return pr(6,e,n),n(r)!==!1}catch(o){return XC(t,o),!1}finally{pr(7,e,n),xe(i)}}function oI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Mi(t.index,e):e;Ng(a);let c=iI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=iI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _(t=1){return JO(t)}function Ab(t,e,n){g1(t,e,n)}function jg(t){let e=Me(),n=St(),r=AI();ug(r+1);let i=Fg(n,r);if(t.dirty&&RO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=_1(e,r);t.reset(o,tR),t.notifyOnChanges()}return!0}return!1}function Ug(){return p1(Me(),AI())}function Je(t){let e=qO();return OO(e,vr+t)}function L(t,e=""){let n=Me(),r=St(),i=t+vr,o=r.firstCreatePass?_c(r,i,1,e,null):r.data[i],s=dF(r,n,o,e,t);n[i]=s,Cd()&&Rd(r,n,s,o),Ao(o,!1)}var dF=(t,e,n,r,i)=>(bd(!0),AN(e[ot],r));function pe(t){return xb("",t,""),pe}function xb(t,e,n){let r=Me(),i=N1(r,t,e,n);return i!==Cr&&JC(r,Pi(),i),xb}function Oo(t,e,n,r,i){let o=Me(),s=k1(o,t,e,n,r,i);return s!==Cr&&JC(o,Pi(),s),Oo}function ei(t,e,n){fb(e)&&(e=e());let r=Me(),i=Id();if(xi(r,i,e)){let o=St(),s=fg();Mg(o,s,r,t,e,r[ot],n,!1)}return ei}function Ni(t,e){let n=fb(t);return n&&t.set(e),n}function ti(t,e){let n=Me(),r=St(),i=fn();return Sb(r,n,n[ot],i,t,e),ti}function hF(t,e,n){let r=St();if(r.firstCreatePass){let i=qr(t);Km(n,r.data,r.blueprint,i,!0),Km(e,r.data,r.blueprint,i,!1)}}function Km(t,e,n,r,i){if(t=en(t),Array.isArray(t))for(let o=0;o<t.length;o++)Km(t[o],e,n,r,i);else{let o=St(),s=Me(),a=fn(),c=Gs(t)?t:en(t.provide),l=ZI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Gs(t)||!t.multi){let f=new Co(l,i,M),g=Jp(c,e,i?u:u+h,d);g===-1?(gm(cd(a,s),o,c),Xp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Jp(c,e,u+h,d),g=Jp(c,e,u,u+h),E=f>=0&&n[f],T=g>=0&&n[g];if(i&&!T||!i&&!E){gm(cd(a,s),o,c);let D=mF(i?pF:fF,n.length,i,r,l);!i&&T&&(n[g].providerFactory=D),Xp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Mb(n[i?g:f],l,!i&&r);Xp(o,t,f>-1?f:g,D)}!i&&r&&T&&n[g].componentProviders++}}}function Xp(t,e,n,r){let i=Gs(e),o=MR(e);if(i||o){let c=(o?en(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Mb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fF(t,e,n,r){return Qm(this.multi,[])}function pF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bo(n,n[ye],this.providerFactory.index,r);o=a.slice(0,s),Qm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qm(i,o);return o}function Qm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mF(t,e,n,r,i){let o=new Co(t,n,M);return o.multi=[],o.index=e,o.componentProviders=0,Mb(o,i,r&&!n),o}function Bg(t,e=[]){return n=>{n.providersResolver=(r,i)=>hF(r,i?i(t):t,e)}}var gF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=YI(!1,r.type),o=i.length>0?Vg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(V(Dt))});let t=e;return t})();function X(t){Mo("NgStandalone"),t.getStandaloneInjector=e=>e.get(gF).getOrCreateStandaloneInjector(t)}function Zs(t,e){return Vd(t,e)}var Kr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Pb=new Kr("17.2.4"),Bd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ob=new G("");function Ro(t){return!!t&&typeof t.then=="function"}function Rb(t){return!!t&&typeof t.subscribe=="function"}var Nb=new G(""),kb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(Nb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ro(s))r.push(s);else if(Rb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$d=new G("");function yF(){H0(()=>{throw new P(600,!1)})}function vF(t){return t.isBoundToModule}function _F(t,e,n){try{let r=n();return Ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var br=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(mC),this.afterRenderEffectManager=O(lb),this.componentTypes=[],this.components=[],this.isStable=O(Po).hasPendingTasks.pipe(re(r=>!r)),this._injector=O(Dt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof dd;if(!this._injector.get(kb).done){let f=!o&&mI(r),g=!1;throw new P(405,g)}let a;o?a=r:a=this._injector.get(Ld).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=vF(a)?void 0:this._injector.get(Ai),l=i||a.selector,u=a.create(Qe.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Ob,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Zp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===rb)throw new P(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!em(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>em(s))&&(i.execute(),!this._views.some(({_lView:s})=>em(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[te]|=1024):r[te]&64?s=0:s=1,ib(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Zp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($d,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Zp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function em(t){return ag(t)}var Ym=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$g=(()=>{let e=class e{compileModuleSync(r){return new zm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=gI(r),s=PC(o.declarations).reduce((a,c)=>{let l=Di(c);return l&&a.push(new Ws(l)),a},[]);return new Ym(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wF=(()=>{let e=class e{constructor(){this.zone=O(Ce),this.applicationRef=O(br)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EF(t){return[{provide:Ce,useFactory:t},{provide:qs,multi:!0,useFactory:()=>{let e=O(wF,{optional:!0});return()=>e.initialize()}},{provide:qs,multi:!0,useFactory:()=>{let e=O(TF);return()=>{e.initialize()}}},{provide:mC,useFactory:IF}]}function IF(){let t=O(Ce),e=O(wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function CF(t){let e=EF(()=>new Ce(bF(t)));return Oi([[],e])}function bF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var TF=(()=>{let e=class e{constructor(){this.subscription=new nt,this.initialized=!1,this.zone=O(Ce),this.pendingTasks=O(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DF(){return typeof $localize<"u"&&$localize.locale||gd}var Hg=new G("",{providedIn:"root",factory:()=>O(Hg,_e.Optional|_e.SkipSelf)||DF()});var Fb=new G("");var Zu=null;function SF(t=[],e){return Qe.create({name:e,providers:[{provide:Ad,useValue:"platform"},{provide:Fb,useValue:new Set([()=>Zu=null])},...t]})}function AF(t=[]){if(Zu)return Zu;let e=SF(t);return Zu=e,yF(),xF(e),e}function xF(t){t.get(gg,null)?.forEach(n=>n())}var ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MF;let t=e;return t})();function MF(t){return PF(fn(),Me(),(t&16)===16)}function PF(t,e,n){if(wd(t)&&!n){let r=Mi(t.index,e);return new To(r,r)}else if(t.type&47){let r=e[yr];return new To(r,e)}return null}var Xm=class{constructor(){}supports(e){return pb(e)}create(e){return new Jm(e)}},OF=(t,e)=>e,Jm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||OF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<sI(r,i,o)?n:r,a=sI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!pb(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,A1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new yd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},eg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new eg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function aI(){return new zg([new Xm])}var zg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||aI()),deps:[[e,new WI,new on]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new P(901,!1)}};e.\u0275prov=F({token:e,providedIn:"root",factory:aI});let t=e;return t})();function Vb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=AF(r),o=[CF(),...n||[]],a=new pd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ce);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(wr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Fb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),_F(l,c,()=>{let f=a.get(kb);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Hg,gd);lF(g||gd);let E=a.get(br);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Vn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var RF=new G("",{providedIn:"root",factory:()=>O(NF)}),NF=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new tg});let t=e;return t})(),tg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=O(Po),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},ng=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=W0(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ea(t,e){Mo("NgSignals"),!e?.injector&&VR(ea);let n=e?.injector??O(Qe),r=e?.manualCleanup!==!0?n.get(cb):null,i=new ng(n.get(RF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(ki,null,{optional:!0});return!o||!(o._lView[te]&8)?i.watcher.notify():(o._lView[Wu]??=[]).push(i.watcher.notify),i}function Hd(t,e){let n=Di(t),r=e.elementInjector||xd();return new Ws(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Hb=null;function ni(){return Hb}function zb(t){Hb??=t}var zd=class{};var Bt=new G(""),qb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(FF),providedIn:"platform"});let t=e;return t})();var FF=(()=>{let e=class e extends qb{constructor(){super(),this._doc=O(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(r){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Gb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Lb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function No(t){return t&&t[0]!=="?"?"?"+t:t}var qd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(Wb),providedIn:"root"});let t=e;return t})(),VF=new G(""),Wb=(()=>{let e=class e extends qd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Gb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+No(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+No(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+No(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(V(qb),V(VF,8))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ec=(()=>{let e=class e{constructor(r){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=UF(Lb(jb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+No(i))}normalize(r){return e.stripTrailingSlash(jF(this._basePath,jb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+No(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+No(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=No,e.joinWithSlash=Gb,e.stripTrailingSlash=Lb,e.\u0275fac=function(i){return new(i||e)(V(qd))},e.\u0275prov=F({token:e,factory:()=>LF(),providedIn:"root"});let t=e;return t})();function LF(){return new Ec(V(qd))}function jF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jb(t){return t.replace(/\/index.html$/,"")}function UF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qg=/\s+/,Ub=[],pn=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Ub,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(qg):Ub}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(qg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(qg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(M(jt),M(xo))},e.\u0275dir=st({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ne.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Gg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Gg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Bb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Bb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(er),M(zg))},e.\u0275dir=st({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Bb(t,e){t.context.$implicit=e.item}var ze=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Wg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){$b("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){$b("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(er))},e.\u0275dir=st({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wg=class{constructor(){this.$implicit=null,this.ngIf=null}};function $b(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${tn(e)}'.`)}var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nn({type:e}),e.\u0275inj=rn({});let t=e;return t})(),Kb="browser",BF="server";function Ic(t){return t===BF}var ta=class{};var bc=class{},Tc=class{},ri=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Yg=class{encodeKey(e){return Qb(e)}encodeValue(e){return Qb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var qF=/%(\d[a-f0-9])/gi,GF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qb(t){return encodeURIComponent(t).replace(qF,(e,n)=>GF[n]??e)}function Wd(t){return`${t}`}var Vi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Wd):[Wd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function WF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Xb(t){return typeof Blob<"u"&&t instanceof Blob}function Jb(t){return typeof FormData<"u"&&t instanceof FormData}function KF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Cc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(WF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ri,this.context??=new Xg,!this.params)this.params=new Vi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Yb(this.body)||Xb(this.body)||Jb(this.body)||KF(this.body)||typeof this.body=="string"?this.body:this.body instanceof Vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Jb(this.body)?null:Xb(this.body)?this.body.type||null:Yb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Li=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Li||{}),Dc=class{constructor(e,n=Ac.Ok,r="OK"){this.headers=e.headers||new ri,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kd=class t extends Dc{constructor(e={}){super(e),this.type=Li.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sc=class t extends Dc{constructor(e={}){super(e),this.type=Li.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fi=class extends Dc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ac=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ac||{});function Kg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ko=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Cc)s=r;else{let l;o.headers instanceof ri?l=o.headers:l=new ri(o.headers);let u;o.params&&(o.params instanceof Vi?u=o.params:u=new Vi({fromObject:o.params})),s=new Cc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ae(s).pipe(Ii(l=>this.handler.handle(l)));if(r instanceof Cc||o.observe==="events")return a;let c=a.pipe(bt(l=>l instanceof Sc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(re(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Vi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Kg(o,i))}post(r,i,o={}){return this.request("POST",r,Kg(o,i))}put(r,i,o={}){return this.request("PUT",r,Kg(o,i))}};e.\u0275fac=function(i){return new(i||e)(V(bc))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),QF=/^\)\]\}',?\n/,YF="X-Request-URL";function Zb(t){if(t.url)return t.url;let e=YF.toLocaleLowerCase();return t.headers.get(e)}var Qg=(()=>{let e=class e{constructor(){this.fetchImpl=O(Jg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=O(Ce)}handle(r){return new se(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Zg,s=>i.error(new Fi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return v(this,null,function*(){let s=this.createRequestInit(r),a;try{let g=this.fetchImpl(r.urlWithParams,R({signal:i},s));XF(g),o.next({type:Li.Sent}),a=yield g}catch(g){o.error(new Fi({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let c=new ri(a.headers),l=a.statusText,u=Zb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new Kd({headers:c,status:d,statusText:l,url:u})),a.body){let g=a.headers.get("content-length"),E=[],T=a.body.getReader(),D=0,j,$,p=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){let{done:x,value:W}=yield T.read();if(x)break;if(E.push(W),D+=W.length,r.reportProgress){$=r.responseType==="text"?($??"")+(j??=new TextDecoder).decode(W,{stream:!0}):void 0;let ue=()=>o.next({type:Li.DownloadProgress,total:g?+g:void 0,loaded:D,partialText:$});p?p.run(ue):ue()}}}));let K=this.concatChunks(E,D);try{let x=a.headers.get("Content-Type")??"";h=this.parseBody(r,K,x)}catch(x){o.error(new Fi({error:x,headers:new ri(a.headers),status:a.status,statusText:a.statusText,url:Zb(a)??r.urlWithParams}));return}}d===0&&(d=h?Ac.Ok:0),d>=200&&d<300?(o.next(new Sc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Fi({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(QF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Jg=class{};function Zg(){}function XF(t){t.then(Zg,Zg)}function JF(t,e){return e(t)}function ZF(t,e,n){return(r,i)=>Yr(n,()=>e(r,o=>t(o,i)))}var ey=new G(""),eV=new G(""),nT=new G("");var eT=(()=>{let e=class e extends bc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(Po);let o=O(nT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ey),...this.injector.get(eV,[])]));this.chain=o.reduceRight((s,a)=>ZF(s,a,this.injector),JF)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(yo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(V(Tc),V(Dt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var tV=/^\)\]\}',?\n/;function nV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Le(i.\u0275loadImpl()):ae(null)).pipe(Tt(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((T,D)=>a.setRequestHeader(T,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let T=r.detectContentTypeHeader();T!==null&&a.setRequestHeader("Content-Type",T)}if(r.responseType){let T=r.responseType.toLowerCase();a.responseType=T!=="json"?T:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let T=a.statusText||"OK",D=new ri(a.getAllResponseHeaders()),j=nV(a)||r.url;return l=new Kd({headers:D,status:a.status,statusText:T,url:j}),l},d=()=>{let{headers:T,status:D,statusText:j,url:$}=u(),p=null;D!==Ac.NoContent&&(p=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=p?Ac.Ok:0);let K=D>=200&&D<300;if(r.responseType==="json"&&typeof p=="string"){let x=p;p=p.replace(tV,"");try{p=p!==""?JSON.parse(p):null}catch(W){p=x,K&&(K=!1,p={error:W,text:p})}}K?(s.next(new Sc({body:p,headers:T,status:D,statusText:j,url:$||void 0})),s.complete()):s.error(new Fi({error:p,headers:T,status:D,statusText:j,url:$||void 0}))},h=T=>{let{url:D}=u(),j=new Fi({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(j)},f=!1,g=T=>{f||(s.next(u()),f=!0);let D={type:Li.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},E=T=>{let D={type:Li.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",E)),a.send(c),s.next({type:Li.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",E)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(V(ta))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),rT=new G(""),rV="XSRF-TOKEN",iV=new G("",{providedIn:"root",factory:()=>rV}),oV="X-XSRF-TOKEN",sV=new G("",{providedIn:"root",factory:()=>oV}),Qd=class{},aV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(V(Bt),V(kn),V(iV))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function cV(t,e){let n=t.url.toLowerCase();if(!O(rT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Qd).getToken(),i=O(sV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ty=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ty||{});function iT(t,e){return{\u0275kind:t,\u0275providers:e}}function oT(...t){let e=[ko,tT,eT,{provide:bc,useExisting:eT},{provide:Tc,useExisting:tT},{provide:ey,useValue:cV,multi:!0},{provide:rT,useValue:!0},{provide:Qd,useClass:aV}];for(let n of t)e.push(...n.\u0275providers);return Oi(e)}function sT(t){return iT(ty.Interceptors,t.map(e=>({provide:ey,useValue:e,multi:!0})))}function aT(){return iT(ty.Fetch,[Qg,{provide:Tc,useExisting:Qg},{provide:nT,useExisting:Qg}])}var lT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new iy;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uV=function(t){let e=lT(t);return uT.encodeByteArray(e,!0)},xc=function(t){return uV(t).replace(/\./g,"")},sy=function(t){try{return uT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hV=()=>dV().__FIREBASE_DEFAULTS__,fV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&sy(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return hV()||fV()||pV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cy=t=>{var e,n;return(n=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dT=t=>{let e=cy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ly=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config},uy=t=>{var e;return(e=ay())===null||e===void 0?void 0:e[`_${t}`]};var Yd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xc(JSON.stringify(n)),xc(JSON.stringify(s)),""].join(".")}function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function pT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gT(){let t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dy(){try{return typeof indexedDB=="object"}catch{return!1}}function yT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var mV="FirebaseError",Tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}},ii=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function gV(t,e){return t.replace(yV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yV=/\{\$([^}]+)}/g;function vT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(cT(o)&&cT(s)){if(!Fo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function cT(t){return t!==null&&typeof t=="object"}function Mc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _T(t,e){let n=new oy(t,e);return n.subscribe.bind(n)}var oy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ry),i.error===void 0&&(i.error=ry),i.complete===void 0&&(i.complete=ry);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ry(){}var rQ=4*60*60*1e3;function ji(t){return t&&t._delegate?t._delegate:t}var Ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vo="[DEFAULT]";var hy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wV(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _V(t){return t===Vo?void 0:t}function wV(t){return t.instantiationMode==="EAGER"}var Xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var EV=[],Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{}),IV={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},CV=Pe.INFO,bV={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ui=class{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=TV,this._userLogHandler=null,EV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var DV=(t,e)=>e.some(n=>t instanceof n),wT,ET;function SV(){return wT||(wT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AV(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var IT=new WeakMap,py=new WeakMap,CT=new WeakMap,fy=new WeakMap,gy=new WeakMap;function xV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function MV(t){if(py.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});py.set(t,e)}var my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bT(t){my=t(my)}function PV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jd(this),e,...n);return CT.set(r,e.sort?e.sort():[e]),Tr(r)}:AV().includes(t)?function(...e){return t.apply(Jd(this),e),Tr(IT.get(this))}:function(...e){return Tr(t.apply(Jd(this),e))}}function OV(t){return typeof t=="function"?PV(t):(t instanceof IDBTransaction&&MV(t),DV(t,SV())?new Proxy(t,my):t)}function Tr(t){if(t instanceof IDBRequest)return xV(t);if(fy.has(t))return fy.get(t);let e=OV(t);return e!==t&&(fy.set(t,e),gy.set(e,t)),e}var Jd=t=>gy.get(t);function DT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Tr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Tr(s.result),c.oldVersion,c.newVersion,Tr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var RV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],yy=new Map;function TT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RV.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return yy.set(e,o),o}bT(t=>Ae(R({},t),{get:(e,n,r)=>TT(e,n)||t.get(e,n,r),has:(e,n)=>!!TT(e,n)||t.has(e,n)}));var _y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kV(t){let e=t.getComponent();return e?.type==="VERSION"}var wy="@firebase/app",ST="0.9.28";var Lo=new Ui("@firebase/app"),FV="@firebase/app-compat",VV="@firebase/analytics-compat",LV="@firebase/analytics",jV="@firebase/app-check-compat",UV="@firebase/app-check",BV="@firebase/auth",$V="@firebase/auth-compat",HV="@firebase/database",zV="@firebase/database-compat",qV="@firebase/functions",GV="@firebase/functions-compat",WV="@firebase/installations",KV="@firebase/installations-compat",QV="@firebase/messaging",YV="@firebase/messaging-compat",XV="@firebase/performance",JV="@firebase/performance-compat",ZV="@firebase/remote-config",eL="@firebase/remote-config-compat",tL="@firebase/storage",nL="@firebase/storage-compat",rL="@firebase/firestore",iL="@firebase/firestore-compat",oL="firebase",sL="10.8.1";var Ey="[DEFAULT]",aL={[wy]:"fire-core",[FV]:"fire-core-compat",[LV]:"fire-analytics",[VV]:"fire-analytics-compat",[UV]:"fire-app-check",[jV]:"fire-app-check-compat",[BV]:"fire-auth",[$V]:"fire-auth-compat",[HV]:"fire-rtdb",[zV]:"fire-rtdb-compat",[qV]:"fire-fn",[GV]:"fire-fn-compat",[WV]:"fire-iid",[KV]:"fire-iid-compat",[QV]:"fire-fcm",[YV]:"fire-fcm-compat",[XV]:"fire-perf",[JV]:"fire-perf-compat",[ZV]:"fire-rc",[eL]:"fire-rc-compat",[tL]:"fire-gcs",[nL]:"fire-gcs-compat",[rL]:"fire-fst",[iL]:"fire-fst-compat","fire-js":"fire-js",[oL]:"fire-js-all"};var Pc=new Map,Iy=new Map;function cL(t,e){try{t.container.addComponent(e)}catch(n){Lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){let e=t.name;if(Iy.has(e))return Lo.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(let n of Pc.values())cL(n,t);return!0}function Rc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bi=new ii("app","Firebase",lL);var Cy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}};var Hi=sL;function Dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=ly()),!n)throw Bi.create("no-options");let o=Pc.get(i);if(o){if(Fo(n,o.options)&&Fo(r,o.config))return o;throw Bi.create("duplicate-app",{appName:i})}let s=new Xd(i);for(let c of Iy.values())s.addComponent(c);let a=new Cy(n,r,s);return Pc.set(i,a),a}function na(t=Ey){let e=Pc.get(t);if(!e&&t===Ey&&ly())return Dy();if(!e)throw Bi.create("no-app",{appName:t});return e}function Zd(){return Array.from(Pc.values())}function yt(t,e,n){var r;let i=(r=aL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lo.warn(a.join(" "));return}$i(new Ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uL="firebase-heartbeat-database",dL=1,Oc="firebase-heartbeat-store",vy=null;function PT(){return vy||(vy=DT(uL,dL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),vy}function hL(t){return v(this,null,function*(){try{let n=(yield PT()).transaction(Oc),r=yield n.objectStore(Oc).get(OT(t));return yield n.done,r}catch(e){if(e instanceof Tn)Lo.warn(e.message);else{let n=Bi.create("idb-get",{originalErrorMessage:e?.message});Lo.warn(n.message)}}})}function AT(t,e){return v(this,null,function*(){try{let r=(yield PT()).transaction(Oc,"readwrite");yield r.objectStore(Oc).put(e,OT(t)),yield r.done}catch(n){if(n instanceof Tn)Lo.warn(n.message);else{let r=Bi.create("idb-set",{originalErrorMessage:n?.message});Lo.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var fL=1024,pL=30*24*60*60*1e3,by=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ty(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=pL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xT(),{heartbeatsToSend:r,unsentEntries:i}=mL(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function xT(){return new Date().toISOString().substring(0,10)}function mL(t,e=fL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ty=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return dy()?yT().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function MT(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}function gL(t){$i(new Ln("platform-logger",e=>new _y(e),"PRIVATE")),$i(new Ln("heartbeat",e=>new by(e),"PRIVATE")),yt(wy,ST,t),yt(wy,ST,"esm2017"),yt("fire-js","")}gL("");var yL="firebase",vL="10.8.1";yt(yL,vL,"app");var Uo=new Kr("ANGULARFIRE2_VERSION");function th(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Nc=(t,e)=>{let n=e?[e]:Zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ia=class{constructor(){return Nc(_L)}},_L="app-check";function ra(){}var eh=class{zone;delegate;constructor(e,n=xp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Sy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new eh(Zone.current)),this.insideAngular=n.run(()=>new eh(Zone.current,xs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(Ce))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wL(t){return nh().ngZone.runOutsideAngular(()=>t())}function jo(t){return nh().ngZone.run(()=>t())}function EL(t){return IL(nh())(t)}function IL(t){return function(n){return n=n.lift(new Sy(t.ngZone)),n.pipe(wi(t.outsideAngular),_i(t.insideAngular))}}var CL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),jo(()=>t.apply(void 0,r))},sa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra))),r[o]=CL(r[o],n));let i=wL(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=nh();return i.pipe(wi(o.outsideAngular),_i(o.insideAngular))}else return jo(()=>i);return i instanceof se?i.pipe(EL):i instanceof Promise?jo(()=>new Promise((o,s)=>i.then(a=>jo(()=>o(a)),a=>jo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:jo(()=>i)};var oi=class{constructor(e){return e}},Bo=class{constructor(){return Zd()}};function bL(t){return t&&t.length===1?t[0]:new oi(na())}var Ay=new G("angularfire2._apps"),TL={provide:oi,useFactory:bL,deps:[[new on,Ay]]},DL={provide:Bo,deps:[[new on,Ay]]};function SL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new oi(r)}}var AL=(()=>{class t{constructor(n){yt("angularfire",Uo.full,"core"),yt("angularfire",Uo.full,"app"),yt("angular",Pb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(V(kn))};static \u0275mod=nn({type:t});static \u0275inj=rn({providers:[TL,DL]})}return t})();function RT(t,...e){return{ngModule:AL,providers:[{provide:Ay,useFactory:SL(t),multi:!0,deps:[Ce,Qe,oa,...e]}]}}var NT=sa(Dy,!0);function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QT=KT,YT=new ii("auth","Firebase",KT());var ch=new Ui("@firebase/auth");function xL(t,...e){ch.logLevel<=Pe.WARN&&ch.warn(`Auth (${Hi}): ${t}`,...e)}function ih(t,...e){ch.logLevel<=Pe.ERROR&&ch.error(`Auth (${Hi}): ${t}`,...e)}function qi(t,...e){throw Ky(t,...e)}function $o(t,...e){return Ky(t,...e)}function ML(t,e,n){let r=Object.assign(Object.assign({},QT()),{[e]:n});return new ii("auth","Firebase",r).create(e,{appName:t.name})}function Ky(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YT.create(t,...e)}function de(t,e,...n){if(!t)throw Ky(e,...n)}function si(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Gi(t,e){t||si(e)}function Oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PL(){return kT()==="http:"||kT()==="https:"}function kT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||pT()||"connection"in navigator)?navigator.onLine:!0}function RL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ho=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=fT()||mT()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Qy(t,e){Gi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var lh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var kL=new Ho(3e4,6e4);function Yy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function aa(o,s,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return XT(t,i,()=>v(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Mc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),lh.fetch()(JT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function XT(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},NL),e);try{let i=new Ry(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw rh(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ML(t,u,l);qi(t,u)}}catch(i){if(i instanceof Tn)throw i;qi(t,"network-request-failed",{message:String(i)})}})}function FL(o,s,a,c){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield aa(t,e,n,r,i);return"mfaPendingCredential"in l&&qi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function JT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Qy(t.config,i):`${t.config.apiScheme}://${i}`}var Ry=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($o(this.auth,"network-request-failed")),kL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=$o(t,e,r);return i.customData._tokenResponse=n,i}function VL(t,e){return v(this,null,function*(){return aa(t,"POST","/v1/accounts:delete",e)})}function LL(t,e){return v(this,null,function*(){return aa(t,"POST","/v1/accounts:lookup",e)})}function kc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xy(t,e=!1){return v(this,null,function*(){let n=ji(t),r=yield n.getIdToken(e),i=Jy(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:kc(xy(i.auth_time)),issuedAtTime:kc(xy(i.iat)),expirationTime:kc(xy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function xy(t){return Number(t)*1e3}function Jy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=sy(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jL(t){let e=Jy(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tn&&UL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function UL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dh(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fc(t,LL(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$L(o.providerUserInfo):[],a=BL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Zy(t){return v(this,null,function*(){let e=ji(t);yield dh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function BL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $L(t){return t.map(e=>{var{providerId:n}=e,r=Pp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HL(t,e){return v(this,null,function*(){let n=yield XT(t,{},()=>v(this,null,function*(){let r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zL(t,e){return v(this,null,function*(){return aa(t,"POST","/v2/accounts:revokeToken",Yy(t,e))})}var hh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return v(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield HL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return si("not implemented")}};function zi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Fc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Xy(this,e)}reload(){return Zy(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield dh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){let e=yield this.getIdToken();return yield Fc(this,VL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:$,emailVerified:p,isAnonymous:K,providerData:x,stsTokenManager:W}=n;de($&&W,e,"internal-error");let ue=hh.fromJSON(this.name,W);de(typeof $=="string",e,"internal-error"),zi(d,e.name),zi(h,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof K=="boolean",e,"internal-error"),zi(f,e.name),zi(g,e.name),zi(E,e.name),zi(T,e.name),zi(D,e.name),zi(j,e.name);let Ie=new t({uid:$,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:K,photoURL:g,phoneNumber:f,tenantId:E,stsTokenManager:ue,createdAt:D,lastLoginAt:j});return x&&Array.isArray(x)&&(Ie.providerData=x.map(Te=>Object.assign({},Te))),T&&(Ie._redirectEventId=T),Ie}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new hh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dh(o),o})}};var FT=new Map;function ai(t){Gi(t instanceof Function,"Expected a class definition");let e=FT.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FT.set(t,e),e)}var qL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ky=qL;function oh(t,e,n){return`firebase:${t}:${e}:${n}`}var fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,o),this.fullPersistenceKey=oh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(ai(ky),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ai(ky),s=oh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Vc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function VT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(ev(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZT(t=At()){return/firefox\//i.test(t)}function ev(t=At()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=At()){return/crios\//i.test(t)}function tD(t=At()){return/iemobile/i.test(t)}function nD(t=At()){return/android/i.test(t)}function rD(t=At()){return/blackberry/i.test(t)}function iD(t=At()){return/webos/i.test(t)}function Eh(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GL(t=At()){var e;return Eh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WL(){return gT()&&document.documentMode===10}function oD(t=At()){return Eh(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}function KL(){try{return!!(window&&window!==window.top)}catch{return!1}}function sD(t,e=[]){let n;switch(t){case"Browser":n=VT(At());break;case"Worker":n=`${VT(At())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}var Fy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QL(n){return v(this,arguments,function*(t,e={}){return aa(t,"GET","/v2/passwordPolicy",Yy(t,e))})}var YL=6,Vy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:YL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ly=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new Fy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield fh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=RL()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){let n=e?ji(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield QL(this),n=new Vy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ai(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield fh.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tv(t){return ji(t)}var ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_T(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nv={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XL(t){nv=t}function JL(t){return nv.loadJS(t)}function ZL(){return nv.gapiScript}function aD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function rv(t,e){let n=Rc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Fo(o,e??{}))return i;qi(i,"already-initialized")}return n.initialize({options:e})}function e2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iv(t,e,n){let r=tv(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=cD(e),{host:s,port:a}=t2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||n2()}function cD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t2(t){let e=cD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:LT(s)}}}function LT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function n2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var mh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}};function My(t,e){return v(this,null,function*(){return FL(t,"POST","/v1/accounts:signInWithIdp",Yy(t,e))})}var gh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jy=class extends gh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Lc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Vc._fromIdTokenResponse(e,r,i),s=jT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Uy=class t extends Tn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uy._fromErrorAndOperation(t,o,e,r):o})}function r2(t,e,n=!1){return v(this,null,function*(){let r=yield Fc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Lc._forOperation(t,"link",r)})}function i2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Fc(t,lD(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=Jy(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),Lc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qi(r,"user-mismatch"),o}})}function o2(t,e,n=!1){return v(this,null,function*(){let r="signIn",i=yield lD(t,r,e),o=yield Lc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function ov(t,e,n,r){return ji(t).onIdTokenChanged(e,n,r)}function sv(t,e,n){return ji(t).beforeAuthStateChanged(e,n)}var yh="__sak";var vh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function s2(){let t=At();return ev(t)||Eh(t)}var a2=1e3,c2=10,l2=(()=>{class t extends vh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=s2()&&KL(),this.fallbackToPolling=oD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);WL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,c2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield gi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield gi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield gi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uD=l2;var u2=(()=>{class t extends vh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),av=u2;function d2(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var h2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>v(this,null,function*(){return u(r.origin,s)})),l=yield d2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var By=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=dD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Dr(){return window}function f2(t){Dr().location.href=t}function hD(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}function p2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function m2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g2(){return hD()?self:null}var fD="firebaseLocalStorageDb",y2=1,_h="firebaseLocalStorage",pD="fbase_key",zo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ih(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function v2(){let t=indexedDB.deleteDatabase(fD);return new zo(t).toPromise()}function $y(){let t=indexedDB.open(fD,y2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(_h,{keyPath:pD})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),yield v2(),e(yield $y()))}))})}function UT(t,e,n){return v(this,null,function*(){let r=Ih(t,!0).put({[pD]:e,value:n});return new zo(r).toPromise()})}function _2(t,e){return v(this,null,function*(){let n=Ih(t,!1).get(e),r=yield new zo(n).toPromise();return r===void 0?null:r.value})}function BT(t,e){let n=Ih(t,!0).delete(e);return new zo(n).toPromise()}var w2=800,E2=3,I2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield $y(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>E2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return hD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=h2._getInstance(g2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield p2(),!this.activeServiceWorker)return;this.sender=new By(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||m2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield $y();return yield UT(n,yh,"1"),yield BT(n,yh),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>UT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>_2(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>BT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ih(o,!1).getAll();return new zo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),mD=I2;var QQ=aD("rcb"),YQ=new Ho(3e4,6e4);function C2(t,e){return e?ai(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var jc=class extends mh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return My(e,this._buildIdpRequest())}_linkToIdToken(e,n){return My(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return My(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function b2(t){return o2(t.auth,new jc(t),t.bypassAuthState)}function T2(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),i2(n,new jc(t),t.bypassAuthState)}function D2(t){return v(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),r2(n,new jc(t),t.bypassAuthState)})}var Hy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:qi(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var XQ=new Ho(2e3,1e4);var S2="pendingRedirect",sh=new Map,zy=class t extends Hy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=sh.get(this.auth._key());if(!e){try{let r=(yield A2(this.resolver,this.auth))?yield gi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return gi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,gi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function A2(t,e){return v(this,null,function*(){let n=P2(e),r=M2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function x2(t,e){sh.set(t._key(),e)}function M2(t){return ai(t._redirectPersistence)}function P2(t){return oh(S2,t.config.apiKey,t.name)}function O2(t,e,n=!1){return v(this,null,function*(){let r=tv(t),i=C2(r,e),s=yield new zy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var R2=10*60*1e3,qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($o(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}};function $T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function N2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gD(t);default:return!1}}function k2(n){return v(this,arguments,function*(t,e={}){return aa(t,"GET","/v1/projects",e)})}var F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V2=/^https?/;function L2(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield k2(t);for(let n of e)try{if(j2(n))return}catch{}qi(t,"unauthorized-domain")})}function j2(t){let e=Oy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!V2.test(n))return!1;if(F2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var U2=new Ho(3e4,6e4);function HT(){let t=Dr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B2(t){return new Promise((e,n)=>{var r,i,o;function s(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n($o(t,"network-request-failed"))},timeout:U2.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)s();else{let a=aD("iframefcb");return Dr()[a]=()=>{gapi.load?s():n($o(t,"network-request-failed"))},JL(`${ZL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ah=null,e})}var ah=null;function $2(t){return ah=ah||B2(t),ah}var H2=new Ho(5e3,15e3),z2="__/auth/iframe",q2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Qy(e,q2):`https://${t.config.authDomain}/${z2}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},i=W2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mc(r).slice(1)}`}function Q2(t){return v(this,null,function*(){let e=yield $2(t),n=Dr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:K2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=$o(t,"network-request-failed"),a=Dr().setTimeout(()=>{o(s)},H2.get());function c(){Dr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X2=500,J2=600,Z2="_blank",ej="http://localhost",wh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tj(t,e,n,r=X2,i=J2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Y2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=At().toLowerCase();n&&(a=eD(l)?Z2:n),ZT(l)&&(e=e||ej,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(GL(l)&&a!=="_self")return nj(e||"",a),new wh(null);let d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new wh(d)}function nj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rj="__/auth/handler",ij="emulator/auth/handler",oj=encodeURIComponent("fac");function zT(t,e,n,r,i,o){return v(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:i};if(e instanceof gh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",vT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof jy){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${oj}=${encodeURIComponent(c)}`:"";return`${sj(t)}?${Mc(a).slice(1)}${l}`})}function sj({config:t}){return t.emulator?Qy(t,ij):`https://${t.authDomain}/${rj}`}var Py="webStorageSupport",Gy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=av,this._completeRedirectFn=O2,this._overrideRedirectResult=x2}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield zT(e,n,r,Oy(),i);return tj(e,s,dD())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield zT(e,n,r,Oy(),i);return f2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Q2(e),r=new qy(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Py];s!==void 0&&n(!!s),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oD()||ev()||Eh()}},yD=Gy;var qT="@firebase/auth",GT="1.6.1";var Wy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){$i(new Ln("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sD(t)},l=new Ly(r,i,o,c);return e2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$i(new Ln("auth-internal",e=>{let n=tv(e.getProvider("auth").getImmediate());return(r=>new Wy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yt(qT,GT,aj(t)),yt(qT,GT,"esm2017")}var lj=5*60,uj=uy("authIdTokenMaxAge")||lj,WT=null,dj=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uj)return;let i=n?.token;WT!==i&&(WT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cv(t=na()){let e=Rc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=rv(t,{popupRedirectResolver:yD,persistence:[mD,uD,av]}),r=uy("authTokenSyncURL");if(r){let o=dj(r);sv(n,o,()=>o(n.currentUser)),ov(n,s=>o(s))}let i=cy("auth");return i&&iv(n,`http://${i}`),n}function hj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=$o("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var vD="auth",Uc=class{constructor(e){return e}},Bc=class{constructor(){return Nc(vD)}};var lv=new G("angularfire2.auth-instances");function s3(t,e){let n=th(vD,t,e);return n&&new Uc(n)}function a3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Uc(r)}}var c3={provide:Bc,deps:[[new on,lv]]},l3={provide:Uc,useFactory:s3,deps:[[new on,lv],oi]},u3=(()=>{class t{constructor(){yt("angularfire",Uo.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=rn({providers:[l3,c3]})}return t})();function _D(t,...e){return{ngModule:u3,providers:[{provide:lv,useFactory:a3(t),multi:!0,deps:[Ce,Qe,oa,Bo,[new on,ia],...e]}]}}var wD=sa(cv,!0);var d3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={},U,Pv=Pv||{},ce=d3||self;function Fh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function h3(t){return Object.prototype.hasOwnProperty.call(t,uv)&&t[uv]||(t[uv]=++f3)}var uv="closure_uid_"+(1e9*Math.random()>>>0),f3=0;function p3(t,e,n){return t.call.apply(t.bind,arguments)}function m3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=p3:Yt=m3,Yt.apply(null,arguments)}function Ch(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Wi(){this.s=this.s,this.o=this.o}var g3=0;Wi.prototype.s=!1;Wi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),g3!=0)&&h3(this)};Wi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var RD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ov(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ED(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Fh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var y3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Wc(t){return/^[\s\xa0]*$/.test(t)}function Vh(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return Vh().indexOf(t)!=-1}function Rv(t){return Rv[" "](t),t}Rv[" "]=function(){};function v3(t,e){var n=sU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _3=Sr("Opera"),da=Sr("Trident")||Sr("MSIE"),ND=Sr("Edge"),mv=ND||da,kD=Sr("Gecko")&&!(Vh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),w3=Vh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge");function FD(){var t=ce.document;return t?t.documentMode:void 0}var gv;e:{if(bh="",Th=function(){var t=Vh();if(kD)return/rv:([^\);]+)(\)|;)/.exec(t);if(ND)return/Edge\/([\d\.]+)/.exec(t);if(da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(w3)return/WebKit\/(\S+)/.exec(t);if(_3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Th&&(bh=Th?Th[1]:""),da&&(Dh=FD(),Dh!=null&&Dh>parseFloat(bh))){gv=String(Dh);break e}gv=bh}var bh,Th,Dh,yv;ce.document&&da?(dv=FD(),yv=dv||parseInt(gv,10)||void 0):yv=void 0;var dv,E3=yv;function Kc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kD){e:{try{Rv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:I3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kc.$.h.call(this)}}Mt(Kc,Xt);var I3={2:"touch",3:"pen",4:"mouse"};Kc.prototype.h=function(){Kc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),C3=0;function b3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++C3,this.fa=this.ia=!1}function Lh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Nv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function T3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function VD(t){let e={};for(let n in t)e[n]=t[n];return e}var ID="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<ID.length;o++)n=ID[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jh(t){this.src=t,this.g={},this.h=0}jh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=_v(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new b3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function vv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=RD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _v(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var kv="closure_lm_"+(1e6*Math.random()|0),hv={};function jD(t,e,n,r,i){if(r&&r.once)return BD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jD(t,e[o],n,r,i);return null}return n=Lv(n),t&&t[nl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):UD(t,e,n,!1,r,i)}function UD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=tl(i)?!!i.capture:!!i,a=Vv(t);if(a||(t[kv]=a=new jh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=D3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)y3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(HD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function D3(){function t(n){return e.call(t.src,t.listener,n)}let e=S3;return t}function BD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)BD(t,e[o],n,r,i);return null}return n=Lv(n),t&&t[nl]?t.P(e,n,tl(r)?!!r.capture:!!r,i):UD(t,e,n,!0,r,i)}function $D(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$D(t,e[o],n,r,i);else r=tl(r)?!!r.capture:!!r,n=Lv(n),t&&t[nl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=_v(o,n,r,i),-1<n&&(Lh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_v(e,n,r,i)),(n=-1<t?e[t]:null)&&Fv(n))}function Fv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[nl])vv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(HD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vv(e))?(vv(n,t),n.h==0&&(n.src=null,e[kv]=null)):Lh(t)}}}function HD(t){return t in hv?hv[t]:hv[t]="on"+t}function S3(t,e){if(t.fa)t=!0;else{e=new Kc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fv(t),t=n.call(r,e)}return t}function Vv(t){return t=t[kv],t instanceof jh?t:null}var fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(t){return typeof t=="function"?t:(t[fv]||(t[fv]=function(e){return t.handleEvent(e)}),t[fv])}function xt(){Wi.call(this),this.i=new jh(this),this.S=this,this.J=null}Mt(xt,Wi);xt.prototype[nl]=!0;xt.prototype.removeEventListener=function(t,e,n,r){$D(this,t,e,n,r)};function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var i=e;e=new Xt(r,t),LD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Sh(s,r,!0,e)&&i}if(s=e.g=t,i=Sh(s,r,!0,e)&&i,i=Sh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Sh(s,r,!1,e)&&i}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lh(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&vv(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var jv=ce.JSON.stringify,wv=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function A3(){var t=Uv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ev=class{constructor(){this.h=this.g=null}add(e,n){let r=zD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},zD=new wv(()=>new Iv,t=>t.reset()),Iv=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function x3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function M3(t){ce.setTimeout(()=>{throw t},0)}var Qc,Yc=!1,Uv=new Ev,qD=()=>{let t=ce.Promise.resolve(void 0);Qc=()=>{t.then(P3)}},P3=()=>{for(var t;t=A3();){try{t.h.call(t.g)}catch(n){M3(n)}var e=zD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yc=!1};function Uh(t,e){xt.call(this),this.h=t||1,this.g=e||ce,this.j=Yt(this.qb,this),this.l=Date.now()}Mt(Uh,xt);U=Uh.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(Bv(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Uh.$.N.call(this),Bv(this),delete this.g};function $v(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function GD(t){t.g=$v(()=>{t.g=null,t.i&&(t.i=!1,GD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Cv=class extends Wi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GD(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Xc(t){Wi.call(this),this.h=t,this.g={}}Mt(Xc,Wi);var CD=[];function WD(t,e,n,r){Array.isArray(n)||(n&&(CD[0]=n.toString()),n=CD);for(var i=0;i<n.length;i++){var o=jD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function KD(t){Nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fv(e)},t),t.g={}}Xc.prototype.N=function(){Xc.$.N.call(this),KD(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bh(){this.g=!0}Bh.prototype.Ea=function(){this.g=!1};function O3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function R3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+k3(t,n)+(r?" "+r:"")})}function N3(t,e){t.info(function(){return"TIMEOUT: "+e})}Bh.prototype.info=function(){};function k3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return jv(n)}catch{return e}}var Ko={},bD=null;function $h(){return bD=bD||new xt}Ko.Ta="serverreachability";function QD(t){Xt.call(this,Ko.Ta,t)}Mt(QD,Xt);function Jc(t){let e=$h();Ht(e,new QD(e))}Ko.STAT_EVENT="statevent";function YD(t,e){Xt.call(this,Ko.STAT_EVENT,t),this.stat=e}Mt(YD,Xt);function sn(t){let e=$h();Ht(e,new YD(e,t))}Ko.Ua="timingevent";function XD(t,e){Xt.call(this,Ko.Ua,t),this.size=e}Mt(XD,Xt);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hv(){}Hv.prototype.h=null;function TD(t){return t.h||(t.h=t.i())}function ZD(){}var il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zv(){Xt.call(this,"d")}Mt(zv,Xt);function qv(){Xt.call(this,"c")}Mt(qv,Xt);var bv;function zh(){}Mt(zh,Hv);zh.prototype.g=function(){return new XMLHttpRequest};zh.prototype.i=function(){return{}};bv=new zh;function ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xc(this),this.P=F3,t=mv?125:void 0,this.V=new Uh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eS}function eS(){this.i=null,this.g="",this.h=!1}var F3=45e3,tS={},Tv={};U=ol.prototype;U.setTimeout=function(t){this.P=t};function Dv(t,e,n){t.L=1,t.A=Gh(li(e)),t.u=n,t.S=!0,nS(t,null)}function nS(t,e){t.G=Date.now(),sl(t),t.B=li(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new eS,t.g=PS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Cv(Yt(t.Pa,t,t.g),t.O)),WD(t.U,t.g,"readystatechange",t.nb),e=t.I?VD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Jc(),O3(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&Ar(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let u=Ar(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||mv||this.g&&(this.h.h||this.g.ja()||xD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Jc(3):Jc(2)),qh(this);var n=this.g.da();this.ca=n;t:if(rS(this)){var r=xD(this.g);t="";var i=r.length,o=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qo(this),Gc(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,R3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wc(a)){var l=a;break t}}l=null}if(n=l)la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sv(this,n);else{this.i=!1,this.s=3,sn(12),qo(this),Gc(this);break e}}this.S?(iS(this,u,s),mv&&this.i&&u==3&&(WD(this.U,this.V,"tick",this.mb),this.V.start())):(la(this.j,this.m,s,null),Sv(this,s)),u==4&&qo(this),this.i&&!this.J&&(u==4?SS(this.l,this):(this.i=!1,sl(this)))}else rU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),qo(this),Gc(this)}}}catch{}finally{}};function rS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function iS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=V3(t,n),i==Tv){e==4&&(t.s=4,sn(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tS){t.s=4,sn(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else la(t.j,t.m,i,null),Sv(t,i);rS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xv(e),e.M=!0,sn(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),qo(t),Gc(t))}U.mb=function(){if(this.g){var t=Ar(this.g),e=this.g.ja();this.o<e.length&&(qh(this),iS(this,t,e),this.i&&t!=4&&sl(this))}};function V3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Tv:(n=Number(e.substring(n,r)),isNaN(n)?tS:(r+=1,r+n>e.length?Tv:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,qo(this)};function sl(t){t.Y=Date.now()+t.P,oS(t,t.P)}function oS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=rl(Yt(t.lb,t),e)}function qh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(N3(this.j,this.B),this.L!=2&&(Jc(),sn(17)),qo(this),this.s=2,Gc(this)):oS(this,this.Y-t)};function Gc(t){t.l.H==0||t.J||SS(t.l,t)}function qo(t){qh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Bv(t.V),KD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Av(n.i,t))){if(!t.K&&Av(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Oh(n),Qh(n);else break e;Yv(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rl(Yt(n.ib,n),6e3));if(1>=fS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Go(n,11)}else if((t.K||n.g==t)&&Oh(n),!Wc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Gv(o,o.h),o.h=null))}if(r.F){let E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Be(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=MS(r,r.J?r.pa:null,r.Y),s.K){pS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(qh(a),sl(a)),r.g=s}else TS(r);0<n.j.length&&Yh(n)}else l[0]!="stop"&&l[0]!="close"||Go(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Go(n,7):Qv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Jc(4)}catch{}}function L3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function j3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function sS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j3(t),r=L3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var aS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wo){this.h=t.h,Mh(this,t.j),this.s=t.s,this.g=t.g,Ph(this,t.m),this.l=t.l;var e=t.i,n=new Zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DD(this,n),this.o=t.o}else t&&(e=String(t).match(aS))?(this.h=!1,Mh(this,e[1]||"",!0),this.s=zc(e[2]||""),this.g=zc(e[3]||"",!0),Ph(this,e[4]),this.l=zc(e[5]||"",!0),DD(this,e[6]||"",!0),this.o=zc(e[7]||"")):(this.h=!1,this.i=new Zc(null,this.h))}Wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qc(e,SD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qc(e,SD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qc(n,n.charAt(0)=="/"?H3:$3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qc(n,q3)),t.join("")};function li(t){return new Wo(t)}function Mh(t,e,n){t.j=n?zc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ph(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DD(t,e,n){e instanceof Zc?(t.i=e,G3(t.i,t.h)):(n||(e=qc(e,z3)),t.i=new Zc(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function Gh(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,B3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function B3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SD=/[#\/\?@]/g,$3=/[#\?:]/g,H3=/[#\?]/g,z3=/[#\?@]/g,q3=/#/g;function Zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ki(t){t.g||(t.g=new Map,t.h=0,t.i&&U3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=Zc.prototype;U.add=function(t,e){Ki(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function cS(t,e){Ki(t),e=ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lS(t,e){return Ki(t),e=ha(t,e),t.g.has(e)}U.forEach=function(t,e){Ki(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Ki(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};U.Z=function(t){Ki(this);let e=[];if(typeof t=="string")lS(this,t)&&(e=e.concat(this.g.get(ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Ki(this),this.i=null,t=ha(this,t),lS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uS(t,e,n){cS(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),Ov(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function G3(t,e){e&&!t.j&&(Ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(cS(this,r),uS(this,i,n))},t)),t.j=e}var W3=class{constructor(t,e){this.g=t,this.map=e}};function dS(t){this.l=t||K3,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var K3=10;function hS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fS(t){return t.h?1:t.g?t.g.size:0}function Av(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gv(t,e){t.g?t.g.add(e):t.h=e}function pS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dS.prototype.cancel=function(){if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function mS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Ov(t.i)}var Q3=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function Y3(){this.g=new Q3}function X3(t,e,n){let r=n||"";try{sS(t,function(i,o){let s=i;tl(i)&&(s=jv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function J3(t,e){let n=new Bh;if(ce.Image){let r=new Image;r.onload=Ch(Ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ch(Ah,n,r,"TestLoadImage: error",!1,e),r.onabort=Ch(Ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ch(Ah,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function al(t){this.l=t.ec||null,this.j=t.ob||!1}Mt(al,Hv);al.prototype.g=function(){return new Wh(this.l,this.j)};al.prototype.i=function(t){return function(){return t}}({});function Wh(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Wv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(Wh,xt);var Wv=0;U=Wh.prototype;U.open=function(t,e){if(this.readyState!=Wv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,el(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=Wv};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):el(this),this.readyState==3&&gS(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,cl(this))};U.Ya=function(t){this.g&&(this.response=t,cl(this))};U.ka=function(){this.g&&cl(this)};function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,el(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function el(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Z3=ce.JSON.parse;function Ze(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yS,this.L=this.M=!1}Mt(Ze,xt);var yS="",eU=/^https?$/i,tU=["POST","PUT"];U=Ze.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bv.g(),this.C=this.u?TD(this.u):TD(bv),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){AD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=RD(tU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wS(this),0<this.B&&((this.L=nU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=$v(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){AD(this,o)}};function nU(t){return da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof Pv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function AD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vS(t),Kh(t)}function vS(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),Kh(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),Ze.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?_S(this):this.kb())};U.kb=function(){_S(this)};function _S(t){if(t.h&&typeof Pv<"u"&&(!t.C[1]||Ar(t)!=4||t.da()!=2)){if(t.v&&Ar(t)==4)$v(t.La,0,t);else if(Ht(t,"readystatechange"),Ar(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(aS)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!eU.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Ar(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",vS(t)}}finally{Kh(t)}}}}function Kh(t,e){if(t.g){wS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function wS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Ar(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Z3(e)}};function xD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rU(t){let e={};t=(t.g&&2<=Ar(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wc(t[r]))continue;var n=x3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}T3(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ES(t){let e="";return Nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ES(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function IS(t){this.Ga=0,this.j=[],this.l=new Bh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$c("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$c("baseRetryDelayMs",5e3,t),this.hb=$c("retryDelaySeedMs",1e4,t),this.eb=$c("forwardChannelMaxRetries",2,t),this.xa=$c("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dS(t&&t.concurrentRequestLimit),this.Ja=new Y3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=IS.prototype;U.ra=8;U.H=1;function Qv(t){if(CS(t),t.H==3){var e=t.W++,n=li(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),ll(t,n),e=new ol(t,t.l,e),e.L=2,e.A=Gh(li(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=PS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),sl(e)}xS(t)}function Qh(t){t.g&&(Xv(t),t.g.cancel(),t.g=null)}function CS(t){Qh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Oh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Yh(t){if(!hS(t.i)&&!t.m){t.m=!0;var e=t.Na;Qc||qD(),Yc||(Qc(),Yc=!0),Uv.add(e,t),t.C=0}}function iU(t,e){return fS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=rl(Yt(t.Na,t,e),AS(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ol(this,this.l,t),o=this.s;if(this.U&&(o?(o=VD(o),LD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bS(this,i,e),n=li(this.I),Be(n,"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),ll(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(ES(o)))+"&"+e:this.o&&Kv(n,this.o,o)),Gv(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,Dv(i,n,null)):Dv(i,n,e),this.H=2}}else this.H==3&&(t?MD(this,t):this.j.length==0||hS(this.i)||MD(this))};function MD(t,e){var n;e?n=e.m:n=t.W++;let r=li(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),ll(t,r),t.o&&t.s&&Kv(r,t.o,t.s),n=new ol(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gv(t.i,n),Dv(n,r,e)}function ll(t,e){t.na&&Nv(t.na,function(n,r){Be(e,r,n)}),t.h&&sS({},function(n,r){Be(e,r,n)})}function bS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{X3(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qc||qD(),Yc||(Qc(),Yc=!0),Uv.add(e,t),t.A=0}}function Yv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=rl(Yt(t.Ma,t),AS(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,DS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=rl(Yt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sn(10),Qh(this),DS(this))};function Xv(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function DS(t){t.g=new ol(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=li(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&Kv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gh(li(e)),n.u=null,n.S=!0,nS(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Qh(this),Yv(this),sn(19))};function Oh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function SS(t,e){var n=null;if(t.g==e){Oh(t),Xv(t),t.g=null;var r=2}else if(Av(t.i,e))n=e.F,pS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=$h(),Ht(r,new XD(r,n)),Yh(t)}else TS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&iU(t,e)||r==2&&Yv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Go(t,5);break;case 4:Go(t,10);break;case 3:Go(t,6);break;default:Go(t,2)}}}function AS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Go(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Mh(n,"https"),Gh(n)),J3(n.toString(),r)}else sn(2);t.H=0,t.h&&t.h.za(e),xS(t),CS(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),sn(2)):(this.l.info("Failed to ping google.com"),sn(1))};function xS(t){if(t.H=0,t.ma=[],t.h){let e=mS(t.i);(e.length!=0||t.j.length!=0)&&(ED(t.ma,e),ED(t.ma,t.j),t.i.i.length=0,Ov(t.j),t.j.length=0),t.h.ya()}}function MS(t,e,n){var r=n instanceof Wo?li(n):new Wo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ph(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Wo(null);r&&Mh(o,r),e&&(o.g=e),i&&Ph(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Be(r,n,e),Be(r,"VER",t.ra),ll(t,r),r}function PS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ze(new al({ob:n})):new Ze(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function OS(){}U=OS.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function Rh(){if(da&&!(10<=Number(E3)))throw Error("Environmental error: no available transport.")}Rh.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){xt.call(this),this.g=new IS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fa(this)}Mt(Dn,xt);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=MS(t,null,t.Y),Yh(t)};Dn.prototype.close=function(){Qv(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=jv(t),t=n);e.j.push(new W3(e.fb++,t)),e.H==3&&Yh(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,Qv(this.g),delete this.g,Dn.$.N.call(this)};function RS(t){zv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mt(RS,zv);function NS(){qv.call(this),this.status=1}Mt(NS,qv);function fa(t){this.g=t}Mt(fa,OS);fa.prototype.Ba=function(){Ht(this.g,"a")};fa.prototype.Aa=function(t){Ht(this.g,new RS(t))};fa.prototype.za=function(t){Ht(this.g,new NS)};fa.prototype.ya=function(){Ht(this.g,"b")};function oU(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mt(rr,oU);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)pv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){pv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){pv(this,r),i=0;break}}this.h=i,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var sU={};function Jv(t){return-128<=t&&128>t?v3(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return ua;if(0>t)return $t(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xv;return new Fe(e,0)}function kS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $t(kS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=ua,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xr(Math.pow(e,o)),r=r.R(o).add(xr(s))):(r=r.R(n),r=r.add(xr(s)))}return r}var xv=4294967296,ua=Jv(0),Mv=Jv(1),PD=Jv(16777216);U=Fe.prototype;U.ea=function(){if(jn(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xv+r)*e,e*=xv}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ci(this))return"0";if(jn(this))return"-"+$t(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=kh(n,e).g;n=Nh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ci(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ci(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function jn(t){return t.h==-1}U.X=function(t){return t=Nh(this,t),jn(t)?-1:ci(t)?0:1};function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(Mv)}U.abs=function(){return jn(this)?$t(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Nh(t,e){return t.add($t(e))}U.R=function(t){if(ci(this)||ci(t))return ua;if(jn(this))return jn(t)?$t(this).R($t(t)):$t($t(this).R(t));if(jn(t))return $t(this.R($t(t)));if(0>this.X(PD)&&0>t.X(PD))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,xh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,xh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,xh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,xh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function xh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hc(t,e){this.g=t,this.h=e}function kh(t,e){if(ci(e))throw Error("division by zero");if(ci(t))return new Hc(ua,ua);if(jn(t))return e=kh($t(t),e),new Hc($t(e.g),$t(e.h));if(jn(e))return e=kh(t,$t(e)),new Hc($t(e.g),e.h);if(30<t.g.length){if(jn(t)||jn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mv,r=e;0>=r.X(t);)n=OD(n),r=OD(r);var i=ca(n,1),o=ca(r,1);for(r=ca(r,2),n=ca(n,2);!ci(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ca(r,1),n=ca(n,1)}return e=Nh(t,i.R(e)),new Hc(i,e)}for(i=ua;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xr(n),s=o.R(e);jn(s)||0<s.X(t);)n-=r,o=xr(n),s=o.R(e);ci(o)&&(o=Mv),i=i.add(o),t=Nh(t,s)}return new Hc(i,t)}U.gb=function(t){return kh(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function OD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function ca(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}Rh.prototype.createWebChannel=Rh.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;Hh.NO_ERROR=0;Hh.TIMEOUT=8;Hh.HTTP_ERROR=6;JD.COMPLETE="complete";ZD.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";xt.prototype.listen=xt.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=xr;Fe.fromString=kS;var aU=ir.createWebChannelTransport=function(){return new Rh},cU=ir.getStatEventTarget=function(){return $h()},lU=ir.ErrorCode=Hh,uU=ir.EventType=JD,dU=ir.Event=Ko,hU=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jY=ir.FetchXmlHttpFactory=al,fU=ir.WebChannel=ZD,pU=ir.XhrIo=Ze,mU=ir.Md5=rr,FS=ir.Integer=Fe;var VS="@firebase/firestore";var Pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");var ul="10.8.1";var ma=new Ui("@firebase/firestore");function Sn(t,...e){if(ma.logLevel<=Pe.DEBUG){let n=e.map(w_);ma.debug(`Firestore (${ul}): ${t}`,...n)}}function __(t,...e){if(ma.logLevel<=Pe.ERROR){let n=e.map(w_);ma.error(`Firestore (${ul}): ${t}`,...n)}}function gU(t,...e){if(ma.logLevel<=Pe.WARN){let n=e.map(w_);ma.warn(`Firestore (${ul}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function mn(t="Unexpected state"){let e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw __(e),new Error(e)}function e_(t,e){t||mn()}var zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vt=class extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Xh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},t_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}},n_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},r_=class{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yi)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(e_(typeof r.accessToken=="string"),new Xh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return e_(e===null||typeof e=="string"),new Pt(e)}},i_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},o_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},s_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},a_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Sn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(e_(typeof n.token=="string"),this.R=n.token,new s_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function yU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var c_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=yU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function BS(t,e){return t<e?-1:t>e?1:0}var l_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&mn(),r===void 0?r=e.length-n:r>e.length-n&&mn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qi=class t extends l_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new vt(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Qo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qi.fromString(e))}static fromName(e){return new t(Qi.fromString(e).popFirst(5))}static empty(){return new t(Qi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qi(e.slice()))}};var u_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};u_.UNKNOWN_ID=-1;function $S(t){return t.name==="IndexedDbTransactionError"}function vU(t){return t===0&&1/t==-1/0}var _U=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YY=[..._U,"documentOverlays"],wU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EU=wU,XY=[...EU,"indexConfiguration","indexState","indexEntries"];var ga=class t{constructor(e,n){this.comparator=e,this.root=n||Pr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}},pa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();let e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}};Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jh=class t{constructor(e){this.comparator=e,this.data=new ga(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var d_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ya=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new d_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return BS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ya.EMPTY_BYTE_STRING=new ya("");var ZY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function LS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function IU(t){return typeof t=="string"?ya.fromBase64String(t):ya.fromUint8Array(t)}var h_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},f_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function CU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var eX=new ga(Qo.comparator);var tX=new ga(Qo.comparator);var nX=new ga(Qo.comparator),rX=new Jh(Qo.comparator);var iX=new Jh(BS);var jS,be;(be=jS||(jS={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var oX=new FS([4294967295,4294967295],0);var ef=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(LS(e.integerValue));else if("doubleValue"in e){let r=LS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),vU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(IU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?CU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):mn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Qo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ef.bt=new ef;var sX=new Uint8Array(0);var Mr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);function Zv(){return typeof document<"u"?document:null}var p_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Sn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var m_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bU(t,e){if(__("AsyncQueue",`${e}: ${t}`),$S(t))return new vt(zt.UNAVAILABLE,`${e}: ${t}`);throw t}var g_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=c_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>v(this,null,function*(){Sn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Sn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=bU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function HS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var US=new Map;function TU(t,e,n,r){if(e===!0&&r===!0)throw new vt(zt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mn()}function SU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vt(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=DU(t);throw new vt(zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var tf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new vt(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nf=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new vt(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t_;switch(r.type){case"firstParty":return new o_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=US.get(n);r&&(Sn("ComponentProvider","Removing Datastore"),US.delete(n),r.terminate())}(this),Promise.resolve()}};function zS(t,e,n,r={}){var i;let o=(t=SU(t,nf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Pt.MOCK_USER;else{a=hT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new vt(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(l)}t._authCredentials=new n_(new Xh(a,c))}}var y_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new p_(this,"async_queue_retry"),this._u=()=>{let n=Zv();n&&Sn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Zv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Yi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return v(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!$S(e))throw e;Sn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw __("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=m_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&mn()}verifyOperationInProgress(){}hu(){return v(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var v_=class extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new y_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||AU(this),this._firestoreClient.terminate()}};function qS(t,e){let n=typeof t=="object"?t:na(),r=typeof t=="string"?t:e||"(default)",i=Rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=dT("firestore");o&&zS(i,...o)}return i}function AU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new h_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,HS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new g_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var aX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ul=i})(Hi),$i(new Ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new v_(new r_(r.getProvider("auth-internal")),new a_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new vt(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new f_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yt(VS,"4.4.3",e),yt(VS,"4.4.3","esm2017")})();var dl=class{constructor(e){return e}},GS="firestore",E_=class{constructor(){return Nc(GS)}};var I_=new G("angularfire2.firestore-instances");function xU(t,e){let n=th(GS,t,e);return n&&new dl(n)}function MU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new dl(r)}}var PU={provide:E_,deps:[[new on,I_]]},OU={provide:dl,useFactory:xU,deps:[[new on,I_],oi]},RU=(()=>{class t{constructor(){yt("angularfire",Uo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=nn({type:t});static \u0275inj=rn({providers:[OU,PU]})}return t})();function WS(t,...e){return{ngModule:RU,providers:[{provide:I_,useFactory:MU(t),multi:!0,deps:[Ce,Qe,oa,Bo,[new on,Bc],[new on,ia],...e]}]}}var KS=sa(qS,!0);var T_=class extends zd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},D_=class t extends T_{static makeCurrent(){zb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=NU();return n==null?null:kU(n)}resetBaseElement(){hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},hl=null;function NU(){return hl=hl||document.querySelector("base"),hl?hl.getAttribute("href"):null}function kU(t){return new URL(t,document.baseURI).pathname}var FU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),S_=new G(""),XS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(V(S_),V(Ce))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),rf=class{constructor(e){this._doc=e}},C_="ng-app-id",JS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ic(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${C_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(C_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(C_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(V(Bt),V(mg),V(vg,8),V(kn))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),b_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x_=/%COMP%/g,ZS="%COMP%",VU=`_nghost-${ZS}`,LU=`_ngcontent-${ZS}`,jU=!0,UU=new G("",{providedIn:"root",factory:()=>jU});function BU(t){return LU.replace(x_,t)}function $U(t){return VU.replace(x_,t)}function eA(t,e){return e.map(n=>n.replace(x_,t))}var of=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ic(c),this.defaultRenderer=new fl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gr.ShadowDom&&(i=Ae(R({},i),{encapsulation:gr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof sf?o.applyToHost(r):o instanceof pl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gr.Emulated:s=new sf(l,u,i,this.appId,d,a,c,h);break;case gr.ShadowDom:return new A_(l,u,r,i,a,c,this.nonce,h);default:s=new pl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(V(XS),V(JS),V(mg),V(UU),V(Bt),V(kn),V(Ce),V(vg))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),fl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(b_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=b_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=b_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wr.DashCase|Wr.Important)?e.style.setProperty(n,r,i&Wr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function QS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var A_=class extends fl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=eA(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pl=class extends fl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?eA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sf=class extends pl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=BU(l),this.hostAttr=$U(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},HU=(()=>{let e=class e extends rf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(V(Bt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),YS=["alt","control","meta","shift"],zU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GU=(()=>{let e=class e extends rf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),YS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=zU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),YS.forEach(a=>{if(a!==o){let c=qU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(V(Bt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function tA(t,e){return Vb(R({rootComponent:t},WU(e)))}function WU(t){return{appProviders:[...JU,...t?.providers??[]],platformProviders:XU}}function KU(){D_.makeCurrent()}function QU(){return new wr}function YU(){return VI(document),document}var XU=[{provide:kn,useValue:Kb},{provide:gg,useValue:KU,multi:!0},{provide:Bt,useFactory:YU,deps:[]}];var JU=[{provide:Ad,useValue:"root"},{provide:wr,useFactory:QU,deps:[]},{provide:S_,useClass:HU,multi:!0,deps:[Bt,Ce,kn]},{provide:S_,useClass:GU,multi:!0,deps:[Bt]},of,JS,XS,{provide:Do,useExisting:of},{provide:ta,useClass:FU,deps:[]},[]];var nA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(V(Bt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var M_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=V(ZU),o},providedIn:"root"});let t=e;return t})(),ZU=(()=>{let e=class e extends M_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Ir.NONE:return i;case Ir.HTML:return Ri(i,"HTML")?Fn(i):DC(this._doc,String(i)).toString();case Ir.STYLE:return Ri(i,"Style")?Fn(i):i;case Ir.SCRIPT:if(Ri(i,"Script"))return Fn(i);throw new P(5200,!1);case Ir.URL:return Ri(i,"URL")?Fn(i):Od(String(i));case Ir.RESOURCE_URL:if(Ri(i,"ResourceURL"))return Fn(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(r){return yC(r)}bypassSecurityTrustStyle(r){return vC(r)}bypassSecurityTrustScript(r){return _C(r)}bypassSecurityTrustUrl(r){return wC(r)}bypassSecurityTrustResourceUrl(r){return EC(r)}};e.\u0275fac=function(i){return new(i||e)(V(Bt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(he||{}),Or="*";function Un(t,e){return{type:he.Trigger,name:t,definitions:e,options:{}}}function _t(t,e=null){return{type:he.Animate,styles:e,timings:t}}function iA(t,e=null){return{type:he.Sequence,steps:t,options:e}}function me(t){return{type:he.Style,styles:t,offset:null}}function oA(t,e,n){return{type:he.State,name:t,styles:e,options:n}}function at(t,e,n=null){return{type:he.Transition,expr:t,animation:e,options:n}}var Xi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ml=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},af="!";function sA(t){return new P(3e3,!1)}function eB(){return new P(3100,!1)}function tB(){return new P(3101,!1)}function nB(t){return new P(3001,!1)}function rB(t){return new P(3003,!1)}function iB(t){return new P(3004,!1)}function oB(t,e){return new P(3005,!1)}function sB(){return new P(3006,!1)}function aB(){return new P(3007,!1)}function cB(t,e){return new P(3008,!1)}function lB(t){return new P(3002,!1)}function uB(t,e,n,r,i){return new P(3010,!1)}function dB(){return new P(3011,!1)}function hB(){return new P(3012,!1)}function fB(){return new P(3200,!1)}function pB(){return new P(3202,!1)}function mB(){return new P(3013,!1)}function gB(t){return new P(3014,!1)}function yB(t){return new P(3015,!1)}function vB(t){return new P(3016,!1)}function _B(t,e){return new P(3404,!1)}function wB(t){return new P(3502,!1)}function EB(t){return new P(3503,!1)}function IB(){return new P(3300,!1)}function CB(t){return new P(3504,!1)}function bB(t){return new P(3301,!1)}function TB(t,e){return new P(3302,!1)}function DB(t){return new P(3303,!1)}function SB(t,e){return new P(3400,!1)}function AB(t){return new P(3401,!1)}function xB(t){return new P(3402,!1)}function MB(t,e){return new P(3505,!1)}function Ji(t){switch(t.length){case 0:return new Xi;case 1:return t[0];default:return new ml(t)}}function wA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let g=f,E=h;if(f!=="offset")switch(g=t.normalizePropertyName(g,i),E){case af:E=n.get(f);break;case Or:E=r.get(f);break;default:E=t.normalizeStyleValue(f,g,E,i);break}d.set(g,E)}),u||o.push(d),a=d,s=l}),i.length)throw wB(i);return o}function Z_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&P_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&P_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&P_(n,"destroy",t)));break}}function P_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=ew(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function ew(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function aA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var PB=typeof document>"u"?null:document.documentElement;function tw(t){let e=t.parentNode||t.host||null;return e===PB?null:e}function OB(t){return t.substring(1,6)=="ebkit"}var Yo=null,cA=!1;function RB(t){Yo||(Yo=NB()||{},cA=Yo.style?"WebkitAppearance"in Yo.style:!1);let e=!0;return Yo.style&&!OB(t)&&(e=t in Yo.style,!e&&cA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Yo.style)),e}function NB(){return typeof document<"u"?document.body:null}function EA(t,e){for(;e;){if(e===t)return!0;e=tw(e)}return!1}function IA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var nw=(()=>{let e=class e{validateStyleProperty(r){return RB(r)}matchesElement(r,i){return!1}containsElement(r,i){return EA(r,i)}getParentElement(r){return tw(r)}query(r,i,o){return IA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Xi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),sw=class sw{};sw.NOOP=new nw;var Zo=sw,es=class{};var kB=1e3,CA="{{",FB="}}",bA="ng-enter",V_="ng-leave",cf="ng-trigger",ff=".ng-trigger",lA="ng-animating",L_=".ng-animating";function ui(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:j_(parseFloat(e[1]),e[2])}function j_(t,e){switch(e){case"s":return t*kB;default:return t}}function pf(t,e,n){return t.hasOwnProperty("duration")?t:VB(t,e,n)}function VB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(sA(t)),{duration:0,delay:0,easing:""};i=j_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=j_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(eB()),a=!0),o<0&&(e.push(tB()),a=!0),a&&e.splice(c,0,sA(t))}return{duration:i,delay:o,easing:s}}function LB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Rr(t,e,n){e.forEach((r,i)=>{let o=rw(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Jo(t,e){e.forEach((n,r)=>{let i=rw(r);t.style[i]=""})}function gl(t){return Array.isArray(t)?t.length==1?t[0]:iA(t):t}function jB(t,e,n){let r=e.params||{},i=TA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(nB(o))})}var U_=new RegExp(`${CA}\\s*(.+?)\\s*${FB}`,"g");function TA(t){let e=[];if(typeof t=="string"){let n;for(;n=U_.exec(t);)e.push(n[1]);U_.lastIndex=0}return e}function vl(t,e,n){let r=`${t}`,i=r.replace(U_,(o,s)=>{let a=e[s];return a==null&&(n.push(rB(s)),a=""),a.toString()});return i==r?t:i}var UB=/-+([a-z0-9])/g;function rw(t){return t.replace(UB,(...e)=>e[1].toUpperCase())}function BB(t,e){return t===0||e===0}function $B(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,iw(t,a)))}}return e}function An(t,e,n){switch(e.type){case he.Trigger:return t.visitTrigger(e,n);case he.State:return t.visitState(e,n);case he.Transition:return t.visitTransition(e,n);case he.Sequence:return t.visitSequence(e,n);case he.Group:return t.visitGroup(e,n);case he.Animate:return t.visitAnimate(e,n);case he.Keyframes:return t.visitKeyframes(e,n);case he.Style:return t.visitStyle(e,n);case he.Reference:return t.visitReference(e,n);case he.AnimateChild:return t.visitAnimateChild(e,n);case he.AnimateRef:return t.visitAnimateRef(e,n);case he.Query:return t.visitQuery(e,n);case he.Stagger:return t.visitStagger(e,n);default:throw iB(e.type)}}function iw(t,e){return window.getComputedStyle(t)[e]}var HB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mf=class extends es{normalizePropertyName(e,n){return rw(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(HB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(oB(e,r))}return s+o}};var gf="*";function zB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>qB(r,n,e)):n.push(t),n}function qB(t,e,n){if(t[0]==":"){let c=GB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(yB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(uA(i,s));let a=i==gf&&s==gf;o[0]=="<"&&!a&&e.push(uA(s,i))}function GB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(vB(t)),"* => *"}}var lf=new Set(["true","1"]),uf=new Set(["false","0"]);function uA(t,e){let n=lf.has(t)||uf.has(t),r=lf.has(e)||uf.has(e);return(i,o)=>{let s=t==gf||t==i,a=e==gf||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?lf.has(t):uf.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?lf.has(e):uf.has(e)),s&&a}}var DA=":self",WB=new RegExp(`s*${DA}s*,?`,"g");function SA(t,e,n,r){return new B_(t).build(e,n,r)}var dA="",B_=class{constructor(e){this._driver=e}build(e,n,r){let i=new $_(n);return this._resetContextStyleTimingState(i),An(this,gl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=dA,e.collectedStyles=new Map,e.collectedStyles.set(dA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(sB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==he.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==he.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(aB())}),{type:he.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{TA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(cB(e.name,[...o.values()]))}return{type:he.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=An(this,gl(e.animation),n),i=zB(e.expr,n.errors);return{type:he.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xo(e.options)}}visitSequence(e,n){return{type:he.Sequence,steps:e.steps.map(r=>An(this,r,n)),options:Xo(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=An(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:he.Group,steps:o,options:Xo(e.options)}}visitAnimate(e,n){let r=XB(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:me({});if(o.type==he.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=me(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:he.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Or?r.push(a):n.errors.push(lB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(CA)>=0){o=!0;break}}}),{type:he.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(uB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&jB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:he.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(dB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(D=>{let j=this._makeStyleAst(D,n),$=j.offset!=null?j.offset:YB(j.styles),p=0;return $!=null&&(o++,p=j.offset=$),c=c||p<0||p>1,a=a||p<l,l=p,s.push(p),j});c&&n.errors.push(hB()),a&&n.errors.push(fB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(pB()):o==0&&(h=i/(d-1));let f=d-1,g=n.currentTime,E=n.currentAnimateTimings,T=E.duration;return u.forEach((D,j)=>{let $=h>0?j==f?1:h*j:s[j],p=$*T;n.currentTime=g+E.delay+p,E.duration=p,this._validateStyleAst(D,n),D.offset=$,r.styles.push(D)}),r}visitReference(e,n){return{type:he.Reference,animation:An(this,gl(e.animation),n),options:Xo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:he.AnimateChild,options:Xo(e.options)}}visitAnimateRef(e,n){return{type:he.AnimateRef,animation:this.visitReference(e.animation,n),options:Xo(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=KB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=An(this,gl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:he.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Xo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(mB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:pf(e.timings,n.errors,!0);return{type:he.Stagger,animation:An(this,gl(e.animation),n),timings:r,options:null}}};function KB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==DA);return e&&(t=t.replace(WB,"")),t=t.replace(/@\*/g,ff).replace(/@\w+/g,n=>ff+"-"+n.slice(1)).replace(/:animating/g,L_),[t,e]}function QB(t){return t?R({},t):null}var $_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function YB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function XB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=pf(t,e).duration;return O_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=O_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=pf(n,e);return O_(i.duration,i.delay,i.easing)}function Xo(t){return t?(t=R({},t),t.params&&(t.params=QB(t.params))):t={},t}function O_(t,e,n){return{duration:t,delay:e,easing:n}}function ow(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var _l=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},JB=1,ZB=":enter",e$=new RegExp(ZB,"g"),t$=":leave",n$=new RegExp(t$,"g");function AA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new H_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var H_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new _l;let d=new z_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?ui(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),An(this,r,d);let f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let E=f.length-1;E>=0;E--){let T=f[E];if(T.element===n){g=T;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,c)}return f.length?f.map(g=>g.buildKeyframes()):[ow(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ui(vl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?ui(r.duration):null,a=r.delay!=null?ui(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),An(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==he.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yf);let s=ui(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>An(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?ui(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),An(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?vl(r,n.params,n.errors):r;return pf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==he.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?ui(i.delay):0;o&&(n.previousNode.type===he.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=yf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),An(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;An(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},yf={},z_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new vf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ui(r.duration)),r.delay!=null&&(i.delay=ui(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=vl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=yf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new q_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(e$,"."+this._enterClassName),e=e.replace(n$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(gB(n)),a}},vf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=JB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Or),this._currentKeyframe.set(n,Or);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=r$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=vl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Or),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===af?e.add(d):u===Or&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return ow(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},q_=class extends vf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",hA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),g=n+f*r;h.set("offset",hA(g/s)),o.push(h)}r=s,n=0,i="",e=o}return ow(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function hA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function r$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Or)}else for(let[o,s]of i)n.set(o,s)}),n}function fA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var R_={},_f=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return i$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||R_,f=a&&a.params||R_,g=this.buildStyles(r,f,d),E=c&&c.params||R_,T=this.buildStyles(i,E,d),D=new Set,j=new Map,$=new Map,p=i==="void",K={params:xA(E,h),delay:this.ast.options?.delay},x=u?[]:AA(e,n,this.ast.animation,o,s,g,T,K,l,d),W=0;return x.forEach(ue=>{W=Math.max(ue.duration+ue.delay,W)}),d.length?fA(n,this._triggerName,r,i,p,g,T,[],[],j,$,W,d):(x.forEach(ue=>{let Ie=ue.element,Te=xn(j,Ie,new Set);ue.preStyleProps.forEach(Oe=>Te.add(Oe));let We=xn($,Ie,new Set);ue.postStyleProps.forEach(Oe=>We.add(Oe)),Ie!==n&&D.add(Ie)}),fA(n,this._triggerName,r,i,p,g,T,x,[...D.values()],j,$,W))}};function i$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function xA(t,e){let n=R({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var G_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=xA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=vl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function o$(t,e,n){return new W_(t,e,n)}var W_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new G_(i.style,o,r))}),pA(this.states,"true","1"),pA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new _f(e,i,this.states))}),this.fallbackTransition=s$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function s$(t,e,n){let r=[(s,a)=>!0],i={type:he.Sequence,steps:[],options:null},o={type:he.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new _f(t,o,e)}function pA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var a$=new _l,K_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=SA(this._driver,n,r,i);if(r.length)throw EB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=wA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=AA(this._driver,n,o,bA,V_,new Map,new Map,r,a$,i),s.forEach(u=>{let d=xn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(IB()),s=[]),i.length)throw CB(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Or))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Ji(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw bB(e);return n}listen(e,n,r,i){let o=ew(n,"","","");return Z_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},mA="ng-animate-queued",c$=".ng-animate-queued",N_="ng-animate-disabled",l$=".ng-animate-disabled",u$="ng-star-inserted",d$=".ng-star-inserted",h$=[],MA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed",wl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=m$(i),r){let o=e,{value:s}=o,a=hp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},yl="void",k_=new wl(yl),Q_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Bn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw TB(r,n);if(r==null||r.length==0)throw DB(n);if(!g$(r))throw SB(r,n);let o=xn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||(Bn(e,cf),Bn(e,cf+"-"+n),a.set(n,k_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw AB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new El(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Bn(e,cf),Bn(e,cf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new wl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=k_),!(l.value===yl)&&c.value===l.value){if(!_$(c.params,l.params)){let E=[],T=o.matchStyles(c.value,c.params,E),D=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Jo(e,T),Rr(e,D)})}return}let h=xn(this._engine.playersByElement,e,[]);h.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!f){if(!i)return;f=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(Bn(e,mA),s.onStart(()=>{va(e,mA)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let T=this._engine.playersByElement.get(e);if(T){let D=T.indexOf(s);D>=0&&T.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ff,!0);r.forEach(i=>{if(i[or])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,yl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Ji(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||k_,u=new wl(yl),d=new El(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[or];(!o||o===MA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Bn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=ew(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Z_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Y_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Q_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(df(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!df(n))return;let o=n[or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Bn(e,N_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),va(e,N_))}removeNode(e,n,r){if(df(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[or]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return df(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,ff,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,L_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ji(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[or];if(n&&n.setForRemoval){if(e[or]=MA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(N_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,l$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Bn(i,u$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ji(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw xB(e)}_flushAnimations(e,n){let r=new _l,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);let B=this.driver.query(k,c$,!0);for(let H=0;H<B.length;H++)u.add(B[H])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=vA(h,this.collectedEnterElements),g=new Map,E=0;f.forEach((k,B)=>{let H=bA+E++;g.set(B,H),k.forEach(le=>Bn(le,H))});let T=[],D=new Set,j=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let B=this.collectedLeaveElements[k],H=B[or];H&&H.setForRemoval&&(T.push(B),D.add(B),H.hasAnimation?this.driver.query(B,d$,!0).forEach(le=>D.add(le)):j.add(B))}let $=new Map,p=vA(h,Array.from(D));p.forEach((k,B)=>{let H=V_+E++;$.set(B,H),k.forEach(le=>Bn(le,H))}),e.push(()=>{f.forEach((k,B)=>{let H=g.get(B);k.forEach(le=>va(le,H))}),p.forEach((k,B)=>{let H=$.get(B);k.forEach(le=>va(le,H))}),T.forEach(k=>{this.processLeaveNode(k)})});let K=[],x=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(n).forEach(H=>{let le=H.player,Ne=H.element;if(K.push(le),this.collectedEnterElements.length){let Ge=Ne[or];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(H.triggerName)){let Ft=Ge.previousTriggersValues.get(H.triggerName),dt=this.statesByElement.get(H.element);if(dt&&dt.has(H.triggerName)){let vn=dt.get(H.triggerName);vn.value=Ft,dt.set(H.triggerName,vn)}}le.destroy();return}}let It=!d||!this.driver.containsElement(d,Ne),$e=$.get(Ne),Qt=g.get(Ne),De=this._buildInstruction(H,r,Qt,$e,It);if(De.errors&&De.errors.length){x.push(De);return}if(It){le.onStart(()=>Jo(Ne,De.fromStyles)),le.onDestroy(()=>Rr(Ne,De.toStyles)),i.push(le);return}if(H.isFallbackTransition){le.onStart(()=>Jo(Ne,De.fromStyles)),le.onDestroy(()=>Rr(Ne,De.toStyles)),i.push(le);return}let ln=[];De.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||ln.push(Ge)}),De.timelines=ln,r.append(Ne,De.timelines);let Wn={instruction:De,player:le,element:Ne};s.push(Wn),De.queriedElements.forEach(Ge=>xn(a,Ge,[]).push(le)),De.preStyleProps.forEach((Ge,Ft)=>{if(Ge.size){let dt=c.get(Ft);dt||c.set(Ft,dt=new Set),Ge.forEach((vn,dr)=>dt.add(dr))}}),De.postStyleProps.forEach((Ge,Ft)=>{let dt=l.get(Ft);dt||l.set(Ft,dt=new Set),Ge.forEach((vn,dr)=>dt.add(dr))})});if(x.length){let k=[];x.forEach(B=>{k.push(MB(B.triggerName,B.errors))}),K.forEach(B=>B.destroy()),this.reportError(k)}let W=new Map,ue=new Map;s.forEach(k=>{let B=k.element;r.has(B)&&(ue.set(B,B),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,W))}),i.forEach(k=>{let B=k.element;this._getPreviousPlayers(B,!1,k.namespaceId,k.triggerName,null).forEach(le=>{xn(W,B,[]).push(le),le.destroy()})});let Ie=T.filter(k=>_A(k,c,l)),Te=new Map;yA(Te,this.driver,j,l,Or).forEach(k=>{_A(k,c,l)&&Ie.push(k)});let Oe=new Map;f.forEach((k,B)=>{yA(Oe,this.driver,new Set(k),c,af)}),Ie.forEach(k=>{let B=Te.get(k),H=Oe.get(k);Te.set(k,new Map([...B?.entries()??[],...H?.entries()??[]]))});let Ve=[],Wt=[],Kt={};s.forEach(k=>{let{element:B,player:H,instruction:le}=k;if(r.has(B)){if(u.has(B)){H.onDestroy(()=>Rr(B,le.toStyles)),H.disabled=!0,H.overrideTotalTime(le.totalTime),i.push(H);return}let Ne=Kt;if(ue.size>1){let $e=B,Qt=[];for(;$e=$e.parentNode;){let De=ue.get($e);if(De){Ne=De;break}Qt.push($e)}Qt.forEach(De=>ue.set(De,Ne))}let It=this._buildAnimation(H.namespaceId,le,W,o,Oe,Te);if(H.setRealPlayer(It),Ne===Kt)Ve.push(H);else{let $e=this.playersByElement.get(Ne);$e&&$e.length&&(H.parentPlayer=Ji($e)),i.push(H)}}else Jo(B,le.fromStyles),H.onDestroy(()=>Rr(B,le.toStyles)),Wt.push(H),u.has(B)&&i.push(H)}),Wt.forEach(k=>{let B=o.get(k.element);if(B&&B.length){let H=Ji(B);k.setRealPlayer(H)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<T.length;k++){let B=T[k],H=B[or];if(va(B,V_),H&&H.hasAnimation)continue;let le=[];if(a.size){let It=a.get(B);It&&It.length&&le.push(...It);let $e=this.driver.query(B,L_,!0);for(let Qt=0;Qt<$e.length;Qt++){let De=a.get($e[Qt]);De&&De.length&&le.push(...De)}}let Ne=le.filter(It=>!It.destroyed);Ne.length?y$(this,B,Ne):this.processLeaveNode(B)}return T.length=0,Ve.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let B=this.players.indexOf(k);this.players.splice(B,1)}),k.play()}),Ve}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==yl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=xn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f)})}Jo(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(g=>{let E=g.element;u.add(E);let T=E[or];if(T&&T.removedBeforeQueried)return new Xi(g.duration,g.delay);let D=E!==c,j=v$((r.get(E)||h$).map(W=>W.getRealPlayer())).filter(W=>{let ue=W;return ue.element?ue.element===E:!1}),$=o.get(E),p=s.get(E),K=wA(this._normalizer,g.keyframes,$,p),x=this._buildPlayer(g,K,j);if(g.subTimeline&&i&&d.add(E),D){let W=new El(e,a,E);W.setRealPlayer(x),l.push(W)}return x});l.forEach(g=>{xn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>p$(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>Bn(g,lA));let f=Ji(h);return f.onDestroy(()=>{u.forEach(g=>va(g,lA)),Rr(c,n.toStyles)}),d.forEach(g=>{xn(i,g,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Xi(e.duration,e.delay)}},El=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Xi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Z_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function p$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function m$(t){return t??null}function df(t){return t&&t.nodeType===1}function g$(t){return t=="start"||t=="done"}function gA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function yA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(gA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[or]=f$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>gA(c,o[a++])),s}function vA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Bn(t,e){t.classList?.add(e)}function va(t,e){t.classList?.remove(e)}function y$(t,e,n){Ji(n).onDone(()=>t.processLeaveNode(e))}function v$(t){let e=[];return PA(t,e),e}function PA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ml?PA(r.players,e):e.push(r)}}function _$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function _A(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var wa=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Y_(e.body,n,r,i),this._timelineEngine=new K_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=SA(this._driver,o,c,l);if(c.length)throw _B(i,c);l.length&&void 0,a=o$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=aA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=aA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function w$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=F_(e[0]),e.length>1&&(r=F_(e[e.length-1]))):e instanceof Map&&(n=F_(e)),n||r?new X_(t,n,r):null}var _a=class _a{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=_a.initialStylesByElement.get(e);i||_a.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rr(this._element,this._initialStyles),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_a.initialStylesByElement.delete(this._element),this._startStyles&&(Jo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jo(this._element,this._endStyles),this._endStyles=null),Rr(this._element,this._initialStyles),this._state=3)}};_a.initialStylesByElement=new WeakMap;var X_=_a;function F_(t){let e=null;return t.forEach((n,r)=>{E$(r)&&(e=e||new Map,e.set(r,n))}),e}function E$(t){return t==="display"||t==="position"}var wf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:iw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ef=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return EA(e,n)}getParentElement(e){return tw(e)}query(e,n,r){return IA(e,n,r)}computeStyle(e,n,r){return iw(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof wf);BB(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((g,E)=>l.set(E,g))});let d=LB(n).map(f=>new Map(f));d=$B(e,d,l);let h=w$(e,d);return new wf(e,d,c,h)}};var hf="@",OA="@.disabled",If=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==hf&&n==OA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},J_=class extends If{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==hf?n.charAt(1)=="."&&n==OA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==hf){let i=I$(e),o=n.slice(1),s="";return o.charAt(0)!=hf&&([o,s]=C$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function I$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function C$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Cf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new If(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new J_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var T$=(()=>{let e=class e extends wa{constructor(r,i,o){super(r,i,o,O(uc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(V(Bt),V(Zo),V(es))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function D$(){return new mf}function S$(t,e,n){return new Cf(t,e,n)}var RA=[{provide:es,useFactory:D$},{provide:wa,useClass:T$},{provide:Do,useFactory:S$,deps:[of,wa,Ce]}],A$=[{provide:Zo,useFactory:()=>new Ef},{provide:yg,useValue:"BrowserAnimations"},...RA],cZ=[{provide:Zo,useClass:nw},{provide:yg,useValue:"NoopAnimations"},...RA];function NA(){return Mo("NgEagerAnimations"),[...A$]}var fe="primary",Fl=Symbol("RouteTitle"),dw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ta(t){return new dw(t)}function M$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function P$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}function Nr(t,e){let n=t?hw(t):void 0,r=e?hw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!UA(t[i],e[i]))return!1;return!0}function hw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function UA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function BA(t){return t.length>0?t[t.length-1]:null}function no(t){return Op(t)?t:Ro(t)?Le(Promise.resolve(t)):ae(t)}var O$={exact:HA,subset:zA},$A={exact:R$,subset:N$,ignored:()=>!0};function kA(t,e,n){return O$[n.paths](t.root,e.root,n.matrixParams)&&$A[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function R$(t,e){return Nr(t,e)}function HA(t,e,n){if(!ns(t.segments,e.segments)||!Df(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!HA(t.children[r],e.children[r],n))return!1;return!0}function N$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>UA(t[n],e[n]))}function zA(t,e,n){return qA(t,e,e.segments,n)}function qA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ns(i,n)||e.hasChildren()||!Df(i,n,r))}else if(t.segments.length===n.length){if(!ns(t.segments,n)||!Df(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!zA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ns(t.segments,i)||!Df(t.segments,i,r)||!t.children[fe]?!1:qA(t.children[fe],e,o,r)}}function Df(t,e,n){return e.every((r,i)=>$A[n](t[i].parameters,r.parameters))}var Zi=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){return V$.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},ts=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ta(this.parameters),this._parameterMap}toString(){return WA(this)}};function k$(t,e){return ns(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}function ns(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function F$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var Lw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new xf,providedIn:"root"});let t=e;return t})(),xf=class{parse(e){let n=new pw(e);return new Zi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Il(e.root,!0)}`,r=U$(e.queryParams),i=typeof e.fragment=="string"?`#${L$(e.fragment)}`:"";return`${n}${r}${i}`}},V$=new xf;function Sf(t){return t.segments.map(e=>WA(e)).join("/")}function Il(t,e){if(!t.hasChildren())return Sf(t);if(e){let n=t.children[fe]?Il(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${Il(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=F$(t,(r,i)=>i===fe?[Il(t.children[fe],!1)]:[`${i}:${Il(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${Sf(t)}/${n[0]}`:`${Sf(t)}/(${n.join("//")})`}}function GA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return GA(t).replace(/%3B/gi,";")}function L$(t){return encodeURI(t)}function fw(t){return GA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(t){return decodeURIComponent(t)}function FA(t){return Af(t.replace(/\+/g,"%20"))}function WA(t){return`${fw(t.path)}${j$(t.parameters)}`}function j$(t){return Object.entries(t).map(([e,n])=>`;${fw(e)}=${fw(n)}`).join("")}function U$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bf(n)}=${bf(i)}`).join("&"):`${bf(n)}=${bf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var B$=/^[^\/()?;#]+/;function aw(t){let e=t.match(B$);return e?e[0]:""}var $$=/^[^\/()?;=#]+/;function H$(t){let e=t.match($$);return e?e[0]:""}var z$=/^[^=?&#]+/;function q$(t){let e=t.match(z$);return e?e[0]:""}var G$=/^[^&#]+/;function W$(t){let e=t.match(G$);return e?e[0]:""}var pw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Re(e,n)),r}parseSegment(){let e=aw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new ts(Af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=H$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=aw(this.remaining);i&&(r=i,this.capture(r))}e[Af(n)]=Af(r)}parseQueryParam(e){let n=q$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=W$(this.remaining);s&&(r=s,this.capture(r))}let i=FA(n),o=FA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=aw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function KA(t){return t.segments.length>0?new Re([],{[fe]:t}):t}function QA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=QA(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return K$(n)}function K$(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Re(t.segments.concat(e.segments),e.children)}return t}function Da(t){return t instanceof Zi}function Q$(t,e,n=null,r=null){let i=YA(t);return XA(i,e,n,r)}function YA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=KA(r);return e??i}function XA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return cw(i,i,i,n,r);let o=Y$(e);if(o.toRoot())return cw(i,i,new Re([],{}),n,r);let s=X$(o,i,t),a=s.processChildren?Tl(s.segmentGroup,s.index,o.commands):ZA(s.segmentGroup,s.index,o.commands);return cw(i,s.segmentGroup,a,n,r)}function Mf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Al(t){return typeof t=="object"&&t!=null&&t.outlets}function cw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=JA(t,e,n);let a=KA(QA(s));return new Zi(a,o,i)}function JA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=JA(o,e,n)}),new Re(t.segments,r)}var Pf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new P(4003,!1);let i=r.find(Al);if(i&&i!==BA(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Y$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pf(n,e,r)}var Ca=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function X$(t,e,n){if(t.isAbsolute)return new Ca(e,!0,0);if(!n)return new Ca(e,!1,NaN);if(n.parent===null)return new Ca(n,!0,0);let r=Mf(t.commands[0])?0:1,i=n.segments.length-1+r;return J$(n,i,t.numberOfDoubleDots)}function J$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function Z$(t){return Al(t[0])?t[0].outlets:{[fe]:t}}function ZA(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return Tl(t,e,n);let r=eH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Re(t.segments.slice(r.pathIndex),t.children),Tl(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?mw(t,e,n):r.match?Tl(t,0,i):mw(t,e,n)}function Tl(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=Z$(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Tl(t.children[fe],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function eH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Al(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!LA(c,l,s))return o;r+=2}else{if(!LA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Al(o)){let c=tH(o.outlets);return new Re(r,c)}if(i===0&&Mf(n[0])){let c=t.segments[e];r.push(new ts(c.path,VA(n[0]))),i++;continue}let s=Al(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mf(a)?(r.push(new ts(s,VA(a))),i+=2):(r.push(new ts(s,{})),i++)}return new Re(r,{})}function tH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mw(new Re([],{}),0,r))}),e}function VA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function LA(t,e,n){return t==n.path&&Nr(e,n.parameters)}var Dl="imperative",qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qt||{}),Hn=class{constructor(e,n){this.id=e,this.url=n}},xl=class extends Hn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rs=class extends Hn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$n=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($n||{}),gw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gw||{}),eo=class extends Hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},is=class extends Hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationSkipped}},Ml=class extends Hn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Of=class extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yw=class extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends Hn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_w=class extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ww=class extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ew=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Iw=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cw=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bw=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pl=class{},Ol=class{constructor(e){this.url=e}};var Sw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lf,this.attachRef=null}},Lf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Sw,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Aw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Aw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xw(e,this._root).map(n=>n.value)}};function Aw(t,e){if(t===e.value)return e;for(let n of e.children){let r=Aw(t,n);if(r)return r}return null}function xw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=xw(t,n);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ia(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nf=class extends Rf{constructor(e,n){super(e),this.snapshot=n,Uw(this,e)}toString(){return this.snapshot.toString()}};function ex(t){let e=nH(t),n=new ht([new ts("",{})]),r=new ht({}),i=new ht({}),o=new ht({}),s=new ht(""),a=new to(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new Nf(new Mn(a,[]),e)}function nH(t){let e={},n={},r={},i="",o=new Rl([],e,r,i,n,fe,t,null,{});return new kf("",new Mn(o,[]))}var to=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(l=>l[Fl]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jw(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&nx(i)&&(r.resolve[Fl]=i.title),r}var Rl=class{get title(){return this.data?.[Fl]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kf=class extends Rf{constructor(e,n){super(n),this.url=e,Uw(this,n)}toString(){return tx(this._root)}};function Uw(t,e){e.value._routerState=t,e.children.forEach(n=>Uw(t,n))}function tx(t){let e=t.children.length>0?` { ${t.children.map(tx).join(", ")} } `:"";return`${t.value}${e}`}function lw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nr(e.params,n.params)||t.paramsSubject.next(n.params),P$(e.url,n.url)||t.urlSubject.next(n.url),Nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mw(t,e){let n=Nr(t.params,e.params)&&k$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mw(t.parent,e.parent))}function nx(t){return typeof t.title=="string"||t.title===null}var Bw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=O(Lf),this.location=O(Ut),this.changeDetector=O(ki),this.environmentInjector=O(Dt),this.inputBinder=O($w,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Pw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=st({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]});let t=e;return t})(),Pw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===to?this.route:e===Lf?this.childContexts:this.parent.get(e,n)}},$w=new G("");function rH(t,e,n){let r=Nl(t,e._root,n?n._root:void 0);return new Nf(r,e)}function Nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=iH(t,e,n);return new Mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nl(t,a)),s}}let r=oH(e.value),i=e.children.map(o=>Nl(t,o));return new Mn(r,i)}}function iH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nl(t,r,i);return Nl(t,r)})}function oH(t){return new to(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}var rx="ngNavigationCancelingError";function ix(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ox(!1,$n.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ox(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rx]=!0,n.cancellationCode=e,n}function sH(t){return sx(t)&&Da(t.url)}function sx(t){return!!t&&t[rx]}var aH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["ng-component"]],standalone:!0,features:[X],decls:1,vars:0,template:function(i,o){i&1&&ie(0,"router-outlet")},dependencies:[Bw],encapsulation:2});let t=e;return t})();function cH(t,e){return t.providers&&!t._injector&&(t._injector=Vg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Hw(t){let e=t.children&&t.children.map(Hw),n=e?Ae(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=aH),n}function kr(t){return t.outlet||fe}function lH(t,e){let n=t.filter(r=>kr(r)===e);return n.push(...t.filter(r=>kr(r)!==e)),n}function Vl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uH=(t,e,n,r)=>re(i=>(new Ow(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ow=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(lw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Vl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ff=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ba=class{constructor(e,n){this.component=e,this.route=n}};function dH(t,e,n){let r=t._root,i=e?e._root:null;return Cl(r,i,n,[r.value])}function hH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Aa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!LI(t)?t:e.get(t):r}function Cl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ia(e);return t.children.forEach(s=>{fH(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sl(a,n.getContext(s),i)),i}function fH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=pH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ff(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cl(t,e,a?a.children:null,r,i):Cl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ba(a.outlet.component,s))}else s&&Sl(e,a,i),i.canActivateChecks.push(new Ff(r)),o.component?Cl(t,null,a?a.children:null,r,i):Cl(t,null,n,r,i);return i}function pH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ns(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mw(t,e)||!Nr(t.queryParams,e.queryParams);case"paramsChange":default:return!Mw(t,e)}}function Sl(t,e,n){let r=Ia(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sl(s,e.children.getContext(o),n):Sl(s,null,n):Sl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ba(e.outlet.component,i)):n.canDeactivateChecks.push(new ba(null,i)):n.canDeactivateChecks.push(new ba(null,i))}function Ll(t){return typeof t=="function"}function mH(t){return typeof t=="boolean"}function gH(t){return t&&Ll(t.canLoad)}function yH(t){return t&&Ll(t.canActivate)}function vH(t){return t&&Ll(t.canActivateChild)}function _H(t){return t&&Ll(t.canDeactivate)}function wH(t){return t&&Ll(t.canMatch)}function ax(t){return t instanceof wn||t?.name==="EmptyError"}var Tf=Symbol("INITIAL_VALUE");function Sa(){return Tt(t=>Lu(t.map(e=>e.pipe(Br(1),jp(Tf)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Tf)return Tf;if(n===!1||n instanceof Zi)return n}return!0}),bt(e=>e!==Tf),Br(1)))}function EH(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(Ae(R({},n),{guardsResult:!0})):IH(s,r,i,t).pipe(rt(a=>a&&mH(a)?CH(r,o,t,e):ae(a)),re(a=>Ae(R({},n),{guardsResult:a})))})}function IH(t,e,n,r){return Le(t).pipe(rt(i=>AH(i.component,i.route,n,e,r)),fr(i=>i!==!0,!0))}function CH(t,e,n,r){return Le(e).pipe(Ii(i=>Os(TH(i.route.parent,r),bH(i.route,r),SH(t,i.path,n),DH(t,i.route,n))),fr(i=>i!==!0,!0))}function bH(t,e){return t!==null&&e&&e(new Tw(t)),ae(!0)}function TH(t,e){return t!==null&&e&&e(new Cw(t)),ae(!0)}function DH(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>ju(()=>{let s=Vl(e)??n,a=Aa(o,s),c=yH(a)?a.canActivate(e,t):Yr(s,()=>a(e,t));return no(c).pipe(fr())}));return ae(i).pipe(Sa())}function SH(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>hH(s)).filter(s=>s!==null).map(s=>ju(()=>{let a=s.guards.map(c=>{let l=Vl(s.node)??n,u=Aa(c,l),d=vH(u)?u.canActivateChild(r,t):Yr(l,()=>u(r,t));return no(d).pipe(fr())});return ae(a).pipe(Sa())}));return ae(o).pipe(Sa())}function AH(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Vl(e)??i,l=Aa(a,c),u=_H(l)?l.canDeactivate(t,e,n,r):Yr(c,()=>l(t,e,n,r));return no(u).pipe(fr())});return ae(s).pipe(Sa())}function xH(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Aa(s,t),c=gH(a)?a.canLoad(e,n):Yr(t,()=>a(e,n));return no(c)});return ae(o).pipe(Sa(),cx(r))}function cx(t){return Cp(it(e=>{if(Da(e))throw ix(t,e)}),re(e=>e===!0))}function MH(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Aa(s,t),c=wH(a)?a.canMatch(e,n):Yr(t,()=>a(e,n));return no(c)});return ae(o).pipe(Sa(),cx(r))}var kl=class{constructor(e){this.segmentGroup=e||null}},Vf=class extends Error{constructor(e){super(),this.urlTree=e}};function Ea(t){return Ei(new kl(t))}function PH(t){return Ei(new P(4e3,!1))}function OH(t){return Ei(ox(!1,$n.GuardRejected))}var Rw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[fe])return PH(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Vf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Zi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Nw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RH(t,e,n,r,i){let o=zw(t,e,n);return o.matched?(r=cH(e,r),MH(r,e,n,i).pipe(re(s=>s===!0?o:R({},Nw)))):ae(o)}function zw(t,e,n){if(e.path==="**")return NH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Nw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||M$)(n,t,e);if(!i)return R({},Nw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function NH(t){return{matched:!0,parameters:t.length>0?BA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jA(t,e,n,r){return n.length>0&&VH(t,n,r)?{segmentGroup:new Re(e,FH(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&LH(t,n,r)?{segmentGroup:new Re(t.segments,kH(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function kH(t,e,n,r){let i={};for(let o of n)if(jf(t,e,o)&&!r[kr(o)]){let s=new Re([],{});i[kr(o)]=s}return R(R({},r),i)}function FH(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&kr(r)!==fe){let i=new Re([],{});n[kr(r)]=i}return n}function VH(t,e,n){return n.some(r=>jf(t,e,r)&&kr(r)!==fe)}function LH(t,e,n){return n.some(r=>jf(t,e,r))}function jf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function jH(t,e,n,r){return kr(t)!==r&&(r===fe||!jf(e,n,t))?!1:zw(e,t,n).matched}function UH(t,e,n){return e.length===0&&!t.children[n]}var kw=class{};function BH(t,e,n,r,i,o,s="emptyOnly"){return new Fw(t,e,n,r,i,s,o).recognize()}var $H=31,Fw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Rw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=jA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(n=>{let r=new Rl([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new Mn(r,n),o=new kf("",i),s=Q$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(Qn(r=>{if(r instanceof Vf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof kl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=jw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(re(o=>o instanceof Mn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Le(i).pipe(Ii(o=>{let s=r.children[o],a=lH(n,o);return this.processSegmentGroup(e,a,s,o)}),Vp((o,s)=>(o.push(...s),o)),Ci(null),Fp(),rt(o=>{if(o===null)return Ea(r);let s=lx(o);return HH(s),ae(s)}))}processSegment(e,n,r,i,o,s){return Le(n).pipe(Ii(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Qn(c=>{if(c instanceof kl)return ae(null);throw c}))),fr(a=>!!a),Qn(a=>{if(ax(a))return UH(r,i,o)?ae(new kw):Ea(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return jH(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ea(i):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=zw(n,i,o);if(!a)return Ea(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$H&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(rt(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=RH(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Tt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Tt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Rl(u,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,qH(r),kr(r),r.component??r._loadedComponent??null,r,GH(r)),{segmentGroup:g,slicedSegments:E}=jA(n,u,d,c);if(E.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe(re(D=>D===null?null:new Mn(f,D)));if(c.length===0&&E.length===0)return ae(new Mn(f,[]));let T=kr(r)===o;return this.processSegment(l,c,g,E,T?fe:o,!0).pipe(re(D=>new Mn(f,D instanceof Mn?[D]:[])))}))):Ea(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):xH(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):OH(n))):ae({routes:[],injector:e})}};function HH(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function zH(t){let e=t.value.routeConfig;return e&&e.path===""}function lx(t){let e=[],n=new Set;for(let r of t){if(!zH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lx(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!n.has(r))}function qH(t){return t.data||{}}function GH(t){return t.resolve||{}}function WH(t,e,n,r,i,o){return rt(s=>BH(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:c})=>Ae(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function KH(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of ux(c))s.add(l);let a=0;return Le(s).pipe(Ii(c=>o.has(c)?QH(c,r,t,e):(c.data=jw(c,c.parent,t).resolve,ae(void 0))),it(()=>a++),Ns(1),rt(c=>a===s.size?ae(n):un))})}function ux(t){let e=t.children.map(n=>ux(n)).flat();return[t,...e]}function QH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!nx(i)&&(o[Fl]=i.title),YH(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=jw(t,t.parent,n).resolve,null)))}function YH(t,e,n,r){let i=hw(t);if(i.length===0)return ae({});let o={};return Le(i).pipe(rt(s=>XH(t[s],e,n,r).pipe(fr(),it(a=>{o[s]=a}))),Ns(1),kp(o),Qn(s=>ax(s)?un:Ei(s)))}function XH(t,e,n,r){let i=Vl(e)??r,o=Aa(t,i),s=o.resolve?o.resolve(e,n):Yr(i,()=>o(e,n));return no(s)}function uw(t){return Tt(e=>{let n=t(e);return n?Le(n).pipe(re(()=>e)):ae(e)})}var dx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[Fl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(JH),providedIn:"root"});let t=e;return t})(),JH=(()=>{let e=class e extends dx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(V(nA))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uf=new G("",{providedIn:"root",factory:()=>({})}),qw=new G(""),ZH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O($g)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=no(r.loadComponent()).pipe(re(hx),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),yo(()=>{this.componentLoaders.delete(r)})),o=new Ts(i,()=>new Vt).pipe(bs());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=e4(i,this.compiler,r,this.onLoadEndListener).pipe(yo(()=>{this.childrenLoaders.delete(i)})),a=new Ts(s,()=>new Vt).pipe(bs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e4(t,e,n,r){return no(t.loadChildren()).pipe(re(hx),rt(i=>i instanceof dc||Array.isArray(i)?ae(i):Le(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(qw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Hw),injector:o}}))}function t4(t){return t&&typeof t=="object"&&"default"in t}function hx(t){return t4(t)?t.default:t}var Gw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(n4),providedIn:"root"});let t=e;return t})(),n4=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r4=new G("");var i4=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vt,this.transitionAbortSubject=new Vt,this.configLoader=O(ZH),this.environmentInjector=O(Dt),this.urlSerializer=O(Lw),this.rootContexts=O(Lf),this.location=O(Ec),this.inputBindingEnabled=O($w,{optional:!0})!==null,this.titleStrategy=O(dx),this.options=O(Uf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Gw),this.createViewTransition=O(r4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ew(o)),i=o=>this.events.next(new Iw(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(R(R({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ht({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Dl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bt(s=>s.id!==0),re(s=>Ae(R({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Tt(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(it(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new is(l.id,this.urlSerializer.serialize(l.rawUrl),h,gw.IgnoredSameUrlNavigation)),l.resolve(null),un}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(Tt(h=>{let f=this.transitions?.getValue();return this.events.next(new xl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?un:Promise.resolve(h)}),WH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),it(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ae(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Of(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:E,extras:T}=l,D=new xl(h,this.urlSerializer.serialize(f),g,E);this.events.next(D);let j=ex(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(R({},l),{targetSnapshot:j,urlAfterRedirects:f,extras:Ae(R({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ae(s)}else{let h="";return this.events.next(new is(l.id,this.urlSerializer.serialize(l.extractedUrl),h,gw.IgnoredByUrlHandlingStrategy)),l.resolve(null),un}}),it(l=>{let u=new yw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),re(l=>(this.currentTransition=s=Ae(R({},l),{guards:dH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),EH(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(s.guardsResult=l.guardsResult,Da(l.guardsResult))throw ix(this.urlSerializer,l.guardsResult);let u=new vw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",$n.GuardRejected),!1)),uw(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(it(u=>{let d=new _w(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Tt(u=>{let d=!1;return ae(u).pipe(KH(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",$n.NoDataFromResolver)}}))}),it(u=>{let d=new ww(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),uw(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(it(f=>{d.component=f}),re(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Lu(u(l.targetSnapshot.root)).pipe(Ci(null),Br(1))}),uw(()=>this.afterPreactivation()),Tt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Le(d).pipe(re(()=>s)):ae(s)}),re(l=>{let u=rH(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(R({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),it(()=>{this.events.next(new Pl)}),uH(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Br(1),it({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Yn(this.transitionAbortSubject.pipe(it(l=>{throw l}))),yo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",$n.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qn(l=>{if(c=!0,sx(l))this.events.next(new eo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),sH(l)?this.events.next(new Ol(l.url)):s.resolve(!1);else{this.events.next(new Ml(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return un}))}))}cancelNavigationTransition(r,i,o){let s=new eo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function o4(t){return t!==Dl}var s4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(a4),providedIn:"root"});let t=e;return t})(),Vw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},a4=(()=>{let e=class e extends Vw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(c4),providedIn:"root"});let t=e;return t})(),c4=(()=>{let e=class e extends fx{constructor(){super(...arguments),this.location=O(Ec),this.urlSerializer=O(Lw),this.options=O(Uf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Gw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ex(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof xl)this.stateMemento=this.createStateMemento();else if(r instanceof is)this.rawUrlTree=i.initialUrl;else if(r instanceof Of){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Pl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof eo&&(r.code===$n.GuardRejected||r.code===$n.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ml?this.restoreHistory(i,!0):r instanceof rs&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=R(R({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bl||{});function l4(t,e){t.events.pipe(bt(n=>n instanceof rs||n instanceof eo||n instanceof Ml||n instanceof is),re(n=>n instanceof rs||n instanceof is?bl.COMPLETE:(n instanceof eo?n.code===$n.Redirect||n.code===$n.SupersededByNewNavigation:!1)?bl.REDIRECTING:bl.FAILED),bt(n=>n!==bl.REDIRECTING),Br(1)).subscribe(()=>{e()})}function u4(t){throw t}var d4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Bd),this.stateManager=O(fx),this.options=O(Uf,{optional:!0})||{},this.pendingTasks=O(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(i4),this.urlSerializer=O(Lw),this.location=O(Ec),this.urlHandlingStrategy=O(Gw),this._events=new Vt,this.errorHandler=this.options.errorHandler||u4,this.navigated=!1,this.routeReuseStrategy=O(s4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(qw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O($w,{optional:!0}),this.eventsSubscription=new nt,this.isNgZoneEnabled=O(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof eo&&i.code!==$n.Redirect&&i.code!==$n.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rs)this.navigated=!0;else if(i instanceof Ol){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||o4(o.source)};this.scheduleNavigation(a,Dl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}p4(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=R({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Hw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=R(R({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=YA(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return XA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Da(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Dl,null,i)}navigate(r,i={skipLocationChange:!1}){return f4(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=R({},d4):i===!1?o=R({},h4):o=i,Da(r))return kA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return kA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return l4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f4(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function p4(t){return!(t instanceof Pl)&&!(t instanceof Ol)}var m4=new G("");function px(t,...e){return Oi([{provide:qw,multi:!0,useValue:t},[],{provide:to,useFactory:g4,deps:[gn]},{provide:$d,multi:!0,useFactory:v4},e.map(n=>n.\u0275providers)])}function g4(t){return t.routerState.root}function y4(t,e){return{\u0275kind:t,\u0275providers:e}}function v4(){let t=O(Qe);return e=>{let n=t.get(br);if(e!==n.components[0])return;let r=t.get(gn),i=t.get(_4);t.get(w4)===1&&r.initialNavigation(),t.get(E4,null,_e.Optional)?.setUpPreloading(),t.get(m4,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _4=new G("",{factory:()=>new Vt}),w4=new G("",{providedIn:"root",factory:()=>1});var E4=new G("");function mx(t){return y4(5,[{provide:Uf,useValue:t}])}var et="top",wt="bottom",lt="right",ct="left",Bf="auto",ro=[et,wt,lt,ct],di="start",os="end",gx="clippingParents",$f="viewport",xa="popper",yx="reference",Kw=ro.reduce(function(t,e){return t.concat([e+"-"+di,e+"-"+os])},[]),Hf=[].concat(ro,[Bf]).reduce(function(t,e){return t.concat([e,e+"-"+di,e+"-"+os])},[]),I4="beforeRead",C4="read",b4="afterRead",T4="beforeMain",D4="main",S4="afterMain",A4="beforeWrite",x4="write",M4="afterWrite",vx=[I4,C4,b4,T4,D4,S4,A4,x4,M4];function Ot(t){return t?(t.nodeName||"").toLowerCase():null}function qe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function zn(t){var e=qe(t).Element;return t instanceof e||t instanceof Element}function Et(t){var e=qe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ma(t){if(typeof ShadowRoot>"u")return!1;var e=qe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function P4(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Et(o)||!Ot(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function O4(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!Et(i)||!Ot(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var jl={name:"applyStyles",enabled:!0,phase:"write",fn:P4,effect:O4,requires:["computeStyles"]};function Rt(t){return t.split("-")[0]}var sr=Math.max,ss=Math.min,hi=Math.round;function Pa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ul(){return!/^((?!chrome|android).)*safari/i.test(Pa())}function qn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Et(t)&&(i=t.offsetWidth>0&&hi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&hi(r.height)/t.offsetHeight||1);var s=zn(t)?qe(t):window,a=s.visualViewport,c=!Ul()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function as(t){var e=qn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ma(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function an(t){return qe(t).getComputedStyle(t)}function Qw(t){return["table","td","th"].indexOf(Ot(t))>=0}function Gt(t){return((zn(t)?t.ownerDocument:t.document)||window.document).documentElement}function fi(t){return Ot(t)==="html"?t:t.assignedSlot||t.parentNode||(Ma(t)?t.host:null)||Gt(t)}function _x(t){return!Et(t)||an(t).position==="fixed"?null:t.offsetParent}function R4(t){var e=/firefox/i.test(Pa()),n=/Trident/i.test(Pa());if(n&&Et(t)){var r=an(t);if(r.position==="fixed")return null}var i=fi(t);for(Ma(i)&&(i=i.host);Et(i)&&["html","body"].indexOf(Ot(i))<0;){var o=an(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ar(t){for(var e=qe(t),n=_x(t);n&&Qw(n)&&an(n).position==="static";)n=_x(n);return n&&(Ot(n)==="html"||Ot(n)==="body"&&an(n).position==="static")?e:n||R4(t)||e}function cs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ls(t,e,n){return sr(t,ss(e,n))}function wx(t,e,n){var r=ls(t,e,n);return r>n?n:r}function $l(){return{top:0,right:0,bottom:0,left:0}}function Hl(t){return Object.assign({},$l(),t)}function zl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var N4=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hl(typeof e!="number"?e:zl(e,ro))};function k4(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Rt(n.placement),c=cs(a),l=[ct,lt].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=N4(i.padding,n),h=as(o),f=c==="y"?et:ct,g=c==="y"?wt:lt,E=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],T=s[c]-n.rects.reference[c],D=ar(o),j=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,$=E/2-T/2,p=d[f],K=j-h[u]-d[g],x=j/2-h[u]/2+$,W=ls(p,x,K),ue=c;n.modifiersData[r]=(e={},e[ue]=W,e.centerOffset=W-x,e)}}function F4(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bl(e.elements.popper,i)&&(e.elements.arrow=i))}var Ex={name:"arrow",enabled:!0,phase:"main",fn:k4,effect:F4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gn(t){return t.split("-")[1]}var V4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function L4(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:hi(n*i)/i||0,y:hi(r*i)/i||0}}function Ix(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,g=s.y,E=g===void 0?0:g,T=typeof u=="function"?u({x:f,y:E}):{x:f,y:E};f=T.x,E=T.y;var D=s.hasOwnProperty("x"),j=s.hasOwnProperty("y"),$=ct,p=et,K=window;if(l){var x=ar(n),W="clientHeight",ue="clientWidth";if(x===qe(n)&&(x=Gt(n),an(x).position!=="static"&&a==="absolute"&&(W="scrollHeight",ue="scrollWidth")),x=x,i===et||(i===ct||i===lt)&&o===os){p=wt;var Ie=d&&x===K&&K.visualViewport?K.visualViewport.height:x[W];E-=Ie-r.height,E*=c?1:-1}if(i===ct||(i===et||i===wt)&&o===os){$=lt;var Te=d&&x===K&&K.visualViewport?K.visualViewport.width:x[ue];f-=Te-r.width,f*=c?1:-1}}var We=Object.assign({position:a},l&&V4),Oe=u===!0?L4({x:f,y:E},qe(n)):{x:f,y:E};if(f=Oe.x,E=Oe.y,c){var Ve;return Object.assign({},We,(Ve={},Ve[p]=j?"0":"",Ve[$]=D?"0":"",Ve.transform=(K.devicePixelRatio||1)<=1?"translate("+f+"px, "+E+"px)":"translate3d("+f+"px, "+E+"px, 0)",Ve))}return Object.assign({},We,(e={},e[p]=j?E+"px":"",e[$]=D?f+"px":"",e.transform="",e))}function j4(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Rt(e.placement),variation:Gn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ix(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ix(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Cx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:j4,data:{}};var zf={passive:!0};function U4(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=qe(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,zf)}),a&&c.addEventListener("resize",n.update,zf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,zf)}),a&&c.removeEventListener("resize",n.update,zf)}}var bx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:U4,data:{}};var B4={left:"right",right:"left",bottom:"top",top:"bottom"};function Oa(t){return t.replace(/left|right|bottom|top/g,function(e){return B4[e]})}var $4={start:"end",end:"start"};function qf(t){return t.replace(/start|end/g,function(e){return $4[e]})}function us(t){var e=qe(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ds(t){return qn(Gt(t)).left+us(t).scrollLeft}function Yw(t,e){var n=qe(t),r=Gt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Ul();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+ds(t),y:c}}function Xw(t){var e,n=Gt(t),r=us(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=sr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=sr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ds(t),c=-r.scrollTop;return an(i||n).direction==="rtl"&&(a+=sr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function hs(t){var e=an(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Gf(t){return["html","body","#document"].indexOf(Ot(t))>=0?t.ownerDocument.body:Et(t)&&hs(t)?t:Gf(fi(t))}function io(t,e){var n;e===void 0&&(e=[]);var r=Gf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=qe(r),s=i?[o].concat(o.visualViewport||[],hs(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(io(fi(s)))}function Ra(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function H4(t,e){var n=qn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Tx(t,e,n){return e===$f?Ra(Yw(t,n)):zn(e)?H4(e,n):Ra(Xw(Gt(t)))}function z4(t){var e=io(fi(t)),n=["absolute","fixed"].indexOf(an(t).position)>=0,r=n&&Et(t)?ar(t):t;return zn(r)?e.filter(function(i){return zn(i)&&Bl(i,r)&&Ot(i)!=="body"}):[]}function Jw(t,e,n,r){var i=e==="clippingParents"?z4(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=Tx(t,l,r);return c.top=sr(u.top,c.top),c.right=ss(u.right,c.right),c.bottom=ss(u.bottom,c.bottom),c.left=sr(u.left,c.left),c},Tx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ql(t){var e=t.reference,n=t.element,r=t.placement,i=r?Rt(r):null,o=r?Gn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case et:c={x:s,y:e.y-n.height};break;case wt:c={x:s,y:e.y+e.height};break;case lt:c={x:e.x+e.width,y:a};break;case ct:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?cs(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case di:c[l]=c[l]-(e[u]/2-n[u]/2);break;case os:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function cr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?gx:a,l=n.rootBoundary,u=l===void 0?$f:l,d=n.elementContext,h=d===void 0?xa:d,f=n.altBoundary,g=f===void 0?!1:f,E=n.padding,T=E===void 0?0:E,D=Hl(typeof T!="number"?T:zl(T,ro)),j=h===xa?yx:xa,$=t.rects.popper,p=t.elements[g?j:h],K=Jw(zn(p)?p:p.contextElement||Gt(t.elements.popper),c,u,s),x=qn(t.elements.reference),W=ql({reference:x,element:$,strategy:"absolute",placement:i}),ue=Ra(Object.assign({},$,W)),Ie=h===xa?ue:x,Te={top:K.top-Ie.top+D.top,bottom:Ie.bottom-K.bottom+D.bottom,left:K.left-Ie.left+D.left,right:Ie.right-K.right+D.right},We=t.modifiersData.offset;if(h===xa&&We){var Oe=We[i];Object.keys(Te).forEach(function(Ve){var Wt=[lt,wt].indexOf(Ve)>=0?1:-1,Kt=[et,wt].indexOf(Ve)>=0?"y":"x";Te[Ve]+=Oe[Kt]*Wt})}return Te}function Zw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Hf:c,u=Gn(r),d=u?a?Kw:Kw.filter(function(g){return Gn(g)===u}):ro,h=d.filter(function(g){return l.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,E){return g[E]=cr(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[Rt(E)],g},{});return Object.keys(f).sort(function(g,E){return f[g]-f[E]})}function q4(t){if(Rt(t)===Bf)return[];var e=Oa(t);return[qf(t),e,qf(e)]}function G4(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,g=f===void 0?!0:f,E=n.allowedAutoPlacements,T=e.options.placement,D=Rt(T),j=D===T,$=c||(j||!g?[Oa(T)]:q4(T)),p=[T].concat($).reduce(function(De,ln){return De.concat(Rt(ln)===Bf?Zw(e,{placement:ln,boundary:u,rootBoundary:d,padding:l,flipVariations:g,allowedAutoPlacements:E}):ln)},[]),K=e.rects.reference,x=e.rects.popper,W=new Map,ue=!0,Ie=p[0],Te=0;Te<p.length;Te++){var We=p[Te],Oe=Rt(We),Ve=Gn(We)===di,Wt=[et,wt].indexOf(Oe)>=0,Kt=Wt?"width":"height",k=cr(e,{placement:We,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),B=Wt?Ve?lt:ct:Ve?wt:et;K[Kt]>x[Kt]&&(B=Oa(B));var H=Oa(B),le=[];if(o&&le.push(k[Oe]<=0),a&&le.push(k[B]<=0,k[H]<=0),le.every(function(De){return De})){Ie=We,ue=!1;break}W.set(We,le)}if(ue)for(var Ne=g?3:1,It=function(ln){var Wn=p.find(function(Ge){var Ft=W.get(Ge);if(Ft)return Ft.slice(0,ln).every(function(dt){return dt})});if(Wn)return Ie=Wn,"break"},$e=Ne;$e>0;$e--){var Qt=It($e);if(Qt==="break")break}e.placement!==Ie&&(e.modifiersData[r]._skip=!0,e.placement=Ie,e.reset=!0)}}var Dx={name:"flip",enabled:!0,phase:"main",fn:G4,requiresIfExists:["offset"],data:{_skip:!1}};function Sx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ax(t){return[et,lt,wt,ct].some(function(e){return t[e]>=0})}function W4(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),c=Sx(s,r),l=Sx(a,i,o),u=Ax(c),d=Ax(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var xx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:W4};function K4(t,e,n){var r=Rt(t),i=[ct,et].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ct,lt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Q4(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Hf.reduce(function(u,d){return u[d]=K4(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var Mx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q4};function Y4(t){var e=t.state,n=t.name;e.modifiersData[n]=ql({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Px={name:"popperOffsets",enabled:!0,phase:"read",fn:Y4,data:{}};function e0(t){return t==="x"?"y":"x"}function X4(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,g=n.tetherOffset,E=g===void 0?0:g,T=cr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),D=Rt(e.placement),j=Gn(e.placement),$=!j,p=cs(D),K=e0(p),x=e.modifiersData.popperOffsets,W=e.rects.reference,ue=e.rects.popper,Ie=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Te=typeof Ie=="number"?{mainAxis:Ie,altAxis:Ie}:Object.assign({mainAxis:0,altAxis:0},Ie),We=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Oe={x:0,y:0};if(x){if(o){var Ve,Wt=p==="y"?et:ct,Kt=p==="y"?wt:lt,k=p==="y"?"height":"width",B=x[p],H=B+T[Wt],le=B-T[Kt],Ne=f?-ue[k]/2:0,It=j===di?W[k]:ue[k],$e=j===di?-ue[k]:-W[k],Qt=e.elements.arrow,De=f&&Qt?as(Qt):{width:0,height:0},ln=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$l(),Wn=ln[Wt],Ge=ln[Kt],Ft=ls(0,W[k],De[k]),dt=$?W[k]/2-Ne-Ft-Wn-Te.mainAxis:It-Ft-Wn-Te.mainAxis,vn=$?-W[k]/2+Ne+Ft+Ge+Te.mainAxis:$e+Ft+Ge+Te.mainAxis,dr=e.elements.arrow&&ar(e.elements.arrow),eu=dr?p==="y"?dr.clientTop||0:dr.clientLeft||0:0,za=(Ve=We?.[p])!=null?Ve:0,tu=B+dt-za-eu,nu=B+vn-za,qa=ls(f?ss(H,tu):H,B,f?sr(le,nu):le);x[p]=qa,Oe[p]=qa-B}if(a){var Ga,ru=p==="x"?et:ct,iu=p==="x"?wt:lt,Ur=x[K],mi=K==="y"?"height":"width",Wa=Ur+T[ru],uo=Ur-T[iu],Ka=[et,ct].indexOf(D)!==-1,ou=(Ga=We?.[K])!=null?Ga:0,su=Ka?Wa:Ur-W[mi]-ue[mi]-ou+Te.altAxis,au=Ka?Ur+W[mi]+ue[mi]-ou-Te.altAxis:uo,cu=f&&Ka?wx(su,Ur,au):ls(f?su:Wa,Ur,f?au:uo);x[K]=cu,Oe[K]=cu-Ur}e.modifiersData[r]=Oe}}var Ox={name:"preventOverflow",enabled:!0,phase:"main",fn:X4,requiresIfExists:["offset"]};function t0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function n0(t){return t===qe(t)||!Et(t)?us(t):t0(t)}function J4(t){var e=t.getBoundingClientRect(),n=hi(e.width)/t.offsetWidth||1,r=hi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function r0(t,e,n){n===void 0&&(n=!1);var r=Et(e),i=Et(e)&&J4(e),o=Gt(e),s=qn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Ot(e)!=="body"||hs(o))&&(a=n0(e)),Et(e)?(c=qn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=ds(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Z4(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function i0(t){var e=Z4(t);return vx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function o0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function s0(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Rx={placement:"bottom",modifiers:[],strategy:"absolute"};function Nx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function kx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Rx:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rx,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(D){var j=typeof D=="function"?D(u.options):D;E(),u.options=Object.assign({},o,u.options,j),u.scrollParents={reference:zn(a)?io(a):a.contextElement?io(a.contextElement):[],popper:io(c)};var $=i0(s0([].concat(r,u.options.modifiers)));return u.orderedModifiers=$.filter(function(p){return p.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var D=u.elements,j=D.reference,$=D.popper;if(Nx(j,$)){u.rects={reference:r0(j,ar($),u.options.strategy==="fixed"),popper:as($)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Te){return u.modifiersData[Te.name]=Object.assign({},Te.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var K=u.orderedModifiers[p],x=K.fn,W=K.options,ue=W===void 0?{}:W,Ie=K.name;typeof x=="function"&&(u=x({state:u,options:ue,name:Ie,instance:f})||u)}}}},update:o0(function(){return new Promise(function(T){f.forceUpdate(),T(u)})}),destroy:function(){E(),h=!0}};if(!Nx(a,c))return f;f.setOptions(l).then(function(T){!h&&l.onFirstUpdate&&l.onFirstUpdate(T)});function g(){u.orderedModifiers.forEach(function(T){var D=T.name,j=T.options,$=j===void 0?{}:j,p=T.effect;if(typeof p=="function"){var K=p({state:u,name:D,instance:f,options:$}),x=function(){};d.push(K||x)}})}function E(){d.forEach(function(T){return T()}),d=[]}return f}}var ez=[bx,Px,Cx,jl,Mx,Dx,Ox,Ex,xx],a0=kx({defaultModifiers:ez});var tz="tippy-box",qx="tippy-content",nz="tippy-backdrop",Gx="tippy-arrow",Wx="tippy-svg-arrow",fs={passive:!0,capture:!0},Kx=function(){return document.body};function c0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function p0(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Qx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Fx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function rz(t){return t.split(/\s+/).filter(Boolean)}function Na(t){return[].concat(t)}function Vx(t,e){t.indexOf(e)===-1&&t.push(e)}function iz(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function oz(t){return t.split("-")[0]}function Kf(t){return[].slice.call(t)}function Lx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Gl(){return document.createElement("div")}function Qf(t){return["Element","Fragment"].some(function(e){return p0(t,e)})}function sz(t){return p0(t,"NodeList")}function az(t){return p0(t,"MouseEvent")}function cz(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function lz(t){return Qf(t)?[t]:sz(t)?Kf(t):Array.isArray(t)?t:Kf(document.querySelectorAll(t))}function l0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function jx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function uz(t){var e,n=Na(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function dz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=oz(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,f=l==="right"?u.left.x:0,g=l==="left"?u.right.x:0,E=o.top-r+d>c,T=r-o.bottom-h>c,D=o.left-n+f>c,j=n-o.right-g>c;return E||T||D||j})}function u0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Ux(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Fr={isTouch:!1},Bx=0;function hz(){Fr.isTouch||(Fr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Yx))}function Yx(){var t=performance.now();t-Bx<20&&(Fr.isTouch=!1,document.removeEventListener("mousemove",Yx)),Bx=t}function fz(){var t=document.activeElement;if(cz(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function pz(){document.addEventListener("touchstart",hz,fs),window.addEventListener("blur",fz)}var mz=typeof window<"u"&&typeof document<"u",gz=mz?!!window.msCrypto:!1;var yz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},vz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},lr=Object.assign({appendTo:Kx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yz,vz),_z=Object.keys(lr),wz=function(e){var n=Object.keys(e);n.forEach(function(r){lr[r]=e[r]})};function Xx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=lr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function Ez(t,e){var n=e?Object.keys(Xx(Object.assign({},lr,{plugins:e}))):_z,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function $x(t,e){var n=Object.assign({},e,{content:Qx(e.content,[t])},e.ignoreAttributes?{}:Ez(t,e.plugins));return n.aria=Object.assign({},lr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Iz=function(){return"innerHTML"};function h0(t,e){t[Iz()]=e}function Hx(t){var e=Gl();return t===!0?e.className=Gx:(e.className=Wx,Qf(t)?e.appendChild(t):h0(e,t)),e}function zx(t,e){Qf(e.content)?(h0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?h0(t,e.content):t.textContent=e.content)}function f0(t){var e=t.firstElementChild,n=Kf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(qx)}),arrow:n.find(function(r){return r.classList.contains(Gx)||r.classList.contains(Wx)}),backdrop:n.find(function(r){return r.classList.contains(nz)})}}function Jx(t){var e=Gl(),n=Gl();n.className=tz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Gl();r.className=qx,r.setAttribute("data-state","hidden"),zx(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=f0(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&zx(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Hx(s.arrow))):c.appendChild(Hx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}Jx.$$tippy=!0;var Cz=1,Wf=[],d0=[];function bz(t,e){var n=$x(t,Object.assign({},lr,Xx(Lx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,f=[],g=Fx(tu,n.interactiveDebounce),E,T=Cz++,D=null,j=iz(n.plugins),$={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:T,reference:t,popper:Gl(),popperInstance:D,props:n,state:$,plugins:j,clearDelayTimeouts:su,setProps:au,setContent:cu,show:pP,hide:mP,hideWithInteractivity:gP,enable:Ka,disable:ou,unmount:yP,destroy:vP};if(!n.render)return p;var K=n.render(p),x=K.popper,W=K.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+p.id,p.popper=x,t._tippy=p,x._tippy=p;var ue=j.map(function(b){return b.fn(p)}),Ie=t.hasAttribute("aria-expanded");return dr(),Ne(),B(),H("onCreate",[p]),n.showOnCreate&&Wa(),x.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&Wt().addEventListener("mousemove",g)}),p;function Te(){var b=p.props.touch;return Array.isArray(b)?b:[b,0]}function We(){return Te()[0]==="hold"}function Oe(){var b;return!!((b=p.props.render)!=null&&b.$$tippy)}function Ve(){return E||t}function Wt(){var b=Ve().parentNode;return b?uz(b):document}function Kt(){return f0(x)}function k(b){return p.state.isMounted&&!p.state.isVisible||Fr.isTouch||u&&u.type==="focus"?0:c0(p.props.delay,b?0:1,lr.delay)}function B(b){b===void 0&&(b=!1),x.style.pointerEvents=p.props.interactive&&!b?"":"none",x.style.zIndex=""+p.props.zIndex}function H(b,q,oe){if(oe===void 0&&(oe=!0),ue.forEach(function(Se){Se[b]&&Se[b].apply(Se,q)}),oe){var ke;(ke=p.props)[b].apply(ke,q)}}function le(){var b=p.props.aria;if(b.content){var q="aria-"+b.content,oe=x.id,ke=Na(p.props.triggerTarget||t);ke.forEach(function(Se){var Zt=Se.getAttribute(q);if(p.state.isVisible)Se.setAttribute(q,Zt?Zt+" "+oe:oe);else{var Rn=Zt&&Zt.replace(oe,"").trim();Rn?Se.setAttribute(q,Rn):Se.removeAttribute(q)}})}}function Ne(){if(!(Ie||!p.props.aria.expanded)){var b=Na(p.props.triggerTarget||t);b.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===Ve()?"true":"false"):q.removeAttribute("aria-expanded")})}}function It(){Wt().removeEventListener("mousemove",g),Wf=Wf.filter(function(b){return b!==g})}function $e(b){if(!(Fr.isTouch&&(c||b.type==="mousedown"))){var q=b.composedPath&&b.composedPath()[0]||b.target;if(!(p.props.interactive&&Ux(x,q))){if(Na(p.props.triggerTarget||t).some(function(oe){return Ux(oe,q)})){if(Fr.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[p,b]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||Wn())}}}function Qt(){c=!0}function De(){c=!1}function ln(){var b=Wt();b.addEventListener("mousedown",$e,!0),b.addEventListener("touchend",$e,fs),b.addEventListener("touchstart",De,fs),b.addEventListener("touchmove",Qt,fs)}function Wn(){var b=Wt();b.removeEventListener("mousedown",$e,!0),b.removeEventListener("touchend",$e,fs),b.removeEventListener("touchstart",De,fs),b.removeEventListener("touchmove",Qt,fs)}function Ge(b,q){dt(b,function(){!p.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&q()})}function Ft(b,q){dt(b,q)}function dt(b,q){var oe=Kt().box;function ke(Se){Se.target===oe&&(u0(oe,"remove",ke),q())}if(b===0)return q();u0(oe,"remove",d),u0(oe,"add",ke),d=ke}function vn(b,q,oe){oe===void 0&&(oe=!1);var ke=Na(p.props.triggerTarget||t);ke.forEach(function(Se){Se.addEventListener(b,q,oe),f.push({node:Se,eventType:b,handler:q,options:oe})})}function dr(){We()&&(vn("touchstart",za,{passive:!0}),vn("touchend",nu,{passive:!0})),rz(p.props.trigger).forEach(function(b){if(b!=="manual")switch(vn(b,za),b){case"mouseenter":vn("mouseleave",nu);break;case"focus":vn(gz?"focusout":"blur",qa);break;case"focusin":vn("focusout",qa);break}})}function eu(){f.forEach(function(b){var q=b.node,oe=b.eventType,ke=b.handler,Se=b.options;q.removeEventListener(oe,ke,Se)}),f=[]}function za(b){var q,oe=!1;if(!(!p.state.isEnabled||Ga(b)||a)){var ke=((q=u)==null?void 0:q.type)==="focus";u=b,E=b.currentTarget,Ne(),!p.state.isVisible&&az(b)&&Wf.forEach(function(Se){return Se(b)}),b.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?oe=!0:Wa(b),b.type==="click"&&(s=!oe),oe&&!ke&&uo(b)}}function tu(b){var q=b.target,oe=Ve().contains(q)||x.contains(q);if(!(b.type==="mousemove"&&oe)){var ke=mi().concat(x).map(function(Se){var Zt,Rn=Se._tippy,ys=(Zt=Rn.popperInstance)==null?void 0:Zt.state;return ys?{popperRect:Se.getBoundingClientRect(),popperState:ys,props:n}:null}).filter(Boolean);dz(ke,b)&&(It(),uo(b))}}function nu(b){var q=Ga(b)||p.props.trigger.indexOf("click")>=0&&s;if(!q){if(p.props.interactive){p.hideWithInteractivity(b);return}uo(b)}}function qa(b){p.props.trigger.indexOf("focusin")<0&&b.target!==Ve()||p.props.interactive&&b.relatedTarget&&x.contains(b.relatedTarget)||uo(b)}function Ga(b){return Fr.isTouch?We()!==b.type.indexOf("touch")>=0:!1}function ru(){iu();var b=p.props,q=b.popperOptions,oe=b.placement,ke=b.offset,Se=b.getReferenceClientRect,Zt=b.moveTransition,Rn=Oe()?f0(x).arrow:null,ys=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Ve()}:t,P0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(lu){var vs=lu.state;if(Oe()){var _P=Kt(),dp=_P.box;["placement","reference-hidden","escaped"].forEach(function(uu){uu==="placement"?dp.setAttribute("data-placement",vs.placement):vs.attributes.popper["data-popper-"+uu]?dp.setAttribute("data-"+uu,""):dp.removeAttribute("data-"+uu)}),vs.attributes.popper={}}}},ho=[{name:"offset",options:{offset:ke}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Zt}},P0];Oe()&&Rn&&ho.push({name:"arrow",options:{element:Rn,padding:3}}),ho.push.apply(ho,q?.modifiers||[]),p.popperInstance=a0(ys,x,Object.assign({},q,{placement:oe,onFirstUpdate:h,modifiers:ho}))}function iu(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function Ur(){var b=p.props.appendTo,q,oe=Ve();p.props.interactive&&b===Kx||b==="parent"?q=oe.parentNode:q=Qx(b,[oe]),q.contains(x)||q.appendChild(x),p.state.isMounted=!0,ru()}function mi(){return Kf(x.querySelectorAll("[data-tippy-root]"))}function Wa(b){p.clearDelayTimeouts(),b&&H("onTrigger",[p,b]),ln();var q=k(!0),oe=Te(),ke=oe[0],Se=oe[1];Fr.isTouch&&ke==="hold"&&Se&&(q=Se),q?r=setTimeout(function(){p.show()},q):p.show()}function uo(b){if(p.clearDelayTimeouts(),H("onUntrigger",[p,b]),!p.state.isVisible){Wn();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var q=k(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function Ka(){p.state.isEnabled=!0}function ou(){p.hide(),p.state.isEnabled=!1}function su(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function au(b){if(!p.state.isDestroyed){H("onBeforeUpdate",[p,b]),eu();var q=p.props,oe=$x(t,Object.assign({},q,Lx(b),{ignoreAttributes:!0}));p.props=oe,dr(),q.interactiveDebounce!==oe.interactiveDebounce&&(It(),g=Fx(tu,oe.interactiveDebounce)),q.triggerTarget&&!oe.triggerTarget?Na(q.triggerTarget).forEach(function(ke){ke.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),Ne(),B(),W&&W(q,oe),p.popperInstance&&(ru(),mi().forEach(function(ke){requestAnimationFrame(ke._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[p,b])}}function cu(b){p.setProps({content:b})}function pP(){var b=p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=Fr.isTouch&&!p.props.touch,Se=c0(p.props.duration,0,lr.duration);if(!(b||q||oe||ke)&&!Ve().hasAttribute("disabled")&&(H("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,Oe()&&(x.style.visibility="visible"),B(),ln(),p.state.isMounted||(x.style.transition="none"),Oe()){var Zt=Kt(),Rn=Zt.box,ys=Zt.content;l0([Rn,ys],0)}h=function(){var ho;if(!(!p.state.isVisible||l)){if(l=!0,x.offsetHeight,x.style.transition=p.props.moveTransition,Oe()&&p.props.animation){var up=Kt(),lu=up.box,vs=up.content;l0([lu,vs],Se),jx([lu,vs],"visible")}le(),Ne(),Vx(d0,p),(ho=p.popperInstance)==null||ho.forceUpdate(),H("onMount",[p]),p.props.animation&&Oe()&&Ft(Se,function(){p.state.isShown=!0,H("onShown",[p])})}},Ur()}}function mP(){var b=!p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=c0(p.props.duration,1,lr.duration);if(!(b||q||oe)&&(H("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,s=!1,Oe()&&(x.style.visibility="hidden"),It(),Wn(),B(!0),Oe()){var Se=Kt(),Zt=Se.box,Rn=Se.content;p.props.animation&&(l0([Zt,Rn],ke),jx([Zt,Rn],"hidden"))}le(),Ne(),p.props.animation?Oe()&&Ge(ke,p.unmount):p.unmount()}}function gP(b){Wt().addEventListener("mousemove",g),Vx(Wf,g),g(b)}function yP(){p.state.isVisible&&p.hide(),p.state.isMounted&&(iu(),mi().forEach(function(b){b._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),d0=d0.filter(function(b){return b!==p}),p.state.isMounted=!1,H("onHidden",[p]))}function vP(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),eu(),delete t._tippy,p.state.isDestroyed=!0,H("onDestroy",[p]))}}function Wl(t,e){e===void 0&&(e={});var n=lr.plugins.concat(e.plugins||[]);pz();var r=Object.assign({},e,{plugins:n}),i=lz(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&bz(l,r);return u&&c.push(u),c},[]);return Qf(t)?a[0]:a}Wl.defaultProps=lr;Wl.setDefaultProps=wz;Wl.currentInput=Fr;var Pre=Object.assign({},jl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Wl.setDefaultProps({render:Jx});var m0=Wl;var g0=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Hd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function Yf(t){return t instanceof er}function Kl(t){return typeof t=="function"}function Ql(t){return typeof t=="string"}var y0=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},v0=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Tz=new G("Component context"),_0=(()=>{let e=class e{constructor(){this.injector=O(Qe),this.appRef=O(br),this.environmentInjector=O(Dt)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=Js(i.context),o=Qe.create({providers:[{provide:Tz,useValue:s.asReadonly()}],parent:o})),new g0({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new y0({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(Yf(r))return this.createTemplate(r,i);if(Kl(r))return this.createComponent(r,i);if(Ql(r))return new v0(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eM=!1,tM=!1;typeof window<"u"&&(eM="IntersectionObserver"in window,tM="ResizeObserver"in window);function Zx(t,e={root:null,threshold:.3}){let n=oM(t);return new se(r=>{if(!eM){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function nM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Sz(t){let e=oM(t);return rM(e).pipe(Np(150),re(()=>nM(e)))}function rM(t){return Az(t)}function Az(t){return new se(e=>{if(!tM){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Yl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function iM(t){return(Mz(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function xz(t){return Pz(t)?"":typeof t=="string"?t:`${t}px`}function Mz(t){return typeof t=="string"}function Pz(t){return t==null}function oM(t){return t instanceof jt?t.nativeElement:t}var w0,E0=new WeakMap;function Oz(t,e){return w0??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||E0.get(r.target)()})}),E0.set(t,e),w0.observe(t),()=>{E0.delete(t),w0.unobserve(t)}}var I0=new G("Tippy config",{providedIn:"root",factory(){return{}}}),sM=new G("TIPPY_REF"),Vr=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Ke,this.destroyed=new Vt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Vt,this.contentChanged=new Vt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;Xf("content",r)&&this.contentChanged.next(),Xf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=R(R({},this.globalConfig.variations[o]),i)),Xf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),Xf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Zx(this.host).pipe(Tt(()=>this.isOverflowing$()),Yn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):Zx(this.host).pipe(Yn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Yn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Yn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Oz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(R(R({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Yl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=m0(this.host,Ae(R(R(R({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Yl(this.globalConfig)),Yl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of iM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);Ql(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!Ql(this.content)){let o=Qe.create({providers:[{provide:sM,useValue:this.instance}],parent:this.injector});Kl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):Yf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,R({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Kl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),Ql(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){Rs(this.host,"contextmenu").pipe(Yn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Rs(document.body,"keydown").pipe(bt(({code:r})=>r==="Escape"),Yn(ec(this.destroyed,this.visibleInternal.pipe(bt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){rM(this.host).pipe(Yn(ec(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=xz(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return Ic(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[Sz(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(Tt(()=>new se(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),re(()=>nM(this.host)))),ec(...r)}};e.\u0275fac=function(i){return new(i||e)(M(kn),M(I0),M(Qe),M(_0),M(Ut),M(Ce),M(jt))},e.\u0275dir=st({type:e,selectors:[["","tp",""]],inputs:{appendTo:[ne.None,"tpAppendTo","appendTo"],content:[ne.None,"tp","content"],delay:[ne.None,"tpDelay","delay"],duration:[ne.None,"tpDuration","duration"],hideOnClick:[ne.None,"tpHideOnClick","hideOnClick"],interactive:[ne.None,"tpInteractive","interactive"],interactiveBorder:[ne.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[ne.None,"tpMaxWidth","maxWidth"],offset:[ne.None,"tpOffset","offset"],placement:[ne.None,"tpPlacement","placement"],popperOptions:[ne.None,"tpPopperOptions","popperOptions"],showOnCreate:[ne.None,"tpShowOnCreate","showOnCreate"],trigger:[ne.None,"tpTrigger","trigger"],triggerTarget:[ne.None,"tpTriggerTarget","triggerTarget"],zIndex:[ne.None,"tpZIndex","zIndex"],animation:[ne.None,"tpAnimation","animation"],useTextContent:[ne.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Vn],isLazy:[ne.HasDecoratorInputTransform,"tpIsLazy","isLazy",Vn],variation:[ne.None,"tpVariation","variation"],isEnabled:[ne.None,"tpIsEnabled","isEnabled"],className:[ne.None,"tpClassName","className"],onlyTextOverflow:[ne.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Vn],staticWidthHost:[ne.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Vn],data:[ne.None,"tpData","data"],useHostWidth:[ne.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Vn],hideOnEscape:[ne.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Vn],detectChangesComponent:[ne.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[ne.None,"tpPopperWidth","popperWidth"],customHost:[ne.None,"tpHost","customHost"],isVisible:[ne.HasDecoratorInputTransform,"tpIsVisible","isVisible",Vn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[jd,Xr]});let t=e;return t})();function Xf(t,e){return t in e}var aM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Ae(R(R(R({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Qe.create({providers:[{provide:sM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,Yf(i)?c.$viewOptions.context=R({$implicit:c.hide.bind(c)},o.context):Kl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,R(R({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Yl(this.globalConfig)),this.globalConfig.variations[s]),Yl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of iM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return m0(r,a)}};e.\u0275fac=function(i){return new(i||e)(V(I0),V(_0),V(Qe))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cM(t={}){return Oi([{provide:I0,useValue:t}])}var oo=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Nz=500,cn=Nz+"ms ease",Zre=Un("skip",[at(":enter",[])]),ka=Un("fade",[at(":enter",[me({opacity:0}),_t(cn,me({opacity:1}))]),at(":leave",[me({opacity:1,"pointer-events":"none"}),_t(cn,me({opacity:0}))])]),eie=Un("scalefade",[at(":enter",[me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),_t(cn,me({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),at(":leave",[me({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),_t(cn,me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),lM=Un("crossfade",[at(":enter",[me({opacity:0}),_t(cn,me({opacity:1}))]),at(":leave",[me({opacity:1,"pointer-events":"none",position:"absolute"}),_t(cn,me({opacity:0}))])]),uM=Un("enter",[at(":enter",[me({opacity:0}),_t(cn,me({opacity:1}))])]),tie=Un("leave",[at(":leave",[me({opacity:1}),_t(cn,me({opacity:0}))])]),nie=Un("hidden",[at("* => true",[me({opacity:"*"}),_t(cn,me({opacity:0}))]),at("true => *",[me({opacity:0}),_t(cn,me({opacity:"*"}))])]),rie=Un("drawer2",[oA("0",me({height:0})),at("1 => void",[]),at("1 => *",[me({height:"*"}),_t(cn,me({height:0}))]),at("0 => void",[me({height:0}),_t(cn,me({height:0}))]),at("0 => *",[me({height:0}),_t(cn,me({height:"*"}))])]),dM=Un("drawer",[at(":enter",[me({height:0,opacity:0}),_t(cn,me({height:"*",opacity:"*"}))]),at(":leave",[me({height:"*",opacity:"*"}),_t(cn,me({height:0,opacity:0}))])]);var N=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var Fa=class extends ht{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,r){return typeof e=="function"?super.pipe(Lp(1)).subscribe(e,n,r):super.subscribe(e)}};var tt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Fa(!1),this.changes=new Fa(!1),this.errors=new Fa(!1)}initTheme(){this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nt=class{};var Pn=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(r,i){if(r){let o=r.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(i?i.clientHeight:window.innerHeight)&&o.right<=(i?i.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function kz(t,e){if(t&1){let n=Y();m(0,"i",4),I("mousedown",function(i){S(n);let o=_();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=_();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=_();return A(o.previousState(i))}),y()}if(t&2){let n=_();C("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function Fz(t,e){if(t&1){let n=Y();m(0,"i",5),I("mousedown",function(i){S(n);let o=_();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=_();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=_();return A(o.previousState(i))}),y()}}function Vz(t,e){if(t&1){let n=Y();m(0,"i",6),I("mousedown",function(i){S(n);let o=_();return A(o.onMouseDown(i))})("click",function(i){S(n);let o=_();return A(o.nextState(i))})("contextmenu",function(i){S(n);let o=_();return A(o.previousState(i))}),y()}}var hM=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Ke}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){if(Math.abs(r.pageX-this.clickX)<Pn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(r.pageY-this.clickY)<Pn.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}}previousState(r){if(Math.abs(r.pageX-this.clickX)<Pn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(r.pageY-this.clickY)<Pn.MOUSE_MOVEMENT_TOLERANCE){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[X],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,kz,1,1,"i",1)(2,Fz,1,0,"i",2)(3,Vz,1,0,"i",3),y()),i&2&&(Ee("tri",o.tri),w(),C("ngIf",o.state==-1),w(),C("ngIf",o.state==0),w(),C("ngIf",o.state==1))},dependencies:[Z,pn,ze],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var Va=class{constructor(){this.images=[]}};var Jf=class{};var Zf=class extends Jf{};var On=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var La=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return En(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return En(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return En(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?En(this.http.post(e,n).pipe(re(r=>r?r.files:[]))):En(this.http.get(e).pipe(re(r=>r?r.files:[])))}};var ja=(()=>{let e=class e extends La{constructor(r){super(r),this.http=r,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return v(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield En(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return v(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(V(ko))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jt=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new oo(5e3),this.fullscreenVisible=Js(!1),this.filter=Js([]),this.target=Js(null)}processData(){return v(this,null,function*(){let r=yield this.googleService.getData();return this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.heartsFilter=r.heartsFilter,this.bookmarksFilter=r.bookmarksFilter,this.settings=r.settings,this.groupSizeFilterMin=r.groupSizeFilterMin,this.groupSizeFilterMax=r.groupSizeFilterMax,this.comparison=r.comparison,this.tags=r.tags,this.tags.forEach(i=>i.lowerCaseName=i.name.toLowerCase()),r})}processImages(r,i=this.dataFolderId,o=[],s={calls:0}){s.calls++,this.googleService.getFolderMetadata(i).then(a=>{for(let c of a.filter(l=>On.isFolder(l)))this.processImages(r,c.id,o,s);if(N.push(o,a.filter(c=>On.isImage(c)||On.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth))),--s.calls==0){this.images=o,this.groups=r.groupProperties.map(c=>{let l=new Va;return l.images=this.images.filter(u=>c.imageIds.includes(u.id)),l.images.sort((u,d)=>c.imageIds.indexOf(u.id)-c.imageIds.indexOf(d.id)),l.images.forEach(u=>u.group=l),l}),this.refreshFilter();for(let c of r.imageProperties.filter(l=>!this.images.some(u=>l.id==u.id)))console.log(c),console.log("This image does not exist, but has a data entry. Removing image entry from data."),N.remove(this.images,this.images.find(l=>l.id==c.id));this.applicationService.loading.next(!1)}})}metaToImage(r,i,o,s){let a=new Zf;return a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),On.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):On.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),i?(a.heart=i.heart,a.bookmark=i.bookmark,a.tagIds=i.tagIds||[],a.likes=i.likes||0):(this.settings.autoBookmark&&(a.bookmark=!0),a.tagIds=[],a.likes=0),a}updateData(r=!1){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tagIds:i.tagIds,likes:i.likes})),groupProperties:this.groups.filter(i=>i.images?.length>1).map(i=>({imageIds:i.images.map(o=>o.id)})),tags:this.tags.map(i=>({id:i.id,name:i.name,state:i.state})),heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax,comparison:this.comparison}).then(i=>{i||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})}),r&&this.updateDelay.complete()}refreshFilter(r){r?this.actuallyRefreshFilter(r):this.images.forEach(i=>this.actuallyRefreshFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}actuallyRefreshFilter(r){r.group?r.group.open?r.passesFilter=this.doesPassFilter(r):r.group.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)):r.passesFilter=this.doesPassFilter(r)}doesPassFilter(r){if(!r||this.heartsFilter==-1&&r.heart||this.heartsFilter==1&&!r.heart||this.bookmarksFilter==-1&&r.bookmark||this.bookmarksFilter==1&&!r.bookmark||this.settings.showVideos==-1&&On.isVideo(r)||this.editingGroup&&r.group&&this.editingGroup!=r.group)return!1;let i=r.group?r.group.images.length:0;if(i<this.groupSizeFilterMin||i>this.groupSizeFilterMax)return!1;let o;for(let s of this.tags)if(o=r.tagIds.includes(s.id),s.state==-1&&o||s.state==1&&!o)return!1;return!0}toggleHeart(r){r.heart=!r.heart,this.refreshFilter(r),this.updateData()}toggleBookmark(r){r.bookmark=!r.bookmark,this.refreshFilter(r),this.updateData()}addTag(r,i){r.tagIds.includes(i)||r.tagIds.push(i),this.refreshFilter(r),this.updateData()}toggleTag(r,i){r.tagIds.includes(i)?N.remove(r.tagIds,i):r.tagIds.push(i),this.refreshFilter(r),this.updateData()}like(r){r.likes++,this.updateData()}dislike(r){r.likes>0&&(r.likes--,this.updateData())}delete(r,i,o=!0){return v(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))){if(this.applicationService.loading.next(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),N.remove(this.images,this.images.find(s=>s.id==r.id)),r.group&&(r.group.images.length>2?N.remove(r.group.images,r):(r.group.images.forEach(s=>delete s.group),N.remove(this.groups,r.group))),this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&N.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.fullscreenVisible.set(!1),this.updateData(!0),this.applicationService.loading.next(!1)}})}getTag(r){return this.tags.find(i=>i.id==r)}};e.\u0275fac=function(i){return new(i||e)(V(M_),V(tt),V(ja),V(ut))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fM=(()=>{let e=class e extends Nt{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.refreshFilter(),this.needsDataUpdate&&this.stateService.updateData()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(M(Jt))},e.\u0275cmp=Q({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.close(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},standalone:!0,features:[Xe,X],decls:8,vars:2,consts:[[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"app-switch",1),I("stateChange",function(a){return o.onShowVideosStateChange(a)}),y(),m(2,"span",2),L(3,"Show Videos"),y()(),m(4,"div",0)(5,"app-switch",3),I("stateChange",function(a){return o.onAutoBookmarkStateChange(a)}),y(),m(6,"span",2),L(7,"Auto Bookmark"),y()()),i&2&&(w(),C("state",o.stateService.settings.showVideos),w(4),C("state",o.stateService.settings.autoBookmark))},dependencies:[Z,hM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var Lz=["content"];function jz(t,e){if(t&1){let n=Y();m(0,"div",4)(1,"span"),L(2),y(),m(3,"i",5),I("click",function(){S(n);let i=_();return A(i.close())}),y()()}if(t&2){let n=_();w(2),pe(n.contentInstance.configuration.title)}}function Uz(t,e){t&1&&(m(0,"div",6),Lg(1,null,7),y())}function Bz(t,e){if(t&1){let n=Y();m(0,"i",11),I("click",function(){S(n);let i=_(2).$implicit;return A(i.click&&i.click())}),y()}if(t&2){let n=_(2).$implicit,r=_();_b("icon-button "+r.getIconClass(n)),Ee("disabled",r.isDisabled(n))}}function $z(t,e){if(t&1){let n=Y();m(0,"div",12),I("click",function(){S(n);let i=_(2).$implicit;return A(i.click&&i.click())}),L(1),y()}if(t&2){let n=_(2).$implicit,r=_();Ee("disabled",r.isDisabled(n)),w(),pe(r.getText(n))}}function Hz(t,e){if(t&1&&(pt(0),z(1,Bz,1,4,"i",9)(2,$z,2,3,"div",10),mt()),t&2){let n=_().$implicit;w(),C("ngIf",n.iconClass),w(),C("ngIf",n.text)}}function zz(t,e){if(t&1&&(pt(0),z(1,Hz,3,2,"ng-container",8),mt()),t&2){let n=e.$implicit,r=_();w(),C("ngIf",!r.isHidden(n))}}var pM=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(r=>this.resolve=r)}ngAfterViewInit(){if(this.contentComponentType){let r=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=r.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>r.destroy(),250)}),this.inputs)for(let[i,o]of Object.entries(this.inputs))r.setInput(i,o);this.visible=!0,r.changeDetectorRef.detectChanges()}else{let r=this.inputs.buttons;for(let i of r)i.click=()=>this.resolve(i.resolveValue);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:r},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let i of r)i.text&&typeof i.text=="function"&&(i.text=i.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-dialog-base"]],viewQuery:function(i,o){if(i&1&&Ab(Lz,5,Ut),i&2){let s;jg(s=Ug())&&(o.containerRef=s.first)}},hostVars:5,hostBindings:function(i,o){i&2&&(wc("@overlayFade",o.isVisible),Ee("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[X],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&(z(0,jz,4,1,"div",0)(1,Uz,3,0,"div",1),m(2,"div",2),z(3,zz,2,1,"ng-container",3),y()),i&2&&(C("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),w(),C("ngIf",o.contentComponentType),w(2),C("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[Z,He,ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[Un("overlayFade",[at("* => visible",[me({opacity:0}),_t("250ms ease",me({opacity:1}))]),at("* => hidden",[me({opacity:1}),_t("250ms ease",me({opacity:0}))])])]}});let t=e;return t})();function qz(t,e){if(t&1&&(m(0,"span"),L(1),y()),t&2){let n=e.$implicit;w(),pe(n)}}var mM=(()=>{let e=class e extends Nt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275cmp=Q({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},standalone:!0,features:[Xe,X],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,qz,2,1,"span",1),y()),i&2&&(w(),C("ngForOf",o.messages))},dependencies:[Z,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var CM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(M(xo),M(jt))},e.\u0275dir=st({type:e});let t=e;return t})(),Gz=(()=>{let e=class e extends CM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275dir=st({type:e,features:[Xe]});let t=e;return t})(),bM=new G("");var Wz={provide:bM,useExisting:gc(()=>jr),multi:!0};function Kz(){let t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Qz=new G(""),jr=(()=>{let e=class e extends CM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Kz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(M(xo),M(jt),M(Qz,8))},e.\u0275dir=st({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Bg([Wz]),Xe]});let t=e;return t})();var Yz=new G(""),Xz=new G("");function TM(t){return t!=null}function DM(t){return Ro(t)?Le(t):t}function SM(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function AM(t,e){return e.map(n=>n(t))}function Jz(t){return!t.validate}function xM(t){return t.map(e=>Jz(e)?e:n=>e.validate(n))}function Zz(t){if(!t)return null;let e=t.filter(TM);return e.length==0?null:function(n){return SM(AM(n,e))}}function MM(t){return t!=null?Zz(xM(t)):null}function eq(t){if(!t)return null;let e=t.filter(TM);return e.length==0?null:function(n){let r=AM(n,e).map(DM);return Rp(r).pipe(re(SM))}}function PM(t){return t!=null?eq(xM(t)):null}function gM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tq(t){return t._rawValidators}function nq(t){return t._rawAsyncValidators}function b0(t){return t?Array.isArray(t)?t:[t]:[]}function tp(t,e){return Array.isArray(t)?t.includes(e):t===e}function yM(t,e){let n=b0(e);return b0(t).forEach(i=>{tp(n,i)||n.push(i)}),n}function vM(t,e){return b0(e).filter(n=>!tp(t,n))}var np=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},T0=class extends np{get formDirective(){return null}get path(){return null}},Zl=class extends np{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},D0=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},foe=Ae(R({},rq),{"[class.ng-submitted]":"isSubmitted"}),ao=(()=>{let e=class e extends D0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(Zl,2))},e.\u0275dir=st({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ee("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xe]});let t=e;return t})();var Xl="VALID",ep="INVALID",Ua="PENDING",Jl="DISABLED";function iq(t){return(rp(t)?t.validators:t)||null}function oq(t){return Array.isArray(t)?MM(t):t||null}function sq(t,e){return(rp(e)?e.asyncValidators:t)||null}function aq(t){return Array.isArray(t)?PM(t):t||null}function rp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var S0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xl}get invalid(){return this.status===ep}get pending(){return this.status==Ua}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vM(e,this._rawAsyncValidators))}hasValidator(e){return tp(this._rawValidators,e)}hasAsyncValidator(e){return tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ua,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(r=>{r.disable(Ae(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this._forEachChild(r=>{r.enable(Ae(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xl||this.status===Ua)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator=!0;let n=DM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(ep)?ep:Xl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aq(this._rawAsyncValidators)}};var OM=new G("CallSetDisabledState",{providedIn:"root",factory:()=>A0}),A0="always";function cq(t,e){return[...e.path,t]}function lq(t,e,n=A0){dq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),hq(t,e),pq(t,e),fq(t,e),uq(t,e)}function _M(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function dq(t,e){let n=tq(t);e.validator!==null?t.setValidators(gM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=nq(t);e.asyncValidator!==null?t.setAsyncValidators(gM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_M(e._rawValidators,i),_M(e._rawAsyncValidators,i)}function hq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&RM(t,e)})}function fq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&RM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function RM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gq(t){return Object.getPrototypeOf(t.constructor)===Gz}function yq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===jr?n=o:gq(o)?r=o:i=o}),i||r||n||null}function wM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var vq=class extends S0{constructor(e=null,n,r){super(iq(n),sq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(EM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){EM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _q={provide:Zl,useExisting:gc(()=>pi)},IM=Promise.resolve(),pi=(()=>{let e=class e extends Zl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new vq,this._registered=!1,this.name="",this.update=new Ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=yq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),mq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){IM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Vn(i);IM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?cq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(M(T0,9),M(Yz,10),M(Xz,10),M(bM,10),M(ki,8),M(OM,8))},e.\u0275dir=st({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ne.None,"disabled","isDisabled"],model:[ne.None,"ngModel","model"],options:[ne.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bg([_q]),Xe,Xr]});let t=e;return t})();var wq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nn({type:e}),e.\u0275inj=rn({});let t=e;return t})();var yn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:OM,useValue:r.callSetDisabledState??A0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=nn({type:e}),e.\u0275inj=rn({imports:[wq]});let t=e;return t})();var kt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var NM=(()=>{let e=class e extends Nt{ngOnInit(){this.value=this.defaultValue,this.configuration={title:this.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!kt.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275cmp=Q({type:e,selectors:[["app-input-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},inputs:{title:"title",placeholder:"placeholder",defaultValue:"defaultValue",positiveButtonText:"positiveButtonText"},standalone:!0,features:[Xe,X],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(m(0,"input",0),ti("ngModelChange",function(a){return Ni(o.value,a)||(o.value=a),a}),y()),i&2&&(ei("ngModel",o.value),C("placeholder",o.placeholder))},dependencies:[Z,yn,jr,ao,pi],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Eq(t,e){if(t&1&&(m(0,"span"),L(1),y()),t&2){let n=e.$implicit;w(),pe(n)}}var kM=(()=>{let e=class e extends Nt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275cmp=Q({type:e,selectors:[["app-message-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},inputs:{title:"title",messages:"messages"},standalone:!0,features:[Xe,X],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,Eq,2,1,"span",1),y()),i&2&&(w(),C("ngForOf",o.messages))},dependencies:[Z,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var ut=(()=>{let e=class e{constructor(r,i){this.appRef=r,this.injector=i,this.stack=[],window.addEventListener("keydown",o=>{o.code=="Escape"&&N.getLast(this.stack)?.close()})}openSettings(){return this.create(fM)}createMessage(r,i){return this.create(kM,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(mM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(NM,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i,o=!0,s="center"){let a=Hd(pM,{environmentInjector:this.injector}),c=a.instance;return c.contentComponentType=r,c.inputs=i,c.blurOverlay=o,c.position=s,c.active=()=>N.isLast(this.stack,c),c.result.then(()=>{N.remove(this.stack,c),setTimeout(()=>{this.appRef.detachView(a.hostView),a.destroy()},250)}),this.stack.push(c),this.appRef.attachView(a.hostView),document.body.firstElementChild.appendChild(a.location.nativeElement),a.changeDetectorRef.detectChanges(),c.result}};e.\u0275fac=function(i){return new(i||e)(V(br),V(Dt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iq(t,e){t&1&&ie(0,"div",3),t&2&&C("@fade",void 0)}function Cq(t,e){t&1&&ie(0,"span",4),t&2&&C("@fade",void 0)}var FM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new oo(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||N.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(M(tt),M(ut))},e.\u0275cmp=Q({type:e,selectors:[["app-root"]],standalone:!0,features:[X],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(z(0,Iq,1,1,"div",0),ie(1,"div",1),z(2,Cq,1,1,"span",2),ie(3,"router-outlet")),i&2&&(C("ngIf",o.isBlurOverlayVisible()),w(),Zr("background-color",o.getLoadingBarColor()),w(),C("ngIf",o.applicationService.loading.value))},dependencies:[Z,ze,Bw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[ka]}});let t=e;return t})();function bq(t,e){if(t&1){let n=Y();m(0,"span",6),I("click",function(){let o=S(n).$implicit,s=_(2);return A(s.onDataFileClick(o))}),L(1),y()}if(t&2){let n=e.$implicit;w(),pe(n.name.substring(0,n.name.length-10))}}function Tq(t,e){if(t&1){let n=Y();m(0,"span",6),I("click",function(){let o=S(n).$implicit,s=_(2);return A(s.onFolderClick(o))}),L(1),y()}if(t&2){let n=e.$implicit;w(),pe(n.name)}}function Dq(t,e){if(t&1&&(m(0,"div",4),z(1,bq,2,1,"span",5)(2,Tq,2,1,"span",5),y()),t&2){let n=_();w(),C("ngForOf",n.dataFiles),w(),C("ngForOf",n.folders)}}var VM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.next(!0)}ngOnInit(){return v(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>On.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.next(!1)})}onDataFileClick(r){this.applicationService.loading.next(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return v(this,null,function*(){this.applicationService.loading.next(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tags:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(M(gn),M(ja),M(tt))},e.\u0275cmp=Q({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[X],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,Dq,3,2,"div",1),m(2,"div",2)(3,"i",3),I("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),y()()()),i&2&&(Ee("opacity-1",!o.applicationService.loading.value),w(),C("ngIf",!0),w(2),C("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Z,pn,He,ze],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var LM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new x0,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(er))},e.\u0275dir=st({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),x0=class{};var jM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ps=(()=>{let e=class e extends Nt{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.tag?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>this.tag==null,click:()=>this.deleteTag()}]}}ngOnInit(){this.tag&&(this.tagName=this.tag.name)}deleteTag(){this.tag&&this.dialogService.createConfirmation("Delete Tag",['Are you sure you want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(r=>{if(r){for(let i of this.stateService.images)N.remove(i.tagIds,this.tag.id);N.remove(this.stateService.tags,this.tag),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return kt.isEmpty(this.tagName)?!1:this.tag&&this.tagName==this.tag.name?!0:this.stateService.tags.find(r=>this.tagName==r.name)==null}submit(){this.canSubmit()&&(this.tag?(this.tag.name=this.tagName,this.tag.lowerCaseName=this.tagName.toLowerCase()):(this.tag={id:jM(),name:this.tagName,state:0,lowerCaseName:this.tagName.toLowerCase()},this.stateService.tags.push(this.tag)),this.stateService.tags.sort((r,i)=>r.name.localeCompare(i.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(M(ut),M(Jt))},e.\u0275cmp=Q({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)},inputs:{tag:"tag",tagName:"tagName"},standalone:!0,features:[Xe,X],decls:4,vars:1,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&(m(0,"span",0),L(1,"Name"),y(),m(2,"div",1)(3,"input",2),ti("ngModelChange",function(a){return Ni(o.tagName,a)||(o.tagName=a),a}),y()()),i&2&&(w(3),ei("ngModel",o.tagName))},dependencies:[Z,yn,jr,ao,pi],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Sq(t,e){if(t&1){let n=Y();m(0,"i",26),I("click",function(){S(n);let i=_(2);return A(i.setRandomGroupTarget())}),y()}}function Aq(t,e){if(t&1&&(m(0,"div",27)(1,"span"),L(2),y()()),t&2){let n=e.$implicit,r=_(2),i=Je(2);C("tp",i)("tpData",n),w(2),pe(r.stateService.getTag(n).name)}}function xq(t,e){if(t&1){let n=Y();m(0,"div",28)(1,"i",3),I("click",function(){S(n);let i=_().ngVar,o=_();return A(o.moveTargetGroupLeft(i))}),y(),m(2,"i",29),I("click",function(){S(n);let i=_().ngVar,o=_();return A(o.moveTargetGroupRight(i))}),y()()}if(t&2){let n=_().ngVar,r=_();w(),Ee("disabled",r.isFirstGroupImage(n)),w(),Ee("disabled",r.isLastGroupImage(n))}}function Mq(t,e){if(t&1&&ie(0,"iframe",33),t&2){let n=_().$implicit;Ud("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),C("src",n.contentLink,SC)}}function Pq(t,e){if(t&1){let n=Y();m(0,"img",35),I("load",function(){S(n);let i=_(4);return A(i.loadingC=!1)}),y()}if(t&2){let n=_(2).$implicit;C("src",n.contentLink,bn)}}function Oq(t,e){if(t&1){let n=Y();pt(0),m(1,"img",34),I("click",function(){S(n);let i=_().$implicit,o=_(2);return A(o.onImageClick(i))}),y(),m(2,"img",35),I("load",function(){S(n);let i=_(3);return A(i.loadingT=!1)}),y(),z(3,Pq,1,1,"img",36),mt()}if(t&2){let n=_().$implicit,r=_(2);w(),C("src",r.getSrc(n),bn),w(),C("src",n.thumbnailLink,bn),w(),C("ngIf",n.contentLink)}}function Rq(t,e){if(t&1&&(m(0,"div",30),z(1,Mq,1,3,"iframe",31)(2,Oq,4,3,"ng-container",32),y()),t&2){let n=_(2);C("@fade",void 0),w(),C("ngIf",n.video),w(),C("ngIf",!n.video)}}function Nq(t,e){if(t&1){let n=Y();pt(0),m(1,"div",2)(2,"div")(3,"i",3),I("click",function(){S(n);let i=_();return A(i.stateService.fullscreenVisible.set(!1))}),y(),z(4,Sq,1,0,"i",4),m(5,"i",5),I("click",function(){S(n);let i=_();return A(i.setRandomTarget())}),y()(),m(6,"div")(7,"i",6),I("click",function(){let o=S(n).ngVar,s=_();return A(s.stateService.toggleHeart(o))}),y(),m(8,"i",7),I("click",function(){let o=S(n).ngVar,s=_();return A(s.stateService.toggleBookmark(o))}),y(),m(9,"span",8),I("click",function(){let o=S(n).ngVar,s=_();return A(s.stateService.like(o))})("contextmenu",function(i){let s=S(n).ngVar,a=_();return i.preventDefault(),A(a.stateService.dislike(s))}),L(10),y()()(),m(11,"div",9)(12,"div",10)(13,"div",11)(14,"i",12),I("click",function(){let o=S(n).ngVar,s=_();return A(s.stateService.delete(o,!0))}),y(),m(15,"i",13),I("click",function(){let o=S(n).ngVar,s=_();return A(s.stateService.delete(o,!1))}),y()(),m(16,"div",14)(17,"div",15),z(18,Aq,3,3,"div",16),m(19,"div",17)(20,"div",18),ie(21,"input",19),m(22,"input",20,21),I("input",function(i){S(n);let o=_();return A(o.onTagInput(i))})("keypress",function(i){S(n);let o=_();return A(o.onTagInputSubmit(i))}),y()(),m(24,"i",22),I("click",function(){S(n);let i=_();return A(i.onTagInputSubmit())}),y()()(),z(25,xq,3,4,"div",23),y(),ie(26,"div",24),y()(),z(27,Rq,3,3,"div",25),mt()}if(t&2){let n=e.ngVar,r=Je(23),i=_();w(4),C("ngIf",n==null?null:n.group),w(3),C("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),w(),C("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),w(2),pe(n==null?null:n.likes),w(8),C("ngForOf",n==null?null:n.tagIds),w(3),C("placeholder",(i.tagMatch==null?null:i.tagMatch.name)||(r.value.length>0?"":"Tag Search")),w(4),C("ngIf",n==null?null:n.group),w(2),C("ngForOf",i.crossfadeHelper)}}function kq(t,e){if(t&1){let n=Y();m(0,"div",37)(1,"span",38),I("click",function(){let o=S(n).data,s=_();return A(s.editTag(o))}),L(2,"Edit"),y(),m(3,"span",38),I("click",function(){let o=S(n).data,s=_();return A(s.removeTag(o))}),L(4,"Remove"),y()()}}var UM=(()=>{let e=class e{constructor(r,i,o){this.applicationService=r,this.stateService=i,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,ea(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(r){r&&this.crossfadeHelper[0]!=r&&(this.crossfadeHelper[0]=r,On.isVideo(r)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}initKeybinds(r){if(this.dialogService.stack.length==0){switch(r.code){case"Escape":this.stateService.fullscreenVisible.update(i=>!i);return}if(["BODY","VIDEO"].includes(r.target.nodeName)&&this.stateService.fullscreenVisible())switch(r.code){case"KeyR":this.setRandomTarget();return;case"KeyG":this.setRandomGroupTarget();return}}}setRandomTarget(){if(!N.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=N.getRandom(this.stateService.filter(),i.group.images):r=N.getRandom(this.stateService.filter(),[i]):r=N.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(N.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return N.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return N.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(N.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(N.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}editTag(r){this.dialogService.create(ps,{tag:this.stateService.getTag(r)})}removeTag(r){this.stateService.toggleTag(this.stateService.target(),r)}createTag(){this.dialogService.create(ps)}onTagInput(r){let i=r.target.value.toLowerCase();if(i.length>0){for(let o of this.stateService.tags)if(o.lowerCaseName.startsWith(i)){this.tagMatch=o,r.target.value=o.name.substring(0,i.length);return}}this.tagMatch=null}onTagInputSubmit(r){return v(this,null,function*(){if(!r||r.key==="Enter"){let i=document.getElementById("tag-input");this.tagMatch||(this.tagMatch=yield this.dialogService.create(ps,{tagName:i.value})),this.tagMatch&&(this.stateService.addTag(this.stateService.target(),this.tagMatch.id),this.tagMatch=null,i.value="")}})}};e.\u0275fac=function(i){return new(i||e)(M(tt),M(Jt),M(ut))},e.\u0275cmp=Q({type:e,selectors:[["app-fullscreen"]],hostBindings:function(i,o){i&1&&I("keydown",function(a){return o.initKeybinds(a)},!1,MC)},standalone:!0,features:[X],decls:3,vars:1,consts:[[4,"ngVar"],["tagHoverMenu",""],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group",3,"click",4,"ngIf"],["tp","Random Image",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[1,"buttons"],[2,"justify-content","start"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"flex","column","center"],[1,"tags"],["class","tag-bubble","tpVariation","hovermenu",3,"tp","tpData",4,"ngFor","ngForOf"],[1,"tag-bubble",2,"display","flex","position","relative","padding-right","0"],[2,"width","100%"],[2,"position","absolute","width","100%","border","0","padding","0","user-select","none","pointer-events","none",3,"placeholder"],["id","tag-input","autocomplete","off",2,"position","relative","width","100%","border","0","padding","0",3,"input","keypress"],["tagInput",""],[1,"icon-button","fa-solid","fa-plus",3,"click"],["class","flex",4,"ngIf"],[2,"justify-content","end"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],["tp","Random Image from Group",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tpVariation","hovermenu",1,"tag-bubble",3,"tp","tpData"],[1,"flex"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"],[1,"tippy-hover-menu-container"],[1,"tippy-hover-menu-button",3,"click"]],template:function(i,o){i&1&&z(0,Nq,28,8,"ng-container",0)(1,kq,5,0,"ng-template",null,1,Zs),i&2&&C("ngVar",o.stateService.target())},dependencies:[Z,pn,He,ze,LM,Vr],styles:['[_nghost-%COMP%]{z-index:20;background-color:#000000e6;transition:.5s}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;top:0;right:0;left:0;display:flex;justify-content:space-between;pointer-events:none}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;right:0;bottom:0;left:0;pointer-events:none;display:flex;flex-direction:column}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:.3333333333rem}}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag-bubble[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;padding:0 .3333333333rem;background-color:var(--color-overlay);cursor:default}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[ka]}});let t=e;return t})();var BM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Ke}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(M(jt))},e.\u0275dir=st({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var ms=class t{static getBetterThan(e,n,r,i=[]){for(let o of r[e])N.push(i,o),t.getBetterThan(o,n,r,i);return i}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let r=[],i=e;for(;i;)r.push(i),i.directlyBetterThan.length==1?i=i.directlyBetterThan[0]:i=null;let o=[];return n.filter(s=>!r.includes(s)).forEach(s=>o.push([s,s.getBetterThan().length])),o.sort((s,a)=>a[1]-s[1]),N.push(r,o.map(s=>s[0])),r}};var op=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)N.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var Ba=class{constructor(e,n,r){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(i=>new op(n(i),i)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),r&&Object.keys(r).length>0)for(let i of this.contenders)i.directlyBetterThan=r[i.id]?.map(o=>this.contenders.find(s=>s.id==o))||[];this.first=ms.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=ms.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=ms.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,r,i;do{for(let o of this.contenders)i=o.directlyBetterThan.filter(s=>!e.includes(s)),i.length>n&&(n=i.length,r=i,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=r[0],s=r[1];o.isBetterThan(s)?(N.remove(this.resolvingTiesFor.directlyBetterThan,s),N.push(o.directlyBetterThan,s),this.nextComparison()):s.isBetterThan(o)?(N.remove(this.resolvingTiesFor.directlyBetterThan,o),N.push(s.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,s],this.history.unshift(o,s),this.leaderboard=ms.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(N.push(this.winnersQueue,e),N.push(this.losersQueue,n),N.push(e.directlyBetterThan,n),this.queue.length<=1){let r=this.queue.shift();r&&this.winnersQueue.unshift(r),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":N.push(this.winnersQueue,e),N.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":N.push(this.losersQueue,n),N.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":N.remove(this.resolvingTiesFor.directlyBetterThan,n),N.push(e.directlyBetterThan,n);break}this.contenders.forEach(r=>r.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Fq(t,e){if(t&1){let n=Y();m(0,"div",4)(1,"div",5),I("click",function(){S(n);let i=_();return A(i.onImageClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),ie(2,"img",6),y(),ie(3,"div",7),m(4,"div",5),I("click",function(){S(n);let i=_();return A(i.onImageClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),ie(5,"img",6),y()()}if(t&2){let n=_();w(2),C("src",n.tournament.currentComparison[0].object.thumbnailLink,bn),w(3),C("src",n.tournament.currentComparison[1].object.thumbnailLink,bn)}}function Vq(t,e){if(t&1&&(m(0,"div",8),ie(1,"img",6),y()),t&2){let n=e.$implicit;w(),C("src",n.object.thumbnailLink,bn)}}var $M=(()=>{let e=class e extends Nt{constructor(r){super(),this.stateService=r,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new Ba(this.images,r=>r.id,this.stateService.comparison)}onImageClick(r,i){this.tournament.handleUserInput(r,i)}reset(){this.tournament.reset()}save(){let r={};for(let i of this.tournament.contenders)r[i.id]=i.directlyBetterThan.map(o=>o.id);this.stateService.comparison=r,this.stateService.updateData(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(i){return new(i||e)(M(Jt))},e.\u0275cmp=Q({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[Xe,X],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(i,o){i&1&&(z(0,Fq,6,2,"div",0),ie(1,"div",1),m(2,"div",2),z(3,Vq,2,1,"div",3),y()),i&2&&(C("ngIf",o.tournament.currentComparison),w(3),C("ngForOf",o.tournament.leaderboard))},dependencies:[Z,He,ze],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var $a=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(M(Ut))},e.\u0275dir=st({type:e,selectors:[["","dragdrop",""]],inputs:{object:[ne.None,"dragdrop","object"],array:[ne.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Lq(t,e){if(t&1){let n=Y();m(0,"div",4),I("click",function(){let o=S(n).$implicit,s=_();return A(s.target=o)}),ie(1,"img",5),y()}if(t&2){let n=e.$implicit,r=_();Ee("active",n==r.target),C("dragdrop",n)("dragdropParent",r.images),w(),C("src",n.thumbnailLink,bn)}}var HM=(()=>{let e=class e extends Nt{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.target=N.getFirst(this.images)}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Cn(e)))(o||e)}})(),e.\u0275cmp=Q({type:e,selectors:[["app-group-order"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},inputs:{images:"images"},standalone:!0,features:[Xe,X],decls:4,vars:2,consts:[[1,"image-container"],[1,"image-content",3,"src"],[1,"results"],["class","image-container",3,"active","dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"image",3,"src"]],template:function(i,o){i&1&&(m(0,"div",0),ie(1,"img",1),y(),m(2,"div",2),z(3,Lq,2,5,"div",3),y()),i&2&&(w(),C("src",o.target.contentLink,bn),w(2),C("ngForOf",o.images))},dependencies:[Z,He,$a],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{min-height:0;display:flex;justify-content:center}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{max-width:100%;padding:.3333333333rem .3333333333rem 0;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:120px;min-height:120px;padding:.3333333333rem;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container.active[_ngcontent-%COMP%]{outline:.1666666667rem solid var(--color-secondary);outline-offset:-.1666666667rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var sp=(()=>{let e=class e{constructor(r,i,o){this.stateService=r,this.dialogService=i,this.tippyService=o}editGroup(r){let i;r?r.group?(i=r.group.open,r.group.open=!0,r.group.images.forEach(s=>this.stateService.refreshFilter(s)),this.stateService.editingGroup=r.group,this.stateService.editingGroupImages=r.group.images.slice()):(this.stateService.editingGroup=null,this.stateService.editingGroupImages=[r]):(this.stateService.editingGroup=null,this.stateService.editingGroupImages=[]),this.stateService.refreshFilter();let o=[{text:()=>"Save Group: "+this.stateService.editingGroupImages?.length+" images",resolveValue:!0},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(s=>{if(s)if(this.stateService.editingGroupImages.length>1){if(r?.group)r.group.images.forEach(a=>a.group=null),r.group.images=this.stateService.editingGroupImages,r.group.images.forEach(a=>a.group=a.group);else{let a=new Va;a.images=this.stateService.editingGroupImages,a.images.forEach(c=>c.group=a),this.stateService.groups.push(a)}this.stateService.updateData()}else r?.group&&(r.group.images.forEach(a=>a.group=null),N.remove(this.stateService.groups,r.group));r?.group&&(r.group.open=i),this.stateService.editingGroup=null,this.stateService.editingGroupImages=null,this.stateService.refreshFilter()})}reorderGroup(r){r&&r.group&&this.dialogService.create(HM,{images:r.group.images.slice()}).then(i=>{i&&(r.group.images.sort((o,s)=>i.indexOf(o)-i.indexOf(s)),this.stateService.refreshFilter(),this.stateService.updateData())})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(V(Jt),V(ut),V(aM))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jq(t,e){if(t&1){let n=Y();m(0,"div",18)(1,"span",19),I("click",function(){let o=S(n).$implicit,s=_();return A(s.toggleFilter(o))})("contextmenu",function(i){let s=S(n).$implicit,a=_();return i.preventDefault(),A(a.toggleFilter(s))}),L(2),y(),m(3,"i",20),I("click",function(){let o=S(n).$implicit,s=_();return A(s.removeFilter(o))}),y()()}if(t&2){let n=e.$implicit,r=_(),i=Je(18);w(),C("ngClass",r.getTagBubbleClass(n.state))("tp",i)("tpData",n),w(),pe(n.name)}}function Uq(t,e){if(t&1){let n=Y();m(0,"div",21)(1,"span",22),I("click",function(){let o=S(n).data,s=_();return A(s.editTag(o))}),L(2,"Edit"),y()()}}var qM=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.dialogService=o,this.galleryService=s}openImageComparison(){this.dialogService.create($M,{images:N.shuffle(this.stateService.images.slice())})}getFilterTags(){return this.stateService.tags?.filter(r=>r.state!=0)}getTagBubbleClass(r,i){switch(r){case 1:return"positive "+(i?"fa-solid":"");case-1:return"negative "+(i?"fa-solid":"");default:return i?"fa-regular":""}}removeFilter(r){r.state=0,this.stateService.updateData(),this.stateService.refreshFilter()}toggleHeartsFilter(r){this.stateService.heartsFilter==(r?-1:0)?this.stateService.heartsFilter=1:this.stateService.heartsFilter==(r?0:1)?this.stateService.heartsFilter=-1:this.stateService.heartsFilter=0,this.stateService.updateData(),this.stateService.refreshFilter()}toggleBookmarksFilter(r){this.stateService.bookmarksFilter==(r?-1:0)?this.stateService.bookmarksFilter=1:this.stateService.bookmarksFilter==(r?0:1)?this.stateService.bookmarksFilter=-1:this.stateService.bookmarksFilter=0,this.stateService.updateData(),this.stateService.refreshFilter()}toggleFilter(r){r.state=r.state*-1,this.stateService.updateData(),this.stateService.refreshFilter()}onFilterInput(r){let i=r.target.value.toLowerCase();if(i.length>0){for(let o of this.stateService.tags)if(o.lowerCaseName.startsWith(i)){this.tagMatch=o,r.target.value=o.name.substring(0,i.length);return}}this.tagMatch=null}onFilterInputSubmit(r){return v(this,null,function*(){if(!r||r.key==="Enter"){let i=document.getElementById("filter-input");this.tagMatch||(this.tagMatch=yield this.dialogService.create(ps,{tagName:i.value})),this.tagMatch&&(this.tagMatch.state=1,this.tagMatch=null,i.value="",this.stateService.refreshFilter())}})}editTag(r){this.dialogService.create(ps,{tag:r})}};e.\u0275fac=function(i){return new(i||e)(M(tt),M(Jt),M(ut),M(sp))},e.\u0275cmp=Q({type:e,selectors:[["app-header"]],standalone:!0,features:[X],decls:19,vars:5,consts:[[1,"header-start"],["tp","Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"tags"],[1,"icon-button","fa-heart",3,"ngClass","click","contextmenu"],[1,"icon-button","fa-bookmark",3,"ngClass","click","contextmenu"],["class","filter-bubble",4,"ngFor","ngForOf"],[1,"filter-input-container",2,"display","flex","position","relative","padding-right","0"],[1,"filter-input-text"],[3,"placeholder"],["id","filter-input","autocomplete","off",3,"input","keypress"],["filterInput",""],[1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tagHoverMenu",""],[1,"filter-bubble"],["tpVariation","hovermenu",1,"filter-bubble-text",3,"ngClass","tp","tpData","click","contextmenu"],[1,"icon-button","fa-solid","fa-xmark",3,"click"],[1,"tippy-hover-menu-container"],[1,"tippy-hover-menu-button",3,"click"]],template:function(i,o){if(i&1&&(m(0,"div",0)(1,"i",1),I("click",function(){return o.openImageComparison()}),y(),m(2,"i",2),I("click",function(){return o.galleryService.editGroup()}),y()(),m(3,"div",3)(4,"div",4)(5,"i",5),I("click",function(){return o.toggleHeartsFilter()})("contextmenu",function(a){return a.preventDefault(),o.toggleHeartsFilter(!0)}),y(),m(6,"i",6),I("click",function(){return o.toggleBookmarksFilter()})("contextmenu",function(a){return a.preventDefault(),o.toggleBookmarksFilter(!0)}),y(),z(7,jq,4,4,"div",7),m(8,"div",8)(9,"div",9),ie(10,"input",10),m(11,"input",11,12),I("input",function(a){return o.onFilterInput(a)})("keypress",function(a){return o.onFilterInputSubmit(a)}),y()(),m(13,"i",13),I("click",function(){return o.onFilterInputSubmit()}),y()()()(),m(14,"div",14)(15,"i",15),I("click",function(){return o.applicationService.toggleTheme()}),y(),m(16,"i",16),I("click",function(){return o.dialogService.openSettings()}),y()(),z(17,Uq,3,0,"ng-template",null,17,Zs)),i&2){let s=Je(12);w(5),C("ngClass",o.getTagBubbleClass(o.stateService.heartsFilter,!0)),w(),C("ngClass",o.getTagBubbleClass(o.stateService.bookmarksFilter,!0)),w(),C("ngForOf",o.getFilterTags()),w(3),C("placeholder",(o.tagMatch==null?null:o.tagMatch.name)||(s.value.length>0?"":"Filter")),w(5),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun")}},dependencies:[Z,pn,He,Vr],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:2rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{flex:1;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:.3333333333rem}}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover);cursor:pointer}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]   .filter-bubble-text[_ngcontent-%COMP%]{padding:0 .3333333333rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%]{width:100%;padding:0 .3333333333rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input#filter-input[_ngcontent-%COMP%]{position:absolute;width:100%;border:0;padding:0;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(#filter-input){position:relative;width:100%;border:0;padding:0}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Bq(t,e){if(t&1&&(m(0,"i",17),I("click",function(r){return r.stopPropagation()}),y()),t&2){let n=_(2).$implicit;_(2);let r=Je(3);C("tp",r)("tpData",n)}}function $q(t,e){if(t&1){let n=Y();pt(0),m(1,"div",9)(2,"i",10),I("click",function(i){S(n);let o=_().$implicit,s=_(2);return i.stopPropagation(),A(s.stateService.toggleHeart(o))}),y(),m(3,"i",11),I("click",function(i){S(n);let o=_().$implicit,s=_(2);return i.stopPropagation(),A(s.stateService.toggleBookmark(o))}),y(),m(4,"i",12),I("click",function(i){S(n);let o=_().$implicit,s=_(2);return i.stopPropagation(),A(s.stateService.like(o))})("contextmenu",function(i){S(n);let o=_().$implicit,s=_(2);return i.preventDefault(),A(s.stateService.dislike(o))}),L(5),y(),z(6,Bq,1,2,"i",13),y(),m(7,"div",14)(8,"i",15),I("click",function(i){S(n);let o=_().$implicit,s=_(2);return i.stopPropagation(),A(s.googleService.openSearch(o.name))}),y(),m(9,"i",16),I("click",function(i){S(n);let o=_().$implicit,s=_(2);return A(s.galleryService.openYandexReverseImageSearch(i,o))}),y()(),mt()}if(t&2){let n=_().$implicit;w(2),C("ngClass",n.heart?"fa-solid active":"fa-regular"),w(),C("ngClass",n.bookmark?"fa-solid active":"fa-regular"),w(2),pe(n.likes),w(),C("ngIf",n.group)}}function Hq(t,e){if(t&1){let n=Y();m(0,"div",5),I("click",function(){let o=S(n).$implicit,s=_(2);return A(s.onImageClick(o))}),m(1,"div",6)(2,"img",7,8),I("create",function(i){let s=S(n).$implicit,a=_(2);return A(a.onBrickCreate(i,s))})("load",function(){S(n);let i=Je(3);return A(i.style.opacity="1")}),y()(),z(4,$q,10,4,"ng-container",0),y()}if(t&2){let n=e.$implicit,r=_(2);Ud("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ee("modifying-group",r.stateService.editingGroupImages==null?null:r.stateService.editingGroupImages.includes(n)),C("@fade",void 0),w(2),C("src",n.thumbnailLink,bn),w(2),C("ngIf",r.areBrickButtonsVisible())}}function zq(t,e){if(t&1){let n=Y();pt(0),m(1,"div",2)(2,"div",3),I("create",function(i){S(n);let o=_();return A(o.onMasonryContainerCreate(i))}),z(3,Hq,5,7,"div",4),y()(),mt()}if(t&2){let n=_();w(3),C("ngForOf",n.masonryImages)}}function qq(t,e){if(t&1){let n=Y();m(0,"div",18)(1,"i",19),I("click",function(i){let s=S(n).data,a=_();return A(a.onGroupToggleClick(i,s))}),y(),m(2,"i",20),I("click",function(){let o=S(n).data,s=_();return A(s.galleryService.editGroup(o))}),y(),m(3,"i",21),I("click",function(){let o=S(n).data,s=_();return A(s.galleryService.reorderGroup(o))}),y()()}if(t&2){let n=e.data,r=_();w(),Ee("disabled",r.shouldDisableGroupToggleButton(n)),C("ngClass",n.group.open?"fa-down-left-and-up-right-to-center":"fa-up-right-and-down-left-from-center")("tp",n.group.open?"Collapse Group":"Expand Group")}}var GM=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.googleService=o,this.galleryService=s,this.bricks={},ea(()=>this.updateLayout()),ea(()=>this.scrollTo(this.stateService.target()))}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u.group.open?!0:u==u.group.images.filter(d=>d.passesFilter)[0]:!0),this.masonryImages.length==0)return;let r=Pn.isLargeScreen()?250:200,i=Pn.isLargeScreen()?12:6,o=this.masonryContainer.clientWidth,s=Math.floor(o/r),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages)u.width!=a&&(u.width=a,u.height=a/u.aspectRatio);for(let u of this.masonryImages)if(u.group?.open){if(u==u.group.images.filter(d=>d.passesFilter)[0]){let d=[this.getShortestColumnIndex(c)],h=[];for(let f=0;f<s;f++)h.push({top:0,bottom:0});for(let f of u.group.images.filter(g=>g.passesFilter)){let g=[...d],E=Math.min(...d);if(E>0){let j=c[E-1]+f.height*.5;j>h[E].top&&j<h[E].bottom&&g.push(E-1)}let T=Math.max(...d);if(T<s-1){let j=c[T+1]+f.height*.5;j>h[T].top&&j<h[T].bottom&&g.push(T+1)}let D=this.getShortestColumnIndex(c.map((j,$)=>g.includes($)?j:999999999));N.push(d,D),f.top=c[D],f.left=l[D],c[D]+=f.height+i,h[D].top==0?(h[D].top=f.top,h[D].bottom=f.top+f.height):h[D].bottom+=i+f.height}}}else{let d=this.getShortestColumnIndex(c);u.top=c[d],u.left=l[d],c[d]=c[d]+u.height+i}}}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r,o=this.bricks[i?.id];if(o&&!Pn.isElementVisible(o)){let s=document.getElementsByClassName("masonry-scroll-container")[0],a=i.top-(s.clientHeight-o.height)/2;s.scrollTo({top:a,behavior:"smooth"})}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}onImageClick(r){if(this.stateService.editingGroupImages){if(r.group&&this.stateService.editingGroup!=r.group)return;N.toggle(this.stateService.editingGroupImages,r);return}this.stateService.target.set(r),this.stateService.fullscreenVisible.set(!0)}onGroupToggleClick(r,i){Pn.isLargeScreen()&&(r.stopPropagation(),i.group&&(i.group.open=!i.group.open,this.stateService.refreshFilter()))}onBrickCreate(r,i){this.bricks[i.id]=r.nativeElement}onMasonryContainerCreate(r){this.masonryContainer=r.nativeElement,this.updateLayout()}shouldDisableGroupToggleButton(r){return r.group&&r.group.images.filter(i=>i.passesFilter).length<2}onResize(){this.updateLayout()}areBrickButtonsVisible(){return Pn.isLargeScreen()&&!this.stateService.editingGroup}};e.\u0275fac=function(i){return new(i||e)(M(tt),M(Jt),M(ja),M(sp))},e.\u0275cmp=Q({type:e,selectors:[["app-masonry"]],hostBindings:function(i,o){i&1&&I("resize",function(){return o.onResize()},!1,Ye)},standalone:!0,features:[X],decls:4,vars:1,consts:[[4,"ngIf"],["groupButtonHoverMenu",""],[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],["class","icon-button active fa-solid fa-object-group","tpVariation","hovermenu",3,"tp","tpData","click",4,"ngIf"],[1,"brick-footer"],["tp","Open in Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Open Yandex RIS",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],["tpVariation","hovermenu",1,"icon-button","active","fa-solid","fa-object-group",3,"tp","tpData","click"],[1,"tippy-hover-menu-container","row"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["tp","Edit Group",1,"icon-button","fa-solid","fa-plus-minus",3,"click"],["tp","Reorder Group",1,"icon-button","fa-solid","fa-right-left",3,"click"]],template:function(i,o){i&1&&(ie(0,"app-header"),z(1,zq,4,1,"ng-container",0)(2,qq,4,4,"ng-template",null,1,Zs)),i&2&&(w(),C("ngIf",!o.applicationService.reduceBandwidth))},dependencies:[Z,pn,He,ze,BM,Vr,qM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[ka]}});let t=e;return t})();var WM=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.stateService.processData().then(r=>v(this,null,function*(){r.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(r)}))}};e.\u0275fac=function(i){return new(i||e)(M(ut),M(tt),M(Jt))},e.\u0275cmp=Q({type:e,selectors:[["app-gallery"]],standalone:!0,features:[X],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(i,o){i&1&&(m(0,"div",0),ie(1,"app-masonry")(2,"app-fullscreen"),y()),i&2&&(w(),C("@enter",void 0),w(),Ee("transparent",!o.stateService.fullscreenVisible()))},dependencies:[Z,GM,UM],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[uM]}});let t=e;return t})();var gs=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function Gq(t,e){if(t&1){let n=Y();m(0,"div",5)(1,"div",6)(2,"span"),L(3,"po\u010Det t\xEDmov"),y(),m(4,"input",7,8),I("input",function(){S(n);let i=Je(5),o=_();return A(o.onTeamCountChange(i))}),y()(),m(6,"div",6)(7,"span"),L(8,"trvanie kola"),y(),m(9,"input",7,9),I("input",function(){S(n);let i=Je(10),o=_();return A(o.onRoundDurationChange(i))}),y()(),m(11,"span",10),I("click",function(){S(n);let i=_();return A(i.settingsDone())}),L(12,"\u0161tart"),y()()}if(t&2){let n=_();w(4),C("value",4),w(5),C("value",60),w(2),Ee("disabled",!n.validateSettings())}}function Wq(t,e){t&1&&(m(0,"span"),L(1,"pre v\u0161etk\xFDch"),y())}function Kq(t,e){if(t&1){let n=Y();m(0,"div",11),z(1,Wq,2,0,"span",12),m(2,"span"),L(3),y(),m(4,"span"),L(5),y(),m(6,"span",10),I("click",function(){S(n);let i=_();return A(i.startRound())}),L(7,"\u0161tart"),y()()}if(t&2){let n=_();w(),C("ngIf",n.isCurrentRoundForEveryone()),w(2),pe(n.getCurrentDiscipline()),w(2),pe(n.availablePhrases[0])}}function Qq(t,e){if(t&1){let n=Y();m(0,"span",10),I("click",function(){S(n);let i=_(2);return A(i.endRoundEarly())}),L(1,"hotovo"),y()}}function Yq(t,e){if(t&1&&(m(0,"div",13)(1,"span"),L(2),y(),z(3,Qq,2,0,"span",14),y()),t&2){let n=_();w(2),pe(n.timeLeft),w(),C("ngIf",n.showEndRoundEarlyButton)}}function Xq(t,e){t&1&&(m(0,"span"),L(1,"pre v\u0161etk\xFDch"),y())}function Jq(t,e){if(t&1){let n=Y();m(0,"input",18,19),I("input",function(){S(n);let i=Je(1),o=_(2);return A(o.onForEveryoneWinnerChange(i))}),y()}}function Zq(t,e){if(t&1){let n=Y();m(0,"div",15),z(1,Xq,2,0,"span",12),m(2,"span"),L(3),y(),m(4,"span"),L(5),y(),m(6,"div",16),z(7,Jq,2,0,"input",17),m(8,"span",10),I("click",function(){S(n);let i=_();return A(i.roundOver(!0))}),L(9,"uh\xE1dli"),y()(),m(10,"span",10),I("click",function(){S(n);let i=_();return A(i.roundOver(!1))}),L(11,"neuh\xE1dli"),y()()}if(t&2){let n=_();w(),C("ngIf",n.isCurrentRoundForEveryone()),w(2),pe(n.getCurrentDiscipline()),w(2),pe(n.availablePhrases[0]),w(),Zr("gap","2rem"),w(),C("ngIf",n.isCurrentRoundForEveryone()),w(),Zr("width",100,"%"),Ee("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function eG(t,e){if(t&1&&(m(0,"span"),L(1),y()),t&2){let n=e.$implicit,r=e.index;w(),Oo("",r+1,". t\xEDm: ",n.wins,"")}}function tG(t,e){if(t&1){let n=Y();m(0,"div",20)(1,"span"),L(2,"sk\xF3re"),y(),z(3,eG,2,2,"span",21),m(4,"span",10),I("click",function(){S(n);let i=_();return A(i.currentView="instructions")}),L(5,"\u010Fa\u013E\u0161ie kolo"),y()()}if(t&2){let n=_();w(3),C("ngForOf",n.teams)}}var KM=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=N.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>N.push(s.roundDisciplines,N.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(gs.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-activity"]],standalone:!0,features:[X],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&z(0,Gq,13,4,"div",0)(1,Kq,8,3,"div",1)(2,Yq,4,2,"div",2)(3,Zq,12,10,"div",3)(4,tG,6,1,"div",4),i&2&&(C("ngIf",o.currentView=="settings"),w(),C("ngIf",o.currentView=="instructions"),w(),C("ngIf",o.currentView=="countdown"),w(),C("ngIf",o.currentView=="result"),w(),C("ngIf",o.currentView=="score"))},dependencies:[Z,He,ze,yn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var QM=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],YM=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],XM=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var JM=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,N.push(this.availableQuestions,QM),N.push(this.availableQuestions,YM),N.push(this.availableQuestions,XM),N.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[X],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.next()}),m(1,"span"),L(2),y()()),i&2&&(w(2),pe(o.currentQuestion))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var ZM=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=gs.from(this.limbs,this.limb),[this.color,this.backgroundColor]=gs.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-twister"]],standalone:!0,features:[X],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.spin()}),m(1,"span"),L(2),y()()),i&2&&(Zr("background-color",o.backgroundColor),w(2),Oo("",o.limb," ",o.color,""))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function nG(t,e){if(t&1){let n=Y();pt(0),m(1,"span",1),I("click",function(){S(n);let i=_();return A(i.navigate("gallery"))}),L(2,"Gallery"),y(),m(3,"span",1),I("click",function(){S(n);let i=_();return A(i.navigate("story-manager"))}),L(4,"Story Manager"),y(),m(5,"span",1),I("click",function(){S(n);let i=_();return A(i.navigate("comparison"))}),L(6,"Comparison"),y(),mt()}}var eP=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(M(gn),M(tt))},e.\u0275cmp=Q({type:e,selectors:[["app-landing"]],standalone:!0,features:[X],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span",1),I("click",function(){return o.navigate("games/activity")}),L(2,"Activity"),y(),m(3,"span",1),I("click",function(){return o.navigate("games/twister")}),L(4,"Twister"),y(),m(5,"span",1),I("click",function(){return o.navigate("games/nikdy-som")}),L(6,"Nikdy som"),y(),z(7,nG,7,0,"ng-container",2),y(),ie(8,"div",3),m(9,"div",0)(10,"i",4),I("click",function(){return o.applicationService.toggleTheme()}),y()(),m(11,"div",5),I("click",function(){return o.dev=o.dev+1}),y()),i&2&&(w(7),C("ngIf",o.dev>4),w(3),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,pn,ze],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var tP="https://mazacik.github.io",M0={production:!0,baseUrl:tP,redirectUrl:tP+"/login"};var Ha=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+M0.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return v(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:M0.redirectUrl,plugin_name:"TagalleryWeb"};yield ku(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return v(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield ku(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(V(ko))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(M(to),M(gn),M(Ha))},e.\u0275cmp=Q({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.signIn()}),ie(1,"img",1),m(2,"span",2),L(3,"Sign in with Google"),y()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var ap=(t,e)=>v(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=O(gn),r=O(Ha);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var rP=(t,e)=>{let n=O(gn),r=sessionStorage.getItem("dataFileId");return kt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var iP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return O(gn).createUrlTree([""])};var oP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&wc("@crossfade",o.crossfade)},standalone:!0,features:[X],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(m(0,"span",0),L(1),y(),m(2,"span"),L(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),y(),m(4,"span"),L(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),y(),ie(6,"img",1)),i&2&&(w(),pe(o.userAgent))},dependencies:[Z,yn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[lM]}});let t=e;return t})();var co=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!N.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],N.isEmpty(this.currentStory.notes)||(this.currentNote=N.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=kt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lo=(()=>{let e=class e extends La{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new oo(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.next(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.next(!1)}).catch(o=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.next(!1)})};r?(this.delay.stop(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(V(ko),V(tt),V(co),V(ut))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iG(t,e){if(t&1){let n=Y();m(0,"div",6),I("click",function(){let o=S(n).$implicit,s=_();return A(s.remove(o))}),m(1,"i",7),I("click",function(i){let s=S(n).$implicit;return _().editTag(s),A(i.stopPropagation())}),y(),m(2,"span"),L(3),y(),ie(4,"i",8),y()}if(t&2){let n=e.$implicit,r=_();C("dragdrop",n)("dragdropParent",r.currentTags),w(3),pe(n)}}function oG(t,e){if(t&1){let n=Y();m(0,"div",9),I("click",function(){let o=S(n).$implicit,s=_();return A(s.add(o))}),ie(1,"i",10),m(2,"span"),L(3),y(),m(4,"div",11)(5,"i",7),I("click",function(i){let s=S(n).$implicit;return _().editTag(s),A(i.stopPropagation())}),y(),m(6,"i",12),I("click",function(i){let s=S(n).$implicit;return _().deleteTag(s),A(i.stopPropagation())}),y()()()}if(t&2){let n=e.$implicit;w(3),pe(n)}}var sP=(()=>{let e=class e extends Nt{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.note.tags?this.currentTags=this.note.tags.slice():this.currentTags=[],this.availableTags=this.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),N.remove(this.availableTags,r)}remove(r){N.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!kt.isEmpty(i)){if(this.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(N.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(N.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),N.remove(this.note.parent.noteTags,r),this.note.parent.noteTags.push(i),this.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.note.parent.noteTags.push(i),this.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?N.remove(this.currentTags,r):N.remove(this.availableTags,r),this.note.parent.notes.forEach(o=>N.remove(o.tags,r)),N.remove(this.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(M(ut),M(lo))},e.\u0275cmp=Q({type:e,selectors:[["app-note-tag-manager"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ye)("keydown.escape",function(a){return o.close(a)},!1,Ye)},inputs:{note:"note"},standalone:!0,features:[Xe,X],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-smaller","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-smaller","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-smaller","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),L(2,"Tags"),y(),ie(3,"div",1),z(4,iG,5,3,"div",2),y(),ie(5,"div",3),m(6,"div",0)(7,"span"),L(8,"Available Tags"),y(),ie(9,"div",1),z(10,oG,7,1,"div",4),m(11,"i",5),I("click",function(){return o.editTag()}),y()()),i&2&&(w(4),C("ngForOf",o.currentTags),w(6),C("ngForOf",o.availableTags))},dependencies:[Z,He,$a],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function sG(t,e){t&1&&ie(0,"div",31)}function aG(t,e){if(t&1&&(pt(0),z(1,sG,1,0,"div",29),m(2,"span",30),L(3),y(),mt()),t&2){let n=e.$implicit,r=e.index;w(),C("ngIf",r!=0),w(2),pe(n)}}function cG(t,e){if(t&1){let n=Y();m(0,"div",20),I("click",function(){let o=S(n).$implicit,s=_(3);return A(s.setCurrentNote(o))})("dragend",function(){S(n);let i=_(3);return A(i.googleService.update())}),m(1,"div",21)(2,"span",22),L(3),y(),m(4,"div",23),z(5,aG,4,2,"ng-container",24),y()(),m(6,"div",25)(7,"span",26),L(8),y(),m(9,"div",27)(10,"i",28),I("click",function(i){let s=S(n).$implicit;return _(3).editTags(s),A(i.stopPropagation())}),y(),m(11,"i",13),I("click",function(i){let s=S(n).$implicit;return _(3).renameNote(s),A(i.stopPropagation())}),y(),m(12,"i",14),I("click",function(i){let s=S(n).$implicit,a=_(2).$implicit;return _().deleteNote(a,s),A(i.stopPropagation())}),y()()()()}if(t&2){let n=e.$implicit,r=_(2).$implicit,i=_();C("dragdrop",n)("dragdropParent",r.notes),w(2),Ee("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),w(),pe(n.title),w(2),C("ngForOf",n.tags),w(3),pe(n.wordCount)}}function lG(t,e){if(t&1){let n=Y();m(0,"div",16),z(1,cG,13,9,"div",17),m(2,"div",18)(3,"i",19),I("click",function(i){S(n);let o=_().$implicit;return _().createNote(o),A(i.stopPropagation())}),y()()()}if(t&2){let n=_().$implicit;C("@drawer",void 0),w(),C("ngForOf",n.notes)}}function uG(t,e){if(t&1){let n=Y();m(0,"div",7)(1,"div",8),I("click",function(){let o=S(n).$implicit,s=_();return A(s.setCurrentStory(o))})("dragend",function(){S(n);let i=_();return A(i.googleService.update())}),m(2,"span",9),L(3),y(),m(4,"div",10)(5,"span",11),L(6),y(),m(7,"div",12)(8,"i",13),I("click",function(i){let s=S(n).$implicit;return _().renameStory(s),A(i.stopPropagation())}),y(),m(9,"i",14),I("click",function(i){let s=S(n).$implicit;return _().deleteStory(s),A(i.stopPropagation())}),y()()()(),z(10,lG,4,2,"div",15),y()}if(t&2){let n=e.$implicit,r=_();w(),C("dragdrop",n)("dragdropParent",r.stateService.stories),w(),Ee("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),w(),pe(n.title),w(3),pe(r.getNotesWordCount(n)),w(4),C("ngIf",n==r.stateService.currentStory)}}var aP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,Pn.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r){this.stateService.currentStory=r}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{kt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(N.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),N.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(sP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{kt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),N.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!kt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(N.push(this.searchStories,i),N.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(M(ut),M(lo),M(co))},e.\u0275cmp=Q({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[X],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=Y();m(0,"input",0,1),I("input",function(){S(s);let c=Je(1);return A(o.onSearchInputChange(c))})("focus",function(){S(s);let c=Je(1);return A(c.select())}),y(),ie(2,"div",2),m(3,"div",3),z(4,uG,11,9,"div",4),y(),ie(5,"div",2),m(6,"div",5)(7,"i",6),I("click",function(){return o.createStory()}),y()()}i&2&&(w(4),C("ngForOf",o.stateService.stories))},dependencies:[Z,He,ze,yn,$a,Vr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[dM]}});let t=e;return t})();function dG(t,e){if(t&1){let n=Y();pt(0),m(1,"div",1)(2,"span",2),L(3),y()(),m(4,"div",3)(5,"textarea",4),ti("ngModelChange",function(i){S(n);let o=_();return Ni(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),A(i)}),I("ngModelChange",function(){S(n);let i=_();return A(i.onChange())}),y()(),mt()}if(t&2){let n=_();w(),Ee("focus-mode",!n.stateService.sidebarVisible),w(2),Oo("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),w(2),Ee("focus-mode",!n.stateService.sidebarVisible),ei("ngModel",n.stateService.currentNote.text)}}var cP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=kt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(M(lo),M(tt),M(co))},e.\u0275cmp=Q({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[X],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&z(0,dG,6,7,"ng-container",0),i&2&&C("ngIf",o.stateService.currentNote)},dependencies:[Z,ze,yn,jr,ao,pi],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.25rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var lP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.next(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(M(lo),M(tt),M(co))},e.\u0275cmp=Q({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[X],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=Y();m(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),y(),m(3,"i",3),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),y()(),m(4,"div",4)(5,"input",5,6),I("click",function(){S(s);let c=Je(6);return A(o.onCountdownInputClick(c))})("input",function(){S(s);let c=Je(6);return A(o.onCountdownInputChange(c))})("keypress",function(c){S(s);let l=Je(6);return A(o.onCountdownInputSubmit(c,l))})("focus",function(){S(s);let c=Je(6);return A(c.select())}),y()(),m(7,"div",7)(8,"i",8),I("click",function(){return o.applicationService.toggleTheme()}),y()()(),m(9,"div",9),ie(10,"app-sidebar")(11,"div",10),m(12,"div",11),ie(13,"app-note-editor"),y()()}if(i&2){let s=Je(6);w(3),C("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),w(2),Ee("user-select-none",s.readOnly),w(3),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),w(2),Ee("hidden",!o.stateService.sidebarVisible),w(),Ee("mobile-only",!o.stateService.sidebarVisible),w(),Ee("desktop-only",o.stateService.sidebarVisible)}},dependencies:[Z,pn,aP,cP,Vr],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function hG(t,e){if(t&1){let n=Y();m(0,"span",4),I("click",function(){S(n);let i=_();return A(i.parseText())}),L(1,"Parse"),y()}}function fG(t,e){if(t&1){let n=Y();m(0,"div",6)(1,"span",4),I("click",function(){S(n);let i=_(2);return A(i.onEntryClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),L(2),y(),m(3,"span",4),I("click",function(){S(n);let i=_(2);return A(i.onEntryClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),L(4),y()()}if(t&2){let n=_(2);w(2),pe(n.tournament.currentComparison[0].id),w(2),pe(n.tournament.currentComparison[1].id)}}function pG(t,e){if(t&1&&(pt(0),z(1,fG,5,2,"div",5),mt()),t&2){let n=_();w(),C("ngIf",n.tournament.currentComparison)}}var uP=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(r=>r?.length>0),this.tournament=new Ba(this.entries,r=>r),this.text=""}onEntryClick(r,i){this.tournament.handleUserInput(r,i),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Q({type:e,selectors:[["app-tournament"]],standalone:!0,features:[X],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"textarea",1),ti("ngModelChange",function(a){return Ni(o.text,a)||(o.text=a),a}),y(),z(2,hG,2,0,"span",2),y(),z(3,pG,2,1,"ng-container",3)),i&2&&(w(),C("placeholder",o.tournament?"Leaderboard":"Entries"),ei("ngModel",o.text),C("readOnly",o.tournament),w(),C("ngIf",!o.tournament),w(),C("ngIf",o.tournament))},dependencies:[Z,ze,yn,jr,ao,pi],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var dP=[{path:"messenger-browser",canActivate:[iP],component:oP},{path:"login",component:nP},{path:"story-manager",canActivate:[ap],component:lP},{path:"folder-picker",canActivate:[ap],component:VM},{path:"gallery",canActivate:[ap,rP],component:WM},{path:"comparison",component:uP},{path:"home",component:eP},{path:"games",children:[{path:"activity",component:KM},{path:"twister",component:ZM},{path:"nikdy-som",component:JM},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var fP=(t,e)=>{let n=O(Ha);return e(hP(n,t)).pipe(Qn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),Le(n.requestAccessToken()).pipe(Tt(()=>e(hP(n,t))),Qn(i=>Ei(()=>i)))}))},hP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;tA(FM,{providers:[NA(),px(dP,mx({paramsInheritanceStrategy:"always"})),oT(aT(),sT([fP])),yc(RT(()=>NT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),yc(WS(()=>KS())),yc(_D(()=>wD())),cM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!1,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
