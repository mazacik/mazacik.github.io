var xP=Object.defineProperty,MP=Object.defineProperties;var PP=Object.getOwnPropertyDescriptors;var hu=Object.getOwnPropertySymbols,OP=Object.getPrototypeOf,L0=Object.prototype.hasOwnProperty,j0=Object.prototype.propertyIsEnumerable,RP=Reflect.get;var V0=(t,e,n)=>e in t?xP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})L0.call(e,n)&&V0(t,n,e[n]);if(hu)for(var n of hu(e))j0.call(e,n)&&V0(t,n,e[n]);return t},Ae=(t,e)=>MP(t,PP(e));var yp=(t,e)=>{var n={};for(var r in t)L0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&hu)for(var r of hu(t))e.indexOf(r)<0&&j0.call(t,r)&&(n[r]=t[r]);return n};var wi=(t,e,n)=>RP(OP(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function NP(t,e){return Object.is(t,e)}var Ct=null,Qa=!1,fu=1,Ei=Symbol("SIGNAL");function xe(t){let e=Ct;return Ct=t,e}function kP(){return Qa}var pu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function U0(t){if(Qa)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(ws(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&Ya(Ct)){let n=Ct.producerNode[e];gu(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=Ya(Ct)?z0(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function FP(){fu++}function VP(t){if(!(Ya(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fu)){if(!t.producerMustRecompute(t)&&!mu(t)){t.dirty=!1,t.lastCleanEpoch=fu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fu}}function B0(t){if(t.liveConsumerNode===void 0)return;let e=Qa;Qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||H0(n)}finally{Qa=e}}function $0(){return Ct?.consumerAllowSignalWrites!==!1}function H0(t){t.dirty=!0,B0(t),t.consumerMarkedDirty?.(t)}function _p(t){return t&&(t.nextProducerIndex=0),xe(t)}function wp(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ya(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mu(t){ws(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(VP(n),r!==n.version))return!0}return!1}function Ep(t){if(ws(t),Ya(t))for(let e=0;e<t.producerNode.length;e++)gu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function z0(t,e,n){if(q0(t),ws(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=z0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function gu(t,e){if(q0(t),ws(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)gu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ws(i),i.producerIndexOfThis[r]=e}}function Ya(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ws(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function q0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function LP(){throw new Error}var G0=LP;function W0(){G0()}function K0(t){G0=t}var jP=null;function Q0(t){let e=Object.create(X0);e.value=t;let n=()=>(U0(e),e.value);return n[Ei]=e,n}function Ip(t,e){$0()||W0(),t.equal(t.value,e)||(t.value=e,UP(t))}function Y0(t,e){$0()||W0(),Ip(t,e(t.value))}var X0=Ae(N({},pu),{equal:NP,value:void 0});function UP(t){t.version++,FP(),B0(t),jP?.()}function J0(t,e,n){let r=Object.create(BP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Ep(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=vp)}let a=()=>{if(r.fn===null)return;if(kP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!mu(r))return;r.hasRun=!0;let c=_p(r);try{r.cleanupFn(),r.cleanupFn=vp,r.fn(i)}finally{wp(r,c)}};return r.ref={notify:()=>H0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Ei]:r},r.ref}var vp=()=>{},BP=Ae(N({},pu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:vp});function J(t){return typeof t=="function"}function Es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yu=Es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Z0(o)}catch(s){e=e??[],s instanceof yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Z0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){let{_finalizers:n}=this;n&&fo(n,e),e instanceof t&&e._removeParent(this)}};rt.EMPTY=(()=>{let t=new rt;return t.closed=!0,t})();var Cp=rt.EMPTY;function vu(t){return t instanceof rt||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Z0(t){J(t)?t():t.unsubscribe()}var Yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...n){let{delegate:r}=Is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _u(t){Is.setTimeout(()=>{let{onUnhandledError:e}=Yn;if(e)e(t);else throw t})}function Xa(){}var eE=bp("C",void 0,void 0);function tE(t){return bp("E",void 0,t)}function nE(t){return bp("N",t,void 0)}function bp(t,e,n){return{kind:t,value:e,error:n}}var po=null;function Cs(t){if(Yn.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=po;if(po=null,n)throw r}}else t()}function rE(t){Yn.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=t)}var mo=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vu(e)&&e.add(this)):this.destination=zP}static create(e,n,r){return new Ii(e,n,r)}next(e){this.isStopped?Dp(nE(e),this):this._next(e)}error(e){this.isStopped?Dp(tE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dp(eE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$P=Function.prototype.bind;function Tp(t,e){return $P.call(t,e)}var Sp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){wu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){wu(r)}else wu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wu(n)}}},Ii=class extends mo{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tp(e.next,o),error:e.error&&Tp(e.error,o),complete:e.complete&&Tp(e.complete,o)}):i=e}this.destination=new Sp(i)}};function wu(t){Yn.useDeprecatedSynchronousErrorHandling?rE(t):_u(t)}function HP(t){throw t}function Dp(t,e){let{onStoppedNotification:n}=Yn;n&&Is.setTimeout(()=>n(t,e))}var zP={closed:!0,next:Xa,error:HP,complete:Xa};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function Ap(...t){return xp(t)}function xp(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=GP(n)?n:new Ii(n,r,i);return Cs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iE(r),new r((i,o)=>{let s=new Ii({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bs](){return this}pipe(...n){return xp(n)(this)}toPromise(n){return n=iE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function iE(t){var e;return(e=t??Yn.Promise)!==null&&e!==void 0?e:Promise}function qP(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function GP(t){return t&&t instanceof mo||qP(t)&&vu(t)}function Mp(t){return J(t?.lift)}function we(t){return e=>{if(Mp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Pp(t,e,n,r,i)}var Pp=class extends mo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ts(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ds=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return Ts()(this)}};var oE=Es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kt=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oE}next(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cp:(this.currentObservers=null,o.push(n),new rt(()=>{this.currentObservers=null,fo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Eu(e,n),t})(),Eu=class extends kt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cp}};var ft=class extends kt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Op={now(){return(Op.delegate||Date).now()},delegate:void 0};var Iu=class extends rt{constructor(e,n){super()}schedule(e,n=0){return this}};var Ja={setInterval(t,e,...n){let{delegate:r}=Ja;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ja;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ss=class extends Iu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ja.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ja.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var As=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};As.now=Op.now;var xs=class extends As{constructor(e,n=As.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ms=new xs(Ss),Rp=Ms;var Cu=class extends Ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bu=class extends xs{};var Np=new bu(Cu);var dn=new oe(t=>t.complete());function Tu(t){return t&&J(t.schedule)}function kp(t){return t[t.length-1]}function Du(t){return J(kp(t))?t.pop():void 0}function gr(t){return Tu(kp(t))?t.pop():void 0}function sE(t,e){return typeof kp(t)=="number"?t.pop():e}function Fp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function aE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(t){return this instanceof go?(this.v=t,this):new go(t)}function lE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,E){o.push([h,f,g,E])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(o[0][3],g)}}function c(h){h.value instanceof go?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function uE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aE=="function"?aE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ps=t=>t&&typeof t.length=="number"&&typeof t!="function";function Su(t){return J(t?.then)}function Au(t){return J(t[bs])}function xu(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Mu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pu=WP();function Ou(t){return J(t?.[Pu])}function Ru(t){return lE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield go(n.read());if(i)return yield go(void 0);yield yield go(r)}}finally{n.releaseLock()}})}function Nu(t){return J(t?.getReader)}function je(t){if(t instanceof oe)return t;if(t!=null){if(Au(t))return KP(t);if(Ps(t))return QP(t);if(Su(t))return YP(t);if(xu(t))return dE(t);if(Ou(t))return XP(t);if(Nu(t))return JP(t)}throw Mu(t)}function KP(t){return new oe(e=>{let n=t[bs]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QP(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function YP(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_u)})}function XP(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function dE(t){return new oe(e=>{ZP(t,e).catch(n=>e.error(n))})}function JP(t){return dE(Ru(t))}function ZP(t,e){var n,r,i,o;return cE(this,void 0,void 0,function*(){try{for(n=uE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function hn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ci(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>hn(r,t,()=>r.next(i),e),()=>hn(r,t,()=>r.complete(),e),i=>hn(r,t,()=>r.error(i),e)))})}function bi(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hE(t,e){return je(t).pipe(bi(e),Ci(e))}function fE(t,e){return je(t).pipe(bi(e),Ci(e))}function pE(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mE(t,e){return new oe(n=>{let r;return hn(n,e,()=>{r=t[Pu](),hn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function ku(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{hn(n,e,()=>{let r=t[Symbol.asyncIterator]();hn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gE(t,e){return ku(Ru(t),e)}function yE(t,e){if(t!=null){if(Au(t))return hE(t,e);if(Ps(t))return pE(t,e);if(Su(t))return fE(t,e);if(xu(t))return ku(t,e);if(Ou(t))return mE(t,e);if(Nu(t))return gE(t,e)}throw Mu(t)}function $e(t,e){return e?yE(t,e):je(t)}function se(...t){let e=gr(t);return $e(t,e)}function Os(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Vp(t){return!!t&&(t instanceof oe||J(t.lift)&&J(t.subscribe))}var En=Es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function In(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new En)}})})}function Fu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ii({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new En)}});t.subscribe(o)})}function vE(t){return t instanceof Date&&!isNaN(t)}function re(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:eO}=Array;function tO(t,e){return eO(e)?t(...e):t(e)}function Rs(t){return re(e=>tO(t,e))}var{isArray:nO}=Array,{getPrototypeOf:rO,prototype:iO,keys:oO}=Object;function Vu(t){if(t.length===1){let e=t[0];if(nO(e))return{args:e,keys:null};if(sO(e)){let n=oO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sO(t){return t&&typeof t=="object"&&rO(t)===iO}function Lu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ju(...t){let e=gr(t),n=Du(t),{args:r,keys:i}=Vu(t);if(r.length===0)return $e([],e);let o=new oe(aO(r,e,i?s=>Lu(i,s):wn));return n?o.pipe(Rs(n)):o}function aO(t,e,n=wn){return r=>{_E(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)_E(e,()=>{let l=$e(t[c],e),u=!1;l.subscribe(ge(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _E(t,e,n){t?hn(n,t,e):e()}function wE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=E=>l<r?g(E):c.push(E),g=E=>{o&&e.next(E),l++;let b=!1;je(n(E,u++)).subscribe(ge(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let D=c.shift();s?hn(e,s,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ge(e,f,()=>{d=!0,h()})),()=>{a?.()}}function it(t,e,n=1/0){return J(e)?it((r,i)=>re((o,s)=>e(r,o,i,s))(je(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>wE(r,i,t,n)))}function Za(t=1/0){return it(wn,t)}function EE(){return Za(1)}function Ns(...t){return EE()($e(t,gr(t)))}function Uu(t){return new oe(e=>{je(t()).subscribe(e)})}function Lp(...t){let e=Du(t),{args:n,keys:r}=Vu(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;je(n[u]).subscribe(ge(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Lu(r,a):a),o.complete())}))}});return e?i.pipe(Rs(e)):i}var cO=["addListener","removeListener"],lO=["addEventListener","removeEventListener"],uO=["on","off"];function ks(t,e,n,r){if(J(n)&&(r=n,n=void 0),r)return ks(t,e,n).pipe(Rs(r));let[i,o]=fO(t)?lO.map(s=>a=>t[s](e,a,n)):dO(t)?cO.map(IE(t,e)):hO(t)?uO.map(IE(t,e)):[];if(!i&&Ps(t))return it(s=>ks(s,e,n))(je(t));if(!i)throw new TypeError("Invalid event target");return new oe(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function IE(t,e){return n=>r=>t[n](e,r)}function dO(t){return J(t.addListener)&&J(t.removeListener)}function hO(t){return J(t.on)&&J(t.off)}function fO(t){return J(t.addEventListener)&&J(t.removeEventListener)}function CE(t=0,e,n=Rp){let r=-1;return e!=null&&(Tu(e)?n=e:r=e),new oe(i=>{let o=vE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ec(...t){let e=gr(t),n=sE(t,1/0),r=t;return r.length?r.length===1?je(r[0]):Za(n)($e(r,e)):dn}function bt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function bE(t){return we((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ge(n,l=>{r=!0,i=l,o||je(t(l)).subscribe(o=ge(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function jp(t,e=Ms){return bE(()=>CE(t,e))}function yr(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=je(t(s,yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function TE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ge(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ti(t,e){return J(e)?it(t,e,1):it(t,1)}function Di(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qr(t){return t<=0?()=>dn:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Up(t){return re(()=>t)}function Bu(t=pO){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pO(){return new En}function yo(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function vr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):wn,qr(1),n?Di(e):Bu(()=>new En))}function Fs(t){return t<=0?()=>dn:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bt((i,o)=>t(i,o,r)):wn,Fs(1),n?Di(e):Bu(()=>new En))}function $p(t,e){return we(TE(t,e,arguments.length>=2,!0))}function Hp(t){return bt((e,n)=>t<=n)}function zp(...t){let e=gr(t);return we((n,r)=>{(e?Ns(t,n,e):Ns(t,n)).subscribe(r)})}function Wt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,c=>{i?.unsubscribe();let l=0,u=o++;je(t(c,u)).subscribe(i=ge(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xn(t){return we((e,n)=>{je(t).subscribe(ge(n,()=>n.complete(),Xa)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wn}var fI="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(_d(e,n)),this.code=e}};function _d(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var sm=class extends kt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=qp(o),i&&(i=qp(i)),s&&(s=qp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}};function qp(t){return e=>{setTimeout(t,void 0,e)}}var Xe=sm;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function Zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Zt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function am(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var pI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pI||{}),Er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Er||{});function fc(t){return{toString:t}.toString()}var Gr=globalThis;var $s={},fn=[];function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function mO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var gO=Le({\u0275cmp:Le}),yO=Le({\u0275dir:Le}),vO=Le({\u0275pipe:Le}),_O=Le({\u0275mod:Le}),td=Le({\u0275fac:Le}),tc=Le({__NG_ELEMENT_ID__:Le}),DE=Le({__NG_ENV_ID__:Le}),ne=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ne||{});function mI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function cm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];EO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function wO(t){return t===3||t===4||t===6}function EO(t){return t.charCodeAt(0)===64}function nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?SE(t,n,i,null,e[++r]):SE(t,n,i,null,null))}}return t}function SE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gI="ng-template";function IO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&mI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function yI(t){return t.type===4&&t.value!==gI}function CO(t,e,n){let r=t.type===4&&!n?gI:t.value;return e===r}function bO(t,e,n){let r=4,i=t.attrs||[],o=SO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Jn(r)&&!Jn(c))return!1;if(s&&Jn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!CO(t,c,n)||c===""&&e.length===1){if(Jn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!IO(t.attrs,l,n)){if(Jn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=TO(u,i,yI(t),n);if(d===-1){if(Jn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&mI(f,l,0)!==-1||r&2&&l!==h){if(Jn(r))return!1;s=!0}}}}return Jn(r)||s}function Jn(t){return(t&1)===0}function TO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AO(e,t)}function DO(t,e,n=!1){for(let r=0;r<e.length;r++)if(bO(t,e[r],n))return!0;return!1}function SO(t){for(let e=0;e<t.length;e++){let n=t[e];if(wO(n))return e}return t.length}function AO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function AE(t,e){return t?":not("+e.trim()+")":e}function xO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Jn(s)&&(e+=AE(o,i),i=""),r=s,o=o||!Jn(r);n++}return i!==""&&(e+=AE(o,i)),e}function MO(t){return t.map(xO).join(",")}function PO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Jn(i))break;i=o}r++}return{attrs:e,classes:n}}function K(t){return fc(()=>{let e=II(t),n=Ae(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Er.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""});CI(n);let r=t.dependencies;return n.directiveDefs=ME(r,!1),n.pipeDefs=ME(r,!0),n.id=NO(n),n})}function OO(t){return xi(t)||vI(t)}function RO(t){return t!==null}function en(t){return fc(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xE(t,e){if(t==null)return $s;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ne.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ne.None?[r,a]:r,e[o]=s):n[o]=r}return n}function He(t){return fc(()=>{let e=II(t);return CI(e),e})}function xi(t){return t[gO]||null}function vI(t){return t[yO]||null}function _I(t){return t[vO]||null}function wI(t){let e=xi(t)||vI(t)||_I(t);return e!==null?e.standalone:!1}function EI(t,e){let n=t[_O]||null;if(!n&&e===!0)throw new Error(`Type ${Zt(t)} does not have '\u0275mod' property.`);return n}function II(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xE(t.inputs,e),outputs:xE(t.outputs),debugInfo:null}}function CI(t){t.features?.forEach(e=>e(t))}function ME(t,e){if(!t)return null;let n=e?_I:OO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RO)}function NO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Dr=0,ye=1,te=2,Ft=3,Zn=4,nr=5,nd=6,rc=7,er=8,Hs=9,Wr=10,st=11,ic=12,PE=13,Js=14,Ir=15,pc=16,Vs=17,Kr=18,wd=19,bI=20,Ai=21,Ku=22,wo=23,Cr=25,cg=1;var Eo=7,rd=8,zs=9,Cn=10,lg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(lg||{});function vo(t){return Array.isArray(t)&&typeof t[cg]=="object"}function Zr(t){return Array.isArray(t)&&t[cg]===!0}function ug(t){return(t.flags&4)!==0}function Ed(t){return t.componentOffset>-1}function Id(t){return(t.flags&1)===1}function Qr(t){return!!t.template}function kO(t){return(t[te]&512)!==0}var FO="svg",VO="math",LO=!1;function jO(){return LO}function br(t){for(;Array.isArray(t);)t=t[Dr];return t}function UO(t){for(;Array.isArray(t);){if(typeof t[cg]=="object")return t;t=t[Dr]}return null}function TI(t,e){return br(e[t])}function rr(t,e){return br(e[t.index])}function DI(t,e){return t.data[e]}function BO(t,e){return t[e]}function Ri(t,e){let n=e[t];return vo(n)?n:n[Dr]}function $O(t){return(t[te]&4)===4}function dg(t){return(t[te]&128)===128}function HO(t){return Zr(t[Ft])}function qs(t,e){return e==null?null:t[e]}function SI(t){t[Vs]=0}function zO(t){t[te]&1024||(t[te]|=1024,dg(t)&&oc(t))}function qO(t,e){for(;t>0;)e=e[Js],t--;return e}function hg(t){return!!(t[te]&9216||t[wo]?.dirty)}function lm(t){hg(t)?oc(t):t[te]&64&&(jO()?(t[te]|=1024,oc(t)):t[Wr].changeDetectionScheduler?.notify())}function oc(t){t[Wr].changeDetectionScheduler?.notify();let e=sc(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!dg(e)));)e=sc(e)}function AI(t,e){if((t[te]&256)===256)throw new O(911,!1);t[Ai]===null&&(t[Ai]=[]),t[Ai].push(e)}function GO(t,e){if(t[Ai]===null)return;let n=t[Ai].indexOf(e);n!==-1&&t[Ai].splice(n,1)}function sc(t){let e=t[Ft];return Zr(e)?e[Ft]:e}var ve={lFrame:FI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WO(){return ve.lFrame.elementDepthCount}function KO(){ve.lFrame.elementDepthCount++}function QO(){ve.lFrame.elementDepthCount--}function xI(){return ve.bindingsEnabled}function YO(){return ve.skipHydrationRootTNode!==null}function XO(t){return ve.skipHydrationRootTNode===t}function JO(){ve.skipHydrationRootTNode=null}function Me(){return ve.lFrame.lView}function Dt(){return ve.lFrame.tView}function x(t){return ve.lFrame.contextLView=t,t[er]}function M(t){return ve.lFrame.contextLView=null,t}function pn(){let t=MI();for(;t!==null&&t.type===64;)t=t.parent;return t}function MI(){return ve.lFrame.currentTNode}function ZO(){let t=ve.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ao(t,e){let n=ve.lFrame;n.currentTNode=t,n.isParent=e}function fg(){return ve.lFrame.isParent}function PI(){ve.lFrame.isParent=!1}function eR(){return ve.lFrame.contextLView}function tR(){return ve.lFrame.bindingIndex}function nR(t){return ve.lFrame.bindingIndex=t}function Cd(){return ve.lFrame.bindingIndex++}function pg(t){let e=ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rR(){return ve.lFrame.inI18n}function iR(t,e){let n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,um(e)}function oR(){return ve.lFrame.currentDirectiveIndex}function um(t){ve.lFrame.currentDirectiveIndex=t}function OI(t){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RI(){return ve.lFrame.currentQueryIndex}function mg(t){ve.lFrame.currentQueryIndex=t}function sR(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[nr]:null}function NI(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=sR(o),i===null||(o=o[Js],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ve.lFrame=kI();return r.currentTNode=e,r.lView=t,!0}function gg(t){let e=kI(),n=t[ye];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kI(){let t=ve.lFrame,e=t===null?null:t.child;return e===null?FI(t):e}function FI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function VI(){let t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var LI=VI;function yg(){let t=VI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aR(t){return(ve.lFrame.contextLView=qO(t,ve.lFrame.contextLView))[er]}function Ni(){return ve.lFrame.selectedIndex}function Io(t){ve.lFrame.selectedIndex=t}function vg(){let t=ve.lFrame;return DI(t.tView,t.selectedIndex)}function cR(){return ve.lFrame.currentNamespace}var jI=!0;function bd(){return jI}function Td(t){jI=t}function lR(){return Zs(pn(),Me())}function Zs(t,e){return new mt(rr(t,e))}var mt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lR;let t=e;return t})();function uR(t){return t instanceof mt?t.nativeElement:t}function dR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hR(t){return t.flat(Number.POSITIVE_INFINITY)}function _g(t,e){t.forEach(n=>Array.isArray(n)?_g(n,e):e(n))}function UI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function id(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Dd(t,e,n){let r=mc(t,e);return r>=0?t[r|1]=n:(r=~r,fR(t,r,e,n)),r}function Gp(t,e){let n=mc(t,e);if(n>=0)return t[n|1]}function mc(t,e){return pR(t,e,1)}function pR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function mR(){return this._results[Symbol.iterator]()}var dm=class t{get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=mR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hR(e);(this._changesDetected=!dR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function BI(t){return(t.flags&128)===128}var hm;function $I(t){hm=t}function gR(){if(hm!==void 0)return hm;if(typeof document<"u")return document;throw new O(210,!1)}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sd(t){return OE(t,zI)||OE(t,qI)}function HI(t){return Sd(t)!==null}function OE(t,e){return t.hasOwnProperty(e)?t[e]:null}function yR(t){let e=t&&(t[zI]||t[qI]);return e||null}function RE(t){return t&&(t.hasOwnProperty(NE)||t.hasOwnProperty(vR))?t[NE]:null}var zI=Le({\u0275prov:Le}),NE=Le({\u0275inj:Le}),qI=Le({ngInjectableDef:Le}),vR=Le({ngInjectorDef:Le}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},wg=new G("",{providedIn:"root",factory:()=>_R}),_R="ng",Eg=new G(""),Nn=new G("",{providedIn:"platform",factory:()=>"unknown"});var Ig=new G(""),Cg=new G("",{providedIn:"root",factory:()=>gR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wR=Le({__forward_ref__:Le});function xo(t){return t.__forward_ref__=xo,t.toString=function(){return Zt(this())},t}function Jt(t){return GI(t)?t():t}function GI(t){return typeof t=="function"&&t.hasOwnProperty(wR)&&t.__forward_ref__===xo}function WI(t){return t&&!!t.\u0275providers}function ac(t){return typeof t=="string"?t:t==null?"":String(t)}function ER(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ac(t)}function IR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,t)}function bg(t,e){throw new O(-201,!1)}var fm;function KI(){return fm}function Rn(t){let e=fm;return fm=t,e}function QI(t,e,n){let r=Sd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;bg(t,"Injector")}var CR={},cc=CR,pm="__NG_DI_FLAG__",od="ngTempTokenPath",bR="ngTokenPath",TR=/\n/gm,DR="\u0275",kE="__source",Us;function SR(){return Us}function Si(t){let e=Us;return Us=t,e}function AR(t,e=_e.Default){if(Us===void 0)throw new O(-203,!1);return Us===null?QI(t,void 0,e):Us.get(t,e&_e.Optional?null:void 0,e)}function L(t,e=_e.Default){return(KI()||AR)(Jt(t),e)}function R(t,e=_e.Default){return L(t,Ad(e))}function Ad(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mm(t){let e=[];for(let n=0;n<t.length;n++){let r=Jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=xR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function YI(t,e){return t[pm]=e,t.prototype[pm]=e,t}function xR(t){return t[pm]}function MR(t,e,n,r){let i=t[od];throw e[kE]&&i.unshift(e[kE]),t.message=PR(`
`+t.message,i,n,r),t[bR]=i,t[od]=null,t}function PR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DR?t.slice(2):t;let i=Zt(e);if(Array.isArray(e))i=e.map(Zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TR,`
  `)}`}var OR="h",RR="b";var NR=()=>null;function Tg(t,e,n=!1){return NR(t,e,n)}var $u="__parameters__";function kR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XI(t,e,n){return fc(()=>{let r=kR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty($u)?c[$u]:Object.defineProperty(c,$u,{value:[]})[$u];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nn=YI(XI("Optional"),8);var JI=YI(XI("SkipSelf"),4);function Gs(t,e){let n=t.hasOwnProperty(td);return n?t[td]:null}var Ws=new G(""),ZI=new G("",-1),eC=new G(""),sd=class{get(e,n=cc){if(n===cc){let r=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw r.name="NullInjectorError",r}return n}};function ki(t){return{\u0275providers:t}}function gc(...t){return{\u0275providers:tC(!0,t),\u0275fromNgModule:!0}}function tC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return _g(e,s=>{let a=s;gm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nC(i,o),n}function nC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Dg(i,o=>{e(o,r)})}}function gm(t,e,n,r){if(t=Jt(t),!t)return!1;let i=null,o=RE(t),s=!o&&xi(t);if(!o&&!s){let c=t.ngModule;if(o=RE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)gm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_g(o.imports,u=>{gm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&nC(l,e)}if(!a){let l=Gs(i)||(()=>new i);e({provide:i,useFactory:l,deps:fn},i),e({provide:eC,useValue:i,multi:!0},i),e({provide:Ws,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Dg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Dg(t,e){for(let n of t)WI(n)&&(n=n.\u0275providers),Array.isArray(n)?Dg(n,e):e(n)}var FR=Le({provide:String,useValue:Le});function rC(t){return t!==null&&typeof t=="object"&&FR in t}function VR(t){return!!(t&&t.useExisting)}function LR(t){return!!(t&&t.useFactory)}function Ks(t){return typeof t=="function"}function jR(t){return!!t.useClass}var xd=new G(""),Qu={},UR={},Wp;function Md(){return Wp===void 0&&(Wp=new sd),Wp}var Tt=class{},lc=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vm(e,s=>this.processProvider(s)),this.records.set(ZI,Ls(void 0,this)),i.has("environment")&&this.records.set(Tt,Ls(void 0,this));let o=this.records.get(xd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eC,fn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Si(this),r=Rn(void 0),i;try{return e()}finally{Si(n),Rn(r)}}get(e,n=cc,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(DE))return e[DE](this);r=Ad(r);let i,o=Si(this),s=Rn(void 0);try{if(!(r&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=qR(e)&&Sd(e);l&&this.injectableDefInScope(l)?c=Ls(ym(e),Qu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&_e.Self?Md():this.parent;return n=r&_e.Optional&&n===cc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[od]=a[od]||[]).unshift(Zt(e)),o)throw a;return MR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rn(s),Si(o)}}resolveInjectorInitializers(){let e=xe(null),n=Si(this),r=Rn(void 0),i;try{let o=this.get(Ws,fn,_e.Self);for(let s of o)s()}finally{Si(n),Rn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=Jt(e);let n=Ks(e)?e:Jt(e&&e.provide),r=$R(e);if(!Ks(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ls(void 0,Qu,!0),i.factory=()=>mm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Qu&&(n.value=UR,n.value=n.factory()),typeof n.value=="object"&&n.value&&zR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ym(t){let e=Sd(t),n=e!==null?e.factory:Gs(t);if(n!==null)return n;if(t instanceof G)throw new O(204,!1);if(t instanceof Function)return BR(t);throw new O(204,!1)}function BR(t){if(t.length>0)throw new O(204,!1);let n=yR(t);return n!==null?()=>n.factory(t):()=>new t}function $R(t){if(rC(t))return Ls(void 0,t.useValue);{let e=iC(t);return Ls(e,Qu)}}function iC(t,e,n){let r;if(Ks(t)){let i=Jt(t);return Gs(i)||ym(i)}else if(rC(t))r=()=>Jt(t.useValue);else if(LR(t))r=()=>t.useFactory(...mm(t.deps||[]));else if(VR(t))r=()=>L(Jt(t.useExisting));else{let i=Jt(t&&(t.useClass||t.provide));if(HR(t))r=()=>new i(...mm(t.deps));else return Gs(i)||ym(i)}return r}function Ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HR(t){return!!t.deps}function zR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qR(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function vm(t,e){for(let n of t)Array.isArray(n)?vm(n,e):n&&WI(n)?vm(n.\u0275providers,e):e(n)}function ei(t,e){t instanceof lc&&t.assertNotDestroyed();let n,r=Si(t),i=Rn(void 0);try{return e()}finally{Si(r),Rn(i)}}function GR(t){if(!KI()&&!SR())throw new O(-203,!1)}function WR(t){return typeof t=="function"}var _m=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ti(){return sC}function sC(t){return t.type.prototype.ngOnChanges&&(t.setInput=QR),KR}ti.ngInherit=!0;function KR(){let t=cC(this),e=t?.current;if(e){let n=t.previous;if(n===$s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QR(t,e,n,r,i){let o=this.declaredInputs[r],s=cC(t)||YR(t,{previous:$s,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new _m(l&&l.currentValue,n,c===$s),oC(t,e,i,n)}var aC="__ngSimpleChanges__";function cC(t){return t[aC]||null}function YR(t,e){return t[aC]=e}var FE=null;var _r=function(t,e,n){FE?.(t,e,n)};function XR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Pd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Yu(t,e,n){lC(t,e,3,n)}function Xu(t,e,n,r){(t[te]&3)===n&&lC(t,e,n,r)}function Kp(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function lC(t,e,n,r){let i=r!==void 0?t[Vs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vs]+=65536),(a<o||o==-1)&&(JR(t,n,e,c),t[Vs]=(t[Vs]&4294901760)+c+2),c++}function VE(t,e){_r(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),_r(5,t,e)}}function JR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[Vs]>>16&&(t[te]&3)===e&&(t[te]+=16384,VE(a,o)):VE(a,o)}var Bs=-1,Co=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ZR(t){return t instanceof Co}function eN(t){return(t.flags&8)!==0}function tN(t){return(t.flags&16)!==0}function uC(t){return t!==Bs}function ad(t){return t&32767}function nN(t){return t>>16}function cd(t,e){let n=nN(t),r=e;for(;n>0;)r=r[Js],n--;return r}var wm=!0;function LE(t){let e=wm;return wm=t,e}var rN=256,dC=rN-1,hC=5,iN=0,wr={};function oN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(tc)&&(r=n[tc]),r==null&&(r=n[tc]=iN++);let i=r&dC,o=1<<i;e.data[t+(i>>hC)]|=o}function ld(t,e){let n=fC(t,e);if(n!==-1)return n;let r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,Qp(r.data,t),Qp(e,null),Qp(r.blueprint,null));let i=Sg(t,e),o=t.injectorIndex;if(uC(i)){let s=ad(i),a=cd(i,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Qp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vC(i),r===null)return Bs;if(n++,i=i[Js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bs}function Em(t,e,n){oN(t,e,n)}function pC(t,e,n){if(n&_e.Optional||t!==void 0)return t;bg(e,"NodeInjector")}function mC(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[Hs],o=Rn(void 0);try{return i?i.get(e,r,n&_e.Optional):QI(e,r,n&_e.Optional)}finally{Rn(o)}}return pC(r,e,n)}function gC(t,e,n,r=_e.Default,i){if(t!==null){if(e[te]&2048&&!(r&_e.Self)){let s=lN(t,e,n,r,wr);if(s!==wr)return s}let o=yC(t,e,n,r,wr);if(o!==wr)return o}return mC(e,n,r,i)}function yC(t,e,n,r,i){let o=aN(n);if(typeof o=="function"){if(!NI(e,t,r))return r&_e.Host?pC(i,n,r):mC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))bg(n);else return s}finally{LI()}}else if(typeof o=="number"){let s=null,a=fC(t,e),c=Bs,l=r&_e.Host?e[Ir][nr]:null;for((a===-1||r&_e.SkipSelf)&&(c=a===-1?Sg(t,e):e[a+8],c===Bs||!UE(r,!1)?a=-1:(s=e[ye],a=ad(c),e=cd(c,e)));a!==-1;){let u=e[ye];if(jE(o,a,u.data)){let d=sN(a,e,n,s,r,l);if(d!==wr)return d}c=e[a+8],c!==Bs&&UE(r,e[ye].data[a+8]===l)&&jE(o,a,e)?(s=u,a=ad(c),e=cd(c,e)):a=-1}}return i}function sN(t,e,n,r,i,o){let s=e[ye],a=s.data[t+8],c=r==null?Ed(a)&&wm:r!=s&&(a.type&3)!==0,l=i&_e.Host&&o===a,u=Ju(a,s,n,c,l);return u!==null?bo(e,s,u,a):wr}function Ju(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&Qr(f)&&f.type===n)return c}return null}function bo(t,e,n,r){let i=t[n],o=e.data;if(ZR(i)){let s=i;s.resolving&&IR(ER(o[n]));let a=LE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Rn(s.injectImpl):null,u=NI(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&XR(n,o[n],e)}finally{l!==null&&Rn(l),LE(a),s.resolving=!1,LI()}}return i}function aN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(tc)?t[tc]:void 0;return typeof e=="number"?e>=0?e&dC:cN:e}function jE(t,e,n){let r=1<<t;return!!(n[e+(t>>hC)]&r)}function UE(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var _o=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gC(this._tNode,this._lView,e,Ad(r),n)}};function cN(){return new _o(pn(),Me())}function rn(t){return fc(()=>{let e=t.prototype.constructor,n=e[td]||Im(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[td]||Im(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Im(t){return GI(t)?()=>{let e=Im(Jt(t));return e&&e()}:Gs(t)}function lN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=yC(o,s,n,r|_e.Self,wr);if(a!==wr)return a;let c=o.parent;if(!c){let l=s[bI];if(l){let u=l.get(n,wr,r);if(u!==wr)return u}c=vC(s),s=s[Js]}o=c}return i}function vC(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[nr]:null}function BE(t,e=null,n=null,r){let i=_C(t,e,n,r);return i.resolveInjectorInitializers(),i}function _C(t,e=null,n=null,r,i=new Set){let o=[n||fn,gc(t)];return r=r||(typeof t=="object"?void 0:Zt(t)),new lc(o,e||Md(),r||null,i)}var Je=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return BE({name:""},i,r,"");{let o=r.name??"";return BE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=cc,e.NULL=new sd,e.\u0275prov=V({token:e,providedIn:"any",factory:()=>L(ZI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),uN="ngOriginalError";function Yp(t){return t[uN]}var Tr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yp(e);for(;n&&Yp(n);)n=Yp(n);return n||null}},wC=new G("",{providedIn:"root",factory:()=>R(Tr).handleError.bind(void 0)});var EC=!1,dN=new G("",{providedIn:"root",factory:()=>EC}),Hu;function hN(){if(Hu===void 0&&(Hu=null,Gr.trustedTypes))try{Hu=Gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hu}function Od(t){return hN()?.createHTML(t)||t}var zu;function fN(){if(zu===void 0&&(zu=null,Gr.trustedTypes))try{zu=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zu}function $E(t){return fN()?.createScriptURL(t)||t}var Yr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fI})`}},Cm=class extends Yr{getTypeName(){return"HTML"}},bm=class extends Yr{getTypeName(){return"Style"}},Tm=class extends Yr{getTypeName(){return"Script"}},Dm=class extends Yr{getTypeName(){return"URL"}},Sm=class extends Yr{getTypeName(){return"ResourceURL"}};function kn(t){return t instanceof Yr?t.changingThisBreaksApplicationSecurity:t}function Fi(t,e){let n=pN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fI})`)}return n===e}function pN(t){return t instanceof Yr&&t.getTypeName()||null}function IC(t){return new Cm(t)}function CC(t){return new bm(t)}function bC(t){return new Tm(t)}function TC(t){return new Dm(t)}function DC(t){return new Sm(t)}function mN(t){let e=new xm(t);return gN()?new Am(e):e}var Am=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Od(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},xm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Od(e),n}};function gN(){try{return!!new window.DOMParser().parseFromString(Od(""),"text/html")}catch{return!1}}var yN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rd(t){return t=String(t),t.match(yN)?t:"unsafe:"+t}function ni(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function yc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var SC=ni("area,br,col,hr,img,wbr"),AC=ni("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xC=ni("rp,rt"),vN=yc(xC,AC),_N=yc(AC,ni("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wN=yc(xC,ni("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),HE=yc(SC,_N,wN,vN),MC=ni("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),EN=ni("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),IN=ni("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),CN=yc(MC,EN,IN),bN=ni("script,style,template"),Mm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!HE.hasOwnProperty(n))return this.sanitizedSomething=!0,!bN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!CN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;MC[a]&&(c=Rd(c)),this.buf.push(" ",s,'="',zE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();HE.hasOwnProperty(n)&&!SC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(zE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},TN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DN=/([^\#-~ |!])/g;function zE(t){return t.replace(/&/g,"&amp;").replace(TN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(DN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var qu;function PC(t,e){let n=null;try{qu=qu||mN(t);let r=e?String(e):"";n=qu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=qu.getInertBodyElement(r)}while(r!==o);let a=new Mm().sanitizeChildren(qE(n)||n);return Od(a)}finally{if(n){let r=qE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qE(t){return"content"in t&&SN(t)?t.content:null}function SN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sr||{});function bn(t){let e=RC();return e?e.sanitize(Sr.URL,t)||"":Fi(t,"URL")?kn(t):Rd(ac(t))}function OC(t){let e=RC();if(e)return $E(e.sanitize(Sr.RESOURCE_URL,t)||"");if(Fi(t,"ResourceURL"))return $E(kn(t));throw new O(904,!1)}function RC(){let t=Me();return t&&t[Wr].sanitizer}var AN=/^>|^->|<!--|-->|--!>|<!-$/g,xN=/(<|>)/g,MN="\u200B$1\u200B";function PN(t){return t.replace(AN,e=>e.replace(xN,MN))}var NC=new Map,ON=0;function RN(){return ON++}function NN(t){NC.set(t[wd],t)}function kN(t){NC.delete(t[wd])}var GE="__ngContext__";function Mi(t,e){vo(e)?(t[GE]=e[wd],NN(e)):t[GE]=e}function Ue(t){return t.ownerDocument.defaultView}function kC(t){return t.ownerDocument}function FC(t){return t instanceof Function?t():t}var Xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xr||{}),FN;function Ag(t,e){return FN(t,e)}function js(t,e,n,r,i){if(r!=null){let o,s=!1;Zr(r)?o=r:vo(r)&&(s=!0,r=r[Dr]);let a=br(r);t===0&&n!==null?i==null?BC(e,n,a):ud(e,n,a,i||null,!0):t===1&&n!==null?ud(e,n,a,i||null,!0):t===2?ek(e,a,s):t===3&&e.destroyNode(a),o!=null&&nk(e,t,o,n,i)}}function VN(t,e){return t.createText(e)}function LN(t,e,n){t.setValue(e,n)}function jN(t,e){return t.createComment(PN(e))}function VC(t,e,n){return t.createElement(e,n)}function UN(t,e){LC(t,e),e[Dr]=null,e[nr]=null}function BN(t,e,n,r,i,o){r[Dr]=i,r[nr]=e,kd(t,r,n,1,i,o)}function LC(t,e){kd(t,e,e[st],2,null,null)}function $N(t){let e=t[ic];if(!e)return Xp(t[ye],t);for(;e;){let n=null;if(vo(e))n=e[ic];else{let r=e[Cn];r&&(n=r)}if(!n){for(;e&&!e[Zn]&&e!==t;)vo(e)&&Xp(e[ye],e),e=e[Ft];e===null&&(e=t),vo(e)&&Xp(e[ye],e),n=e&&e[Zn]}e=n}}function HN(t,e,n,r){let i=Cn+r,o=n.length;r>0&&(n[i-1][Zn]=e),r<o-Cn?(e[Zn]=n[i],UI(n,Cn+r,e)):(n.push(e),e[Zn]=null),e[Ft]=n;let s=e[pc];s!==null&&n!==s&&zN(s,e);let a=e[Kr];a!==null&&a.insertView(t),lm(e),e[te]|=128}function zN(t,e){let n=t[zs],i=e[Ft][Ft][Ir];e[Ir]!==i&&(t[te]|=lg.HasTransplantedViews),n===null?t[zs]=[e]:n.push(e)}function jC(t,e){let n=t[zs],r=n.indexOf(e);n.splice(r,1)}function Pm(t,e){if(t.length<=Cn)return;let n=Cn+e,r=t[n];if(r){let i=r[pc];i!==null&&i!==t&&jC(i,r),e>0&&(t[n-1][Zn]=r[Zn]);let o=id(t,Cn+e);UN(r[ye],r);let s=o[Kr];s!==null&&s.detachView(o[ye]),r[Ft]=null,r[Zn]=null,r[te]&=-129}return r}function UC(t,e){if(!(e[te]&256)){let n=e[st];n.destroyNode&&kd(t,e,n,3,null,null),$N(e)}}function Xp(t,e){if(e[te]&256)return;let n=xe(null);try{e[te]&=-129,e[te]|=256,e[wo]&&Ep(e[wo]),GN(t,e),qN(t,e),e[ye].type===1&&e[st].destroy();let r=e[pc];if(r!==null&&Zr(e[Ft])){r!==e[Ft]&&jC(r,e);let i=e[Kr];i!==null&&i.detachView(t)}kN(e)}finally{xe(n)}}function qN(t,e){let n=t.cleanup,r=e[rc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[rc]=null);let i=e[Ai];if(i!==null){e[Ai]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function GN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Co)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];_r(4,a,c);try{c.call(a)}finally{_r(5,a,c)}}else{_r(4,i,o);try{o.call(i)}finally{_r(5,i,o)}}}}}function WN(t,e,n){return KN(t,e.parent,n)}function KN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Er.None||o===Er.Emulated)return null}return rr(r,n)}}function ud(t,e,n,r,i){t.insertBefore(e,n,r,i)}function BC(t,e,n){t.appendChild(e,n)}function WE(t,e,n,r,i){r!==null?ud(t,e,n,r,i):BC(t,e,n)}function QN(t,e,n,r){t.removeChild(e,n,r)}function xg(t,e){return t.parentNode(e)}function YN(t,e){return t.nextSibling(e)}function XN(t,e,n){return ZN(t,e,n)}function JN(t,e,n){return t.type&40?rr(t,n):null}var ZN=JN,KE;function Nd(t,e,n,r){let i=WN(t,r,e),o=e[st],s=r.parent||e[nr],a=XN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)WE(o,i,n[c],a,!1);else WE(o,i,n,a,!1);KE!==void 0&&KE(o,r,e,n,i)}function Zu(t,e){if(e!==null){let n=e.type;if(n&3)return rr(e,t);if(n&4)return Om(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zu(t,r);{let i=t[e.index];return Zr(i)?Om(-1,i):br(i)}}else{if(n&32)return Ag(e,t)()||br(t[e.index]);{let r=$C(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sc(t[Ir]);return Zu(i,r)}else return Zu(t,e.next)}}}return null}function $C(t,e){if(e!==null){let r=t[Ir][nr],i=e.projection;return r.projection[i]}return null}function Om(t,e){let n=Cn+t+1;if(n<e.length){let r=e[n],i=r[ye].firstChild;if(i!==null)return Zu(r,i)}return e[Eo]}function ek(t,e,n){let r=xg(t,e);r&&QN(t,r,e,n)}function Mg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Mi(br(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Mg(t,e,n.child,r,i,o,!1),js(e,t,i,a,o);else if(c&32){let l=Ag(n,r),u;for(;u=l();)js(e,t,i,u,o);js(e,t,i,a,o)}else c&16?tk(t,e,r,n,i,o):js(e,t,i,a,o);n=s?n.projectionNext:n.next}}function kd(t,e,n,r,i,o){Mg(n,r,t.firstChild,e,i,o,!1)}function tk(t,e,n,r,i,o){let s=n[Ir],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];js(e,t,i,u,o)}else{let l=c,u=s[Ft];BI(r)&&(l.flags|=128),Mg(t,e,l,u,i,o,!0)}}function nk(t,e,n,r,i){let o=n[Eo],s=br(n);o!==s&&js(e,t,r,o,i);for(let a=Cn;a<n.length;a++){let c=n[a];kd(c[ye],c,t,e,r,o)}}function rk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xr.Important),t.setStyle(n,r,i,o))}}function ik(t,e,n){t.setAttribute(e,"style",n)}function HC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&cm(t,e,r),i!==null&&HC(t,e,i),o!==null&&ik(t,e,o)}var Ar={};function _(t=1){qC(Dt(),Me(),Ni()+t,!1)}function qC(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Yu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Xu(e,o,0,n)}Io(n)}function A(t,e=_e.Default){let n=Me();if(n===null)return L(t,e);let r=pn();return gC(r,n,Jt(t),e)}function GC(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&ne.SignalBased&&(a=e[r][Ei]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ne.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):oC(e,a,r,o)}finally{xe(s)}}function ok(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Io(~i);else{let o=i,s=n[++r],a=n[++r];iR(s,o);let c=e[o];a(2,c)}}}finally{Io(-1)}}function Fd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Dr]=i,d[te]=r|4|128|8|64,(l!==null||t&&t[te]&2048)&&(d[te]|=2048),SI(d),d[Ft]=d[Js]=t,d[er]=n,d[Wr]=s||t&&t[Wr],d[st]=a||t&&t[st],d[Hs]=c||t&&t[Hs]||null,d[nr]=o,d[wd]=RN(),d[nd]=u,d[bI]=l,d[Ir]=e.type==2?t[Ir]:d,d}function vc(t,e,n,r,i){let o=t.data[e];if(o===null)o=sk(t,e,n,r,i),rR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ZO();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function sk(t,e,n,r,i){let o=MI(),s=fg(),a=s?o:o&&o.parent,c=t.data[e]=hk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function WC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function KC(t,e,n,r,i){let o=Ni(),s=r&2;try{Io(-1),s&&e.length>Cr&&qC(t,e,Cr,!1),_r(s?2:0,i),n(r,i)}finally{Io(o),_r(s?3:1,i)}}function Pg(t,e,n){if(ug(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function Og(t,e,n){xI()&&(vk(t,e,n,rr(n,e)),(n.flags&64)===64&&XC(t,e,n))}function Rg(t,e,n=rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function QC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ng(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ng(t,e,n,r,i,o,s,a,c,l,u){let d=Cr+r,h=d+i,f=ak(d,h),g=typeof l=="function"?l():l;return f[ye]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function ak(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}function ck(t,e,n,r){let o=r.get(dN,EC)||n===Er.ShadowDom,s=t.selectRootElement(e,o);return lk(s),s}function lk(t){uk(t)}var uk=()=>null;function dk(t,e,n,r){let i=eb(e);i.push(n),t.firstCreatePass&&tb(t).push(r,i.length-1)}function hk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return YO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function QE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ne.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?YE(r,n,l,a,c):YE(r,n,l,a)}return r}function YE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function fk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=QE(0,d.inputs,u,c,f),l=QE(1,d.outputs,u,l,g);let E=c!==null&&s!==null&&!yI(e)?Sk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function pk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kg(t,e,n,r,i,o,s,a){let c=rr(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Vg(t,n,u,r,i),Ed(e)&&mk(n,e.index)):e.type&3?(r=pk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function mk(t,e){let n=Ri(e,t);n[te]&16||(n[te]|=64)}function Fg(t,e,n,r){if(xI()){let i=r===null?null:{"":-1},o=wk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&YC(t,e,n,s,i,a),i&&Ek(n,r,i)}n.mergedAttrs=nc(n.mergedAttrs,n.attrs)}function YC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Em(ld(n,e),t,r[l].type);Ck(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=WC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=nc(n.mergedAttrs,u.hostAttrs),bk(t,n,e,c,u),Ik(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}fk(t,n,o)}function gk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;yk(s)!=a&&s.push(a),s.push(n,r,o)}}function yk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ed(n)&&Tk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ld(n,e),Mi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=bo(e,t,a,n);if(Mi(l,e),s!==null&&Dk(e,a-i,l,c,n,s),Qr(c)){let u=Ri(n.index,e);u[er]=bo(e,t,a,n)}}}function XC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oR();try{Io(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];um(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&_k(c,l)}}finally{Io(-1),um(s)}}function _k(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DO(e,s.selectors,!1))if(r||(r=[]),Qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Rm(t,e,c)}else r.unshift(s),Rm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Rm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ek(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}}function Ik(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qr(e)&&(n[""]=t)}}function Ck(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gs(i.type,!0)),s=new Co(o,Qr(i),A);t.blueprint[r]=s,n[r]=s,gk(t,e,r,WC(t,n,i.hostVars,Ar),i)}function Tk(t,e,n){let r=rr(e,t),i=QC(n),o=t[Wr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Vd(t,Fd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Dk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];GC(r,n,c,l,u,d)}}function Sk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function JC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZC(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];mg(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Vd(t,e){return t[ic]?t[PE][Zn]=e:t[ic]=e,t[PE]=e,e}function Nm(t,e,n){mg(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function eb(t){return t[rc]||(t[rc]=[])}function tb(t){return t.cleanup||(t.cleanup=[])}function Ak(t,e,n){return(t===null||Qr(t))&&(n=UO(n[e.index])),n[st]}function nb(t,e){let n=t[Hs],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function Vg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];GC(u,l,r,a,c,i)}}function rb(t,e,n){let r=TI(e,t);LN(t[st],r,n)}function xk(t,e){let n=Ri(e,t),r=n[ye];Mk(r,n);let i=n[Dr];i!==null&&n[nd]===null&&(n[nd]=Tg(i,n[Hs])),Lg(r,n,n[er])}function Mk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lg(t,e,n){gg(e);try{let r=t.viewQuery;r!==null&&Nm(1,r,n);let i=t.template;i!==null&&KC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Kr]?.finishViewCreation(t),t.staticContentQueries&&ZC(t,e),t.staticViewQueries&&Nm(2,t.viewQuery,n);let o=t.components;o!==null&&Pk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,yg()}}function Pk(t,e){for(let n=0;n<e.length;n++)xk(t,e[n])}function Ok(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[te]&4096?4096:16,c=Fd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[pc]=l;let u=t[Kr];return u!==null&&(c[Kr]=u.createEmbeddedView(o)),Lg(o,c,n),c}finally{xe(i)}}function XE(t,e){return!e||e.firstChild===null||BI(t)}function Rk(t,e,n,r=!0){let i=e[ye];if(HN(i,e,t,n),r){let s=Om(n,t),a=e[st],c=xg(a,t[Eo]);c!==null&&BN(i,t[nr],a,e,c,s)}let o=e[nd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(br(o)),Zr(o)&&Nk(o,r);let s=n.type;if(s&8)dd(t,e,n.child,r);else if(s&32){let a=Ag(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=$C(e,n);if(Array.isArray(a))r.push(...a);else{let c=sc(e[Ir]);dd(c[ye],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Nk(t,e){for(let n=Cn;n<t.length;n++){let r=t[n],i=r[ye].firstChild;i!==null&&dd(r[ye],r,i,e)}t[Eo]!==t[Dr]&&e.push(t[Eo])}var ib=[];function kk(t){return t[wo]??Fk(t)}function Fk(t){let e=ib.pop()??Object.create(Lk);return e.lView=t,e}function Vk(t){t.lView[wo]!==t&&(t.lView=null,ib.push(t))}var Lk=Ae(N({},pu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oc(t.lView)},consumerOnSignalRead(){this.lView[wo]=this}});function ob(t){return ab(t[ic])}function sb(t){return ab(t[Zn])}function ab(t){for(;t!==null&&!Zr(t);)t=t[Zn];return t}var cb=100;function lb(t,e=!0,n=0){let r=t[Wr],i=r.rendererFactory,o=!1;o||i.begin?.();try{jk(t,n)}catch(s){throw e&&nb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function jk(t,e){km(t,e);let n=0;for(;hg(t);){if(n===cb)throw new O(103,!1);n++,km(t,1)}}function Uk(t,e,n,r){let i=e[te];if((i&256)===256)return;let o=!1;!o&&e[Wr].inlineEffectRunner?.flush(),gg(e);let s=null,a=null;!o&&Bk(t)&&(a=kk(e),s=_p(a));try{SI(e),nR(t.bindingStartIndex),n!==null&&KC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Yu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xu(e,d,0,null),Kp(e,0)}if($k(e),ub(e,0),t.contentQueries!==null&&ZC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Yu(e,d)}else{let d=t.contentHooks;d!==null&&Xu(e,d,1),Kp(e,1)}ok(t,e);let l=t.components;l!==null&&hb(e,l,0);let u=t.viewQuery;if(u!==null&&Nm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Yu(e,d)}else{let d=t.viewHooks;d!==null&&Xu(e,d,2),Kp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ku]){for(let d of e[Ku])d();e[Ku]=null}o||(e[te]&=-73)}catch(c){throw oc(e),c}finally{a!==null&&(wp(a,s),Vk(a)),yg()}}function Bk(t){return t.type!==2}function ub(t,e){for(let n=ob(t);n!==null;n=sb(n))for(let r=Cn;r<n.length;r++){let i=n[r];db(i,e)}}function $k(t){for(let e=ob(t);e!==null;e=sb(e)){if(!(e[te]&lg.HasTransplantedViews))continue;let n=e[zs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ft];zO(i)}}}function Hk(t,e,n){let r=Ri(e,t);db(r,n)}function db(t,e){dg(t)&&km(t,e)}function km(t,e){let r=t[ye],i=t[te],o=t[wo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&mu(o)),o&&(o.dirty=!1),t[te]&=-9217,s)Uk(r,t,r.template,t[er]);else if(i&8192){ub(t,1);let a=r.components;a!==null&&hb(t,a,1)}}function hb(t,e,n){for(let r=0;r<e.length;r++)Hk(t,e[r],n)}function jg(t){for(t[Wr].changeDetectionScheduler?.notify();t;){t[te]|=64;let e=sc(t);if(kO(t)&&!e)return t;t=e}return null}var To=class{get rootNodes(){let e=this._lView,n=e[ye];return dd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(e){this._lView[er]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(Zr(e)){let n=e[rd],r=n?n.indexOf(this):-1;r>-1&&(Pm(e,r),id(n,r))}this._attachedToViewContainer=!1}UC(this._lView[ye],this._lView)}onDestroy(e){AI(this._lView,e)}markForCheck(){jg(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){lm(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,lb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,LC(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,lm(this._lView)}},tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gk;let t=e;return t})(),zk=tr,qk=class extends zk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ok(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new To(i)}};function Gk(){return Ld(pn(),Me())}function Ld(t,e){return t.type&4?new qk(e,t,Zs(t,e)):null}var x7=new RegExp(`^(\\d+)*(${RR}|${OR})*(.*)`);var Wk=()=>null;function JE(t,e){return Wk(t,e)}var uc=class{},Fm=class{},hd=class{};function Kk(t){let e=Error(`No component factory found for ${Zt(t)}.`);return e[Qk]=t,e}var Qk="ngComponent";var Vm=class{resolveComponentFactory(e){throw Kk(e)}},jd=(()=>{let e=class e{};e.NULL=new Vm;let t=e;return t})(),Do=class{},ri=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Yk();let t=e;return t})();function Yk(){let t=Me(),e=pn(),n=Ri(e.index,t);return(vo(n)?n:t)[st]}var Xk=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jp={},fb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Jk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Lm=class extends fb{constructor(e){super(),this._lView=e}onDestroy(e){return AI(this._lView,e),()=>GO(this._lView,e)}};function Jk(){return new Lm(Me())}var ZE=new Set;function Mo(t){ZE.has(t)||(ZE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function eI(...t){}function Zk(){let t=typeof Gr.requestAnimationFrame=="function",e=Gr[t?"requestAnimationFrame":"setTimeout"],n=Gr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Zk().nativeRequestAnimationFrame,n1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,e1,eI,eI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},e1={};function Ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function t1(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jm(t),t.isCheckStableRunning=!0,Ug(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jm(t))}function n1(t){let e=()=>{t1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(r1(a))return n.invokeTask(i,o,s,a);try{return tI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),nI(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return tI(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),nI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,jm(t),Ug(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function jm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nI(t){t._nesting--,Ug(t)}function r1(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var pb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function fd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=am(i,a);else if(o==2){let c=a,l=e[++s];r=am(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pd=class extends jd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xi(e);return new Qs(n,this.ngModule)}};function rI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function i1(t){let e=t.toLowerCase();return e==="svg"?FO:e==="math"?VO:null}var Um=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ad(r);let i=this.injector.get(e,Jp,r);return i!==Jp||n===Jp?i:this.parentInjector.get(e,n,r)}},Qs=class extends hd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=MO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Um(e,s):e,c=a.get(Do,null);if(c===null)throw new O(407,!1);let l=a.get(Xk,null),u=a.get(pb,null),d=a.get(uc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",E=r?ck(f,r,this.componentDef.encapsulation,a):VC(f,g,i1(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let D=null;E!==null&&(D=Tg(E,a,!0));let j=Ng(0,null,null,1,0,null,null,null,null,null,null),$=Fd(null,j,null,b,null,null,h,f,a,null,D);gg($);let p,Q;try{let P=this.componentDef,W,ue=null;P.findHostDirectiveDefs?(W=[],ue=new Map,P.findHostDirectiveDefs(P,W,ue),W.push(P)):W=[P];let Ee=o1($,E),Te=s1(Ee,E,P,W,$,h,f);Q=DI(j,Cr),E&&l1(f,P,E,r),n!==void 0&&u1(Q,this.ngContentSelectors,n),p=c1(Te,P,W,ue,$,[d1]),Lg(j,$,null)}finally{yg()}return new Bm(this.componentType,p,Zs(Q,$),$,Q)}finally{xe(o)}}},Bm=class extends Fm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new To(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Vg(o[ye],o,i,e,n),this.previousInputValues.set(e,n);let s=Ri(this._tNode.index,o);jg(s)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function o1(t,e){let n=t[ye],r=Cr;return t[r]=e,vc(n,r,2,"#host",null)}function s1(t,e,n,r,i,o,s){let a=i[ye];a1(r,t,e,s);let c=null;e!==null&&(c=Tg(e,i[Hs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Fd(i,QC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Rm(a,t,r.length-1),Vd(i,d),i[t.index]=d}function a1(t,e,n,r){for(let i of t)e.mergedAttrs=nc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(fd(e,e.mergedAttrs,!0),n!==null&&zC(r,n,e))}function c1(t,e,n,r,i,o){let s=pn(),a=i[ye],c=rr(s,i);YC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=bo(i,a,d,s);Mi(h,i)}XC(a,i,s),c&&Mi(c,i);let l=bo(i,a,s.directiveStart+s.componentOffset,s);if(t[er]=i[er]=l,o!==null)for(let u of o)u(l,e);return Pg(a,s,i),l}function l1(t,e,n,r){if(r)cm(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=PO(e.selectors[0]);i&&cm(t,n,i),o&&o.length>0&&HC(t,n,o.join(" "))}}function u1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function d1(){let t=pn();Pd(Me()[ye],t)}var Vt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=h1;let t=e;return t})();function h1(){let t=pn();return gb(t,Me())}var f1=Vt,mb=class extends f1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sg(this._hostTNode,this._hostLView);if(uC(e)){let n=cd(e,this._hostLView),r=ad(e),i=n[ye].data[r+8];return new _o(i,n)}else return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=JE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,XE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!WR(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new Qs(xi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Tt,null);E&&(o=E)}let u=xi(c.componentType??{}),d=JE(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,XE(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ft],l=new mb(c,c[nr],c[Ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Rk(s,i,o,r),e.attachToViewContainerRef(),UI(Zp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Pm(this._lContainer,n);r&&(id(Zp(this._lContainer),n),UC(r[ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=Pm(this._lContainer,n);return r&&id(Zp(this._lContainer),n)!=null?new To(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iI(t){return t[rd]}function Zp(t){return t[rd]||(t[rd]=[])}function gb(t,e){let n,r=e[t.index];return Zr(r)?n=r:(n=JC(r,e,null,t),e[t.index]=n,Vd(e,n)),m1(n,e,t,r),new mb(n,t,e)}function p1(t,e){let n=t[st],r=n.createComment(""),i=rr(e,t),o=xg(n,i);return ud(n,o,r,YN(n,i),!1),r}var m1=v1,g1=()=>!1;function y1(t,e,n){return g1(t,e,n)}function v1(t,e,n,r){if(t[Eo])return;let i;n.type&8?i=br(r):i=p1(e,n),t[Eo]=i}var $m=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Bg(e,n).matches!==null&&this.queries[n].setDirty()}},zm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=D1(e):this.predicate=e}},qm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Gm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,_1(n,o)),this.matchTNodeWithReadOption(e,n,Ju(n,e,o,!1,!1))}else r===tr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ju(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===Vt||i===tr&&n.type&4)this.addMatch(n.index,-2);else{let o=Ju(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function _1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function w1(t,e){return t.type&11?Zs(t,e):t.type&4?Ld(t,e):null}function E1(t,e,n,r){return n===-1?w1(e,t):n===-2?I1(t,e,r):bo(t,t[ye],n,e)}function I1(t,e,n){if(n===mt)return Zs(e,t);if(n===tr)return Ld(e,t);if(n===Vt)return gb(e,t)}function yb(t,e,n,r){let i=e[Kr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(E1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Wm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=yb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Cn;d<u.length;d++){let h=u[d];h[pc]===h[Ft]&&Wm(h[ye],h,l,r)}if(u[zs]!==null){let d=u[zs];for(let h=0;h<d.length;h++){let f=d[h];Wm(f[ye],f,l,r)}}}}}return r}function C1(t,e){return t[Kr].queries[e].queryList}function b1(t,e,n){let r=new dm((n&4)===4);return dk(t,e,r,r.destroy),(e[Kr]??=new Hm).queries.push(new $m(r))-1}function T1(t,e,n){let r=Dt();return r.firstCreatePass&&(S1(r,new zm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),b1(r,Me(),e)}function D1(t){return t.split(",").map(e=>e.trim())}function S1(t,e,n){t.queries===null&&(t.queries=new qm),t.queries.track(new Gm(e,n))}function Bg(t,e){return t.queries.getByIndex(e)}function A1(t,e){let n=t[ye],r=Bg(n,e);return r.crossesNgTemplate?Wm(n,t,e,[]):yb(n,t,r,e)}function x1(t){return typeof t=="function"&&t[Ei]!==void 0}function ea(t,e){Mo("NgSignals");let n=Q0(t),r=n[Ei];return e?.equal&&(r.equal=e.equal),n.set=i=>Ip(r,i),n.update=i=>Y0(r,i),n.asReadonly=M1.bind(n),n}function M1(){let t=this[Ei];if(t.readonlyFn===void 0){let e=()=>this();e[Ei]=t,t.readonlyFn=e}return t.readonlyFn}function vb(t){return x1(t)&&typeof t.set=="function"}function P1(t){return Object.getPrototypeOf(t.prototype).constructor}function Be(t){let e=P1(t.type),n=!0,r=[t];for(;e;){let i;if(Qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Gu(t.inputs),s.inputTransforms=Gu(t.inputTransforms),s.declaredInputs=Gu(t.declaredInputs),s.outputs=Gu(t.outputs);let a=i.hostBindings;a&&F1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&N1(t,c),l&&k1(t,l),O1(t,i),mO(t.outputs,i.outputs),Qr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Be&&(n=!1)}}e=Object.getPrototypeOf(e)}R1(r)}function O1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function R1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}function Gu(t){return t===$s?{}:t===fn?[]:t}function N1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function k1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function F1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ud(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Pi=class{},dc=class{};var Km=class extends Pi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pd(this);let i=EI(e);this._bootstrapComponents=FC(i.bootstrap),this._r3Injector=_C(e,n,[{provide:Pi,useValue:this},{provide:jd,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qm=class extends dc{constructor(e){super(),this.moduleType=e}create(e){return new Km(this.moduleType,e,[])}};var md=class extends Pi{constructor(e){super(),this.componentFactoryResolver=new pd(this),this.instance=null;let n=new lc([...e.providers,{provide:Pi,useValue:this},{provide:jd,useValue:this.componentFactoryResolver}],e.parent||Md(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $g(t,e,n=null){return new md({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Po=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _b(t){return L1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function V1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function L1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Oi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function j1(t,e,n,r){let i=Oi(t,e,n);return Oi(t,e+1,r)||i}function U1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=vc(e,t,4,s||null,qs(l,a));Fg(e,n,u,qs(l,c)),Pd(e,u);let d=u.tView=Ng(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function z(t,e,n,r,i,o,s,a){let c=Me(),l=Dt(),u=t+Cr,d=l.firstCreatePass?U1(u,l,c,e,n,r,i,o,s):l.data[u];Ao(d,!1);let h=B1(l,c,d,t);bd()&&Nd(l,c,h,d),Mi(h,c);let f=JC(h,c,h,d);return c[u]=f,Vd(c,f),y1(f,d,c),Id(d)&&Og(l,c,d),s!=null&&Rg(c,d,a),z}var B1=$1;function $1(t,e,n,r){return Td(!0),e[st].createComment("")}function H1(t,e,n,r){return Oi(t,Cd(),n)?e+ac(n)+r:Ar}function z1(t,e,n,r,i,o){let s=tR(),a=j1(t,s,n,i);return pg(2),a?e+ac(n)+r+ac(i)+o:Ar}function Wu(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function q1(t){return(t&2)==2}function G1(t,e){return t&131071|e<<17}function Ym(t){return t|2}function Ys(t){return(t&131068)>>2}function em(t,e){return t&-131069|e<<2}function W1(t){return(t&1)===1}function Xm(t){return t|1}function K1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=So(s),c=Ys(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||mc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=So(t[a+1]);t[r+1]=Wu(h,a),h!==0&&(t[h+1]=em(t[h+1],r)),t[a+1]=G1(t[a+1],r)}else t[r+1]=Wu(a,0),a!==0&&(t[a+1]=em(t[a+1],r)),a=r;else t[r+1]=Wu(c,0),a===0?a=r:t[c+1]=em(t[c+1],r),c=r;l&&(t[r+1]=Ym(t[r+1])),oI(t,u,r,!0),oI(t,u,r,!1),Q1(e,u,t,r,o),s=Wu(a,c),o?e.classBindings=s:e.styleBindings=s}function Q1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&mc(o,e)>=0&&(n[r+1]=Xm(n[r+1]))}function oI(t,e,n,r){let i=t[n+1],o=e===null,s=r?So(i):Ys(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Y1(c,e)&&(a=!0,t[s+1]=r?Xm(l):Ym(l)),s=r?So(l):Ys(l)}a&&(t[n+1]=r?Ym(i):Xm(i))}function Y1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?mc(t,e)>=0:!1}var pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wb(t){return t.substring(pt.key,pt.keyEnd)}function X1(t){return t.substring(pt.value,pt.valueEnd)}function J1(t){return Cb(t),Eb(t,Xs(t,0,pt.textEnd))}function Eb(t,e){let n=pt.textEnd;return n===e?-1:(e=pt.keyEnd=eF(t,pt.key=e,n),Xs(t,e,n))}function Z1(t){return Cb(t),Ib(t,Xs(t,0,pt.textEnd))}function Ib(t,e){let n=pt.textEnd,r=pt.key=Xs(t,e,n);return n===r?-1:(r=pt.keyEnd=tF(t,r,n),r=sI(t,r,n,58),r=pt.value=Xs(t,r,n),r=pt.valueEnd=nF(t,r,n),sI(t,r,n,59))}function Cb(t){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=t.length}function Xs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function eF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function tF(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function sI(t,e,n,r){return e=Xs(t,e,n),e<n&&e++,e}function nF(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=aI(t,c,s,n):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=aI(t,41,s,n):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function aI(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function T(t,e,n){let r=Me(),i=Cd();if(Oi(r,i,e)){let o=Dt(),s=vg();kg(o,s,r,t,e,r[st],n,!1)}return T}function Jm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Vg(t,n,o[s],s,r)}function ii(t,e,n){return Tb(t,e,n,!1),ii}function Ce(t,e){return Tb(t,e,null,!0),Ce}function Bd(t){Db(xb,rF,t,!1)}function rF(t,e){for(let n=Z1(e);n>=0;n=Ib(e,n))xb(t,wb(e),X1(e))}function bb(t){Db(uF,iF,t,!0)}function iF(t,e){for(let n=J1(e);n>=0;n=Eb(e,n))Dd(t,wb(e),!0)}function Tb(t,e,n,r){let i=Me(),o=Dt(),s=pg(2);if(o.firstUpdatePass&&Ab(o,t,s,r),e!==Ar&&Oi(i,s,e)){let a=o.data[Ni()];Mb(o,a,i,i[st],t,i[s+1]=hF(e,n),r,s)}}function Db(t,e,n,r){let i=Dt(),o=pg(2);i.firstUpdatePass&&Ab(i,null,o,r);let s=Me();if(n!==Ar&&Oi(s,o,n)){let a=i.data[Ni()];if(Pb(a,r)&&!Sb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=am(c,n||"")),Jm(i,a,s,n,r)}else dF(i,a,s,s[st],s[o+1],s[o+1]=lF(t,e,n),r,o)}}function Sb(t,e){return e>=t.expandoStartIndex}function Ab(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ni()],s=Sb(t,n);Pb(o,r)&&e===null&&!s&&(e=!1),e=oF(i,o,e,r),K1(i,o,e,n,s,r)}}function oF(t,e,n,r){let i=OI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tm(null,t,e,n,r),n=hc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=tm(i,t,e,n,r),o===null){let c=sF(t,e,r);c!==void 0&&Array.isArray(c)&&(c=tm(null,t,e,c[1],r),c=hc(c,e.attrs,r),aF(t,e,r,c))}else o=cF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ys(r)!==0)return t[So(r)]}function aF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[So(i)]=r}function cF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=hc(r,s,n)}return hc(r,e.attrs,n)}function tm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=hc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function hc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Dd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lF(t,e,n){if(n==null||n==="")return fn;let r=[],i=kn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function xb(t,e,n){Dd(t,e,kn(n))}function uF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Dd(t,r,n)}function dF(t,e,n,r,i,o,s,a){i===Ar&&(i=fn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,g=null,E;u===d?(c+=2,l+=2,h!==f&&(g=d,E=f)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,E=f),g!==null&&Mb(t,e,n,r,g,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Mb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=W1(l)?cI(c,e,n,i,Ys(l),s):void 0;if(!gd(u)){gd(o)||q1(l)&&(o=cI(c,null,n,i,a,s));let d=TI(Ni(),n);rk(r,s,d,i,o)}}function cI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Ar&&(h=d?fn:void 0);let f=d?Gp(h,r):u===r?h:void 0;if(l&&!gd(f)&&(f=Gp(c,r)),gd(f)&&(a=f,s))return a;let g=t[i+1];i=s?So(g):Ys(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Gp(c,r))}return a}function gd(t){return t!==void 0}function hF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Zt(kn(t)))),t}function Pb(t,e){return(t.flags&(e?8:16))!==0}function fF(t,e,n,r,i,o){let s=e.consts,a=qs(s,i),c=vc(e,t,2,r,a);return Fg(e,n,c,qs(s,o)),c.attrs!==null&&fd(c,c.attrs,!1),c.mergedAttrs!==null&&fd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=Me(),o=Dt(),s=Cr+t,a=i[st],c=o.firstCreatePass?fF(s,o,i,e,n,r):o.data[s],l=pF(o,i,c,a,e,t);i[s]=l;let u=Id(c);return Ao(c,!0),zC(a,l,c),(c.flags&32)!==32&&bd()&&Nd(o,i,l,c),WO()===0&&Mi(l,i),KO(),u&&(Og(o,i,c),Pg(o,c,i)),r!==null&&Rg(i,c),m}function y(){let t=pn();fg()?PI():(t=t.parent,Ao(t,!1));let e=t;XO(e)&&JO(),QO();let n=Dt();return n.firstCreatePass&&(Pd(n,t),ug(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eN(e)&&Jm(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tN(e)&&Jm(n,e,Me(),e.stylesWithoutHost,!1),y}function ae(t,e,n,r){return m(t,e,n,r),y(),ae}var pF=(t,e,n,r,i,o)=>(Td(!0),VC(r,i,cR()));function mF(t,e,n,r,i){let o=e.consts,s=qs(o,r),a=vc(e,t,8,"ng-container",s);s!==null&&fd(a,s,!0);let c=qs(o,i);return Fg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function on(t,e,n){let r=Me(),i=Dt(),o=t+Cr,s=i.firstCreatePass?mF(o,i,r,e,n):i.data[o];Ao(s,!0);let a=gF(i,r,s,t);return r[o]=a,bd()&&Nd(i,r,a,s),Mi(a,r),Id(s)&&(Og(i,r,s),Pg(i,s,r)),n!=null&&Rg(r,s),on}function sn(){let t=pn(),e=Dt();return fg()?PI():(t=t.parent,Ao(t,!1)),e.firstCreatePass&&(Pd(e,t),ug(t)&&e.queries.elementEnd(t)),sn}function Hg(t,e,n){return on(t,e,n),sn(),Hg}var gF=(t,e,n,r)=>(Td(!0),jN(e[st],""));function ee(){return Me()}function _c(t,e,n){let r=Me(),i=Cd();if(Oi(r,i,e)){let o=Dt(),s=vg(),a=OI(o.data),c=Ak(a,s,r);kg(o,s,r,t,e,c,n,!0)}return _c}var yd="en-US";var yF=yd;function vF(t){typeof t=="string"&&(yF=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,r){let i=Me(),o=Dt(),s=pn();return Ob(o,i,i[st],s,t,e,r),I}function _F(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[rc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ob(t,e,n,r,i,o,s){let a=Id(r),l=t.firstCreatePass&&tb(t),u=e[er],d=eb(e),h=!0;if(r.type&3||s){let E=rr(r,e),b=s?s(E):E,D=d.length,j=s?p=>s(br(p[r.index])):r.index,$=null;if(!s&&a&&($=_F(t,e,i,r.index)),$!==null){let p=$.__ngLastListenerFn__||$;p.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1}else{o=uI(r,e,u,o,!1);let p=n.listen(b,i,o);d.push(o,p),l&&l.push(i,j,D,D+1)}}else o=uI(r,e,u,o,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let E=g.length;if(E)for(let b=0;b<E;b+=2){let D=g[b],j=g[b+1],Q=e[D][j].subscribe(o),P=d.length;if(d.push(o,Q),l){let W=typeof Q=="function"?P+1:-(P+1);l.push(i,r.index,P,W)}}}}function lI(t,e,n,r){let i=xe(null);try{return _r(6,e,n),n(r)!==!1}catch(o){return nb(t,o),!1}finally{_r(7,e,n),xe(i)}}function uI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ri(t.index,e):e;jg(a);let c=lI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=lI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function w(t=1){return aR(t)}function Rb(t,e,n){T1(t,e,n)}function zg(t){let e=Me(),n=Dt(),r=RI();mg(r+1);let i=Bg(n,r);if(t.dirty&&$O(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=A1(e,r);t.reset(o,uR),t.notifyOnChanges()}return!0}return!1}function qg(){return C1(Me(),RI())}function Kt(t){let e=eR();return BO(e,Cr+t)}function F(t,e=""){let n=Me(),r=Dt(),i=t+Cr,o=r.firstCreatePass?vc(r,i,1,e,null):r.data[i],s=wF(r,n,o,e,t);n[i]=s,bd()&&Nd(r,n,s,o),Ao(o,!1)}var wF=(t,e,n,r,i)=>(Td(!0),VN(e[st],r));function pe(t){return Nb("",t,""),pe}function Nb(t,e,n){let r=Me(),i=H1(r,t,e,n);return i!==Ar&&rb(r,Ni(),i),Nb}function Oo(t,e,n,r,i){let o=Me(),s=z1(o,t,e,n,r,i);return s!==Ar&&rb(o,Ni(),s),Oo}function Fn(t,e,n){vb(e)&&(e=e());let r=Me(),i=Cd();if(Oi(r,i,e)){let o=Dt(),s=vg();kg(o,s,r,t,e,r[st],n,!1)}return Fn}function ir(t,e){let n=vb(t);return n&&t.set(e),n}function Vn(t,e){let n=Me(),r=Dt(),i=pn();return Ob(r,n,n[st],i,t,e),Vn}function EF(t,e,n){let r=Dt();if(r.firstCreatePass){let i=Qr(t);Zm(n,r.data,r.blueprint,i,!0),Zm(e,r.data,r.blueprint,i,!1)}}function Zm(t,e,n,r,i){if(t=Jt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Zm(t[o],e,n,r,i);else{let o=Dt(),s=Me(),a=pn(),c=Ks(t)?t:Jt(t.provide),l=iC(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ks(t)||!t.multi){let f=new Co(l,i,A),g=rm(c,e,i?u:u+h,d);g===-1?(Em(ld(a,s),o,c),nm(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=rm(c,e,u+h,d),g=rm(c,e,u,u+h),E=f>=0&&n[f],b=g>=0&&n[g];if(i&&!b||!i&&!E){Em(ld(a,s),o,c);let D=bF(i?CF:IF,n.length,i,r,l);!i&&b&&(n[g].providerFactory=D),nm(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=kb(n[i?g:f],l,!i&&r);nm(o,t,f>-1?f:g,D)}!i&&r&&b&&n[g].componentProviders++}}}function nm(t,e,n,r){let i=Ks(e),o=jR(e);if(i||o){let c=(o?Jt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function kb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function IF(t,e,n,r){return eg(this.multi,[])}function CF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=bo(n,n[ye],this.providerFactory.index,r);o=a.slice(0,s),eg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],eg(i,o);return o}function eg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bF(t,e,n,r,i){let o=new Co(t,n,A);return o.multi=[],o.index=e,o.componentProviders=0,kb(o,i,r&&!n),o}function wc(t,e=[]){return n=>{n.providersResolver=(r,i)=>EF(r,i?i(t):t,e)}}var TF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=tC(!1,r.type),o=i.length>0?$g([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(L(Tt))});let t=e;return t})();function Y(t){Mo("NgStandalone"),t.getStandaloneInjector=e=>e.get(TF).getOrCreateStandaloneInjector(t)}function $d(t,e){return Ld(t,e)}var Jr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Fb=new Jr("17.2.4"),Hd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Vb=new G("");function Ro(t){return!!t&&typeof t.then=="function"}function Lb(t){return!!t&&typeof t.subscribe=="function"}var jb=new G(""),Ub=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(jb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Ro(s))r.push(s);else if(Lb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zd=new G("");function DF(){K0(()=>{throw new O(600,!1)})}function SF(t){return t.isBoundToModule}function AF(t,e,n){try{let r=n();return Ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(wC),this.afterRenderEffectManager=R(pb),this.componentTypes=[],this.components=[],this.isStable=R(Po).hasPendingTasks.pipe(re(r=>!r)),this._injector=R(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof hd;if(!this._injector.get(Ub).done){let f=!o&&wI(r),g=!1;throw new O(405,g)}let a;o?a=r:a=this._injector.get(jd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=SF(a)?void 0:this._injector.get(Pi),l=i||a.selector,u=a.create(Je.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Vb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),im(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===cb)throw new O(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!om(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>om(s))&&(i.execute(),!this._views.some(({_lView:s})=>om(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[te]|=1024):r[te]&64?s=0:s=1,lb(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;im(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(zd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>im(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function im(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function om(t){return hg(t)}var tg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gg=(()=>{let e=class e{compileModuleSync(r){return new Qm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=EI(r),s=FC(o.declarations).reduce((a,c)=>{let l=xi(c);return l&&a.push(new Qs(l)),a},[]);return new tg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xF=(()=>{let e=class e{constructor(){this.zone=R(Ie),this.applicationRef=R(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MF(t){return[{provide:Ie,useFactory:t},{provide:Ws,multi:!0,useFactory:()=>{let e=R(xF,{optional:!0});return()=>e.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let e=R(NF);return()=>{e.initialize()}}},{provide:wC,useFactory:PF}]}function PF(){let t=R(Ie),e=R(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function OF(t){let e=MF(()=>new Ie(RF(t)));return ki([[],e])}function RF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var NF=(()=>{let e=class e{constructor(){this.subscription=new rt,this.initialized=!1,this.zone=R(Ie),this.pendingTasks=R(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kF(){return typeof $localize<"u"&&$localize.locale||yd}var Wg=new G("",{providedIn:"root",factory:()=>R(Wg,_e.Optional|_e.SkipSelf)||kF()});var Bb=new G("");var ed=null;function FF(t=[],e){return Je.create({name:e,providers:[{provide:xd,useValue:"platform"},{provide:Bb,useValue:new Set([()=>ed=null])},...t]})}function VF(t=[]){if(ed)return ed;let e=FF(t);return ed=e,DF(),LF(e),e}function LF(t){t.get(Eg,null)?.forEach(n=>n())}var Vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jF;let t=e;return t})();function jF(t){return UF(pn(),Me(),(t&16)===16)}function UF(t,e,n){if(Ed(t)&&!n){let r=Ri(t.index,e);return new To(r,r)}else if(t.type&47){let r=e[Ir];return new To(r,e)}return null}var ng=class{constructor(){}supports(e){return _b(e)}create(e){return new rg(e)}},BF=(t,e)=>e,rg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dI(r,i,o)?n:r,a=dI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_b(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,V1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ig(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new vd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ig=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},og=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new og,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function hI(){return new Kg([new ng])}var Kg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||hI()),deps:[[e,new JI,new nn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new O(901,!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:hI});let t=e;return t})();function $b(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=VF(r),o=[OF(),...n||[]],a=new md({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Tr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Bb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),AF(l,c,()=>{let f=a.get(Ub);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Wg,yd);vF(g||yd);let E=a.get(xr);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Ln(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var $F=new G("",{providedIn:"root",factory:()=>R(HF)}),HF=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new sg});let t=e;return t})(),sg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=R(Po),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},ag=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=J0(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Tr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function No(t,e){Mo("NgSignals"),!e?.injector&&GR(No);let n=e?.injector??R(Je),r=e?.manualCleanup!==!0?n.get(fb):null,i=new ag(n.get($F),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Vi,null,{optional:!0});return!o||!(o._lView[te]&8)?i.watcher.notify():(o._lView[Ku]??=[]).push(i.watcher.notify),i}function qd(t,e){let n=xi(t),r=e.elementInjector||Md();return new Qs(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Kb=null;function oi(){return Kb}function Qb(t){Kb??=t}var Gd=class{};var Lt=new G(""),Yb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(qF),providedIn:"platform"});let t=e;return t})();var qF=(()=>{let e=class e extends Yb{constructor(){super(),this._doc=R(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oi().getBaseHref(this._doc)}onPopState(r){let i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Xb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Hb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ko(t){return t&&t[0]!=="?"?"?"+t:t}var Wd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(Jb),providedIn:"root"});let t=e;return t})(),GF=new G(""),Jb=(()=>{let e=class e extends Wd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Xb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ko(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ko(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ko(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Yb),L(GF,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ec=(()=>{let e=class e{constructor(r){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=QF(Hb(zb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ko(i))}normalize(r){return e.stripTrailingSlash(KF(this._basePath,zb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ko(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ko(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ko,e.joinWithSlash=Xb,e.stripTrailingSlash=Hb,e.\u0275fac=function(i){return new(i||e)(L(Wd))},e.\u0275prov=V({token:e,factory:()=>WF(),providedIn:"root"});let t=e;return t})();function WF(){return new Ec(L(Wd))}function KF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zb(t){return t.replace(/\/index.html$/,"")}function QF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Kd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qg=/\s+/,qb=[],mn=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=qb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Qg):qb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Qg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Qg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(A(mt),A(ri))},e.\u0275dir=He({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ne.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Yg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ge=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Yg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Gb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Gb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(A(Vt),A(tr),A(Kg))},e.\u0275dir=He({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Gb(t,e){t.context.$implicit=e.item}var We=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Wb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Wb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(A(Vt),A(tr))},e.\u0275dir=He({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Xg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Zt(e)}'.`)}var X=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=tn({});let t=e;return t})(),Zb="browser",YF="server";function Ic(t){return t===YF}var ta=class{};var bc=class{},Tc=class{},si=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ey=class{encodeKey(e){return eT(e)}encodeValue(e){return eT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ZF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var eV=/%(\d[a-f0-9])/gi,tV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eT(t){return encodeURIComponent(t).replace(eV,(e,n)=>tV[n]??e)}function Qd(t){return`${t}`}var ji=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ey,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ZF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Qd):[Qd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Qd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Qd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ty=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function nT(t){return typeof Blob<"u"&&t instanceof Blob}function rT(t){return typeof FormData<"u"&&t instanceof FormData}function rV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Cc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(nV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new si,this.context??=new ty,!this.params)this.params=new ji,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:tT(this.body)||nT(this.body)||rT(this.body)||rV(this.body)||typeof this.body=="string"?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rT(this.body)?null:nT(this.body)?this.body.type||null:tT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Ui=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ui||{}),Dc=class{constructor(e,n=Ac.Ok,r="OK"){this.headers=e.headers||new si,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Yd=class t extends Dc{constructor(e={}){super(e),this.type=Ui.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sc=class t extends Dc{constructor(e={}){super(e),this.type=Ui.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Li=class extends Dc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ac=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ac||{});function Jg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Fo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Cc)s=r;else{let l;o.headers instanceof si?l=o.headers:l=new si(o.headers);let u;o.params&&(o.params instanceof ji?u=o.params:u=new ji({fromObject:o.params})),s=new Cc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=se(s).pipe(Ti(l=>this.handler.handle(l)));if(r instanceof Cc||o.observe==="events")return a;let c=a.pipe(bt(l=>l instanceof Sc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(re(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ji().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Jg(o,i))}post(r,i,o={}){return this.request("POST",r,Jg(o,i))}put(r,i,o={}){return this.request("PUT",r,Jg(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(bc))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),iV=/^\)\]\}',?\n/,oV="X-Request-URL";function iT(t){if(t.url)return t.url;let e=oV.toLocaleLowerCase();return t.headers.get(e)}var Zg=(()=>{let e=class e{constructor(){this.fetchImpl=R(ny,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=R(Ie)}handle(r){return new oe(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(ry,s=>i.error(new Li({error:s}))),()=>o.abort()})}doRequest(r,i,o){return v(this,null,function*(){let s=this.createRequestInit(r),a;try{let g=this.fetchImpl(r.urlWithParams,N({signal:i},s));sV(g),o.next({type:Ui.Sent}),a=yield g}catch(g){o.error(new Li({error:g,status:g.status??0,statusText:g.statusText,url:r.urlWithParams,headers:g.headers}));return}let c=new si(a.headers),l=a.statusText,u=iT(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new Yd({headers:c,status:d,statusText:l,url:u})),a.body){let g=a.headers.get("content-length"),E=[],b=a.body.getReader(),D=0,j,$,p=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){let{done:P,value:W}=yield b.read();if(P)break;if(E.push(W),D+=W.length,r.reportProgress){$=r.responseType==="text"?($??"")+(j??=new TextDecoder).decode(W,{stream:!0}):void 0;let ue=()=>o.next({type:Ui.DownloadProgress,total:g?+g:void 0,loaded:D,partialText:$});p?p.run(ue):ue()}}}));let Q=this.concatChunks(E,D);try{let P=a.headers.get("Content-Type")??"";h=this.parseBody(r,Q,P)}catch(P){o.error(new Li({error:P,headers:new si(a.headers),status:a.status,statusText:a.statusText,url:iT(a)??r.urlWithParams}));return}}d===0&&(d=h?Ac.Ok:0),d>=200&&d<300?(o.next(new Sc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Li({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(iV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ny=class{};function ry(){}function sV(t){t.then(ry,ry)}function aV(t,e){return e(t)}function cV(t,e,n){return(r,i)=>ei(n,()=>e(r,o=>t(o,i)))}var iy=new G(""),lV=new G(""),aT=new G("");var oT=(()=>{let e=class e extends bc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=R(Po);let o=R(aT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(iy),...this.injector.get(lV,[])]));this.chain=o.reduceRight((s,a)=>cV(s,a,this.injector),aV)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(yo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(L(Tc),L(Tt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();var uV=/^\)\]\}',?\n/;function dV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var sT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?$e(i.\u0275loadImpl()):se(null)).pipe(Wt(()=>new oe(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((b,D)=>a.setRequestHeader(b,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let b=r.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(r.responseType){let b=r.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let b=a.statusText||"OK",D=new si(a.getAllResponseHeaders()),j=dV(a)||r.url;return l=new Yd({headers:D,status:a.status,statusText:b,url:j}),l},d=()=>{let{headers:b,status:D,statusText:j,url:$}=u(),p=null;D!==Ac.NoContent&&(p=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=p?Ac.Ok:0);let Q=D>=200&&D<300;if(r.responseType==="json"&&typeof p=="string"){let P=p;p=p.replace(uV,"");try{p=p!==""?JSON.parse(p):null}catch(W){p=P,Q&&(Q=!1,p={error:W,text:p})}}Q?(s.next(new Sc({body:p,headers:b,status:D,statusText:j,url:$||void 0})),s.complete()):s.error(new Li({error:p,headers:b,status:D,statusText:j,url:$||void 0}))},h=b=>{let{url:D}=u(),j=new Li({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(j)},f=!1,g=b=>{f||(s.next(u()),f=!0);let D={type:Ui.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(D.total=b.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},E=b=>{let D={type:Ui.UploadProgress,loaded:b.loaded};b.lengthComputable&&(D.total=b.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",E)),a.send(c),s.next({type:Ui.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",E)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(ta))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),cT=new G(""),hV="XSRF-TOKEN",fV=new G("",{providedIn:"root",factory:()=>hV}),pV="X-XSRF-TOKEN",mV=new G("",{providedIn:"root",factory:()=>pV}),Xd=class{},gV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(Lt),L(Nn),L(fV))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function yV(t,e){let n=t.url.toLowerCase();if(!R(cT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Xd).getToken(),i=R(mV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var oy=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(oy||{});function lT(t,e){return{\u0275kind:t,\u0275providers:e}}function uT(...t){let e=[Fo,sT,oT,{provide:bc,useExisting:oT},{provide:Tc,useExisting:sT},{provide:iy,useValue:yV,multi:!0},{provide:cT,useValue:!0},{provide:Xd,useClass:gV}];for(let n of t)e.push(...n.\u0275providers);return ki(e)}function dT(t){return lT(oy.Interceptors,t.map(e=>({provide:iy,useValue:e,multi:!0})))}function hT(){return lT(oy.Fetch,[Zg,{provide:Tc,useExisting:Zg},{provide:aT,useExisting:Zg}])}var pT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new cy;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_V=function(t){let e=pT(t);return mT.encodeByteArray(e,!0)},xc=function(t){return _V(t).replace(/\./g,"")},uy=function(t){try{return mT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EV=()=>wV().__FIREBASE_DEFAULTS__,IV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&uy(t[1]);return e&&JSON.parse(e)},dy=()=>{try{return EV()||IV()||CV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hy=t=>{var e,n;return(n=(e=dy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gT=t=>{let e=hy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fy=()=>{var t;return(t=dy())===null||t===void 0?void 0:t.config},py=t=>{var e;return(e=dy())===null||e===void 0?void 0:e[`_${t}`]};var Jd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xc(JSON.stringify(n)),xc(JSON.stringify(s)),""].join(".")}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function _T(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ET(){let t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function my(){try{return typeof indexedDB=="object"}catch{return!1}}function IT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var bV="FirebaseError",Tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ai.prototype.create)}},ai=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?TV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function TV(t,e){return t.replace(DV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DV=/\{\$([^}]+)}/g;function CT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(fT(o)&&fT(s)){if(!Vo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fT(t){return t!==null&&typeof t=="object"}function Mc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bT(t,e){let n=new ly(t,e);return n.subscribe.bind(n)}var ly=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ay(){}var pQ=4*60*60*1e3;function Bi(t){return t&&t._delegate?t._delegate:t}var jn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lo="[DEFAULT]";var gy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Jd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xV(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AV(t){return t===Lo?void 0:t}function xV(t){return t.instantiationMode==="EAGER"}var Zd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var MV=[],Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{}),PV={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},OV=Pe.INFO,RV={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},NV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=RV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=OV,this._logHandler=NV,this._userLogHandler=null,MV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var kV=(t,e)=>e.some(n=>t instanceof n),TT,DT;function FV(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VV(){return DT||(DT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ST=new WeakMap,vy=new WeakMap,AT=new WeakMap,yy=new WeakMap,wy=new WeakMap;function LV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),wy.set(e,t),e}function jV(t){if(vy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vy.set(t,e)}var _y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xT(t){_y=t(_y)}function UV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(eh(this),e,...n);return AT.set(r,e.sort?e.sort():[e]),Mr(r)}:VV().includes(t)?function(...e){return t.apply(eh(this),e),Mr(ST.get(this))}:function(...e){return Mr(t.apply(eh(this),e))}}function BV(t){return typeof t=="function"?UV(t):(t instanceof IDBTransaction&&jV(t),kV(t,FV())?new Proxy(t,_y):t)}function Mr(t){if(t instanceof IDBRequest)return LV(t);if(yy.has(t))return yy.get(t);let e=BV(t);return e!==t&&(yy.set(t,e),wy.set(e,t)),e}var eh=t=>wy.get(t);function PT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Mr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Mr(s.result),c.oldVersion,c.newVersion,Mr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var $V=["get","getKey","getAll","getAllKeys","count"],HV=["put","add","delete","clear"],Ey=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ey.get(e))return Ey.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=HV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$V.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Ey.set(e,o),o}xT(t=>Ae(N({},t),{get:(e,n,r)=>MT(e,n)||t.get(e,n,r),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));var Cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function zV(t){let e=t.getComponent();return e?.type==="VERSION"}var by="@firebase/app",OT="0.9.28";var jo=new $i("@firebase/app"),qV="@firebase/app-compat",GV="@firebase/analytics-compat",WV="@firebase/analytics",KV="@firebase/app-check-compat",QV="@firebase/app-check",YV="@firebase/auth",XV="@firebase/auth-compat",JV="@firebase/database",ZV="@firebase/database-compat",eL="@firebase/functions",tL="@firebase/functions-compat",nL="@firebase/installations",rL="@firebase/installations-compat",iL="@firebase/messaging",oL="@firebase/messaging-compat",sL="@firebase/performance",aL="@firebase/performance-compat",cL="@firebase/remote-config",lL="@firebase/remote-config-compat",uL="@firebase/storage",dL="@firebase/storage-compat",hL="@firebase/firestore",fL="@firebase/firestore-compat",pL="firebase",mL="10.8.1";var Ty="[DEFAULT]",gL={[by]:"fire-core",[qV]:"fire-core-compat",[WV]:"fire-analytics",[GV]:"fire-analytics-compat",[QV]:"fire-app-check",[KV]:"fire-app-check-compat",[YV]:"fire-auth",[XV]:"fire-auth-compat",[JV]:"fire-rtdb",[ZV]:"fire-rtdb-compat",[eL]:"fire-fn",[tL]:"fire-fn-compat",[nL]:"fire-iid",[rL]:"fire-iid-compat",[iL]:"fire-fcm",[oL]:"fire-fcm-compat",[sL]:"fire-perf",[aL]:"fire-perf-compat",[cL]:"fire-rc",[lL]:"fire-rc-compat",[uL]:"fire-gcs",[dL]:"fire-gcs-compat",[hL]:"fire-fst",[fL]:"fire-fst-compat","fire-js":"fire-js",[pL]:"fire-js-all"};var Pc=new Map,Dy=new Map;function yL(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){let e=t.name;if(Dy.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,t);for(let n of Pc.values())yL(n,t);return!0}function Rc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var vL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new ai("app","Firebase",vL);var Sy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var qi=mL;function My(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=fy()),!n)throw Hi.create("no-options");let o=Pc.get(i);if(o){if(Vo(n,o.options)&&Vo(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}let s=new Zd(i);for(let c of Dy.values())s.addComponent(c);let a=new Sy(n,r,s);return Pc.set(i,a),a}function na(t=Ty){let e=Pc.get(t);if(!e&&t===Ty&&fy())return My();if(!e)throw Hi.create("no-app",{appName:t});return e}function th(){return Array.from(Pc.values())}function gt(t,e,n){var r;let i=(r=gL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(a.join(" "));return}zi(new jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _L="firebase-heartbeat-database",wL=1,Oc="firebase-heartbeat-store",Iy=null;function FT(){return Iy||(Iy=PT(_L,wL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Iy}function EL(t){return v(this,null,function*(){try{let n=(yield FT()).transaction(Oc),r=yield n.objectStore(Oc).get(VT(t));return yield n.done,r}catch(e){if(e instanceof Tn)jo.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});jo.warn(n.message)}}})}function RT(t,e){return v(this,null,function*(){try{let r=(yield FT()).transaction(Oc,"readwrite");yield r.objectStore(Oc).put(e,VT(t)),yield r.done}catch(n){if(n instanceof Tn)jo.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});jo.warn(r.message)}}})}function VT(t){return`${t.name}!${t.options.appId}`}var IL=1024,CL=30*24*60*60*1e3,Ay=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=CL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NT(),{heartbeatsToSend:r,unsentEntries:i}=bL(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function NT(){return new Date().toISOString().substring(0,10)}function bL(t,e=IL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return my()?IT().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kT(t){return xc(JSON.stringify({version:2,heartbeats:t})).length}function TL(t){zi(new jn("platform-logger",e=>new Cy(e),"PRIVATE")),zi(new jn("heartbeat",e=>new Ay(e),"PRIVATE")),gt(by,OT,t),gt(by,OT,"esm2017"),gt("fire-js","")}TL("");var DL="firebase",SL="10.8.1";gt(DL,SL,"app");var Bo=new Jr("ANGULARFIRE2_VERSION");function rh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Nc=(t,e)=>{let n=e?[e]:th(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ia=class{constructor(){return Nc(AL)}},AL="app-check";function ra(){}var nh=class{zone;delegate;constructor(e,n=Np){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Py=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nh(Zone.current)),this.insideAngular=n.run(()=>new nh(Zone.current,Ms)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ie))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ih(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function xL(t){return ih().ngZone.runOutsideAngular(()=>t())}function Uo(t){return ih().ngZone.run(()=>t())}function ML(t){return PL(ih())(t)}function PL(t){return function(n){return n=n.lift(new Py(t.ngZone)),n.pipe(bi(t.outsideAngular),Ci(t.insideAngular))}}var OL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Uo(()=>t.apply(void 0,r))},sa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra))),r[o]=OL(r[o],n));let i=xL(()=>t.apply(this,r));if(!e)if(i instanceof oe){let o=ih();return i.pipe(bi(o.outsideAngular),Ci(o.insideAngular))}else return Uo(()=>i);return i instanceof oe?i.pipe(ML):i instanceof Promise?Uo(()=>new Promise((o,s)=>i.then(a=>Uo(()=>o(a)),a=>Uo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Uo(()=>i)};var ci=class{constructor(e){return e}},$o=class{constructor(){return th()}};function RL(t){return t&&t.length===1?t[0]:new ci(na())}var Oy=new G("angularfire2._apps"),NL={provide:ci,useFactory:RL,deps:[[new nn,Oy]]},kL={provide:$o,deps:[[new nn,Oy]]};function FL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ci(r)}}var VL=(()=>{class t{constructor(n){gt("angularfire",Bo.full,"core"),gt("angularfire",Bo.full,"app"),gt("angular",Fb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Nn))};static \u0275mod=en({type:t});static \u0275inj=tn({providers:[NL,kL]})}return t})();function LT(t,...e){return{ngModule:VL,providers:[{provide:Oy,useFactory:FL(t),multi:!0,deps:[Ie,Je,oa,...e]}]}}var jT=sa(My,!0);function ZT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eD=ZT,tD=new ai("auth","Firebase",ZT());var uh=new $i("@firebase/auth");function LL(t,...e){uh.logLevel<=Pe.WARN&&uh.warn(`Auth (${qi}): ${t}`,...e)}function sh(t,...e){uh.logLevel<=Pe.ERROR&&uh.error(`Auth (${qi}): ${t}`,...e)}function Wi(t,...e){throw Jy(t,...e)}function Ho(t,...e){return Jy(t,...e)}function jL(t,e,n){let r=Object.assign(Object.assign({},eD()),{[e]:n});return new ai("auth","Firebase",r).create(e,{appName:t.name})}function Jy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tD.create(t,...e)}function de(t,e,...n){if(!t)throw Jy(e,...n)}function li(t){let e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function Ki(t,e){t||li(e)}function Fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UL(){return UT()==="http:"||UT()==="https:"}function UT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UL()||_T()||"connection"in navigator)?navigator.onLine:!0}function $L(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=vT()||wT()}get(){return BL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Zy(t,e){Ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var dh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var zL=new zo(3e4,6e4);function ev(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function aa(o,s,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return nD(t,i,()=>v(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Mc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),dh.fetch()(rD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function nD(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},HL),e);try{let i=new Vy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw oh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw oh(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jL(t,u,l);Wi(t,u)}}catch(i){if(i instanceof Tn)throw i;Wi(t,"network-request-failed",{message:String(i)})}})}function qL(o,s,a,c){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield aa(t,e,n,r,i);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function rD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Zy(t.config,i):`${t.config.apiScheme}://${i}`}var Vy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),zL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function oh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ho(t,e,r);return i.customData._tokenResponse=n,i}function GL(t,e){return v(this,null,function*(){return aa(t,"POST","/v1/accounts:delete",e)})}function WL(t,e){return v(this,null,function*(){return aa(t,"POST","/v1/accounts:lookup",e)})}function kc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function tv(t,e=!1){return v(this,null,function*(){let n=Bi(t),r=yield n.getIdToken(e),i=nv(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:kc(Ry(i.auth_time)),issuedAtTime:kc(Ry(i.iat)),expirationTime:kc(Ry(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ry(t){return Number(t)*1e3}function nv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{let i=uy(n);return i?JSON.parse(i):(sh("Failed to decode base64 JWT payload"),null)}catch(i){return sh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KL(t){let e=nv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fc(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tn&&QL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function QL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ly=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var hh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fh(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fc(t,WL(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XL(o.providerUserInfo):[],a=YL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function rv(t){return v(this,null,function*(){let e=Bi(t);yield fh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XL(t){return t.map(e=>{var{providerId:n}=e,r=Fp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function JL(t,e){return v(this,null,function*(){let n=yield nD(t,{},()=>v(this,null,function*(){let r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rD(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function ZL(t,e){return v(this,null,function*(){return aa(t,"POST","/v2/accounts:revokeToken",ev(t,e))})}var ph=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return v(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield JL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return li("not implemented")}};function Gi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ly(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Fc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return tv(this,e)}reload(){return rv(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){let e=yield this.getIdToken();return yield Fc(this,GL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:$,emailVerified:p,isAnonymous:Q,providerData:P,stsTokenManager:W}=n;de($&&W,e,"internal-error");let ue=ph.fromJSON(this.name,W);de(typeof $=="string",e,"internal-error"),Gi(d,e.name),Gi(h,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof Q=="boolean",e,"internal-error"),Gi(f,e.name),Gi(g,e.name),Gi(E,e.name),Gi(b,e.name),Gi(D,e.name),Gi(j,e.name);let Ee=new t({uid:$,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:Q,photoURL:g,phoneNumber:f,tenantId:E,stsTokenManager:ue,createdAt:D,lastLoginAt:j});return P&&Array.isArray(P)&&(Ee.providerData=P.map(Te=>Object.assign({},Te))),b&&(Ee._redirectEventId=b),Ee}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new ph;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fh(o),o})}};var BT=new Map;function ui(t){Ki(t instanceof Function,"Expected a class definition");let e=BT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BT.set(t,e),e)}var e2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jy=e2;function ah(t,e,n){return`firebase:${t}:${e}:${n}`}var mh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(ui(jy),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ui(jy),s=ah(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Vc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function $T(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cD(e))return"Blackberry";if(lD(e))return"Webos";if(iv(e))return"Safari";if((e.includes("chrome/")||oD(e))&&!e.includes("edge/"))return"Chrome";if(aD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function iD(t=St()){return/firefox\//i.test(t)}function iv(t=St()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oD(t=St()){return/crios\//i.test(t)}function sD(t=St()){return/iemobile/i.test(t)}function aD(t=St()){return/android/i.test(t)}function cD(t=St()){return/blackberry/i.test(t)}function lD(t=St()){return/webos/i.test(t)}function Ch(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t2(t=St()){var e;return Ch(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n2(){return ET()&&document.documentMode===10}function uD(t=St()){return Ch(t)||aD(t)||lD(t)||cD(t)||/windows phone/i.test(t)||sD(t)}function r2(){try{return!!(window&&window!==window.top)}catch{return!1}}function dD(t,e=[]){let n;switch(t){case"Browser":n=$T(St());break;case"Worker":n=`${$T(St())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}var Uy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function i2(n){return v(this,arguments,function*(t,e={}){return aa(t,"GET","/v2/passwordPolicy",ev(t,e))})}var o2=6,By=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:o2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $y=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gh(this),this.idTokenSubscription=new gh(this),this.beforeStateQueue=new Uy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield mh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield fh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$L()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){let n=e?Bi(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ui(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield i2(this),n=new By(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ai("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield ZL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ui(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield mh.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&LL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ov(t){return Bi(t)}var gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bT(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sv={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s2(t){sv=t}function a2(t){return sv.loadJS(t)}function c2(){return sv.gapiScript}function hD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function av(t,e){let n=Rc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Vo(o,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function l2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cv(t,e,n){let r=ov(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=fD(e),{host:s,port:a}=u2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||d2()}function fD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u2(t){let e=fD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HT(s)}}}function HT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function d2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var yh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}};function Ny(t,e){return v(this,null,function*(){return qL(t,"POST","/v1/accounts:signInWithIdp",ev(t,e))})}var vh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hy=class extends vh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Lc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Vc._fromIdTokenResponse(e,r,i),s=zT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zy=class t extends Tn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function pD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zy._fromErrorAndOperation(t,o,e,r):o})}function h2(t,e,n=!1){return v(this,null,function*(){let r=yield Fc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Lc._forOperation(t,"link",r)})}function f2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Fc(t,pD(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=nv(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),Lc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),o}})}function p2(t,e,n=!1){return v(this,null,function*(){let r="signIn",i=yield pD(t,r,e),o=yield Lc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function lv(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}function uv(t,e,n){return Bi(t).beforeAuthStateChanged(e,n)}var _h="__sak";var wh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function m2(){let t=St();return iv(t)||Ch(t)}var g2=1e3,y2=10,v2=(()=>{class t extends wh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=m2()&&r2(),this.fallbackToPolling=uD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);n2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,y2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield wi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield wi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield wi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mD=v2;var _2=(()=>{class t extends wh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=_2;function w2(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var E2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>v(this,null,function*(){return u(r.origin,s)})),l=yield w2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var qy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=gD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pr(){return window}function I2(t){Pr().location.href=t}function yD(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}function C2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function b2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T2(){return yD()?self:null}var vD="firebaseLocalStorageDb",D2=1,Eh="firebaseLocalStorage",_D="fbase_key",qo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function bh(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function S2(){let t=indexedDB.deleteDatabase(vD);return new qo(t).toPromise()}function Gy(){let t=indexedDB.open(vD,D2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Eh,{keyPath:_D})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),yield S2(),e(yield Gy()))}))})}function qT(t,e,n){return v(this,null,function*(){let r=bh(t,!0).put({[_D]:e,value:n});return new qo(r).toPromise()})}function A2(t,e){return v(this,null,function*(){let n=bh(t,!1).get(e),r=yield new qo(n).toPromise();return r===void 0?null:r.value})}function GT(t,e){let n=bh(t,!0).delete(e);return new qo(n).toPromise()}var x2=800,M2=3,P2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Gy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>M2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return yD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=E2._getInstance(T2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield C2(),!this.activeServiceWorker)return;this.sender=new qy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Gy();return yield qT(n,_h,"1"),yield GT(n,_h),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>qT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>A2(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>GT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=bh(o,!1).getAll();return new qo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wD=P2;var sY=hD("rcb"),aY=new zo(3e4,6e4);function O2(t,e){return e?ui(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var jc=class extends yh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ny(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ny(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ny(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function R2(t){return p2(t.auth,new jc(t),t.bypassAuthState)}function N2(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),f2(n,new jc(t),t.bypassAuthState)}function k2(t){return v(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),h2(n,new jc(t),t.bypassAuthState)})}var Wy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return N2;default:Wi(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var cY=new zo(2e3,1e4);var F2="pendingRedirect",ch=new Map,Ky=class t extends Wy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ch.get(this.auth._key());if(!e){try{let r=(yield V2(this.resolver,this.auth))?yield wi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return wi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,wi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function V2(t,e){return v(this,null,function*(){let n=U2(e),r=j2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function L2(t,e){ch.set(t._key(),e)}function j2(t){return ui(t._redirectPersistence)}function U2(t){return ah(F2,t.config.apiKey,t.name)}function B2(t,e,n=!1){return v(this,null,function*(){let r=ov(t),i=O2(r,e),s=yield new Ky(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var $2=10*60*1e3,Qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ED(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}};function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ED({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function H2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ED(t);default:return!1}}function z2(n){return v(this,arguments,function*(t,e={}){return aa(t,"GET","/v1/projects",e)})}var q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;function W2(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield z2(t);for(let n of e)try{if(K2(n))return}catch{}Wi(t,"unauthorized-domain")})}function K2(t){let e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!G2.test(n))return!1;if(q2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Q2=new zo(3e4,6e4);function KT(){let t=Pr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y2(t){return new Promise((e,n)=>{var r,i,o;function s(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(Ho(t,"network-request-failed"))},timeout:Q2.get()})}if(!((i=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pr().gapi)===null||o===void 0)&&o.load)s();else{let a=hD("iframefcb");return Pr()[a]=()=>{gapi.load?s():n(Ho(t,"network-request-failed"))},a2(`${c2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw lh=null,e})}var lh=null;function X2(t){return lh=lh||Y2(t),lh}var J2=new zo(5e3,15e3),Z2="__/auth/iframe",ej="emulator/auth/iframe",tj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rj(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Zy(e,ej):`https://${t.config.authDomain}/${Z2}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=nj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mc(r).slice(1)}`}function ij(t){return v(this,null,function*(){let e=yield X2(t),n=Pr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:rj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tj,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ho(t,"network-request-failed"),a=Pr().setTimeout(()=>{o(s)},J2.get());function c(){Pr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var oj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sj=500,aj=600,cj="_blank",lj="http://localhost",Ih=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uj(t,e,n,r=sj,i=aj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},oj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=St().toLowerCase();n&&(a=oD(l)?cj:n),iD(l)&&(e=e||lj,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(t2(l)&&a!=="_self")return dj(e||"",a),new Ih(null);let d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new Ih(d)}function dj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hj="__/auth/handler",fj="emulator/auth/handler",pj=encodeURIComponent("fac");function QT(t,e,n,r,i,o){return v(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof vh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Hy){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${pj}=${encodeURIComponent(c)}`:"";return`${mj(t)}?${Mc(a).slice(1)}${l}`})}function mj({config:t}){return t.emulator?Zy(t,fj):`https://${t.authDomain}/${hj}`}var ky="webStorageSupport",Yy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=B2,this._overrideRedirectResult=L2}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield QT(e,n,r,Fy(),i);return uj(e,s,gD())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield QT(e,n,r,Fy(),i);return I2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield ij(e),r=new Qy(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ky,{type:ky},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ky];s!==void 0&&n(!!s),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uD()||iv()||Ch()}},ID=Yy;var YT="@firebase/auth",XT="1.6.1";var Xy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yj(t){zi(new jn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dD(t)},l=new $y(r,i,o,c);return l2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new jn("auth-internal",e=>{let n=ov(e.getProvider("auth").getImmediate());return(r=>new Xy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(YT,XT,gj(t)),gt(YT,XT,"esm2017")}var vj=5*60,_j=py("authIdTokenMaxAge")||vj,JT=null,wj=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_j)return;let i=n?.token;JT!==i&&(JT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hv(t=na()){let e=Rc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=av(t,{popupRedirectResolver:ID,persistence:[wD,mD,dv]}),r=py("authTokenSyncURL");if(r){let o=wj(r);uv(n,o,()=>o(n.currentUser)),lv(n,s=>o(s))}let i=hy("auth");return i&&cv(n,`http://${i}`),n}function Ej(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}s2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Ej().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yj("Browser");var CD="auth",Uc=class{constructor(e){return e}},Bc=class{constructor(){return Nc(CD)}};var fv=new G("angularfire2.auth-instances");function m3(t,e){let n=rh(CD,t,e);return n&&new Uc(n)}function g3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Uc(r)}}var y3={provide:Bc,deps:[[new nn,fv]]},v3={provide:Uc,useFactory:m3,deps:[[new nn,fv],ci]},_3=(()=>{class t{constructor(){gt("angularfire",Bo.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=tn({providers:[v3,y3]})}return t})();function bD(t,...e){return{ngModule:_3,providers:[{provide:fv,useFactory:g3(t),multi:!0,deps:[Ie,Je,oa,$o,[new nn,ia],...e]}]}}var TD=sa(hv,!0);var w3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={},U,kv=kv||{},ce=w3||self;function Lh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E3(t){return Object.prototype.hasOwnProperty.call(t,pv)&&t[pv]||(t[pv]=++I3)}var pv="closure_uid_"+(1e9*Math.random()>>>0),I3=0;function C3(t,e,n){return t.call.apply(t.bind,arguments)}function b3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qt=C3:Qt=b3,Qt.apply(null,arguments)}function Th(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qi(){this.s=this.s,this.o=this.o}var T3=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),T3!=0)&&E3(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var LD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Lh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var D3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Wc(t){return/^[\s\xa0]*$/.test(t)}function jh(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Or(t){return jh().indexOf(t)!=-1}function Vv(t){return Vv[" "](t),t}Vv[" "]=function(){};function S3(t,e){var n=mU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var A3=Or("Opera"),da=Or("Trident")||Or("MSIE"),jD=Or("Edge"),_v=jD||da,UD=Or("Gecko")&&!(jh().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge"))&&!(Or("Trident")||Or("MSIE"))&&!Or("Edge"),x3=jh().toLowerCase().indexOf("webkit")!=-1&&!Or("Edge");function BD(){var t=ce.document;return t?t.documentMode:void 0}var wv;e:{if(Dh="",Sh=function(){var t=jh();if(UD)return/rv:([^\);]+)(\)|;)/.exec(t);if(jD)return/Edge\/([\d\.]+)/.exec(t);if(da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(x3)return/WebKit\/(\S+)/.exec(t);if(A3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Sh&&(Dh=Sh?Sh[1]:""),da&&(Ah=BD(),Ah!=null&&Ah>parseFloat(Dh))){wv=String(Ah);break e}wv=Dh}var Dh,Sh,Ah,Ev;ce.document&&da?(mv=BD(),Ev=mv||parseInt(wv,10)||void 0):Ev=void 0;var mv,M3=Ev;function Kc(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(UD){e:{try{Vv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:P3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Kc.$.h.call(this)}}xt(Kc,Yt);var P3={2:"touch",3:"pen",4:"mouse"};Kc.prototype.h=function(){Kc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),O3=0;function R3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++O3,this.fa=this.ia=!1}function Uh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Lv(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function N3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function $D(t){let e={};for(let n in t)e[n]=t[n];return e}var SD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<SD.length;o++)n=SD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bh(t){this.src=t,this.g={},this.h=0}Bh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Cv(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new R3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Iv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=LD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Uh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var jv="closure_lm_"+(1e6*Math.random()|0),gv={};function zD(t,e,n,r,i){if(r&&r.once)return GD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zD(t,e[o],n,r,i);return null}return n=$v(n),t&&t[nl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):qD(t,e,n,!1,r,i)}function qD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=tl(i)?!!i.capture:!!i,a=Bv(t);if(a||(t[jv]=a=new Bh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=k3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)D3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(KD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function k3(){function t(n){return e.call(t.src,t.listener,n)}let e=F3;return t}function GD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)GD(t,e[o],n,r,i);return null}return n=$v(n),t&&t[nl]?t.P(e,n,tl(r)?!!r.capture:!!r,i):qD(t,e,n,!0,r,i)}function WD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)WD(t,e[o],n,r,i);else r=tl(r)?!!r.capture:!!r,n=$v(n),t&&t[nl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Cv(o,n,r,i),-1<n&&(Uh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cv(e,n,r,i)),(n=-1<t?e[t]:null)&&Uv(n))}function Uv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[nl])Iv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(KD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bv(e))?(Iv(n,t),n.h==0&&(n.src=null,e[jv]=null)):Uh(t)}}}function KD(t){return t in gv?gv[t]:gv[t]="on"+t}function F3(t,e){if(t.fa)t=!0;else{e=new Kc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Uv(t),t=n.call(r,e)}return t}function Bv(t){return t=t[jv],t instanceof Bh?t:null}var yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(t){return typeof t=="function"?t:(t[yv]||(t[yv]=function(e){return t.handleEvent(e)}),t[yv])}function At(){Qi.call(this),this.i=new Bh(this),this.S=this,this.J=null}xt(At,Qi);At.prototype[nl]=!0;At.prototype.removeEventListener=function(t,e,n,r){WD(this,t,e,n,r)};function Ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;e=new Yt(r,t),HD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=xh(s,r,!0,e)&&i}if(s=e.g=t,i=xh(s,r,!0,e)&&i,i=xh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=xh(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Iv(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Hv=ce.JSON.stringify,bv=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function V3(){var t=zv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tv=class{constructor(){this.h=this.g=null}add(e,n){let r=QD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},QD=new bv(()=>new Dv,t=>t.reset()),Dv=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function L3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function j3(t){ce.setTimeout(()=>{throw t},0)}var Qc,Yc=!1,zv=new Tv,YD=()=>{let t=ce.Promise.resolve(void 0);Qc=()=>{t.then(U3)}},U3=()=>{for(var t;t=V3();){try{t.h.call(t.g)}catch(n){j3(n)}var e=QD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yc=!1};function $h(t,e){At.call(this),this.h=t||1,this.g=e||ce,this.j=Qt(this.qb,this),this.l=Date.now()}xt($h,At);U=$h.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ut(this,"tick"),this.ga&&(qv(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){$h.$.N.call(this),qv(this),delete this.g};function Gv(t,e,n){if(typeof t=="function")n&&(t=Qt(t,n));else if(t&&typeof t.handleEvent=="function")t=Qt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function XD(t){t.g=Gv(()=>{t.g=null,t.i&&(t.i=!1,XD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Sv=class extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XD(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Xc(t){Qi.call(this),this.h=t,this.g={}}xt(Xc,Qi);var AD=[];function JD(t,e,n,r){Array.isArray(n)||(n&&(AD[0]=n.toString()),n=AD);for(var i=0;i<n.length;i++){var o=zD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ZD(t){Lv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Uv(e)},t),t.g={}}Xc.prototype.N=function(){Xc.$.N.call(this),ZD(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hh(){this.g=!0}Hh.prototype.Ea=function(){this.g=!1};function B3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function $3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+z3(t,n)+(r?" "+r:"")})}function H3(t,e){t.info(function(){return"TIMEOUT: "+e})}Hh.prototype.info=function(){};function z3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Hv(n)}catch{return e}}var Qo={},xD=null;function zh(){return xD=xD||new At}Qo.Ta="serverreachability";function eS(t){Yt.call(this,Qo.Ta,t)}xt(eS,Yt);function Jc(t){let e=zh();Ut(e,new eS(e))}Qo.STAT_EVENT="statevent";function tS(t,e){Yt.call(this,Qo.STAT_EVENT,t),this.stat=e}xt(tS,Yt);function an(t){let e=zh();Ut(e,new tS(e,t))}Qo.Ua="timingevent";function nS(t,e){Yt.call(this,Qo.Ua,t),this.size=e}xt(nS,Yt);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var qh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wv(){}Wv.prototype.h=null;function MD(t){return t.h||(t.h=t.i())}function iS(){}var il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kv(){Yt.call(this,"d")}xt(Kv,Yt);function Qv(){Yt.call(this,"c")}xt(Qv,Yt);var Av;function Gh(){}xt(Gh,Wv);Gh.prototype.g=function(){return new XMLHttpRequest};Gh.prototype.i=function(){return{}};Av=new Gh;function ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xc(this),this.P=q3,t=_v?125:void 0,this.V=new $h(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oS}function oS(){this.i=null,this.g="",this.h=!1}var q3=45e3,sS={},xv={};U=ol.prototype;U.setTimeout=function(t){this.P=t};function Mv(t,e,n){t.L=1,t.A=Kh(hi(e)),t.u=n,t.S=!0,aS(t,null)}function aS(t,e){t.G=Date.now(),sl(t),t.B=hi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),mS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new oS,t.g=FS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Sv(Qt(t.Pa,t,t.g),t.O)),JD(t.U,t.g,"readystatechange",t.nb),e=t.I?$D(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Jc(),B3(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&Rr(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let u=Rr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||_v||this.g&&(this.h.h||this.g.ja()||ND(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Jc(3):Jc(2)),Wh(this);var n=this.g.da();this.ca=n;t:if(cS(this)){var r=ND(this.g);t="";var i=r.length,o=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),Gc(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,$3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wc(a)){var l=a;break t}}l=null}if(n=l)la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pv(this,n);else{this.i=!1,this.s=3,an(12),Go(this),Gc(this);break e}}this.S?(lS(this,u,s),_v&&this.i&&u==3&&(JD(this.U,this.V,"tick",this.mb),this.V.start())):(la(this.j,this.m,s,null),Pv(this,s)),u==4&&Go(this),this.i&&!this.J&&(u==4?OS(this.l,this):(this.i=!1,sl(this)))}else hU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Go(this),Gc(this)}}}catch{}finally{}};function cS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function lS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=G3(t,n),i==xv){e==4&&(t.s=4,an(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sS){t.s=4,an(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else la(t.j,t.m,i,null),Pv(t,i);cS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),t_(e),e.M=!0,an(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),Go(t),Gc(t))}U.mb=function(){if(this.g){var t=Rr(this.g),e=this.g.ja();this.o<e.length&&(Wh(this),lS(this,t,e),this.i&&t!=4&&sl(this))}};function G3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?xv:(n=Number(e.substring(n,r)),isNaN(n)?sS:(r+=1,r+n>e.length?xv:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,Go(this)};function sl(t){t.Y=Date.now()+t.P,uS(t,t.P)}function uS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=rl(Qt(t.lb,t),e)}function Wh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(H3(this.j,this.B),this.L!=2&&(Jc(),an(17)),Go(this),this.s=2,Gc(this)):uS(this,this.Y-t)};function Gc(t){t.l.H==0||t.J||OS(t.l,t)}function Go(t){Wh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qv(t.V),ZD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ov(n.i,t))){if(!t.K&&Ov(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Nh(n),Xh(n);else break e;e_(n),an(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rl(Qt(n.ib,n),6e3));if(1>=vS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wo(n,11)}else if((t.K||n.g==t)&&Nh(n),!Wc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var o=r.i;o.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Yv(o,o.h),o.h=null))}if(r.F){let E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,ze(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=kS(r,r.J?r.pa:null,r.Y),s.K){_S(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Wh(a),sl(a)),r.g=s}else MS(r);0<n.j.length&&Jh(n)}else l[0]!="stop"&&l[0]!="close"||Wo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Wo(n,7):Zv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Jc(4)}catch{}}function W3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Lh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function K3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Lh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function dS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=K3(t),r=W3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var hS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ko){this.h=t.h,Oh(this,t.j),this.s=t.s,this.g=t.g,Rh(this,t.m),this.l=t.l;var e=t.i,n=new Zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),PD(this,n),this.o=t.o}else t&&(e=String(t).match(hS))?(this.h=!1,Oh(this,e[1]||"",!0),this.s=zc(e[2]||""),this.g=zc(e[3]||"",!0),Rh(this,e[4]),this.l=zc(e[5]||"",!0),PD(this,e[6]||"",!0),this.o=zc(e[7]||"")):(this.h=!1,this.i=new Zc(null,this.h))}Ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(qc(e,OD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(qc(e,OD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(qc(n,n.charAt(0)=="/"?J3:X3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",qc(n,eU)),t.join("")};function hi(t){return new Ko(t)}function Oh(t,e,n){t.j=n?zc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function PD(t,e,n){e instanceof Zc?(t.i=e,tU(t.i,t.h)):(n||(e=qc(e,Z3)),t.i=new Zc(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function Kh(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Y3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Y3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var OD=/[#\/\?@]/g,X3=/[#\?:]/g,J3=/[#\?]/g,Z3=/[#\?@]/g,eU=/#/g;function Zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&Q3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=Zc.prototype;U.add=function(t,e){Yi(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function fS(t,e){Yi(t),e=ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pS(t,e){return Yi(t),e=ha(t,e),t.g.has(e)}U.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};U.Z=function(t){Yi(this);let e=[];if(typeof t=="string")pS(this,t)&&(e=e.concat(this.g.get(ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Yi(this),this.i=null,t=ha(this,t),pS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mS(t,e,n){fS(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),Fv(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tU(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fS(this,r),mS(this,i,n))},t)),t.j=e}var nU=class{constructor(t,e){this.g=t,this.map=e}};function gS(t){this.l=t||rU,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rU=10;function yS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vS(t){return t.h?1:t.g?t.g.size:0}function Ov(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yv(t,e){t.g?t.g.add(e):t.h=e}function _S(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gS.prototype.cancel=function(){if(this.i=wS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function wS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Fv(t.i)}var iU=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function oU(){this.g=new iU}function sU(t,e,n){let r=n||"";try{dS(t,function(i,o){let s=i;tl(i)&&(s=Hv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aU(t,e){let n=new Hh;if(ce.Image){let r=new Image;r.onload=Th(Mh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Th(Mh,n,r,"TestLoadImage: error",!1,e),r.onabort=Th(Mh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Th(Mh,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Mh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function al(t){this.l=t.ec||null,this.j=t.ob||!1}xt(al,Wv);al.prototype.g=function(){return new Qh(this.l,this.j)};al.prototype.i=function(t){return function(){return t}}({});function Qh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Qh,At);var Xv=0;U=Qh.prototype;U.open=function(t,e){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,el(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=Xv};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ES(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ES(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cl(this):el(this),this.readyState==3&&ES(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,cl(this))};U.Ya=function(t){this.g&&(this.response=t,cl(this))};U.ka=function(){this.g&&cl(this)};function cl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,el(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function el(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cU=ce.JSON.parse;function Ze(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IS,this.L=this.M=!1}xt(Ze,At);var IS="",lU=/^https?$/i,uU=["POST","PUT"];U=Ze.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=this.u?MD(this.u):MD(Av),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){RD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=LD(uU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TS(this),0<this.B&&((this.L=dU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=Gv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){RD(this,o)}};function dU(t){return da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof kv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ut(this,"timeout"),this.abort(8))};function RD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CS(t),Yh(t)}function CS(t){t.F||(t.F=!0,Ut(t,"complete"),Ut(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ut(this,"complete"),Ut(this,"abort"),Yh(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yh(this,!0)),Ze.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?bS(this):this.kb())};U.kb=function(){bS(this)};function bS(t){if(t.h&&typeof kv<"u"&&(!t.C[1]||Rr(t)!=4||t.da()!=2)){if(t.v&&Rr(t)==4)Gv(t.La,0,t);else if(Ut(t,"readystatechange"),Rr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(hS)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!lU.test(i?i.toLowerCase():"")}n=r}if(n)Ut(t,"complete"),Ut(t,"success");else{t.m=6;try{var o=2<Rr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",CS(t)}}finally{Yh(t)}}}}function Yh(t,e){if(t.g){TS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function TS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Rr(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cU(e)}};function ND(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case IS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hU(t){let e={};t=(t.g&&2<=Rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Wc(t[r]))continue;var n=L3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}N3(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DS(t){let e="";return Lv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ze(t,e,n))}function $c(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SS(t){this.Ga=0,this.j=[],this.l=new Hh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$c("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$c("baseRetryDelayMs",5e3,t),this.hb=$c("retryDelaySeedMs",1e4,t),this.eb=$c("forwardChannelMaxRetries",2,t),this.xa=$c("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gS(t&&t.concurrentRequestLimit),this.Ja=new oU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=SS.prototype;U.ra=8;U.H=1;function Zv(t){if(AS(t),t.H==3){var e=t.W++,n=hi(t.I);if(ze(n,"SID",t.K),ze(n,"RID",e),ze(n,"TYPE","terminate"),ll(t,n),e=new ol(t,t.l,e),e.L=2,e.A=Kh(hi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=FS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),sl(e)}NS(t)}function Xh(t){t.g&&(t_(t),t.g.cancel(),t.g=null)}function AS(t){Xh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Nh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Jh(t){if(!yS(t.i)&&!t.m){t.m=!0;var e=t.Na;Qc||YD(),Yc||(Qc(),Yc=!0),zv.add(e,t),t.C=0}}function fU(t,e){return vS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=rl(Qt(t.Na,t,e),RS(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new ol(this,this.l,t),o=this.s;if(this.U&&(o?(o=$D(o),HD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xS(this,i,e),n=hi(this.I),ze(n,"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),ll(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(DS(o)))+"&"+e:this.o&&Jv(n,this.o,o)),Yv(this.i,i),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),i.aa=!0,Mv(i,n,null)):Mv(i,n,e),this.H=2}}else this.H==3&&(t?kD(this,t):this.j.length==0||yS(this.i)||kD(this))};function kD(t,e){var n;e?n=e.m:n=t.W++;let r=hi(t.I);ze(r,"SID",t.K),ze(r,"RID",n),ze(r,"AID",t.V),ll(t,r),t.o&&t.s&&Jv(r,t.o,t.s),n=new ol(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yv(t.i,n),Mv(n,r,e)}function ll(t,e){t.na&&Lv(t.na,function(n,r){ze(e,r,n)}),t.h&&dS({},function(n,r){ze(e,r,n)})}function xS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{sU(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function MS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qc||YD(),Yc||(Qc(),Yc=!0),zv.add(e,t),t.A=0}}function e_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=rl(Qt(t.Ma,t),RS(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,PS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=rl(Qt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),Xh(this),PS(this))};function t_(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function PS(t){t.g=new ol(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.K),ze(e,"AID",t.V),ze(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ze(e,"TO",t.qa),ze(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&Jv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Kh(hi(e)),n.u=null,n.S=!0,aS(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Xh(this),e_(this),an(19))};function Nh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function OS(t,e){var n=null;if(t.g==e){Nh(t),t_(t),t.g=null;var r=2}else if(Ov(t.i,e))n=e.F,_S(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=zh(),Ut(r,new nS(r,n)),Jh(t)}else MS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&fU(t,e)||r==2&&e_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}}function RS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qt(t.pb,t);n||(n=new Ko("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Oh(n,"https"),Kh(n)),aU(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),NS(t),AS(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function NS(t){if(t.H=0,t.ma=[],t.h){let e=wS(t.i);(e.length!=0||t.j.length!=0)&&(DD(t.ma,e),DD(t.ma,t.j),t.i.i.length=0,Fv(t.j),t.j.length=0),t.h.ya()}}function kS(t,e,n){var r=n instanceof Ko?hi(n):new Ko(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rh(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ko(null);r&&Oh(o,r),e&&(o.g=e),i&&Rh(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ze(r,n,e),ze(r,"VER",t.ra),ll(t,r),r}function FS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ze(new al({ob:n})):new Ze(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function VS(){}U=VS.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function kh(){if(da&&!(10<=Number(M3)))throw Error("Environmental error: no available transport.")}kh.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){At.call(this),this.g=new SS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Wc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fa(this)}xt(Dn,At);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kS(t,null,t.Y),Jh(t)};Dn.prototype.close=function(){Zv(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hv(t),t=n);e.j.push(new nU(e.fb++,t)),e.H==3&&Jh(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,Zv(this.g),delete this.g,Dn.$.N.call(this)};function LS(t){Kv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(LS,Kv);function jS(){Qv.call(this),this.status=1}xt(jS,Qv);function fa(t){this.g=t}xt(fa,VS);fa.prototype.Ba=function(){Ut(this.g,"a")};fa.prototype.Aa=function(t){Ut(this.g,new LS(t))};fa.prototype.za=function(t){Ut(this.g,new jS)};fa.prototype.ya=function(){Ut(this.g,"b")};function pU(){this.blockSize=-1}function or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(or,pU);or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}or.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)vv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){vv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){vv(this,r),i=0;break}}this.h=i,this.i+=e};or.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var mU={};function n_(t){return-128<=t&&128>t?S3(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return ua;if(0>t)return jt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rv;return new Fe(e,0)}function US(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(US(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=ua,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Nr(Math.pow(e,o)),r=r.R(o).add(Nr(s))):(r=r.R(n),r=r.add(Nr(s)))}return r}var Rv=4294967296,ua=n_(0),Nv=n_(1),FD=n_(16777216);U=Fe.prototype;U.ea=function(){if(Un(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rv+r)*e,e*=Rv}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(di(this))return"0";if(Un(this))return"-"+jt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var i=Vh(n,e).g;n=Fh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,di(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function di(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}U.X=function(t){return t=Fh(this,t),Un(t)?-1:di(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(Nv)}U.abs=function(){return Un(this)?jt(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Fh(t,e){return t.add(jt(e))}U.R=function(t){if(di(this)||di(t))return ua;if(Un(this))return Un(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Un(t))return jt(this.R(jt(t)));if(0>this.X(FD)&&0>t.X(FD))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Ph(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Ph(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ph(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ph(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function Ph(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hc(t,e){this.g=t,this.h=e}function Vh(t,e){if(di(e))throw Error("division by zero");if(di(t))return new Hc(ua,ua);if(Un(t))return e=Vh(jt(t),e),new Hc(jt(e.g),jt(e.h));if(Un(e))return e=Vh(t,jt(e)),new Hc(jt(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Nv,r=e;0>=r.X(t);)n=VD(n),r=VD(r);var i=ca(n,1),o=ca(r,1);for(r=ca(r,2),n=ca(n,2);!di(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ca(r,1),n=ca(n,1)}return e=Fh(t,i.R(e)),new Hc(i,e)}for(i=ua;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Nr(n),s=o.R(e);Un(s)||0<s.X(t);)n-=r,o=Nr(n),s=o.R(e);di(o)&&(o=Nv),i=i.add(o),t=Fh(t,s)}return new Hc(i,t)}U.gb=function(t){return Vh(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function VD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function ca(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}kh.prototype.createWebChannel=kh.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;qh.NO_ERROR=0;qh.TIMEOUT=8;qh.HTTP_ERROR=6;rS.COMPLETE="complete";iS.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";At.prototype.listen=At.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;or.prototype.digest=or.prototype.l;or.prototype.reset=or.prototype.reset;or.prototype.update=or.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Nr;Fe.fromString=US;var gU=sr.createWebChannelTransport=function(){return new kh},yU=sr.getStatEventTarget=function(){return zh()},vU=sr.ErrorCode=qh,_U=sr.EventType=rS,wU=sr.Event=Qo,EU=sr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},YY=sr.FetchXmlHttpFactory=al,IU=sr.WebChannel=iS,CU=sr.XhrIo=Ze,bU=sr.Md5=or,BS=sr.Integer=Fe;var $S="@firebase/firestore";var Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");var ul="10.8.1";var ma=new $i("@firebase/firestore");function Sn(t,...e){if(ma.logLevel<=Pe.DEBUG){let n=e.map(b_);ma.debug(`Firestore (${ul}): ${t}`,...n)}}function C_(t,...e){if(ma.logLevel<=Pe.ERROR){let n=e.map(b_);ma.error(`Firestore (${ul}): ${t}`,...n)}}function TU(t,...e){if(ma.logLevel<=Pe.WARN){let n=e.map(b_);ma.warn(`Firestore (${ul}): ${t}`,...n)}}function b_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function gn(t="Unexpected state"){let e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw C_(e),new Error(e)}function i_(t,e){t||gn()}var Bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yt=class extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ji=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},o_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}},s_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},a_=class{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ji)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(i_(typeof r.accessToken=="string"),new Zh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return i_(e===null||typeof e=="string"),new Mt(e)}},c_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},l_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},u_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},d_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Sn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(i_(typeof n.token=="string"),this.R=n.token,new u_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function DU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var h_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=DU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function GS(t,e){return t<e?-1:t>e?1:0}var f_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&gn(),r===void 0?r=e.length-n:r>e.length-n&&gn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xi=class t extends f_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new yt(Bt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Yo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xi.fromString(e))}static fromName(e){return new t(Xi.fromString(e).popFirst(5))}static empty(){return new t(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xi(e.slice()))}};var p_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};p_.UNKNOWN_ID=-1;function WS(t){return t.name==="IndexedDbTransactionError"}function SU(t){return t===0&&1/t==-1/0}var AU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aX=[...AU,"documentOverlays"],xU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MU=xU,cX=[...MU,"indexConfiguration","indexState","indexEntries"];var ga=class t{constructor(e,n){this.comparator=e,this.root=n||Fr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}},pa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();let e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}};Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ef=class t{constructor(e){this.comparator=e,this.data=new ga(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tf(this.data.getIterator())}getIteratorFrom(e){return new tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var m_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ya=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new m_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return GS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ya.EMPTY_BYTE_STRING=new ya("");var uX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function HS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function PU(t){return typeof t=="string"?ya.fromBase64String(t):ya.fromUint8Array(t)}var g_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},y_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function OU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var dX=new ga(Yo.comparator);var hX=new ga(Yo.comparator);var fX=new ga(Yo.comparator),pX=new ef(Yo.comparator);var mX=new ef(GS);var zS,be;(be=zS||(zS={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var gX=new BS([4294967295,4294967295],0);var nf=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(HS(e.integerValue));else if("doubleValue"in e){let r=HS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),SU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(PU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?OU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):gn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Yo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};nf.bt=new nf;var yX=new Uint8Array(0);var kr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);function r_(){return typeof document<"u"?document:null}var v_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Sn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var __=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RU(t,e){if(C_("AsyncQueue",`${e}: ${t}`),WS(t))return new yt(Bt.UNAVAILABLE,`${e}: ${t}`);throw t}var w_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>v(this,null,function*(){Sn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Sn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(Bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=RU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function KS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var qS=new Map;function NU(t,e,n,r){if(e===!0&&r===!0)throw new yt(Bt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gn()}function FU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=kU(t);throw new yt(Bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var rf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new yt(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new yt(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new yt(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},of=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(Bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new yt(Bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new o_;switch(r.type){case"firstParty":return new l_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=qS.get(n);r&&(Sn("ComponentProvider","Removing Datastore"),qS.delete(n),r.terminate())}(this),Promise.resolve()}};function QS(t,e,n,r={}){var i;let o=(t=FU(t,of))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&TU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Mt.MOCK_USER;else{a=yT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new yt(Bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(l)}t._authCredentials=new s_(new Zh(a,c))}}var E_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new v_(this,"async_queue_retry"),this._u=()=>{let n=r_();n&&Sn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=r_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=r_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ji;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return v(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!WS(e))throw e;Sn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw C_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=__.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&gn()}verifyOperationInProgress(){}hu(){return v(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var I_=class extends of{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VU(this),this._firestoreClient.terminate()}};function YS(t,e){let n=typeof t=="object"?t:na(),r=typeof t=="string"?t:e||"(default)",i=Rc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=gT("firestore");o&&QS(i,...o)}return i}function VU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new g_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new w_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var vX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ul=i})(qi),zi(new jn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new I_(new a_(r.getProvider("auth-internal")),new d_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new yt(Bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new y_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gt($S,"4.4.3",e),gt($S,"4.4.3","esm2017")})();var dl=class{constructor(e){return e}},XS="firestore",T_=class{constructor(){return Nc(XS)}};var D_=new G("angularfire2.firestore-instances");function LU(t,e){let n=rh(XS,t,e);return n&&new dl(n)}function jU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new dl(r)}}var UU={provide:T_,deps:[[new nn,D_]]},BU={provide:dl,useFactory:LU,deps:[[new nn,D_],ci]},$U=(()=>{class t{constructor(){gt("angularfire",Bo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=en({type:t});static \u0275inj=tn({providers:[BU,UU]})}return t})();function JS(t,...e){return{ngModule:$U,providers:[{provide:D_,useFactory:jU(t),multi:!0,deps:[Ie,Je,oa,$o,[new nn,Bc],[new nn,ia],...e]}]}}var ZS=sa(YS,!0);var x_=class extends Gd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},M_=class t extends x_{static makeCurrent(){Qb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=HU();return n==null?null:zU(n)}resetBaseElement(){hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kd(document.cookie,e)}},hl=null;function HU(){return hl=hl||document.querySelector("base"),hl?hl.getAttribute("href"):null}function zU(t){return new URL(t,document.baseURI).pathname}var qU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),P_=new G(""),nA=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(P_),L(Ie))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),sf=class{constructor(e){this._doc=e}},S_="ng-app-id",rA=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ic(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${S_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(S_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(S_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Lt),L(wg),L(Cg,8),L(Nn))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),A_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R_=/%COMP%/g,iA="%COMP%",GU=`_nghost-${iA}`,WU=`_ngcontent-${iA}`,KU=!0,QU=new G("",{providedIn:"root",factory:()=>KU});function YU(t){return WU.replace(R_,t)}function XU(t){return GU.replace(R_,t)}function oA(t,e){return e.map(n=>n.replace(R_,t))}var af=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ic(c),this.defaultRenderer=new fl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Er.ShadowDom&&(i=Ae(N({},i),{encapsulation:Er.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof cf?o.applyToHost(r):o instanceof pl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Er.Emulated:s=new cf(l,u,i,this.appId,d,a,c,h);break;case Er.ShadowDom:return new O_(l,u,r,i,a,c,this.nonce,h);default:s=new pl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(nA),L(rA),L(wg),L(QU),L(Lt),L(Nn),L(Ie),L(Cg))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),fl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(A_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=A_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=A_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(n,r,i&Xr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=oi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function eA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var O_=class extends fl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=oA(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pl=class extends fl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?oA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cf=class extends pl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=YU(l),this.hostAttr=XU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JU=(()=>{let e=class e extends sf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),tA=["alt","control","meta","shift"],ZU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tB=(()=>{let e=class e extends sf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),tA.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=ZU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),tA.forEach(a=>{if(a!==o){let c=eB[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function sA(t,e){return $b(N({rootComponent:t},nB(e)))}function nB(t){return{appProviders:[...aB,...t?.providers??[]],platformProviders:sB}}function rB(){M_.makeCurrent()}function iB(){return new Tr}function oB(){return $I(document),document}var sB=[{provide:Nn,useValue:Zb},{provide:Eg,useValue:rB,multi:!0},{provide:Lt,useFactory:oB,deps:[]}];var aB=[{provide:xd,useValue:"root"},{provide:Tr,useFactory:iB,deps:[]},{provide:P_,useClass:JU,multi:!0,deps:[Lt,Ie,Nn]},{provide:P_,useClass:tB,multi:!0,deps:[Lt]},af,rA,nA,{provide:Do,useExisting:af},{provide:ta,useClass:qU,deps:[]},[]];var aA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=L(cB),o},providedIn:"root"});let t=e;return t})(),cB=(()=>{let e=class e extends N_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Sr.NONE:return i;case Sr.HTML:return Fi(i,"HTML")?kn(i):PC(this._doc,String(i)).toString();case Sr.STYLE:return Fi(i,"Style")?kn(i):i;case Sr.SCRIPT:if(Fi(i,"Script"))return kn(i);throw new O(5200,!1);case Sr.URL:return Fi(i,"URL")?kn(i):Rd(String(i));case Sr.RESOURCE_URL:if(Fi(i,"ResourceURL"))return kn(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(r){return IC(r)}bypassSecurityTrustStyle(r){return CC(r)}bypassSecurityTrustScript(r){return bC(r)}bypassSecurityTrustUrl(r){return TC(r)}bypassSecurityTrustResourceUrl(r){return DC(r)}};e.\u0275fac=function(i){return new(i||e)(L(Lt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(he||{}),Vr="*";function Bn(t,e){return{type:he.Trigger,name:t,definitions:e,options:{}}}function vt(t,e=null){return{type:he.Animate,styles:e,timings:t}}function lA(t,e=null){return{type:he.Sequence,steps:t,options:e}}function me(t){return{type:he.Style,styles:t,offset:null}}function uA(t,e,n){return{type:he.State,name:t,styles:e,options:n}}function at(t,e,n=null){return{type:he.Transition,expr:t,animation:e,options:n}}var Zi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ml=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},lf="!";function dA(t){return new O(3e3,!1)}function lB(){return new O(3100,!1)}function uB(){return new O(3101,!1)}function dB(t){return new O(3001,!1)}function hB(t){return new O(3003,!1)}function fB(t){return new O(3004,!1)}function pB(t,e){return new O(3005,!1)}function mB(){return new O(3006,!1)}function gB(){return new O(3007,!1)}function yB(t,e){return new O(3008,!1)}function vB(t){return new O(3002,!1)}function _B(t,e,n,r,i){return new O(3010,!1)}function wB(){return new O(3011,!1)}function EB(){return new O(3012,!1)}function IB(){return new O(3200,!1)}function CB(){return new O(3202,!1)}function bB(){return new O(3013,!1)}function TB(t){return new O(3014,!1)}function DB(t){return new O(3015,!1)}function SB(t){return new O(3016,!1)}function AB(t,e){return new O(3404,!1)}function xB(t){return new O(3502,!1)}function MB(t){return new O(3503,!1)}function PB(){return new O(3300,!1)}function OB(t){return new O(3504,!1)}function RB(t){return new O(3301,!1)}function NB(t,e){return new O(3302,!1)}function kB(t){return new O(3303,!1)}function FB(t,e){return new O(3400,!1)}function VB(t){return new O(3401,!1)}function LB(t){return new O(3402,!1)}function jB(t,e){return new O(3505,!1)}function eo(t){switch(t.length){case 0:return new Zi;case 1:return t[0];default:return new ml(t)}}function TA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let g=f,E=h;if(f!=="offset")switch(g=t.normalizePropertyName(g,i),E){case lf:E=n.get(f);break;case Vr:E=r.get(f);break;default:E=t.normalizeStyleValue(f,g,E,i);break}d.set(g,E)}),u||o.push(d),a=d,s=l}),i.length)throw xB(i);return o}function rw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&k_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&k_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&k_(n,"destroy",t)));break}}function k_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=iw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function iw(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function hA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var UB=typeof document>"u"?null:document.documentElement;function ow(t){let e=t.parentNode||t.host||null;return e===UB?null:e}function BB(t){return t.substring(1,6)=="ebkit"}var Xo=null,fA=!1;function $B(t){Xo||(Xo=HB()||{},fA=Xo.style?"WebkitAppearance"in Xo.style:!1);let e=!0;return Xo.style&&!BB(t)&&(e=t in Xo.style,!e&&fA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Xo.style)),e}function HB(){return typeof document<"u"?document.body:null}function DA(t,e){for(;e;){if(e===t)return!0;e=ow(e)}return!1}function SA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var sw=(()=>{let e=class e{validateStyleProperty(r){return $B(r)}matchesElement(r,i){return!1}containsElement(r,i){return DA(r,i)}getParentElement(r){return ow(r)}query(r,i,o){return SA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Zi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),uw=class uw{};uw.NOOP=new sw;var es=uw,ts=class{};var zB=1e3,AA="{{",qB="}}",xA="ng-enter",B_="ng-leave",uf="ng-trigger",mf=".ng-trigger",pA="ng-animating",$_=".ng-animating";function fi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:H_(parseFloat(e[1]),e[2])}function H_(t,e){switch(e){case"s":return t*zB;default:return t}}function gf(t,e,n){return t.hasOwnProperty("duration")?t:GB(t,e,n)}function GB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(dA(t)),{duration:0,delay:0,easing:""};i=H_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=H_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(lB()),a=!0),o<0&&(e.push(uB()),a=!0),a&&e.splice(c,0,dA(t))}return{duration:i,delay:o,easing:s}}function WB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Lr(t,e,n){e.forEach((r,i)=>{let o=aw(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Zo(t,e){e.forEach((n,r)=>{let i=aw(r);t.style[i]=""})}function gl(t){return Array.isArray(t)?t.length==1?t[0]:lA(t):t}function KB(t,e,n){let r=e.params||{},i=MA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(dB(o))})}var z_=new RegExp(`${AA}\\s*(.+?)\\s*${qB}`,"g");function MA(t){let e=[];if(typeof t=="string"){let n;for(;n=z_.exec(t);)e.push(n[1]);z_.lastIndex=0}return e}function vl(t,e,n){let r=`${t}`,i=r.replace(z_,(o,s)=>{let a=e[s];return a==null&&(n.push(hB(s)),a=""),a.toString()});return i==r?t:i}var QB=/-+([a-z0-9])/g;function aw(t){return t.replace(QB,(...e)=>e[1].toUpperCase())}function YB(t,e){return t===0||e===0}function XB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,cw(t,a)))}}return e}function An(t,e,n){switch(e.type){case he.Trigger:return t.visitTrigger(e,n);case he.State:return t.visitState(e,n);case he.Transition:return t.visitTransition(e,n);case he.Sequence:return t.visitSequence(e,n);case he.Group:return t.visitGroup(e,n);case he.Animate:return t.visitAnimate(e,n);case he.Keyframes:return t.visitKeyframes(e,n);case he.Style:return t.visitStyle(e,n);case he.Reference:return t.visitReference(e,n);case he.AnimateChild:return t.visitAnimateChild(e,n);case he.AnimateRef:return t.visitAnimateRef(e,n);case he.Query:return t.visitQuery(e,n);case he.Stagger:return t.visitStagger(e,n);default:throw fB(e.type)}}function cw(t,e){return window.getComputedStyle(t)[e]}var JB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yf=class extends ts{normalizePropertyName(e,n){return aw(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(JB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(pB(e,r))}return s+o}};var vf="*";function ZB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>e$(r,n,e)):n.push(t),n}function e$(t,e,n){if(t[0]==":"){let c=t$(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(DB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(mA(i,s));let a=i==vf&&s==vf;o[0]=="<"&&!a&&e.push(mA(s,i))}function t$(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(SB(t)),"* => *"}}var df=new Set(["true","1"]),hf=new Set(["false","0"]);function mA(t,e){let n=df.has(t)||hf.has(t),r=df.has(e)||hf.has(e);return(i,o)=>{let s=t==vf||t==i,a=e==vf||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?df.has(t):hf.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?df.has(e):hf.has(e)),s&&a}}var PA=":self",n$=new RegExp(`s*${PA}s*,?`,"g");function OA(t,e,n,r){return new q_(t).build(e,n,r)}var gA="",q_=class{constructor(e){this._driver=e}build(e,n,r){let i=new G_(n);return this._resetContextStyleTimingState(i),An(this,gl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=gA,e.collectedStyles=new Map,e.collectedStyles.set(gA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(mB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==he.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==he.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(gB())}),{type:he.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{MA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(yB(e.name,[...o.values()]))}return{type:he.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=An(this,gl(e.animation),n),i=ZB(e.expr,n.errors);return{type:he.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Jo(e.options)}}visitSequence(e,n){return{type:he.Sequence,steps:e.steps.map(r=>An(this,r,n)),options:Jo(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=An(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:he.Group,steps:o,options:Jo(e.options)}}visitAnimate(e,n){let r=s$(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:me({});if(o.type==he.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=me(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:he.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Vr?r.push(a):n.errors.push(vB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(AA)>=0){o=!0;break}}}),{type:he.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(_B(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&KB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:he.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(wB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(D=>{let j=this._makeStyleAst(D,n),$=j.offset!=null?j.offset:o$(j.styles),p=0;return $!=null&&(o++,p=j.offset=$),c=c||p<0||p>1,a=a||p<l,l=p,s.push(p),j});c&&n.errors.push(EB()),a&&n.errors.push(IB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(CB()):o==0&&(h=i/(d-1));let f=d-1,g=n.currentTime,E=n.currentAnimateTimings,b=E.duration;return u.forEach((D,j)=>{let $=h>0?j==f?1:h*j:s[j],p=$*b;n.currentTime=g+E.delay+p,E.duration=p,this._validateStyleAst(D,n),D.offset=$,r.styles.push(D)}),r}visitReference(e,n){return{type:he.Reference,animation:An(this,gl(e.animation),n),options:Jo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:he.AnimateChild,options:Jo(e.options)}}visitAnimateRef(e,n){return{type:he.AnimateRef,animation:this.visitReference(e.animation,n),options:Jo(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=r$(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=An(this,gl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:he.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(bB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gf(e.timings,n.errors,!0);return{type:he.Stagger,animation:An(this,gl(e.animation),n),timings:r,options:null}}};function r$(t){let e=!!t.split(/\s*,\s*/).find(n=>n==PA);return e&&(t=t.replace(n$,"")),t=t.replace(/@\*/g,mf).replace(/@\w+/g,n=>mf+"-"+n.slice(1)).replace(/:animating/g,$_),[t,e]}function i$(t){return t?N({},t):null}var G_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function o$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function s$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=gf(t,e).duration;return F_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=F_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=gf(n,e);return F_(i.duration,i.delay,i.easing)}function Jo(t){return t?(t=N({},t),t.params&&(t.params=i$(t.params))):t={},t}function F_(t,e,n){return{duration:t,delay:e,easing:n}}function lw(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var _l=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},a$=1,c$=":enter",l$=new RegExp(c$,"g"),u$=":leave",d$=new RegExp(u$,"g");function RA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new W_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var W_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new _l;let d=new K_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?fi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),An(this,r,d);let f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let E=f.length-1;E>=0;E--){let b=f[E];if(b.element===n){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,c)}return f.length?f.map(g=>g.buildKeyframes()):[lw(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:fi(vl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?fi(r.duration):null,a=r.delay!=null?fi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),An(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==he.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_f);let s=fi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>An(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?fi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),An(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?vl(r,n.params,n.errors):r;return gf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==he.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?fi(i.delay):0;o&&(n.previousNode.type===he.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=_f);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),An(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;An(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},_f={},K_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_f,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new wf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=fi(r.duration)),r.delay!=null&&(i.delay=fi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=vl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_f,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Q_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(l$,"."+this._enterClassName),e=e.replace(d$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(TB(n)),a}},wf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=a$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Vr),this._currentKeyframe.set(n,Vr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=h$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=vl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===lf?e.add(d):u===Vr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return lw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Q_=class extends wf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",yA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),g=n+f*r;h.set("offset",yA(g/s)),o.push(h)}r=s,n=0,i="",e=o}return lw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function yA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function h$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Vr)}else for(let[o,s]of i)n.set(o,s)}),n}function vA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var V_={},Ef=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return f$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||V_,f=a&&a.params||V_,g=this.buildStyles(r,f,d),E=c&&c.params||V_,b=this.buildStyles(i,E,d),D=new Set,j=new Map,$=new Map,p=i==="void",Q={params:NA(E,h),delay:this.ast.options?.delay},P=u?[]:RA(e,n,this.ast.animation,o,s,g,b,Q,l,d),W=0;return P.forEach(ue=>{W=Math.max(ue.duration+ue.delay,W)}),d.length?vA(n,this._triggerName,r,i,p,g,b,[],[],j,$,W,d):(P.forEach(ue=>{let Ee=ue.element,Te=xn(j,Ee,new Set);ue.preStyleProps.forEach(Oe=>Te.add(Oe));let Ye=xn($,Ee,new Set);ue.postStyleProps.forEach(Oe=>Ye.add(Oe)),Ee!==n&&D.add(Ee)}),vA(n,this._triggerName,r,i,p,g,b,P,[...D.values()],j,$,W))}};function f$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function NA(t,e){let n=N({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Y_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=NA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=vl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function p$(t,e,n){return new X_(t,e,n)}var X_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Y_(i.style,o,r))}),_A(this.states,"true","1"),_A(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Ef(e,i,this.states))}),this.fallbackTransition=m$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function m$(t,e,n){let r=[(s,a)=>!0],i={type:he.Sequence,steps:[],options:null},o={type:he.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ef(t,o,e)}function _A(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var g$=new _l,J_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=OA(this._driver,n,r,i);if(r.length)throw MB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=TA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=RA(this._driver,n,o,xA,B_,new Map,new Map,r,g$,i),s.forEach(u=>{let d=xn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(PB()),s=[]),i.length)throw OB(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Vr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=eo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw RB(e);return n}listen(e,n,r,i){let o=iw(n,"","","");return rw(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},wA="ng-animate-queued",y$=".ng-animate-queued",L_="ng-animate-disabled",v$=".ng-animate-disabled",_$="ng-star-inserted",w$=".ng-star-inserted",E$=[],kA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ar="__ng_removed",wl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=b$(i),r){let o=e,{value:s}=o,a=yp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},yl="void",j_=new wl(yl),Z_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$n(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw NB(r,n);if(r==null||r.length==0)throw kB(n);if(!T$(r))throw FB(r,n);let o=xn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||($n(e,uf),$n(e,uf+"-"+n),a.set(n,j_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw VB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new El(this.id,n,e),a=this._engine.statesByElement.get(e);a||($n(e,uf),$n(e,uf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new wl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=j_),!(l.value===yl)&&c.value===l.value){if(!A$(c.params,l.params)){let E=[],b=o.matchStyles(c.value,c.params,E),D=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Zo(e,b),Lr(e,D)})}return}let h=xn(this._engine.playersByElement,e,[]);h.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!f){if(!i)return;f=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||($n(e,wA),s.onStart(()=>{va(e,wA)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let b=this._engine.playersByElement.get(e);if(b){let D=b.indexOf(s);D>=0&&b.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,mf,!0);r.forEach(i=>{if(i[ar])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,yl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||j_,u=new wl(yl),d=new El(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[ar];(!o||o===kA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){$n(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=iw(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,rw(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ew=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Z_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(ff(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!ff(n))return;let o=n[ar];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$n(e,L_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),va(e,L_))}removeNode(e,n,r){if(ff(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[ar]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return ff(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,mf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,$_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ar];if(n&&n.setForRemoval){if(e[ar]=kA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(L_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,v$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];$n(i,_$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?eo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw LB(e)}_flushAnimations(e,n){let r=new _l,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);let B=this.driver.query(k,y$,!0);for(let H=0;H<B.length;H++)u.add(B[H])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=CA(h,this.collectedEnterElements),g=new Map,E=0;f.forEach((k,B)=>{let H=xA+E++;g.set(B,H),k.forEach(le=>$n(le,H))});let b=[],D=new Set,j=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let B=this.collectedLeaveElements[k],H=B[ar];H&&H.setForRemoval&&(b.push(B),D.add(B),H.hasAnimation?this.driver.query(B,w$,!0).forEach(le=>D.add(le)):j.add(B))}let $=new Map,p=CA(h,Array.from(D));p.forEach((k,B)=>{let H=B_+E++;$.set(B,H),k.forEach(le=>$n(le,H))}),e.push(()=>{f.forEach((k,B)=>{let H=g.get(B);k.forEach(le=>va(le,H))}),p.forEach((k,B)=>{let H=$.get(B);k.forEach(le=>va(le,H))}),b.forEach(k=>{this.processLeaveNode(k)})});let Q=[],P=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(n).forEach(H=>{let le=H.player,Ne=H.element;if(Q.push(le),this.collectedEnterElements.length){let Qe=Ne[ar];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(H.triggerName)){let Nt=Qe.previousTriggersValues.get(H.triggerName),ht=this.statesByElement.get(H.element);if(ht&&ht.has(H.triggerName)){let _n=ht.get(H.triggerName);_n.value=Nt,ht.set(H.triggerName,_n)}}le.destroy();return}}let It=!d||!this.driver.containsElement(d,Ne),qe=$.get(Ne),Gt=g.get(Ne),De=this._buildInstruction(H,r,Gt,qe,It);if(De.errors&&De.errors.length){P.push(De);return}if(It){le.onStart(()=>Zo(Ne,De.fromStyles)),le.onDestroy(()=>Lr(Ne,De.toStyles)),i.push(le);return}if(H.isFallbackTransition){le.onStart(()=>Zo(Ne,De.fromStyles)),le.onDestroy(()=>Lr(Ne,De.toStyles)),i.push(le);return}let un=[];De.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||un.push(Qe)}),De.timelines=un,r.append(Ne,De.timelines);let Qn={instruction:De,player:le,element:Ne};s.push(Qn),De.queriedElements.forEach(Qe=>xn(a,Qe,[]).push(le)),De.preStyleProps.forEach((Qe,Nt)=>{if(Qe.size){let ht=c.get(Nt);ht||c.set(Nt,ht=new Set),Qe.forEach((_n,mr)=>ht.add(mr))}}),De.postStyleProps.forEach((Qe,Nt)=>{let ht=l.get(Nt);ht||l.set(Nt,ht=new Set),Qe.forEach((_n,mr)=>ht.add(mr))})});if(P.length){let k=[];P.forEach(B=>{k.push(jB(B.triggerName,B.errors))}),Q.forEach(B=>B.destroy()),this.reportError(k)}let W=new Map,ue=new Map;s.forEach(k=>{let B=k.element;r.has(B)&&(ue.set(B,B),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,W))}),i.forEach(k=>{let B=k.element;this._getPreviousPlayers(B,!1,k.namespaceId,k.triggerName,null).forEach(le=>{xn(W,B,[]).push(le),le.destroy()})});let Ee=b.filter(k=>bA(k,c,l)),Te=new Map;IA(Te,this.driver,j,l,Vr).forEach(k=>{bA(k,c,l)&&Ee.push(k)});let Oe=new Map;f.forEach((k,B)=>{IA(Oe,this.driver,new Set(k),c,lf)}),Ee.forEach(k=>{let B=Te.get(k),H=Oe.get(k);Te.set(k,new Map([...B?.entries()??[],...H?.entries()??[]]))});let Ve=[],zt=[],qt={};s.forEach(k=>{let{element:B,player:H,instruction:le}=k;if(r.has(B)){if(u.has(B)){H.onDestroy(()=>Lr(B,le.toStyles)),H.disabled=!0,H.overrideTotalTime(le.totalTime),i.push(H);return}let Ne=qt;if(ue.size>1){let qe=B,Gt=[];for(;qe=qe.parentNode;){let De=ue.get(qe);if(De){Ne=De;break}Gt.push(qe)}Gt.forEach(De=>ue.set(De,Ne))}let It=this._buildAnimation(H.namespaceId,le,W,o,Oe,Te);if(H.setRealPlayer(It),Ne===qt)Ve.push(H);else{let qe=this.playersByElement.get(Ne);qe&&qe.length&&(H.parentPlayer=eo(qe)),i.push(H)}}else Zo(B,le.fromStyles),H.onDestroy(()=>Lr(B,le.toStyles)),zt.push(H),u.has(B)&&i.push(H)}),zt.forEach(k=>{let B=o.get(k.element);if(B&&B.length){let H=eo(B);k.setRealPlayer(H)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<b.length;k++){let B=b[k],H=B[ar];if(va(B,B_),H&&H.hasAnimation)continue;let le=[];if(a.size){let It=a.get(B);It&&It.length&&le.push(...It);let qe=this.driver.query(B,$_,!0);for(let Gt=0;Gt<qe.length;Gt++){let De=a.get(qe[Gt]);De&&De.length&&le.push(...De)}}let Ne=le.filter(It=>!It.destroyed);Ne.length?D$(this,B,Ne):this.processLeaveNode(B)}return b.length=0,Ve.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let B=this.players.indexOf(k);this.players.splice(B,1)}),k.play()}),Ve}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==yl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=xn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f)})}Zo(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(g=>{let E=g.element;u.add(E);let b=E[ar];if(b&&b.removedBeforeQueried)return new Zi(g.duration,g.delay);let D=E!==c,j=S$((r.get(E)||E$).map(W=>W.getRealPlayer())).filter(W=>{let ue=W;return ue.element?ue.element===E:!1}),$=o.get(E),p=s.get(E),Q=TA(this._normalizer,g.keyframes,$,p),P=this._buildPlayer(g,Q,j);if(g.subTimeline&&i&&d.add(E),D){let W=new El(e,a,E);W.setRealPlayer(P),l.push(W)}return P});l.forEach(g=>{xn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>C$(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>$n(g,pA));let f=eo(h);return f.onDestroy(()=>{u.forEach(g=>va(g,pA)),Lr(c,n.toStyles)}),d.forEach(g=>{xn(i,g,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Zi(e.duration,e.delay)}},El=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>rw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function C$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function b$(t){return t??null}function ff(t){return t&&t.nodeType===1}function T$(t){return t=="start"||t=="done"}function EA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function IA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(EA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[ar]=I$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>EA(c,o[a++])),s}function CA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function $n(t,e){t.classList?.add(e)}function va(t,e){t.classList?.remove(e)}function D$(t,e,n){eo(n).onDone(()=>t.processLeaveNode(e))}function S$(t){let e=[];return FA(t,e),e}function FA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ml?FA(r.players,e):e.push(r)}}function A$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function bA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var wa=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new ew(e.body,n,r,i),this._timelineEngine=new J_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=OA(this._driver,o,c,l);if(c.length)throw AB(i,c);l.length&&void 0,a=p$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=hA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=hA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function x$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=U_(e[0]),e.length>1&&(r=U_(e[e.length-1]))):e instanceof Map&&(n=U_(e)),n||r?new tw(t,n,r):null}var _a=class _a{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=_a.initialStylesByElement.get(e);i||_a.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Lr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lr(this._element,this._initialStyles),this._endStyles&&(Lr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_a.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),Lr(this._element,this._initialStyles),this._state=3)}};_a.initialStylesByElement=new WeakMap;var tw=_a;function U_(t){let e=null;return t.forEach((n,r)=>{M$(r)&&(e=e||new Map,e.set(r,n))}),e}function M$(t){return t==="display"||t==="position"}var If=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:cw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Cf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return DA(e,n)}getParentElement(e){return ow(e)}query(e,n,r){return SA(e,n,r)}computeStyle(e,n,r){return cw(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof If);YB(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((g,E)=>l.set(E,g))});let d=WB(n).map(f=>new Map(f));d=XB(e,d,l);let h=x$(e,d);return new If(e,d,c,h)}};var pf="@",VA="@.disabled",bf=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==pf&&n==VA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},nw=class extends bf{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==pf?n.charAt(1)=="."&&n==VA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==pf){let i=P$(e),o=n.slice(1),s="";return o.charAt(0)!=pf&&([o,s]=O$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function P$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function O$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Tf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new bf(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new nw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var N$=(()=>{let e=class e extends wa{constructor(r,i,o){super(r,i,o,R(uc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(L(Lt),L(es),L(ts))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function k$(){return new yf}function F$(t,e,n){return new Tf(t,e,n)}var LA=[{provide:ts,useFactory:k$},{provide:wa,useClass:N$},{provide:Do,useFactory:F$,deps:[af,wa,Ie]}],V$=[{provide:es,useFactory:()=>new Cf},{provide:Ig,useValue:"BrowserAnimations"},...LA],_Z=[{provide:es,useClass:sw},{provide:Ig,useValue:"NoopAnimations"},...LA];function jA(){return Mo("NgEagerAnimations"),[...V$]}var fe="primary",Fl=Symbol("RouteTitle"),mw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ta(t){return new mw(t)}function j$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function U$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jr(t[n],e[n]))return!1;return!0}function jr(t,e){let n=t?gw(t):void 0,r=e?gw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!qA(t[i],e[i]))return!1;return!0}function gw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function GA(t){return t.length>0?t[t.length-1]:null}function io(t){return Vp(t)?t:Ro(t)?$e(Promise.resolve(t)):se(t)}var B$={exact:KA,subset:QA},WA={exact:$$,subset:H$,ignored:()=>!0};function UA(t,e,n){return B$[n.paths](t.root,e.root,n.matrixParams)&&WA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $$(t,e){return jr(t,e)}function KA(t,e,n){if(!rs(t.segments,e.segments)||!Af(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!KA(t.children[r],e.children[r],n))return!1;return!0}function H$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qA(t[n],e[n]))}function QA(t,e,n){return YA(t,e,e.segments,n)}function YA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!rs(i,n)||e.hasChildren()||!Af(i,n,r))}else if(t.segments.length===n.length){if(!rs(t.segments,n)||!Af(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!QA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!rs(t.segments,i)||!Af(t.segments,i,r)||!t.children[fe]?!1:YA(t.children[fe],e,o,r)}}function Af(t,e,n){return e.every((r,i)=>WA[n](t[i].parameters,r.parameters))}var to=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){return G$.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xf(this)}},ns=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ta(this.parameters),this._parameterMap}toString(){return JA(this)}};function z$(t,e){return rs(t,e)&&t.every((n,r)=>jr(n.parameters,e[r].parameters))}function rs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function q$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var $w=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new Pf,providedIn:"root"});let t=e;return t})(),Pf=class{parse(e){let n=new vw(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Il(e.root,!0)}`,r=Q$(e.queryParams),i=typeof e.fragment=="string"?`#${W$(e.fragment)}`:"";return`${n}${r}${i}`}},G$=new Pf;function xf(t){return t.segments.map(e=>JA(e)).join("/")}function Il(t,e){if(!t.hasChildren())return xf(t);if(e){let n=t.children[fe]?Il(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${Il(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=q$(t,(r,i)=>i===fe?[Il(t.children[fe],!1)]:[`${i}:${Il(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${xf(t)}/${n[0]}`:`${xf(t)}/(${n.join("//")})`}}function XA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(t){return XA(t).replace(/%3B/gi,";")}function W$(t){return encodeURI(t)}function yw(t){return XA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mf(t){return decodeURIComponent(t)}function BA(t){return Mf(t.replace(/\+/g,"%20"))}function JA(t){return`${yw(t.path)}${K$(t.parameters)}`}function K$(t){return Object.entries(t).map(([e,n])=>`;${yw(e)}=${yw(n)}`).join("")}function Q$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Df(n)}=${Df(i)}`).join("&"):`${Df(n)}=${Df(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Y$=/^[^\/()?;#]+/;function dw(t){let e=t.match(Y$);return e?e[0]:""}var X$=/^[^\/()?;=#]+/;function J$(t){let e=t.match(X$);return e?e[0]:""}var Z$=/^[^=?&#]+/;function eH(t){let e=t.match(Z$);return e?e[0]:""}var tH=/^[^&#]+/;function nH(t){let e=t.match(tH);return e?e[0]:""}var vw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Re(e,n)),r}parseSegment(){let e=dw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new ns(Mf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=J$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=dw(this.remaining);i&&(r=i,this.capture(r))}e[Mf(n)]=Mf(r)}parseQueryParam(e){let n=eH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nH(this.remaining);s&&(r=s,this.capture(r))}let i=BA(n),o=BA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function ZA(t){return t.segments.length>0?new Re([],{[fe]:t}):t}function ex(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ex(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return rH(n)}function rH(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Re(t.segments.concat(e.segments),e.children)}return t}function Da(t){return t instanceof to}function iH(t,e,n=null,r=null){let i=tx(t);return nx(i,e,n,r)}function tx(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=ZA(r);return e??i}function nx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return hw(i,i,i,n,r);let o=oH(e);if(o.toRoot())return hw(i,i,new Re([],{}),n,r);let s=sH(o,i,t),a=s.processChildren?Tl(s.segmentGroup,s.index,o.commands):ix(s.segmentGroup,s.index,o.commands);return hw(i,s.segmentGroup,a,n,r)}function Of(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Al(t){return typeof t=="object"&&t!=null&&t.outlets}function hw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=rx(t,e,n);let a=ZA(ex(s));return new to(a,o,i)}function rx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=rx(o,e,n)}),new Re(t.segments,r)}var Rf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Of(r[0]))throw new O(4003,!1);let i=r.find(Al);if(i&&i!==GA(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Rf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Rf(n,e,r)}var Ca=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sH(t,e,n){if(t.isAbsolute)return new Ca(e,!0,0);if(!n)return new Ca(e,!1,NaN);if(n.parent===null)return new Ca(n,!0,0);let r=Of(t.commands[0])?0:1,i=n.segments.length-1+r;return aH(n,i,t.numberOfDoubleDots)}function aH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function cH(t){return Al(t[0])?t[0].outlets:{[fe]:t}}function ix(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return Tl(t,e,n);let r=lH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Re(t.segments.slice(r.pathIndex),t.children),Tl(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?_w(t,e,n):r.match?Tl(t,0,i):_w(t,e,n)}function Tl(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=cH(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Tl(t.children[fe],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ix(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function lH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Al(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!HA(c,l,s))return o;r+=2}else{if(!HA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _w(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Al(o)){let c=uH(o.outlets);return new Re(r,c)}if(i===0&&Of(n[0])){let c=t.segments[e];r.push(new ns(c.path,$A(n[0]))),i++;continue}let s=Al(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Of(a)?(r.push(new ns(s,$A(a))),i+=2):(r.push(new ns(s,{})),i++)}return new Re(r,{})}function uH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=_w(new Re([],{}),0,r))}),e}function $A(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HA(t,e,n){return t==n.path&&jr(e,n.parameters)}var Dl="imperative",$t=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($t||{}),zn=class{constructor(e,n){this.id=e,this.url=n}},xl=class extends zn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=$t.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},is=class extends zn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Hn||{}),ww=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ww||{}),no=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},os=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$t.NavigationSkipped}},Ml=class extends zn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=$t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nf=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ew=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iw=class extends zn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=$t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cw=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bw=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tw=class{constructor(e){this.route=e,this.type=$t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dw=class{constructor(e){this.route=e,this.type=$t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sw=class{constructor(e){this.snapshot=e,this.type=$t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Aw=class{constructor(e){this.snapshot=e,this.type=$t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xw=class{constructor(e){this.snapshot=e,this.type=$t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mw=class{constructor(e){this.snapshot=e,this.type=$t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pl=class{},Ol=class{constructor(e){this.url=e}};var Pw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uf,this.attachRef=null}},Uf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pw,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ow(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ow(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rw(e,this._root).map(n=>n.value)}};function Ow(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ow(t,n);if(r)return r}return null}function Rw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rw(t,n);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ia(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ff=class extends kf{constructor(e,n){super(e),this.snapshot=n,zw(this,e)}toString(){return this.snapshot.toString()}};function ox(t){let e=dH(t),n=new ft([new ns("",{})]),r=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),a=new ro(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new Ff(new Mn(a,[]),e)}function dH(t){let e={},n={},r={},i="",o=new Rl([],e,r,i,n,fe,t,null,{});return new Vf("",new Mn(o,[]))}var ro=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(l=>l[Fl]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hw(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&ax(i)&&(r.resolve[Fl]=i.title),r}var Rl=class{get title(){return this.data?.[Fl]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vf=class extends kf{constructor(e,n){super(n),this.url=e,zw(this,n)}toString(){return sx(this._root)}};function zw(t,e){e.value._routerState=t,e.children.forEach(n=>zw(t,n))}function sx(t){let e=t.children.length>0?` { ${t.children.map(sx).join(", ")} } `:"";return`${t.value}${e}`}function fw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jr(e.params,n.params)||t.paramsSubject.next(n.params),U$(e.url,n.url)||t.urlSubject.next(n.url),jr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Nw(t,e){let n=jr(t.params,e.params)&&z$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Nw(t.parent,e.parent))}function ax(t){return typeof t.title=="string"||t.title===null}var qw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=R(Uf),this.location=R(Vt),this.changeDetector=R(Vi),this.environmentInjector=R(Tt),this.inputBinder=R(Gw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new kw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=He({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ti]});let t=e;return t})(),kw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ro?this.route:e===Uf?this.childContexts:this.parent.get(e,n)}},Gw=new G("");function hH(t,e,n){let r=Nl(t,e._root,n?n._root:void 0);return new Ff(r,e)}function Nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fH(t,e,n);return new Mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nl(t,a)),s}}let r=pH(e.value),i=e.children.map(o=>Nl(t,o));return new Mn(r,i)}}function fH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Nl(t,r,i);return Nl(t,r)})}function pH(t){return new ro(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var cx="ngNavigationCancelingError";function lx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ux(!1,Hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ux(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[cx]=!0,n.cancellationCode=e,n}function mH(t){return dx(t)&&Da(t.url)}function dx(t){return!!t&&t[cx]}var gH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(i,o){i&1&&ae(0,"router-outlet")},dependencies:[qw],encapsulation:2});let t=e;return t})();function yH(t,e){return t.providers&&!t._injector&&(t._injector=$g(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ww(t){let e=t.children&&t.children.map(Ww),n=e?Ae(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=gH),n}function Ur(t){return t.outlet||fe}function vH(t,e){let n=t.filter(r=>Ur(r)===e);return n.push(...t.filter(r=>Ur(r)!==e)),n}function Vl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _H=(t,e,n,r)=>re(i=>(new Fw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Fw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),fw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Aw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(fw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Vl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Lf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ba=class{constructor(e,n){this.component=e,this.route=n}};function wH(t,e,n){let r=t._root,i=e?e._root:null;return Cl(r,i,n,[r.value])}function EH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Aa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!HI(t)?t:e.get(t):r}function Cl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ia(e);return t.children.forEach(s=>{IH(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sl(a,n.getContext(s),i)),i}function IH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=CH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Lf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Cl(t,e,a?a.children:null,r,i):Cl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ba(a.outlet.component,s))}else s&&Sl(e,a,i),i.canActivateChecks.push(new Lf(r)),o.component?Cl(t,null,a?a.children:null,r,i):Cl(t,null,n,r,i);return i}function CH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(t.url,e.url)||!jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nw(t,e)||!jr(t.queryParams,e.queryParams);case"paramsChange":default:return!Nw(t,e)}}function Sl(t,e,n){let r=Ia(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sl(s,e.children.getContext(o),n):Sl(s,null,n):Sl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ba(e.outlet.component,i)):n.canDeactivateChecks.push(new ba(null,i)):n.canDeactivateChecks.push(new ba(null,i))}function Ll(t){return typeof t=="function"}function bH(t){return typeof t=="boolean"}function TH(t){return t&&Ll(t.canLoad)}function DH(t){return t&&Ll(t.canActivate)}function SH(t){return t&&Ll(t.canActivateChild)}function AH(t){return t&&Ll(t.canDeactivate)}function xH(t){return t&&Ll(t.canMatch)}function hx(t){return t instanceof En||t?.name==="EmptyError"}var Sf=Symbol("INITIAL_VALUE");function Sa(){return Wt(t=>ju(t.map(e=>e.pipe(qr(1),zp(Sf)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Sf)return Sf;if(n===!1||n instanceof to)return n}return!0}),bt(e=>e!==Sf),qr(1)))}function MH(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(Ae(N({},n),{guardsResult:!0})):PH(s,r,i,t).pipe(it(a=>a&&bH(a)?OH(r,o,t,e):se(a)),re(a=>Ae(N({},n),{guardsResult:a})))})}function PH(t,e,n,r){return $e(t).pipe(it(i=>VH(i.component,i.route,n,e,r)),vr(i=>i!==!0,!0))}function OH(t,e,n,r){return $e(e).pipe(Ti(i=>Ns(NH(i.route.parent,r),RH(i.route,r),FH(t,i.path,n),kH(t,i.route,n))),vr(i=>i!==!0,!0))}function RH(t,e){return t!==null&&e&&e(new xw(t)),se(!0)}function NH(t,e){return t!==null&&e&&e(new Sw(t)),se(!0)}function kH(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Uu(()=>{let s=Vl(e)??n,a=Aa(o,s),c=DH(a)?a.canActivate(e,t):ei(s,()=>a(e,t));return io(c).pipe(vr())}));return se(i).pipe(Sa())}function FH(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>EH(s)).filter(s=>s!==null).map(s=>Uu(()=>{let a=s.guards.map(c=>{let l=Vl(s.node)??n,u=Aa(c,l),d=SH(u)?u.canActivateChild(r,t):ei(l,()=>u(r,t));return io(d).pipe(vr())});return se(a).pipe(Sa())}));return se(o).pipe(Sa())}function VH(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(a=>{let c=Vl(e)??i,l=Aa(a,c),u=AH(l)?l.canDeactivate(t,e,n,r):ei(c,()=>l(t,e,n,r));return io(u).pipe(vr())});return se(s).pipe(Sa())}function LH(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let a=Aa(s,t),c=TH(a)?a.canLoad(e,n):ei(t,()=>a(e,n));return io(c)});return se(o).pipe(Sa(),fx(r))}function fx(t){return Ap(ot(e=>{if(Da(e))throw lx(t,e)}),re(e=>e===!0))}function jH(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let a=Aa(s,t),c=xH(a)?a.canMatch(e,n):ei(t,()=>a(e,n));return io(c)});return se(o).pipe(Sa(),fx(r))}var kl=class{constructor(e){this.segmentGroup=e||null}},jf=class extends Error{constructor(e){super(),this.urlTree=e}};function Ea(t){return Os(new kl(t))}function UH(t){return Os(new O(4e3,!1))}function BH(t){return Os(ux(!1,Hn.GuardRejected))}var Vw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[fe])return UH(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new jf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new to(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Lw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $H(t,e,n,r,i){let o=Kw(t,e,n);return o.matched?(r=yH(e,r),jH(r,e,n,i).pipe(re(s=>s===!0?o:N({},Lw)))):se(o)}function Kw(t,e,n){if(e.path==="**")return HH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},Lw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||j$)(n,t,e);if(!i)return N({},Lw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HH(t){return{matched:!0,parameters:t.length>0?GA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zA(t,e,n,r){return n.length>0&&GH(t,n,r)?{segmentGroup:new Re(e,qH(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&WH(t,n,r)?{segmentGroup:new Re(t.segments,zH(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function zH(t,e,n,r){let i={};for(let o of n)if(Bf(t,e,o)&&!r[Ur(o)]){let s=new Re([],{});i[Ur(o)]=s}return N(N({},r),i)}function qH(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&Ur(r)!==fe){let i=new Re([],{});n[Ur(r)]=i}return n}function GH(t,e,n){return n.some(r=>Bf(t,e,r)&&Ur(r)!==fe)}function WH(t,e,n){return n.some(r=>Bf(t,e,r))}function Bf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function KH(t,e,n,r){return Ur(t)!==r&&(r===fe||!Bf(e,n,t))?!1:Kw(e,t,n).matched}function QH(t,e,n){return e.length===0&&!t.children[n]}var jw=class{};function YH(t,e,n,r,i,o,s="emptyOnly"){return new Uw(t,e,n,r,i,s,o).recognize()}var XH=31,Uw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Vw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=zA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(n=>{let r=new Rl([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new Mn(r,n),o=new Vf("",i),s=iH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(yr(r=>{if(r instanceof jf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof kl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Hw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(re(o=>o instanceof Mn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $e(i).pipe(Ti(o=>{let s=r.children[o],a=vH(n,o);return this.processSegmentGroup(e,a,s,o)}),$p((o,s)=>(o.push(...s),o)),Di(null),Bp(),it(o=>{if(o===null)return Ea(r);let s=px(o);return JH(s),se(s)}))}processSegment(e,n,r,i,o,s){return $e(n).pipe(Ti(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(yr(c=>{if(c instanceof kl)return se(null);throw c}))),vr(a=>!!a),yr(a=>{if(hx(a))return QH(r,i,o)?se(new jw):Ea(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return KH(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ea(i):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Kw(n,i,o);if(!a)return Ea(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XH&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(it(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=$H(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Wt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Rl(u,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,ez(r),Ur(r),r.component??r._loadedComponent??null,r,tz(r)),{segmentGroup:g,slicedSegments:E}=zA(n,u,d,c);if(E.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe(re(D=>D===null?null:new Mn(f,D)));if(c.length===0&&E.length===0)return se(new Mn(f,[]));let b=Ur(r)===o;return this.processSegment(l,c,g,E,b?fe:o,!0).pipe(re(D=>new Mn(f,D instanceof Mn?[D]:[])))}))):Ea(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):LH(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):BH(n))):se({routes:[],injector:e})}};function JH(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function ZH(t){let e=t.value.routeConfig;return e&&e.path===""}function px(t){let e=[],n=new Set;for(let r of t){if(!ZH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=px(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!n.has(r))}function ez(t){return t.data||{}}function tz(t){return t.resolve||{}}function nz(t,e,n,r,i,o){return it(s=>YH(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:c})=>Ae(N({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function rz(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of mx(c))s.add(l);let a=0;return $e(s).pipe(Ti(c=>o.has(c)?iz(c,r,t,e):(c.data=Hw(c,c.parent,t).resolve,se(void 0))),ot(()=>a++),Fs(1),it(c=>a===s.size?se(n):dn))})}function mx(t){let e=t.children.map(n=>mx(n)).flat();return[t,...e]}function iz(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ax(i)&&(o[Fl]=i.title),oz(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=Hw(t,t.parent,n).resolve,null)))}function oz(t,e,n,r){let i=gw(t);if(i.length===0)return se({});let o={};return $e(i).pipe(it(s=>sz(t[s],e,n,r).pipe(vr(),ot(a=>{o[s]=a}))),Fs(1),Up(o),yr(s=>hx(s)?dn:Os(s)))}function sz(t,e,n,r){let i=Vl(e)??r,o=Aa(t,i),s=o.resolve?o.resolve(e,n):ei(i,()=>o(e,n));return io(s)}function pw(t){return Wt(e=>{let n=t(e);return n?$e(n).pipe(re(()=>e)):se(e)})}var gx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[Fl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(az),providedIn:"root"});let t=e;return t})(),az=(()=>{let e=class e extends gx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(aA))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$f=new G("",{providedIn:"root",factory:()=>({})}),Qw=new G(""),cz=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Gg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(r.loadComponent()).pipe(re(yx),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),yo(()=>{this.componentLoaders.delete(r)})),o=new Ds(i,()=>new kt).pipe(Ts());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=lz(i,this.compiler,r,this.onLoadEndListener).pipe(yo(()=>{this.childrenLoaders.delete(i)})),a=new Ds(s,()=>new kt).pipe(Ts());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lz(t,e,n,r){return io(t.loadChildren()).pipe(re(yx),it(i=>i instanceof dc||Array.isArray(i)?se(i):$e(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Qw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ww),injector:o}}))}function uz(t){return t&&typeof t=="object"&&"default"in t}function yx(t){return uz(t)?t.default:t}var Yw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(dz),providedIn:"root"});let t=e;return t})(),dz=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hz=new G("");var fz=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kt,this.transitionAbortSubject=new kt,this.configLoader=R(cz),this.environmentInjector=R(Tt),this.urlSerializer=R($w),this.rootContexts=R(Uf),this.location=R(Ec),this.inputBindingEnabled=R(Gw,{optional:!0})!==null,this.titleStrategy=R(gx),this.options=R($f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Yw),this.createViewTransition=R(hz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Tw(o)),i=o=>this.events.next(new Dw(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(N(N({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Dl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bt(s=>s.id!==0),re(s=>Ae(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Wt(s=>{this.currentTransition=s;let a=!1,c=!1;return se(s).pipe(ot(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new os(l.id,this.urlSerializer.serialize(l.rawUrl),h,ww.IgnoredSameUrlNavigation)),l.resolve(null),dn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(Wt(h=>{let f=this.transitions?.getValue();return this.events.next(new xl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?dn:Promise.resolve(h)}),nz(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ae(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Nf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:E,extras:b}=l,D=new xl(h,this.urlSerializer.serialize(f),g,E);this.events.next(D);let j=ox(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(N({},l),{targetSnapshot:j,urlAfterRedirects:f,extras:Ae(N({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,se(s)}else{let h="";return this.events.next(new os(l.id,this.urlSerializer.serialize(l.extractedUrl),h,ww.IgnoredByUrlHandlingStrategy)),l.resolve(null),dn}}),ot(l=>{let u=new Ew(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),re(l=>(this.currentTransition=s=Ae(N({},l),{guards:wH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),MH(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(s.guardsResult=l.guardsResult,Da(l.guardsResult))throw lx(this.urlSerializer,l.guardsResult);let u=new Iw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Hn.GuardRejected),!1)),pw(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(ot(u=>{let d=new Cw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Wt(u=>{let d=!1;return se(u).pipe(rz(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Hn.NoDataFromResolver)}}))}),ot(u=>{let d=new bw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),pw(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ot(f=>{d.component=f}),re(()=>{})));for(let f of d.children)h.push(...u(f));return h};return ju(u(l.targetSnapshot.root)).pipe(Di(null),qr(1))}),pw(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?$e(d).pipe(re(()=>s)):se(s)}),re(l=>{let u=hH(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(N({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ot(()=>{this.events.next(new Pl)}),_H(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qr(1),ot({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new is(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Xn(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),yo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yr(l=>{if(c=!0,dx(l))this.events.next(new no(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),mH(l)?this.events.next(new Ol(l.url)):s.resolve(!1);else{this.events.next(new Ml(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return dn}))}))}cancelNavigationTransition(r,i,o){let s=new no(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pz(t){return t!==Dl}var mz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(gz),providedIn:"root"});let t=e;return t})(),Bw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gz=(()=>{let e=class e extends Bw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>R(yz),providedIn:"root"});let t=e;return t})(),yz=(()=>{let e=class e extends vx{constructor(){super(...arguments),this.location=R(Ec),this.urlSerializer=R($w),this.options=R($f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Yw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ox(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof xl)this.stateMemento=this.createStateMemento();else if(r instanceof os)this.rawUrlTree=i.initialUrl;else if(r instanceof Nf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Pl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof no&&(r.code===Hn.GuardRejected||r.code===Hn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ml?this.restoreHistory(i,!0):r instanceof is&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=N(N({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bl||{});function vz(t,e){t.events.pipe(bt(n=>n instanceof is||n instanceof no||n instanceof Ml||n instanceof os),re(n=>n instanceof is||n instanceof os?bl.COMPLETE:(n instanceof no?n.code===Hn.Redirect||n.code===Hn.SupersededByNewNavigation:!1)?bl.REDIRECTING:bl.FAILED),bt(n=>n!==bl.REDIRECTING),qr(1)).subscribe(()=>{e()})}function _z(t){throw t}var wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(Hd),this.stateManager=R(vx),this.options=R($f,{optional:!0})||{},this.pendingTasks=R(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(fz),this.urlSerializer=R($w),this.location=R(Ec),this.urlHandlingStrategy=R(Yw),this._events=new kt,this.errorHandler=this.options.errorHandler||_z,this.navigated=!1,this.routeReuseStrategy=R(mz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(Qw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(Gw,{optional:!0}),this.eventsSubscription=new rt,this.isNgZoneEnabled=R(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof no&&i.code!==Hn.Redirect&&i.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof is)this.navigated=!0;else if(i instanceof Ol){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pz(o.source)};this.scheduleNavigation(a,Dl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Cz(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=N({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ww),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=tx(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return nx(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Da(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Dl,null,i)}navigate(r,i={skipLocationChange:!1}){return Iz(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=N({},wz):i===!1?o=N({},Ez):o=i,Da(r))return UA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return UA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return vz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function Cz(t){return!(t instanceof Pl)&&!(t instanceof Ol)}var bz=new G("");function _x(t,...e){return ki([{provide:Qw,multi:!0,useValue:t},[],{provide:ro,useFactory:Tz,deps:[yn]},{provide:zd,multi:!0,useFactory:Sz},e.map(n=>n.\u0275providers)])}function Tz(t){return t.routerState.root}function Dz(t,e){return{\u0275kind:t,\u0275providers:e}}function Sz(){let t=R(Je);return e=>{let n=t.get(xr);if(e!==n.components[0])return;let r=t.get(yn),i=t.get(Az);t.get(xz)===1&&r.initialNavigation(),t.get(Mz,null,_e.Optional)?.setUpPreloading(),t.get(bz,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Az=new G("",{factory:()=>new kt}),xz=new G("",{providedIn:"root",factory:()=>1});var Mz=new G("");function wx(t){return Dz(5,[{provide:$f,useValue:t}])}var et="top",_t="bottom",ut="right",ct="left",Hf="auto",oo=[et,_t,ut,ct],pi="start",ss="end",Ex="clippingParents",zf="viewport",xa="popper",Ix="reference",Jw=oo.reduce(function(t,e){return t.concat([e+"-"+pi,e+"-"+ss])},[]),qf=[].concat(oo,[Hf]).reduce(function(t,e){return t.concat([e,e+"-"+pi,e+"-"+ss])},[]),Pz="beforeRead",Oz="read",Rz="afterRead",Nz="beforeMain",kz="main",Fz="afterMain",Vz="beforeWrite",Lz="write",jz="afterWrite",Cx=[Pz,Oz,Rz,Nz,kz,Fz,Vz,Lz,jz];function Pt(t){return t?(t.nodeName||"").toLowerCase():null}function Ke(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qn(t){var e=Ke(t).Element;return t instanceof e||t instanceof Element}function wt(t){var e=Ke(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ma(t){if(typeof ShadowRoot>"u")return!1;var e=Ke(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Uz(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!wt(o)||!Pt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Bz(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!wt(i)||!Pt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var jl={name:"applyStyles",enabled:!0,phase:"write",fn:Uz,effect:Bz,requires:["computeStyles"]};function Ot(t){return t.split("-")[0]}var cr=Math.max,as=Math.min,mi=Math.round;function Pa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ul(){return!/^((?!chrome|android).)*safari/i.test(Pa())}function Gn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&wt(t)&&(i=t.offsetWidth>0&&mi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&mi(r.height)/t.offsetHeight||1);var s=qn(t)?Ke(t):window,a=s.visualViewport,c=!Ul()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function cs(t){var e=Gn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ma(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cn(t){return Ke(t).getComputedStyle(t)}function Zw(t){return["table","td","th"].indexOf(Pt(t))>=0}function Ht(t){return((qn(t)?t.ownerDocument:t.document)||window.document).documentElement}function gi(t){return Pt(t)==="html"?t:t.assignedSlot||t.parentNode||(Ma(t)?t.host:null)||Ht(t)}function bx(t){return!wt(t)||cn(t).position==="fixed"?null:t.offsetParent}function $z(t){var e=/firefox/i.test(Pa()),n=/Trident/i.test(Pa());if(n&&wt(t)){var r=cn(t);if(r.position==="fixed")return null}var i=gi(t);for(Ma(i)&&(i=i.host);wt(i)&&["html","body"].indexOf(Pt(i))<0;){var o=cn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lr(t){for(var e=Ke(t),n=bx(t);n&&Zw(n)&&cn(n).position==="static";)n=bx(n);return n&&(Pt(n)==="html"||Pt(n)==="body"&&cn(n).position==="static")?e:n||$z(t)||e}function ls(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function us(t,e,n){return cr(t,as(e,n))}function Tx(t,e,n){var r=us(t,e,n);return r>n?n:r}function $l(){return{top:0,right:0,bottom:0,left:0}}function Hl(t){return Object.assign({},$l(),t)}function zl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Hz=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hl(typeof e!="number"?e:zl(e,oo))};function zz(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ot(n.placement),c=ls(a),l=[ct,ut].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=Hz(i.padding,n),h=cs(o),f=c==="y"?et:ct,g=c==="y"?_t:ut,E=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],b=s[c]-n.rects.reference[c],D=lr(o),j=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,$=E/2-b/2,p=d[f],Q=j-h[u]-d[g],P=j/2-h[u]/2+$,W=us(p,P,Q),ue=c;n.modifiersData[r]=(e={},e[ue]=W,e.centerOffset=W-P,e)}}function qz(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bl(e.elements.popper,i)&&(e.elements.arrow=i))}var Dx={name:"arrow",enabled:!0,phase:"main",fn:zz,effect:qz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wn(t){return t.split("-")[1]}var Gz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wz(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:mi(n*i)/i||0,y:mi(r*i)/i||0}}function Sx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,g=s.y,E=g===void 0?0:g,b=typeof u=="function"?u({x:f,y:E}):{x:f,y:E};f=b.x,E=b.y;var D=s.hasOwnProperty("x"),j=s.hasOwnProperty("y"),$=ct,p=et,Q=window;if(l){var P=lr(n),W="clientHeight",ue="clientWidth";if(P===Ke(n)&&(P=Ht(n),cn(P).position!=="static"&&a==="absolute"&&(W="scrollHeight",ue="scrollWidth")),P=P,i===et||(i===ct||i===ut)&&o===ss){p=_t;var Ee=d&&P===Q&&Q.visualViewport?Q.visualViewport.height:P[W];E-=Ee-r.height,E*=c?1:-1}if(i===ct||(i===et||i===_t)&&o===ss){$=ut;var Te=d&&P===Q&&Q.visualViewport?Q.visualViewport.width:P[ue];f-=Te-r.width,f*=c?1:-1}}var Ye=Object.assign({position:a},l&&Gz),Oe=u===!0?Wz({x:f,y:E},Ke(n)):{x:f,y:E};if(f=Oe.x,E=Oe.y,c){var Ve;return Object.assign({},Ye,(Ve={},Ve[p]=j?"0":"",Ve[$]=D?"0":"",Ve.transform=(Q.devicePixelRatio||1)<=1?"translate("+f+"px, "+E+"px)":"translate3d("+f+"px, "+E+"px, 0)",Ve))}return Object.assign({},Ye,(e={},e[p]=j?E+"px":"",e[$]=D?f+"px":"",e.transform="",e))}function Kz(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Ot(e.placement),variation:Wn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Sx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Sx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ax={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Kz,data:{}};var Gf={passive:!0};function Qz(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ke(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,Gf)}),a&&c.addEventListener("resize",n.update,Gf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Gf)}),a&&c.removeEventListener("resize",n.update,Gf)}}var xx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qz,data:{}};var Yz={left:"right",right:"left",bottom:"top",top:"bottom"};function Oa(t){return t.replace(/left|right|bottom|top/g,function(e){return Yz[e]})}var Xz={start:"end",end:"start"};function Wf(t){return t.replace(/start|end/g,function(e){return Xz[e]})}function ds(t){var e=Ke(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hs(t){return Gn(Ht(t)).left+ds(t).scrollLeft}function e0(t,e){var n=Ke(t),r=Ht(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Ul();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+hs(t),y:c}}function t0(t){var e,n=Ht(t),r=ds(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=cr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=cr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hs(t),c=-r.scrollTop;return cn(i||n).direction==="rtl"&&(a+=cr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function fs(t){var e=cn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kf(t){return["html","body","#document"].indexOf(Pt(t))>=0?t.ownerDocument.body:wt(t)&&fs(t)?t:Kf(gi(t))}function so(t,e){var n;e===void 0&&(e=[]);var r=Kf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ke(r),s=i?[o].concat(o.visualViewport||[],fs(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(so(gi(s)))}function Ra(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Jz(t,e){var n=Gn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Mx(t,e,n){return e===zf?Ra(e0(t,n)):qn(e)?Jz(e,n):Ra(t0(Ht(t)))}function Zz(t){var e=so(gi(t)),n=["absolute","fixed"].indexOf(cn(t).position)>=0,r=n&&wt(t)?lr(t):t;return qn(r)?e.filter(function(i){return qn(i)&&Bl(i,r)&&Pt(i)!=="body"}):[]}function n0(t,e,n,r){var i=e==="clippingParents"?Zz(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=Mx(t,l,r);return c.top=cr(u.top,c.top),c.right=as(u.right,c.right),c.bottom=as(u.bottom,c.bottom),c.left=cr(u.left,c.left),c},Mx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ql(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ot(r):null,o=r?Wn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case et:c={x:s,y:e.y-n.height};break;case _t:c={x:s,y:e.y+e.height};break;case ut:c={x:e.x+e.width,y:a};break;case ct:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?ls(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case pi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case ss:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function ur(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?Ex:a,l=n.rootBoundary,u=l===void 0?zf:l,d=n.elementContext,h=d===void 0?xa:d,f=n.altBoundary,g=f===void 0?!1:f,E=n.padding,b=E===void 0?0:E,D=Hl(typeof b!="number"?b:zl(b,oo)),j=h===xa?Ix:xa,$=t.rects.popper,p=t.elements[g?j:h],Q=n0(qn(p)?p:p.contextElement||Ht(t.elements.popper),c,u,s),P=Gn(t.elements.reference),W=ql({reference:P,element:$,strategy:"absolute",placement:i}),ue=Ra(Object.assign({},$,W)),Ee=h===xa?ue:P,Te={top:Q.top-Ee.top+D.top,bottom:Ee.bottom-Q.bottom+D.bottom,left:Q.left-Ee.left+D.left,right:Ee.right-Q.right+D.right},Ye=t.modifiersData.offset;if(h===xa&&Ye){var Oe=Ye[i];Object.keys(Te).forEach(function(Ve){var zt=[ut,_t].indexOf(Ve)>=0?1:-1,qt=[et,_t].indexOf(Ve)>=0?"y":"x";Te[Ve]+=Oe[qt]*zt})}return Te}function r0(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?qf:c,u=Wn(r),d=u?a?Jw:Jw.filter(function(g){return Wn(g)===u}):oo,h=d.filter(function(g){return l.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,E){return g[E]=ur(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[Ot(E)],g},{});return Object.keys(f).sort(function(g,E){return f[g]-f[E]})}function e4(t){if(Ot(t)===Hf)return[];var e=Oa(t);return[Wf(t),e,Wf(e)]}function t4(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,g=f===void 0?!0:f,E=n.allowedAutoPlacements,b=e.options.placement,D=Ot(b),j=D===b,$=c||(j||!g?[Oa(b)]:e4(b)),p=[b].concat($).reduce(function(De,un){return De.concat(Ot(un)===Hf?r0(e,{placement:un,boundary:u,rootBoundary:d,padding:l,flipVariations:g,allowedAutoPlacements:E}):un)},[]),Q=e.rects.reference,P=e.rects.popper,W=new Map,ue=!0,Ee=p[0],Te=0;Te<p.length;Te++){var Ye=p[Te],Oe=Ot(Ye),Ve=Wn(Ye)===pi,zt=[et,_t].indexOf(Oe)>=0,qt=zt?"width":"height",k=ur(e,{placement:Ye,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),B=zt?Ve?ut:ct:Ve?_t:et;Q[qt]>P[qt]&&(B=Oa(B));var H=Oa(B),le=[];if(o&&le.push(k[Oe]<=0),a&&le.push(k[B]<=0,k[H]<=0),le.every(function(De){return De})){Ee=Ye,ue=!1;break}W.set(Ye,le)}if(ue)for(var Ne=g?3:1,It=function(un){var Qn=p.find(function(Qe){var Nt=W.get(Qe);if(Nt)return Nt.slice(0,un).every(function(ht){return ht})});if(Qn)return Ee=Qn,"break"},qe=Ne;qe>0;qe--){var Gt=It(qe);if(Gt==="break")break}e.placement!==Ee&&(e.modifiersData[r]._skip=!0,e.placement=Ee,e.reset=!0)}}var Px={name:"flip",enabled:!0,phase:"main",fn:t4,requiresIfExists:["offset"],data:{_skip:!1}};function Ox(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Rx(t){return[et,ut,_t,ct].some(function(e){return t[e]>=0})}function n4(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ur(e,{elementContext:"reference"}),a=ur(e,{altBoundary:!0}),c=Ox(s,r),l=Ox(a,i,o),u=Rx(c),d=Rx(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Nx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n4};function r4(t,e,n){var r=Ot(t),i=[ct,et].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ct,ut].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function i4(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=qf.reduce(function(u,d){return u[d]=r4(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var kx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:i4};function o4(t){var e=t.state,n=t.name;e.modifiersData[n]=ql({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Fx={name:"popperOffsets",enabled:!0,phase:"read",fn:o4,data:{}};function i0(t){return t==="x"?"y":"x"}function s4(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,g=n.tetherOffset,E=g===void 0?0:g,b=ur(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),D=Ot(e.placement),j=Wn(e.placement),$=!j,p=ls(D),Q=i0(p),P=e.modifiersData.popperOffsets,W=e.rects.reference,ue=e.rects.popper,Ee=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Te=typeof Ee=="number"?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),Ye=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Oe={x:0,y:0};if(P){if(o){var Ve,zt=p==="y"?et:ct,qt=p==="y"?_t:ut,k=p==="y"?"height":"width",B=P[p],H=B+b[zt],le=B-b[qt],Ne=f?-ue[k]/2:0,It=j===pi?W[k]:ue[k],qe=j===pi?-ue[k]:-W[k],Gt=e.elements.arrow,De=f&&Gt?cs(Gt):{width:0,height:0},un=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$l(),Qn=un[zt],Qe=un[qt],Nt=us(0,W[k],De[k]),ht=$?W[k]/2-Ne-Nt-Qn-Te.mainAxis:It-Nt-Qn-Te.mainAxis,_n=$?-W[k]/2+Ne+Nt+Qe+Te.mainAxis:qe+Nt+Qe+Te.mainAxis,mr=e.elements.arrow&&lr(e.elements.arrow),tu=mr?p==="y"?mr.clientTop||0:mr.clientLeft||0:0,za=(Ve=Ye?.[p])!=null?Ve:0,nu=B+ht-za-tu,ru=B+_n-za,qa=us(f?as(H,nu):H,B,f?cr(le,ru):le);P[p]=qa,Oe[p]=qa-B}if(a){var Ga,iu=p==="x"?et:ct,ou=p==="x"?_t:ut,zr=P[Q],_i=Q==="y"?"height":"width",Wa=zr+b[iu],uo=zr-b[ou],Ka=[et,ct].indexOf(D)!==-1,su=(Ga=Ye?.[Q])!=null?Ga:0,au=Ka?Wa:zr-W[_i]-ue[_i]-su+Te.altAxis,cu=Ka?zr+W[_i]+ue[_i]-su-Te.altAxis:uo,lu=f&&Ka?Tx(au,zr,cu):us(f?au:Wa,zr,f?cu:uo);P[Q]=lu,Oe[Q]=lu-zr}e.modifiersData[r]=Oe}}var Vx={name:"preventOverflow",enabled:!0,phase:"main",fn:s4,requiresIfExists:["offset"]};function o0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function s0(t){return t===Ke(t)||!wt(t)?ds(t):o0(t)}function a4(t){var e=t.getBoundingClientRect(),n=mi(e.width)/t.offsetWidth||1,r=mi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function a0(t,e,n){n===void 0&&(n=!1);var r=wt(e),i=wt(e)&&a4(e),o=Ht(e),s=Gn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Pt(e)!=="body"||fs(o))&&(a=s0(e)),wt(e)?(c=Gn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=hs(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function c4(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function c0(t){var e=c4(t);return Cx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function l0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function u0(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Lx={placement:"bottom",modifiers:[],strategy:"absolute"};function jx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ux(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Lx:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lx,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(D){var j=typeof D=="function"?D(u.options):D;E(),u.options=Object.assign({},o,u.options,j),u.scrollParents={reference:qn(a)?so(a):a.contextElement?so(a.contextElement):[],popper:so(c)};var $=c0(u0([].concat(r,u.options.modifiers)));return u.orderedModifiers=$.filter(function(p){return p.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var D=u.elements,j=D.reference,$=D.popper;if(jx(j,$)){u.rects={reference:a0(j,lr($),u.options.strategy==="fixed"),popper:cs($)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Te){return u.modifiersData[Te.name]=Object.assign({},Te.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var Q=u.orderedModifiers[p],P=Q.fn,W=Q.options,ue=W===void 0?{}:W,Ee=Q.name;typeof P=="function"&&(u=P({state:u,options:ue,name:Ee,instance:f})||u)}}}},update:l0(function(){return new Promise(function(b){f.forceUpdate(),b(u)})}),destroy:function(){E(),h=!0}};if(!jx(a,c))return f;f.setOptions(l).then(function(b){!h&&l.onFirstUpdate&&l.onFirstUpdate(b)});function g(){u.orderedModifiers.forEach(function(b){var D=b.name,j=b.options,$=j===void 0?{}:j,p=b.effect;if(typeof p=="function"){var Q=p({state:u,name:D,instance:f,options:$}),P=function(){};d.push(Q||P)}})}function E(){d.forEach(function(b){return b()}),d=[]}return f}}var l4=[xx,Fx,Ax,jl,kx,Px,Vx,Dx,Nx],d0=Ux({defaultModifiers:l4});var u4="tippy-box",Yx="tippy-content",d4="tippy-backdrop",Xx="tippy-arrow",Jx="tippy-svg-arrow",ps={passive:!0,capture:!0},Zx=function(){return document.body};function h0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function v0(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function eM(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Bx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function h4(t){return t.split(/\s+/).filter(Boolean)}function Na(t){return[].concat(t)}function $x(t,e){t.indexOf(e)===-1&&t.push(e)}function f4(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function p4(t){return t.split("-")[0]}function Yf(t){return[].slice.call(t)}function Hx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Gl(){return document.createElement("div")}function Xf(t){return["Element","Fragment"].some(function(e){return v0(t,e)})}function m4(t){return v0(t,"NodeList")}function g4(t){return v0(t,"MouseEvent")}function y4(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function v4(t){return Xf(t)?[t]:m4(t)?Yf(t):Array.isArray(t)?t:Yf(document.querySelectorAll(t))}function f0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function zx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function _4(t){var e,n=Na(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function w4(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=p4(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,f=l==="right"?u.left.x:0,g=l==="left"?u.right.x:0,E=o.top-r+d>c,b=r-o.bottom-h>c,D=o.left-n+f>c,j=n-o.right-g>c;return E||b||D||j})}function p0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function qx(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Br={isTouch:!1},Gx=0;function E4(){Br.isTouch||(Br.isTouch=!0,window.performance&&document.addEventListener("mousemove",tM))}function tM(){var t=performance.now();t-Gx<20&&(Br.isTouch=!1,document.removeEventListener("mousemove",tM)),Gx=t}function I4(){var t=document.activeElement;if(y4(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function C4(){document.addEventListener("touchstart",E4,ps),window.addEventListener("blur",I4)}var b4=typeof window<"u"&&typeof document<"u",T4=b4?!!window.msCrypto:!1;var D4={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},S4={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},dr=Object.assign({appendTo:Zx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},D4,S4),A4=Object.keys(dr),x4=function(e){var n=Object.keys(e);n.forEach(function(r){dr[r]=e[r]})};function nM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=dr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function M4(t,e){var n=e?Object.keys(nM(Object.assign({},dr,{plugins:e}))):A4,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Wx(t,e){var n=Object.assign({},e,{content:eM(e.content,[t])},e.ignoreAttributes?{}:M4(t,e.plugins));return n.aria=Object.assign({},dr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var P4=function(){return"innerHTML"};function g0(t,e){t[P4()]=e}function Kx(t){var e=Gl();return t===!0?e.className=Xx:(e.className=Jx,Xf(t)?e.appendChild(t):g0(e,t)),e}function Qx(t,e){Xf(e.content)?(g0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?g0(t,e.content):t.textContent=e.content)}function y0(t){var e=t.firstElementChild,n=Yf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Yx)}),arrow:n.find(function(r){return r.classList.contains(Xx)||r.classList.contains(Jx)}),backdrop:n.find(function(r){return r.classList.contains(d4)})}}function rM(t){var e=Gl(),n=Gl();n.className=u4,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Gl();r.className=Yx,r.setAttribute("data-state","hidden"),Qx(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=y0(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Qx(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Kx(s.arrow))):c.appendChild(Kx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}rM.$$tippy=!0;var O4=1,Qf=[],m0=[];function R4(t,e){var n=Wx(t,Object.assign({},dr,nM(Hx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,f=[],g=Bx(nu,n.interactiveDebounce),E,b=O4++,D=null,j=f4(n.plugins),$={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:b,reference:t,popper:Gl(),popperInstance:D,props:n,state:$,plugins:j,clearDelayTimeouts:au,setProps:cu,setContent:lu,show:CP,hide:bP,hideWithInteractivity:TP,enable:Ka,disable:su,unmount:DP,destroy:SP};if(!n.render)return p;var Q=n.render(p),P=Q.popper,W=Q.onUpdate;P.setAttribute("data-tippy-root",""),P.id="tippy-"+p.id,p.popper=P,t._tippy=p,P._tippy=p;var ue=j.map(function(C){return C.fn(p)}),Ee=t.hasAttribute("aria-expanded");return mr(),Ne(),B(),H("onCreate",[p]),n.showOnCreate&&Wa(),P.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),P.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&zt().addEventListener("mousemove",g)}),p;function Te(){var C=p.props.touch;return Array.isArray(C)?C:[C,0]}function Ye(){return Te()[0]==="hold"}function Oe(){var C;return!!((C=p.props.render)!=null&&C.$$tippy)}function Ve(){return E||t}function zt(){var C=Ve().parentNode;return C?_4(C):document}function qt(){return y0(P)}function k(C){return p.state.isMounted&&!p.state.isVisible||Br.isTouch||u&&u.type==="focus"?0:h0(p.props.delay,C?0:1,dr.delay)}function B(C){C===void 0&&(C=!1),P.style.pointerEvents=p.props.interactive&&!C?"":"none",P.style.zIndex=""+p.props.zIndex}function H(C,q,ie){if(ie===void 0&&(ie=!0),ue.forEach(function(Se){Se[C]&&Se[C].apply(Se,q)}),ie){var ke;(ke=p.props)[C].apply(ke,q)}}function le(){var C=p.props.aria;if(C.content){var q="aria-"+C.content,ie=P.id,ke=Na(p.props.triggerTarget||t);ke.forEach(function(Se){var Xt=Se.getAttribute(q);if(p.state.isVisible)Se.setAttribute(q,Xt?Xt+" "+ie:ie);else{var On=Xt&&Xt.replace(ie,"").trim();On?Se.setAttribute(q,On):Se.removeAttribute(q)}})}}function Ne(){if(!(Ee||!p.props.aria.expanded)){var C=Na(p.props.triggerTarget||t);C.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===Ve()?"true":"false"):q.removeAttribute("aria-expanded")})}}function It(){zt().removeEventListener("mousemove",g),Qf=Qf.filter(function(C){return C!==g})}function qe(C){if(!(Br.isTouch&&(c||C.type==="mousedown"))){var q=C.composedPath&&C.composedPath()[0]||C.target;if(!(p.props.interactive&&qx(P,q))){if(Na(p.props.triggerTarget||t).some(function(ie){return qx(ie,q)})){if(Br.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[p,C]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||Qn())}}}function Gt(){c=!0}function De(){c=!1}function un(){var C=zt();C.addEventListener("mousedown",qe,!0),C.addEventListener("touchend",qe,ps),C.addEventListener("touchstart",De,ps),C.addEventListener("touchmove",Gt,ps)}function Qn(){var C=zt();C.removeEventListener("mousedown",qe,!0),C.removeEventListener("touchend",qe,ps),C.removeEventListener("touchstart",De,ps),C.removeEventListener("touchmove",Gt,ps)}function Qe(C,q){ht(C,function(){!p.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&q()})}function Nt(C,q){ht(C,q)}function ht(C,q){var ie=qt().box;function ke(Se){Se.target===ie&&(p0(ie,"remove",ke),q())}if(C===0)return q();p0(ie,"remove",d),p0(ie,"add",ke),d=ke}function _n(C,q,ie){ie===void 0&&(ie=!1);var ke=Na(p.props.triggerTarget||t);ke.forEach(function(Se){Se.addEventListener(C,q,ie),f.push({node:Se,eventType:C,handler:q,options:ie})})}function mr(){Ye()&&(_n("touchstart",za,{passive:!0}),_n("touchend",ru,{passive:!0})),h4(p.props.trigger).forEach(function(C){if(C!=="manual")switch(_n(C,za),C){case"mouseenter":_n("mouseleave",ru);break;case"focus":_n(T4?"focusout":"blur",qa);break;case"focusin":_n("focusout",qa);break}})}function tu(){f.forEach(function(C){var q=C.node,ie=C.eventType,ke=C.handler,Se=C.options;q.removeEventListener(ie,ke,Se)}),f=[]}function za(C){var q,ie=!1;if(!(!p.state.isEnabled||Ga(C)||a)){var ke=((q=u)==null?void 0:q.type)==="focus";u=C,E=C.currentTarget,Ne(),!p.state.isVisible&&g4(C)&&Qf.forEach(function(Se){return Se(C)}),C.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?ie=!0:Wa(C),C.type==="click"&&(s=!ie),ie&&!ke&&uo(C)}}function nu(C){var q=C.target,ie=Ve().contains(q)||P.contains(q);if(!(C.type==="mousemove"&&ie)){var ke=_i().concat(P).map(function(Se){var Xt,On=Se._tippy,vs=(Xt=On.popperInstance)==null?void 0:Xt.state;return vs?{popperRect:Se.getBoundingClientRect(),popperState:vs,props:n}:null}).filter(Boolean);w4(ke,C)&&(It(),uo(C))}}function ru(C){var q=Ga(C)||p.props.trigger.indexOf("click")>=0&&s;if(!q){if(p.props.interactive){p.hideWithInteractivity(C);return}uo(C)}}function qa(C){p.props.trigger.indexOf("focusin")<0&&C.target!==Ve()||p.props.interactive&&C.relatedTarget&&P.contains(C.relatedTarget)||uo(C)}function Ga(C){return Br.isTouch?Ye()!==C.type.indexOf("touch")>=0:!1}function iu(){ou();var C=p.props,q=C.popperOptions,ie=C.placement,ke=C.offset,Se=C.getReferenceClientRect,Xt=C.moveTransition,On=Oe()?y0(P).arrow:null,vs=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Ve()}:t,F0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(uu){var _s=uu.state;if(Oe()){var AP=qt(),gp=AP.box;["placement","reference-hidden","escaped"].forEach(function(du){du==="placement"?gp.setAttribute("data-placement",_s.placement):_s.attributes.popper["data-popper-"+du]?gp.setAttribute("data-"+du,""):gp.removeAttribute("data-"+du)}),_s.attributes.popper={}}}},ho=[{name:"offset",options:{offset:ke}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Xt}},F0];Oe()&&On&&ho.push({name:"arrow",options:{element:On,padding:3}}),ho.push.apply(ho,q?.modifiers||[]),p.popperInstance=d0(vs,P,Object.assign({},q,{placement:ie,onFirstUpdate:h,modifiers:ho}))}function ou(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function zr(){var C=p.props.appendTo,q,ie=Ve();p.props.interactive&&C===Zx||C==="parent"?q=ie.parentNode:q=eM(C,[ie]),q.contains(P)||q.appendChild(P),p.state.isMounted=!0,iu()}function _i(){return Yf(P.querySelectorAll("[data-tippy-root]"))}function Wa(C){p.clearDelayTimeouts(),C&&H("onTrigger",[p,C]),un();var q=k(!0),ie=Te(),ke=ie[0],Se=ie[1];Br.isTouch&&ke==="hold"&&Se&&(q=Se),q?r=setTimeout(function(){p.show()},q):p.show()}function uo(C){if(p.clearDelayTimeouts(),H("onUntrigger",[p,C]),!p.state.isVisible){Qn();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(C.type)>=0&&s)){var q=k(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function Ka(){p.state.isEnabled=!0}function su(){p.hide(),p.state.isEnabled=!1}function au(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function cu(C){if(!p.state.isDestroyed){H("onBeforeUpdate",[p,C]),tu();var q=p.props,ie=Wx(t,Object.assign({},q,Hx(C),{ignoreAttributes:!0}));p.props=ie,mr(),q.interactiveDebounce!==ie.interactiveDebounce&&(It(),g=Bx(nu,ie.interactiveDebounce)),q.triggerTarget&&!ie.triggerTarget?Na(q.triggerTarget).forEach(function(ke){ke.removeAttribute("aria-expanded")}):ie.triggerTarget&&t.removeAttribute("aria-expanded"),Ne(),B(),W&&W(q,ie),p.popperInstance&&(iu(),_i().forEach(function(ke){requestAnimationFrame(ke._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[p,C])}}function lu(C){p.setProps({content:C})}function CP(){var C=p.state.isVisible,q=p.state.isDestroyed,ie=!p.state.isEnabled,ke=Br.isTouch&&!p.props.touch,Se=h0(p.props.duration,0,dr.duration);if(!(C||q||ie||ke)&&!Ve().hasAttribute("disabled")&&(H("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,Oe()&&(P.style.visibility="visible"),B(),un(),p.state.isMounted||(P.style.transition="none"),Oe()){var Xt=qt(),On=Xt.box,vs=Xt.content;f0([On,vs],0)}h=function(){var ho;if(!(!p.state.isVisible||l)){if(l=!0,P.offsetHeight,P.style.transition=p.props.moveTransition,Oe()&&p.props.animation){var mp=qt(),uu=mp.box,_s=mp.content;f0([uu,_s],Se),zx([uu,_s],"visible")}le(),Ne(),$x(m0,p),(ho=p.popperInstance)==null||ho.forceUpdate(),H("onMount",[p]),p.props.animation&&Oe()&&Nt(Se,function(){p.state.isShown=!0,H("onShown",[p])})}},zr()}}function bP(){var C=!p.state.isVisible,q=p.state.isDestroyed,ie=!p.state.isEnabled,ke=h0(p.props.duration,1,dr.duration);if(!(C||q||ie)&&(H("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,s=!1,Oe()&&(P.style.visibility="hidden"),It(),Qn(),B(!0),Oe()){var Se=qt(),Xt=Se.box,On=Se.content;p.props.animation&&(f0([Xt,On],ke),zx([Xt,On],"hidden"))}le(),Ne(),p.props.animation?Oe()&&Qe(ke,p.unmount):p.unmount()}}function TP(C){zt().addEventListener("mousemove",g),$x(Qf,g),g(C)}function DP(){p.state.isVisible&&p.hide(),p.state.isMounted&&(ou(),_i().forEach(function(C){C._tippy.unmount()}),P.parentNode&&P.parentNode.removeChild(P),m0=m0.filter(function(C){return C!==p}),p.state.isMounted=!1,H("onHidden",[p]))}function SP(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),tu(),delete t._tippy,p.state.isDestroyed=!0,H("onDestroy",[p]))}}function Wl(t,e){e===void 0&&(e={});var n=dr.plugins.concat(e.plugins||[]);C4();var r=Object.assign({},e,{plugins:n}),i=v4(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&R4(l,r);return u&&c.push(u),c},[]);return Xf(t)?a[0]:a}Wl.defaultProps=dr;Wl.setDefaultProps=x4;Wl.currentInput=Br;var $re=Object.assign({},jl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Wl.setDefaultProps({render:rM});var _0=Wl;var w0=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=qd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function Jf(t){return t instanceof tr}function Kl(t){return typeof t=="function"}function Ql(t){return typeof t=="string"}var E0=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},I0=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},N4=new G("Component context"),C0=(()=>{let e=class e{constructor(){this.injector=R(Je),this.appRef=R(xr),this.environmentInjector=R(Tt)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=ea(i.context),o=Je.create({providers:[{provide:N4,useValue:s.asReadonly()}],parent:o})),new w0({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new E0({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(Jf(r))return this.createTemplate(r,i);if(Kl(r))return this.createComponent(r,i);if(Ql(r))return new I0(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oM=!1,sM=!1;typeof window<"u"&&(oM="IntersectionObserver"in window,sM="ResizeObserver"in window);function iM(t,e={root:null,threshold:.3}){let n=uM(t);return new oe(r=>{if(!oM){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function aM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function F4(t){let e=uM(t);return cM(e).pipe(jp(150),re(()=>aM(e)))}function cM(t){return V4(t)}function V4(t){return new oe(e=>{if(!sM){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Yl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function lM(t){return(j4(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function L4(t){return U4(t)?"":typeof t=="string"?t:`${t}px`}function j4(t){return typeof t=="string"}function U4(t){return t==null}function uM(t){return t instanceof mt?t.nativeElement:t}var b0,T0=new WeakMap;function B4(t,e){return b0??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||T0.get(r.target)()})}),T0.set(t,e),b0.observe(t),()=>{T0.delete(t),b0.unobserve(t)}}var D0=new G("Tippy config",{providedIn:"root",factory(){return{}}}),dM=new G("TIPPY_REF"),$r=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Xe,this.destroyed=new kt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new kt,this.contentChanged=new kt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;Zf("content",r)&&this.contentChanged.next(),Zf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=N(N({},this.globalConfig.variations[o]),i)),Zf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),Zf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?iM(this.host).pipe(Wt(()=>this.isOverflowing$()),Xn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):iM(this.host).pipe(Xn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Xn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Xn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=B4(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(N(N({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Yl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=_0(this.host,Ae(N(N(N({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Yl(this.globalConfig)),Yl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of lM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);Ql(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!Ql(this.content)){let o=Je.create({providers:[{provide:dM,useValue:this.instance}],parent:this.injector});Kl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):Jf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,N({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Kl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),Ql(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){ks(this.host,"contextmenu").pipe(Xn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{ks(document.body,"keydown").pipe(bt(({code:r})=>r==="Escape"),Xn(ec(this.destroyed,this.visibleInternal.pipe(bt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){cM(this.host).pipe(Xn(ec(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=L4(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return Ic(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[F4(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(Wt(()=>new oe(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),re(()=>aM(this.host)))),ec(...r)}};e.\u0275fac=function(i){return new(i||e)(A(Nn),A(D0),A(Je),A(C0),A(Vt),A(Ie),A(mt))},e.\u0275dir=He({type:e,selectors:[["","tp",""]],inputs:{appendTo:[ne.None,"tpAppendTo","appendTo"],content:[ne.None,"tp","content"],delay:[ne.None,"tpDelay","delay"],duration:[ne.None,"tpDuration","duration"],hideOnClick:[ne.None,"tpHideOnClick","hideOnClick"],interactive:[ne.None,"tpInteractive","interactive"],interactiveBorder:[ne.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[ne.None,"tpMaxWidth","maxWidth"],offset:[ne.None,"tpOffset","offset"],placement:[ne.None,"tpPlacement","placement"],popperOptions:[ne.None,"tpPopperOptions","popperOptions"],showOnCreate:[ne.None,"tpShowOnCreate","showOnCreate"],trigger:[ne.None,"tpTrigger","trigger"],triggerTarget:[ne.None,"tpTriggerTarget","triggerTarget"],zIndex:[ne.None,"tpZIndex","zIndex"],animation:[ne.None,"tpAnimation","animation"],useTextContent:[ne.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Ln],isLazy:[ne.HasDecoratorInputTransform,"tpIsLazy","isLazy",Ln],variation:[ne.None,"tpVariation","variation"],isEnabled:[ne.None,"tpIsEnabled","isEnabled"],className:[ne.None,"tpClassName","className"],onlyTextOverflow:[ne.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Ln],staticWidthHost:[ne.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Ln],data:[ne.None,"tpData","data"],useHostWidth:[ne.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Ln],hideOnEscape:[ne.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Ln],detectChangesComponent:[ne.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[ne.None,"tpPopperWidth","popperWidth"],customHost:[ne.None,"tpHost","customHost"],isVisible:[ne.HasDecoratorInputTransform,"tpIsVisible","isVisible",Ln]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Ud,ti]});let t=e;return t})();function Zf(t,e){return t in e}var hM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Ae(N(N(N({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Je.create({providers:[{provide:dM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,Jf(i)?c.$viewOptions.context=N({$implicit:c.hide.bind(c)},o.context):Kl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,N(N({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Yl(this.globalConfig)),this.globalConfig.variations[s]),Yl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of lM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return _0(r,a)}};e.\u0275fac=function(i){return new(i||e)(L(D0),L(C0),L(Je))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fM(t={}){return ki([{provide:D0,useValue:t}])}var ao=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var H4=500,ln=H4+"ms ease",uie=Bn("skip",[at(":enter",[])]),ka=Bn("fade",[at(":enter",[me({opacity:0}),vt(ln,me({opacity:1}))]),at(":leave",[me({opacity:1,"pointer-events":"none"}),vt(ln,me({opacity:0}))])]),die=Bn("scalefade",[at(":enter",[me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),vt(ln,me({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),at(":leave",[me({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),vt(ln,me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),pM=Bn("crossfade",[at(":enter",[me({opacity:0}),vt(ln,me({opacity:1}))]),at(":leave",[me({opacity:1,"pointer-events":"none",position:"absolute"}),vt(ln,me({opacity:0}))])]),mM=Bn("enter",[at(":enter",[me({opacity:0}),vt(ln,me({opacity:1}))])]),hie=Bn("leave",[at(":leave",[me({opacity:1}),vt(ln,me({opacity:0}))])]),fie=Bn("hidden",[at("* => true",[me({opacity:"*"}),vt(ln,me({opacity:0}))]),at("true => *",[me({opacity:0}),vt(ln,me({opacity:"*"}))])]),pie=Bn("drawer2",[uA("0",me({height:0})),at("1 => void",[]),at("1 => *",[me({height:"*"}),vt(ln,me({height:0}))]),at("0 => void",[me({height:0}),vt(ln,me({height:0}))]),at("0 => *",[me({height:0}),vt(ln,me({height:"*"}))])]),gM=Bn("drawer",[at(":enter",[me({height:0,opacity:0}),vt(ln,me({height:"*",opacity:"*"}))]),at(":leave",[me({height:"*",opacity:"*"}),vt(ln,me({height:0,opacity:0}))])]);var S=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static difference(e,n,r){if(!this.isEmpty(e)&&!this.isEmpty(n)){let i=[];for(let o of e)n.some(s=>r(o,s))||i.push(o);return i}return[]}static unique(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var Fa=class extends ft{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,r){return typeof e=="function"?super.pipe(Hp(1)).subscribe(e,n,r):super.subscribe(e)}};var tt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Fa(!1),this.changes=new Fa(!1),this.errors=new Fa(!1)}initTheme(){this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dt=class{};var yi=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(r,i){if(r){let o=r.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(i?i.clientHeight:window.innerHeight)&&o.right<=(i?i.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function z4(t,e){if(t&1){let n=ee();m(0,"i",4),I("mousedown",function(i){x(n);let o=w();return M(o.onMouseDown(i))})("click",function(i){x(n);let o=w();return M(o.nextState(i))})("contextmenu",function(i){x(n);let o=w();return M(o.previousState(i))}),y()}if(t&2){let n=w();T("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function q4(t,e){if(t&1){let n=ee();m(0,"i",5),I("mousedown",function(i){x(n);let o=w();return M(o.onMouseDown(i))})("click",function(i){x(n);let o=w();return M(o.nextState(i))})("contextmenu",function(i){x(n);let o=w();return M(o.previousState(i))}),y()}}function G4(t,e){if(t&1){let n=ee();m(0,"i",6),I("mousedown",function(i){x(n);let o=w();return M(o.onMouseDown(i))})("click",function(i){x(n);let o=w();return M(o.nextState(i))})("contextmenu",function(i){x(n);let o=w();return M(o.previousState(i))}),y()}}var yM=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Xe}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){if(Math.abs(r.pageX-this.clickX)<yi.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(r.pageY-this.clickY)<yi.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}}previousState(r){if(Math.abs(r.pageX-this.clickX)<yi.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(r.pageY-this.clickY)<yi.MOUSE_MOVEMENT_TOLERANCE){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,z4,1,1,"i",1)(2,q4,1,0,"i",2)(3,G4,1,0,"i",3),y()),i&2&&(Ce("tri",o.tri),_(),T("ngIf",o.state==-1),_(),T("ngIf",o.state==0),_(),T("ngIf",o.state==1))},dependencies:[X,mn,We],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var Va=class{constructor(){this.images=[]}};var ep=class{};var tp=class extends ep{};var Pn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var La=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return In(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return In(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return In(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return In(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return In(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return In(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return In(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?In(this.http.post(e,n).pipe(re(r=>r?r.files:[]))):In(this.http.get(e).pipe(re(r=>r?r.files:[])))}};var ja=(()=>{let e=class e extends La{constructor(r){super(r),this.http=r,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return v(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield In(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return v(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(L(Fo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rt=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new ao(5e3),this.fullscreenVisible=ea(!1),this.filter=ea([]),this.target=ea(null),this.tagCounts={}}processData(){return v(this,null,function*(){let r=yield this.googleService.getData();return this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.heartsFilter=r.heartsFilter,this.bookmarksFilter=r.bookmarksFilter,this.settings=r.settings,this.groupSizeFilterMin=r.groupSizeFilterMin,this.groupSizeFilterMax=r.groupSizeFilterMax,this.comparison=r.comparison,this.tagGroups=r.tagGroups,this.tagGroups.forEach(i=>i.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase())),r})}processImages(r,i=this.dataFolderId,o=[],s={calls:0}){s.calls++,this.googleService.getFolderMetadata(i).then(a=>{for(let c of a.filter(l=>Pn.isFolder(l)))this.processImages(r,c.id,o,s);if(S.push(o,a.filter(c=>Pn.isImage(c)||Pn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth))),--s.calls==0){this.images=o,this.groups=r.groupProperties.map(c=>{let l=new Va;return l.images=this.images.filter(u=>c.imageIds.includes(u.id)),l.images.sort((u,d)=>c.imageIds.indexOf(u.id)-c.imageIds.indexOf(d.id)),l.images.forEach(u=>u.group=l),l}),this.refreshFilter(),this.target.set(S.getFirst(this.filter()));for(let c of S.difference(r.imageProperties,this.images,(l,u)=>l.id==u.id))console.log(c),console.log("This image does not exist, but has a data entry. Removing image entry from data."),S.remove(this.images,this.images.find(l=>l.id==c.id));this.refreshTagCounts(),this.applicationService.loading.next(!1)}})}metaToImage(r,i,o,s){let a=new tp;return a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"),Pn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),i?(a.heart=i.heart,a.bookmark=i.bookmark,a.tags=i.tags||[],a.likes=i.likes||0):(this.settings.autoBookmark&&(a.bookmark=!0),a.tags=[],a.likes=0),a}updateData(r=!1){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tags:i.tags,likes:i.likes})),groupProperties:this.groups.filter(i=>i.images?.length>1).map(i=>({imageIds:i.images.map(o=>o.id)})),tagGroups:this.tagGroups,heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax,comparison:this.comparison}).then(i=>{i||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})}),r&&this.updateDelay.complete()}refreshTagCounts(){if(Object.keys(this.tagCounts).length==0)for(let r of this.tagGroups)for(let i of r.tags)this.tagCounts[i.id]=0;else for(let r in this.tagCounts)this.tagCounts[r]=0;this.tagCounts._heart=this.images.filter(r=>r.heart).length,this.tagCounts._bookmark=this.images.filter(r=>r.bookmark).length;for(let r of this.images)for(let i of r.tags)this.tagCounts[i]++}setRandomTarget(){if(!S.isEmpty(this.filter())){let r,i=this.target();i?i.group?r=S.getRandom(this.filter(),i.group.images):r=S.getRandom(this.filter(),[i]):r=S.getRandom(this.filter()),r&&this.target.set(r)}}setRandomGroupTarget(){let r=this.target();r?.group&&this.target.set(S.getRandom(r.group.images,[r]))}refreshFilter(r){r?this.actuallyRefreshFilter(r):this.images.forEach(i=>this.actuallyRefreshFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}actuallyRefreshFilter(r){r.group?r.group.open?r.passesFilter=this.doesPassFilter(r):r.group.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)):r.passesFilter=this.doesPassFilter(r)}doesPassFilter(r){if(!r||this.heartsFilter==-1&&r.heart||this.heartsFilter==1&&!r.heart||this.bookmarksFilter==-1&&r.bookmark||this.bookmarksFilter==1&&!r.bookmark||this.settings.showVideos==-1&&Pn.isVideo(r))return!1;let i=r.group?r.group.images.length:0;if(i<this.groupSizeFilterMin||i>this.groupSizeFilterMax)return!1;let o;for(let a of this.tagGroups)if(o=a.tags.some(c=>r.tags.includes(c.id)),a.state==-1&&o||a.state==1&&!o)return!1;let s;for(let a of this.tagGroups.flatMap(c=>c.tags))if(s=r.tags.includes(a.id),a.state==-1&&s||a.state==1&&!s)return!1;return!0}toggleHeart(r){r.heart=!r.heart,this.tagCounts._heart=this.images.filter(i=>i.heart).length,this.refreshFilter(r),this.updateData()}toggleBookmark(r){r.bookmark=!r.bookmark,this.tagCounts._bookmark=this.images.filter(i=>i.bookmark).length,this.refreshFilter(r),this.updateData()}addTag(r,i){r.tags.includes(i)||r.tags.push(i),this.tagCounts[i]=this.images.filter(o=>o.tags.includes(i)).length,this.refreshFilter(r),this.updateData()}toggleTag(r,i){r.tags.includes(i)?S.remove(r.tags,i):r.tags.push(i),this.tagCounts[i]=this.images.filter(o=>o.tags.includes(i)).length,this.refreshFilter(r),this.updateData()}like(r){r.likes++,this.updateData()}dislike(r){r.likes>0&&(r.likes--,this.updateData())}delete(r,i,o=!0){return v(this,null,function*(){if(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))return;this.applicationService.loading.next(!0);let s;if(r.group?(s=S.getNext(r.group.images,r),s||(s=S.getPrevious(r.group.images,r))):(s=S.getNext(this.masonryImages,this.masonryTargetReference),s||(s=S.getPrevious(this.masonryImages,this.masonryTargetReference))),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),S.remove(this.images,this.images.find(a=>a.id==r.id)),r.group&&(r.group.images.length>2?S.remove(r.group.images,r):(r.group.images.forEach(a=>delete a.group),S.remove(this.groups,r.group))),this.comparison!=null)for(let a of Object.values(this.comparison))a.includes(r.id)&&S.remove(a,r.id);this.refreshFilter(),this.target.set(s),this.refreshTagCounts(),this.updateData(!0),this.applicationService.loading.next(!1)})}};e.\u0275fac=function(i){return new(i||e)(L(N_),L(tt),L(ja),L(nt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vM=(()=>{let e=class e extends dt{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.refreshFilter(),this.needsDataUpdate&&this.stateService.updateData()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(A(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.close(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},standalone:!0,features:[Be,Y],decls:8,vars:2,consts:[[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"app-switch",1),I("stateChange",function(a){return o.onShowVideosStateChange(a)}),y(),m(2,"span",2),F(3,"Show Videos"),y()(),m(4,"div",0)(5,"app-switch",3),I("stateChange",function(a){return o.onAutoBookmarkStateChange(a)}),y(),m(6,"span",2),F(7,"Auto Bookmark"),y()()),i&2&&(_(),T("state",o.stateService.settings.showVideos),_(4),T("state",o.stateService.settings.autoBookmark))},dependencies:[X,yM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var W4=["content"];function K4(t,e){if(t&1){let n=ee();m(0,"div",4)(1,"span"),F(2),y(),m(3,"i",5),I("click",function(){x(n);let i=w();return M(i.close())}),y()()}if(t&2){let n=w();_(2),pe(n.contentInstance.configuration.title)}}function Q4(t,e){t&1&&(m(0,"div",6),Hg(1,null,7),y())}function Y4(t,e){if(t&1){let n=ee();m(0,"i",11),I("click",function(){x(n);let i=w(2).$implicit;return M(i.click&&i.click())}),y()}if(t&2){let n=w(2).$implicit,r=w();bb("icon-button "+r.getIconClass(n)),Ce("disabled",r.isDisabled(n))}}function X4(t,e){if(t&1){let n=ee();m(0,"div",12),I("click",function(){x(n);let i=w(2).$implicit;return M(i.click&&i.click())}),F(1),y()}if(t&2){let n=w(2).$implicit,r=w();Ce("disabled",r.isDisabled(n)),_(),pe(r.getText(n))}}function J4(t,e){if(t&1&&(on(0),z(1,Y4,1,4,"i",9)(2,X4,2,3,"div",10),sn()),t&2){let n=w().$implicit;_(),T("ngIf",n.iconClass),_(),T("ngIf",n.text)}}function Z4(t,e){if(t&1&&(on(0),z(1,J4,3,2,"ng-container",8),sn()),t&2){let n=e.$implicit,r=w();_(),T("ngIf",!r.isHidden(n))}}var _M=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(r=>this.resolve=r)}ngAfterViewInit(){if(this.contentComponentType){let r=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=r.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>r.destroy(),250)}),this.inputs)for(let[i,o]of Object.entries(this.inputs))r.setInput(i,o);this.visible=!0,r.changeDetectorRef.detectChanges()}else{let r=this.inputs.buttons;for(let i of r)if(i.click){let o=i.click;i.click=()=>{o(),this.resolve(!0)}}else i.click=()=>this.resolve(!1);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:r},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let i of r)i.text&&typeof i.text=="function"&&(i.text=i.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-dialog-base"]],viewQuery:function(i,o){if(i&1&&Rb(W4,5,Vt),i&2){let s;zg(s=qg())&&(o.containerRef=s.first)}},hostVars:5,hostBindings:function(i,o){i&1&&I("keydown.escape",function(a){return o.close(a)},!1,Ue),i&2&&(_c("@overlayFade",o.isVisible),Ce("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[Y],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&(z(0,K4,4,1,"div",0)(1,Q4,3,0,"div",1),m(2,"div",2),z(3,Z4,2,1,"ng-container",3),y()),i&2&&(T("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),_(),T("ngIf",o.contentComponentType),_(2),T("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[X,Ge,We],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[Bn("overlayFade",[at("* => visible",[me({opacity:0}),vt("250ms ease",me({opacity:1}))]),at("* => hidden",[me({opacity:1}),vt("250ms ease",me({opacity:0}))])])]}});let t=e;return t})();function eq(t,e){if(t&1&&(m(0,"span"),F(1),y()),t&2){let n=e.$implicit;_(),pe(n)}}var wM=(()=>{let e=class e extends dt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},standalone:!0,features:[Be,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,eq,2,1,"span",1),y()),i&2&&(_(),T("ngForOf",o.messages))},dependencies:[X,Ge],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var xM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(A(ri),A(mt))},e.\u0275dir=He({type:e});let t=e;return t})(),O0=(()=>{let e=class e extends xM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275dir=He({type:e,features:[Be]});let t=e;return t})(),op=new G("");var tq={provide:op,useExisting:xo(()=>Kn),multi:!0};function nq(){let t=oi()?oi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var rq=new G(""),Kn=(()=>{let e=class e extends xM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!nq())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(A(ri),A(mt),A(rq,8))},e.\u0275dir=He({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[wc([tq]),Be]});let t=e;return t})();var iq=new G(""),oq=new G("");function MM(t){return t!=null}function PM(t){return Ro(t)?$e(t):t}function OM(t){let e={};return t.forEach(n=>{e=n!=null?N(N({},e),n):e}),Object.keys(e).length===0?null:e}function RM(t,e){return e.map(n=>n(t))}function sq(t){return!t.validate}function NM(t){return t.map(e=>sq(e)?e:n=>e.validate(n))}function aq(t){if(!t)return null;let e=t.filter(MM);return e.length==0?null:function(n){return OM(RM(n,e))}}function kM(t){return t!=null?aq(NM(t)):null}function cq(t){if(!t)return null;let e=t.filter(MM);return e.length==0?null:function(n){let r=RM(n,e).map(PM);return Lp(r).pipe(re(OM))}}function FM(t){return t!=null?cq(NM(t)):null}function EM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lq(t){return t._rawValidators}function uq(t){return t._rawAsyncValidators}function A0(t){return t?Array.isArray(t)?t:[t]:[]}function rp(t,e){return Array.isArray(t)?t.includes(e):t===e}function IM(t,e){let n=A0(e);return A0(t).forEach(i=>{rp(n,i)||n.push(i)}),n}function CM(t,e){return A0(e).filter(n=>!rp(t,n))}var ip=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},x0=class extends ip{get formDirective(){return null}get path(){return null}},Zl=class extends ip{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},M0=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},dq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Toe=Ae(N({},dq),{"[class.ng-submitted]":"isSubmitted"}),Hr=(()=>{let e=class e extends M0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(A(Zl,2))},e.\u0275dir=He({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Be]});let t=e;return t})();var Xl="VALID",np="INVALID",Ua="PENDING",Jl="DISABLED";function hq(t){return(sp(t)?t.validators:t)||null}function fq(t){return Array.isArray(t)?kM(t):t||null}function pq(t,e){return(sp(e)?e.asyncValidators:t)||null}function mq(t){return Array.isArray(t)?FM(t):t||null}function sp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var P0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xl}get invalid(){return this.status===np}get pending(){return this.status==Ua}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(IM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(IM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CM(e,this._rawAsyncValidators))}hasValidator(e){return rp(this._rawValidators,e)}hasAsyncValidator(e){return rp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ua,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(r=>{r.disable(Ae(N({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this._forEachChild(r=>{r.enable(Ae(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xl||this.status===Ua)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator=!0;let n=PM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?np:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(np)?np:Xl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mq(this._rawAsyncValidators)}};var VM=new G("CallSetDisabledState",{providedIn:"root",factory:()=>R0}),R0="always";function gq(t,e){return[...e.path,t]}function yq(t,e,n=R0){_q(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),wq(t,e),Iq(t,e),Eq(t,e),vq(t,e)}function bM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function _q(t,e){let n=lq(t);e.validator!==null?t.setValidators(EM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=uq(t);e.asyncValidator!==null?t.setAsyncValidators(EM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bM(e._rawValidators,i),bM(e._rawAsyncValidators,i)}function wq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LM(t,e)})}function Eq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Iq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Cq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bq(t){return Object.getPrototypeOf(t.constructor)===O0}function Tq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Kn?n=o:bq(o)?r=o:i=o}),i||r||n||null}function TM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Dq=class extends P0{constructor(e=null,n,r){super(hq(n),pq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){TM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){TM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Sq={provide:Zl,useExisting:xo(()=>pr)},SM=Promise.resolve(),pr=(()=>{let e=class e extends Zl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Dq,this._registered=!1,this.name="",this.update=new Xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Tq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Cq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){yq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){SM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ln(i);SM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?gq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(A(x0,9),A(iq,10),A(oq,10),A(op,10),A(Vi,8),A(VM,8))},e.\u0275dir=He({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ne.None,"disabled","isDisabled"],model:[ne.None,"ngModel","model"],options:[ne.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wc([Sq]),Be,ti]});let t=e;return t})();var Aq={provide:op,useExisting:xo(()=>ap),multi:!0};function jM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function xq(t){return t.split(":")[0]}var ap=(()=>{let e=class e extends O0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=jM(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=xq(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275dir=He({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[wc([Aq]),Be]});let t=e;return t})(),UM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(jM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(A(mt),A(ri),A(ap,9))},e.\u0275dir=He({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Mq={provide:op,useExisting:xo(()=>BM),multi:!0};function AM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Pq(t){return t.split(":")[0]}var BM=(()=>{let e=class e extends O0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Pq(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275dir=He({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[wc([Mq]),Be]});let t=e;return t})(),$M=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(AM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(AM(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(A(mt),A(ri),A(BM,9))},e.\u0275dir=He({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Oq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=tn({});let t=e;return t})();var vn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:VM,useValue:r.callSetDisabledState??R0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=en({type:e}),e.\u0275inj=tn({imports:[Oq]});let t=e;return t})();var Et=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var HM=(()=>{let e=class e extends dt{ngOnInit(){this.value=this.defaultValue,this.configuration={title:this.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!Et.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-input-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},inputs:{title:"title",placeholder:"placeholder",defaultValue:"defaultValue",positiveButtonText:"positiveButtonText"},standalone:!0,features:[Be,Y],decls:1,vars:2,consts:[[3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(m(0,"input",0),Vn("ngModelChange",function(a){return ir(o.value,a)||(o.value=a),a}),y()),i&2&&(Fn("ngModel",o.value),T("placeholder",o.placeholder))},dependencies:[X,vn,Kn,Hr,pr],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Rq(t,e){if(t&1&&(m(0,"span"),F(1),y()),t&2){let n=e.$implicit;_(),pe(n)}}var zM=(()=>{let e=class e extends dt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-message-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},inputs:{title:"title",messages:"messages"},standalone:!0,features:[Be,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,Rq,2,1,"span",1),y()),i&2&&(_(),T("ngForOf",o.messages))},dependencies:[X,Ge],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var nt=(()=>{let e=class e{constructor(r,i){this.appRef=r,this.injector=i,this.stack=[]}openSettings(){return this.create(vM)}createMessage(r,i){return this.create(zM,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(wM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(HM,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i,o=!0,s="center"){let a=qd(_M,{environmentInjector:this.injector}),c=a.instance;return c.contentComponentType=r,c.inputs=i,c.blurOverlay=o,c.position=s,c.active=()=>S.isLast(this.stack,c),c.result.then(()=>{S.remove(this.stack,c),setTimeout(()=>{this.appRef.detachView(a.hostView),a.destroy()},250)}),this.stack.push(c),this.appRef.attachView(a.hostView),document.body.firstElementChild.appendChild(a.location.nativeElement),a.changeDetectorRef.detectChanges(),c.result}};e.\u0275fac=function(i){return new(i||e)(L(xr),L(Tt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nq(t,e){t&1&&ae(0,"div",3),t&2&&T("@fade",void 0)}function kq(t,e){t&1&&ae(0,"span",4),t&2&&T("@fade",void 0)}var qM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new ao(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||S.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(A(tt),A(nt))},e.\u0275cmp=K({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(z(0,Nq,1,1,"div",0),ae(1,"div",1),z(2,kq,1,1,"span",2),ae(3,"router-outlet")),i&2&&(T("ngIf",o.isBlurOverlayVisible()),_(),ii("background-color",o.getLoadingBarColor()),_(),T("ngIf",o.applicationService.loading.value))},dependencies:[X,We,qw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[ka]}});let t=e;return t})();function Fq(t,e){if(t&1){let n=ee();m(0,"span",6),I("click",function(){let o=x(n).$implicit,s=w(2);return M(s.onDataFileClick(o))}),F(1),y()}if(t&2){let n=e.$implicit;_(),pe(n.name.substring(0,n.name.length-10))}}function Vq(t,e){if(t&1){let n=ee();m(0,"span",6),I("click",function(){let o=x(n).$implicit,s=w(2);return M(s.onFolderClick(o))}),F(1),y()}if(t&2){let n=e.$implicit;_(),pe(n.name)}}function Lq(t,e){if(t&1&&(m(0,"div",4),z(1,Fq,2,1,"span",5)(2,Vq,2,1,"span",5),y()),t&2){let n=w();_(),T("ngForOf",n.dataFiles),_(),T("ngForOf",n.folders)}}var GM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.next(!0)}ngOnInit(){return v(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Pn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.next(!1)})}onDataFileClick(r){this.applicationService.loading.next(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return v(this,null,function*(){this.applicationService.loading.next(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(A(yn),A(ja),A(tt))},e.\u0275cmp=K({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,Lq,3,2,"div",1),m(2,"div",2)(3,"i",3),I("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),y()()()),i&2&&(Ce("opacity-1",!o.applicationService.loading.value),_(),T("ngIf",!0),_(2),T("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[X,mn,Ge,We],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var WM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new N0,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(A(Vt),A(tr))},e.\u0275dir=He({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),N0=class{};var KM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var QM=(()=>{let e=class e extends dt{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Are you sure you want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(r=>{if(r){let i=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)S.remove(o.tags,i);S.remove(this.stateService.tagGroups,this.group),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Et.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(r=>this.groupName==r.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((r,i)=>r.name.localeCompare(i.name)),this.stateService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)},inputs:{group:"group"},standalone:!0,features:[Be,Y],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&(m(0,"span",0),F(1,"Group Name"),y(),m(2,"input",1),Vn("ngModelChange",function(a){return ir(o.groupName,a)||(o.groupName=a),a}),y()),i&2&&(_(2),Fn("ngModel",o.groupName))},dependencies:[X,vn,Kn,Hr,pr],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function jq(t,e){if(t&1&&(m(0,"option",7),F(1),y()),t&2){let n=e.$implicit;T("ngValue",n),_(),pe(n.name)}}var cp=(()=>{let e=class e extends dt{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.currentGroup=this.group,this.canDelete=this.currentGroup!=null,this.tag&&(this.tagName=this.tag.name)}editGroup(r){this.dialogService.create(QM,{group:r}).then(i=>{i?this.currentGroup.name=i.name:r&&!this.stateService.tagGroups.includes(r)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Are you sure you want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(r=>{if(r){for(let i of this.stateService.images)S.remove(i.tags,this.tag.id);S.remove(this.group.tags,this.tag),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Et.isEmpty(this.tagName)?!1:this.tag&&this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(r=>this.tagName==r.name)==null}submit(){this.canSubmit()&&(this.tag||(this.tag={id:KM(),name:"",state:0,lowerCaseName:""}),this.tag.name=this.tagName,this.tag.lowerCaseName=this.tagName.toLowerCase(),this.group&&this.group!=this.currentGroup&&S.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(r=>r.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((r,i)=>r.name.localeCompare(i.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)},inputs:{group:"group",tag:"tag",tagName:"tagName"},standalone:!0,features:[Be,Y],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(i,o){i&1&&(m(0,"span",0),F(1,"Group"),y(),m(2,"div",1)(3,"select",2),Vn("ngModelChange",function(a){return ir(o.currentGroup,a)||(o.currentGroup=a),a}),z(4,jq,2,2,"option",3),y(),m(5,"div",4)(6,"i",5),I("click",function(){return o.editGroup(o.currentGroup)}),y(),m(7,"i",6),I("click",function(){return o.editGroup()}),y()()(),m(8,"span",0),F(9,"Name"),y(),m(10,"div",1)(11,"input",2),Vn("ngModelChange",function(a){return ir(o.tagName,a)||(o.tagName=a),a}),y()()),i&2&&(_(3),Fn("ngModel",o.currentGroup),_(),T("ngForOf",o.stateService.tagGroups),_(2),Ce("disabled",!o.currentGroup),_(5),Fn("ngModel",o.tagName))},dependencies:[X,Ge,vn,UM,$M,Kn,ap,Hr,pr],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Uq(t,e){if(t&1&&(m(0,"div",26)(1,"span"),F(2),y()()),t&2){let n=e.$implicit,r=w(2),i=Kt(2);T("tp",i)("tpData",n),_(2),pe(r.getTag(n).name)}}function Bq(t,e){if(t&1){let n=ee();m(0,"div",27)(1,"i",3),I("click",function(){x(n);let i=w().ngVar,o=w();return M(o.moveTargetGroupLeft(i))}),y(),m(2,"i",28),I("click",function(){x(n);let i=w().ngVar,o=w();return M(o.moveTargetGroupRight(i))}),y()()}if(t&2){let n=w().ngVar,r=w();_(),Ce("disabled",r.isFirstGroupImage(n)),_(),Ce("disabled",r.isLastGroupImage(n))}}function $q(t,e){if(t&1){let n=ee();m(0,"i",29),I("click",function(){x(n);let i=w(2);return M(i.stateService.setRandomGroupTarget())}),y()}}function Hq(t,e){if(t&1&&ae(0,"iframe",33),t&2){let n=w().$implicit;Bd("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),T("src",n.contentLink,OC)}}function zq(t,e){if(t&1){let n=ee();m(0,"img",35),I("load",function(){x(n);let i=w(4);return M(i.loadingC=!1)}),y()}if(t&2){let n=w(2).$implicit;T("src",n.contentLink,bn)}}function qq(t,e){if(t&1){let n=ee();on(0),m(1,"img",34),I("click",function(){x(n);let i=w().$implicit,o=w(2);return M(o.onImageClick(i))}),y(),m(2,"img",35),I("load",function(){x(n);let i=w(3);return M(i.loadingT=!1)}),y(),z(3,zq,1,1,"img",36),sn()}if(t&2){let n=w().$implicit,r=w(2);_(),T("src",r.getSrc(n),bn),_(),T("src",n.thumbnailLink,bn),_(),T("ngIf",n.contentLink)}}function Gq(t,e){if(t&1&&(m(0,"div",30),z(1,Hq,1,3,"iframe",31)(2,qq,4,3,"ng-container",32),y()),t&2){let n=w(2);T("@fade",void 0),_(),T("ngIf",n.video),_(),T("ngIf",!n.video)}}function Wq(t,e){if(t&1){let n=ee();on(0),m(1,"div",2)(2,"div")(3,"i",3),I("click",function(){x(n);let i=w();return M(i.stateService.fullscreenVisible.set(!1))}),y()(),m(4,"div")(5,"i",4),I("click",function(){let o=x(n).ngVar,s=w();return M(s.stateService.toggleHeart(o))}),y(),m(6,"i",5),I("click",function(){let o=x(n).ngVar,s=w();return M(s.stateService.toggleBookmark(o))}),y(),m(7,"span",6),I("click",function(){let o=x(n).ngVar,s=w();return M(s.stateService.like(o))})("contextmenu",function(i){let s=x(n).ngVar,a=w();return i.preventDefault(),M(a.stateService.dislike(s))}),F(8),y()()(),m(9,"div",7)(10,"div",8)(11,"div",9)(12,"i",10),I("click",function(){let o=x(n).ngVar,s=w();return M(s.stateService.delete(o,!0))}),y(),m(13,"i",11),I("click",function(){let o=x(n).ngVar,s=w();return M(s.stateService.delete(o,!1))}),y()(),m(14,"div",12)(15,"div",13),z(16,Uq,3,3,"div",14),m(17,"div",15)(18,"div",16),ae(19,"input",17),m(20,"input",18,19),I("input",function(i){x(n);let o=w();return M(o.onTagInput(i))})("keypress",function(i){x(n);let o=w();return M(o.onTagInputSubmit(i))}),y()(),m(22,"i",20),I("click",function(){x(n);let i=w();return M(i.onTagInputSubmit())}),y()()(),z(23,Bq,3,4,"div",21),y(),m(24,"div",22),z(25,$q,1,0,"i",23),m(26,"i",24),I("click",function(){x(n);let i=w();return M(i.stateService.setRandomTarget())}),y()()()(),z(27,Gq,3,3,"div",25),sn()}if(t&2){let n=e.ngVar,r=Kt(21),i=w();_(5),T("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),_(),T("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),_(2),pe(n==null?null:n.likes),_(8),T("ngForOf",n==null?null:n.tags),_(3),T("placeholder",(i.tagMatch==null?null:i.tagMatch.name)||(r.value.length>0?"":"Tag Search")),_(4),T("ngIf",n==null?null:n.group),_(2),T("ngIf",n==null?null:n.group),_(2),T("ngForOf",i.crossfadeHelper)}}function Kq(t,e){if(t&1){let n=ee();m(0,"div",37)(1,"span",38),I("click",function(){let o=x(n).data,s=w();return M(s.editTag(o))}),F(2,"Edit"),y(),m(3,"span",38),I("click",function(){let o=x(n).data,s=w();return M(s.removeTag(o))}),F(4,"Remove"),y()()}}var YM=(()=>{let e=class e{constructor(r,i,o){this.applicationService=r,this.stateService=i,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,No(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(r){r&&this.crossfadeHelper[0]!=r&&(this.crossfadeHelper[0]=r,Pn.isVideo(r)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return S.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return S.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(S.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(S.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}getTag(r){for(let i of this.stateService.tagGroups)for(let o of i.tags)if(o.id==r)return o}editTag(r){let i=this.getTag(r);this.dialogService.create(cp,{group:this.stateService.tagGroups.find(o=>o.tags.includes(i)),tag:i})}removeTag(r){this.stateService.toggleTag(this.stateService.target(),r)}createTag(){this.dialogService.create(cp)}onTagInput(r){let i=r.target.value.toLowerCase();if(i.length>0){for(let o of this.stateService.tagGroups)for(let s of o.tags)if(s.lowerCaseName.startsWith(i)){this.tagMatch=s,r.target.value=s.name.substring(0,i.length);return}}this.tagMatch=null}onTagInputSubmit(r){return v(this,null,function*(){if(!r||r.key==="Enter"){let i=document.getElementById("tag-input");this.tagMatch||(this.tagMatch=yield this.dialogService.create(cp,{tagName:i.value})),this.tagMatch&&(this.stateService.addTag(this.stateService.target(),this.tagMatch.id),this.tagMatch=null,i.value="")}})}};e.\u0275fac=function(i){return new(i||e)(A(tt),A(Rt),A(nt))},e.\u0275cmp=K({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[Y],decls:3,vars:1,consts:[[4,"ngVar"],["tagHoverMenu",""],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[1,"buttons"],[2,"justify-content","start"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"flex","column","center"],[1,"tags"],["class","tag-bubble","tpVariation","hovermenu",3,"tp","tpData",4,"ngFor","ngForOf"],[1,"tag-bubble",2,"display","flex","position","relative","padding-right","0"],[2,"width","100%"],[2,"position","absolute","width","100%","border","0","padding","0","user-select","none","pointer-events","none",3,"placeholder"],["id","tag-input","autocomplete","off",2,"position","relative","width","100%","border","0","padding","0",3,"input","keypress"],["tagInput",""],[1,"icon-button","fa-solid","fa-plus",3,"click"],["class","flex",4,"ngIf"],[2,"justify-content","end"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group",3,"click",4,"ngIf"],["tp","Random Image",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],["tpVariation","hovermenu",1,"tag-bubble",3,"tp","tpData"],[1,"flex"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],["tp","Random Image from Group",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"],[1,"tippy-hover-menu-container"],[1,"tippy-hover-menu-button",3,"click"]],template:function(i,o){i&1&&z(0,Wq,28,8,"ng-container",0)(1,Kq,5,0,"ng-template",null,1,$d),i&2&&T("ngVar",o.stateService.target())},dependencies:[X,mn,Ge,We,WM,$r],styles:['[_nghost-%COMP%]{z-index:20;background-color:#000000e6;transition:.5s}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;top:0;right:0;left:0;display:flex;justify-content:space-between;pointer-events:none}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;right:0;bottom:0;left:0;pointer-events:none;display:flex;flex-direction:column}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:.3333333333rem}}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag-bubble[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;padding:0 .3333333333rem;background-color:var(--color-overlay);cursor:default}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[ka]}});let t=e;return t})();var ms=class{static getNearestImageUp(e,n){let r=e.indexOf(n);for(;r>0;)if(e[--r].left==n.left)return e[r];return S.getLast(e.filter(i=>i.left==n.left))}static getNearestImageRight(e,n){let r=n.top+n.height*.5,i=[...new Set(e.flatMap(u=>u.left))],o=i.indexOf(n.left),s=o==i.length-1?0:o+1,a=i[s],c=e.filter(u=>u.left==a);return c.find(u=>u.top<r&&u.top+u.height>r)||S.getLast(c)}static getNearestImageDown(e,n){let r=e.indexOf(n);for(;r<e.length-1;)if(e[++r].left==n.left)return e[r];return S.getFirst(e.filter(i=>i.left==n.left))}static getNearestImageLeft(e,n){let r=n.top+n.height*.5,i=[...new Set(e.flatMap(u=>u.left))],o=i.indexOf(n.left),s=o==0?i.length-1:o-1,a=i[s],c=e.filter(u=>u.left==a);return c.find(u=>u.top<r&&u.top+u.height>r)||S.getLast(c)}};var lp=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Xe}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(A(mt))},e.\u0275dir=He({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var gs=class t{static getBetterThan(e,n,r,i=[]){for(let o of r[e])S.push(i,o),t.getBetterThan(o,n,r,i);return i}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let r=[],i=e;for(;i;)r.push(i),i.directlyBetterThan.length==1?i=i.directlyBetterThan[0]:i=null;let o=[];return n.filter(s=>!r.includes(s)).forEach(s=>o.push([s,s.getBetterThan().length])),o.sort((s,a)=>a[1]-s[1]),S.push(r,o.map(s=>s[0])),r}};var up=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)S.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var Ba=class{constructor(e,n,r){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(i=>new up(n(i),i)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),r&&Object.keys(r).length>0)for(let i of this.contenders)i.directlyBetterThan=r[i.id]?.map(o=>this.contenders.find(s=>s.id==o))||[];this.first=gs.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=gs.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=gs.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,r,i;do{for(let o of this.contenders)i=o.directlyBetterThan.filter(s=>!e.includes(s)),i.length>n&&(n=i.length,r=i,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=r[0],s=r[1];o.isBetterThan(s)?(S.remove(this.resolvingTiesFor.directlyBetterThan,s),S.push(o.directlyBetterThan,s),this.nextComparison()):s.isBetterThan(o)?(S.remove(this.resolvingTiesFor.directlyBetterThan,o),S.push(s.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,s],this.history.unshift(o,s),this.leaderboard=gs.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(S.push(this.winnersQueue,e),S.push(this.losersQueue,n),S.push(e.directlyBetterThan,n),this.queue.length<=1){let r=this.queue.shift();r&&this.winnersQueue.unshift(r),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":S.push(this.winnersQueue,e),S.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":S.push(this.losersQueue,n),S.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":S.remove(this.resolvingTiesFor.directlyBetterThan,n),S.push(e.directlyBetterThan,n);break}this.contenders.forEach(r=>r.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Qq(t,e){if(t&1){let n=ee();m(0,"div",4)(1,"div",5),I("click",function(){x(n);let i=w();return M(i.onImageClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),ae(2,"img",6),y(),ae(3,"div",7),m(4,"div",5),I("click",function(){x(n);let i=w();return M(i.onImageClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),ae(5,"img",6),y()()}if(t&2){let n=w();_(2),T("src",n.tournament.currentComparison[0].object.thumbnailLink,bn),_(3),T("src",n.tournament.currentComparison[1].object.thumbnailLink,bn)}}function Yq(t,e){if(t&1&&(m(0,"div",8),ae(1,"img",6),y()),t&2){let n=e.$implicit;_(),T("src",n.object.thumbnailLink,bn)}}var XM=(()=>{let e=class e extends dt{constructor(r){super(),this.stateService=r,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new Ba(this.images,r=>r.id,this.stateService.comparison)}onImageClick(r,i){this.tournament.handleUserInput(r,i)}reset(){this.tournament.reset()}save(){let r={};for(let i of this.tournament.contenders)r[i.id]=i.directlyBetterThan.map(o=>o.id);this.stateService.comparison=r,this.stateService.updateData(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(i){return new(i||e)(A(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[Be,Y],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(i,o){i&1&&(z(0,Qq,6,2,"div",0),ae(1,"div",1),m(2,"div",2),z(3,Yq,2,1,"div",3),y()),i&2&&(T("ngIf",o.tournament.currentComparison),_(3),T("ngForOf",o.tournament.leaderboard))},dependencies:[X,Ge,We],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var $a=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(A(Vt))},e.\u0275dir=He({type:e,selectors:[["","dragdrop",""]],inputs:{object:[ne.None,"dragdrop","object"],array:[ne.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Xq(t,e){if(t&1){let n=ee();m(0,"div",4),I("click",function(){let o=x(n).$implicit,s=w();return M(s.target=o)}),ae(1,"img",5),y()}if(t&2){let n=e.$implicit,r=w();Ce("active",n==r.target),T("dragdrop",n)("dragdropParent",r.images),_(),T("src",n.thumbnailLink,bn)}}var JM=(()=>{let e=class e extends dt{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.target=S.getFirst(this.images)}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=rn(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-group-order"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},inputs:{images:"images"},standalone:!0,features:[Be,Y],decls:4,vars:2,consts:[[1,"image-container"],[1,"image-content",3,"src"],[1,"results"],["class","image-container",3,"active","dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"image",3,"src"]],template:function(i,o){i&1&&(m(0,"div",0),ae(1,"img",1),y(),m(2,"div",2),z(3,Xq,2,5,"div",3),y()),i&2&&(_(),T("src",o.target.contentLink,bn),_(2),T("ngForOf",o.images))},dependencies:[X,Ge,$a],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{min-height:0;display:flex;justify-content:center}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{max-width:100%;padding:.3333333333rem .3333333333rem 0;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:120px;min-height:120px;padding:.3333333333rem;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container.active[_ngcontent-%COMP%]{outline:.1666666667rem solid var(--color-secondary);outline-offset:-.1666666667rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var dp=(()=>{let e=class e{constructor(r,i,o){this.stateService=r,this.dialogService=i,this.tippyService=o}editGroup(r){let i;r?r.group?(i=r.group.open,r.group.open=!0,this.stateService.editingGroup=r.group.images.slice()):this.stateService.editingGroup=[r]:this.stateService.editingGroup=[];let o=[{text:()=>"Save Group: "+this.stateService.editingGroup?.length+" images",click:()=>null},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(s=>{if(s)if(this.stateService.editingGroup.length>1){if(r?.group)r.group.images.forEach(a=>a.group=null),r.group.images=this.stateService.editingGroup,r.group.images.forEach(a=>a.group=r.group);else{let a=new Va;a.images=this.stateService.editingGroup,a.images.forEach(c=>c.group=a),this.stateService.groups.push(a)}this.stateService.updateData()}else r?.group&&(r.group.images.forEach(a=>a.group=null),S.remove(this.stateService.groups,r.group));r?.group&&(r.group.open=i),this.stateService.editingGroup=null,r?.group&&r.group.images.forEach(a=>this.stateService.refreshFilter(a))}),r?.group&&r.group.images.forEach(s=>this.stateService.refreshFilter(s))}reorderGroup(r){r&&r.group&&this.dialogService.create(JM,{images:r.group.images.slice()}).then(i=>{if(i){let o=new Map;i.forEach((s,a)=>o.set(s.id,a)),r.group.images.sort((s,a)=>o.get(s.id)-o.get(a.id)),this.stateService.refreshFilter(),this.stateService.updateData()}})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(L(Rt),L(nt),L(hM))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eP=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.dialogService=o,this.galleryService=s}openImageComparison(){this.dialogService.create(XM,{images:S.shuffle(this.stateService.images.slice())})}};e.\u0275fac=function(i){return new(i||e)(A(tt),A(Rt),A(nt),A(dp))},e.\u0275cmp=K({type:e,selectors:[["app-header"]],standalone:!0,features:[Y],decls:7,vars:1,consts:[[1,"header-start"],["tp","Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"i",1),I("click",function(){return o.openImageComparison()}),y(),m(2,"i",2),I("click",function(){return o.galleryService.editGroup()}),y()(),ae(3,"div",3),m(4,"div",4)(5,"i",5),I("click",function(){return o.applicationService.toggleTheme()}),y(),m(6,"i",6),I("click",function(){return o.dialogService.openSettings()}),y()()),i&2&&(_(5),T("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[X,mn,$r],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:2rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{flex:1;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Jq(t,e){if(t&1&&(m(0,"i",17),I("click",function(r){return r.stopPropagation()}),y()),t&2){let n=w(2).$implicit;w(2);let r=Kt(3);T("tp",r)("tpData",n)}}function Zq(t,e){if(t&1){let n=ee();on(0),m(1,"div",9)(2,"i",10),I("click",function(i){x(n);let o=w().$implicit,s=w(2);return i.stopPropagation(),M(s.stateService.toggleHeart(o))}),y(),m(3,"i",11),I("click",function(i){x(n);let o=w().$implicit,s=w(2);return i.stopPropagation(),M(s.stateService.toggleBookmark(o))}),y(),m(4,"i",12),I("click",function(i){x(n);let o=w().$implicit,s=w(2);return i.stopPropagation(),M(s.stateService.like(o))})("contextmenu",function(i){x(n);let o=w().$implicit,s=w(2);return i.preventDefault(),M(s.stateService.dislike(o))}),F(5),y(),z(6,Jq,1,2,"i",13),y(),m(7,"div",14)(8,"i",15),I("click",function(i){x(n);let o=w().$implicit,s=w(2);return i.stopPropagation(),M(s.googleService.openSearch(o.name))}),y(),m(9,"i",16),I("click",function(i){x(n);let o=w().$implicit,s=w(2);return M(s.galleryService.openYandexReverseImageSearch(i,o))}),y()(),sn()}if(t&2){let n=w().$implicit;_(2),T("ngClass",n.heart?"fa-solid active":"fa-regular"),_(),T("ngClass",n.bookmark?"fa-solid active":"fa-regular"),_(2),pe(n.likes),_(),T("ngIf",n.group)}}function eG(t,e){if(t&1){let n=ee();m(0,"div",5),I("click",function(){let o=x(n).$implicit,s=w(2);return M(s.onImageClick(o))}),m(1,"div",6)(2,"img",7,8),I("create",function(i){let s=x(n).$implicit,a=w(2);return M(a.onBrickCreate(i,s))})("load",function(){x(n);let i=Kt(3);return M(i.style.opacity="1")}),y()(),z(4,Zq,10,4,"ng-container",0),y()}if(t&2){let n=e.$implicit,r=w(2);Bd("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ce("modifying-group",r.stateService.editingGroup==null?null:r.stateService.editingGroup.includes(n)),T("@fade",void 0),_(2),T("src",n.thumbnailLink,bn),_(2),T("ngIf",!r.stateService.editingGroup)}}function tG(t,e){if(t&1){let n=ee();on(0),m(1,"div",2)(2,"div",3),I("create",function(i){x(n);let o=w();return M(o.onMasonryContainerCreate(i))}),z(3,eG,5,7,"div",4),y()(),sn()}if(t&2){let n=w();_(3),T("ngForOf",n.stateService.masonryImages)}}function nG(t,e){if(t&1){let n=ee();m(0,"div",18)(1,"i",19),I("click",function(i){let s=x(n).data,a=w();return M(a.onGroupToggleClick(i,s))}),y(),m(2,"i",20),I("click",function(){let o=x(n).data,s=w();return M(s.galleryService.editGroup(o))}),y(),m(3,"i",21),I("click",function(){let o=x(n).data,s=w();return M(s.galleryService.reorderGroup(o))}),y()()}if(t&2){let n=e.data,r=w();_(),Ce("disabled",r.shouldDisableGroupToggleButton(n)),T("ngClass",n.group.open?"fa-down-left-and-up-right-to-center":"fa-up-right-and-down-left-from-center")("tp",n.group.open?"Collapse Group":"Expand Group")}}var tP=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.googleService=o,this.galleryService=s,this.bricks={},No(()=>this.updateLayout()),No(()=>this.scrollTo(this.stateService.target())),No(()=>this.updateMasonryTargetReference())}updateLayout(){if(this.masonryContainer){if(this.stateService.masonryImages=this.stateService.filter().filter(u=>u.group?u.group.open?!0:u==u.group.images.filter(d=>d.passesFilter)[0]:!0),this.stateService.masonryImages.length==0)return;let r=yi.isLargeScreen()?200:150,i=6,o=this.masonryContainer.clientWidth,s=Math.floor(o/r),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.stateService.masonryImages)u.width!=a&&(u.width=a,u.height=a/u.aspectRatio);for(let u of this.stateService.masonryImages)if(u.group?.open){if(u==u.group.images.filter(d=>d.passesFilter)[0]){let d=[this.getShortestColumnIndex(c)],h=[];for(let f=0;f<s;f++)h.push({top:0,bottom:0});for(let f of u.group.images.filter(g=>g.passesFilter)){let g=[...d],E=Math.min(...d);if(E>0){let j=c[E-1]+f.height*.5;j>h[E].top&&j<h[E].bottom&&g.push(E-1)}let b=Math.max(...d);if(b<s-1){let j=c[b+1]+f.height*.5;j>h[b].top&&j<h[b].bottom&&g.push(b+1)}let D=this.getShortestColumnIndex(c.map((j,$)=>g.includes($)?j:999999999));S.push(d,D),f.top=c[D],f.left=l[D],c[D]+=f.height+i,h[D].top==0?(h[D].top=f.top,h[D].bottom=f.top+f.height):h[D].bottom+=i+f.height}}}else{let d=this.getShortestColumnIndex(c);u.top=c[d],u.left=l[d],c[d]=c[d]+u.height+i}}}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r,o=this.bricks[i?.id];if(o&&!yi.isElementVisible(o)){let s=document.getElementsByClassName("masonry-scroll-container")[0],a=i.top-(s.clientHeight-o.height)/2;s.scrollTo({top:a,behavior:"smooth"})}}}updateMasonryTargetReference(){let r=this.stateService.target();r&&this.stateService.masonryImages&&(this.stateService.masonryImages.includes(r)?this.stateService.masonryTargetReference=r:r.group&&r.group.images.some(i=>this.stateService.masonryImages.includes(i))&&(this.stateService.masonryTargetReference=S.findClosest(r.group.images,r,i=>this.stateService.masonryImages.includes(i))))}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}onImageClick(r){if(this.stateService.editingGroup){let i=this.stateService.target();if(r.group&&i.group&&!i.group.images.includes(r))return;S.toggle(this.stateService.editingGroup,r);return}this.stateService.target.set(r),this.stateService.fullscreenVisible.set(!0)}onGroupToggleClick(r,i){yi.isLargeScreen()&&(r.stopPropagation(),i.group&&(i.group.open=!i.group.open,this.stateService.refreshFilter()))}onBrickCreate(r,i){this.bricks[i.id]=r.nativeElement}onMasonryContainerCreate(r){this.masonryContainer=r.nativeElement,this.updateLayout()}shouldDisableGroupToggleButton(r){return r.group&&r.group.images.filter(i=>i.passesFilter).length<2}onResize(){this.updateLayout()}};e.\u0275fac=function(i){return new(i||e)(A(tt),A(Rt),A(ja),A(dp))},e.\u0275cmp=K({type:e,selectors:[["app-masonry"]],hostBindings:function(i,o){i&1&&I("resize",function(){return o.onResize()},!1,Ue)},standalone:!0,features:[Y],decls:4,vars:1,consts:[[4,"ngIf"],["groupButtonHoverMenu",""],[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],["class","icon-button active fa-solid fa-object-group","tpVariation","hovermenu",3,"tp","tpData","click",4,"ngIf"],[1,"brick-footer"],["tp","Open in Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Open Yandex RIS",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],["tpVariation","hovermenu",1,"icon-button","active","fa-solid","fa-object-group",3,"tp","tpData","click"],[1,"tippy-hover-menu-container","row"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["tp","Edit Group",1,"icon-button","fa-solid","fa-plus-minus",3,"click"],["tp","Reorder Group",1,"icon-button","fa-solid","fa-right-left",3,"click"]],template:function(i,o){i&1&&(ae(0,"app-header"),z(1,tG,4,1,"ng-container",0)(2,nG,4,4,"ng-template",null,1,$d)),i&2&&(_(),T("ngIf",!o.applicationService.reduceBandwidth))},dependencies:[X,mn,Ge,We,lp,$r,eP],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[ka]}});let t=e;return t})();var nP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.stateService.processData().then(r=>v(this,null,function*(){r.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(r)}))}initKeybinds(r){if(["BODY","VIDEO"].includes(document.activeElement.nodeName)){let i=this.stateService.target();switch(r.code){case"KeyF":this.stateService.fullscreenVisible.update(o=>!o);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(ms.getNearestImageUp(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyA":case"ArrowLeft":r.shiftKey?this.stateService.target.set(S.getPrevious(i.group.images,i,!0)):this.stateService.target.set(ms.getNearestImageLeft(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyS":case"ArrowDown":this.stateService.target.set(ms.getNearestImageDown(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyD":case"ArrowRight":r.shiftKey?this.stateService.target.set(S.getNext(i.group.images,i,!0)):this.stateService.target.set(ms.getNearestImageRight(this.stateService.masonryImages,this.stateService.masonryTargetReference));break}}}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(tt),A(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-gallery"]],hostBindings:function(i,o){i&1&&I("keydown",function(a){return o.initKeybinds(a)},!1,kC)},standalone:!0,features:[Y],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(i,o){i&1&&(m(0,"div",0),ae(1,"app-masonry")(2,"app-fullscreen"),y()),i&2&&(_(),T("@enter",void 0),_(),Ce("transparent",!o.stateService.fullscreenVisible()))},dependencies:[X,tP,YM],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[mM]}});let t=e;return t})();var ys=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function rG(t,e){if(t&1){let n=ee();m(0,"div",5)(1,"div",6)(2,"span"),F(3,"po\u010Det t\xEDmov"),y(),m(4,"input",7,8),I("input",function(){x(n);let i=Kt(5),o=w();return M(o.onTeamCountChange(i))}),y()(),m(6,"div",6)(7,"span"),F(8,"trvanie kola"),y(),m(9,"input",7,9),I("input",function(){x(n);let i=Kt(10),o=w();return M(o.onRoundDurationChange(i))}),y()(),m(11,"span",10),I("click",function(){x(n);let i=w();return M(i.settingsDone())}),F(12,"\u0161tart"),y()()}if(t&2){let n=w();_(4),T("value",4),_(5),T("value",60),_(2),Ce("disabled",!n.validateSettings())}}function iG(t,e){t&1&&(m(0,"span"),F(1,"pre v\u0161etk\xFDch"),y())}function oG(t,e){if(t&1){let n=ee();m(0,"div",11),z(1,iG,2,0,"span",12),m(2,"span"),F(3),y(),m(4,"span"),F(5),y(),m(6,"span",10),I("click",function(){x(n);let i=w();return M(i.startRound())}),F(7,"\u0161tart"),y()()}if(t&2){let n=w();_(),T("ngIf",n.isCurrentRoundForEveryone()),_(2),pe(n.getCurrentDiscipline()),_(2),pe(n.availablePhrases[0])}}function sG(t,e){if(t&1){let n=ee();m(0,"span",10),I("click",function(){x(n);let i=w(2);return M(i.endRoundEarly())}),F(1,"hotovo"),y()}}function aG(t,e){if(t&1&&(m(0,"div",13)(1,"span"),F(2),y(),z(3,sG,2,0,"span",14),y()),t&2){let n=w();_(2),pe(n.timeLeft),_(),T("ngIf",n.showEndRoundEarlyButton)}}function cG(t,e){t&1&&(m(0,"span"),F(1,"pre v\u0161etk\xFDch"),y())}function lG(t,e){if(t&1){let n=ee();m(0,"input",18,19),I("input",function(){x(n);let i=Kt(1),o=w(2);return M(o.onForEveryoneWinnerChange(i))}),y()}}function uG(t,e){if(t&1){let n=ee();m(0,"div",15),z(1,cG,2,0,"span",12),m(2,"span"),F(3),y(),m(4,"span"),F(5),y(),m(6,"div",16),z(7,lG,2,0,"input",17),m(8,"span",10),I("click",function(){x(n);let i=w();return M(i.roundOver(!0))}),F(9,"uh\xE1dli"),y()(),m(10,"span",10),I("click",function(){x(n);let i=w();return M(i.roundOver(!1))}),F(11,"neuh\xE1dli"),y()()}if(t&2){let n=w();_(),T("ngIf",n.isCurrentRoundForEveryone()),_(2),pe(n.getCurrentDiscipline()),_(2),pe(n.availablePhrases[0]),_(),ii("gap","2rem"),_(),T("ngIf",n.isCurrentRoundForEveryone()),_(),ii("width",100,"%"),Ce("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function dG(t,e){if(t&1&&(m(0,"span"),F(1),y()),t&2){let n=e.$implicit,r=e.index;_(),Oo("",r+1,". t\xEDm: ",n.wins,"")}}function hG(t,e){if(t&1){let n=ee();m(0,"div",20)(1,"span"),F(2,"sk\xF3re"),y(),z(3,dG,2,2,"span",21),m(4,"span",10),I("click",function(){x(n);let i=w();return M(i.currentView="instructions")}),F(5,"\u010Fa\u013E\u0161ie kolo"),y()()}if(t&2){let n=w();_(3),T("ngForOf",n.teams)}}var rP=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=S.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>S.push(s.roundDisciplines,S.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(ys.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-activity"]],standalone:!0,features:[Y],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&z(0,rG,13,4,"div",0)(1,oG,8,3,"div",1)(2,aG,4,2,"div",2)(3,uG,12,10,"div",3)(4,hG,6,1,"div",4),i&2&&(T("ngIf",o.currentView=="settings"),_(),T("ngIf",o.currentView=="instructions"),_(),T("ngIf",o.currentView=="countdown"),_(),T("ngIf",o.currentView=="result"),_(),T("ngIf",o.currentView=="score"))},dependencies:[X,Ge,We,vn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var iP=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],oP=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],sP=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var aP=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,S.push(this.availableQuestions,iP),S.push(this.availableQuestions,oP),S.push(this.availableQuestions,sP),S.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[Y],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.next()}),m(1,"span"),F(2),y()()),i&2&&(_(2),pe(o.currentQuestion))},dependencies:[X],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var cP=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=ys.from(this.limbs,this.limb),[this.color,this.backgroundColor]=ys.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-twister"]],standalone:!0,features:[Y],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.spin()}),m(1,"span"),F(2),y()()),i&2&&(ii("background-color",o.backgroundColor),_(2),Oo("",o.limb," ",o.color,""))},dependencies:[X],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function fG(t,e){if(t&1){let n=ee();on(0),m(1,"span",1),I("click",function(){x(n);let i=w();return M(i.navigate("gallery"))}),F(2,"Gallery"),y(),m(3,"span",1),I("click",function(){x(n);let i=w();return M(i.navigate("story-manager"))}),F(4,"Story Manager"),y(),m(5,"span",1),I("click",function(){x(n);let i=w();return M(i.navigate("comparison"))}),F(6,"Comparison"),y(),sn()}}var lP=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(A(yn),A(tt))},e.\u0275cmp=K({type:e,selectors:[["app-landing"]],standalone:!0,features:[Y],decls:14,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span",1),I("click",function(){return o.navigate("event/2024-splav")}),F(2,"Splav 2024"),y(),m(3,"span",1),I("click",function(){return o.navigate("games/activity")}),F(4,"Activity"),y(),m(5,"span",1),I("click",function(){return o.navigate("games/twister")}),F(6,"Twister"),y(),m(7,"span",1),I("click",function(){return o.navigate("games/nikdy-som")}),F(8,"Nikdy som"),y(),z(9,fG,7,0,"ng-container",2),y(),ae(10,"div",3),m(11,"div",0)(12,"i",4),I("click",function(){return o.applicationService.toggleTheme()}),y()(),m(13,"div",5),I("click",function(){return o.dev=o.dev+1}),y()),i&2&&(_(9),T("ngIf",o.dev>4),_(3),T("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[X,mn,We],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var uP="https://mazacik.github.io",k0={production:!0,baseUrl:uP,redirectUrl:uP+"/login"};var Ha=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+k0.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return v(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:k0.redirectUrl,plugin_name:"TagalleryWeb"};yield Fu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return v(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Fu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(L(Fo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(A(ro),A(yn),A(Ha))},e.\u0275cmp=K({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.signIn()}),ae(1,"img",1),m(2,"span",2),F(3,"Sign in with Google"),y()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var hp=(t,e)=>v(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=R(yn),r=R(Ha);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var hP=(t,e)=>{let n=R(yn),r=sessionStorage.getItem("dataFileId");return Et.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var fP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return R(yn).createUrlTree([""])};var pP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&_c("@crossfade",o.crossfade)},standalone:!0,features:[Y],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(m(0,"span",0),F(1),y(),m(2,"span"),F(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),y(),m(4,"span"),F(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),y(),ae(6,"img",1)),i&2&&(_(),pe(o.userAgent))},dependencies:[X,vn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[pM]}});let t=e;return t})();var co=(()=>{let e=class e{constructor(){}initialize(r){if(r&&!S.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],S.isEmpty(this.currentStory.notes)||(this.currentNote=S.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=Et.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lo=(()=>{let e=class e extends La{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new ao(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.next(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.next(!1)}).catch(o=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.next(!1)})};r?(this.delay.stop(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(L(Fo),L(tt),L(co),L(nt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mG(t,e){if(t&1){let n=ee();m(0,"div",6),I("click",function(){let o=x(n).$implicit,s=w();return M(s.remove(o))}),m(1,"i",7),I("click",function(i){let s=x(n).$implicit;return w().editTag(s),M(i.stopPropagation())}),y(),m(2,"span"),F(3),y(),ae(4,"i",8),y()}if(t&2){let n=e.$implicit,r=w();T("dragdrop",n)("dragdropParent",r.currentTags),_(3),pe(n)}}function gG(t,e){if(t&1){let n=ee();m(0,"div",9),I("click",function(){let o=x(n).$implicit,s=w();return M(s.add(o))}),ae(1,"i",10),m(2,"span"),F(3),y(),m(4,"div",11)(5,"i",7),I("click",function(i){let s=x(n).$implicit;return w().editTag(s),M(i.stopPropagation())}),y(),m(6,"i",12),I("click",function(i){let s=x(n).$implicit;return w().deleteTag(s),M(i.stopPropagation())}),y()()()}if(t&2){let n=e.$implicit;_(3),pe(n)}}var mP=(()=>{let e=class e extends dt{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.note.tags?this.currentTags=this.note.tags.slice():this.currentTags=[],this.availableTags=this.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),S.remove(this.availableTags,r)}remove(r){S.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!Et.isEmpty(i)){if(this.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(S.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(S.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),S.remove(this.note.parent.noteTags,r),this.note.parent.noteTags.push(i),this.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.note.parent.noteTags.push(i),this.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?S.remove(this.currentTags,r):S.remove(this.availableTags,r),this.note.parent.notes.forEach(o=>S.remove(o.tags,r)),S.remove(this.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(lo))},e.\u0275cmp=K({type:e,selectors:[["app-note-tag-manager"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,Ue)("keydown.escape",function(a){return o.close(a)},!1,Ue)},inputs:{note:"note"},standalone:!0,features:[Be,Y],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-smaller","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-smaller","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-smaller","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),F(2,"Tags"),y(),ae(3,"div",1),z(4,mG,5,3,"div",2),y(),ae(5,"div",3),m(6,"div",0)(7,"span"),F(8,"Available Tags"),y(),ae(9,"div",1),z(10,gG,7,1,"div",4),m(11,"i",5),I("click",function(){return o.editTag()}),y()()),i&2&&(_(4),T("ngForOf",o.currentTags),_(6),T("ngForOf",o.availableTags))},dependencies:[X,Ge,$a],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function yG(t,e){if(t&1&&(m(0,"span",27),F(1),y()),t&2){let n=e.$implicit;_(),pe(n)}}function vG(t,e){if(t&1){let n=ee();m(0,"div",18),I("click",function(){let o=x(n).$implicit,s=w(2).$implicit,a=w();return M(a.setCurrentNote(s,o))})("dragend",function(){x(n);let i=w(3);return M(i.googleService.update())}),m(1,"div",19)(2,"span",20),F(3),y(),m(4,"div",21),z(5,yG,2,1,"span",22),y()(),m(6,"div",23)(7,"span",24),F(8),y(),m(9,"div",25)(10,"i",26),I("click",function(i){let s=x(n).$implicit;return w(3).editTags(s),M(i.stopPropagation())}),y(),m(11,"i",12),I("click",function(i){let s=x(n).$implicit;return w(3).renameNote(s),M(i.stopPropagation())}),y(),m(12,"i",13),I("click",function(i){let s=x(n).$implicit,a=w(2).$implicit;return w().deleteNote(a,s),M(i.stopPropagation())}),y()()()()}if(t&2){let n=e.$implicit,r=w(2).$implicit,i=w();T("dragdrop",n)("dragdropParent",r.notes),_(2),Ce("highlight",n==i.stateService.currentNote),_(),pe(n.title),_(2),T("ngForOf",n.tags),_(3),pe(n.wordCount)}}function _G(t,e){if(t&1){let n=ee();m(0,"div",15),z(1,vG,13,7,"div",16),m(2,"i",17),I("click",function(i){x(n);let o=w().$implicit;return w().createNote(o),M(i.stopPropagation())}),y()()}if(t&2){let n=w().$implicit;T("@drawer",void 0),_(),T("ngForOf",n.notes)}}function wG(t,e){if(t&1){let n=ee();m(0,"div",6)(1,"div",7),I("click",function(){let o=x(n).$implicit,s=w();return M(s.setCurrentStory(o))})("dragend",function(){x(n);let i=w();return M(i.googleService.update())}),m(2,"span",8),F(3),y(),m(4,"div",9)(5,"span",10),F(6),y(),m(7,"div",11)(8,"i",12),I("click",function(i){let s=x(n).$implicit;return w().renameStory(s),M(i.stopPropagation())}),y(),m(9,"i",13),I("click",function(i){let s=x(n).$implicit;return w().deleteStory(s),M(i.stopPropagation())}),y()()()(),z(10,_G,3,2,"div",14),y()}if(t&2){let n=e.$implicit,r=w();_(),T("dragdrop",n)("dragdropParent",r.stateService.stories),_(),Ce("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent)),_(),pe(n.title),_(3),pe(r.getNotesWordCount(n)),_(4),T("ngIf",n==r.stateService.currentStory)}}var gP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o}ngOnInit(){}setCurrentNote(r,i){this.setCurrentStory(r),this.stateService.currentNote=i}setCurrentStory(r){this.stateService.currentStory=r}setRandom(){let r=S.getRandom(this.stateService.stories,[this.stateService.currentStory]),i=S.getRandom(r.notes);this.setCurrentNote(r,i);let s=document.querySelector(".content-container").children[this.stateService.stories.indexOf(r)];s.children[1]?s.children[1].children[r.notes.indexOf(i)].scrollIntoView({block:"center",behavior:"instant"}):setTimeout(()=>{s.children[1].children[r.notes.indexOf(i)].scrollIntoView({block:"center",behavior:"instant"})},500)}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{Et.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(S.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),S.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(mP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{Et.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),S.remove(o,i),this.googleService.update(!0))})}};e.\u0275fac=function(i){return new(i||e)(A(nt),A(lo),A(co))},e.\u0275cmp=K({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[Y],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Story and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],["style","text-wrap: nowrap;",4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],[2,"text-wrap","nowrap"]],template:function(i,o){i&1&&(m(0,"div",0),z(1,wG,11,7,"div",1),y(),ae(2,"div",2),m(3,"div",3)(4,"i",4),I("click",function(){return o.createStory()}),y(),m(5,"i",5),I("click",function(){return o.setRandom()}),y()()),i&2&&(_(),T("ngForOf",o.stateService.stories))},dependencies:[X,Ge,We,$a,$r],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[gM]}});let t=e;return t})();function EG(t,e){if(t&1){let n=ee();m(0,"div",1)(1,"div",2)(2,"span",3),F(3),y()(),m(4,"textarea",4),Vn("ngModelChange",function(i){x(n);let o=w();return ir(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),M(i)}),I("input",function(){x(n);let i=w();return M(i.onNoteInput())})("create",function(i){x(n);let o=w();return M(o.initTab(i))}),y()()}if(t&2){let n=w();_(3),Oo("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),_(),Fn("ngModel",n.stateService.currentNote.text)}}var yP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){}initTab(r){let i=this;r.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let s=this.selectionStart,a=this.selectionEnd;this.value=this.value.substring(0,s)+"	"+this.value.substring(a),this.selectionStart=this.selectionEnd=s+1,i.onNoteInput()}})}onNoteInput(){this.stateService.currentNote.wordCount=Et.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(A(lo),A(tt),A(co))},e.\u0275cmp=K({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[["class","note-container",4,"ngIf"],[1,"note-container"],[1,"note-header"],[1,"note-title"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","create"]],template:function(i,o){i&1&&z(0,EG,5,3,"div",0),i&2&&T("ngIf",o.stateService.currentNote)},dependencies:[X,We,vn,Kn,Hr,pr,lp],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s;gap:.3333333333rem}[_nghost-%COMP%]   .note-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding:0;flex:1}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0;line-height:1.25rem}"]});let t=e;return t})();var vP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.sidebarVisible=!0,this.focusMode=!1,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.next(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(A(lo),A(tt),A(co))},e.\u0275cmp=K({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[Y],decls:14,vars:12,consts:[[1,"header"],[1,"header-start"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"icon-button","fa-solid","mobile-display-none",3,"ngClass","click"],[1,"header-center"],[1,"header-end"],["placeholder","Countdown",1,"countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-display-none"],[1,"modules"]],template:function(i,o){if(i&1){let s=ee();m(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.sidebarVisible=!o.sidebarVisible}),y(),m(3,"i",3),I("click",function(){return o.focusMode=!o.focusMode}),y()(),ae(4,"div",4),m(5,"div",5)(6,"input",6,7),I("click",function(){x(s);let c=Kt(7);return M(o.onCountdownInputClick(c))})("input",function(){x(s);let c=Kt(7);return M(o.onCountdownInputChange(c))})("keypress",function(c){x(s);let l=Kt(7);return M(o.onCountdownInputSubmit(c,l))})("focus",function(){x(s);let c=Kt(7);return M(c.select())}),y(),m(8,"i",8),I("click",function(){return o.applicationService.toggleTheme()}),y()()(),m(9,"div",9),ae(10,"app-sidebar")(11,"div",10),m(12,"div",11),ae(13,"app-note-editor"),y()()}if(i&2){let s=Kt(7);_(3),T("ngClass",o.focusMode?"fa-up-right-and-down-left-from-center":"fa-down-left-and-up-right-to-center"),_(3),Ce("user-select-none",s.readOnly),_(2),T("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),_(2),Ce("display-none",!o.sidebarVisible),_(),Ce("desktop-display-none",!o.sidebarVisible),_(),Ce("mobile-display-none",o.sidebarVisible)("focus-mode",o.focusMode)}},dependencies:[X,mn,gP,yP,$r],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%] > app-note-editor[_ngcontent-%COMP%]{max-width:50%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function IG(t,e){if(t&1){let n=ee();m(0,"span",4),I("click",function(){x(n);let i=w();return M(i.parseText())}),F(1,"Parse"),y()}}function CG(t,e){if(t&1){let n=ee();m(0,"div",6)(1,"span",4),I("click",function(){x(n);let i=w(2);return M(i.onEntryClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),F(2),y(),m(3,"span",4),I("click",function(){x(n);let i=w(2);return M(i.onEntryClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),F(4),y()()}if(t&2){let n=w(2);_(2),pe(n.tournament.currentComparison[0].id),_(2),pe(n.tournament.currentComparison[1].id)}}function bG(t,e){if(t&1&&(on(0),z(1,CG,5,2,"div",5),sn()),t&2){let n=w();_(),T("ngIf",n.tournament.currentComparison)}}var _P=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(r=>r?.length>0),this.tournament=new Ba(this.entries,r=>r),this.text=""}onEntryClick(r,i){this.tournament.handleUserInput(r,i),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-tournament"]],standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"textarea",1),Vn("ngModelChange",function(a){return ir(o.text,a)||(o.text=a),a}),y(),z(2,IG,2,0,"span",2),y(),z(3,bG,2,1,"ng-container",3)),i&2&&(_(),T("placeholder",o.tournament?"Leaderboard":"Entries"),Fn("ngModel",o.text),T("readOnly",o.tournament),_(),T("ngIf",!o.tournament),_(),T("ngIf",o.tournament))},dependencies:[X,We,vn,Kn,Hr,pr],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var wP=[{path:"messenger-browser",canActivate:[fP],component:pP},{path:"login",component:dP},{path:"story-manager",canActivate:[hp],component:vP},{path:"folder-picker",canActivate:[hp],component:GM},{path:"gallery",canActivate:[hp,hP],component:nP},{path:"comparison",component:_P},{path:"home",component:lP},{path:"games",children:[{path:"activity",component:rP},{path:"twister",component:cP},{path:"nikdy-som",component:aP},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var EP=(t,e)=>{let n=R(Ha);return e(IP(n,t)).pipe(yr(r=>TG(n,r,t,e)))},IP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,TG=(t,e,n,r)=>v(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return r(IP(t,n))});sA(qM,{providers:[jA(),_x(wP,wx({paramsInheritanceStrategy:"always"})),uT(hT(),dT([EP])),gc(LT(()=>jT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),gc(JS(()=>ZS())),gc(bD(()=>TD())),fM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!1,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
