var MP=Object.defineProperty,PP=Object.defineProperties;var OP=Object.getOwnPropertyDescriptors;var gu=Object.getOwnPropertySymbols,RP=Object.getPrototypeOf,Kw=Object.prototype.hasOwnProperty,Qw=Object.prototype.propertyIsEnumerable,kP=Reflect.get;var Ww=(t,e,n)=>e in t?MP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})Kw.call(e,n)&&Ww(t,n,e[n]);if(gu)for(var n of gu(e))Qw.call(e,n)&&Ww(t,n,e[n]);return t},Oe=(t,e)=>PP(t,OP(e));var wp=(t,e)=>{var n={};for(var r in t)Kw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&gu)for(var r of gu(t))e.indexOf(r)<0&&Qw.call(t,r)&&(n[r]=t[r]);return n};var Si=(t,e,n)=>kP(RP(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function NP(t,e){return Object.is(t,e)}var St=null,Xa=!1,vu=1,Di=Symbol("SIGNAL");function Re(t){let e=St;return St=t,e}function FP(){return Xa}var yu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yw(t){if(Xa)throw new Error("");if(St===null)return;St.consumerOnSignalRead(t);let e=St.nextProducerIndex++;if(Ts(St),e<St.producerNode.length&&St.producerNode[e]!==t&&Ja(St)){let n=St.producerNode[e];wu(n,St.producerIndexOfThis[e])}St.producerNode[e]!==t&&(St.producerNode[e]=t,St.producerIndexOfThis[e]=Ja(St)?eE(t,St,e):0),St.producerLastReadVersion[e]=t.version}function VP(){vu++}function LP(t){if(!(Ja(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vu)){if(!t.producerMustRecompute(t)&&!_u(t)){t.dirty=!1,t.lastCleanEpoch=vu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vu}}function Xw(t){if(t.liveConsumerNode===void 0)return;let e=Xa;Xa=!0;try{for(let n of t.liveConsumerNode)n.dirty||Zw(n)}finally{Xa=e}}function Jw(){return St?.consumerAllowSignalWrites!==!1}function Zw(t){t.dirty=!0,Xw(t),t.consumerMarkedDirty?.(t)}function Cp(t){return t&&(t.nextProducerIndex=0),Re(t)}function Ip(t,e){if(Re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ja(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _u(t){Ts(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(LP(n),r!==n.version))return!0}return!1}function bp(t){if(Ts(t),Ja(t))for(let e=0;e<t.producerNode.length;e++)wu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function eE(t,e,n){if(tE(t),Ts(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=eE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wu(t,e){if(tE(t),Ts(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)wu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ts(i),i.producerIndexOfThis[r]=e}}function Ja(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ts(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function tE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function jP(){throw new Error}var nE=jP;function rE(){nE()}function iE(t){nE=t}var UP=null;function oE(t){let e=Object.create(aE);e.value=t;let n=()=>(Yw(e),e.value);return n[Di]=e,n}function Tp(t,e){Jw()||rE(),t.equal(t.value,e)||(t.value=e,BP(t))}function sE(t,e){Jw()||rE(),Tp(t,e(t.value))}var aE=Oe(V({},yu),{equal:NP,value:void 0});function BP(t){t.version++,VP(),Xw(t),UP?.()}function cE(t,e,n){let r=Object.create($P);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(bp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Ep)}let a=()=>{if(r.fn===null)return;if(FP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!_u(r))return;r.hasRun=!0;let c=Cp(r);try{r.cleanupFn(),r.cleanupFn=Ep,r.fn(i)}finally{Ip(r,c)}};return r.ref={notify:()=>Zw(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Di]:r},r.ref}var Ep=()=>{},$P=Oe(V({},yu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Ep});function te(t){return typeof t=="function"}function Ss(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Eu=Ss(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Eo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Eu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lE(o)}catch(s){e=e??[],s instanceof Eu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Eu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)lE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Eo(n,e)}remove(e){let{_finalizers:n}=this;n&&Eo(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var Sp=lt.EMPTY;function Cu(t){return t instanceof lt||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function lE(t){te(t)?t():t.unsubscribe()}var Xn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ds={setTimeout(t,e,...n){let{delegate:r}=Ds;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ds;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Iu(t){Ds.setTimeout(()=>{let{onUnhandledError:e}=Xn;if(e)e(t);else throw t})}function Za(){}var uE=Dp("C",void 0,void 0);function dE(t){return Dp("E",void 0,t)}function hE(t){return Dp("N",t,void 0)}function Dp(t,e,n){return{kind:t,value:e,error:n}}var Co=null;function As(t){if(Xn.useDeprecatedSynchronousErrorHandling){let e=!Co;if(e&&(Co={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Co;if(Co=null,n)throw r}}else t()}function fE(t){Xn.useDeprecatedSynchronousErrorHandling&&Co&&(Co.errorThrown=!0,Co.error=t)}var Io=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cu(e)&&e.add(this)):this.destination=qP}static create(e,n,r){return new Ai(e,n,r)}next(e){this.isStopped?xp(hE(e),this):this._next(e)}error(e){this.isStopped?xp(dE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xp(uE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HP=Function.prototype.bind;function Ap(t,e){return HP.call(t,e)}var Mp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bu(r)}else bu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bu(n)}}},Ai=class extends Io{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ap(e.next,o),error:e.error&&Ap(e.error,o),complete:e.complete&&Ap(e.complete,o)}):i=e}this.destination=new Mp(i)}};function bu(t){Xn.useDeprecatedSynchronousErrorHandling?fE(t):Iu(t)}function zP(t){throw t}function xp(t,e){let{onStoppedNotification:n}=Xn;n&&Ds.setTimeout(()=>n(t,e))}var qP={closed:!0,next:Za,error:zP,complete:Za};var xs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(t){return t}function Pp(...t){return Op(t)}function Op(t){return t.length===0?In:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=WP(n)?n:new Ai(n,r,i);return As(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=pE(r),new r((i,o)=>{let s=new Ai({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xs](){return this}pipe(...n){return Op(n)(this)}toPromise(n){return n=pE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function pE(t){var e;return(e=t??Xn.Promise)!==null&&e!==void 0?e:Promise}function GP(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function WP(t){return t&&t instanceof Io||GP(t)&&Cu(t)}function Rp(t){return te(t?.lift)}function Ie(t){return e=>{if(Rp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new kp(t,e,n,r,i)}var kp=class extends Io{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ms(){return Ie((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ps=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return Ms()(this)}};var mE=Ss(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Lt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mE}next(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){As(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Sp:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,Eo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new Tu(e,n),t})(),Tu=class extends Lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sp}};var jt=class extends Lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Np={now(){return(Np.delegate||Date).now()},delegate:void 0};var Su=class extends lt{constructor(e,n){super()}schedule(e,n=0){return this}};var ec={setInterval(t,e,...n){let{delegate:r}=ec;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ec;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Os=class extends Su{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ec.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ec.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Eo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rs.now=Np.now;var ks=class extends Rs{constructor(e,n=Rs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ns=new ks(Os),Fp=Ns;var Du=class extends Os{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Au=class extends ks{};var Vp=new Au(Du);var fn=new ae(t=>t.complete());function xu(t){return t&&te(t.schedule)}function Lp(t){return t[t.length-1]}function Mu(t){return te(Lp(t))?t.pop():void 0}function yr(t){return xu(Lp(t))?t.pop():void 0}function gE(t,e){return typeof Lp(t)=="number"?t.pop():e}function jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function vE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bo(t){return this instanceof bo?(this.v=t,this):new bo(t)}function _E(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(m){return new Promise(function(w,I){o.push([h,m,w,I])>1||a(h,m)})})}function a(h,m){try{c(r[h](m))}catch(w){d(o[0][3],w)}}function c(h){h.value instanceof bo?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function wE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vE=="function"?vE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Fs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pu(t){return te(t?.then)}function Ou(t){return te(t[xs])}function Ru(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function ku(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nu=KP();function Fu(t){return te(t?.[Nu])}function Vu(t){return _E(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield bo(n.read());if(i)return yield bo(void 0);yield yield bo(r)}}finally{n.releaseLock()}})}function Lu(t){return te(t?.getReader)}function ze(t){if(t instanceof ae)return t;if(t!=null){if(Ou(t))return QP(t);if(Fs(t))return YP(t);if(Pu(t))return XP(t);if(Ru(t))return EE(t);if(Fu(t))return JP(t);if(Lu(t))return ZP(t)}throw ku(t)}function QP(t){return new ae(e=>{let n=t[xs]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YP(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function XP(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Iu)})}function JP(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function EE(t){return new ae(e=>{eO(t,e).catch(n=>e.error(n))})}function ZP(t){return EE(Vu(t))}function eO(t,e){var n,r,i,o;return yE(this,void 0,void 0,function*(){try{for(n=wE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xi(t,e=0){return Ie((n,r)=>{n.subscribe(ye(r,i=>pn(r,t,()=>r.next(i),e),()=>pn(r,t,()=>r.complete(),e),i=>pn(r,t,()=>r.error(i),e)))})}function Mi(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function CE(t,e){return ze(t).pipe(Mi(e),xi(e))}function IE(t,e){return ze(t).pipe(Mi(e),xi(e))}function bE(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function TE(t,e){return new ae(n=>{let r;return pn(n,e,()=>{r=t[Nu](),pn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function ju(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{pn(n,e,()=>{let r=t[Symbol.asyncIterator]();pn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function SE(t,e){return ju(Vu(t),e)}function DE(t,e){if(t!=null){if(Ou(t))return CE(t,e);if(Fs(t))return bE(t,e);if(Pu(t))return IE(t,e);if(Ru(t))return ju(t,e);if(Fu(t))return TE(t,e);if(Lu(t))return SE(t,e)}throw ku(t)}function $e(t,e){return e?DE(t,e):ze(t)}function ce(...t){let e=yr(t);return $e(t,e)}function Pi(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Up(t){return!!t&&(t instanceof ae||te(t.lift)&&te(t.subscribe))}var bn=Ss(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function mn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new bn)}})})}function Uu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ai({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new bn)}});t.subscribe(o)})}function AE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:tO}=Array;function nO(t,e){return tO(e)?t(...e):t(e)}function Vs(t){return ie(e=>nO(t,e))}var{isArray:rO}=Array,{getPrototypeOf:iO,prototype:oO,keys:sO}=Object;function Bu(t){if(t.length===1){let e=t[0];if(rO(e))return{args:e,keys:null};if(aO(e)){let n=sO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aO(t){return t&&typeof t=="object"&&iO(t)===oO}function $u(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Hu(...t){let e=yr(t),n=Mu(t),{args:r,keys:i}=Bu(t);if(r.length===0)return $e([],e);let o=new ae(cO(r,e,i?s=>$u(i,s):In));return n?o.pipe(Vs(n)):o}function cO(t,e,n=In){return r=>{xE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)xE(e,()=>{let l=$e(t[c],e),u=!1;l.subscribe(ye(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xE(t,e,n){t?pn(n,t,e):e()}function ME(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},m=I=>l<r?w(I):c.push(I),w=I=>{o&&e.next(I),l++;let A=!1;ze(n(I,u++)).subscribe(ye(e,x=>{i?.(x),o?m(x):e.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let x=c.shift();s?pn(e,s,()=>w(x)):w(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(ye(e,m,()=>{d=!0,h()})),()=>{a?.()}}function ut(t,e,n=1/0){return te(e)?ut((r,i)=>ie((o,s)=>e(r,o,i,s))(ze(t(r,i))),n):(typeof e=="number"&&(n=e),Ie((r,i)=>ME(r,i,t,n)))}function tc(t=1/0){return ut(In,t)}function PE(){return tc(1)}function Ls(...t){return PE()($e(t,yr(t)))}function zu(t){return new ae(e=>{ze(t()).subscribe(e)})}function Bp(...t){let e=Mu(t),{args:n,keys:r}=Bu(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ze(n[u]).subscribe(ye(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?$u(r,a):a),o.complete())}))}});return e?i.pipe(Vs(e)):i}var lO=["addListener","removeListener"],uO=["addEventListener","removeEventListener"],dO=["on","off"];function js(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return js(t,e,n).pipe(Vs(r));let[i,o]=pO(t)?uO.map(s=>a=>t[s](e,a,n)):hO(t)?lO.map(OE(t,e)):fO(t)?dO.map(OE(t,e)):[];if(!i&&Fs(t))return ut(s=>js(s,e,n))(ze(t));if(!i)throw new TypeError("Invalid event target");return new ae(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function OE(t,e){return n=>r=>t[n](e,r)}function hO(t){return te(t.addListener)&&te(t.removeListener)}function fO(t){return te(t.on)&&te(t.off)}function pO(t){return te(t.addEventListener)&&te(t.removeEventListener)}function RE(t=0,e,n=Fp){let r=-1;return e!=null&&(xu(e)?n=e:r=e),new ae(i=>{let o=AE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function nc(...t){let e=yr(t),n=gE(t,1/0),r=t;return r.length?r.length===1?ze(r[0]):tc(n)($e(r,e)):fn}function Zt(t,e){return Ie((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function kE(t){return Ie((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ye(n,l=>{r=!0,i=l,o||ze(t(l)).subscribe(o=ye(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function $p(t,e=Ns){return kE(()=>RE(t,e))}function Jn(t){return Ie((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=ze(t(s,Jn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function NE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ye(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Oi(t,e){return te(e)?ut(t,e,1):ut(t,1)}function Ri(t){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Kr(t){return t<=0?()=>fn:Ie((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hp(t){return ie(()=>t)}function qu(t=mO){return Ie((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mO(){return new bn}function To(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function _r(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zt((i,o)=>t(i,o,r)):In,Kr(1),n?Ri(e):qu(()=>new bn))}function Us(t){return t<=0?()=>fn:Ie((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Zt((i,o)=>t(i,o,r)):In,Us(1),n?Ri(e):qu(()=>new bn))}function qp(t,e){return Ie(NE(t,e,arguments.length>=2,!0))}function Gp(...t){let e=yr(t);return Ie((n,r)=>{(e?Ls(t,n,e):Ls(t,n)).subscribe(r)})}function Dt(t,e){return Ie((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,c=>{i?.unsubscribe();let l=0,u=o++;ze(t(c,u)).subscribe(i=ye(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zn(t){return Ie((e,n)=>{ze(t).subscribe(ye(n,()=>n.complete(),Za)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):In}var yC="https://g.co/ng/security#xss",k=class extends Error{constructor(e,n){super(Id(e,n)),this.code=e}};function Id(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var cm=class extends Lt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Re(null);try{super.next(e)}finally{Re(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Wp(o),i&&(i=Wp(i)),s&&(s=Wp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}};function Wp(t){return e=>{setTimeout(t,void 0,e)}}var rt=cm;var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{});function on(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(on).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function lm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _C=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_C||{}),Cr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Cr||{});function mc(t){return{toString:t}.toString()}var So=globalThis;var Gs={},gn=[];function He(t){for(let e in t)if(t[e]===He)return e;throw Error("Could not find renamed property on target object.")}function gO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var vO=He({\u0275cmp:He}),yO=He({\u0275dir:He}),_O=He({\u0275pipe:He}),wO=He({\u0275mod:He}),id=He({\u0275fac:He}),rc=He({__NG_ELEMENT_ID__:He}),FE=He({__NG_ENV_ID__:He}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function wC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function um(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];CO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EO(t){return t===3||t===4||t===6}function CO(t){return t.charCodeAt(0)===64}function ic(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?VE(t,n,i,null,e[++r]):VE(t,n,i,null,null))}}return t}function VE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var EC="ng-template";function IO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&wC(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function CC(t){return t.type===4&&t.value!==EC}function bO(t,e,n){let r=t.type===4&&!n?EC:t.value;return e===r}function TO(t,e,n){let r=4,i=t.attrs||[],o=AO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!er(r)&&!er(c))return!1;if(s&&er(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!bO(t,c,n)||c===""&&e.length===1){if(er(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!IO(t.attrs,l,n)){if(er(r))return!1;s=!0}continue}let u=r&8?"class":c,d=SO(u,i,CC(t),n);if(d===-1){if(er(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let m=r&8?h:null;if(m&&wC(m,l,0)!==-1||r&2&&l!==h){if(er(r))return!1;s=!0}}}}return er(r)||s}function er(t){return(t&1)===0}function SO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xO(e,t)}function DO(t,e,n=!1){for(let r=0;r<e.length;r++)if(TO(t,e[r],n))return!0;return!1}function AO(t){for(let e=0;e<t.length;e++){let n=t[e];if(EO(n))return e}return t.length}function xO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function LE(t,e){return t?":not("+e.trim()+")":e}function MO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!er(s)&&(e+=LE(o,i),i=""),r=s,o=o||!er(r);n++}return i!==""&&(e+=LE(o,i)),e}function PO(t){return t.map(MO).join(",")}function OO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!er(i))break;i=o}r++}return{attrs:e,classes:n}}function G(t){return mc(()=>{let e=DC(t),n=Oe(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_C.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Cr.Emulated,styles:t.styles||gn,_:null,schemas:t.schemas||null,tView:null,id:""});AC(n);let r=t.dependencies;return n.directiveDefs=UE(r,!1),n.pipeDefs=UE(r,!0),n.id=NO(n),n})}function RO(t){return Fi(t)||IC(t)}function kO(t){return t!==null}function sn(t){return mc(()=>({type:t.type,bootstrap:t.bootstrap||gn,declarations:t.declarations||gn,imports:t.imports||gn,exports:t.exports||gn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jE(t,e){if(t==null)return Gs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ge(t){return mc(()=>{let e=DC(t);return AC(e),e})}function Fi(t){return t[vO]||null}function IC(t){return t[yO]||null}function bC(t){return t[_O]||null}function TC(t){let e=Fi(t)||IC(t)||bC(t);return e!==null?e.standalone:!1}function SC(t,e){let n=t[wO]||null;if(!n&&e===!0)throw new Error(`Type ${on(t)} does not have '\u0275mod' property.`);return n}function DC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Gs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||gn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jE(t.inputs,e),outputs:jE(t.outputs),debugInfo:null}}function AC(t){t.features?.forEach(e=>e(t))}function UE(t,e){if(!t)return null;let n=e?bC:RO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kO)}function NO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Dr=0,pe=1,ne=2,Ut=3,nr=4,ir=5,od=6,oc=7,kn=8,Ws=9,Qr=10,ht=11,sc=12,BE=13,ta=14,Ir=15,gc=16,Bs=17,Yr=18,bd=19,xC=20,Ni=21,Xu=22,xo=23,Nn=25,dg=1;var Mo=7,sd=8,Ks=9,vn=10,hg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(hg||{});function Do(t){return Array.isArray(t)&&typeof t[dg]=="object"}function ti(t){return Array.isArray(t)&&t[dg]===!0}function fg(t){return(t.flags&4)!==0}function Td(t){return t.componentOffset>-1}function Sd(t){return(t.flags&1)===1}function Xr(t){return!!t.template}function FO(t){return(t[ne]&512)!==0}var VO="svg",LO="math",jO=!1;function UO(){return jO}function br(t){for(;Array.isArray(t);)t=t[Dr];return t}function BO(t){for(;Array.isArray(t);){if(typeof t[dg]=="object")return t;t=t[Dr]}return null}function MC(t,e){return br(e[t])}function or(t,e){return br(e[t.index])}function pg(t,e){return t.data[e]}function $O(t,e){return t[e]}function ji(t,e){let n=e[t];return Do(n)?n:n[Dr]}function HO(t){return(t[ne]&4)===4}function mg(t){return(t[ne]&128)===128}function zO(t){return ti(t[Ut])}function Qs(t,e){return e==null?null:t[e]}function PC(t){t[Bs]=0}function qO(t){t[ne]&1024||(t[ne]|=1024,mg(t)&&ac(t))}function GO(t,e){for(;t>0;)e=e[ta],t--;return e}function gg(t){return!!(t[ne]&9216||t[xo]?.dirty)}function dm(t){gg(t)?ac(t):t[ne]&64&&(UO()?(t[ne]|=1024,ac(t)):t[Qr].changeDetectionScheduler?.notify())}function ac(t){t[Qr].changeDetectionScheduler?.notify();let e=cc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!mg(e)));)e=cc(e)}function OC(t,e){if((t[ne]&256)===256)throw new k(911,!1);t[Ni]===null&&(t[Ni]=[]),t[Ni].push(e)}function WO(t,e){if(t[Ni]===null)return;let n=t[Ni].indexOf(e);n!==-1&&t[Ni].splice(n,1)}function cc(t){let e=t[Ut];return ti(e)?e[Ut]:e}var ge={lFrame:BC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KO(){return ge.lFrame.elementDepthCount}function QO(){ge.lFrame.elementDepthCount++}function YO(){ge.lFrame.elementDepthCount--}function RC(){return ge.bindingsEnabled}function XO(){return ge.skipHydrationRootTNode!==null}function JO(t){return ge.skipHydrationRootTNode===t}function ZO(){ge.skipHydrationRootTNode=null}function De(){return ge.lFrame.lView}function xt(){return ge.lFrame.tView}function b(t){return ge.lFrame.contextLView=t,t[kn]}function T(t){return ge.lFrame.contextLView=null,t}function yn(){let t=kC();for(;t!==null&&t.type===64;)t=t.parent;return t}function kC(){return ge.lFrame.currentTNode}function eR(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vo(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function vg(){return ge.lFrame.isParent}function NC(){ge.lFrame.isParent=!1}function tR(){return ge.lFrame.contextLView}function FC(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nR(){return ge.lFrame.bindingIndex}function rR(t){return ge.lFrame.bindingIndex=t}function vc(){return ge.lFrame.bindingIndex++}function yg(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iR(){return ge.lFrame.inI18n}function oR(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,hm(e)}function sR(){return ge.lFrame.currentDirectiveIndex}function hm(t){ge.lFrame.currentDirectiveIndex=t}function VC(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function LC(){return ge.lFrame.currentQueryIndex}function _g(t){ge.lFrame.currentQueryIndex=t}function aR(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[ir]:null}function jC(t,e,n){if(n&we.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&we.Host);)if(i=aR(o),i===null||(o=o[ta],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=UC();return r.currentTNode=e,r.lView=t,!0}function wg(t){let e=UC(),n=t[pe];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UC(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?BC(t):e}function BC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $C(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HC=$C;function Eg(){let t=$C();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cR(t){return(ge.lFrame.contextLView=GO(t,ge.lFrame.contextLView))[kn]}function Ui(){return ge.lFrame.selectedIndex}function Po(t){ge.lFrame.selectedIndex=t}function Cg(){let t=ge.lFrame;return pg(t.tView,t.selectedIndex)}function lR(){return ge.lFrame.currentNamespace}var zC=!0;function Dd(){return zC}function Ad(t){zC=t}function uR(){return na(yn(),De())}function na(t,e){return new et(or(t,e))}var et=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=uR;let t=e;return t})();function dR(t){return t instanceof et?t.nativeElement:t}function hR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function fR(t){return t.flat(Number.POSITIVE_INFINITY)}function Ig(t,e){t.forEach(n=>Array.isArray(n)?Ig(n,e):e(n))}function qC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function bg(t,e,n){let r=yc(t,e);return r>=0?t[r|1]=n:(r=~r,pR(t,r,e,n)),r}function Kp(t,e){let n=yc(t,e);if(n>=0)return t[n|1]}function yc(t,e){return mR(t,e,1)}function mR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function gR(){return this._results[Symbol.iterator]()}var fm=class t{get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=fR(e);(this._changesDetected=!hR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function GC(t){return(t.flags&128)===128}var pm;function WC(t){pm=t}function vR(){if(pm!==void 0)return pm;if(typeof document<"u")return document;throw new k(210,!1)}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function an(t){return{providers:t.providers||[],imports:t.imports||[]}}function xd(t){return $E(t,QC)||$E(t,YC)}function KC(t){return xd(t)!==null}function $E(t,e){return t.hasOwnProperty(e)?t[e]:null}function yR(t){let e=t&&(t[QC]||t[YC]);return e||null}function HE(t){return t&&(t.hasOwnProperty(zE)||t.hasOwnProperty(_R))?t[zE]:null}var QC=He({\u0275prov:He}),zE=He({\u0275inj:He}),YC=He({ngInjectableDef:He}),_R=He({ngInjectorDef:He}),Y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Tg=new Y("",{providedIn:"root",factory:()=>wR}),wR="ng",Sg=new Y(""),Fn=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Dg=new Y(""),Ag=new Y("",{providedIn:"root",factory:()=>vR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ER=He({__forward_ref__:He});function Lo(t){return t.__forward_ref__=Lo,t.toString=function(){return on(this())},t}function rn(t){return XC(t)?t():t}function XC(t){return typeof t=="function"&&t.hasOwnProperty(ER)&&t.__forward_ref__===Lo}function JC(t){return t&&!!t.\u0275providers}function lc(t){return typeof t=="string"?t:t==null?"":String(t)}function CR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():lc(t)}function IR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new k(-200,t)}function xg(t,e){throw new k(-201,!1)}var mm;function ZC(){return mm}function Rn(t){let e=mm;return mm=t,e}function eI(t,e,n){let r=xd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&we.Optional)return null;if(e!==void 0)return e;xg(t,"Injector")}var bR={},uc=bR,gm="__NG_DI_FLAG__",cd="ngTempTokenPath",TR="ngTokenPath",SR=/\n/gm,DR="\u0275",qE="__source",zs;function AR(){return zs}function ki(t){let e=zs;return zs=t,e}function xR(t,e=we.Default){if(zs===void 0)throw new k(-203,!1);return zs===null?eI(t,void 0,e):zs.get(t,e&we.Optional?null:void 0,e)}function j(t,e=we.Default){return(ZC()||xR)(rn(t),e)}function N(t,e=we.Default){return j(t,Md(e))}function Md(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vm(t){let e=[];for(let n=0;n<t.length;n++){let r=rn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=we.Default;for(let s=0;s<r.length;s++){let a=r[s],c=MR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function tI(t,e){return t[gm]=e,t.prototype[gm]=e,t}function MR(t){return t[gm]}function PR(t,e,n,r){let i=t[cd];throw e[qE]&&i.unshift(e[qE]),t.message=OR(`
`+t.message,i,n,r),t[TR]=i,t[cd]=null,t}function OR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DR?t.slice(2):t;let i=on(e);if(Array.isArray(e))i=e.map(on).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):on(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SR,`
  `)}`}var RR="h",kR="b";var NR=()=>null;function Mg(t,e,n=!1){return NR(t,e,n)}var Gu="__parameters__";function FR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function nI(t,e,n){return mc(()=>{let r=FR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Gu)?c[Gu]:Object.defineProperty(c,Gu,{value:[]})[Gu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var cn=tI(nI("Optional"),8);var rI=tI(nI("SkipSelf"),4);function Ys(t,e){let n=t.hasOwnProperty(id);return n?t[id]:null}var Xs=new Y(""),iI=new Y("",-1),oI=new Y(""),ld=class{get(e,n=uc){if(n===uc){let r=new Error(`NullInjectorError: No provider for ${on(e)}!`);throw r.name="NullInjectorError",r}return n}};function Bi(t){return{\u0275providers:t}}function _c(...t){return{\u0275providers:sI(!0,t),\u0275fromNgModule:!0}}function sI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ig(e,s=>{let a=s;ym(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aI(i,o),n}function aI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Pg(i,o=>{e(o,r)})}}function ym(t,e,n,r){if(t=rn(t),!t)return!1;let i=null,o=HE(t),s=!o&&Fi(t);if(!o&&!s){let c=t.ngModule;if(o=HE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ym(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ig(o.imports,u=>{ym(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&aI(l,e)}if(!a){let l=Ys(i)||(()=>new i);e({provide:i,useFactory:l,deps:gn},i),e({provide:oI,useValue:i,multi:!0},i),e({provide:Xs,useValue:()=>j(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Pg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Pg(t,e){for(let n of t)JC(n)&&(n=n.\u0275providers),Array.isArray(n)?Pg(n,e):e(n)}var VR=He({provide:String,useValue:He});function cI(t){return t!==null&&typeof t=="object"&&VR in t}function LR(t){return!!(t&&t.useExisting)}function jR(t){return!!(t&&t.useFactory)}function Js(t){return typeof t=="function"}function UR(t){return!!t.useClass}var Pd=new Y(""),Ju={},BR={},Qp;function Od(){return Qp===void 0&&(Qp=new ld),Qp}var At=class{},dc=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wm(e,s=>this.processProvider(s)),this.records.set(iI,$s(void 0,this)),i.has("environment")&&this.records.set(At,$s(void 0,this));let o=this.records.get(Pd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oI,gn,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ki(this),r=Rn(void 0),i;try{return e()}finally{ki(n),Rn(r)}}get(e,n=uc,r=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FE))return e[FE](this);r=Md(r);let i,o=ki(this),s=Rn(void 0);try{if(!(r&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=GR(e)&&xd(e);l&&this.injectableDefInScope(l)?c=$s(_m(e),Ju):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&we.Self?Od():this.parent;return n=r&we.Optional&&n===uc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cd]=a[cd]||[]).unshift(on(e)),o)throw a;return PR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rn(s),ki(o)}}resolveInjectorInitializers(){let e=Re(null),n=ki(this),r=Rn(void 0),i;try{let o=this.get(Xs,gn,we.Self);for(let s of o)s()}finally{ki(n),Rn(r),Re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(on(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){e=rn(e);let n=Js(e)?e:rn(e&&e.provide),r=HR(e);if(!Js(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$s(void 0,Ju,!0),i.factory=()=>vm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Re(null);try{return n.value===Ju&&(n.value=BR,n.value=n.factory()),typeof n.value=="object"&&n.value&&qR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _m(t){let e=xd(t),n=e!==null?e.factory:Ys(t);if(n!==null)return n;if(t instanceof Y)throw new k(204,!1);if(t instanceof Function)return $R(t);throw new k(204,!1)}function $R(t){if(t.length>0)throw new k(204,!1);let n=yR(t);return n!==null?()=>n.factory(t):()=>new t}function HR(t){if(cI(t))return $s(void 0,t.useValue);{let e=lI(t);return $s(e,Ju)}}function lI(t,e,n){let r;if(Js(t)){let i=rn(t);return Ys(i)||_m(i)}else if(cI(t))r=()=>rn(t.useValue);else if(jR(t))r=()=>t.useFactory(...vm(t.deps||[]));else if(LR(t))r=()=>j(rn(t.useExisting));else{let i=rn(t&&(t.useClass||t.provide));if(zR(t))r=()=>new i(...vm(t.deps));else return Ys(i)||_m(i)}return r}function $s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zR(t){return!!t.deps}function qR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GR(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function wm(t,e){for(let n of t)Array.isArray(n)?wm(n,e):n&&JC(n)?wm(n.\u0275providers,e):e(n)}function ni(t,e){t instanceof dc&&t.assertNotDestroyed();let n,r=ki(t),i=Rn(void 0);try{return e()}finally{ki(r),Rn(i)}}function WR(t){if(!ZC()&&!AR())throw new k(-203,!1)}function KR(t){return typeof t=="function"}var Em=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function uI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ri(){return dI}function dI(t){return t.type.prototype.ngOnChanges&&(t.setInput=YR),QR}ri.ngInherit=!0;function QR(){let t=fI(this),e=t?.current;if(e){let n=t.previous;if(n===Gs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YR(t,e,n,r,i){let o=this.declaredInputs[r],s=fI(t)||XR(t,{previous:Gs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Em(l&&l.currentValue,n,c===Gs),uI(t,e,i,n)}var hI="__ngSimpleChanges__";function fI(t){return t[hI]||null}function XR(t,e){return t[hI]=e}var GE=null;var wr=function(t,e,n){GE?.(t,e,n)};function JR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Rd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Zu(t,e,n){pI(t,e,3,n)}function ed(t,e,n,r){(t[ne]&3)===n&&pI(t,e,n,r)}function Yp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function pI(t,e,n,r){let i=r!==void 0?t[Bs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Bs]+=65536),(a<o||o==-1)&&(ZR(t,n,e,c),t[Bs]=(t[Bs]&4294901760)+c+2),c++}function WE(t,e){wr(4,t,e);let n=Re(null);try{e.call(t)}finally{Re(n),wr(5,t,e)}}function ZR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Bs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,WE(a,o)):WE(a,o)}var qs=-1,Oo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function e1(t){return t instanceof Oo}function t1(t){return(t.flags&8)!==0}function n1(t){return(t.flags&16)!==0}function mI(t){return t!==qs}function ud(t){return t&32767}function r1(t){return t>>16}function dd(t,e){let n=r1(t),r=e;for(;n>0;)r=r[ta],n--;return r}var Cm=!0;function KE(t){let e=Cm;return Cm=t,e}var i1=256,gI=i1-1,vI=5,o1=0,Er={};function s1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rc)&&(r=n[rc]),r==null&&(r=n[rc]=o1++);let i=r&gI,o=1<<i;e.data[t+(i>>vI)]|=o}function hd(t,e){let n=yI(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,Xp(r.data,t),Xp(e,null),Xp(r.blueprint,null));let i=Og(t,e),o=t.injectorIndex;if(mI(i)){let s=ud(i),a=dd(i,e),c=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Xp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Og(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=II(i),r===null)return qs;if(n++,i=i[ta],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return qs}function Im(t,e,n){s1(t,e,n)}function _I(t,e,n){if(n&we.Optional||t!==void 0)return t;xg(e,"NodeInjector")}function wI(t,e,n,r){if(n&we.Optional&&r===void 0&&(r=null),!(n&(we.Self|we.Host))){let i=t[Ws],o=Rn(void 0);try{return i?i.get(e,r,n&we.Optional):eI(e,r,n&we.Optional)}finally{Rn(o)}}return _I(r,e,n)}function EI(t,e,n,r=we.Default,i){if(t!==null){if(e[ne]&2048&&!(r&we.Self)){let s=u1(t,e,n,r,Er);if(s!==Er)return s}let o=CI(t,e,n,r,Er);if(o!==Er)return o}return wI(e,n,r,i)}function CI(t,e,n,r,i){let o=c1(n);if(typeof o=="function"){if(!jC(e,t,r))return r&we.Host?_I(i,n,r):wI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&we.Optional))xg(n);else return s}finally{HC()}}else if(typeof o=="number"){let s=null,a=yI(t,e),c=qs,l=r&we.Host?e[Ir][ir]:null;for((a===-1||r&we.SkipSelf)&&(c=a===-1?Og(t,e):e[a+8],c===qs||!YE(r,!1)?a=-1:(s=e[pe],a=ud(c),e=dd(c,e)));a!==-1;){let u=e[pe];if(QE(o,a,u.data)){let d=a1(a,e,n,s,r,l);if(d!==Er)return d}c=e[a+8],c!==qs&&YE(r,e[pe].data[a+8]===l)&&QE(o,a,e)?(s=u,a=ud(c),e=dd(c,e)):a=-1}}return i}function a1(t,e,n,r,i,o){let s=e[pe],a=s.data[t+8],c=r==null?Td(a)&&Cm:r!=s&&(a.type&3)!==0,l=i&we.Host&&o===a,u=td(a,s,n,c,l);return u!==null?Ro(e,s,u,a):Er}function td(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let m=d;m<h;m++){let w=s[m];if(m<c&&n===w||m>=c&&w.type===n)return m}if(i){let m=s[c];if(m&&Xr(m)&&m.type===n)return c}return null}function Ro(t,e,n,r){let i=t[n],o=e.data;if(e1(i)){let s=i;s.resolving&&IR(CR(o[n]));let a=KE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Rn(s.injectImpl):null,u=jC(t,r,we.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&JR(n,o[n],e)}finally{l!==null&&Rn(l),KE(a),s.resolving=!1,HC()}}return i}function c1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rc)?t[rc]:void 0;return typeof e=="number"?e>=0?e&gI:l1:e}function QE(t,e,n){let r=1<<t;return!!(n[e+(t>>vI)]&r)}function YE(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var Ao=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return EI(this._tNode,this._lView,e,Md(r),n)}};function l1(){return new Ao(yn(),De())}function Bt(t){return mc(()=>{let e=t.prototype.constructor,n=e[id]||bm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[id]||bm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bm(t){return XC(t)?()=>{let e=bm(rn(t));return e&&e()}:Ys(t)}function u1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=CI(o,s,n,r|we.Self,Er);if(a!==Er)return a;let c=o.parent;if(!c){let l=s[xC];if(l){let u=l.get(n,Er,r);if(u!==Er)return u}c=II(s),s=s[ta]}o=c}return i}function II(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[ir]:null}function XE(t,e=null,n=null,r){let i=bI(t,e,n,r);return i.resolveInjectorInitializers(),i}function bI(t,e=null,n=null,r,i=new Set){let o=[n||gn,_c(t)];return r=r||(typeof t=="object"?void 0:on(t)),new dc(o,e||Od(),r||null,i)}var it=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return XE({name:""},i,r,"");{let o=r.name??"";return XE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=uc,e.NULL=new ld,e.\u0275prov=L({token:e,providedIn:"any",factory:()=>j(iI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),d1="ngOriginalError";function Jp(t){return t[d1]}var Tr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jp(e);for(;n&&Jp(n);)n=Jp(n);return n||null}},TI=new Y("",{providedIn:"root",factory:()=>N(Tr).handleError.bind(void 0)});var SI=!1,h1=new Y("",{providedIn:"root",factory:()=>SI}),Wu;function f1(){if(Wu===void 0&&(Wu=null,So.trustedTypes))try{Wu=So.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wu}function kd(t){return f1()?.createHTML(t)||t}var Jr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yC})`}},Tm=class extends Jr{getTypeName(){return"HTML"}},Sm=class extends Jr{getTypeName(){return"Style"}},Dm=class extends Jr{getTypeName(){return"Script"}},Am=class extends Jr{getTypeName(){return"URL"}},xm=class extends Jr{getTypeName(){return"ResourceURL"}};function Ar(t){return t instanceof Jr?t.changingThisBreaksApplicationSecurity:t}function jo(t,e){let n=p1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${yC})`)}return n===e}function p1(t){return t instanceof Jr&&t.getTypeName()||null}function DI(t){return new Tm(t)}function AI(t){return new Sm(t)}function xI(t){return new Dm(t)}function MI(t){return new Am(t)}function PI(t){return new xm(t)}function m1(t){let e=new Pm(t);return g1()?new Mm(e):e}var Mm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(kd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Pm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=kd(e),n}};function g1(){try{return!!new window.DOMParser().parseFromString(kd(""),"text/html")}catch{return!1}}var v1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nd(t){return t=String(t),t.match(v1)?t:"unsafe:"+t}function ii(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function wc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var OI=ii("area,br,col,hr,img,wbr"),RI=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kI=ii("rp,rt"),y1=wc(kI,RI),_1=wc(RI,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),w1=wc(kI,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),JE=wc(OI,_1,w1,y1),NI=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E1=ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C1=ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),I1=wc(NI,E1,C1),b1=ii("script,style,template"),Om=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!JE.hasOwnProperty(n))return this.sanitizedSomething=!0,!b1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!I1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;NI[a]&&(c=Nd(c)),this.buf.push(" ",s,'="',ZE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();JE.hasOwnProperty(n)&&!OI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ZE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},T1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,S1=/([^\#-~ |!])/g;function ZE(t){return t.replace(/&/g,"&amp;").replace(T1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(S1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ku;function FI(t,e){let n=null;try{Ku=Ku||m1(t);let r=e?String(e):"";n=Ku.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ku.getInertBodyElement(r)}while(r!==o);let a=new Om().sanitizeChildren(eC(n)||n);return kd(a)}finally{if(n){let r=eC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function eC(t){return"content"in t&&D1(t)?t.content:null}function D1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var oi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(oi||{});function xr(t){let e=A1();return e?e.sanitize(oi.URL,t)||"":jo(t,"URL")?Ar(t):Nd(lc(t))}function A1(){let t=De();return t&&t[Qr].sanitizer}var x1=/^>|^->|<!--|-->|--!>|<!-$/g,M1=/(<|>)/g,P1="\u200B$1\u200B";function O1(t){return t.replace(x1,e=>e.replace(M1,P1))}var VI=new Map,R1=0;function k1(){return R1++}function N1(t){VI.set(t[bd],t)}function F1(t){VI.delete(t[bd])}var tC="__ngContext__";function Vi(t,e){Do(e)?(t[tC]=e[bd],N1(e)):t[tC]=e}function Fd(t){return t.ownerDocument.defaultView}function Rg(t){return t.ownerDocument}function LI(t){return t instanceof Function?t():t}var Zr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zr||{}),V1;function kg(t,e){return V1(t,e)}function Hs(t,e,n,r,i){if(r!=null){let o,s=!1;ti(r)?o=r:Do(r)&&(s=!0,r=r[Dr]);let a=br(r);t===0&&n!==null?i==null?$I(e,n,a):pd(e,n,a,i||null,!0):t===1&&n!==null?pd(e,n,a,i||null,!0):t===2?tk(e,a,s):t===3&&e.destroyNode(a),o!=null&&rk(e,t,o,n,i)}}function L1(t,e){return t.createText(e)}function j1(t,e,n){t.setValue(e,n)}function U1(t,e){return t.createComment(O1(e))}function jI(t,e,n){return t.createElement(e,n)}function B1(t,e){UI(t,e),e[Dr]=null,e[ir]=null}function $1(t,e,n,r,i,o){r[Dr]=i,r[ir]=e,Ld(t,r,n,1,i,o)}function UI(t,e){Ld(t,e,e[ht],2,null,null)}function H1(t){let e=t[sc];if(!e)return Zp(t[pe],t);for(;e;){let n=null;if(Do(e))n=e[sc];else{let r=e[vn];r&&(n=r)}if(!n){for(;e&&!e[nr]&&e!==t;)Do(e)&&Zp(e[pe],e),e=e[Ut];e===null&&(e=t),Do(e)&&Zp(e[pe],e),n=e&&e[nr]}e=n}}function z1(t,e,n,r){let i=vn+r,o=n.length;r>0&&(n[i-1][nr]=e),r<o-vn?(e[nr]=n[i],qC(n,vn+r,e)):(n.push(e),e[nr]=null),e[Ut]=n;let s=e[gc];s!==null&&n!==s&&q1(s,e);let a=e[Yr];a!==null&&a.insertView(t),dm(e),e[ne]|=128}function q1(t,e){let n=t[Ks],i=e[Ut][Ut][Ir];e[Ir]!==i&&(t[ne]|=hg.HasTransplantedViews),n===null?t[Ks]=[e]:n.push(e)}function BI(t,e){let n=t[Ks],r=n.indexOf(e);n.splice(r,1)}function fd(t,e){if(t.length<=vn)return;let n=vn+e,r=t[n];if(r){let i=r[gc];i!==null&&i!==t&&BI(i,r),e>0&&(t[n-1][nr]=r[nr]);let o=ad(t,vn+e);B1(r[pe],r);let s=o[Yr];s!==null&&s.detachView(o[pe]),r[Ut]=null,r[nr]=null,r[ne]&=-129}return r}function Ng(t,e){if(!(e[ne]&256)){let n=e[ht];n.destroyNode&&Ld(t,e,n,3,null,null),H1(e)}}function Zp(t,e){if(e[ne]&256)return;let n=Re(null);try{e[ne]&=-129,e[ne]|=256,e[xo]&&bp(e[xo]),W1(t,e),G1(t,e),e[pe].type===1&&e[ht].destroy();let r=e[gc];if(r!==null&&ti(e[Ut])){r!==e[Ut]&&BI(r,e);let i=e[Yr];i!==null&&i.detachView(t)}F1(e)}finally{Re(n)}}function G1(t,e){let n=t.cleanup,r=e[oc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[oc]=null);let i=e[Ni];if(i!==null){e[Ni]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function W1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Oo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];wr(4,a,c);try{c.call(a)}finally{wr(5,a,c)}}else{wr(4,i,o);try{o.call(i)}finally{wr(5,i,o)}}}}}function K1(t,e,n){return Q1(t,e.parent,n)}function Q1(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Dr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Cr.None||o===Cr.Emulated)return null}return or(r,n)}}function pd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function $I(t,e,n){t.appendChild(e,n)}function nC(t,e,n,r,i){r!==null?pd(t,e,n,r,i):$I(t,e,n)}function Y1(t,e,n,r){t.removeChild(e,n,r)}function Fg(t,e){return t.parentNode(e)}function X1(t,e){return t.nextSibling(e)}function J1(t,e,n){return ek(t,e,n)}function Z1(t,e,n){return t.type&40?or(t,n):null}var ek=Z1,rC;function Vd(t,e,n,r){let i=K1(t,r,e),o=e[ht],s=r.parent||e[ir],a=J1(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nC(o,i,n[c],a,!1);else nC(o,i,n,a,!1);rC!==void 0&&rC(o,r,e,n,i)}function nd(t,e){if(e!==null){let n=e.type;if(n&3)return or(e,t);if(n&4)return Rm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return nd(t,r);{let i=t[e.index];return ti(i)?Rm(-1,i):br(i)}}else{if(n&32)return kg(e,t)()||br(t[e.index]);{let r=HI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=cc(t[Ir]);return nd(i,r)}else return nd(t,e.next)}}}return null}function HI(t,e){if(e!==null){let r=t[Ir][ir],i=e.projection;return r.projection[i]}return null}function Rm(t,e){let n=vn+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return nd(r,i)}return e[Mo]}function tk(t,e,n){let r=Fg(t,e);r&&Y1(t,r,e,n)}function Vg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Vi(br(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Vg(t,e,n.child,r,i,o,!1),Hs(e,t,i,a,o);else if(c&32){let l=kg(n,r),u;for(;u=l();)Hs(e,t,i,u,o);Hs(e,t,i,a,o)}else c&16?nk(t,e,r,n,i,o):Hs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ld(t,e,n,r,i,o){Vg(n,r,t.firstChild,e,i,o,!1)}function nk(t,e,n,r,i,o){let s=n[Ir],c=s[ir].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Hs(e,t,i,u,o)}else{let l=c,u=s[Ut];GC(r)&&(l.flags|=128),Vg(t,e,l,u,i,o,!0)}}function rk(t,e,n,r,i){let o=n[Mo],s=br(n);o!==s&&Hs(e,t,r,o,i);for(let a=vn;a<n.length;a++){let c=n[a];Ld(c[pe],c,t,e,r,o)}}function ik(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Zr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zr.Important),t.setStyle(n,r,i,o))}}function ok(t,e,n){t.setAttribute(e,"style",n)}function zI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&um(t,e,r),i!==null&&zI(t,e,i),o!==null&&ok(t,e,o)}var Vn={};function v(t=1){GI(xt(),De(),Ui()+t,!1)}function GI(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Zu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ed(e,o,0,n)}Po(n)}function S(t,e=we.Default){let n=De();if(n===null)return j(t,e);let r=yn();return EI(r,n,rn(t),e)}function WI(t,e,n,r,i,o){let s=Re(null);try{let a=null;i&re.SignalBased&&(a=e[r][Di]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):uI(e,a,r,o)}finally{Re(s)}}function sk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Po(~i);else{let o=i,s=n[++r],a=n[++r];oR(s,o);let c=e[o];a(2,c)}}}finally{Po(-1)}}function jd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Dr]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),PC(d),d[Ut]=d[ta]=t,d[kn]=n,d[Qr]=s||t&&t[Qr],d[ht]=a||t&&t[ht],d[Ws]=c||t&&t[Ws]||null,d[ir]=o,d[bd]=k1(),d[od]=u,d[xC]=l,d[Ir]=e.type==2?t[Ir]:d,d}function Ec(t,e,n,r,i){let o=t.data[e];if(o===null)o=ak(t,e,n,r,i),iR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=eR();o.injectorIndex=s===null?-1:s.injectorIndex}return Vo(o,!0),o}function ak(t,e,n,r,i){let o=kC(),s=vg(),a=s?o:o&&o.parent,c=t.data[e]=fk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function KI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function QI(t,e,n,r,i){let o=Ui(),s=r&2;try{Po(-1),s&&e.length>Nn&&GI(t,e,Nn,!1),wr(s?2:0,i),n(r,i)}finally{Po(o),wr(s?3:1,i)}}function Lg(t,e,n){if(fg(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Re(r)}}}function jg(t,e,n){RC()&&(_k(t,e,n,or(n,e)),(n.flags&64)===64&&JI(t,e,n))}function Ug(t,e,n=or){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function YI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Bg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Bg(t,e,n,r,i,o,s,a,c,l,u){let d=Nn+r,h=d+i,m=ck(d,h),w=typeof l=="function"?l():l;return m[pe]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:u}}function ck(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Vn);return n}function lk(t,e,n,r){let o=r.get(h1,SI)||n===Cr.ShadowDom,s=t.selectRootElement(e,o);return uk(s),s}function uk(t){dk(t)}var dk=()=>null;function hk(t,e,n,r){let i=tb(e);i.push(n),t.firstCreatePass&&nb(t).push(r,i.length-1)}function fk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return XO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function iC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?oC(r,n,l,a,c):oC(r,n,l,a)}return r}function oC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function pk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,m=h?h.inputs:null,w=h?h.outputs:null;c=iC(0,d.inputs,u,c,m),l=iC(1,d.outputs,u,l,w);let I=c!==null&&s!==null&&!CC(e)?Ak(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function mk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $g(t,e,n,r,i,o,s,a){let c=or(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(zg(t,n,u,r,i),Td(e)&&gk(n,e.index)):e.type&3?(r=mk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function gk(t,e){let n=ji(e,t);n[ne]&16||(n[ne]|=64)}function Hg(t,e,n,r){if(RC()){let i=r===null?null:{"":-1},o=Ek(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&XI(t,e,n,s,i,a),i&&Ck(n,r,i)}n.mergedAttrs=ic(n.mergedAttrs,n.attrs)}function XI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Im(hd(n,e),t,r[l].type);bk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=KI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ic(n.mergedAttrs,u.hostAttrs),Tk(t,n,e,c,u),Ik(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pk(t,n,o)}function vk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;yk(s)!=a&&s.push(a),s.push(n,r,o)}}function yk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function _k(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Td(n)&&Sk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hd(n,e),Vi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ro(e,t,a,n);if(Vi(l,e),s!==null&&Dk(e,a-i,l,c,n,s),Xr(c)){let u=ji(n.index,e);u[kn]=Ro(e,t,a,n)}}}function JI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sR();try{Po(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];hm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wk(c,l)}}finally{Po(-1),hm(s)}}function wk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ek(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DO(e,s.selectors,!1))if(r||(r=[]),Xr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;km(t,e,c)}else r.unshift(s),km(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function km(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ck(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new k(-301,!1);r.push(e[i],o)}}}function Ik(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Xr(e)&&(n[""]=t)}}function bk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Tk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ys(i.type,!0)),s=new Oo(o,Xr(i),S);t.blueprint[r]=s,n[r]=s,vk(t,e,r,KI(t,n,i.hostVars,Vn),i)}function Sk(t,e,n){let r=or(e,t),i=YI(n),o=t[Qr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ud(t,jd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Dk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];WI(r,n,c,l,u,d)}}function Ak(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function ZI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eb(t,e){let n=t.contentQueries;if(n!==null){let r=Re(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];_g(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function Ud(t,e){return t[sc]?t[BE][nr]=e:t[sc]=e,t[BE]=e,e}function Nm(t,e,n){_g(0);let r=Re(null);try{e(t,n)}finally{Re(r)}}function tb(t){return t[oc]||(t[oc]=[])}function nb(t){return t.cleanup||(t.cleanup=[])}function xk(t,e,n){return(t===null||Xr(t))&&(n=BO(n[e.index])),n[ht]}function rb(t,e){let n=t[Ws],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function zg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];WI(u,l,r,a,c,i)}}function ib(t,e,n){let r=MC(e,t);j1(t[ht],r,n)}function Mk(t,e){let n=ji(e,t),r=n[pe];Pk(r,n);let i=n[Dr];i!==null&&n[od]===null&&(n[od]=Mg(i,n[Ws])),qg(r,n,n[kn])}function Pk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function qg(t,e,n){wg(e);try{let r=t.viewQuery;r!==null&&Nm(1,r,n);let i=t.template;i!==null&&QI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yr]?.finishViewCreation(t),t.staticContentQueries&&eb(t,e),t.staticViewQueries&&Nm(2,t.viewQuery,n);let o=t.components;o!==null&&Ok(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Eg()}}function Ok(t,e){for(let n=0;n<e.length;n++)Mk(t,e[n])}function ob(t,e,n,r){let i=Re(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=jd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[gc]=l;let u=t[Yr];return u!==null&&(c[Yr]=u.createEmbeddedView(o)),qg(o,c,n),c}finally{Re(i)}}function Rk(t,e){let n=vn+e;if(n<t.length)return t[n]}function Fm(t,e){return!e||e.firstChild===null||GC(t)}function sb(t,e,n,r=!0){let i=e[pe];if(z1(i,e,t,n),r){let s=Rm(n,t),a=e[ht],c=Fg(a,t[Mo]);c!==null&&$1(i,t[ir],a,e,c,s)}let o=e[od];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kk(t,e){let n=fd(t,e);return n!==void 0&&Ng(n[pe],n),n}function md(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(br(o)),ti(o)&&Nk(o,r);let s=n.type;if(s&8)md(t,e,n.child,r);else if(s&32){let a=kg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=HI(e,n);if(Array.isArray(a))r.push(...a);else{let c=cc(e[Ir]);md(c[pe],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Nk(t,e){for(let n=vn;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&md(r[pe],r,i,e)}t[Mo]!==t[Dr]&&e.push(t[Mo])}var ab=[];function Fk(t){return t[xo]??Vk(t)}function Vk(t){let e=ab.pop()??Object.create(jk);return e.lView=t,e}function Lk(t){t.lView[xo]!==t&&(t.lView=null,ab.push(t))}var jk=Oe(V({},yu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[xo]=this}});function cb(t){return ub(t[sc])}function lb(t){return ub(t[nr])}function ub(t){for(;t!==null&&!ti(t);)t=t[nr];return t}var db=100;function hb(t,e=!0,n=0){let r=t[Qr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Uk(t,n)}catch(s){throw e&&rb(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Uk(t,e){Vm(t,e);let n=0;for(;gg(t);){if(n===db)throw new k(103,!1);n++,Vm(t,1)}}function Bk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[Qr].inlineEffectRunner?.flush(),wg(e);let s=null,a=null;!o&&$k(t)&&(a=Fk(e),s=Cp(a));try{PC(e),rR(t.bindingStartIndex),n!==null&&QI(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Zu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ed(e,d,0,null),Yp(e,0)}if(Hk(e),fb(e,0),t.contentQueries!==null&&eb(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Zu(e,d)}else{let d=t.contentHooks;d!==null&&ed(e,d,1),Yp(e,1)}sk(t,e);let l=t.components;l!==null&&mb(e,l,0);let u=t.viewQuery;if(u!==null&&Nm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Zu(e,d)}else{let d=t.viewHooks;d!==null&&ed(e,d,2),Yp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xu]){for(let d of e[Xu])d();e[Xu]=null}o||(e[ne]&=-73)}catch(c){throw ac(e),c}finally{a!==null&&(Ip(a,s),Lk(a)),Eg()}}function $k(t){return t.type!==2}function fb(t,e){for(let n=cb(t);n!==null;n=lb(n))for(let r=vn;r<n.length;r++){let i=n[r];pb(i,e)}}function Hk(t){for(let e=cb(t);e!==null;e=lb(e)){if(!(e[ne]&hg.HasTransplantedViews))continue;let n=e[Ks];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ut];qO(i)}}}function zk(t,e,n){let r=ji(e,t);pb(r,n)}function pb(t,e){mg(t)&&Vm(t,e)}function Vm(t,e){let r=t[pe],i=t[ne],o=t[xo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_u(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)Bk(r,t,r.template,t[kn]);else if(i&8192){fb(t,1);let a=r.components;a!==null&&mb(t,a,1)}}function mb(t,e,n){for(let r=0;r<e.length;r++)zk(t,e[r],n)}function Gg(t){for(t[Qr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=cc(t);if(FO(t)&&!e)return t;t=e}return null}var ko=class{get rootNodes(){let e=this._lView,n=e[pe];return md(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(e){this._lView[kn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(ti(e)){let n=e[sd],r=n?n.indexOf(this):-1;r>-1&&(fd(e,r),ad(n,r))}this._attachedToViewContainer=!1}Ng(this._lView[pe],this._lView)}onDestroy(e){OC(this._lView,e)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){dm(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,hb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,UI(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e,dm(this._lView)}},rr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wk;let t=e;return t})(),qk=rr,Gk=class extends qk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ob(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ko(i)}};function Wk(){return Wg(yn(),De())}function Wg(t,e){return t.type&4?new Gk(e,t,na(t,e)):null}var pQ=new RegExp(`^(\\d+)*(${kR}|${RR})*(.*)`);var Kk=()=>null;function Lm(t,e){return Kk(t,e)}var hc=class{},jm=class{},gd=class{};function Qk(t){let e=Error(`No component factory found for ${on(t)}.`);return e[Yk]=t,e}var Yk="ngComponent";var Um=class{resolveComponentFactory(e){throw Qk(e)}},Bd=(()=>{let e=class e{};e.NULL=new Um;let t=e;return t})(),No=class{},si=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Xk();let t=e;return t})();function Xk(){let t=De(),e=yn(),n=ji(e.index,t);return(Do(n)?n:t)[ht]}var Jk=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),em={},gb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Zk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Bm=class extends gb{constructor(e){super(),this._lView=e}onDestroy(e){return OC(this._lView,e),()=>WO(this._lView,e)}};function Zk(){return new Bm(De())}var sC=new Set;function $i(t){sC.has(t)||(sC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function aC(...t){}function eN(){let t=typeof So.requestAnimationFrame=="function",e=So[t?"requestAnimationFrame":"setTimeout"],n=So[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=eN().nativeRequestAnimationFrame,rN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tN,aC,aC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tN={};function Kg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(So,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$m(t),t.isCheckStableRunning=!0,Kg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$m(t))}function rN(t){let e=()=>{nN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(iN(a))return n.invokeTask(i,o,s,a);try{return cC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lC(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return cC(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),lC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,$m(t),Kg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function $m(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lC(t){t._nesting--,Kg(t)}function iN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var vb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function vd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=lm(i,a);else if(o==2){let c=a,l=e[++s];r=lm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var yd=class extends Bd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fi(e);return new Zs(n,this.ngModule)}};function uC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function oN(t){let e=t.toLowerCase();return e==="svg"?VO:e==="math"?LO:null}var Hm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Md(r);let i=this.injector.get(e,em,r);return i!==em||n===em?i:this.parentInjector.get(e,n,r)}},Zs=class extends gd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=uC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=PO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Re(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Hm(e,s):e,c=a.get(No,null);if(c===null)throw new k(407,!1);let l=a.get(Jk,null),u=a.get(vb,null),d=a.get(hc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",I=r?lk(m,r,this.componentDef.encapsulation,a):jI(m,w,oN(w)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let x=null;I!==null&&(x=Mg(I,a,!0));let H=Bg(0,null,null,1,0,null,null,null,null,null,null),q=jd(null,H,null,A,null,null,h,m,a,null,x);wg(q);let g,ee;try{let O=this.componentDef,X,de=null;O.findHostDirectiveDefs?(X=[],de=new Map,O.findHostDirectiveDefs(O,X,de),X.push(O)):X=[O];let Te=sN(q,I),xe=aN(Te,I,O,X,q,h,m);ee=pg(H,Nn),I&&uN(m,O,I,r),n!==void 0&&dN(ee,this.ngContentSelectors,n),g=lN(xe,O,X,de,q,[hN]),qg(H,q,null)}finally{Eg()}return new zm(this.componentType,g,na(ee,q),q,ee)}finally{Re(o)}}},zm=class extends jm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ko(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;zg(o[pe],o,i,e,n),this.previousInputValues.set(e,n);let s=ji(this._tNode.index,o);Gg(s)}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sN(t,e){let n=t[pe],r=Nn;return t[r]=e,Ec(n,r,2,"#host",null)}function aN(t,e,n,r,i,o,s){let a=i[pe];cN(r,t,e,s);let c=null;e!==null&&(c=Mg(e,i[Ws]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=jd(i,YI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&km(a,t,r.length-1),Ud(i,d),i[t.index]=d}function cN(t,e,n,r){for(let i of t)e.mergedAttrs=ic(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vd(e,e.mergedAttrs,!0),n!==null&&qI(r,n,e))}function lN(t,e,n,r,i,o){let s=yn(),a=i[pe],c=or(s,i);XI(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Ro(i,a,d,s);Vi(h,i)}JI(a,i,s),c&&Vi(c,i);let l=Ro(i,a,s.directiveStart+s.componentOffset,s);if(t[kn]=i[kn]=l,o!==null)for(let u of o)u(l,e);return Lg(a,s,i),l}function uN(t,e,n,r){if(r)um(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=OO(e.selectors[0]);i&&um(t,n,i),o&&o.length>0&&zI(t,n,o.join(" "))}}function dN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function hN(){let t=yn();Rd(De()[pe],t)}var $t=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fN;let t=e;return t})();function fN(){let t=yn();return _b(t,De())}var pN=$t,yb=class extends pN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=Og(this._hostTNode,this._hostLView);if(mI(e)){let n=dd(e,this._hostLView),r=ud(e),i=n[pe].data[r+8];return new Ao(i,n)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=dC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Fm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!KR(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new Zs(Fi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(At,null);I&&(o=I)}let u=Fi(c.componentType??{}),d=Lm(this._lContainer,u?.id??null),h=d?.firstChild??null,m=c.create(l,i,h,o);return this.insertImpl(m.hostView,a,Fm(this._hostTNode,d)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ut],l=new yb(c,c[ir],c[Ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sb(s,i,o,r),e.attachToViewContainerRef(),qC(tm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=dC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);r&&(ad(tm(this._lContainer),n),Ng(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);return r&&ad(tm(this._lContainer),n)!=null?new ko(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function dC(t){return t[sd]}function tm(t){return t[sd]||(t[sd]=[])}function _b(t,e){let n,r=e[t.index];return ti(r)?n=r:(n=ZI(r,e,null,t),e[t.index]=n,Ud(e,n)),gN(n,e,t,r),new yb(n,t,e)}function mN(t,e){let n=t[ht],r=n.createComment(""),i=or(e,t),o=Fg(n,i);return pd(n,o,r,X1(n,i),!1),r}var gN=_N,vN=()=>!1;function yN(t,e,n){return vN(t,e,n)}function _N(t,e,n,r){if(t[Mo])return;let i;n.type&8?i=br(r):i=mN(e,n),t[Mo]=i}var qm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Gm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Qg(e,n).matches!==null&&this.queries[n].setDirty()}},Wm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DN(e):this.predicate=e}},Km=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,wN(n,o)),this.matchTNodeWithReadOption(e,n,td(n,e,o,!1,!1))}else r===rr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,td(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===et||i===$t||i===rr&&n.type&4)this.addMatch(n.index,-2);else{let o=td(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function wN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function EN(t,e){return t.type&11?na(t,e):t.type&4?Wg(t,e):null}function CN(t,e,n,r){return n===-1?EN(e,t):n===-2?IN(t,e,r):Ro(t,t[pe],n,e)}function IN(t,e,n){if(n===et)return na(e,t);if(n===rr)return Wg(e,t);if(n===$t)return _b(e,t)}function wb(t,e,n,r){let i=e[Yr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(CN(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ym(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=wb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=vn;d<u.length;d++){let h=u[d];h[gc]===h[Ut]&&Ym(h[pe],h,l,r)}if(u[Ks]!==null){let d=u[Ks];for(let h=0;h<d.length;h++){let m=d[h];Ym(m[pe],m,l,r)}}}}}return r}function bN(t,e){return t[Yr].queries[e].queryList}function TN(t,e,n){let r=new fm((n&4)===4);return hk(t,e,r,r.destroy),(e[Yr]??=new Gm).queries.push(new qm(r))-1}function SN(t,e,n){let r=xt();return r.firstCreatePass&&(AN(r,new Wm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),TN(r,De(),e)}function DN(t){return t.split(",").map(e=>e.trim())}function AN(t,e,n){t.queries===null&&(t.queries=new Km),t.queries.track(new Qm(e,n))}function Qg(t,e){return t.queries.getByIndex(e)}function xN(t,e){let n=t[pe],r=Qg(n,e);return r.crossesNgTemplate?Ym(n,t,e,[]):wb(n,t,r,e)}function MN(t){return typeof t=="function"&&t[Di]!==void 0}function ai(t,e){$i("NgSignals");let n=oE(t),r=n[Di];return e?.equal&&(r.equal=e.equal),n.set=i=>Tp(r,i),n.update=i=>sE(r,i),n.asReadonly=PN.bind(n),n}function PN(){let t=this[Di];if(t.readonlyFn===void 0){let e=()=>this();e[Di]=t,t.readonlyFn=e}return t.readonlyFn}function Eb(t){return MN(t)&&typeof t.set=="function"}function ON(t){return Object.getPrototypeOf(t.prototype).constructor}function qe(t){let e=ON(t.type),n=!0,r=[t];for(;e;){let i;if(Xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Qu(t.inputs),s.inputTransforms=Qu(t.inputTransforms),s.declaredInputs=Qu(t.declaredInputs),s.outputs=Qu(t.outputs);let a=i.hostBindings;a&&VN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&NN(t,c),l&&FN(t,l),RN(t,i),gO(t.outputs,i.outputs),Xr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===qe&&(n=!1)}}e=Object.getPrototypeOf(e)}kN(r)}function RN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function kN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ic(i.hostAttrs,n=ic(n,i.hostAttrs))}}function Qu(t){return t===Gs?{}:t===gn?[]:t}function NN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function FN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function VN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function $d(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Li=class{},fc=class{};var Xm=class extends Li{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yd(this);let i=SC(e);this._bootstrapComponents=LI(i.bootstrap),this._r3Injector=bI(e,n,[{provide:Li,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver},...r],on(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jm=class extends fc{constructor(e){super(),this.moduleType=e}create(e){return new Xm(this.moduleType,e,[])}};var _d=class extends Li{constructor(e){super(),this.componentFactoryResolver=new yd(this),this.instance=null;let n=new dc([...e.providers,{provide:Li,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],e.parent||Od(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Yg(t,e,n=null){return new _d({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Uo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cb(t){return jN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function LN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ib(t,e,n){return t[e]=n}function UN(t,e){return t[e]}function Sr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function BN(t,e,n,r){let i=Sr(t,e,n);return Sr(t,e+1,r)||i}function $N(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ec(e,t,4,s||null,Qs(l,a));Hg(e,n,u,Qs(l,c)),Rd(e,u);let d=u.tView=Bg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function P(t,e,n,r,i,o,s,a){let c=De(),l=xt(),u=t+Nn,d=l.firstCreatePass?$N(u,l,c,e,n,r,i,o,s):l.data[u];Vo(d,!1);let h=HN(l,c,d,t);Dd()&&Vd(l,c,h,d),Vi(h,c);let m=ZI(h,c,h,d);return c[u]=m,Ud(c,m),yN(m,d,c),Sd(d)&&jg(l,c,d),s!=null&&Ug(c,d,a),P}var HN=zN;function zN(t,e,n,r){return Ad(!0),e[ht].createComment("")}function qN(t,e,n,r){return Sr(t,vc(),n)?e+lc(n)+r:Vn}function GN(t,e,n,r,i,o){let s=nR(),a=BN(t,s,n,i);return yg(2),a?e+lc(n)+r+lc(i)+o:Vn}function Yu(t,e){return t<<17|e<<2}function Fo(t){return t>>17&32767}function WN(t){return(t&2)==2}function KN(t,e){return t&131071|e<<17}function Zm(t){return t|2}function ea(t){return(t&131068)>>2}function nm(t,e){return t&-131069|e<<2}function QN(t){return(t&1)===1}function eg(t){return t|1}function YN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fo(s),c=ea(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||yc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Fo(t[a+1]);t[r+1]=Yu(h,a),h!==0&&(t[h+1]=nm(t[h+1],r)),t[a+1]=KN(t[a+1],r)}else t[r+1]=Yu(a,0),a!==0&&(t[a+1]=nm(t[a+1],r)),a=r;else t[r+1]=Yu(c,0),a===0?a=r:t[c+1]=nm(t[c+1],r),c=r;l&&(t[r+1]=Zm(t[r+1])),hC(t,u,r,!0),hC(t,u,r,!1),XN(e,u,t,r,o),s=Yu(a,c),o?e.classBindings=s:e.styleBindings=s}function XN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&yc(o,e)>=0&&(n[r+1]=eg(n[r+1]))}function hC(t,e,n,r){let i=t[n+1],o=e===null,s=r?Fo(i):ea(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];JN(c,e)&&(a=!0,t[s+1]=r?eg(l):Zm(l)),s=r?Fo(l):ea(l)}a&&(t[n+1]=r?Zm(i):eg(i))}function JN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yc(t,e)>=0:!1}var tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZN(t){return t.substring(tr.key,tr.keyEnd)}function eF(t){return tF(t),bb(t,Tb(t,0,tr.textEnd))}function bb(t,e){let n=tr.textEnd;return n===e?-1:(e=tr.keyEnd=nF(t,tr.key=e,n),Tb(t,e,n))}function tF(t){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=t.length}function Tb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function nF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function _(t,e,n){let r=De(),i=vc();if(Sr(r,i,e)){let o=xt(),s=Cg();$g(o,s,r,t,e,r[ht],n,!1)}return _}function tg(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";zg(t,n,o[s],s,r)}function Ht(t,e,n){return Db(t,e,n,!1),Ht}function se(t,e){return Db(t,e,null,!0),se}function Sb(t){iF(uF,rF,t,!0)}function rF(t,e){for(let n=eF(e);n>=0;n=bb(e,n))bg(t,ZN(e),!0)}function Db(t,e,n,r){let i=De(),o=xt(),s=yg(2);if(o.firstUpdatePass&&xb(o,t,s,r),e!==Vn&&Sr(i,s,e)){let a=o.data[Ui()];Mb(o,a,i,i[ht],t,i[s+1]=hF(e,n),r,s)}}function iF(t,e,n,r){let i=xt(),o=yg(2);i.firstUpdatePass&&xb(i,null,o,r);let s=De();if(n!==Vn&&Sr(s,o,n)){let a=i.data[Ui()];if(Pb(a,r)&&!Ab(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=lm(c,n||"")),tg(i,a,s,n,r)}else dF(i,a,s,s[ht],s[o+1],s[o+1]=lF(t,e,n),r,o)}}function Ab(t,e){return e>=t.expandoStartIndex}function xb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ui()],s=Ab(t,n);Pb(o,r)&&e===null&&!s&&(e=!1),e=oF(i,o,e,r),YN(i,o,e,n,s,r)}}function oF(t,e,n,r){let i=VC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rm(null,t,e,n,r),n=pc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=rm(i,t,e,n,r),o===null){let c=sF(t,e,r);c!==void 0&&Array.isArray(c)&&(c=rm(null,t,e,c[1],r),c=pc(c,e.attrs,r),aF(t,e,r,c))}else o=cF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function sF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ea(r)!==0)return t[Fo(r)]}function aF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fo(i)]=r}function cF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=pc(r,s,n)}return pc(r,e.attrs,n)}function rm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=pc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function pc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),bg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lF(t,e,n){if(n==null||n==="")return gn;let r=[],i=Ar(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function uF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&bg(t,r,n)}function dF(t,e,n,r,i,o,s,a){i===Vn&&(i=gn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,I;u===d?(c+=2,l+=2,h!==m&&(w=d,I=m)):d===null||u!==null&&u<d?(c+=2,w=u):(l+=2,w=d,I=m),w!==null&&Mb(t,e,n,r,w,I,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Mb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=QN(l)?fC(c,e,n,i,ea(l),s):void 0;if(!wd(u)){wd(o)||WN(l)&&(o=fC(c,null,n,i,a,s));let d=MC(Ui(),n);ik(r,s,d,i,o)}}function fC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Vn&&(h=d?gn:void 0);let m=d?Kp(h,r):u===r?h:void 0;if(l&&!wd(m)&&(m=Kp(c,r)),wd(m)&&(a=m,s))return a;let w=t[i+1];i=s?Fo(w):ea(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Kp(c,r))}return a}function wd(t){return t!==void 0}function hF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=on(Ar(t)))),t}function Pb(t,e){return(t.flags&(e?8:16))!==0}function ra(t,e,n){$i("NgControlFlow");let r=De(),i=vc(),o=fF(r,Nn+t),s=0;if(Sr(r,i,e)){let a=Re(null);try{if(kk(o,s),e!==-1){let c=pF(r[pe],Nn+e),l=Lm(o,c.tView.ssrId),u=ob(r,c,n,{dehydratedView:l});sb(o,u,s,Fm(c,l))}}finally{Re(a)}}else{let a=Rk(o,s);a!==void 0&&(a[kn]=n)}}function fF(t,e){return t[e]}function pF(t,e){return pg(t,e)}function mF(t,e,n,r,i,o){let s=e.consts,a=Qs(s,i),c=Ec(e,t,2,r,a);return Hg(e,n,c,Qs(s,o)),c.attrs!==null&&vd(c,c.attrs,!1),c.mergedAttrs!==null&&vd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=De(),o=xt(),s=Nn+t,a=i[ht],c=o.firstCreatePass?mF(s,o,i,e,n,r):o.data[s],l=gF(o,i,c,a,e,t);i[s]=l;let u=Sd(c);return Vo(c,!0),qI(a,l,c),(c.flags&32)!==32&&Dd()&&Vd(o,i,l,c),KO()===0&&Vi(l,i),QO(),u&&(jg(o,i,c),Lg(o,c,i)),r!==null&&Ug(i,c),f}function p(){let t=yn();vg()?NC():(t=t.parent,Vo(t,!1));let e=t;JO(e)&&ZO(),YO();let n=xt();return n.firstCreatePass&&(Rd(n,t),fg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&t1(e)&&tg(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&n1(e)&&tg(n,e,De(),e.stylesWithoutHost,!1),p}function R(t,e,n,r){return f(t,e,n,r),p(),R}var gF=(t,e,n,r,i,o)=>(Ad(!0),jI(r,i,lR()));function vF(t,e,n,r,i){let o=e.consts,s=Qs(o,r),a=Ec(e,t,8,"ng-container",s);s!==null&&vd(a,s,!0);let c=Qs(o,i);return Hg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Ee(t,e,n){let r=De(),i=xt(),o=t+Nn,s=i.firstCreatePass?vF(o,i,r,e,n):i.data[o];Vo(s,!0);let a=yF(i,r,s,t);return r[o]=a,Dd()&&Vd(i,r,a,s),Vi(a,r),Sd(s)&&(jg(i,r,s),Lg(i,s,r)),n!=null&&Ug(r,s),Ee}function Ce(){let t=yn(),e=xt();return vg()?NC():(t=t.parent,Vo(t,!1)),e.firstCreatePass&&(Rd(e,t),fg(t)&&e.queries.elementEnd(t)),Ce}function Xg(t,e,n){return Ee(t,e,n),Ce(),Xg}var yF=(t,e,n,r)=>(Ad(!0),U1(e[ht],""));function W(){return De()}function Jg(t,e,n){let r=De(),i=vc();if(Sr(r,i,e)){let o=xt(),s=Cg(),a=VC(o.data),c=xk(a,s,r);$g(o,s,r,t,e,c,n,!0)}return Jg}var Ed="en-US";var _F=Ed;function wF(t){typeof t=="string"&&(_F=t.toLowerCase().replace(/_/g,"-"))}function C(t,e,n,r){let i=De(),o=xt(),s=yn();return Ob(o,i,i[ht],s,t,e,r),C}function EF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[oc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ob(t,e,n,r,i,o,s){let a=Sd(r),l=t.firstCreatePass&&nb(t),u=e[kn],d=tb(e),h=!0;if(r.type&3||s){let I=or(r,e),A=s?s(I):I,x=d.length,H=s?g=>s(br(g[r.index])):r.index,q=null;if(!s&&a&&(q=EF(t,e,i,r.index)),q!==null){let g=q.__ngLastListenerFn__||q;g.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,h=!1}else{o=mC(r,e,u,o,!1);let g=n.listen(A,i,o);d.push(o,g),l&&l.push(i,H,x,x+1)}}else o=mC(r,e,u,o,!1);let m=r.outputs,w;if(h&&m!==null&&(w=m[i])){let I=w.length;if(I)for(let A=0;A<I;A+=2){let x=w[A],H=w[A+1],ee=e[x][H].subscribe(o),O=d.length;if(d.push(o,ee),l){let X=typeof ee=="function"?O+1:-(O+1);l.push(i,r.index,O,X)}}}}function pC(t,e,n,r){let i=Re(null);try{return wr(6,e,n),n(r)!==!1}catch(o){return rb(t,o),!1}finally{wr(7,e,n),Re(i)}}function mC(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?ji(t.index,e):e;Gg(a);let c=pC(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=pC(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function y(t=1){return cR(t)}function Rb(t,e,n){SN(t,e,n)}function Zg(t){let e=De(),n=xt(),r=LC();_g(r+1);let i=Qg(n,r);if(t.dirty&&HO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=xN(e,r);t.reset(o,dR),t.notifyOnChanges()}return!0}return!1}function ev(){return bN(De(),LC())}function tt(t){let e=tR();return $O(e,Nn+t)}function M(t,e=""){let n=De(),r=xt(),i=t+Nn,o=r.firstCreatePass?Ec(r,i,1,e,null):r.data[i],s=CF(r,n,o,e,t);n[i]=s,Dd()&&Vd(r,n,s,o),Vo(o,!1)}var CF=(t,e,n,r,i)=>(Ad(!0),L1(e[ht],r));function _e(t){return Hd("",t,""),_e}function Hd(t,e,n){let r=De(),i=qN(r,t,e,n);return i!==Vn&&ib(r,Ui(),i),Hd}function sr(t,e,n,r,i){let o=De(),s=GN(o,t,e,n,r,i);return s!==Vn&&ib(o,Ui(),s),sr}function ci(t,e,n){Eb(e)&&(e=e());let r=De(),i=vc();if(Sr(r,i,e)){let o=xt(),s=Cg();$g(o,s,r,t,e,r[ht],n,!1)}return ci}function Hi(t,e){let n=Eb(t);return n&&t.set(e),n}function li(t,e){let n=De(),r=xt(),i=yn();return Ob(r,n,n[ht],i,t,e),li}function IF(t,e,n){let r=xt();if(r.firstCreatePass){let i=Xr(t);ng(n,r.data,r.blueprint,i,!0),ng(e,r.data,r.blueprint,i,!1)}}function ng(t,e,n,r,i){if(t=rn(t),Array.isArray(t))for(let o=0;o<t.length;o++)ng(t[o],e,n,r,i);else{let o=xt(),s=De(),a=yn(),c=Js(t)?t:rn(t.provide),l=lI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Js(t)||!t.multi){let m=new Oo(l,i,S),w=om(c,e,i?u:u+h,d);w===-1?(Im(hd(a,s),o,c),im(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=om(c,e,u+h,d),w=om(c,e,u,u+h),I=m>=0&&n[m],A=w>=0&&n[w];if(i&&!A||!i&&!I){Im(hd(a,s),o,c);let x=SF(i?TF:bF,n.length,i,r,l);!i&&A&&(n[w].providerFactory=x),im(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=kb(n[i?w:m],l,!i&&r);im(o,t,m>-1?m:w,x)}!i&&r&&A&&n[w].componentProviders++}}}function im(t,e,n,r){let i=Js(e),o=UR(e);if(i||o){let c=(o?rn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function kb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function om(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bF(t,e,n,r){return rg(this.multi,[])}function TF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ro(n,n[pe],this.providerFactory.index,r);o=a.slice(0,s),rg(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],rg(i,o);return o}function rg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SF(t,e,n,r,i){let o=new Oo(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,kb(o,i,r&&!n),o}function Cc(t,e=[]){return n=>{n.providersResolver=(r,i)=>IF(r,i?i(t):t,e)}}var DF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=sI(!1,r.type),o=i.length>0?Yg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(j(At))});let t=e;return t})();function K(t){$i("NgStandalone"),t.getStandaloneInjector=e=>e.get(DF).getOrCreateStandaloneInjector(t)}function zd(t,e,n){let r=FC()+t,i=De();return i[r]===Vn?Ib(i,r,n?e.call(n):e()):UN(i,r)}function qd(t,e,n,r){return xF(De(),FC(),t,e,n,r)}function AF(t,e){let n=t[e];return n===Vn?void 0:n}function xF(t,e,n,r,i,o){let s=e+n;return Sr(t,s,i)?Ib(t,s+1,o?r.call(o,i):r(i)):AF(t,s+1)}var ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nb=new ei("17.2.4"),Gd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fb=new Y("");function Bo(t){return!!t&&typeof t.then=="function"}function Vb(t){return!!t&&typeof t.subscribe=="function"}var Lb=new Y(""),jb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(Lb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Bo(s))r.push(s);else if(Vb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wd=new Y("");function MF(){iE(()=>{throw new k(600,!1)})}function PF(t){return t.isBoundToModule}function OF(t,e,n){try{let r=n();return Bo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Mr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(TI),this.afterRenderEffectManager=N(vb),this.componentTypes=[],this.components=[],this.isStable=N(Uo).hasPendingTasks.pipe(ie(r=>!r)),this._injector=N(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof gd;if(!this._injector.get(jb).done){let m=!o&&TC(r),w=!1;throw new k(405,w)}let a;o?a=r:a=this._injector.get(Bd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=PF(a)?void 0:this._injector.get(Li),l=i||a.selector,u=a.create(it.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Fb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),sm(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,!1);let r=Re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Re(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===db)throw new k(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!am(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>am(s))&&(i.execute(),!this._views.some(({_lView:s})=>am(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,hb(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;sm(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Wd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>sm(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new k(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function am(t){return gg(t)}var ig=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tv=(()=>{let e=class e{compileModuleSync(r){return new Jm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=SC(r),s=LI(o.declarations).reduce((a,c)=>{let l=Fi(c);return l&&a.push(new Zs(l)),a},[]);return new ig(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RF=(()=>{let e=class e{constructor(){this.zone=N(Se),this.applicationRef=N(Mr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kF(t){return[{provide:Se,useFactory:t},{provide:Xs,multi:!0,useFactory:()=>{let e=N(RF,{optional:!0});return()=>e.initialize()}},{provide:Xs,multi:!0,useFactory:()=>{let e=N(LF);return()=>{e.initialize()}}},{provide:TI,useFactory:NF}]}function NF(){let t=N(Se),e=N(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FF(t){let e=kF(()=>new Se(VF(t)));return Bi([[],e])}function VF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LF=(()=>{let e=class e{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=N(Se),this.pendingTasks=N(Uo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jF(){return typeof $localize<"u"&&$localize.locale||Ed}var nv=new Y("",{providedIn:"root",factory:()=>N(nv,we.Optional|we.SkipSelf)||jF()});var Ub=new Y("");var rd=null;function UF(t=[],e){return it.create({name:e,providers:[{provide:Pd,useValue:"platform"},{provide:Ub,useValue:new Set([()=>rd=null])},...t]})}function BF(t=[]){if(rd)return rd;let e=UF(t);return rd=e,MF(),$F(e),e}function $F(t){t.get(Sg,null)?.forEach(n=>n())}var Pr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HF;let t=e;return t})();function HF(t){return zF(yn(),De(),(t&16)===16)}function zF(t,e,n){if(Td(t)&&!n){let r=ji(t.index,e);return new ko(r,r)}else if(t.type&47){let r=e[Ir];return new ko(r,e)}return null}var og=class{constructor(){}supports(e){return Cb(e)}create(e){return new sg(e)}},qF=(t,e)=>e,sg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<gC(r,i,o)?n:r,a=gC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let m=h<o.length?o[h]:o[h]=0,w=m+h;u<=w&&w<l&&(o[h]=m+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Cb(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,LN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ag(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ag=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Cd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new cg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vC(){return new rv([new og])}var rv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vC()),deps:[[e,new rI,new cn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new k(901,!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:vC});let t=e;return t})();function Bb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=BF(r),o=[FF(),...n||[]],a=new _d({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Se);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Tr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:m=>{l.handleError(m)}})});let d=()=>a.destroy(),h=i.get(Ub);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),OF(l,c,()=>{let m=a.get(jb);return m.runInitializers(),m.donePromise.then(()=>{let w=a.get(nv,Ed);wF(w||Ed);let I=a.get(Mr);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function Ln(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var GF=new Y("",{providedIn:"root",factory:()=>N(WF)}),WF=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new lg});let t=e;return t})(),lg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=N(Uo),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},ug=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=cE(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Tr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ui(t,e){$i("NgSignals"),!e?.injector&&WR(ui);let n=e?.injector??N(it),r=e?.manualCleanup!==!0?n.get(gb):null,i=new ug(n.get(GF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Pr,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[Xu]??=[]).push(i.watcher.notify),i}function Kd(t,e){let n=Fi(t),r=e.elementInjector||Od();return new Zs(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Wb=null;function di(){return Wb}function Kb(t){Wb??=t}var Qd=class{};var zt=new Y(""),Qb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(QF),providedIn:"platform"});let t=e;return t})();var QF=(()=>{let e=class e extends Qb{constructor(){super(),this._doc=N(zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(r){let i=di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=di().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Yb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $b(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function $o(t){return t&&t[0]!=="?"?"?"+t:t}var Yd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(Xb),providedIn:"root"});let t=e;return t})(),YF=new Y(""),Xb=(()=>{let e=class e extends Yd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Yb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+$o(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+$o(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+$o(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(Qb),j(YF,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ic=(()=>{let e=class e{constructor(r){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ZF($b(Hb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+$o(i))}normalize(r){return e.stripTrailingSlash(JF(this._basePath,Hb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$o(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+$o(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=$o,e.joinWithSlash=Yb,e.stripTrailingSlash=$b,e.\u0275fac=function(i){return new(i||e)(j(Yd))},e.\u0275prov=L({token:e,factory:()=>XF(),providedIn:"root"});let t=e;return t})();function XF(){return new Ic(j(Yd))}function JF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hb(t){return t.replace(/\/index.html$/,"")}function ZF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Xd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var iv=/\s+/,zb=[],gt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=zb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(iv):zb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(iv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(iv).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(S(et),S(si))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ov=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ke=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new ov(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),qb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);qb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S($t),S(rr),S(rv))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qb(t,e){t.context.$implicit=e.item}var be=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new sv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Gb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Gb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S($t),S(rr))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),sv=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${on(e)}'.`)}var J=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({});let t=e;return t})(),Jb="browser",eV="server";function bc(t){return t===eV}var ia=class{};var Sc=class{},Dc=class{},hi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var lv=class{encodeKey(e){return Zb(e)}encodeValue(e){return Zb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function rV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var iV=/%(\d[a-f0-9])/gi,oV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zb(t){return encodeURIComponent(t).replace(iV,(e,n)=>oV[n]??e)}function Jd(t){return`${t}`}var qi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=rV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Jd):[Jd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Jd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var uv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function sV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tT(t){return typeof Blob<"u"&&t instanceof Blob}function nT(t){return typeof FormData<"u"&&t instanceof FormData}function aV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Tc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(sV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new hi,this.context??=new uv,!this.params)this.params=new qi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:eT(this.body)||tT(this.body)||nT(this.body)||aV(this.body)||typeof this.body=="string"?this.body:this.body instanceof qi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nT(this.body)?null:tT(this.body)?this.body.type||null:eT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Gi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Gi||{}),Ac=class{constructor(e,n=Mc.Ok,r="OK"){this.headers=e.headers||new hi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zd=class t extends Ac{constructor(e={}){super(e),this.type=Gi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xc=class t extends Ac{constructor(e={}){super(e),this.type=Gi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zi=class extends Ac{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Mc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Mc||{});function av(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ho=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Tc)s=r;else{let l;o.headers instanceof hi?l=o.headers:l=new hi(o.headers);let u;o.params&&(o.params instanceof qi?u=o.params:u=new qi({fromObject:o.params})),s=new Tc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ce(s).pipe(Oi(l=>this.handler.handle(l)));if(r instanceof Tc||o.observe==="events")return a;let c=a.pipe(Zt(l=>l instanceof xc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new qi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,av(o,i))}post(r,i,o={}){return this.request("POST",r,av(o,i))}put(r,i,o={}){return this.request("PUT",r,av(o,i))}};e.\u0275fac=function(i){return new(i||e)(j(Sc))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),cV=/^\)\]\}',?\n/,lV="X-Request-URL";function rT(t){if(t.url)return t.url;let e=lV.toLocaleLowerCase();return t.headers.get(e)}var cv=(()=>{let e=class e{constructor(){this.fetchImpl=N(dv,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=N(Se)}handle(r){return new ae(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(hv,s=>i.error(new zi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let w=this.fetchImpl(r.urlWithParams,V({signal:i},s));uV(w),o.next({type:Gi.Sent}),a=yield w}catch(w){o.error(new zi({error:w,status:w.status??0,statusText:w.statusText,url:r.urlWithParams,headers:w.headers}));return}let c=new hi(a.headers),l=a.statusText,u=rT(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new Zd({headers:c,status:d,statusText:l,url:u})),a.body){let w=a.headers.get("content-length"),I=[],A=a.body.getReader(),x=0,H,q,g=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:O,value:X}=yield A.read();if(O)break;if(I.push(X),x+=X.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(H??=new TextDecoder).decode(X,{stream:!0}):void 0;let de=()=>o.next({type:Gi.DownloadProgress,total:w?+w:void 0,loaded:x,partialText:q});g?g.run(de):de()}}}));let ee=this.concatChunks(I,x);try{let O=a.headers.get("Content-Type")??"";h=this.parseBody(r,ee,O)}catch(O){o.error(new zi({error:O,headers:new hi(a.headers),status:a.status,statusText:a.statusText,url:rT(a)??r.urlWithParams}));return}}d===0&&(d=h?Mc.Ok:0),d>=200&&d<300?(o.next(new xc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new zi({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(cV,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),dv=class{};function hv(){}function uV(t){t.then(hv,hv)}function dV(t,e){return e(t)}function hV(t,e,n){return(r,i)=>ni(n,()=>e(r,o=>t(o,i)))}var fv=new Y(""),fV=new Y(""),sT=new Y("");var iT=(()=>{let e=class e extends Sc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=N(Uo);let o=N(sT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(fv),...this.injector.get(fV,[])]));this.chain=o.reduceRight((s,a)=>hV(s,a,this.injector),dV)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(To(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(j(Dc),j(At))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var pV=/^\)\]\}',?\n/;function mV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?$e(i.\u0275loadImpl()):ce(null)).pipe(Dt(()=>new ae(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,x)=>a.setRequestHeader(A,x.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let A=a.statusText||"OK",x=new hi(a.getAllResponseHeaders()),H=mV(a)||r.url;return l=new Zd({headers:x,status:a.status,statusText:A,url:H}),l},d=()=>{let{headers:A,status:x,statusText:H,url:q}=u(),g=null;x!==Mc.NoContent&&(g=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=g?Mc.Ok:0);let ee=x>=200&&x<300;if(r.responseType==="json"&&typeof g=="string"){let O=g;g=g.replace(pV,"");try{g=g!==""?JSON.parse(g):null}catch(X){g=O,ee&&(ee=!1,g={error:X,text:g})}}ee?(s.next(new xc({body:g,headers:A,status:x,statusText:H,url:q||void 0})),s.complete()):s.error(new zi({error:g,headers:A,status:x,statusText:H,url:q||void 0}))},h=A=>{let{url:x}=u(),H=new zi({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(H)},m=!1,w=A=>{m||(s.next(u()),m=!0);let x={type:Gi.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),r.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},I=A=>{let x={type:Gi.UploadProgress,loaded:A.loaded};A.lengthComputable&&(x.total=A.total),s.next(x)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:Gi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(j(ia))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),aT=new Y(""),gV="XSRF-TOKEN",vV=new Y("",{providedIn:"root",factory:()=>gV}),yV="X-XSRF-TOKEN",_V=new Y("",{providedIn:"root",factory:()=>yV}),eh=class{},wV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(j(zt),j(Fn),j(vV))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function EV(t,e){let n=t.url.toLowerCase();if(!N(aT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=N(eh).getToken(),i=N(_V);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var pv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(pv||{});function cT(t,e){return{\u0275kind:t,\u0275providers:e}}function lT(...t){let e=[Ho,oT,iT,{provide:Sc,useExisting:iT},{provide:Dc,useExisting:oT},{provide:fv,useValue:EV,multi:!0},{provide:aT,useValue:!0},{provide:eh,useClass:wV}];for(let n of t)e.push(...n.\u0275providers);return Bi(e)}function uT(t){return cT(pv.Interceptors,t.map(e=>({provide:fv,useValue:e,multi:!0})))}function dT(){return cT(pv.Fetch,[cv,{provide:Dc,useExisting:cv},{provide:sT,useExisting:cv}])}var fT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(h=64)),r.push(n[u],n[d],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new vv;let h=o<<2|a>>4;if(r.push(h),l!==64){let m=a<<4&240|l>>2;if(r.push(m),d!==64){let w=l<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},IV=function(t){let e=fT(t);return pT.encodeByteArray(e,!0)},Pc=function(t){return IV(t).replace(/\./g,"")},_v=function(t){try{return pT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TV=()=>bV().__FIREBASE_DEFAULTS__,SV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_v(t[1]);return e&&JSON.parse(e)},wv=()=>{try{return TV()||SV()||DV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ev=t=>{var e,n;return(n=(e=wv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mT=t=>{let e=Ev(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cv=()=>{var t;return(t=wv())===null||t===void 0?void 0:t.config},Iv=t=>{var e;return(e=wv())===null||e===void 0?void 0:e[`_${t}`]};var th=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function gT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(s)),""].join(".")}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function yT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _T(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wT(){let t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bv(){try{return typeof indexedDB=="object"}catch{return!1}}function ET(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var AV="FirebaseError",Tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fi.prototype.create)}},fi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function xV(t,e){return t.replace(MV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var MV=/\{\$([^}]+)}/g;function CT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(hT(o)&&hT(s)){if(!zo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hT(t){return t!==null&&typeof t=="object"}function Oc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function IT(t,e){let n=new yv(t,e);return n.subscribe.bind(n)}var yv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gv),i.error===void 0&&(i.error=gv),i.complete===void 0&&(i.complete=gv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gv(){}var ZQ=4*60*60*1e3;function Wi(t){return t&&t._delegate?t._delegate:t}var jn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qo="[DEFAULT]";var Tv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new th;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RV(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OV(t){return t===qo?void 0:t}function RV(t){return t.instantiationMode==="EAGER"}var nh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kV=[],Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{}),NV={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},FV=Ne.INFO,VV={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},LV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ki=class{constructor(e){this.name=e,this._logLevel=FV,this._logHandler=LV,this._userLogHandler=null,kV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var jV=(t,e)=>e.some(n=>t instanceof n),bT,TT;function UV(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BV(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ST=new WeakMap,Dv=new WeakMap,DT=new WeakMap,Sv=new WeakMap,xv=new WeakMap;function $V(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Or(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function HV(t){if(Dv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dv.set(t,e)}var Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AT(t){Av=t(Av)}function zV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(rh(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),Or(r)}:BV().includes(t)?function(...e){return t.apply(rh(this),e),Or(ST.get(this))}:function(...e){return Or(t.apply(rh(this),e))}}function qV(t){return typeof t=="function"?zV(t):(t instanceof IDBTransaction&&HV(t),jV(t,UV())?new Proxy(t,Av):t)}function Or(t){if(t instanceof IDBRequest)return $V(t);if(Sv.has(t))return Sv.get(t);let e=qV(t);return e!==t&&(Sv.set(t,e),xv.set(e,t)),e}var rh=t=>xv.get(t);function MT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Or(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Or(s.result),c.oldVersion,c.newVersion,Or(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var GV=["get","getKey","getAll","getAllKeys","count"],WV=["put","add","delete","clear"],Mv=new Map;function xT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=WV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GV.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Mv.set(e,o),o}AT(t=>Oe(V({},t),{get:(e,n,r)=>xT(e,n)||t.get(e,n,r),has:(e,n)=>!!xT(e,n)||t.has(e,n)}));var Ov=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KV(t){let e=t.getComponent();return e?.type==="VERSION"}var Rv="@firebase/app",PT="0.9.28";var Go=new Ki("@firebase/app"),QV="@firebase/app-compat",YV="@firebase/analytics-compat",XV="@firebase/analytics",JV="@firebase/app-check-compat",ZV="@firebase/app-check",eL="@firebase/auth",tL="@firebase/auth-compat",nL="@firebase/database",rL="@firebase/database-compat",iL="@firebase/functions",oL="@firebase/functions-compat",sL="@firebase/installations",aL="@firebase/installations-compat",cL="@firebase/messaging",lL="@firebase/messaging-compat",uL="@firebase/performance",dL="@firebase/performance-compat",hL="@firebase/remote-config",fL="@firebase/remote-config-compat",pL="@firebase/storage",mL="@firebase/storage-compat",gL="@firebase/firestore",vL="@firebase/firestore-compat",yL="firebase",_L="10.8.1";var kv="[DEFAULT]",wL={[Rv]:"fire-core",[QV]:"fire-core-compat",[XV]:"fire-analytics",[YV]:"fire-analytics-compat",[ZV]:"fire-app-check",[JV]:"fire-app-check-compat",[eL]:"fire-auth",[tL]:"fire-auth-compat",[nL]:"fire-rtdb",[rL]:"fire-rtdb-compat",[iL]:"fire-fn",[oL]:"fire-fn-compat",[sL]:"fire-iid",[aL]:"fire-iid-compat",[cL]:"fire-fcm",[lL]:"fire-fcm-compat",[uL]:"fire-perf",[dL]:"fire-perf-compat",[hL]:"fire-rc",[fL]:"fire-rc-compat",[pL]:"fire-gcs",[mL]:"fire-gcs-compat",[gL]:"fire-fst",[vL]:"fire-fst-compat","fire-js":"fire-js",[yL]:"fire-js-all"};var Rc=new Map,Nv=new Map;function EL(t,e){try{t.container.addComponent(e)}catch(n){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yi(t){let e=t.name;if(Nv.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;Nv.set(e,t);for(let n of Rc.values())EL(n,t);return!0}function Nc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var CL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qi=new fi("app","Firebase",CL);var Fv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}};var Xi=_L;function jv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=Cv()),!n)throw Qi.create("no-options");let o=Rc.get(i);if(o){if(zo(n,o.options)&&zo(r,o.config))return o;throw Qi.create("duplicate-app",{appName:i})}let s=new nh(i);for(let c of Nv.values())s.addComponent(c);let a=new Fv(n,r,s);return Rc.set(i,a),a}function oa(t=kv){let e=Rc.get(t);if(!e&&t===kv&&Cv())return jv();if(!e)throw Qi.create("no-app",{appName:t});return e}function ih(){return Array.from(Rc.values())}function wt(t,e,n){var r;let i=(r=wL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(a.join(" "));return}Yi(new jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var IL="firebase-heartbeat-database",bL=1,kc="firebase-heartbeat-store",Pv=null;function NT(){return Pv||(Pv=MT(IL,bL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Pv}function TL(t){return E(this,null,function*(){try{let n=(yield NT()).transaction(kc),r=yield n.objectStore(kc).get(FT(t));return yield n.done,r}catch(e){if(e instanceof Tn)Go.warn(e.message);else{let n=Qi.create("idb-get",{originalErrorMessage:e?.message});Go.warn(n.message)}}})}function OT(t,e){return E(this,null,function*(){try{let r=(yield NT()).transaction(kc,"readwrite");yield r.objectStore(kc).put(e,FT(t)),yield r.done}catch(n){if(n instanceof Tn)Go.warn(n.message);else{let r=Qi.create("idb-set",{originalErrorMessage:n?.message});Go.warn(r.message)}}})}function FT(t){return`${t.name}!${t.options.appId}`}var SL=1024,DL=30*24*60*60*1e3,Vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=DL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RT(),{heartbeatsToSend:r,unsentEntries:i}=AL(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function RT(){return new Date().toISOString().substring(0,10)}function AL(t,e=SL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return bv()?ET().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield TL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kT(t){return Pc(JSON.stringify({version:2,heartbeats:t})).length}function xL(t){Yi(new jn("platform-logger",e=>new Ov(e),"PRIVATE")),Yi(new jn("heartbeat",e=>new Vv(e),"PRIVATE")),wt(Rv,PT,t),wt(Rv,PT,"esm2017"),wt("fire-js","")}xL("");var ML="firebase",PL="10.8.1";wt(ML,PL,"app");var Ko=new ei("ANGULARFIRE2_VERSION");function sh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fc=(t,e)=>{let n=e?[e]:ih(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},aa=class{constructor(){return Fc(OL)}},OL="app-check";function sa(){}var oh=class{zone;delegate;constructor(e,n=Vp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Uv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa)),n.pipe(dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ca=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new oh(Zone.current)),this.insideAngular=n.run(()=>new oh(Zone.current,Ns)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(Se))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ah(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function RL(t){return ah().ngZone.runOutsideAngular(()=>t())}function Wo(t){return ah().ngZone.run(()=>t())}function kL(t){return NL(ah())(t)}function NL(t){return function(n){return n=n.lift(new Uv(t.ngZone)),n.pipe(Mi(t.outsideAngular),xi(t.insideAngular))}}var FL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Wo(()=>t.apply(void 0,r))},la=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sa,{},sa,sa))),r[o]=FL(r[o],n));let i=RL(()=>t.apply(this,r));if(!e)if(i instanceof ae){let o=ah();return i.pipe(Mi(o.outsideAngular),xi(o.insideAngular))}else return Wo(()=>i);return i instanceof ae?i.pipe(kL):i instanceof Promise?Wo(()=>new Promise((o,s)=>i.then(a=>Wo(()=>o(a)),a=>Wo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Wo(()=>i)};var pi=class{constructor(e){return e}},Qo=class{constructor(){return ih()}};function VL(t){return t&&t.length===1?t[0]:new pi(oa())}var Bv=new Y("angularfire2._apps"),LL={provide:pi,useFactory:VL,deps:[[new cn,Bv]]},jL={provide:Qo,deps:[[new cn,Bv]]};function UL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pi(r)}}var BL=(()=>{class t{constructor(n){wt("angularfire",Ko.full,"core"),wt("angularfire",Ko.full,"app"),wt("angular",Nb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(Fn))};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[LL,jL]})}return t})();function VT(t,...e){return{ngModule:BL,providers:[{provide:Bv,useFactory:UL(t),multi:!0,deps:[Se,it,ca,...e]}]}}var LT=la(jv,!0);function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ZT=JT,eS=new fi("auth","Firebase",JT());var fh=new Ki("@firebase/auth");function $L(t,...e){fh.logLevel<=Ne.WARN&&fh.warn(`Auth (${Xi}): ${t}`,...e)}function lh(t,...e){fh.logLevel<=Ne.ERROR&&fh.error(`Auth (${Xi}): ${t}`,...e)}function Zi(t,...e){throw ay(t,...e)}function Yo(t,...e){return ay(t,...e)}function HL(t,e,n){let r=Object.assign(Object.assign({},ZT()),{[e]:n});return new fi("auth","Firebase",r).create(e,{appName:t.name})}function ay(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eS.create(t,...e)}function he(t,e,...n){if(!t)throw ay(e,...n)}function mi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function eo(t,e){t||mi(e)}function qv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zL(){return jT()==="http:"||jT()==="https:"}function jT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zL()||yT()||"connection"in navigator)?navigator.onLine:!0}function GL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=vT()||_T()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cy(t,e){eo(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ph=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var WL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KL=new Xo(3e4,6e4);function ly(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ua(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){return tS(t,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Oc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ph.fetch()(nS(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function tS(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},WL),e);try{let i=new Gv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ch(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ch(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw ch(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw HL(t,u,l);Zi(t,u)}}catch(i){if(i instanceof Tn)throw i;Zi(t,"network-request-failed",{message:String(i)})}})}function QL(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield ua(t,e,n,r,i);return"mfaPendingCredential"in l&&Zi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function nS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?cy(t.config,i):`${t.config.apiScheme}://${i}`}var Gv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yo(this.auth,"network-request-failed")),KL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ch(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yo(t,e,r);return i.customData._tokenResponse=n,i}function YL(t,e){return E(this,null,function*(){return ua(t,"POST","/v1/accounts:delete",e)})}function XL(t,e){return E(this,null,function*(){return ua(t,"POST","/v1/accounts:lookup",e)})}function Vc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uy(t,e=!1){return E(this,null,function*(){let n=Wi(t),r=yield n.getIdToken(e),i=dy(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vc($v(i.auth_time)),issuedAtTime:Vc($v(i.iat)),expirationTime:Vc($v(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $v(t){return Number(t)*1e3}function dy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{let i=_v(n);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JL(t){let e=dy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tn&&ZL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function ZL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Wv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var mh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Lc(t,XL(n,{idToken:r}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?t2(o.providerUserInfo):[],a=e2(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function hy(t){return E(this,null,function*(){let e=Wi(t);yield gh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function e2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t2(t){return t.map(e=>{var{providerId:n}=e,r=jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function n2(t,e){return E(this,null,function*(){let n=yield tS(t,{},()=>E(this,null,function*(){let r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=nS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ph.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function r2(t,e){return E(this,null,function*(){return ua(t,"POST","/v2/accounts:revokeToken",ly(t,e))})}var vh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield n2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return mi("not implemented")}};function Ji(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var jc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Lc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return uy(this,e)}reload(){return hy(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield gh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield Lc(this,YL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:g,isAnonymous:ee,providerData:O,stsTokenManager:X}=n;he(q&&X,e,"internal-error");let de=vh.fromJSON(this.name,X);he(typeof q=="string",e,"internal-error"),Ji(d,e.name),Ji(h,e.name),he(typeof g=="boolean",e,"internal-error"),he(typeof ee=="boolean",e,"internal-error"),Ji(m,e.name),Ji(w,e.name),Ji(I,e.name),Ji(A,e.name),Ji(x,e.name),Ji(H,e.name);let Te=new t({uid:q,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:ee,photoURL:w,phoneNumber:m,tenantId:I,stsTokenManager:de,createdAt:x,lastLoginAt:H});return O&&Array.isArray(O)&&(Te.providerData=O.map(xe=>Object.assign({},xe))),A&&(Te._redirectEventId=A),Te}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new vh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gh(o),o})}};var UT=new Map;function gi(t){eo(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}var i2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Kv=i2;function uh(t,e,n){return`firebase:${t}:${e}:${n}`}var yh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=uh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?jc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(gi(Kv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||gi(Kv),s=uh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=jc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aS(e))return"Blackberry";if(cS(e))return"Webos";if(fy(e))return"Safari";if((e.includes("chrome/")||iS(e))&&!e.includes("edge/"))return"Chrome";if(sS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rS(t=Mt()){return/firefox\//i.test(t)}function fy(t=Mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iS(t=Mt()){return/crios\//i.test(t)}function oS(t=Mt()){return/iemobile/i.test(t)}function sS(t=Mt()){return/android/i.test(t)}function aS(t=Mt()){return/blackberry/i.test(t)}function cS(t=Mt()){return/webos/i.test(t)}function Sh(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o2(t=Mt()){var e;return Sh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s2(){return wT()&&document.documentMode===10}function lS(t=Mt()){return Sh(t)||sS(t)||cS(t)||aS(t)||/windows phone/i.test(t)||oS(t)}function a2(){try{return!!(window&&window!==window.top)}catch{return!1}}function uS(t,e=[]){let n;switch(t){case"Browser":n=BT(Mt());break;case"Worker":n=`${BT(Mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}var Qv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function c2(n){return E(this,arguments,function*(t,e={}){return ua(t,"GET","/v2/passwordPolicy",ly(t,e))})}var l2=6,Yv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:l2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Xv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _h(this),this.idTokenSubscription=new _h(this),this.beforeStateQueue=new Qv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield yh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=GL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Wi(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(gi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield c2(this),n=new Yv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield r2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&gi(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield yh.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&$L(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function py(t){return Wi(t)}var _h=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IT(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var my={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(t){my=t}function d2(t){return my.loadJS(t)}function h2(){return my.gapiScript}function dS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function gy(t,e){let n=Nc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(zo(o,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function f2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function vy(t,e,n){let r=py(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=hS(e),{host:s,port:a}=p2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||m2()}function hS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p2(t){let e=hS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$T(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$T(s)}}}function $T(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function m2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var wh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}};function Hv(t,e){return E(this,null,function*(){return QL(t,"POST","/v1/accounts:signInWithIdp",ly(t,e))})}var Eh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jv=class extends Eh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Uc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield jc._fromIdTokenResponse(e,r,i),s=HT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function HT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Zv=class t extends Tn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zv._fromErrorAndOperation(t,o,e,r):o})}function g2(t,e,n=!1){return E(this,null,function*(){let r=yield Lc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Uc._forOperation(t,"link",r)})}function v2(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Lc(t,fS(r,i,e,t),n);he(o.idToken,r,"internal-error");let s=dy(o.idToken);he(s,r,"internal-error");let{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Uc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),o}})}function y2(t,e,n=!1){return E(this,null,function*(){let r="signIn",i=yield fS(t,r,e),o=yield Uc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function yy(t,e,n,r){return Wi(t).onIdTokenChanged(e,n,r)}function _y(t,e,n){return Wi(t).beforeAuthStateChanged(e,n)}var Ch="__sak";var Ih=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function _2(){let t=Mt();return fy(t)||Sh(t)}var w2=1e3,E2=10,C2=(()=>{class t extends Ih{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_2()&&a2(),this.fallbackToPolling=lS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);s2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,E2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Si(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Si(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Si(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),pS=C2;var I2=(()=>{class t extends Ih{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),wy=I2;function b2(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var T2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,s)})),l=yield b2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function mS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ey=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=mS("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rr(){return window}function S2(t){Rr().location.href=t}function gS(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}function D2(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function A2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x2(){return gS()?self:null}var vS="firebaseLocalStorageDb",M2=1,bh="firebaseLocalStorage",yS="fbase_key",Jo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Dh(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function P2(){let t=indexedDB.deleteDatabase(vS);return new Jo(t).toPromise()}function ty(){let t=indexedDB.open(vS,M2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bh,{keyPath:yS})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),yield P2(),e(yield ty()))}))})}function zT(t,e,n){return E(this,null,function*(){let r=Dh(t,!0).put({[yS]:e,value:n});return new Jo(r).toPromise()})}function O2(t,e){return E(this,null,function*(){let n=Dh(t,!1).get(e),r=yield new Jo(n).toPromise();return r===void 0?null:r.value})}function qT(t,e){let n=Dh(t,!0).delete(e);return new Jo(n).toPromise()}var R2=800,k2=3,N2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield ty(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>k2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return gS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=T2._getInstance(x2()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield D2(),!this.activeServiceWorker)return;this.sender=new ey(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ty();return yield zT(n,Ch,"1"),yield qT(n,Ch),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>zT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>O2(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>qT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Dh(o,!1).getAll();return new Jo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_S=N2;var qY=dS("rcb"),GY=new Xo(3e4,6e4);function F2(t,e){return e?gi(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Bc=class extends wh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function V2(t){return y2(t.auth,new Bc(t),t.bypassAuthState)}function L2(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),v2(n,new Bc(t),t.bypassAuthState)}function j2(t){return E(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),g2(n,new Bc(t),t.bypassAuthState)})}var ny=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:Zi(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var WY=new Xo(2e3,1e4);var U2="pendingRedirect",dh=new Map,ry=class t extends ny{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=dh.get(this.auth._key());if(!e){try{let r=(yield B2(this.resolver,this.auth))?yield Si(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Si(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Si(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function B2(t,e){return E(this,null,function*(){let n=z2(e),r=H2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function $2(t,e){dh.set(t._key(),e)}function H2(t){return gi(t._redirectPersistence)}function z2(t){return uh(U2,t.config.apiKey,t.name)}function q2(t,e,n=!1){return E(this,null,function*(){let r=py(t),i=F2(r,e),s=yield new ry(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var G2=10*60*1e3,iy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(GT(e))}saveEventToCache(e){this.cachedEventUids.add(GT(e)),this.lastProcessedEventTime=Date.now()}};function GT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function W2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(t);default:return!1}}function K2(n){return E(this,arguments,function*(t,e={}){return ua(t,"GET","/v1/projects",e)})}var Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;function X2(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield K2(t);for(let n of e)try{if(J2(n))return}catch{}Zi(t,"unauthorized-domain")})}function J2(t){let e=qv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Y2.test(n))return!1;if(Q2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Z2=new Xo(3e4,6e4);function WT(){let t=Rr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e3(t){return new Promise((e,n)=>{var r,i,o;function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Yo(t,"network-request-failed"))},timeout:Z2.get()})}if(!((i=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rr().gapi)===null||o===void 0)&&o.load)s();else{let a=dS("iframefcb");return Rr()[a]=()=>{gapi.load?s():n(Yo(t,"network-request-failed"))},d2(`${h2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw hh=null,e})}var hh=null;function t3(t){return hh=hh||e3(t),hh}var n3=new Xo(5e3,15e3),r3="__/auth/iframe",i3="emulator/auth/iframe",o3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a3(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?cy(e,i3):`https://${t.config.authDomain}/${r3}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=s3.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Oc(r).slice(1)}`}function c3(t){return E(this,null,function*(){let e=yield t3(t),n=Rr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:a3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o3,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Yo(t,"network-request-failed"),a=Rr().setTimeout(()=>{o(s)},n3.get());function c(){Rr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var l3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u3=500,d3=600,h3="_blank",f3="http://localhost",Th=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function p3(t,e,n,r=u3,i=d3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},l3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Mt().toLowerCase();n&&(a=iS(l)?h3:n),rS(l)&&(e=e||f3,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[m,w])=>`${h}${m}=${w},`,"");if(o2(l)&&a!=="_self")return m3(e||"",a),new Th(null);let d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new Th(d)}function m3(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var g3="__/auth/handler",v3="emulator/auth/handler",y3=encodeURIComponent("fac");function KT(t,e,n,r,i,o){return E(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Eh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Jv){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${y3}=${encodeURIComponent(c)}`:"";return`${_3(t)}?${Oc(a).slice(1)}${l}`})}function _3({config:t}){return t.emulator?cy(t,v3):`https://${t.authDomain}/${g3}`}var zv="webStorageSupport",oy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wy,this._completeRedirectFn=q2,this._overrideRedirectResult=$2}_openPopup(e,n,r,i){return E(this,null,function*(){var o;eo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KT(e,n,r,qv(),i);return p3(e,s,mS())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield KT(e,n,r,qv(),i);return S2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(eo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield c3(e),r=new iy(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zv,{type:zv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[zv];s!==void 0&&n(!!s),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lS()||fy()||Sh()}},ES=oy;var QT="@firebase/auth",YT="1.6.1";var sy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E3(t){Yi(new jn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uS(t)},l=new Xv(r,i,o,c);return f2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new jn("auth-internal",e=>{let n=py(e.getProvider("auth").getImmediate());return(r=>new sy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wt(QT,YT,w3(t)),wt(QT,YT,"esm2017")}var C3=5*60,I3=Iv("authIdTokenMaxAge")||C3,XT=null,b3=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I3)return;let i=n?.token;XT!==i&&(XT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ey(t=oa()){let e=Nc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gy(t,{popupRedirectResolver:ES,persistence:[_S,pS,wy]}),r=Iv("authTokenSyncURL");if(r){let o=b3(r);_y(n,o,()=>o(n.currentUser)),yy(n,s=>o(s))}let i=Ev("auth");return i&&vy(n,`http://${i}`),n}function T3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Yo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",T3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E3("Browser");var CS="auth",$c=class{constructor(e){return e}},Hc=class{constructor(){return Fc(CS)}};var Cy=new Y("angularfire2.auth-instances");function _j(t,e){let n=sh(CS,t,e);return n&&new $c(n)}function wj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $c(r)}}var Ej={provide:Hc,deps:[[new cn,Cy]]},Cj={provide:$c,useFactory:_j,deps:[[new cn,Cy],pi]},Ij=(()=>{class t{constructor(){wt("angularfire",Ko.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[Cj,Ej]})}return t})();function IS(t,...e){return{ngModule:Ij,providers:[{provide:Cy,useFactory:wj(t),multi:!0,deps:[Se,it,ca,Qo,[new cn,aa],...e]}]}}var bS=la(Ey,!0);var bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={},B,zy=zy||{},le=bj||self;function Bh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Tj(t){return Object.prototype.hasOwnProperty.call(t,Iy)&&t[Iy]||(t[Iy]=++Sj)}var Iy="closure_uid_"+(1e9*Math.random()>>>0),Sj=0;function Dj(t,e,n){return t.call.apply(t.bind,arguments)}function Aj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function en(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?en=Dj:en=Aj,en.apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function to(){this.s=this.s,this.o=this.o}var xj=0;to.prototype.s=!1;to.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xj!=0)&&Tj(this)};to.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var VS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qy(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TS(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Bh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function tn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tn.prototype.h=function(){this.defaultPrevented=!0};var Mj=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Qc(t){return/^[\s\xa0]*$/.test(t)}function $h(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function kr(t){return $h().indexOf(t)!=-1}function Gy(t){return Gy[" "](t),t}Gy[" "]=function(){};function Pj(t,e){var n=_U;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Oj=kr("Opera"),pa=kr("Trident")||kr("MSIE"),LS=kr("Edge"),Ay=LS||pa,jS=kr("Gecko")&&!($h().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge"))&&!(kr("Trident")||kr("MSIE"))&&!kr("Edge"),Rj=$h().toLowerCase().indexOf("webkit")!=-1&&!kr("Edge");function US(){var t=le.document;return t?t.documentMode:void 0}var xy;e:{if(xh="",Mh=function(){var t=$h();if(jS)return/rv:([^\);]+)(\)|;)/.exec(t);if(LS)return/Edge\/([\d\.]+)/.exec(t);if(pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Rj)return/WebKit\/(\S+)/.exec(t);if(Oj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Mh&&(xh=Mh?Mh[1]:""),pa&&(Ph=US(),Ph!=null&&Ph>parseFloat(xh))){xy=String(Ph);break e}xy=xh}var xh,Mh,Ph,My;le.document&&pa?(by=US(),My=by||parseInt(xy,10)||void 0):My=void 0;var by,kj=My;function Yc(t,e){if(tn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jS){e:{try{Gy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Nj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yc.$.h.call(this)}}Ot(Yc,tn);var Nj={2:"touch",3:"pen",4:"mouse"};Yc.prototype.h=function(){Yc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),Fj=0;function Vj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Fj,this.fa=this.ia=!1}function Hh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Wy(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Lj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function BS(t){let e={};for(let n in t)e[n]=t[n];return e}var SS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $S(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<SS.length;o++)n=SS[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zh(t){this.src=t,this.g={},this.h=0}zh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Oy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Vj(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Py(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=VS(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Hh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Oy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ky="closure_lm_"+(1e6*Math.random()|0),Ty={};function HS(t,e,n,r,i){if(r&&r.once)return qS(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)HS(t,e[o],n,r,i);return null}return n=Xy(n),t&&t[il]?t.O(e,n,rl(r)?!!r.capture:!!r,i):zS(t,e,n,!1,r,i)}function zS(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rl(i)?!!i.capture:!!i,a=Yy(t);if(a||(t[Ky]=a=new zh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=jj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Mj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jj(){function t(n){return e.call(t.src,t.listener,n)}let e=Uj;return t}function qS(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)qS(t,e[o],n,r,i);return null}return n=Xy(n),t&&t[il]?t.P(e,n,rl(r)?!!r.capture:!!r,i):zS(t,e,n,!0,r,i)}function GS(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)GS(t,e[o],n,r,i);else r=rl(r)?!!r.capture:!!r,n=Xy(n),t&&t[il]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Oy(o,n,r,i),-1<n&&(Hh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Oy(e,n,r,i)),(n=-1<t?e[t]:null)&&Qy(n))}function Qy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[il])Py(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yy(e))?(Py(n,t),n.h==0&&(n.src=null,e[Ky]=null)):Hh(t)}}}function WS(t){return t in Ty?Ty[t]:Ty[t]="on"+t}function Uj(t,e){if(t.fa)t=!0;else{e=new Yc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qy(t),t=n.call(r,e)}return t}function Yy(t){return t=t[Ky],t instanceof zh?t:null}var Sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xy(t){return typeof t=="function"?t:(t[Sy]||(t[Sy]=function(e){return t.handleEvent(e)}),t[Sy])}function Pt(){to.call(this),this.i=new zh(this),this.S=this,this.J=null}Ot(Pt,to);Pt.prototype[il]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){GS(this,t,e,n,r)};function Gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new tn(e,t);else if(e instanceof tn)e.target=e.target||t;else{var i=e;e=new tn(r,t),$S(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Oh(s,r,!0,e)&&i}if(s=e.g=t,i=Oh(s,r,!0,e)&&i,i=Oh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Oh(s,r,!1,e)&&i}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hh(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Oh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Py(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Jy=le.JSON.stringify,Ry=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Bj(){var t=Zy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ky=class{constructor(){this.h=this.g=null}add(e,n){let r=KS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KS=new Ry(()=>new Ny,t=>t.reset()),Ny=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function $j(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hj(t){le.setTimeout(()=>{throw t},0)}var Xc,Jc=!1,Zy=new ky,QS=()=>{let t=le.Promise.resolve(void 0);Xc=()=>{t.then(zj)}},zj=()=>{for(var t;t=Bj();){try{t.h.call(t.g)}catch(n){Hj(n)}var e=KS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jc=!1};function qh(t,e){Pt.call(this),this.h=t||1,this.g=e||le,this.j=en(this.qb,this),this.l=Date.now()}Ot(qh,Pt);B=qh.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(e_(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function e_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){qh.$.N.call(this),e_(this),delete this.g};function t_(t,e,n){if(typeof t=="function")n&&(t=en(t,n));else if(t&&typeof t.handleEvent=="function")t=en(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function YS(t){t.g=t_(()=>{t.g=null,t.i&&(t.i=!1,YS(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Fy=class extends to{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YS(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Zc(t){to.call(this),this.h=t,this.g={}}Ot(Zc,to);var DS=[];function XS(t,e,n,r){Array.isArray(n)||(n&&(DS[0]=n.toString()),n=DS);for(var i=0;i<n.length;i++){var o=HS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function JS(t){Wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qy(e)},t),t.g={}}Zc.prototype.N=function(){Zc.$.N.call(this),JS(this)};Zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gh(){this.g=!0}Gh.prototype.Ea=function(){this.g=!1};function qj(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Gj(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Kj(t,n)+(r?" "+r:"")})}function Wj(t,e){t.info(function(){return"TIMEOUT: "+e})}Gh.prototype.info=function(){};function Kj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Jy(n)}catch{return e}}var ns={},AS=null;function Wh(){return AS=AS||new Pt}ns.Ta="serverreachability";function ZS(t){tn.call(this,ns.Ta,t)}Ot(ZS,tn);function el(t){let e=Wh();Gt(e,new ZS(e))}ns.STAT_EVENT="statevent";function eD(t,e){tn.call(this,ns.STAT_EVENT,t),this.stat=e}Ot(eD,tn);function ln(t){let e=Wh();Gt(e,new eD(e,t))}ns.Ua="timingevent";function tD(t,e){tn.call(this,ns.Ua,t),this.size=e}Ot(tD,tn);function ol(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Kh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function n_(){}n_.prototype.h=null;function xS(t){return t.h||(t.h=t.i())}function rD(){}var sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function r_(){tn.call(this,"d")}Ot(r_,tn);function i_(){tn.call(this,"c")}Ot(i_,tn);var Vy;function Qh(){}Ot(Qh,n_);Qh.prototype.g=function(){return new XMLHttpRequest};Qh.prototype.i=function(){return{}};Vy=new Qh;function al(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zc(this),this.P=Qj,t=Ay?125:void 0,this.V=new qh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new iD}function iD(){this.i=null,this.g="",this.h=!1}var Qj=45e3,oD={},Ly={};B=al.prototype;B.setTimeout=function(t){this.P=t};function jy(t,e,n){t.L=1,t.A=Xh(yi(e)),t.u=n,t.S=!0,sD(t,null)}function sD(t,e){t.G=Date.now(),cl(t),t.B=yi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),pD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new iD,t.g=ND(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Fy(en(t.Pa,t,t.g),t.O)),XS(t.U,t.g,"readystatechange",t.nb),e=t.I?BS(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),el(),qj(t.j,t.v,t.B,t.m,t.W,t.u)}B.nb=function(t){t=t.target;let e=this.M;e&&Nr(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{let u=Nr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Ay||this.g&&(this.h.h||this.g.ja()||RS(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?el(3):el(2)),Yh(this);var n=this.g.da();this.ca=n;t:if(aD(this)){var r=RS(this.g);t="";var i=r.length,o=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),Kc(this);var s="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Gj(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qc(a)){var l=a;break t}}l=null}if(n=l)ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uy(this,n);else{this.i=!1,this.s=3,ln(12),Zo(this),Kc(this);break e}}this.S?(cD(this,u,s),Ay&&this.i&&u==3&&(XS(this.U,this.V,"tick",this.mb),this.V.start())):(ha(this.j,this.m,s,null),Uy(this,s)),u==4&&Zo(this),this.i&&!this.J&&(u==4?PD(this.l,this):(this.i=!1,cl(this)))}else gU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Zo(this),Kc(this)}}}catch{}finally{}};function aD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function cD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Yj(t,n),i==Ly){e==4&&(t.s=4,ln(14),r=!1),ha(t.j,t.m,null,"[Incomplete Response]");break}else if(i==oD){t.s=4,ln(15),ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ha(t.j,t.m,i,null),Uy(t,i);aD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),u_(e),e.M=!0,ln(11))):(ha(t.j,t.m,n,"[Invalid Chunked Response]"),Zo(t),Kc(t))}B.mb=function(){if(this.g){var t=Nr(this.g),e=this.g.ja();this.o<e.length&&(Yh(this),cD(this,t,e),this.i&&t!=4&&cl(this))}};function Yj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ly:(n=Number(e.substring(n,r)),isNaN(n)?oD:(r+=1,r+n>e.length?Ly:(e=e.slice(r,r+n),t.o=r+n,e)))}B.cancel=function(){this.J=!0,Zo(this)};function cl(t){t.Y=Date.now()+t.P,lD(t,t.P)}function lD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ol(en(t.lb,t),e)}function Yh(t){t.C&&(le.clearTimeout(t.C),t.C=null)}B.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Wj(this.j,this.B),this.L!=2&&(el(),ln(17)),Zo(this),this.s=2,Kc(this)):lD(this,this.Y-t)};function Kc(t){t.l.H==0||t.J||PD(t.l,t)}function Zo(t){Yh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,e_(t.V),JS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Uy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||By(n.i,t))){if(!t.K&&By(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vh(n),ef(n);else break e;l_(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ol(en(n.ib,n),6e3));if(1>=vD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else es(n,11)}else if((t.K||n.g==t)&&Vh(n),!Qc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let m=t.g;if(m){let w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=r.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(o_(o,o.h),o.h=null))}if(r.F){let I=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,We(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=kD(r,r.J?r.pa:null,r.Y),s.K){yD(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Yh(a),cl(a)),r.g=s}else xD(r);0<n.j.length&&tf(n)}else l[0]!="stop"&&l[0]!="close"||es(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?es(n,7):c_(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}el(4)}catch{}}function Xj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Jj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function uD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Jj(t),r=Xj(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var dD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ts(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ts){this.h=t.h,Nh(this,t.j),this.s=t.s,this.g=t.g,Fh(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),MS(this,n),this.o=t.o}else t&&(e=String(t).match(dD))?(this.h=!1,Nh(this,e[1]||"",!0),this.s=Gc(e[2]||""),this.g=Gc(e[3]||"",!0),Fh(this,e[4]),this.l=Gc(e[5]||"",!0),MS(this,e[6]||"",!0),this.o=Gc(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}ts.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wc(e,PS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Wc(e,PS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Wc(n,n.charAt(0)=="/"?nU:tU,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wc(n,iU)),t.join("")};function yi(t){return new ts(t)}function Nh(t,e,n){t.j=n?Gc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function MS(t,e,n){e instanceof tl?(t.i=e,oU(t.i,t.h)):(n||(e=Wc(e,rU)),t.i=new tl(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Xh(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eU),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eU(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PS=/[#\/\?@]/g,tU=/[#\?:]/g,nU=/[#\?]/g,rU=/[#\?@]/g,iU=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function no(t){t.g||(t.g=new Map,t.h=0,t.i&&Zj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=tl.prototype;B.add=function(t,e){no(this),this.i=null,t=ma(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hD(t,e){no(t),e=ma(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fD(t,e){return no(t),e=ma(t,e),t.g.has(e)}B.forEach=function(t,e){no(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.ta=function(){no(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};B.Z=function(t){no(this);let e=[];if(typeof t=="string")fD(this,t)&&(e=e.concat(this.g.get(ma(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return no(this),this.i=null,t=ma(this,t),fD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function pD(t,e,n){hD(t,e),0<n.length&&(t.i=null,t.g.set(ma(t,e),qy(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ma(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oU(t,e){e&&!t.j&&(no(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hD(this,r),pD(this,i,n))},t)),t.j=e}var sU=class{constructor(t,e){this.g=t,this.map=e}};function mD(t){this.l=t||aU,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aU=10;function gD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vD(t){return t.h?1:t.g?t.g.size:0}function By(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function o_(t,e){t.g?t.g.add(e):t.h=e}function yD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mD.prototype.cancel=function(){if(this.i=_D(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function _D(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return qy(t.i)}var cU=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function lU(){this.g=new cU}function uU(t,e,n){let r=n||"";try{uD(t,function(i,o){let s=i;rl(i)&&(s=Jy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dU(t,e){let n=new Gh;if(le.Image){let r=new Image;r.onload=Ah(Rh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Rh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Rh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Rh,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Rh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ll(t){this.l=t.ec||null,this.j=t.ob||!1}Ot(ll,n_);ll.prototype.g=function(){return new Jh(this.l,this.j)};ll.prototype.i=function(t){return function(){return t}}({});function Jh(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=s_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(Jh,Pt);var s_=0;B=Jh.prototype;B.open=function(t,e){if(this.readyState!=s_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nl(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=s_};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ul(this):nl(this),this.readyState==3&&wD(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,ul(this))};B.Ya=function(t){this.g&&(this.response=t,ul(this))};B.ka=function(){this.g&&ul(this)};function ul(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nl(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hU=le.JSON.parse;function ot(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ED,this.L=this.M=!1}Ot(ot,Pt);var ED="",fU=/^https?$/i,pU=["POST","PUT"];B=ot.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=this.u?xS(this.u):xS(Vy),this.g.onreadystatechange=en(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){OS(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=VS(pU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bD(this),0<this.B&&((this.L=mU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.ua,this)):this.A=t_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){OS(this,o)}};function mU(t){return pa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))};function OS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CD(t),Zh(t)}function CD(t){t.F||(t.F=!0,Gt(t,"complete"),Gt(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gt(this,"complete"),Gt(this,"abort"),Zh(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),ot.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?ID(this):this.kb())};B.kb=function(){ID(this)};function ID(t){if(t.h&&typeof zy<"u"&&(!t.C[1]||Nr(t)!=4||t.da()!=2)){if(t.v&&Nr(t)==4)t_(t.La,0,t);else if(Gt(t,"readystatechange"),Nr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(dD)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!fU.test(i?i.toLowerCase():"")}n=r}if(n)Gt(t,"complete"),Gt(t,"success");else{t.m=6;try{var o=2<Nr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",CD(t)}}finally{Zh(t)}}}}function Zh(t,e){if(t.g){bD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function bD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function Nr(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hU(e)}};function RS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ED:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gU(t){let e={};t=(t.g&&2<=Nr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qc(t[r]))continue;var n=$j(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}Lj(e,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TD(t){let e="";return Wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function a_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SD(t){this.Ga=0,this.j=[],this.l=new Gh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zc("baseRetryDelayMs",5e3,t),this.hb=zc("retryDelaySeedMs",1e4,t),this.eb=zc("forwardChannelMaxRetries",2,t),this.xa=zc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new mD(t&&t.concurrentRequestLimit),this.Ja=new lU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=SD.prototype;B.ra=8;B.H=1;function c_(t){if(DD(t),t.H==3){var e=t.W++,n=yi(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),dl(t,n),e=new al(t,t.l,e),e.L=2,e.A=Xh(yi(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=ND(e.l,null),e.g.ha(e.A)),e.G=Date.now(),cl(e)}RD(t)}function ef(t){t.g&&(u_(t),t.g.cancel(),t.g=null)}function DD(t){ef(t),t.u&&(le.clearTimeout(t.u),t.u=null),Vh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function tf(t){if(!gD(t.i)&&!t.m){t.m=!0;var e=t.Na;Xc||QS(),Jc||(Xc(),Jc=!0),Zy.add(e,t),t.C=0}}function vU(t,e){return vD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ol(en(t.Na,t,e),OD(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new al(this,this.l,t),o=this.s;if(this.U&&(o?(o=BS(o),$S(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=AD(this,i,e),n=yi(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),dl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(TD(o)))+"&"+e:this.o&&a_(n,this.o,o)),o_(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,jy(i,n,null)):jy(i,n,e),this.H=2}}else this.H==3&&(t?kS(this,t):this.j.length==0||gD(this.i)||kS(this))};function kS(t,e){var n;e?n=e.m:n=t.W++;let r=yi(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),dl(t,r),t.o&&t.s&&a_(r,t.o,t.s),n=new al(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=AD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),o_(t.i,n),jy(n,r,e)}function dl(t,e){t.na&&Wy(t.na,function(n,r){We(e,r,n)}),t.h&&uD({},function(n,r){We(e,r,n)})}function AD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?en(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{uU(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xc||QS(),Jc||(Xc(),Jc=!0),Zy.add(e,t),t.A=0}}function l_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ol(en(t.Ma,t),OD(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,MD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ol(en(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),ef(this),MD(this))};function u_(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function MD(t){t.g=new al(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=yi(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),dl(t,e),t.o&&t.s&&a_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Xh(yi(e)),n.u=null,n.S=!0,sD(n,t)}B.ib=function(){this.v!=null&&(this.v=null,ef(this),l_(this),ln(19))};function Vh(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function PD(t,e){var n=null;if(t.g==e){Vh(t),u_(t),t.g=null;var r=2}else if(By(t.i,e))n=e.F,yD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Wh(),Gt(r,new tD(r,n)),tf(t)}else xD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&vU(t,e)||r==2&&l_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:es(t,5);break;case 4:es(t,10);break;case 3:es(t,6);break;default:es(t,2)}}}function OD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function es(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=en(t.pb,t);n||(n=new ts("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Nh(n,"https"),Xh(n)),dU(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),RD(t),DD(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))};function RD(t){if(t.H=0,t.ma=[],t.h){let e=_D(t.i);(e.length!=0||t.j.length!=0)&&(TS(t.ma,e),TS(t.ma,t.j),t.i.i.length=0,qy(t.j),t.j.length=0),t.h.ya()}}function kD(t,e,n){var r=n instanceof ts?yi(n):new ts(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fh(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ts(null);r&&Nh(o,r),e&&(o.g=e),i&&Fh(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),dl(t,r),r}function ND(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ot(new ll({ob:n})):new ot(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function FD(){}B=FD.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function Lh(){if(pa&&!(10<=Number(kj)))throw Error("Environmental error: no available transport.")}Lh.prototype.g=function(t,e){return new Sn(t,e)};function Sn(t,e){Pt.call(this),this.g=new SD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ga(this)}Ot(Sn,Pt);Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kD(t,null,t.Y),tf(t)};Sn.prototype.close=function(){c_(this.g)};Sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jy(t),t=n);e.j.push(new sU(e.fb++,t)),e.H==3&&tf(e)};Sn.prototype.N=function(){this.g.h=null,delete this.j,c_(this.g),delete this.g,Sn.$.N.call(this)};function VD(t){r_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ot(VD,r_);function LD(){i_.call(this),this.status=1}Ot(LD,i_);function ga(t){this.g=t}Ot(ga,FD);ga.prototype.Ba=function(){Gt(this.g,"a")};ga.prototype.Aa=function(t){Gt(this.g,new VD(t))};ga.prototype.za=function(t){Gt(this.g,new LD)};ga.prototype.ya=function(){Gt(this.g,"b")};function yU(){this.blockSize=-1}function ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ot(ar,yU);ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Dy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}ar.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Dy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Dy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Dy(this,r),i=0;break}}this.h=i,this.i+=e};ar.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var _U={};function d_(t){return-128<=t&&128>t?Pj(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Fr(t){if(isNaN(t)||!isFinite(t))return fa;if(0>t)return qt(Fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$y;return new Ue(e,0)}function jD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qt(jD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fr(Math.pow(e,8)),r=fa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Fr(Math.pow(e,o)),r=r.R(o).add(Fr(s))):(r=r.R(n),r=r.add(Fr(s)))}return r}var $y=4294967296,fa=d_(0),Hy=d_(1),NS=d_(16777216);B=Ue.prototype;B.ea=function(){if(Un(this))return-qt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$y+r)*e,e*=$y}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vi(this))return"0";if(Un(this))return"-"+qt(this).toString(t);for(var e=Fr(Math.pow(t,6)),n=this,r="";;){var i=Uh(n,e).g;n=jh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,vi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Un(t){return t.h==-1}B.X=function(t){return t=jh(this,t),Un(t)?-1:vi(t)?0:1};function qt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(Hy)}B.abs=function(){return Un(this)?qt(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function jh(t,e){return t.add(qt(e))}B.R=function(t){if(vi(this)||vi(t))return fa;if(Un(this))return Un(t)?qt(this).R(qt(t)):qt(qt(this).R(t));if(Un(t))return qt(this.R(qt(t)));if(0>this.X(NS)&&0>t.X(NS))return Fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,kh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,kh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,kh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,kh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function kh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qc(t,e){this.g=t,this.h=e}function Uh(t,e){if(vi(e))throw Error("division by zero");if(vi(t))return new qc(fa,fa);if(Un(t))return e=Uh(qt(t),e),new qc(qt(e.g),qt(e.h));if(Un(e))return e=Uh(t,qt(e)),new qc(qt(e.g),e.h);if(30<t.g.length){if(Un(t)||Un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hy,r=e;0>=r.X(t);)n=FS(n),r=FS(r);var i=da(n,1),o=da(r,1);for(r=da(r,2),n=da(n,2);!vi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=da(r,1),n=da(n,1)}return e=jh(t,i.R(e)),new qc(i,e)}for(i=fa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Fr(n),s=o.R(e);Un(s)||0<s.X(t);)n-=r,o=Fr(n),s=o.R(e);vi(o)&&(o=Hy),i=i.add(o),t=jh(t,s)}return new qc(i,t)}B.gb=function(t){return Uh(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function FS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function da(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ue(i,t.h)}Lh.prototype.createWebChannel=Lh.prototype.g;Sn.prototype.send=Sn.prototype.u;Sn.prototype.open=Sn.prototype.m;Sn.prototype.close=Sn.prototype.close;Kh.NO_ERROR=0;Kh.TIMEOUT=8;Kh.HTTP_ERROR=6;nD.COMPLETE="complete";rD.EventType=sl;sl.OPEN="a";sl.CLOSE="b";sl.ERROR="c";sl.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;ar.prototype.digest=ar.prototype.l;ar.prototype.reset=ar.prototype.reset;ar.prototype.update=ar.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Fr;Ue.fromString=jD;var wU=cr.createWebChannelTransport=function(){return new Lh},EU=cr.getStatEventTarget=function(){return Wh()},CU=cr.ErrorCode=Kh,IU=cr.EventType=nD,bU=cr.Event=ns,TU=cr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NX=cr.FetchXmlHttpFactory=ll,SU=cr.WebChannel=rD,DU=cr.XhrIo=ot,AU=cr.Md5=ar,UD=cr.Integer=Ue;var BD="@firebase/firestore";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var hl="10.8.1";var ya=new Ki("@firebase/firestore");function Dn(t,...e){if(ya.logLevel<=Ne.DEBUG){let n=e.map(R_);ya.debug(`Firestore (${hl}): ${t}`,...n)}}function O_(t,...e){if(ya.logLevel<=Ne.ERROR){let n=e.map(R_);ya.error(`Firestore (${hl}): ${t}`,...n)}}function xU(t,...e){if(ya.logLevel<=Ne.WARN){let n=e.map(R_);ya.warn(`Firestore (${hl}): ${t}`,...n)}}function R_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function _n(t="Unexpected state"){let e=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: `+t;throw O_(e),new Error(e)}function f_(t,e){t||_n()}var Wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Et=class extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var io=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},p_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}},m_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},g_=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Dn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Dn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Dn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(f_(typeof r.accessToken=="string"),new nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return f_(e===null||typeof e=="string"),new Rt(e)}},v_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},y_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},__=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},w_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Dn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Dn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Dn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Dn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(f_(typeof n.token=="string"),this.R=n.token,new __(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function MU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var E_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=MU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function qD(t,e){return t<e?-1:t>e?1:0}var C_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&_n(),r===void 0?r=e.length-n:r>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ro=class t extends C_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Et(Wt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var rs=class t{constructor(e){this.path=e}static fromPath(e){return new t(ro.fromString(e))}static fromName(e){return new t(ro.fromString(e).popFirst(5))}static empty(){return new t(ro.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ro.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ro.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ro(e.slice()))}};var I_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};I_.UNKNOWN_ID=-1;function GD(t){return t.name==="IndexedDbTransactionError"}function PU(t){return t===0&&1/t==-1/0}var OU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GX=[...OU,"documentOverlays"],RU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kU=RU,WX=[...kU,"indexConfiguration","indexState","indexEntries"];var _a=class t{constructor(e,n){this.comparator=e,this.root=n||Lr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new va(this.root,e,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new va(this.root,e,this.comparator,!0)}},va=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Lr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();let e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}};Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Lr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rf=class t{constructor(e){this.comparator=e,this.data=new _a(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var b_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wa=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new b_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qD(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wa.EMPTY_BYTE_STRING=new wa("");var QX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $D(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function NU(t){return typeof t=="string"?wa.fromBase64String(t):wa.fromUint8Array(t)}var T_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},S_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function FU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var YX=new _a(rs.comparator);var XX=new _a(rs.comparator);var JX=new _a(rs.comparator),ZX=new rf(rs.comparator);var eJ=new rf(qD);var HD,Ae;(Ae=HD||(HD={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var tJ=new UD([4294967295,4294967295],0);var sf=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($D(e.integerValue));else if("doubleValue"in e){let r=$D(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),PU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(NU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?FU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):_n()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),rs.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};sf.bt=new sf;var nJ=new Uint8Array(0);var Vr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);function h_(){return typeof document<"u"?document:null}var D_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Dn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var A_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(Wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function VU(t,e){if(O_("AsyncQueue",`${e}: ${t}`),GD(t))return new Et(Wt.UNAVAILABLE,`${e}: ${t}`);throw t}var x_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=E_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>E(this,null,function*(){Dn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Dn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(Wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=VU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function WD(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var zD=new Map;function LU(t,e,n,r){if(e===!0&&r===!0)throw new Et(Wt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_n()}function UU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Et(Wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=jU(t);throw new Et(Wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var af=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(Wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Et(Wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Et(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Et(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Et(Wt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cf=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(Wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Et(Wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p_;switch(r.type){case"firstParty":return new y_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(Wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=zD.get(n);r&&(Dn("ComponentProvider","Removing Datastore"),zD.delete(n),r.terminate())}(this),Promise.resolve()}};function KD(t,e,n,r={}){var i;let o=(t=UU(t,cf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&xU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Rt.MOCK_USER;else{a=gT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Et(Wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rt(l)}t._authCredentials=new m_(new nf(a,c))}}var M_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new D_(this,"async_queue_retry"),this._u=()=>{let n=h_();n&&Dn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=h_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=h_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new io;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!GD(e))throw e;Dn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw O_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=A_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&_n()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var P_=class extends cf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new M_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BU(this),this._firestoreClient.terminate()}};function QD(t,e){let n=typeof t=="object"?t:oa(),r=typeof t=="string"?t:e||"(default)",i=Nc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=mT("firestore");o&&KD(i,...o)}return i}function BU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new T_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new x_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var rJ=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){hl=i})(Xi),Yi(new jn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new P_(new g_(r.getProvider("auth-internal")),new w_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Et(Wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new S_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),wt(BD,"4.4.3",e),wt(BD,"4.4.3","esm2017")})();var fl=class{constructor(e){return e}},YD="firestore",k_=class{constructor(){return Fc(YD)}};var N_=new Y("angularfire2.firestore-instances");function $U(t,e){let n=sh(YD,t,e);return n&&new fl(n)}function HU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fl(r)}}var zU={provide:k_,deps:[[new cn,N_]]},qU={provide:fl,useFactory:$U,deps:[[new cn,N_],pi]},GU=(()=>{class t{constructor(){wt("angularfire",Ko.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[qU,zU]})}return t})();function XD(t,...e){return{ngModule:GU,providers:[{provide:N_,useFactory:HU(t),multi:!0,deps:[Se,it,ca,Qo,[new cn,Hc],[new cn,aa],...e]}]}}var JD=la(QD,!0);var L_=class extends Qd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},j_=class t extends L_{static makeCurrent(){Kb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=WU();return n==null?null:KU(n)}resetBaseElement(){pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xd(document.cookie,e)}},pl=null;function WU(){return pl=pl||document.querySelector("base"),pl?pl.getAttribute("href"):null}function KU(t){return new URL(t,document.baseURI).pathname}var QU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),U_=new Y(""),tA=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(U_),j(Se))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),lf=class{constructor(e){this._doc=e}},F_="ng-app-id",nA=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${F_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(F_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(F_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(zt),j(Tg),j(Ag,8),j(Fn))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),V_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$_=/%COMP%/g,rA="%COMP%",YU=`_nghost-${rA}`,XU=`_ngcontent-${rA}`,JU=!0,ZU=new Y("",{providedIn:"root",factory:()=>JU});function eB(t){return XU.replace($_,t)}function tB(t){return YU.replace($_,t)}function iA(t,e){return e.map(n=>n.replace($_,t))}var uf=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=bc(c),this.defaultRenderer=new ml(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Cr.ShadowDom&&(i=Oe(V({},i),{encapsulation:Cr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof df?o.applyToHost(r):o instanceof gl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Cr.Emulated:s=new df(l,u,i,this.appId,d,a,c,h);break;case Cr.ShadowDom:return new B_(l,u,r,i,a,c,this.nonce,h);default:s=new gl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(tA),j(nA),j(Tg),j(ZU),j(zt),j(Fn),j(Se),j(Ag))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),ml=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(V_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=V_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=V_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zr.DashCase|Zr.Important)?e.style.setProperty(n,r,i&Zr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var B_=class extends ml{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=iA(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gl=class extends ml{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?iA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},df=class extends gl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=eB(l),this.hostAttr=tB(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},nB=(()=>{let e=class e extends lf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(j(zt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),eA=["alt","control","meta","shift"],rB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oB=(()=>{let e=class e extends lf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),eA.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=rB[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),eA.forEach(a=>{if(a!==o){let c=iB[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(zt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function oA(t,e){return Bb(V({rootComponent:t},sB(e)))}function sB(t){return{appProviders:[...dB,...t?.providers??[]],platformProviders:uB}}function aB(){j_.makeCurrent()}function cB(){return new Tr}function lB(){return WC(document),document}var uB=[{provide:Fn,useValue:Jb},{provide:Sg,useValue:aB,multi:!0},{provide:zt,useFactory:lB,deps:[]}];var dB=[{provide:Pd,useValue:"root"},{provide:Tr,useFactory:cB,deps:[]},{provide:U_,useClass:nB,multi:!0,deps:[zt,Se,Fn]},{provide:U_,useClass:oB,multi:!0,deps:[zt]},uf,nA,tA,{provide:No,useExisting:uf},{provide:ia,useClass:QU,deps:[]},[]];var sA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(zt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=j(hB),o},providedIn:"root"});let t=e;return t})(),hB=(()=>{let e=class e extends H_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case oi.NONE:return i;case oi.HTML:return jo(i,"HTML")?Ar(i):FI(this._doc,String(i)).toString();case oi.STYLE:return jo(i,"Style")?Ar(i):i;case oi.SCRIPT:if(jo(i,"Script"))return Ar(i);throw new k(5200,!1);case oi.URL:return jo(i,"URL")?Ar(i):Nd(String(i));case oi.RESOURCE_URL:if(jo(i,"ResourceURL"))return Ar(i);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(r){return DI(r)}bypassSecurityTrustStyle(r){return AI(r)}bypassSecurityTrustScript(r){return xI(r)}bypassSecurityTrustUrl(r){return MI(r)}bypassSecurityTrustResourceUrl(r){return PI(r)}};e.\u0275fac=function(i){return new(i||e)(j(zt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(fe||{}),jr="*";function Bn(t,e){return{type:fe.Trigger,name:t,definitions:e,options:{}}}function Ct(t,e=null){return{type:fe.Animate,styles:e,timings:t}}function cA(t,e=null){return{type:fe.Sequence,steps:t,options:e}}function ve(t){return{type:fe.Style,styles:t,offset:null}}function lA(t,e,n){return{type:fe.State,name:t,styles:e,options:n}}function ft(t,e,n=null){return{type:fe.Transition,expr:t,animation:e,options:n}}var oo=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},vl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},hf="!";function uA(t){return new k(3e3,!1)}function fB(){return new k(3100,!1)}function pB(){return new k(3101,!1)}function mB(t){return new k(3001,!1)}function gB(t){return new k(3003,!1)}function vB(t){return new k(3004,!1)}function yB(t,e){return new k(3005,!1)}function _B(){return new k(3006,!1)}function wB(){return new k(3007,!1)}function EB(t,e){return new k(3008,!1)}function CB(t){return new k(3002,!1)}function IB(t,e,n,r,i){return new k(3010,!1)}function bB(){return new k(3011,!1)}function TB(){return new k(3012,!1)}function SB(){return new k(3200,!1)}function DB(){return new k(3202,!1)}function AB(){return new k(3013,!1)}function xB(t){return new k(3014,!1)}function MB(t){return new k(3015,!1)}function PB(t){return new k(3016,!1)}function OB(t,e){return new k(3404,!1)}function RB(t){return new k(3502,!1)}function kB(t){return new k(3503,!1)}function NB(){return new k(3300,!1)}function FB(t){return new k(3504,!1)}function VB(t){return new k(3301,!1)}function LB(t,e){return new k(3302,!1)}function jB(t){return new k(3303,!1)}function UB(t,e){return new k(3400,!1)}function BB(t){return new k(3401,!1)}function $B(t){return new k(3402,!1)}function HB(t,e){return new k(3505,!1)}function so(t){switch(t.length){case 0:return new oo;case 1:return t[0];default:return new vl(t)}}function bA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,m)=>{let w=m,I=h;if(m!=="offset")switch(w=t.normalizePropertyName(w,i),I){case hf:I=n.get(m);break;case jr:I=r.get(m);break;default:I=t.normalizeStyleValue(m,w,I,i);break}d.set(w,I)}),u||o.push(d),a=d,s=l}),i.length)throw RB(i);return o}function h0(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&z_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&z_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&z_(n,"destroy",t)));break}}function z_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=f0(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function f0(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function dA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var zB=typeof document>"u"?null:document.documentElement;function p0(t){let e=t.parentNode||t.host||null;return e===zB?null:e}function qB(t){return t.substring(1,6)=="ebkit"}var is=null,hA=!1;function GB(t){is||(is=WB()||{},hA=is.style?"WebkitAppearance"in is.style:!1);let e=!0;return is.style&&!qB(t)&&(e=t in is.style,!e&&hA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in is.style)),e}function WB(){return typeof document<"u"?document.body:null}function TA(t,e){for(;e;){if(e===t)return!0;e=p0(e)}return!1}function SA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var m0=(()=>{let e=class e{validateStyleProperty(r){return GB(r)}matchesElement(r,i){return!1}containsElement(r,i){return TA(r,i)}getParentElement(r){return p0(r)}query(r,i,o){return SA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new oo(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),_0=class _0{};_0.NOOP=new m0;var as=_0,cs=class{};var KB=1e3,DA="{{",QB="}}",AA="ng-enter",Y_="ng-leave",ff="ng-trigger",yf=".ng-trigger",fA="ng-animating",X_=".ng-animating";function _i(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:J_(parseFloat(e[1]),e[2])}function J_(t,e){switch(e){case"s":return t*KB;default:return t}}function _f(t,e,n){return t.hasOwnProperty("duration")?t:YB(t,e,n)}function YB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(uA(t)),{duration:0,delay:0,easing:""};i=J_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=J_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(fB()),a=!0),o<0&&(e.push(pB()),a=!0),a&&e.splice(c,0,uA(t))}return{duration:i,delay:o,easing:s}}function XB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ur(t,e,n){e.forEach((r,i)=>{let o=g0(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ss(t,e){e.forEach((n,r)=>{let i=g0(r);t.style[i]=""})}function yl(t){return Array.isArray(t)?t.length==1?t[0]:cA(t):t}function JB(t,e,n){let r=e.params||{},i=xA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(mB(o))})}var Z_=new RegExp(`${DA}\\s*(.+?)\\s*${QB}`,"g");function xA(t){let e=[];if(typeof t=="string"){let n;for(;n=Z_.exec(t);)e.push(n[1]);Z_.lastIndex=0}return e}function wl(t,e,n){let r=`${t}`,i=r.replace(Z_,(o,s)=>{let a=e[s];return a==null&&(n.push(gB(s)),a=""),a.toString()});return i==r?t:i}var ZB=/-+([a-z0-9])/g;function g0(t){return t.replace(ZB,(...e)=>e[1].toUpperCase())}function e$(t,e){return t===0||e===0}function t$(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,v0(t,a)))}}return e}function An(t,e,n){switch(e.type){case fe.Trigger:return t.visitTrigger(e,n);case fe.State:return t.visitState(e,n);case fe.Transition:return t.visitTransition(e,n);case fe.Sequence:return t.visitSequence(e,n);case fe.Group:return t.visitGroup(e,n);case fe.Animate:return t.visitAnimate(e,n);case fe.Keyframes:return t.visitKeyframes(e,n);case fe.Style:return t.visitStyle(e,n);case fe.Reference:return t.visitReference(e,n);case fe.AnimateChild:return t.visitAnimateChild(e,n);case fe.AnimateRef:return t.visitAnimateRef(e,n);case fe.Query:return t.visitQuery(e,n);case fe.Stagger:return t.visitStagger(e,n);default:throw vB(e.type)}}function v0(t,e){return window.getComputedStyle(t)[e]}var n$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),wf=class extends cs{normalizePropertyName(e,n){return g0(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(n$.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(yB(e,r))}return s+o}};var Ef="*";function r$(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>i$(r,n,e)):n.push(t),n}function i$(t,e,n){if(t[0]==":"){let c=o$(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(MB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(pA(i,s));let a=i==Ef&&s==Ef;o[0]=="<"&&!a&&e.push(pA(s,i))}function o$(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(PB(t)),"* => *"}}var pf=new Set(["true","1"]),mf=new Set(["false","0"]);function pA(t,e){let n=pf.has(t)||mf.has(t),r=pf.has(e)||mf.has(e);return(i,o)=>{let s=t==Ef||t==i,a=e==Ef||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?pf.has(t):mf.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?pf.has(e):mf.has(e)),s&&a}}var MA=":self",s$=new RegExp(`s*${MA}s*,?`,"g");function PA(t,e,n,r){return new e0(t).build(e,n,r)}var mA="",e0=class{constructor(e){this._driver=e}build(e,n,r){let i=new t0(n);return this._resetContextStyleTimingState(i),An(this,yl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=mA,e.collectedStyles=new Map,e.collectedStyles.set(mA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(_B()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==fe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==fe.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(wB())}),{type:fe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{xA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(EB(e.name,[...o.values()]))}return{type:fe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=An(this,yl(e.animation),n),i=r$(e.expr,n.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:os(e.options)}}visitSequence(e,n){return{type:fe.Sequence,steps:e.steps.map(r=>An(this,r,n)),options:os(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=An(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:fe.Group,steps:o,options:os(e.options)}}visitAnimate(e,n){let r=u$(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:ve({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=ve(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===jr?r.push(a):n.errors.push(CB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(DA)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(IB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&JB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:fe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(bB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(x=>{let H=this._makeStyleAst(x,n),q=H.offset!=null?H.offset:l$(H.styles),g=0;return q!=null&&(o++,g=H.offset=q),c=c||g<0||g>1,a=a||g<l,l=g,s.push(g),H});c&&n.errors.push(TB()),a&&n.errors.push(SB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(DB()):o==0&&(h=i/(d-1));let m=d-1,w=n.currentTime,I=n.currentAnimateTimings,A=I.duration;return u.forEach((x,H)=>{let q=h>0?H==m?1:h*H:s[H],g=q*A;n.currentTime=w+I.delay+g,I.duration=g,this._validateStyleAst(x,n),x.offset=q,r.styles.push(x)}),r}visitReference(e,n){return{type:fe.Reference,animation:An(this,yl(e.animation),n),options:os(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:fe.AnimateChild,options:os(e.options)}}visitAnimateRef(e,n){return{type:fe.AnimateRef,animation:this.visitReference(e.animation,n),options:os(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=a$(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=An(this,yl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:os(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(AB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:_f(e.timings,n.errors,!0);return{type:fe.Stagger,animation:An(this,yl(e.animation),n),timings:r,options:null}}};function a$(t){let e=!!t.split(/\s*,\s*/).find(n=>n==MA);return e&&(t=t.replace(s$,"")),t=t.replace(/@\*/g,yf).replace(/@\w+/g,n=>yf+"-"+n.slice(1)).replace(/:animating/g,X_),[t,e]}function c$(t){return t?V({},t):null}var t0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function l$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function u$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=_f(t,e).duration;return q_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=q_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=_f(n,e);return q_(i.duration,i.delay,i.easing)}function os(t){return t?(t=V({},t),t.params&&(t.params=c$(t.params))):t={},t}function q_(t,e,n){return{duration:t,delay:e,easing:n}}function y0(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var El=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},d$=1,h$=":enter",f$=new RegExp(h$,"g"),p$=":leave",m$=new RegExp(p$,"g");function OA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new n0().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var n0=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new El;let d=new r0(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?_i(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),An(this,r,d);let m=d.timelines.filter(w=>w.containsAnimation());if(m.length&&a.size){let w;for(let I=m.length-1;I>=0;I--){let A=m[I];if(A.element===n){w=A;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,d.errors,c)}return m.length?m.map(w=>w.buildKeyframes()):[y0(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:_i(wl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?_i(r.duration):null,a=r.delay!=null?_i(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),An(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cf);let s=_i(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>An(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?_i(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),An(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?wl(r,n.params,n.errors):r;return _f(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==fe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?_i(i.delay):0;o&&(n.previousNode.type===fe.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Cf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),An(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;An(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Cf={},r0=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new If(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=_i(r.duration)),r.delay!=null&&(i.delay=_i(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=wl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Cf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new i0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(f$,"."+this._enterClassName),e=e.replace(m$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(xB(n)),a}},If=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=d$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||jr),this._currentKeyframe.set(n,jr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=g$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=wl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??jr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===hf?e.add(d):u===jr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return y0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},i0=class extends If{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",gA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),m=h.get("offset"),w=n+m*r;h.set("offset",gA(w/s)),o.push(h)}r=s,n=0,i="",e=o}return y0(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function gA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function g$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,jr)}else for(let[o,s]of i)n.set(o,s)}),n}function vA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var G_={},bf=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return v$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||G_,m=a&&a.params||G_,w=this.buildStyles(r,m,d),I=c&&c.params||G_,A=this.buildStyles(i,I,d),x=new Set,H=new Map,q=new Map,g=i==="void",ee={params:RA(I,h),delay:this.ast.options?.delay},O=u?[]:OA(e,n,this.ast.animation,o,s,w,A,ee,l,d),X=0;return O.forEach(de=>{X=Math.max(de.duration+de.delay,X)}),d.length?vA(n,this._triggerName,r,i,g,w,A,[],[],H,q,X,d):(O.forEach(de=>{let Te=de.element,xe=xn(H,Te,new Set);de.preStyleProps.forEach(Fe=>xe.add(Fe));let nt=xn(q,Te,new Set);de.postStyleProps.forEach(Fe=>nt.add(Fe)),Te!==n&&x.add(Te)}),vA(n,this._triggerName,r,i,g,w,A,O,[...x.values()],H,q,X))}};function v$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function RA(t,e){let n=V({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var o0=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=RA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=wl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function y$(t,e,n){return new s0(t,e,n)}var s0=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new o0(i.style,o,r))}),yA(this.states,"true","1"),yA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new bf(e,i,this.states))}),this.fallbackTransition=_$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function _$(t,e,n){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new bf(t,o,e)}function yA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var w$=new El,a0=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=PA(this._driver,n,r,i);if(r.length)throw kB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=bA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=OA(this._driver,n,o,AA,Y_,new Map,new Map,r,w$,i),s.forEach(u=>{let d=xn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(NB()),s=[]),i.length)throw FB(i);a.forEach((u,d)=>{u.forEach((h,m)=>{u.set(m,this._driver.computeStyle(d,m,jr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=so(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw VB(e);return n}listen(e,n,r,i){let o=f0(n,"","","");return h0(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},_A="ng-animate-queued",E$=".ng-animate-queued",W_="ng-animate-disabled",C$=".ng-animate-disabled",I$="ng-star-inserted",b$=".ng-star-inserted",T$=[],kA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lr="__ng_removed",Cl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=A$(i),r){let o=e,{value:s}=o,a=wp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},_l="void",K_=new Cl(_l),c0=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$n(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw LB(r,n);if(r==null||r.length==0)throw jB(n);if(!x$(r))throw UB(r,n);let o=xn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||($n(e,ff),$n(e,ff+"-"+n),a.set(n,K_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw BB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new Il(this.id,n,e),a=this._engine.statesByElement.get(e);a||($n(e,ff),$n(e,ff+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Cl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=K_),!(l.value===_l)&&c.value===l.value){if(!O$(c.params,l.params)){let I=[],A=o.matchStyles(c.value,c.params,I),x=o.matchStyles(l.value,l.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{ss(e,A),Ur(e,x)})}return}let h=xn(this._engine.playersByElement,e,[]);h.forEach(I=>{I.namespaceId==this.id&&I.triggerName==n&&I.queued&&I.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),w=!1;if(!m){if(!i)return;m=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:w}),w||($n(e,_A),s.onStart(()=>{Ea(e,_A)})),s.onDone(()=>{let I=this.players.indexOf(s);I>=0&&this.players.splice(I,1);let A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(s);x>=0&&A.splice(x,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,yf,!0);r.forEach(i=>{if(i[lr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,_l,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&so(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||K_,u=new Cl(_l),d=new Il(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[lr];(!o||o===kA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){$n(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=f0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,h0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},l0=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new c0(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(gf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!gf(n))return;let o=n[lr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$n(e,W_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ea(e,W_))}removeNode(e,n,r){if(gf(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[lr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return gf(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,yf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,X_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return so(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[lr];if(n&&n.setForRemoval){if(e[lr]=kA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(W_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,C$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];$n(i,I$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?so(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw $B(e)}_flushAnimations(e,n){let r=new El,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(U=>{u.add(U);let $=this.driver.query(U,E$,!0);for(let z=0;z<$.length;z++)u.add($[z])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=CA(h,this.collectedEnterElements),w=new Map,I=0;m.forEach((U,$)=>{let z=AA+I++;w.set($,z),U.forEach(ue=>$n(ue,z))});let A=[],x=new Set,H=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let $=this.collectedLeaveElements[U],z=$[lr];z&&z.setForRemoval&&(A.push($),x.add($),z.hasAnimation?this.driver.query($,b$,!0).forEach(ue=>x.add(ue)):H.add($))}let q=new Map,g=CA(h,Array.from(x));g.forEach((U,$)=>{let z=Y_+I++;q.set($,z),U.forEach(ue=>$n(ue,z))}),e.push(()=>{m.forEach((U,$)=>{let z=w.get($);U.forEach(ue=>Ea(ue,z))}),g.forEach((U,$)=>{let z=q.get($);U.forEach(ue=>Ea(ue,z))}),A.forEach(U=>{this.processLeaveNode(U)})});let ee=[],O=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(z=>{let ue=z.player,Le=z.element;if(ee.push(ue),this.collectedEnterElements.length){let Ze=Le[lr];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(z.triggerName)){let Vt=Ze.previousTriggersValues.get(z.triggerName),_t=this.statesByElement.get(z.element);if(_t&&_t.has(z.triggerName)){let Cn=_t.get(z.triggerName);Cn.value=Vt,_t.set(z.triggerName,Cn)}}ue.destroy();return}}let Tt=!d||!this.driver.containsElement(d,Le),Qe=q.get(Le),Jt=w.get(Le),Me=this._buildInstruction(z,r,Jt,Qe,Tt);if(Me.errors&&Me.errors.length){O.push(Me);return}if(Tt){ue.onStart(()=>ss(Le,Me.fromStyles)),ue.onDestroy(()=>Ur(Le,Me.toStyles)),i.push(ue);return}if(z.isFallbackTransition){ue.onStart(()=>ss(Le,Me.fromStyles)),ue.onDestroy(()=>Ur(Le,Me.toStyles)),i.push(ue);return}let hn=[];Me.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=!0,this.disabledNodes.has(Ze.element)||hn.push(Ze)}),Me.timelines=hn,r.append(Le,Me.timelines);let Yn={instruction:Me,player:ue,element:Le};s.push(Yn),Me.queriedElements.forEach(Ze=>xn(a,Ze,[]).push(ue)),Me.preStyleProps.forEach((Ze,Vt)=>{if(Ze.size){let _t=c.get(Vt);_t||c.set(Vt,_t=new Set),Ze.forEach((Cn,vr)=>_t.add(vr))}}),Me.postStyleProps.forEach((Ze,Vt)=>{let _t=l.get(Vt);_t||l.set(Vt,_t=new Set),Ze.forEach((Cn,vr)=>_t.add(vr))})});if(O.length){let U=[];O.forEach($=>{U.push(HB($.triggerName,$.errors))}),ee.forEach($=>$.destroy()),this.reportError(U)}let X=new Map,de=new Map;s.forEach(U=>{let $=U.element;r.has($)&&(de.set($,$),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,X))}),i.forEach(U=>{let $=U.element;this._getPreviousPlayers($,!1,U.namespaceId,U.triggerName,null).forEach(ue=>{xn(X,$,[]).push(ue),ue.destroy()})});let Te=A.filter(U=>IA(U,c,l)),xe=new Map;EA(xe,this.driver,H,l,jr).forEach(U=>{IA(U,c,l)&&Te.push(U)});let Fe=new Map;m.forEach((U,$)=>{EA(Fe,this.driver,new Set(U),c,hf)}),Te.forEach(U=>{let $=xe.get(U),z=Fe.get(U);xe.set(U,new Map([...$?.entries()??[],...z?.entries()??[]]))});let Be=[],Yt=[],Xt={};s.forEach(U=>{let{element:$,player:z,instruction:ue}=U;if(r.has($)){if(u.has($)){z.onDestroy(()=>Ur($,ue.toStyles)),z.disabled=!0,z.overrideTotalTime(ue.totalTime),i.push(z);return}let Le=Xt;if(de.size>1){let Qe=$,Jt=[];for(;Qe=Qe.parentNode;){let Me=de.get(Qe);if(Me){Le=Me;break}Jt.push(Qe)}Jt.forEach(Me=>de.set(Me,Le))}let Tt=this._buildAnimation(z.namespaceId,ue,X,o,Fe,xe);if(z.setRealPlayer(Tt),Le===Xt)Be.push(z);else{let Qe=this.playersByElement.get(Le);Qe&&Qe.length&&(z.parentPlayer=so(Qe)),i.push(z)}}else ss($,ue.fromStyles),z.onDestroy(()=>Ur($,ue.toStyles)),Yt.push(z),u.has($)&&i.push(z)}),Yt.forEach(U=>{let $=o.get(U.element);if($&&$.length){let z=so($);U.setRealPlayer(z)}}),i.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<A.length;U++){let $=A[U],z=$[lr];if(Ea($,Y_),z&&z.hasAnimation)continue;let ue=[];if(a.size){let Tt=a.get($);Tt&&Tt.length&&ue.push(...Tt);let Qe=this.driver.query($,X_,!0);for(let Jt=0;Jt<Qe.length;Jt++){let Me=a.get(Qe[Jt]);Me&&Me.length&&ue.push(...Me)}}let Le=ue.filter(Tt=>!Tt.destroyed);Le.length?M$(this,$,Le):this.processLeaveNode($)}return A.length=0,Be.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let $=this.players.indexOf(U);this.players.splice($,1)}),U.play()}),Be}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==_l;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=xn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(m=>{let w=m.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),m.destroy(),d.push(m)})}ss(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(w=>{let I=w.element;u.add(I);let A=I[lr];if(A&&A.removedBeforeQueried)return new oo(w.duration,w.delay);let x=I!==c,H=P$((r.get(I)||T$).map(X=>X.getRealPlayer())).filter(X=>{let de=X;return de.element?de.element===I:!1}),q=o.get(I),g=s.get(I),ee=bA(this._normalizer,w.keyframes,q,g),O=this._buildPlayer(w,ee,H);if(w.subTimeline&&i&&d.add(I),x){let X=new Il(e,a,I);X.setRealPlayer(O),l.push(X)}return O});l.forEach(w=>{xn(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>D$(this.playersByQueriedElement,w.element,w))}),u.forEach(w=>$n(w,fA));let m=so(h);return m.onDestroy(()=>{u.forEach(w=>Ea(w,fA)),Ur(c,n.toStyles)}),d.forEach(w=>{xn(i,w,[]).push(m)}),m}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new oo(e.duration,e.delay)}},Il=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new oo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>h0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function D$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function A$(t){return t??null}function gf(t){return t&&t.nodeType===1}function x$(t){return t=="start"||t=="done"}function wA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function EA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(wA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[lr]=S$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>wA(c,o[a++])),s}function CA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function $n(t,e){t.classList?.add(e)}function Ea(t,e){t.classList?.remove(e)}function M$(t,e,n){so(n).onDone(()=>t.processLeaveNode(e))}function P$(t){let e=[];return NA(t,e),e}function NA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof vl?NA(r.players,e):e.push(r)}}function O$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function IA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var Ia=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new l0(e.body,n,r,i),this._timelineEngine=new a0(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=PA(this._driver,o,c,l);if(c.length)throw OB(i,c);l.length&&void 0,a=y$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=dA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=dA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function R$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Q_(e[0]),e.length>1&&(r=Q_(e[e.length-1]))):e instanceof Map&&(n=Q_(e)),n||r?new u0(t,n,r):null}var Ca=class Ca{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Ca.initialStylesByElement.get(e);i||Ca.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ca.initialStylesByElement.delete(this._element),this._startStyles&&(ss(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ss(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}};Ca.initialStylesByElement=new WeakMap;var u0=Ca;function Q_(t){let e=null;return t.forEach((n,r)=>{k$(r)&&(e=e||new Map,e.set(r,n))}),e}function k$(t){return t==="display"||t==="position"}var Tf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:v0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Sf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return TA(e,n)}getParentElement(e){return p0(e)}query(e,n,r){return SA(e,n,r)}computeStyle(e,n,r){return v0(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(m=>m instanceof Tf);e$(r,i)&&u.forEach(m=>{m.currentSnapshot.forEach((w,I)=>l.set(I,w))});let d=XB(n).map(m=>new Map(m));d=t$(e,d,l);let h=R$(e,d);return new Tf(e,d,c,h)}};var vf="@",FA="@.disabled",Df=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==vf&&n==FA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},d0=class extends Df{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==vf?n.charAt(1)=="."&&n==FA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==vf){let i=N$(e),o=n.slice(1),s="";return o.charAt(0)!=vf&&([o,s]=F$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function N$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function F$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Af=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new Df(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new d0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var L$=(()=>{let e=class e extends Ia{constructor(r,i,o){super(r,i,o,N(hc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(j(zt),j(as),j(cs))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function j$(){return new wf}function U$(t,e,n){return new Af(t,e,n)}var VA=[{provide:cs,useFactory:j$},{provide:Ia,useClass:L$},{provide:No,useFactory:U$,deps:[uf,Ia,Se]}],B$=[{provide:as,useFactory:()=>new Sf},{provide:Dg,useValue:"BrowserAnimations"},...VA],iee=[{provide:as,useClass:m0},{provide:Dg,useValue:"NoopAnimations"},...VA];function LA(){return $i("NgEagerAnimations"),[...B$]}var me="primary",Ll=Symbol("RouteTitle"),b0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Aa(t){return new b0(t)}function H$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function z$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Br(t[n],e[n]))return!1;return!0}function Br(t,e){let n=t?T0(t):void 0,r=e?T0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zA(t[i],e[i]))return!1;return!0}function T0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function qA(t){return t.length>0?t[t.length-1]:null}function uo(t){return Up(t)?t:Bo(t)?$e(Promise.resolve(t)):ce(t)}var q$={exact:WA,subset:KA},GA={exact:G$,subset:W$,ignored:()=>!0};function jA(t,e,n){return q$[n.paths](t.root,e.root,n.matrixParams)&&GA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function G$(t,e){return Br(t,e)}function WA(t,e,n){if(!us(t.segments,e.segments)||!Pf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!WA(t.children[r],e.children[r],n))return!1;return!0}function W$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zA(t[n],e[n]))}function KA(t,e,n){return QA(t,e,e.segments,n)}function QA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!us(i,n)||e.hasChildren()||!Pf(i,n,r))}else if(t.segments.length===n.length){if(!us(t.segments,n)||!Pf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!KA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!us(t.segments,i)||!Pf(t.segments,i,r)||!t.children[me]?!1:QA(t.children[me],e,o,r)}}function Pf(t,e,n){return e.every((r,i)=>GA[n](t[i].parameters,r.parameters))}var ao=class{constructor(e=new Ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Aa(this.queryParams),this._queryParamMap}toString(){return Y$.serialize(this)}},Ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Of(this)}},ls=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Aa(this.parameters),this._parameterMap}toString(){return XA(this)}};function K$(t,e){return us(t,e)&&t.every((n,r)=>Br(n.parameters,e[r].parameters))}function us(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Q$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var X0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new kf,providedIn:"root"});let t=e;return t})(),kf=class{parse(e){let n=new D0(e);return new ao(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bl(e.root,!0)}`,r=Z$(e.queryParams),i=typeof e.fragment=="string"?`#${X$(e.fragment)}`:"";return`${n}${r}${i}`}},Y$=new kf;function Of(t){return t.segments.map(e=>XA(e)).join("/")}function bl(t,e){if(!t.hasChildren())return Of(t);if(e){let n=t.children[me]?bl(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${bl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Q$(t,(r,i)=>i===me?[bl(t.children[me],!1)]:[`${i}:${bl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Of(t)}/${n[0]}`:`${Of(t)}/(${n.join("//")})`}}function YA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xf(t){return YA(t).replace(/%3B/gi,";")}function X$(t){return encodeURI(t)}function S0(t){return YA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rf(t){return decodeURIComponent(t)}function UA(t){return Rf(t.replace(/\+/g,"%20"))}function XA(t){return`${S0(t.path)}${J$(t.parameters)}`}function J$(t){return Object.entries(t).map(([e,n])=>`;${S0(e)}=${S0(n)}`).join("")}function Z$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xf(n)}=${xf(i)}`).join("&"):`${xf(n)}=${xf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var e4=/^[^\/()?;#]+/;function w0(t){let e=t.match(e4);return e?e[0]:""}var t4=/^[^\/()?;=#]+/;function n4(t){let e=t.match(t4);return e?e[0]:""}var r4=/^[^=?&#]+/;function i4(t){let e=t.match(r4);return e?e[0]:""}var o4=/^[^&#]+/;function s4(t){let e=t.match(o4);return e?e[0]:""}var D0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Ve(e,n)),r}parseSegment(){let e=w0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new ls(Rf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=n4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=w0(this.remaining);i&&(r=i,this.capture(r))}e[Rf(n)]=Rf(r)}parseQueryParam(e){let n=i4(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=s4(this.remaining);s&&(r=s,this.capture(r))}let i=UA(n),o=UA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=w0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[me]:new Ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function JA(t){return t.segments.length>0?new Ve([],{[me]:t}):t}function ZA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZA(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ve(t.segments,e);return a4(n)}function a4(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Ve(t.segments.concat(e.segments),e.children)}return t}function xa(t){return t instanceof ao}function c4(t,e,n=null,r=null){let i=ex(t);return tx(i,e,n,r)}function ex(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ve(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=JA(r);return e??i}function tx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return E0(i,i,i,n,r);let o=l4(e);if(o.toRoot())return E0(i,i,new Ve([],{}),n,r);let s=u4(o,i,t),a=s.processChildren?Dl(s.segmentGroup,s.index,o.commands):rx(s.segmentGroup,s.index,o.commands);return E0(i,s.segmentGroup,a,n,r)}function Nf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ml(t){return typeof t=="object"&&t!=null&&t.outlets}function E0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=nx(t,e,n);let a=JA(ZA(s));return new ao(a,o,i)}function nx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=nx(o,e,n)}),new Ve(t.segments,r)}var Ff=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Nf(r[0]))throw new k(4003,!1);let i=r.find(Ml);if(i&&i!==qA(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ff(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ff(n,e,r)}var Sa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function u4(t,e,n){if(t.isAbsolute)return new Sa(e,!0,0);if(!n)return new Sa(e,!1,NaN);if(n.parent===null)return new Sa(n,!0,0);let r=Nf(t.commands[0])?0:1,i=n.segments.length-1+r;return d4(n,i,t.numberOfDoubleDots)}function d4(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Sa(r,!1,i-o)}function h4(t){return Ml(t[0])?t[0].outlets:{[me]:t}}function rx(t,e,n){if(t??=new Ve([],{}),t.segments.length===0&&t.hasChildren())return Dl(t,e,n);let r=f4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ve(t.segments.slice(0,r.pathIndex),{});return o.children[me]=new Ve(t.segments.slice(r.pathIndex),t.children),Dl(o,0,i)}else return r.match&&i.length===0?new Ve(t.segments,{}):r.match&&!t.hasChildren()?A0(t,e,n):r.match?Dl(t,0,i):A0(t,e,n)}function Dl(t,e,n){if(n.length===0)return new Ve(t.segments,{});{let r=h4(n),i={};if(Object.keys(r).some(o=>o!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let o=Dl(t.children[me],e,n);return new Ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ve(t.segments,i)}}function f4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ml(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!$A(c,l,s))return o;r+=2}else{if(!$A(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function A0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ml(o)){let c=p4(o.outlets);return new Ve(r,c)}if(i===0&&Nf(n[0])){let c=t.segments[e];r.push(new ls(c.path,BA(n[0]))),i++;continue}let s=Ml(o)?o.outlets[me]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Nf(a)?(r.push(new ls(s,BA(a))),i+=2):(r.push(new ls(s,{})),i++)}return new Ve(r,{})}function p4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=A0(new Ve([],{}),0,r))}),e}function BA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $A(t,e,n){return t==n.path&&Br(e,n.parameters)}var Al="imperative",Kt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Kt||{}),zn=class{constructor(e,n){this.id=e,this.url=n}},Pl=class extends zn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Kt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ds=class extends zn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Hn||{}),x0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(x0||{}),co=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hs=class extends zn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Kt.NavigationSkipped}},Ol=class extends zn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vf=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},M0=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},P0=class extends zn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},O0=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},R0=class extends zn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},k0=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},N0=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},F0=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},V0=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},L0=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},j0=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Rl=class{},kl=class{constructor(e){this.url=e}};var U0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hf,this.attachRef=null}},Hf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new U0,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=B0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=B0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $0(e,this._root).map(n=>n.value)}};function B0(t,e){if(t===e.value)return e;for(let n of e.children){let r=B0(t,n);if(r)return r}return null}function $0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$0(t,n);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ta(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jf=class extends Lf{constructor(e,n){super(e),this.snapshot=n,Z0(this,e)}toString(){return this.snapshot.toString()}};function ix(t){let e=m4(t),n=new jt([new ls("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),s=new jt(""),a=new lo(n,r,o,s,i,me,t,e.root);return a.snapshot=e.root,new jf(new Mn(a,[]),e)}function m4(t){let e={},n={},r={},i="",o=new Nl([],e,r,i,n,me,t,null,{});return new Uf("",new Mn(o,[]))}var lo=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Ll]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Aa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Aa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function J0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&sx(i)&&(r.resolve[Ll]=i.title),r}var Nl=class{get title(){return this.data?.[Ll]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Aa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Aa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Uf=class extends Lf{constructor(e,n){super(n),this.url=e,Z0(this,n)}toString(){return ox(this._root)}};function Z0(t,e){e.value._routerState=t,e.children.forEach(n=>Z0(t,n))}function ox(t){let e=t.children.length>0?` { ${t.children.map(ox).join(", ")} } `:"";return`${t.value}${e}`}function C0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Br(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Br(e.params,n.params)||t.paramsSubject.next(n.params),z$(e.url,n.url)||t.urlSubject.next(n.url),Br(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function H0(t,e){let n=Br(t.params,e.params)&&K$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||H0(t.parent,e.parent))}function sx(t){return typeof t.title=="string"||t.title===null}var ew=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=N(Hf),this.location=N($t),this.changeDetector=N(Pr),this.environmentInjector=N(At),this.inputBinder=N(tw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new z0(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]});let t=e;return t})(),z0=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===lo?this.route:e===Hf?this.childContexts:this.parent.get(e,n)}},tw=new Y("");function g4(t,e,n){let r=Fl(t,e._root,n?n._root:void 0);return new jf(r,e)}function Fl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=v4(t,e,n);return new Mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fl(t,a)),s}}let r=y4(e.value),i=e.children.map(o=>Fl(t,o));return new Mn(r,i)}}function v4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Fl(t,r,i);return Fl(t,r)})}function y4(t){return new lo(new jt(t.url),new jt(t.params),new jt(t.queryParams),new jt(t.fragment),new jt(t.data),t.outlet,t.component,t)}var ax="ngNavigationCancelingError";function cx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lx(!1,Hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function lx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ax]=!0,n.cancellationCode=e,n}function _4(t){return ux(t)&&xa(t.url)}function ux(t){return!!t&&t[ax]}var w4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,o){i&1&&R(0,"router-outlet")},dependencies:[ew],encapsulation:2});let t=e;return t})();function E4(t,e){return t.providers&&!t._injector&&(t._injector=Yg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function nw(t){let e=t.children&&t.children.map(nw),n=e?Oe(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=w4),n}function $r(t){return t.outlet||me}function C4(t,e){let n=t.filter(r=>$r(r)===e);return n.push(...t.filter(r=>$r(r)!==e)),n}function jl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var I4=(t,e,n,r)=>ie(i=>(new q0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),q0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),C0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ta(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ta(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ta(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new j0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new V0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(C0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),C0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=jl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Bf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Da=class{constructor(e,n){this.component=e,this.route=n}};function b4(t,e,n){let r=t._root,i=e?e._root:null;return Tl(r,i,n,[r.value])}function T4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Pa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!KC(t)?t:e.get(t):r}function Tl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ta(e);return t.children.forEach(s=>{S4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xl(a,n.getContext(s),i)),i}function S4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=D4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tl(t,e,a?a.children:null,r,i):Tl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Da(a.outlet.component,s))}else s&&xl(e,a,i),i.canActivateChecks.push(new Bf(r)),o.component?Tl(t,null,a?a.children:null,r,i):Tl(t,null,n,r,i);return i}function D4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!us(t.url,e.url);case"pathParamsOrQueryParamsChange":return!us(t.url,e.url)||!Br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!H0(t,e)||!Br(t.queryParams,e.queryParams);case"paramsChange":default:return!H0(t,e)}}function xl(t,e,n){let r=Ta(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?xl(s,e.children.getContext(o),n):xl(s,null,n):xl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Da(e.outlet.component,i)):n.canDeactivateChecks.push(new Da(null,i)):n.canDeactivateChecks.push(new Da(null,i))}function Ul(t){return typeof t=="function"}function A4(t){return typeof t=="boolean"}function x4(t){return t&&Ul(t.canLoad)}function M4(t){return t&&Ul(t.canActivate)}function P4(t){return t&&Ul(t.canActivateChild)}function O4(t){return t&&Ul(t.canDeactivate)}function R4(t){return t&&Ul(t.canMatch)}function dx(t){return t instanceof bn||t?.name==="EmptyError"}var Mf=Symbol("INITIAL_VALUE");function Ma(){return Dt(t=>Hu(t.map(e=>e.pipe(Kr(1),Gp(Mf)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Mf)return Mf;if(n===!1||n instanceof ao)return n}return!0}),Zt(e=>e!==Mf),Kr(1)))}function k4(t,e){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Oe(V({},n),{guardsResult:!0})):N4(s,r,i,t).pipe(ut(a=>a&&A4(a)?F4(r,o,t,e):ce(a)),ie(a=>Oe(V({},n),{guardsResult:a})))})}function N4(t,e,n,r){return $e(t).pipe(ut(i=>B4(i.component,i.route,n,e,r)),_r(i=>i!==!0,!0))}function F4(t,e,n,r){return $e(e).pipe(Oi(i=>Ls(L4(i.route.parent,r),V4(i.route,r),U4(t,i.path,n),j4(t,i.route,n))),_r(i=>i!==!0,!0))}function V4(t,e){return t!==null&&e&&e(new L0(t)),ce(!0)}function L4(t,e){return t!==null&&e&&e(new F0(t)),ce(!0)}function j4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>zu(()=>{let s=jl(e)??n,a=Pa(o,s),c=M4(a)?a.canActivate(e,t):ni(s,()=>a(e,t));return uo(c).pipe(_r())}));return ce(i).pipe(Ma())}function U4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>T4(s)).filter(s=>s!==null).map(s=>zu(()=>{let a=s.guards.map(c=>{let l=jl(s.node)??n,u=Pa(c,l),d=P4(u)?u.canActivateChild(r,t):ni(l,()=>u(r,t));return uo(d).pipe(_r())});return ce(a).pipe(Ma())}));return ce(o).pipe(Ma())}function B4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let c=jl(e)??i,l=Pa(a,c),u=O4(l)?l.canDeactivate(t,e,n,r):ni(c,()=>l(t,e,n,r));return uo(u).pipe(_r())});return ce(s).pipe(Ma())}function $4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=Pa(s,t),c=x4(a)?a.canLoad(e,n):ni(t,()=>a(e,n));return uo(c)});return ce(o).pipe(Ma(),hx(r))}function hx(t){return Pp(dt(e=>{if(xa(e))throw cx(t,e)}),ie(e=>e===!0))}function H4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=Pa(s,t),c=R4(a)?a.canMatch(e,n):ni(t,()=>a(e,n));return uo(c)});return ce(o).pipe(Ma(),hx(r))}var Vl=class{constructor(e){this.segmentGroup=e||null}},$f=class extends Error{constructor(e){super(),this.urlTree=e}};function ba(t){return Pi(new Vl(t))}function z4(t){return Pi(new k(4e3,!1))}function q4(t){return Pi(lx(!1,Hn.GuardRejected))}var G0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[me])return z4(e.redirectTo);i=i.children[me]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $f(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ao(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},W0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G4(t,e,n,r,i){let o=rw(t,e,n);return o.matched?(r=E4(e,r),H4(r,e,n,i).pipe(ie(s=>s===!0?o:V({},W0)))):ce(o)}function rw(t,e,n){if(e.path==="**")return W4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},W0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||H$)(n,t,e);if(!i)return V({},W0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function W4(t){return{matched:!0,parameters:t.length>0?qA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function HA(t,e,n,r){return n.length>0&&Y4(t,n,r)?{segmentGroup:new Ve(e,Q4(r,new Ve(n,t.children))),slicedSegments:[]}:n.length===0&&X4(t,n,r)?{segmentGroup:new Ve(t.segments,K4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ve(t.segments,t.children),slicedSegments:n}}function K4(t,e,n,r){let i={};for(let o of n)if(zf(t,e,o)&&!r[$r(o)]){let s=new Ve([],{});i[$r(o)]=s}return V(V({},r),i)}function Q4(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&$r(r)!==me){let i=new Ve([],{});n[$r(r)]=i}return n}function Y4(t,e,n){return n.some(r=>zf(t,e,r)&&$r(r)!==me)}function X4(t,e,n){return n.some(r=>zf(t,e,r))}function zf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function J4(t,e,n,r){return $r(t)!==r&&(r===me||!zf(e,n,t))?!1:rw(e,t,n).matched}function Z4(t,e,n){return e.length===0&&!t.children[n]}var K0=class{};function eH(t,e,n,r,i,o,s="emptyOnly"){return new Q0(t,e,n,r,i,s,o).recognize()}var tH=31,Q0=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new G0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}recognize(){let e=HA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Nl([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),i=new Mn(r,n),o=new Uf("",i),s=c4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,me).pipe(Jn(r=>{if(r instanceof $f)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=J0(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof Mn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return $e(i).pipe(Oi(o=>{let s=r.children[o],a=C4(n,o);return this.processSegmentGroup(e,a,s,o)}),qp((o,s)=>(o.push(...s),o)),Ri(null),zp(),ut(o=>{if(o===null)return ba(r);let s=fx(o);return nH(s),ce(s)}))}processSegment(e,n,r,i,o,s){return $e(n).pipe(Oi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Jn(c=>{if(c instanceof Vl)return ce(null);throw c}))),_r(a=>!!a),Jn(a=>{if(dx(a))return Z4(r,i,o)?ce(new K0):ba(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return J4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):ba(i):ba(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=rw(n,i,o);if(!a)return ba(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tH&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ut(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=G4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Dt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,m=new Nl(u,h,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,iH(r),$r(r),r.component??r._loadedComponent??null,r,oH(r)),{segmentGroup:w,slicedSegments:I}=HA(n,u,d,c);if(I.length===0&&w.hasChildren())return this.processChildren(l,c,w).pipe(ie(x=>x===null?null:new Mn(m,x)));if(c.length===0&&I.length===0)return ce(new Mn(m,[]));let A=$r(r)===o;return this.processSegment(l,c,w,I,A?me:o,!0).pipe(ie(x=>new Mn(m,x instanceof Mn?[x]:[])))}))):ba(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):$4(e,n,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):q4(n))):ce({routes:[],injector:e})}};function nH(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function rH(t){let e=t.value.routeConfig;return e&&e.path===""}function fx(t){let e=[],n=new Set;for(let r of t){if(!rH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fx(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!n.has(r))}function iH(t){return t.data||{}}function oH(t){return t.resolve||{}}function sH(t,e,n,r,i,o){return ut(s=>eH(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Oe(V({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function aH(t,e){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of px(c))s.add(l);let a=0;return $e(s).pipe(Oi(c=>o.has(c)?cH(c,r,t,e):(c.data=J0(c,c.parent,t).resolve,ce(void 0))),dt(()=>a++),Us(1),ut(c=>a===s.size?ce(n):fn))})}function px(t){let e=t.children.map(n=>px(n)).flat();return[t,...e]}function cH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!sx(i)&&(o[Ll]=i.title),lH(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=J0(t,t.parent,n).resolve,null)))}function lH(t,e,n,r){let i=T0(t);if(i.length===0)return ce({});let o={};return $e(i).pipe(ut(s=>uH(t[s],e,n,r).pipe(_r(),dt(a=>{o[s]=a}))),Us(1),Hp(o),Jn(s=>dx(s)?fn:Pi(s)))}function uH(t,e,n,r){let i=jl(e)??r,o=Pa(t,i),s=o.resolve?o.resolve(e,n):ni(i,()=>o(e,n));return uo(s)}function I0(t){return Dt(e=>{let n=t(e);return n?$e(n).pipe(ie(()=>e)):ce(e)})}var mx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[Ll]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(dH),providedIn:"root"});let t=e;return t})(),dH=(()=>{let e=class e extends mx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(sA))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qf=new Y("",{providedIn:"root",factory:()=>({})}),iw=new Y(""),hH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(tv)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=uo(r.loadComponent()).pipe(ie(gx),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),To(()=>{this.componentLoaders.delete(r)})),o=new Ps(i,()=>new Lt).pipe(Ms());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=fH(i,this.compiler,r,this.onLoadEndListener).pipe(To(()=>{this.childrenLoaders.delete(i)})),a=new Ps(s,()=>new Lt).pipe(Ms());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fH(t,e,n,r){return uo(t.loadChildren()).pipe(ie(gx),ut(i=>i instanceof fc||Array.isArray(i)?ce(i):$e(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(iw,[],{optional:!0,self:!0}).flat()),{routes:s.map(nw),injector:o}}))}function pH(t){return t&&typeof t=="object"&&"default"in t}function gx(t){return pH(t)?t.default:t}var ow=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(mH),providedIn:"root"});let t=e;return t})(),mH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gH=new Y("");var vH=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt,this.transitionAbortSubject=new Lt,this.configLoader=N(hH),this.environmentInjector=N(At),this.urlSerializer=N(X0),this.rootContexts=N(Hf),this.location=N(Ic),this.inputBindingEnabled=N(tw,{optional:!0})!==null,this.titleStrategy=N(mx),this.options=N(qf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(ow),this.createViewTransition=N(gH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let r=o=>this.events.next(new k0(o)),i=o=>this.events.next(new N0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Oe(V(V({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new jt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Al,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(s=>s.id!==0),ie(s=>Oe(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Dt(s=>{this.currentTransition=s;let a=!1,c=!1;return ce(s).pipe(dt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Oe(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new hs(l.id,this.urlSerializer.serialize(l.rawUrl),h,x0.IgnoredSameUrlNavigation)),l.resolve(null),fn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(Dt(h=>{let m=this.transitions?.getValue();return this.events.next(new Pl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?fn:Promise.resolve(h)}),sH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Oe(V({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new Vf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:m,source:w,restoredState:I,extras:A}=l,x=new Pl(h,this.urlSerializer.serialize(m),w,I);this.events.next(x);let H=ix(this.rootComponentType).snapshot;return this.currentTransition=s=Oe(V({},l),{targetSnapshot:H,urlAfterRedirects:m,extras:Oe(V({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ce(s)}else{let h="";return this.events.next(new hs(l.id,this.urlSerializer.serialize(l.extractedUrl),h,x0.IgnoredByUrlHandlingStrategy)),l.resolve(null),fn}}),dt(l=>{let u=new M0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Oe(V({},l),{guards:b4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),k4(this.environmentInjector,l=>this.events.next(l)),dt(l=>{if(s.guardsResult=l.guardsResult,xa(l.guardsResult))throw cx(this.urlSerializer,l.guardsResult);let u=new P0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Zt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Hn.GuardRejected),!1)),I0(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(dt(u=>{let d=new O0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Dt(u=>{let d=!1;return ce(u).pipe(aH(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Hn.NoDataFromResolver)}}))}),dt(u=>{let d=new R0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),I0(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(dt(m=>{d.component=m}),ie(()=>{})));for(let m of d.children)h.push(...u(m));return h};return Hu(u(l.targetSnapshot.root)).pipe(Ri(null),Kr(1))}),I0(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?$e(d).pipe(ie(()=>s)):ce(s)}),ie(l=>{let u=g4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Oe(V({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),dt(()=>{this.events.next(new Rl)}),I4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kr(1),dt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ds(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Zn(this.transitionAbortSubject.pipe(dt(l=>{throw l}))),To(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Hn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(l=>{if(c=!0,ux(l))this.events.next(new co(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),_4(l)?this.events.next(new kl(l.url)):s.resolve(!1);else{this.events.next(new Ol(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return fn}))}))}cancelNavigationTransition(r,i,o){let s=new co(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yH(t){return t!==Al}var _H=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(wH),providedIn:"root"});let t=e;return t})(),Y0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wH=(()=>{let e=class e extends Y0{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>N(EH),providedIn:"root"});let t=e;return t})(),EH=(()=>{let e=class e extends vx{constructor(){super(...arguments),this.location=N(Ic),this.urlSerializer=N(X0),this.options=N(qf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(ow),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ao,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ix(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Pl)this.stateMemento=this.createStateMemento();else if(r instanceof hs)this.rawUrlTree=i.initialUrl;else if(r instanceof Vf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Rl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof co&&(r.code===Hn.GuardRejected||r.code===Hn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ol?this.restoreHistory(i,!0):r instanceof ds&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=V(V({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=V(V({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sl||{});function CH(t,e){t.events.pipe(Zt(n=>n instanceof ds||n instanceof co||n instanceof Ol||n instanceof hs),ie(n=>n instanceof ds||n instanceof hs?Sl.COMPLETE:(n instanceof co?n.code===Hn.Redirect||n.code===Hn.SupersededByNewNavigation:!1)?Sl.REDIRECTING:Sl.FAILED),Zt(n=>n!==Sl.REDIRECTING),Kr(1)).subscribe(()=>{e()})}function IH(t){throw t}var bH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(Gd),this.stateManager=N(vx),this.options=N(qf,{optional:!0})||{},this.pendingTasks=N(Uo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(vH),this.urlSerializer=N(X0),this.location=N(Ic),this.urlHandlingStrategy=N(ow),this._events=new Lt,this.errorHandler=this.options.errorHandler||IH,this.navigated=!1,this.routeReuseStrategy=N(_H),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(iw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(tw,{optional:!0}),this.eventsSubscription=new lt,this.isNgZoneEnabled=N(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof co&&i.code!==Hn.Redirect&&i.code!==Hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ds)this.navigated=!0;else if(i instanceof kl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yH(o.source)};this.scheduleNavigation(a,Al,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}DH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Al,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=V({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(nw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=o?o.snapshot:this.routerState.snapshot.root;h=ex(m)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return tx(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=xa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Al,null,i)}navigate(r,i={skipLocationChange:!1}){return SH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=V({},bH):i===!1?o=V({},TH):o=i,xa(r))return jA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return jA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,m)=>{c=h,l=m});let d=this.pendingTasks.add();return CH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}function DH(t){return!(t instanceof Rl)&&!(t instanceof kl)}var AH=new Y("");function yx(t,...e){return Bi([{provide:iw,multi:!0,useValue:t},[],{provide:lo,useFactory:xH,deps:[wn]},{provide:Wd,multi:!0,useFactory:PH},e.map(n=>n.\u0275providers)])}function xH(t){return t.routerState.root}function MH(t,e){return{\u0275kind:t,\u0275providers:e}}function PH(){let t=N(it);return e=>{let n=t.get(Mr);if(e!==n.components[0])return;let r=t.get(wn),i=t.get(OH);t.get(RH)===1&&r.initialNavigation(),t.get(kH,null,we.Optional)?.setUpPreloading(),t.get(AH,null,we.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OH=new Y("",{factory:()=>new Lt}),RH=new Y("",{providedIn:"root",factory:()=>1});var kH=new Y("");function _x(t){return MH(5,[{provide:qf,useValue:t}])}var st="top",It="bottom",vt="right",pt="left",Gf="auto",ho=[st,It,vt,pt],wi="start",fs="end",wx="clippingParents",Wf="viewport",Oa="popper",Ex="reference",aw=ho.reduce(function(t,e){return t.concat([e+"-"+wi,e+"-"+fs])},[]),Kf=[].concat(ho,[Gf]).reduce(function(t,e){return t.concat([e,e+"-"+wi,e+"-"+fs])},[]),NH="beforeRead",FH="read",VH="afterRead",LH="beforeMain",jH="main",UH="afterMain",BH="beforeWrite",$H="write",HH="afterWrite",Cx=[NH,FH,VH,LH,jH,UH,BH,$H,HH];function kt(t){return t?(t.nodeName||"").toLowerCase():null}function Xe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qn(t){var e=Xe(t).Element;return t instanceof e||t instanceof Element}function bt(t){var e=Xe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ra(t){if(typeof ShadowRoot>"u")return!1;var e=Xe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function zH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!bt(o)||!kt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function qH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!bt(i)||!kt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Bl={name:"applyStyles",enabled:!0,phase:"write",fn:zH,effect:qH,requires:["computeStyles"]};function Nt(t){return t.split("-")[0]}var ur=Math.max,ps=Math.min,Ei=Math.round;function ka(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $l(){return!/^((?!chrome|android).)*safari/i.test(ka())}function Gn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&bt(t)&&(i=t.offsetWidth>0&&Ei(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ei(r.height)/t.offsetHeight||1);var s=qn(t)?Xe(t):window,a=s.visualViewport,c=!$l()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function ms(t){var e=Gn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Hl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ra(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function un(t){return Xe(t).getComputedStyle(t)}function cw(t){return["table","td","th"].indexOf(kt(t))>=0}function Qt(t){return((qn(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ci(t){return kt(t)==="html"?t:t.assignedSlot||t.parentNode||(Ra(t)?t.host:null)||Qt(t)}function Ix(t){return!bt(t)||un(t).position==="fixed"?null:t.offsetParent}function GH(t){var e=/firefox/i.test(ka()),n=/Trident/i.test(ka());if(n&&bt(t)){var r=un(t);if(r.position==="fixed")return null}var i=Ci(t);for(Ra(i)&&(i=i.host);bt(i)&&["html","body"].indexOf(kt(i))<0;){var o=un(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function dr(t){for(var e=Xe(t),n=Ix(t);n&&cw(n)&&un(n).position==="static";)n=Ix(n);return n&&(kt(n)==="html"||kt(n)==="body"&&un(n).position==="static")?e:n||GH(t)||e}function gs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vs(t,e,n){return ur(t,ps(e,n))}function bx(t,e,n){var r=vs(t,e,n);return r>n?n:r}function zl(){return{top:0,right:0,bottom:0,left:0}}function ql(t){return Object.assign({},zl(),t)}function Gl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var WH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ql(typeof e!="number"?e:Gl(e,ho))};function KH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Nt(n.placement),c=gs(a),l=[pt,vt].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=WH(i.padding,n),h=ms(o),m=c==="y"?st:pt,w=c==="y"?It:vt,I=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],A=s[c]-n.rects.reference[c],x=dr(o),H=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,q=I/2-A/2,g=d[m],ee=H-h[u]-d[w],O=H/2-h[u]/2+q,X=vs(g,O,ee),de=c;n.modifiersData[r]=(e={},e[de]=X,e.centerOffset=X-O,e)}}function QH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Hl(e.elements.popper,i)&&(e.elements.arrow=i))}var Tx={name:"arrow",enabled:!0,phase:"main",fn:KH,effect:QH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wn(t){return t.split("-")[1]}var YH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XH(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ei(n*i)/i||0,y:Ei(r*i)/i||0}}function Sx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,m=h===void 0?0:h,w=s.y,I=w===void 0?0:w,A=typeof u=="function"?u({x:m,y:I}):{x:m,y:I};m=A.x,I=A.y;var x=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),q=pt,g=st,ee=window;if(l){var O=dr(n),X="clientHeight",de="clientWidth";if(O===Xe(n)&&(O=Qt(n),un(O).position!=="static"&&a==="absolute"&&(X="scrollHeight",de="scrollWidth")),O=O,i===st||(i===pt||i===vt)&&o===fs){g=It;var Te=d&&O===ee&&ee.visualViewport?ee.visualViewport.height:O[X];I-=Te-r.height,I*=c?1:-1}if(i===pt||(i===st||i===It)&&o===fs){q=vt;var xe=d&&O===ee&&ee.visualViewport?ee.visualViewport.width:O[de];m-=xe-r.width,m*=c?1:-1}}var nt=Object.assign({position:a},l&&YH),Fe=u===!0?XH({x:m,y:I},Xe(n)):{x:m,y:I};if(m=Fe.x,I=Fe.y,c){var Be;return Object.assign({},nt,(Be={},Be[g]=H?"0":"",Be[q]=x?"0":"",Be.transform=(ee.devicePixelRatio||1)<=1?"translate("+m+"px, "+I+"px)":"translate3d("+m+"px, "+I+"px, 0)",Be))}return Object.assign({},nt,(e={},e[g]=H?I+"px":"",e[q]=x?m+"px":"",e.transform="",e))}function JH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Nt(e.placement),variation:Wn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Sx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Sx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Dx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JH,data:{}};var Qf={passive:!0};function ZH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Xe(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,Qf)}),a&&c.addEventListener("resize",n.update,Qf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Qf)}),a&&c.removeEventListener("resize",n.update,Qf)}}var Ax={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ZH,data:{}};var ez={left:"right",right:"left",bottom:"top",top:"bottom"};function Na(t){return t.replace(/left|right|bottom|top/g,function(e){return ez[e]})}var tz={start:"end",end:"start"};function Yf(t){return t.replace(/start|end/g,function(e){return tz[e]})}function ys(t){var e=Xe(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _s(t){return Gn(Qt(t)).left+ys(t).scrollLeft}function lw(t,e){var n=Xe(t),r=Qt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=$l();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+_s(t),y:c}}function uw(t){var e,n=Qt(t),r=ys(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ur(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ur(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+_s(t),c=-r.scrollTop;return un(i||n).direction==="rtl"&&(a+=ur(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ws(t){var e=un(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xf(t){return["html","body","#document"].indexOf(kt(t))>=0?t.ownerDocument.body:bt(t)&&ws(t)?t:Xf(Ci(t))}function fo(t,e){var n;e===void 0&&(e=[]);var r=Xf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Xe(r),s=i?[o].concat(o.visualViewport||[],ws(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(fo(Ci(s)))}function Fa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function nz(t,e){var n=Gn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xx(t,e,n){return e===Wf?Fa(lw(t,n)):qn(e)?nz(e,n):Fa(uw(Qt(t)))}function rz(t){var e=fo(Ci(t)),n=["absolute","fixed"].indexOf(un(t).position)>=0,r=n&&bt(t)?dr(t):t;return qn(r)?e.filter(function(i){return qn(i)&&Hl(i,r)&&kt(i)!=="body"}):[]}function dw(t,e,n,r){var i=e==="clippingParents"?rz(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=xx(t,l,r);return c.top=ur(u.top,c.top),c.right=ps(u.right,c.right),c.bottom=ps(u.bottom,c.bottom),c.left=ur(u.left,c.left),c},xx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wl(t){var e=t.reference,n=t.element,r=t.placement,i=r?Nt(r):null,o=r?Wn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case st:c={x:s,y:e.y-n.height};break;case It:c={x:s,y:e.y+e.height};break;case vt:c={x:e.x+e.width,y:a};break;case pt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?gs(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case wi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case fs:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function hr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?wx:a,l=n.rootBoundary,u=l===void 0?Wf:l,d=n.elementContext,h=d===void 0?Oa:d,m=n.altBoundary,w=m===void 0?!1:m,I=n.padding,A=I===void 0?0:I,x=ql(typeof A!="number"?A:Gl(A,ho)),H=h===Oa?Ex:Oa,q=t.rects.popper,g=t.elements[w?H:h],ee=dw(qn(g)?g:g.contextElement||Qt(t.elements.popper),c,u,s),O=Gn(t.elements.reference),X=Wl({reference:O,element:q,strategy:"absolute",placement:i}),de=Fa(Object.assign({},q,X)),Te=h===Oa?de:O,xe={top:ee.top-Te.top+x.top,bottom:Te.bottom-ee.bottom+x.bottom,left:ee.left-Te.left+x.left,right:Te.right-ee.right+x.right},nt=t.modifiersData.offset;if(h===Oa&&nt){var Fe=nt[i];Object.keys(xe).forEach(function(Be){var Yt=[vt,It].indexOf(Be)>=0?1:-1,Xt=[st,It].indexOf(Be)>=0?"y":"x";xe[Be]+=Fe[Xt]*Yt})}return xe}function hw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Kf:c,u=Wn(r),d=u?a?aw:aw.filter(function(w){return Wn(w)===u}):ho,h=d.filter(function(w){return l.indexOf(w)>=0});h.length===0&&(h=d);var m=h.reduce(function(w,I){return w[I]=hr(t,{placement:I,boundary:i,rootBoundary:o,padding:s})[Nt(I)],w},{});return Object.keys(m).sort(function(w,I){return m[w]-m[I]})}function iz(t){if(Nt(t)===Gf)return[];var e=Na(t);return[Yf(t),e,Yf(e)]}function oz(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,w=m===void 0?!0:m,I=n.allowedAutoPlacements,A=e.options.placement,x=Nt(A),H=x===A,q=c||(H||!w?[Na(A)]:iz(A)),g=[A].concat(q).reduce(function(Me,hn){return Me.concat(Nt(hn)===Gf?hw(e,{placement:hn,boundary:u,rootBoundary:d,padding:l,flipVariations:w,allowedAutoPlacements:I}):hn)},[]),ee=e.rects.reference,O=e.rects.popper,X=new Map,de=!0,Te=g[0],xe=0;xe<g.length;xe++){var nt=g[xe],Fe=Nt(nt),Be=Wn(nt)===wi,Yt=[st,It].indexOf(Fe)>=0,Xt=Yt?"width":"height",U=hr(e,{placement:nt,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),$=Yt?Be?vt:pt:Be?It:st;ee[Xt]>O[Xt]&&($=Na($));var z=Na($),ue=[];if(o&&ue.push(U[Fe]<=0),a&&ue.push(U[$]<=0,U[z]<=0),ue.every(function(Me){return Me})){Te=nt,de=!1;break}X.set(nt,ue)}if(de)for(var Le=w?3:1,Tt=function(hn){var Yn=g.find(function(Ze){var Vt=X.get(Ze);if(Vt)return Vt.slice(0,hn).every(function(_t){return _t})});if(Yn)return Te=Yn,"break"},Qe=Le;Qe>0;Qe--){var Jt=Tt(Qe);if(Jt==="break")break}e.placement!==Te&&(e.modifiersData[r]._skip=!0,e.placement=Te,e.reset=!0)}}var Mx={name:"flip",enabled:!0,phase:"main",fn:oz,requiresIfExists:["offset"],data:{_skip:!1}};function Px(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ox(t){return[st,vt,It,pt].some(function(e){return t[e]>=0})}function sz(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=hr(e,{elementContext:"reference"}),a=hr(e,{altBoundary:!0}),c=Px(s,r),l=Px(a,i,o),u=Ox(c),d=Ox(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Rx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sz};function az(t,e,n){var r=Nt(t),i=[pt,st].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[pt,vt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function cz(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Kf.reduce(function(u,d){return u[d]=az(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var kx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cz};function lz(t){var e=t.state,n=t.name;e.modifiersData[n]=Wl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Nx={name:"popperOffsets",enabled:!0,phase:"read",fn:lz,data:{}};function fw(t){return t==="x"?"y":"x"}function uz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,m=h===void 0?!0:h,w=n.tetherOffset,I=w===void 0?0:w,A=hr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),x=Nt(e.placement),H=Wn(e.placement),q=!H,g=gs(x),ee=fw(g),O=e.modifiersData.popperOffsets,X=e.rects.reference,de=e.rects.popper,Te=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,xe=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),nt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Fe={x:0,y:0};if(O){if(o){var Be,Yt=g==="y"?st:pt,Xt=g==="y"?It:vt,U=g==="y"?"height":"width",$=O[g],z=$+A[Yt],ue=$-A[Xt],Le=m?-de[U]/2:0,Tt=H===wi?X[U]:de[U],Qe=H===wi?-de[U]:-X[U],Jt=e.elements.arrow,Me=m&&Jt?ms(Jt):{width:0,height:0},hn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zl(),Yn=hn[Yt],Ze=hn[Xt],Vt=vs(0,X[U],Me[U]),_t=q?X[U]/2-Le-Vt-Yn-xe.mainAxis:Tt-Vt-Yn-xe.mainAxis,Cn=q?-X[U]/2+Le+Vt+Ze+xe.mainAxis:Qe+Vt+Ze+xe.mainAxis,vr=e.elements.arrow&&dr(e.elements.arrow),ou=vr?g==="y"?vr.clientTop||0:vr.clientLeft||0:0,Ga=(Be=nt?.[g])!=null?Be:0,su=$+_t-Ga-ou,au=$+Cn-Ga,Wa=vs(m?ps(z,su):z,$,m?ur(ue,au):ue);O[g]=Wa,Fe[g]=Wa-$}if(a){var Ka,cu=g==="x"?st:pt,lu=g==="x"?It:vt,Wr=O[ee],Ti=ee==="y"?"height":"width",Qa=Wr+A[cu],_o=Wr-A[lu],Ya=[st,pt].indexOf(x)!==-1,uu=(Ka=nt?.[ee])!=null?Ka:0,du=Ya?Qa:Wr-X[Ti]-de[Ti]-uu+xe.altAxis,hu=Ya?Wr+X[Ti]+de[Ti]-uu-xe.altAxis:_o,fu=m&&Ya?bx(du,Wr,hu):vs(m?du:Qa,Wr,m?hu:_o);O[ee]=fu,Fe[ee]=fu-Wr}e.modifiersData[r]=Fe}}var Fx={name:"preventOverflow",enabled:!0,phase:"main",fn:uz,requiresIfExists:["offset"]};function pw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mw(t){return t===Xe(t)||!bt(t)?ys(t):pw(t)}function dz(t){var e=t.getBoundingClientRect(),n=Ei(e.width)/t.offsetWidth||1,r=Ei(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gw(t,e,n){n===void 0&&(n=!1);var r=bt(e),i=bt(e)&&dz(e),o=Qt(e),s=Gn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((kt(e)!=="body"||ws(o))&&(a=mw(e)),bt(e)?(c=Gn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=_s(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function hz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function vw(t){var e=hz(t);return Cx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function yw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _w(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Vx={placement:"bottom",modifiers:[],strategy:"absolute"};function Lx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function jx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Vx:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vx,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,m={state:u,setOptions:function(x){var H=typeof x=="function"?x(u.options):x;I(),u.options=Object.assign({},o,u.options,H),u.scrollParents={reference:qn(a)?fo(a):a.contextElement?fo(a.contextElement):[],popper:fo(c)};var q=vw(_w([].concat(r,u.options.modifiers)));return u.orderedModifiers=q.filter(function(g){return g.enabled}),w(),m.update()},forceUpdate:function(){if(!h){var x=u.elements,H=x.reference,q=x.popper;if(Lx(H,q)){u.rects={reference:gw(H,dr(q),u.options.strategy==="fixed"),popper:ms(q)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(xe){return u.modifiersData[xe.name]=Object.assign({},xe.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var ee=u.orderedModifiers[g],O=ee.fn,X=ee.options,de=X===void 0?{}:X,Te=ee.name;typeof O=="function"&&(u=O({state:u,options:de,name:Te,instance:m})||u)}}}},update:yw(function(){return new Promise(function(A){m.forceUpdate(),A(u)})}),destroy:function(){I(),h=!0}};if(!Lx(a,c))return m;m.setOptions(l).then(function(A){!h&&l.onFirstUpdate&&l.onFirstUpdate(A)});function w(){u.orderedModifiers.forEach(function(A){var x=A.name,H=A.options,q=H===void 0?{}:H,g=A.effect;if(typeof g=="function"){var ee=g({state:u,name:x,instance:m,options:q}),O=function(){};d.push(ee||O)}})}function I(){d.forEach(function(A){return A()}),d=[]}return m}}var fz=[Ax,Nx,Dx,Bl,kx,Mx,Fx,Tx,Rx],ww=jx({defaultModifiers:fz});var pz="tippy-box",Qx="tippy-content",mz="tippy-backdrop",Yx="tippy-arrow",Xx="tippy-svg-arrow",Es={passive:!0,capture:!0},Jx=function(){return document.body};function Ew(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Dw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Zx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Ux(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function gz(t){return t.split(/\s+/).filter(Boolean)}function Va(t){return[].concat(t)}function Bx(t,e){t.indexOf(e)===-1&&t.push(e)}function vz(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function yz(t){return t.split("-")[0]}function Zf(t){return[].slice.call(t)}function $x(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Kl(){return document.createElement("div")}function ep(t){return["Element","Fragment"].some(function(e){return Dw(t,e)})}function _z(t){return Dw(t,"NodeList")}function wz(t){return Dw(t,"MouseEvent")}function Ez(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Cz(t){return ep(t)?[t]:_z(t)?Zf(t):Array.isArray(t)?t:Zf(document.querySelectorAll(t))}function Cw(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Hx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Iz(t){var e,n=Va(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function bz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=yz(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,m=l==="right"?u.left.x:0,w=l==="left"?u.right.x:0,I=o.top-r+d>c,A=r-o.bottom-h>c,x=o.left-n+m>c,H=n-o.right-w>c;return I||A||x||H})}function Iw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function zx(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Hr={isTouch:!1},qx=0;function Tz(){Hr.isTouch||(Hr.isTouch=!0,window.performance&&document.addEventListener("mousemove",eM))}function eM(){var t=performance.now();t-qx<20&&(Hr.isTouch=!1,document.removeEventListener("mousemove",eM)),qx=t}function Sz(){var t=document.activeElement;if(Ez(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Dz(){document.addEventListener("touchstart",Tz,Es),window.addEventListener("blur",Sz)}var Az=typeof window<"u"&&typeof document<"u",xz=Az?!!window.msCrypto:!1;var Mz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Pz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fr=Object.assign({appendTo:Jx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Mz,Pz),Oz=Object.keys(fr),Rz=function(e){var n=Object.keys(e);n.forEach(function(r){fr[r]=e[r]})};function tM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=fr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function kz(t,e){var n=e?Object.keys(tM(Object.assign({},fr,{plugins:e}))):Oz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Gx(t,e){var n=Object.assign({},e,{content:Zx(e.content,[t])},e.ignoreAttributes?{}:kz(t,e.plugins));return n.aria=Object.assign({},fr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Nz=function(){return"innerHTML"};function Tw(t,e){t[Nz()]=e}function Wx(t){var e=Kl();return t===!0?e.className=Yx:(e.className=Xx,ep(t)?e.appendChild(t):Tw(e,t)),e}function Kx(t,e){ep(e.content)?(Tw(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Tw(t,e.content):t.textContent=e.content)}function Sw(t){var e=t.firstElementChild,n=Zf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Qx)}),arrow:n.find(function(r){return r.classList.contains(Yx)||r.classList.contains(Xx)}),backdrop:n.find(function(r){return r.classList.contains(mz)})}}function nM(t){var e=Kl(),n=Kl();n.className=pz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Kl();r.className=Qx,r.setAttribute("data-state","hidden"),Kx(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=Sw(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Kx(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Wx(s.arrow))):c.appendChild(Wx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}nM.$$tippy=!0;var Fz=1,Jf=[],bw=[];function Vz(t,e){var n=Gx(t,Object.assign({},fr,tM($x(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,m=[],w=Ux(su,n.interactiveDebounce),I,A=Fz++,x=null,H=vz(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:A,reference:t,popper:Kl(),popperInstance:x,props:n,state:q,plugins:H,clearDelayTimeouts:du,setProps:hu,setContent:fu,show:bP,hide:TP,hideWithInteractivity:SP,enable:Ya,disable:uu,unmount:DP,destroy:AP};if(!n.render)return g;var ee=n.render(g),O=ee.popper,X=ee.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+g.id,g.popper=O,t._tippy=g,O._tippy=g;var de=H.map(function(D){return D.fn(g)}),Te=t.hasAttribute("aria-expanded");return vr(),Le(),$(),z("onCreate",[g]),n.showOnCreate&&Qa(),O.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&Yt().addEventListener("mousemove",w)}),g;function xe(){var D=g.props.touch;return Array.isArray(D)?D:[D,0]}function nt(){return xe()[0]==="hold"}function Fe(){var D;return!!((D=g.props.render)!=null&&D.$$tippy)}function Be(){return I||t}function Yt(){var D=Be().parentNode;return D?Iz(D):document}function Xt(){return Sw(O)}function U(D){return g.state.isMounted&&!g.state.isVisible||Hr.isTouch||u&&u.type==="focus"?0:Ew(g.props.delay,D?0:1,fr.delay)}function $(D){D===void 0&&(D=!1),O.style.pointerEvents=g.props.interactive&&!D?"":"none",O.style.zIndex=""+g.props.zIndex}function z(D,Q,oe){if(oe===void 0&&(oe=!0),de.forEach(function(Pe){Pe[D]&&Pe[D].apply(Pe,Q)}),oe){var je;(je=g.props)[D].apply(je,Q)}}function ue(){var D=g.props.aria;if(D.content){var Q="aria-"+D.content,oe=O.id,je=Va(g.props.triggerTarget||t);je.forEach(function(Pe){var nn=Pe.getAttribute(Q);if(g.state.isVisible)Pe.setAttribute(Q,nn?nn+" "+oe:oe);else{var On=nn&&nn.replace(oe,"").trim();On?Pe.setAttribute(Q,On):Pe.removeAttribute(Q)}})}}function Le(){if(!(Te||!g.props.aria.expanded)){var D=Va(g.props.triggerTarget||t);D.forEach(function(Q){g.props.interactive?Q.setAttribute("aria-expanded",g.state.isVisible&&Q===Be()?"true":"false"):Q.removeAttribute("aria-expanded")})}}function Tt(){Yt().removeEventListener("mousemove",w),Jf=Jf.filter(function(D){return D!==w})}function Qe(D){if(!(Hr.isTouch&&(c||D.type==="mousedown"))){var Q=D.composedPath&&D.composedPath()[0]||D.target;if(!(g.props.interactive&&zx(O,Q))){if(Va(g.props.triggerTarget||t).some(function(oe){return zx(oe,Q)})){if(Hr.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[g,D]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),a=!0,setTimeout(function(){a=!1}),g.state.isMounted||Yn())}}}function Jt(){c=!0}function Me(){c=!1}function hn(){var D=Yt();D.addEventListener("mousedown",Qe,!0),D.addEventListener("touchend",Qe,Es),D.addEventListener("touchstart",Me,Es),D.addEventListener("touchmove",Jt,Es)}function Yn(){var D=Yt();D.removeEventListener("mousedown",Qe,!0),D.removeEventListener("touchend",Qe,Es),D.removeEventListener("touchstart",Me,Es),D.removeEventListener("touchmove",Jt,Es)}function Ze(D,Q){_t(D,function(){!g.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&Q()})}function Vt(D,Q){_t(D,Q)}function _t(D,Q){var oe=Xt().box;function je(Pe){Pe.target===oe&&(Iw(oe,"remove",je),Q())}if(D===0)return Q();Iw(oe,"remove",d),Iw(oe,"add",je),d=je}function Cn(D,Q,oe){oe===void 0&&(oe=!1);var je=Va(g.props.triggerTarget||t);je.forEach(function(Pe){Pe.addEventListener(D,Q,oe),m.push({node:Pe,eventType:D,handler:Q,options:oe})})}function vr(){nt()&&(Cn("touchstart",Ga,{passive:!0}),Cn("touchend",au,{passive:!0})),gz(g.props.trigger).forEach(function(D){if(D!=="manual")switch(Cn(D,Ga),D){case"mouseenter":Cn("mouseleave",au);break;case"focus":Cn(xz?"focusout":"blur",Wa);break;case"focusin":Cn("focusout",Wa);break}})}function ou(){m.forEach(function(D){var Q=D.node,oe=D.eventType,je=D.handler,Pe=D.options;Q.removeEventListener(oe,je,Pe)}),m=[]}function Ga(D){var Q,oe=!1;if(!(!g.state.isEnabled||Ka(D)||a)){var je=((Q=u)==null?void 0:Q.type)==="focus";u=D,I=D.currentTarget,Le(),!g.state.isVisible&&wz(D)&&Jf.forEach(function(Pe){return Pe(D)}),D.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||s)&&g.props.hideOnClick!==!1&&g.state.isVisible?oe=!0:Qa(D),D.type==="click"&&(s=!oe),oe&&!je&&_o(D)}}function su(D){var Q=D.target,oe=Be().contains(Q)||O.contains(Q);if(!(D.type==="mousemove"&&oe)){var je=Ti().concat(O).map(function(Pe){var nn,On=Pe._tippy,Is=(nn=On.popperInstance)==null?void 0:nn.state;return Is?{popperRect:Pe.getBoundingClientRect(),popperState:Is,props:n}:null}).filter(Boolean);bz(je,D)&&(Tt(),_o(D))}}function au(D){var Q=Ka(D)||g.props.trigger.indexOf("click")>=0&&s;if(!Q){if(g.props.interactive){g.hideWithInteractivity(D);return}_o(D)}}function Wa(D){g.props.trigger.indexOf("focusin")<0&&D.target!==Be()||g.props.interactive&&D.relatedTarget&&O.contains(D.relatedTarget)||_o(D)}function Ka(D){return Hr.isTouch?nt()!==D.type.indexOf("touch")>=0:!1}function cu(){lu();var D=g.props,Q=D.popperOptions,oe=D.placement,je=D.offset,Pe=D.getReferenceClientRect,nn=D.moveTransition,On=Fe()?Sw(O).arrow:null,Is=Pe?{getBoundingClientRect:Pe,contextElement:Pe.contextElement||Be()}:t,Gw={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(pu){var bs=pu.state;if(Fe()){var xP=Xt(),_p=xP.box;["placement","reference-hidden","escaped"].forEach(function(mu){mu==="placement"?_p.setAttribute("data-placement",bs.placement):bs.attributes.popper["data-popper-"+mu]?_p.setAttribute("data-"+mu,""):_p.removeAttribute("data-"+mu)}),bs.attributes.popper={}}}},wo=[{name:"offset",options:{offset:je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!nn}},Gw];Fe()&&On&&wo.push({name:"arrow",options:{element:On,padding:3}}),wo.push.apply(wo,Q?.modifiers||[]),g.popperInstance=ww(Is,O,Object.assign({},Q,{placement:oe,onFirstUpdate:h,modifiers:wo}))}function lu(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function Wr(){var D=g.props.appendTo,Q,oe=Be();g.props.interactive&&D===Jx||D==="parent"?Q=oe.parentNode:Q=Zx(D,[oe]),Q.contains(O)||Q.appendChild(O),g.state.isMounted=!0,cu()}function Ti(){return Zf(O.querySelectorAll("[data-tippy-root]"))}function Qa(D){g.clearDelayTimeouts(),D&&z("onTrigger",[g,D]),hn();var Q=U(!0),oe=xe(),je=oe[0],Pe=oe[1];Hr.isTouch&&je==="hold"&&Pe&&(Q=Pe),Q?r=setTimeout(function(){g.show()},Q):g.show()}function _o(D){if(g.clearDelayTimeouts(),z("onUntrigger",[g,D]),!g.state.isVisible){Yn();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(D.type)>=0&&s)){var Q=U(!1);Q?i=setTimeout(function(){g.state.isVisible&&g.hide()},Q):o=requestAnimationFrame(function(){g.hide()})}}function Ya(){g.state.isEnabled=!0}function uu(){g.hide(),g.state.isEnabled=!1}function du(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function hu(D){if(!g.state.isDestroyed){z("onBeforeUpdate",[g,D]),ou();var Q=g.props,oe=Gx(t,Object.assign({},Q,$x(D),{ignoreAttributes:!0}));g.props=oe,vr(),Q.interactiveDebounce!==oe.interactiveDebounce&&(Tt(),w=Ux(su,oe.interactiveDebounce)),Q.triggerTarget&&!oe.triggerTarget?Va(Q.triggerTarget).forEach(function(je){je.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),Le(),$(),X&&X(Q,oe),g.popperInstance&&(cu(),Ti().forEach(function(je){requestAnimationFrame(je._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[g,D])}}function fu(D){g.setProps({content:D})}function bP(){var D=g.state.isVisible,Q=g.state.isDestroyed,oe=!g.state.isEnabled,je=Hr.isTouch&&!g.props.touch,Pe=Ew(g.props.duration,0,fr.duration);if(!(D||Q||oe||je)&&!Be().hasAttribute("disabled")&&(z("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,Fe()&&(O.style.visibility="visible"),$(),hn(),g.state.isMounted||(O.style.transition="none"),Fe()){var nn=Xt(),On=nn.box,Is=nn.content;Cw([On,Is],0)}h=function(){var wo;if(!(!g.state.isVisible||l)){if(l=!0,O.offsetHeight,O.style.transition=g.props.moveTransition,Fe()&&g.props.animation){var yp=Xt(),pu=yp.box,bs=yp.content;Cw([pu,bs],Pe),Hx([pu,bs],"visible")}ue(),Le(),Bx(bw,g),(wo=g.popperInstance)==null||wo.forceUpdate(),z("onMount",[g]),g.props.animation&&Fe()&&Vt(Pe,function(){g.state.isShown=!0,z("onShown",[g])})}},Wr()}}function TP(){var D=!g.state.isVisible,Q=g.state.isDestroyed,oe=!g.state.isEnabled,je=Ew(g.props.duration,1,fr.duration);if(!(D||Q||oe)&&(z("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,l=!1,s=!1,Fe()&&(O.style.visibility="hidden"),Tt(),Yn(),$(!0),Fe()){var Pe=Xt(),nn=Pe.box,On=Pe.content;g.props.animation&&(Cw([nn,On],je),Hx([nn,On],"hidden"))}ue(),Le(),g.props.animation?Fe()&&Ze(je,g.unmount):g.unmount()}}function SP(D){Yt().addEventListener("mousemove",w),Bx(Jf,w),w(D)}function DP(){g.state.isVisible&&g.hide(),g.state.isMounted&&(lu(),Ti().forEach(function(D){D._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),bw=bw.filter(function(D){return D!==g}),g.state.isMounted=!1,z("onHidden",[g]))}function AP(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),ou(),delete t._tippy,g.state.isDestroyed=!0,z("onDestroy",[g]))}}function Ql(t,e){e===void 0&&(e={});var n=fr.plugins.concat(e.plugins||[]);Dz();var r=Object.assign({},e,{plugins:n}),i=Cz(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&Vz(l,r);return u&&c.push(u),c},[]);return ep(t)?a[0]:a}Ql.defaultProps=fr;Ql.setDefaultProps=Rz;Ql.currentInput=Hr;var Die=Object.assign({},Bl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Ql.setDefaultProps({render:nM});var Aw=Ql;var xw=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Kd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function tp(t){return t instanceof rr}function Yl(t){return typeof t=="function"}function Xl(t){return typeof t=="string"}var Mw=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},Pw=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Lz=new Y("Component context"),Ow=(()=>{let e=class e{constructor(){this.injector=N(it),this.appRef=N(Mr),this.environmentInjector=N(At)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=ai(i.context),o=it.create({providers:[{provide:Lz,useValue:s.asReadonly()}],parent:o})),new xw({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new Mw({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(tp(r))return this.createTemplate(r,i);if(Yl(r))return this.createComponent(r,i);if(Xl(r))return new Pw(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iM=!1,oM=!1;typeof window<"u"&&(iM="IntersectionObserver"in window,oM="ResizeObserver"in window);function rM(t,e={root:null,threshold:.3}){let n=lM(t);return new ae(r=>{if(!iM){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function sM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Uz(t){let e=lM(t);return aM(e).pipe($p(150),ie(()=>sM(e)))}function aM(t){return Bz(t)}function Bz(t){return new ae(e=>{if(!oM){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Jl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function cM(t){return(Hz(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function $z(t){return zz(t)?"":typeof t=="string"?t:`${t}px`}function Hz(t){return typeof t=="string"}function zz(t){return t==null}function lM(t){return t instanceof et?t.nativeElement:t}var Rw,kw=new WeakMap;function qz(t,e){return Rw??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||kw.get(r.target)()})}),kw.set(t,e),Rw.observe(t),()=>{kw.delete(t),Rw.unobserve(t)}}var Nw=new Y("Tippy config",{providedIn:"root",factory(){return{}}}),uM=new Y("TIPPY_REF"),Ft=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new rt,this.destroyed=new Lt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Lt,this.contentChanged=new Lt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;np("content",r)&&this.contentChanged.next(),np("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=V(V({},this.globalConfig.variations[o]),i)),np("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),np("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?rM(this.host).pipe(Dt(()=>this.isOverflowing$()),Zn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):rM(this.host).pipe(Zn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Zn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Zn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=qz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(V(V({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Jl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=Aw(this.host,Oe(V(V(V({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Jl(this.globalConfig)),Jl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of cM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);Xl(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!Xl(this.content)){let o=it.create({providers:[{provide:uM,useValue:this.instance}],parent:this.injector});Yl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):tp(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,V({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Yl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),Xl(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){js(this.host,"contextmenu").pipe(Zn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{js(document.body,"keydown").pipe(Zt(({code:r})=>r==="Escape"),Zn(nc(this.destroyed,this.visibleInternal.pipe(Zt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){aM(this.host).pipe(Zn(nc(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=$z(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return bc(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[Uz(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(Dt(()=>new ae(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>sM(this.host)))),nc(...r)}};e.\u0275fac=function(i){return new(i||e)(S(Fn),S(Nw),S(it),S(Ow),S($t),S(Se),S(et))},e.\u0275dir=Ge({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Ln],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",Ln],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Ln],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Ln],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Ln],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Ln],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",Ln]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[$d,ri]});let t=e;return t})();function np(t,e){return t in e}var dM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Oe(V(V(V({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=it.create({providers:[{provide:uM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,tp(i)?c.$viewOptions.context=V({$implicit:c.hide.bind(c)},o.context):Yl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,V(V({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Jl(this.globalConfig)),this.globalConfig.variations[s]),Jl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of cM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return Aw(r,a)}};e.\u0275fac=function(i){return new(i||e)(j(Nw),j(Ow),j(it))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hM(t={}){return Bi([{provide:Nw,useValue:t}])}var zr=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}abort(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.abort(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Wz=500,dn=Wz+"ms ease",Qie=Bn("skip",[ft(":enter",[])]),La=Bn("fade",[ft(":enter",[ve({opacity:0}),Ct(dn,ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none"}),Ct(dn,ve({opacity:0}))])]),Yie=Bn("scalefade",[ft(":enter",[ve({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Ct(dn,ve({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),ft(":leave",[ve({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Ct(dn,ve({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),fM=Bn("crossfade",[ft(":enter",[ve({opacity:0}),Ct(dn,ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none",position:"absolute"}),Ct(dn,ve({opacity:0}))])]),pM=Bn("enter",[ft(":enter",[ve({opacity:0}),Ct(dn,ve({opacity:1}))])]),Xie=Bn("leave",[ft(":leave",[ve({opacity:1}),Ct(dn,ve({opacity:0}))])]),Jie=Bn("hidden",[ft("* => true",[ve({opacity:"*"}),Ct(dn,ve({opacity:0}))]),ft("true => *",[ve({opacity:0}),Ct(dn,ve({opacity:"*"}))])]),po=Bn("drawer2",[lA("0",ve({height:0})),ft("1 => void",[]),ft("1 => *",[ve({height:"*"}),Ct(dn,ve({height:0}))]),ft("0 => void",[ve({height:0}),Ct(dn,ve({height:0}))]),ft("0 => *",[ve({height:0}),Ct(dn,ve({height:"*"}))])]),mM=Bn("drawer",[ft(":enter",[ve({height:0,opacity:0}),Ct(dn,ve({height:"*",opacity:"*"}))]),ft(":leave",[ve({height:"*",opacity:"*"}),Ct(dn,ve({height:0,opacity:0}))])]);var F=class t{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n){let i=e.length;if(Array.isArray(n)){if(n.length>0)if(r){let o=e.map(s=>r(s));for(let s of n.map(a=>r(a)))this._remove(e,s,o)}else for(let o of n)this._remove(e,o)}else r?this._remove(e,r(n),e.map(o=>r(o))):this._remove(e,n);return i!=e.length}}static _remove(e,n,r){let i=(r||e).indexOf(n);i!=-1&&(r?.splice(i,1),e.splice(i,1))}static toggle(e,n,r=!1){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):r?e.unshift(n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static intersection(e,n){return t.isEmpty(e)?[]:t.isEmpty(n)?[]:e.filter(r=>n.includes(r))}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){e&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){e&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}static except(e,...n){return e||(e=[]),e.filter(r=>!n.includes(r))}};var ja=(()=>{let e=class e{constructor(){this.stack=[]}register(r){F.makeFirst(this.stack,r)}unregister(r){F.remove(this.stack,r)}next(r){let i=r.target.nodeName;if(!["BODY","VIDEO"].includes(i))switch(r.key){case"Enter":F.getFirst(this.stack)?.processKeyboardShortcut(r);break;case"Escape":document.activeElement.blur();break}else F.getFirst(this.stack)?.processKeyboardShortcut(r)}requestFocus(r){F.makeFirst(this.stack,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var at=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=ai(void 0),this.changes=ai(void 0),this.errors=ai(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mt=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};var Kz=["content"];function Qz(t,e){if(t&1){let n=W();f(0,"div",6,7),C("click",function(){b(n);let i=y(2);return T(i.overlayClick())}),p()}}function Yz(t,e){if(t&1){let n=W();f(0,"i",13),C("click",function(){b(n);let i=y(3);return T(i.contentComponentInstance.close())}),p()}}function Xz(t,e){if(t&1){let n=W();f(0,"div",8,9),C("mousedown",function(i){b(n);let o=tt(1),s=y(2);return T(s.onHeaderMouseDown(i,o))}),f(2,"span",10),M(3),p(),f(4,"div",11),P(5,Yz,1,0,"i",12),p()()}if(t&2){let n=y(2);v(3),_e(n.getTitle()),v(2),_("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function Jz(t,e){if(t&1&&(Ee(0),R(1,"div",3),P(2,Qz,2,0,"div",4)(3,Xz,6,2,"div",5),Ce()),t&2){let n=y();v(2),_("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),v(),_("ngIf",n.contentComponentInstance.configuration.title)}}function Zz(t,e){t&1&&(f(0,"div",14),Xg(1,null,15),p())}function eq(t,e){if(t&1){let n=W();f(0,"i",20),C("click",function(){b(n);let i=y(2).$implicit;return T(i.click&&i.click())}),p()}if(t&2){let n=y(2).$implicit,r=y(2);Sb("icon-button "+r.getButtonIconClass(n)),se("disabled",r.isDisabled(n))}}function tq(t,e){if(t&1){let n=W();f(0,"div",21),C("click",function(){b(n);let i=y(2).$implicit;return T(i.click&&i.click())}),M(1),p()}if(t&2){let n=y(2).$implicit,r=y(2);se("disabled",r.isDisabled(n)),v(),_e(r.getButtonText(n))}}function nq(t,e){if(t&1&&(Ee(0),P(1,eq,1,4,"i",18)(2,tq,2,3,"div",19),Ce()),t&2){let n=y().$implicit;v(),_("ngIf",n.iconClass),v(),_("ngIf",n.text)}}function rq(t,e){if(t&1&&(Ee(0),P(1,nq,3,2,"ng-container",0),Ce()),t&2){let n=e.$implicit,r=y(2);v(),_("ngIf",!r.isHidden(n))}}function iq(t,e){if(t&1&&(f(0,"div",16),P(1,rq,2,1,"ng-container",17),p()),t&2){let n=y();v(),_("ngForOf",n.contentComponentInstance.configuration.buttons)}}var gM=(()=>{let e=class e{constructor(r,i,o){this.elementRef=r,this.dialogService=i,this.keyboardShortcutService=o,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(s=>this.resolve=s)}ngAfterViewInit(){mt.isLargeScreen()&&(this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"))));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.keyboardShortcutService.register(this.contentComponentInstance),this.result.finally(()=>{this.keyboardShortcutService.unregister(this.contentComponentInstance),r.destroy()}),r.changeDetectorRef.detectChanges()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getTitle(){let r=this.contentComponentInstance.configuration;return typeof r.title=="function"?r.title():r.title}getButtonText(r){return typeof r.text=="function"?r.text():r.text}getButtonIconClass(r){return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,this.top!==void 0&&localStorage.setItem(this.contentComponentType.name+".top",this.top?.toString()),this.left!==void 0&&localStorage.setItem(this.contentComponentType.name+".left",this.left?.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.containerComponentInstances.indexOf(this);for(let i=r;i<this.dialogService.containerComponentInstances.length;i++){let o=this.dialogService.containerComponentInstances[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}onScreenResize(r){mt.isLargeScreen()||(this.top=null,this.left=null)}onClick(r){this.keyboardShortcutService.requestFocus(this.contentComponentInstance)}};e.\u0275fac=function(i){return new(i||e)(S(et),S(ct),S(ja))},e.\u0275cmp=G({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&Rb(Kz,5,$t),i&2){let s;Zg(s=ev())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&C("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,Rg)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,Rg)("resize",function(a){return o.onScreenResize(a)},!1,Fd)("click",function(a){return o.onClick(a)}),i&2&&(Ht("top",o.top,"px")("left",o.left,"px"),se("border-warning",o.borderWarning))},standalone:!0,features:[K],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],[1,"flex","gap"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&P(0,Jz,4,2,"ng-container",0)(1,Zz,3,0,"div",1)(2,iq,2,1,"div",2),i&2&&(_("ngIf",o.contentComponentInstance),v(),_("ngIf",o.contentComponentType),v(),_("ngIf",o.contentComponentInstance))},dependencies:[J,ke,be],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200;min-width:300px}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - .9999999999rem);max-height:calc(100% - .9999999999rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:var(--color-background-dialog);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var yt=class{submit(){this.close()}processKeyboardShortcut(e){switch(e.key){case"Enter":this.submit();return;case"Escape":this.close();return}}};function oq(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit;v(),_e(n)}}var vM=(()=>{let e=class e extends yt{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText||"Yes",click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText||"No",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[qe,K],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,oq,2,1,"span",1),p()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[J,ke],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var SM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S(si),S(et))},e.\u0275dir=Ge({type:e});let t=e;return t})(),Bw=(()=>{let e=class e extends SM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,features:[qe]});let t=e;return t})(),sp=new Y("");var sq={provide:sp,useExisting:Lo(()=>mo),multi:!0};function aq(){let t=di()?di().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cq=new Y(""),mo=(()=>{let e=class e extends SM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aq())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S(si),S(et),S(cq,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&C("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Cc([sq]),qe]});let t=e;return t})();var lq=new Y(""),uq=new Y("");function DM(t){return t!=null}function AM(t){return Bo(t)?$e(t):t}function xM(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function MM(t,e){return e.map(n=>n(t))}function dq(t){return!t.validate}function PM(t){return t.map(e=>dq(e)?e:n=>e.validate(n))}function hq(t){if(!t)return null;let e=t.filter(DM);return e.length==0?null:function(n){return xM(MM(n,e))}}function OM(t){return t!=null?hq(PM(t)):null}function fq(t){if(!t)return null;let e=t.filter(DM);return e.length==0?null:function(n){let r=MM(n,e).map(AM);return Bp(r).pipe(ie(xM))}}function RM(t){return t!=null?fq(PM(t)):null}function yM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pq(t){return t._rawValidators}function mq(t){return t._rawAsyncValidators}function Vw(t){return t?Array.isArray(t)?t:[t]:[]}function ip(t,e){return Array.isArray(t)?t.includes(e):t===e}function _M(t,e){let n=Vw(e);return Vw(t).forEach(i=>{ip(n,i)||n.push(i)}),n}function wM(t,e){return Vw(e).filter(n=>!ip(t,n))}var op=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lw=class extends op{get formDirective(){return null}get path(){return null}},tu=class extends op{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jw=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},gq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ooe=Oe(V({},gq),{"[class.ng-submitted]":"isSubmitted"}),go=(()=>{let e=class e extends jw{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(tu,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&se("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[qe]});let t=e;return t})();var Zl="VALID",rp="INVALID",Ua="PENDING",eu="DISABLED";function vq(t){return(ap(t)?t.validators:t)||null}function yq(t){return Array.isArray(t)?OM(t):t||null}function _q(t,e){return(ap(e)?e.asyncValidators:t)||null}function wq(t){return Array.isArray(t)?RM(t):t||null}function ap(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Uw=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zl}get invalid(){return this.status===rp}get pending(){return this.status==Ua}get disabled(){return this.status===eu}get enabled(){return this.status!==eu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_M(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_M(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wM(e,this._rawAsyncValidators))}hasValidator(e){return ip(this._rawValidators,e)}hasAsyncValidator(e){return ip(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ua,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=eu,this.errors=null,this._forEachChild(r=>{r.disable(Oe(V({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Oe(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this._forEachChild(r=>{r.enable(Oe(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Oe(V({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zl||this.status===Ua)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eu:Zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ua,this._hasOwnPendingAsyncValidator=!0;let n=AM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?eu:this.errors?rp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ua)?Ua:this._anyControlsHaveStatus(rp)?rp:Zl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ap(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wq(this._rawAsyncValidators)}};var kM=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>$w}),$w="always";function Eq(t,e){return[...e.path,t]}function Cq(t,e,n=$w){bq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Tq(t,e),Dq(t,e),Sq(t,e),Iq(t,e)}function EM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Iq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bq(t,e){let n=pq(t);e.validator!==null?t.setValidators(yM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=mq(t);e.asyncValidator!==null?t.setAsyncValidators(yM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();EM(e._rawValidators,i),EM(e._rawAsyncValidators,i)}function Tq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&NM(t,e)})}function Sq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&NM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function NM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Aq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function xq(t){return Object.getPrototypeOf(t.constructor)===Bw}function Mq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===mo?n=o:xq(o)?r=o:i=o}),i||r||n||null}function CM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Pq=class extends Uw{constructor(e=null,n,r){super(vq(n),_q(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ap(n)&&(n.nonNullable||n.initialValueIsDefault)&&(IM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Oq={provide:tu,useExisting:Lo(()=>Ii)},bM=Promise.resolve(),Ii=(()=>{let e=class e extends tu{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Pq,this._registered=!1,this.name="",this.update=new rt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Mq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Aq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){bM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ln(i);bM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Eq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(Lw,9),S(lq,10),S(uq,10),S(sp,10),S(Pr,8),S(kM,8))},e.\u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cc([Oq]),qe,ri]});let t=e;return t})();var Rq={provide:sp,useExisting:Lo(()=>cp),multi:!0};function FM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kq(t){return t.split(":")[0]}var cp=(()=>{let e=class e extends Bw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=FM(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=kq(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&C("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cc([Rq]),qe]});let t=e;return t})(),VM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(FM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(S(et),S(si),S(cp,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Nq={provide:sp,useExisting:Lo(()=>LM),multi:!0};function TM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Fq(t){return t.split(":")[0]}var LM=(()=>{let e=class e extends Bw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Fq(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&C("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cc([Nq]),qe]});let t=e;return t})(),jM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(TM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(TM(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(S(et),S(si),S(LM,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Vq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({});let t=e;return t})();var En=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kM,useValue:r.callSetDisabledState??$w}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({imports:[Vq]});let t=e;return t})();var Ke=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}static encryptSimple(e){return e.split("").reverse().join("")}};var UM=(()=>{let e=class e extends yt{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(void 0)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return!(Ke.isEmpty(this.value)||this.inputs.validationFn&&!this.inputs.validationFn(this.value))}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[qe,K],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(f(0,"input",0),li("ngModelChange",function(a){return Hi(o.value,a)||(o.value=a),a}),p()),i&2&&(ci("ngModel",o.value),_("placeholder",o.inputs.placeholder))},dependencies:[J,En,mo,go,Ii],styles:["[_nghost-%COMP%]{display:block;width:650px;padding:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Lq(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit;v(),_e(n)}}var BM=(()=>{let e=class e extends yt{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[qe,K],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,Lq,2,1,"span",1),p()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[J,ke],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem}"]});let t=e;return t})();function jq(t,e){if(t&1){let n=W();f(0,"div",7),C("click",function(){let o=b(n).$implicit,s=y();return T(s.toggle(o))}),R(1,"i",8),f(2,"span"),M(3),p(),R(4,"i",9),p()}if(t&2){let n=e.$implicit,r=y();v(3),_e(r.getText(n))}}function Uq(t,e){t&1&&R(0,"div",10)}function Bq(t,e){if(t&1){let n=W();f(0,"div",7),C("click",function(){let o=b(n).$implicit,s=y();return T(s.toggle(o))}),R(1,"i",9),f(2,"span"),M(3),p(),R(4,"i",9),p()}if(t&2){let n=e.$implicit,r=y();se("disabled",r.inputs.disableFn&&r.inputs.disableFn(n,r.selection))("unavailable",!r.isAvailable(n)),v(3),_e(r.getText(n))}}var $M=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.query="",this.selection=[]}ngOnInit(){this.selection=this.inputs.defaultSelection?[...this.inputs.defaultSelection]:[],this.configuration={title:this.inputs.title,buttons:[{text:"Cancel",click:()=>this.resolve(void 0)},{text:()=>{let r;return this.inputs.positiveButtonText?typeof this.inputs.positiveButtonText=="string"?r=this.inputs.positiveButtonText:r=this.inputs.positiveButtonText():r="Submit",r+" ("+this.selection.length+")"},disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}isAvailable(r){return this.selection.includes(r)?!1:this.getText(r).toLocaleLowerCase().includes(this.query.toLocaleLowerCase())}getText(r){return this.inputs.getText?this.inputs.getText(r):r}toggle(r){F.toggle(this.selection,r,!0),this.inputs.onSelectionChange&&this.inputs.onSelectionChange(this.selection,r)}canSubmit(){return!0}submit(){this.canSubmit()&&this.resolve(this.selection)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-multi-select-dialog"]],standalone:!0,features:[qe,K],decls:7,vars:4,consts:[["placeholder","Search","autofocus","",3,"ngModel","ngModelChange"],[1,"content-container"],[1,"y-scrollbar-container","selection-container"],["class","flex-1 flex gap align-items-center cursor-pointer hover-brighten",3,"click",4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[1,"y-scrollbar-container","options-container"],["class","flex-1 flex gap align-items-center cursor-pointer hover-brighten",3,"disabled","unavailable","click",4,"ngFor","ngForOf"],[1,"flex-1","flex","gap","align-items-center","cursor-pointer","hover-brighten",3,"click"],[1,"fa-solid","fa-check",2,"margin-top","1px"],[1,"fa-solid","fa-check","opacity-0"],[1,"h-separator"]],template:function(i,o){i&1&&(f(0,"input",0),li("ngModelChange",function(a){return Hi(o.query,a)||(o.query=a),a}),p(),f(1,"div",1)(2,"div",2),P(3,jq,5,1,"div",3),p(),P(4,Uq,1,0,"div",4),f(5,"div",5),P(6,Bq,5,5,"div",6),p()()),i&2&&(ci("ngModel",o.query),v(3),_("ngForOf",o.selection),v(),_("ngIf",o.selection.length),v(2),_("ngForOf",o.inputs.options))},dependencies:[J,ke,be,En,mo,go,Ii],styles:["[_nghost-%COMP%]{display:block;padding:.3333333333rem .3333333333rem 0;line-height:24px;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{height:50vh}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .selection-container[_ngcontent-%COMP%]{max-height:50%}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{height:0;opacity:0;pointer-events:none}"]});let t=e;return t})();function $q(t,e){if(t&1&&(f(0,"option",3),M(1),p()),t&2){let n=y();_("ngValue",null)("selected",!n.value),v(),Hd("== ",n.inputs.nullOption," ==")}}function Hq(t,e){if(t&1&&(f(0,"option",3),M(1),p()),t&2){let n=e.$implicit,r=y();_("ngValue",n)("selected",r.value===n),v(),_e(r.inputs.getText(n))}}var HM=(()=>{let e=class e extends yt{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(void 0)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return this.inputs.nullOption!=null||this.value!=null}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(void 0)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Bt(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-select-dialog"]],standalone:!0,features:[qe,K],decls:3,vars:3,consts:[[3,"ngModel","ngModelChange"],[3,"ngValue","selected",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"]],template:function(i,o){i&1&&(f(0,"select",0),li("ngModelChange",function(a){return Hi(o.value,a)||(o.value=a),a}),P(1,$q,2,3,"option",1)(2,Hq,2,3,"option",2),p()),i&2&&(ci("ngModel",o.value),v(),_("ngIf",o.inputs.nullOption),v(),_("ngForOf",o.inputs.options))},dependencies:[J,ke,be,En,VM,jM,cp,go,Ii],styles:["[_nghost-%COMP%]{display:block;padding:.3333333333rem}"]});let t=e;return t})();var ct=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.containerComponentInstances=[]}createMessage(r){return this.create(BM,r)}createConfirmation(r){return this.create(vM,r)}createInput(r){return this.create(UM,r)}createSelect(r){return this.create(HM,r)}createMultiSelect(r){return this.create($M,r)}create(r,i){let o=F.getLast(this.containerComponentInstances.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=Kd(gM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{F.remove(this.containerComponentInstances,a),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.containerComponentInstances.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(j(Mr),j(At))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zq(t,e){t&1&&R(0,"div",3),t&2&&_("@fade",void 0)}function qq(t,e){t&1&&R(0,"span",4),t&2&&_("@fade",void 0)}var zM=(()=>{let e=class e{constructor(r,i,o){this.keyboardShortcutService=r,this.applicationService=i,this.dialogService=o,this.hideLoadingBarDelay=new zr(1500),ui(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}onKeyDown(r){this.keyboardShortcutService.next(r)}};e.\u0275fac=function(i){return new(i||e)(S(ja),S(at),S(ct))},e.\u0275cmp=G({type:e,selectors:[["app-root"]],hostBindings:function(i,o){i&1&&C("keydown",function(a){return o.onKeyDown(a)},!1,Fd)},standalone:!0,features:[K],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(P(0,zq,1,1,"div",0),R(1,"div",1),P(2,qq,1,1,"span",2),R(3,"router-outlet")),i&2&&(_("ngIf",o.isBlurOverlayVisible()),v(),Ht("background-color",o.getLoadingBarColor()),v(),_("ngIf",o.applicationService.loading()))},dependencies:[J,be,ew],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}"],data:{animation:[La]}});let t=e;return t})();var Pn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Ba=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return mn(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return mn(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return mn(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return mn(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return mn(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return mn(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}download(e){return E(this,null,function*(){let n="https://www.googleapis.com/drive/v3/files/"+e.id,r=yield mn(this.http.get(n,{params:{alt:"media"},responseType:"blob"})),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return mn(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?mn(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):mn(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var qr=(()=>{let e=class e extends Ba{constructor(r){super(r),this.http=r,this.FIELDS="id,name,mimeType,thumbnailLink,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return E(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield mn(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return E(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(j(Ho))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gq(t,e){if(t&1){let n=W();f(0,"span",6),C("click",function(){let o=b(n).$implicit,s=y(2);return T(s.onDataFileClick(o))}),M(1),p()}if(t&2){let n=e.$implicit;v(),_e(n.name.substring(0,n.name.length-10))}}function Wq(t,e){if(t&1){let n=W();f(0,"span",6),C("click",function(){let o=b(n).$implicit,s=y(2);return T(s.onFolderClick(o))}),M(1),p()}if(t&2){let n=e.$implicit;v(),_e(n.name)}}function Kq(t,e){if(t&1&&(f(0,"div",4),P(1,Gq,2,1,"span",5)(2,Wq,2,1,"span",5),p()),t&2){let n=y();v(),_("ngForOf",n.dataFiles),v(),_("ngForOf",n.folders)}}var qM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return E(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Pn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return E(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(S(wn),S(qr),S(at))},e.\u0275cmp=G({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[K],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),P(1,Kq,3,2,"div",1),f(2,"div",2)(3,"i",3),C("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),p()()()),i&2&&(se("opacity-100",!o.applicationService.loading()),v(),_("ngIf",!0),v(2),_("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[J,gt,ke,be],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var $a=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new Hw,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(S($t),S(rr))},e.\u0275dir=Ge({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),Hw=class{};var ru=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var gr=class{static hasTag(e,n,r=!1){if(n.group){if(r){for(let i of n.children)if(!this.hasTag(e,i,r))return!1}}else n.children.length==0;return!0}static sort(e,n=!1){e&&(n?e.sort((r,i)=>r.getCompleteName().localeCompare(i.getCompleteName())):e.sort((r,i)=>r.name.localeCompare(i.name)))}};var bi=class{get pseudo(){return!this.group&&this.children.length!=0}getDepth(){return this.collectParents().length}getCompleteName(e=" / "){return this.collectParents().concat(this).map(n=>n.name).join(e)}getCount(e){return this.group?null:this.pseudo?e.filter(n=>F.intersection(n.tags,this.children).length).length:e.filter(n=>n.tags.includes(this)).length}collectParents(){return this._collectParents(this,[])}_collectParents(e,n){return e.parent&&(n.unshift(e.parent),this._collectParents(e.parent,n)),n}collectChildren(){return this._collectChildren(this,[])}_collectChildren(e,n){if(e.group)for(let r of e.children)n.push(r),this._collectChildren(r,n);return n}sortChildren(){gr.sort(this.children)}};var up=class{};var dp=class{};var hp=class extends dp{};var GM=(()=>{let e=class e{constructor(){this.valueChange=new rt}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-checkbox"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[K],decls:1,vars:1,consts:[[1,"cursor-pointer","fa-regular",3,"ngClass","click"]],template:function(i,o){i&1&&(f(0,"i",0),C("click",function(){return o.value=!o.value,o.valueChange.emit(o.value)}),p()),i&2&&_("ngClass",o.value?"fa-circle-check":"fa-circle")},dependencies:[J,gt]});let t=e;return t})();function Qq(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1)(2,"span",2),M(3,"Dark Mode"),p(),f(4,"app-checkbox",3),C("valueChange",function(){b(n);let i=y();return T(i.applicationService.toggleTheme())}),p()(),R(5,"div",4),f(6,"div",1)(7,"span",2),M(8,"Show Tag Count"),p(),f(9,"app-checkbox",3),C("valueChange",function(i){b(n);let o=y();return T(o.onShowTagCountValueChange(i))}),p()(),R(10,"div",4),f(11,"div",1)(12,"span",2),M(13,"Show Videos"),p(),f(14,"app-checkbox",3),C("valueChange",function(i){b(n);let o=y();return T(o.onShowVideosValueChange(i))}),p()(),R(15,"div",4),f(16,"div",1)(17,"span",2),M(18,"Auto Bookmark"),p(),f(19,"app-checkbox",3),C("valueChange",function(i){b(n);let o=y();return T(o.onAutoBookmarkValueChange(i))}),p()(),R(20,"div",4),f(21,"div",5),C("click",function(){b(n);let i=y();return T(i.bookmarkImages())}),M(22,"Bookmark All Images"),p(),f(23,"div",5),C("click",function(){b(n);let i=y();return T(i.resetDialogPositions())}),M(24,"Reset Dialog Positions"),p(),Ce()}if(t&2){let n=y();v(4),_("value",n.applicationService.isDarkTheme()),v(5),_("value",n.stateService.settings.showTagCount),v(5),_("value",n.stateService.settings.showVideos),v(5),_("value",n.stateService.settings.autoBookmark)}}var fp=(()=>{let e=class e extends yt{constructor(r,i,o){super(),this.dialogService=r,this.applicationService=i,this.stateService=o,this.configuration={title:"Settings",buttons:[{text:()=>"Save",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowTagCountValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.showTagCount=r}onShowVideosValueChange(r){this.needsDataUpdate=!0,this.needsFilterRefresh=!0,this.stateService.settings.showVideos=r}onAutoBookmarkValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r}bookmarkImages(){this.dialogService.createConfirmation({title:"Confirmation: Bookmark All Images",messages:["Are you sure you want to bookmark all images?"]}).then(r=>{r&&(this.stateService.images.forEach(i=>i.bookmark=!0),this.stateService.updateFilters(),this.stateService.save())})}resetDialogPositions(){this.dialogService.containerComponentInstances.forEach(r=>{r.top=null,r.left=null});for(let r=0;r<localStorage.length;r++){let i=localStorage.key(r);(i.endsWith(".top")||i.endsWith(".left"))&&localStorage.removeItem(i)}}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(at),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[qe,K],decls:1,vars:1,consts:[[4,"ngIf"],[1,"option-container"],[1,"nowrap","user-select-none"],[3,"value","valueChange"],[1,"h-separator"],[1,"button","action-button",3,"click"]],template:function(i,o){i&1&&P(0,Qq,25,4,"ng-container",0),i&2&&_("ngIf",o.stateService.settings)},dependencies:[J,be,GM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}[_nghost-%COMP%] > .option-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.3333333333rem}"]});let t=e;return t})();var Je=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.debugDisableSave=!1,this.debugDisableMedia=!1,this.updateDelay=new zr(5e3),this.images=[],this.filter=ai([]),this.target=ai(null),this.tagManagerVisible=mt.isLargeScreen(),this.filterFavorite={state:0},this.filterBookmark={state:0},this.filterGroups={state:0},this.filterVisible=mt.isLargeScreen()}processData(){return E(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter||0,this.filterBookmark.state=r.bookmarksFilter||0,this.filterGroups.state=r.filterGroups||0,this.comparison=r.comparison,r.imageProperties||(r.imageProperties=[]),r.groupProperties||(r.groupProperties=[]),r.tagProperties||(r.tagProperties=[]),this.tags=r.tagProperties.map(o=>this.parseTag(o)),this.tags.forEach(o=>o.children=r.tagProperties.find(s=>s.id==o.id).childIds.map(s=>this.tags.find(a=>a.id==s))),this.tags.forEach(o=>o.parent=this.tags.find(s=>s.children.includes(o))),r.settings?this.settings=r.settings:yield this.dialogService.create(fp);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),F.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new up;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s}),this.updateFilters(),this.applicationService.loading.set(!1),r.settings||this.save()})}processImages(r,i,o,s){return E(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>Pn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));F.push(o,a.filter(c=>Pn.isImage(c)||Pn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new hp;if(a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,this.debugDisableMedia?a.thumbnailLink="":s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Pn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,this.debugDisableMedia?a.contentLink="":a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),a.tags=[],i){a.heart=i.heart,a.bookmark=i.bookmark;let c;for(let l of i.tagIds)c=this.tags.find(u=>u.id==l),c&&a.tags.push(c)}else this.settings.autoBookmark&&(a.bookmark=!0);return a}save(r=!1){this.debugDisableSave||(this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{let i={};i.dataFolderId=this.dataFolderId,i.archiveFolderId=this.archiveFolderId,i.heartsFilter=this.filterFavorite.state,i.bookmarksFilter=this.filterBookmark.state,i.filterGroups=this.filterGroups.state,i.settings=this.settings,i.comparison=this.comparison,i.imageProperties=this.images.map(o=>this.serializeImage(o)),i.groupProperties=this.groups.filter(o=>!F.isEmpty(o.images)).map(o=>this.serializeGroup(o)),i.tagProperties=this.tags.map(o=>this.serializeTag(o)),this.googleService.updateContent(this.googleService.dataFileId,i).then(o=>{o||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete())}serializeImage(r){let i={};return i.id=r.id,i.heart=r.heart,i.bookmark=r.bookmark,i.tagIds=r.tags.map(o=>o.id),i}serializeGroup(r){let i={};return i.imageIds=r.images.map(o=>o.id),i}serializeTag(r){let i={};return i.id=r.id,i.name=r.name,i.group=r.group,i.state=r.state,i.childIds=r.children.map(o=>o.id),i}parseTag(r){let i=new bi;return i.id=r.id,i.name=r.name,i.group=r.group,i.state=r.state,i.open=!1,i}updateFilters(...r){(F.isEmpty(r)?this.images:r).forEach(i=>i.passesFilters=this.doesPassFilters(i)),this.filter.set(this.images.filter(i=>i.passesFilters))}doesPassFilters(r){if(!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.filterGroups.state==-1&&r.group||this.filterGroups.state==1&&!r.group||!this.settings.showVideos&&Pn.isVideo(r))return!1;let i=this.tags.filter(o=>!o.parent);return this.doesPassTagsCheck(r,i)}doesPassTagsCheck(r,i){for(let o of i)if(o.state==0){if(o.group&&!this.doesPassTagsCheck(r,o.children))return!1}else if(o.group){let s=F.intersection(r.tags,o.collectChildren().concat(o));if(o.state==-1&&s.length!=0||o.state==1&&s.length==0)return!1}else if(o.pseudo){let s=F.intersection(r.tags,o.children);if(o.state==-1&&s.length!=0||o.state==1&&s.length==0)return!1}else{let s=r.tags.includes(o);if(o.state==-1&&s||o.state==1&&!s)return!1}return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return E(this,null,function*(){if(o&&!(yield this.dialogService.createConfirmation({title:"Confirmation",messages:["Are you sure you want to "+(i?"archive":"delete")+" this image?"]})))return;this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),F.remove(this.images,this.images.find(a=>a.id==r.id));let s=null;if(r.group){let a=r.group.images.indexOf(r);if(s=r.group.images[a+1]||r.group.images[a-1],r.group.images.length>2)F.remove(r.group.images,r);else{F.remove(this.groups,r.group);for(let c of r.group.images)delete c.group}}if(this.comparison!=null)for(let a of Object.values(this.comparison))a.includes(r.id)&&F.remove(a,r.id);this.filter.set(this.images.filter(a=>a.passesFilters)),this.target.set(s),this.save(!0),this.applicationService.loading.set(!1)})}};e.\u0275fac=function(i){return new(i||e)(j(H_),j(at),j(qr),j(ct))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=(()=>{let e=class e{constructor(r,i){this.stateService=r,this.dialogService=i}getRootTags(){return this.stateService.tags.filter(r=>!r.parent)}getParentPseudoTags(r){return this.stateService.tags.filter(i=>i.pseudo&&i.children.includes(r))}openTagCreate(r){return E(this,null,function*(){if(r){let i=yield this.dialogService.createInput({title:"Create Tag: "+r.getCompleteName(),placeholder:"Name",validationFn:o=>!r.children.filter(s=>!s.group).map(s=>s.name).includes(o)});if(!Ke.isEmpty(i)){let o=new bi;o.id=ru(),o.name=i,o.group=!1,o.state=0,o.parent=r,o.children=[],r.children.push(o),r.sortChildren(),this.stateService.tags.push(o),gr.sort(this.stateService.tags),this.stateService.save()}}})}openTagGroupCreate(r){return E(this,null,function*(){if(r){let i=yield this.dialogService.createInput({title:"Create Tag Group: "+r.getCompleteName(),placeholder:"Name",validationFn:o=>!r.children.filter(s=>s.group).map(s=>s.name).includes(o)});if(!Ke.isEmpty(i)){let o=new bi;o.id=ru(),o.name=i,o.group=!0,o.state=0,o.parent=r,o.children=[],o.open=!0,r.children.push(o),r.sortChildren(),this.stateService.tags.push(o),gr.sort(this.stateService.tags),this.stateService.save()}}else{let i=yield this.dialogService.createInput({title:"Create Tag Group: Root",placeholder:"Name",validationFn:o=>!this.stateService.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});if(!Ke.isEmpty(i)){let o=new bi;o.id=ru(),o.name=i,o.group=!0,o.state=0,o.parent=r,o.children=[],o.open=!0,this.stateService.tags.push(o),gr.sort(this.stateService.tags),this.stateService.save()}}})}insertTagGroup(r){return E(this,null,function*(){if(r&&(yield this.dialogService.createConfirmation({title:"Confirmation",messages:["Insert Tag Group between '"+r.getCompleteName()+"' and its parent?"]}))){let i=new bi;i.id=ru(),i.name=r.name,i.group=!0,i.state=0,i.parent=r.parent,i.children=[r],i.open=!0,F.remove(r.parent.children,r),F.push(r.parent.children,i),r.parent.sortChildren(),r.parent=i,this.stateService.tags.push(i),this.stateService.save()}})}openTagRename(r){return E(this,null,function*(){let i=yield this.dialogService.createInput({title:"Rename: "+r.getCompleteName(),placeholder:"Name",defaultValue:r.name,validationFn:o=>r.parent?!r.parent.children.map(s=>s.name).includes(o):!this.stateService.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});Ke.isEmpty(i)||(r.name=i,r.parent?.sortChildren(),gr.sort(this.stateService.tags),this.stateService.save())})}openTagDelete(r){return E(this,null,function*(){let i;if(r.group?i="Delete '"+r.getCompleteName()+"' and its descendants?":i="Delete '"+r.getCompleteName()+"'",yield this.dialogService.createConfirmation({title:"Confirmation",messages:[i]})){F.remove(r.parent?.children,r);let o=r.collectChildren().concat(r);F.remove(this.stateService.tags,o);for(let s of this.stateService.images)F.remove(s.tags,o);this.stateService.updateFilters(),this.stateService.save()}})}openTagParentChange(r){return E(this,null,function*(){let i=r.collectChildren(),o=this.stateService.tags.filter(a=>!(!a.group||a==r||a==r.parent||i.includes(a)||a.children.map(c=>c.name).includes(r.name))),s=yield this.dialogService.createSelect({title:"Change Parent: "+r.getCompleteName(),options:o,nullOption:r.parent?"Root":null,defaultValue:r.parent,getText:a=>a.getCompleteName()});this.moveTagToParent(r,s)})}moveTagToParent(r,i){r.group&&i===null?(F.remove(r.parent?.children,r),r.parent=null,this.stateService.updateFilters(...this.stateService.images.filter(o=>o.tags.includes(r))),this.stateService.save()):i&&(F.remove(r.parent?.children,r),r.parent=i,r.parent.open=!0,r.parent.children.push(r),r.parent.sortChildren(),this.stateService.updateFilters(...this.stateService.images.filter(o=>o.tags.includes(r))),this.stateService.save())}editPseudoList(r){return E(this,null,function*(){if(!r.group){let i=this.stateService.tags.filter(s=>!(s==r||s.group||s.pseudo));gr.sort(i,!0);let o=yield this.dialogService.createMultiSelect({title:"Edit Pseudo List: "+r.getCompleteName(),options:i,getText:s=>s.getCompleteName(),defaultSelection:r.children,disableFn:(s,a)=>{for(let c of a)if(c.collectChildren().includes(s))return!0},onSelectionChange:(s,a)=>{let c=a.collectChildren();for(let l of s)c.includes(l)&&F.remove(s,l)}});o&&(F.isEmpty(r.children)&&this.stateService.images.forEach(s=>F.remove(s.tags,r)),r.children=o,gr.sort(r.children,!0),this.stateService.updateFilters(),this.stateService.save())}})}};e.\u0275fac=function(i){return new(i||e)(j(Je),j(ct))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pp=(()=>{let e=class e{constructor(r){this.tagService=r}dragStart(r,i){console.log("dragstart: "+i.name),this.dragStartTag=i}dragEnter(r,i){console.log("dragenter: "+i.name)}dragLeave(r,i){console.log("dragleave: "+i.name)}dragDrop(r,i){console.log("drop: "+i.name),i!=this.dragStartTag&&i.parent!=this.dragStartTag&&this.tagService.moveTagToParent(this.dragStartTag,i.group?i:i.parent)}dragEnd(r,i){console.log("dragend: "+i.name)}};e.\u0275fac=function(i){return new(i||e)(j(Qn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var za=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(S($t))},e.\u0275dir=Ge({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Yq(t,e){t&1&&(f(0,"span"),M(1,"No Images"),p())}function Xq(t,e){if(t&1){let n=W();f(0,"div",4),C("click",function(){let o=b(n).$implicit,s=y(3);return T(s.stateService.target.set(o))}),f(1,"i",5),C("click",function(i){let s=b(n).$implicit,a=y(3);return i.stopPropagation(),T(a.removeImage(s))}),p(),f(2,"img",6,7),C("load",function(){b(n);let i=tt(3);return T(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(3);_("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),v(2),Ht("width",120*n.aspectRatio,"px"),_("src",n.thumbnailLink,xr)}}function Jq(t,e){if(t&1&&(f(0,"div",2),P(1,Xq,4,5,"div",3),p()),t&2){let n=y(2);v(),_("ngForOf",n.stateService.groupEditorGroup.images)}}function Zq(t,e){if(t&1&&(Ee(0),P(1,Yq,2,0,"span",0)(2,Jq,2,1,"div",1),Ce()),t&2){let n=y();v(),_("ngIf",n.stateService.groupEditorGroup.images.length==0),v(),_("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var KM=(()=>{let e=class e extends yt{constructor(r,i){super(),this.stateService=r,this.dialogService=i,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation({title:"Confirmation: Disband Image Group",messages:["Are you sure you want to disband this group of images?"]}).then(o=>{o&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length<2,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[]},this.stateService.updateFilters()}removeImage(r){F.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){F.remove(this.stateService.groups,r);for(let i of r.images)delete i.group;this.stateService.save(!0),this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(!0),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(S(Je),S(ct))},e.\u0275cmp=G({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[qe,K],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&P(0,Zq,3,2,"ng-container",0),i&2&&_("ngIf",o.stateService.groupEditorGroup)},dependencies:[J,ke,be,za,Ft],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();function eG(t,e){if(t&1){let n=W();f(0,"div",0),C("click",function(){b(n);let i=y();return T(i.createTag())}),M(1,"Create Tag"),p(),f(2,"div",0),C("click",function(){b(n);let i=y();return T(i.createTagGroup())}),M(3,"Create Tag Group"),p()}}function tG(t,e){if(t&1){let n=W();f(0,"div",1)(1,"div",0),C("click",function(){b(n);let i=y();return T(i.editPseudoList())}),M(2,"Edit Pseudo List"),p()(),f(3,"div",0),C("click",function(){b(n);let i=y();return T(i.insertTagGroup())}),M(4,"Insert Tag Group"),p()}if(t&2){let n=y();_("tp",n.getPseudoListEditDisabledMessage()),v(),se("disabled",n.isEditPseudoListDisabled())}}var QM=(()=>{let e=class e extends yt{constructor(r,i){super(),this.tagService=r,this.stateService=i,this.configuration={title:()=>"Tag: "+this.inputs.tag.getCompleteName(),buttons:[{text:()=>"Cancel",click:()=>this.close()}]}}renameTag(){this.tagService.openTagRename(this.inputs.tag),this.close()}deleteTag(){this.tagService.openTagDelete(this.inputs.tag),this.close()}changeTagParent(){this.tagService.openTagParentChange(this.inputs.tag),this.close()}createTag(){this.tagService.openTagCreate(this.inputs.tag),this.close()}createTagGroup(){this.tagService.openTagGroupCreate(this.inputs.tag),this.close()}getPseudoListEditDisabledMessage(){if(this.stateService.images.some(i=>i.tags.includes(this.inputs.tag)))return"Disabled: Tag is in use";let r=this.tagService.getParentPseudoTags(this.inputs.tag);return r.length==0?null:`Disabled: Tag is in a pseudo list of '${r.map(i=>i.getCompleteName()).join("; ")}'`}isEditPseudoListDisabled(){return!!(this.stateService.images.some(r=>r.tags.includes(this.inputs.tag))||this.tagService.getParentPseudoTags(this.inputs.tag).length)}editPseudoList(){this.tagService.editPseudoList(this.inputs.tag),this.close()}insertTagGroup(){this.tagService.insertTagGroup(this.inputs.tag),this.close()}close(){this.resolve()}};e.\u0275fac=function(i){return new(i||e)(S(Qn),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-tag-manager"]],standalone:!0,features:[qe,K],decls:8,vars:1,consts:[[1,"button","action-button",3,"click"],[3,"tp"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.renameTag()}),M(1,"Rename"),p(),f(2,"div",0),C("click",function(){return o.deleteTag()}),M(3,"Delete"),p(),f(4,"div",0),C("click",function(){return o.changeTagParent()}),M(5,"Change Parent"),p(),P(6,eG,4,0)(7,tG,5,3)),i&2&&(v(6),ra(6,o.inputs.tag.group?6:7))},dependencies:[J,Ft],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}"]});let t=e;return t})();var Gr=(()=>{let e=class e{constructor(r,i){this.dialogService=r,this.tippyService=i}openFileInformation(r){this.dialogService.createMessage({title:"File Information",messages:["File Name: "+r.name,"File Type: "+r.mimeType,"Resolution: "+r.imageMediaMetadata.width+"\xD7"+r.imageMediaMetadata.height]})}openImageGroupEditor(r){this.dialogService.create(KM,{sourceGroup:r})}openSettings(){this.dialogService.create(fp)}openTagOptions(r){this.dialogService.create(QM,{tag:r})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(j(ct),j(dM))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nG(t,e){t&1&&R(0,"i",12)}function rG(t,e){if(t&1&&R(0,"i",13),t&2){let n=y(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function iG(t,e){t&1&&R(0,"i",12)}function oG(t,e){if(t&1&&(f(0,"span",16),M(1),p()),t&2){let n=y().ngVar,r=y(3);v(),sr(" ",r.tag.pseudo?"\u279D":"\u2022"," ",n,"")}}function sG(t,e){if(t&1&&(Ee(0),P(1,oG,2,2,"span",15),Ce()),t&2){let n=e.ngVar;v(),_("ngIf",n!==null)}}function aG(t,e){if(t&1&&(Ee(0),P(1,sG,2,1,"ng-container",14),Ce()),t&2){let n=y(2);v(),_("ngVar",n.tag.getCount(n.stateService.images))}}function cG(t,e){if(t&1){let n=W();f(0,"i",17),C("click",function(){b(n);let i=y(2);return T(i.toggleTagState())}),p()}}function lG(t,e){if(t&1&&R(0,"app-filter-row",20),t&2){let n=e.$implicit;_("tag",n)}}function uG(t,e){if(t&1&&R(0,"app-filter-row",20),t&2){let n=e.$implicit;_("tag",n)}}function dG(t,e){if(t&1&&(f(0,"div",18),P(1,lG,1,1,"app-filter-row",19)(2,uG,1,1,"app-filter-row",19),p()),t&2){let n=y(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.getTagGroups()),v(),_("ngForOf",n.getTags())}}var hG=()=>[];function fG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1),C("drop",function(i){b(n);let o=y();return T(o.tagDragDropService.dragDrop(i,o.tag))}),f(2,"div",2),C("click",function(){b(n);let i=y();return T(i.onTagClick())}),P(3,nG,1,0,"i",3)(4,rG,1,1,"i",4)(5,iG,1,0),f(6,"div",5),C("dragstart",function(i){b(n);let o=y();return T(o.tagDragDropService.dragStart(i,o.tag))})("dragenter",function(i){b(n);let o=y();return T(o.tagDragDropService.dragEnter(i,o.tag))})("dragleave",function(i){b(n);let o=y();return T(o.tagDragDropService.dragLeave(i,o.tag))})("dragend",function(i){b(n);let o=y();return T(o.tagDragDropService.dragEnd(i,o.tag))}),f(7,"div",6)(8,"span",7),M(9),p(),P(10,aG,2,1,"ng-container",0),p()()(),f(11,"div",8),P(12,cG,1,0,"i",9),f(13,"i",10),C("click",function(){b(n);let i=y();return T(i.galleryService.openTagOptions(i.tag))}),p()()(),P(14,dG,3,3,"div",11),Ce()}if(t&2){let n=y();v(3),_("ngForOf",zd(7,hG).constructor(n.tag.getDepth())),v(),ra(4,n.tag.group?4:5),v(2),_("ngClass",n.getTextClass()),v(3),_e(n.stateService.debugDisableMedia?n.encryptSimple(n.tag.name):n.tag.name),v(),_("ngIf",n.stateService.settings.showTagCount),v(2),_("ngIf",n.tag.group),v(2),_("ngIf",n.tag.group)}}var YM=(()=>{let e=class e{constructor(r,i,o,s){this.tagService=r,this.tagDragDropService=i,this.galleryService=o,this.stateService=s}onTagClick(){this.tag.group?this.tag.open=!this.tag.open:this.toggleTagState()}toggleTagState(){this.tag.state=this.tag.state==0?1:this.tag.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}getTextClass(){let r=[];return this.tag.state==1?r.push("positive"):this.tag.state==-1&&r.push("negative"),this.tag.collectChildren().some(i=>i.state)&&r.push("underline-dashed"),r.join(" ")}getTagGroups(){return this.tag.children.filter(r=>r.group)}getTags(){return this.tag.children.filter(r=>!r.group)}encryptSimple(r){return Ke.encryptSimple(r)}};e.\u0275fac=function(i){return new(i||e)(S(Qn),S(pp),S(Gr),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-filter-row"]],inputs:{tag:"tag"},standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],["ondragover","event.preventDefault()",1,"flex","gap","cursor-pointer","hover-brighten","hover-container",2,"line-height","24px",3,"drop"],[1,"flex","gap","flex-1","width-100","min-width-0","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px",3,"ngClass"],["draggable","true","ondragover","event.preventDefault()",1,"flex-1","overflow-hidden",3,"ngClass","dragstart","dragenter","dragleave","dragend"],[1,"flex","pointer-events-none"],[1,"ellipsis"],[1,"flex","gap","align-items-center","hover-visible"],["class","hover-positive fa-solid fa-check-double",3,"click",4,"ngIf"],[1,"hover-positive","fa-solid","fa-ellipsis-vertical",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[4,"ngVar"],["class","pointer-events-none","style","white-space: pre",4,"ngIf"],[1,"pointer-events-none",2,"white-space","pre"],[1,"hover-positive","fa-solid","fa-check-double",3,"click"],[1,"flex","column","overflow-hidden"],[3,"tag",4,"ngFor","ngForOf"],[3,"tag"]],template:function(i,o){i&1&&P(0,fG,15,8,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,J,gt,ke,be,$a],data:{animation:[po]}});let t=e;return t})();function pG(t,e){if(t&1){let n=W();Ee(0),f(1,"i",18),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterFavorite))}),p(),f(2,"i",19),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterBookmark))}),p(),f(3,"i",20),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterGroups))}),p(),Ce()}if(t&2){let n=y();v(),_("ngClass",n.getFilterIconClass(n.stateService.filterFavorite)),v(),_("ngClass",n.getFilterIconClass(n.stateService.filterBookmark)),v(),_("ngClass",n.getFilterIconClass(n.stateService.filterGroups))}}function mG(t,e){if(t&1){let n=W();Ee(0),R(1,"div",7),f(2,"div",21)(3,"div",22),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterFavorite))}),R(4,"i",23),f(5,"span",24),M(6,"Favorites"),p()(),f(7,"div",22),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterBookmark))}),R(8,"i",25),f(9,"span",24),M(10,"Bookmarks"),p()(),f(11,"div",22),C("click",function(){b(n);let i=y();return T(i.toggleFilter(i.stateService.filterGroups))}),R(12,"i",26),f(13,"span",24),M(14,"Groups"),p()()(),Ce()}if(t&2){let n=y();v(4),_("ngClass",n.getFilterIconClass(n.stateService.filterFavorite)),v(),_("ngClass",n.getFilterClass(n.stateService.filterFavorite)),v(3),_("ngClass",n.getFilterIconClass(n.stateService.filterBookmark)),v(),_("ngClass",n.getFilterClass(n.stateService.filterBookmark)),v(3),_("ngClass",n.getFilterIconClass(n.stateService.filterGroups)),v(),_("ngClass",n.getFilterClass(n.stateService.filterGroups))}}function gG(t,e){t&1&&R(0,"div",29)}function vG(t,e){if(t&1&&(Ee(0),P(1,gG,1,0,"div",27),R(2,"app-filter-row",28),Ce()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(),_("tag",n)}}var XM=(()=>{let e=class e{get classVisible(){return this.stateService.filterVisible}constructor(r,i){this.tagService=r,this.stateService=i,this.ScreenUtils=mt}getFilterClass(r){switch(r.state){case 1:return"positive";case-1:return"negative"}}getFilterIconClass(r){switch(r.state){case 1:return"positive fa-solid";case-1:return"negative fa-solid";default:return"fa-regular"}}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters(),this.stateService.save()}canClear(){return this.stateService.tags?.some(r=>r.state!=0)}};e.\u0275fac=function(i){return new(i||e)(S(Qn),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-filter"]],hostVars:2,hostBindings:function(i,o){i&2&&se("visible",o.classVisible)},standalone:!0,features:[K],decls:23,vars:6,consts:[[1,"filter-container"],[1,"header"],[1,"flex","gap"],["tp","Collapse","tpPlacement","right",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],[4,"ngIf"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"test"],[1,"h-separator","gap-bottom","margins"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"v-separator","desktop-only"],[1,"icon-button","fa-heart",3,"ngClass","click"],[1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"icon-button","fa-object-group",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-heart",2,"margin-top","1px",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",2,"margin-top","1px",3,"ngClass"],[1,"fa-object-group",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),C("click",function(){return o.stateService.filterVisible=!1}),p()(),f(4,"span",4),M(5,"Filter Configuration"),p(),f(6,"div",5),P(7,pG,4,3,"ng-container",6),p()(),P(8,mG,15,6,"ng-container",6),R(9,"div",7),f(10,"div",8)(11,"div",9),P(12,vG,3,2,"ng-container",10),p(),R(13,"div",11),p(),R(14,"div",12),f(15,"div",13)(16,"div",14),C("click",function(){return o.tagService.openTagGroupCreate()}),R(17,"i",15),M(18,"Create"),p(),f(19,"div",14),C("click",function(){return o.clearFilters()}),R(20,"i",16),M(21,"Clear"),p()()(),R(22,"div",17)),i&2&&(v(3),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-left":"fa-times"),v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()),v(7),se("disabled",!o.canClear()))},dependencies:[J,gt,ke,be,Ft,YM],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){margin-left:-300.8px}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[po]}});let t=e;return t})();function yG(t,e){if(t&1){let n=W();f(0,"i",24),C("click",function(){b(n);let i=y(2);return T(i.setRandomGroupTarget())}),p()}}function _G(t,e){if(t&1){let n=W();Ee(0),f(1,"i",25),C("click",function(){b(n);let i=y(2);return T(i.flip=!i.flip)}),p(),R(2,"div",6),f(3,"i",26),C("click",function(){b(n);let i=y().ngVar,o=y();return T(o.googleService.download(i))}),p(),R(4,"div",6),f(5,"i",27),C("click",function(i){b(n);let o=y().ngVar,s=y();return i.stopPropagation(),T(s.googleService.openSearch(o.name))}),p(),f(6,"i",28),C("click",function(i){b(n);let o=y().ngVar,s=y();return i.stopPropagation(),T(s.galleryService.openYandexReverseImageSearch(i,o))}),p(),R(7,"div",6),Ce()}}function wG(t,e){if(t&1){let n=W();f(0,"div",34)(1,"img",35,36),C("click",function(){let o=b(n).$implicit,s=y(4);return T(s.onImageClick(o))})("load",function(){b(n);let i=tt(2);return T(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(4);_("@fade",void 0),v(),se("flip-h",r.flip),_("src",r.getSrc(n),xr)}}var zw=t=>[t];function EG(t,e){if(t&1&&(f(0,"div",32),P(1,wG,3,4,"div",33),p()),t&2){let n=y(2).ngVar;_("@fade",void 0),v(),_("ngForOf",qd(2,zw,n))}}function CG(t,e){if(t&1){let n=W();f(0,"div",34)(1,"img",35,36),C("click",function(){let o=b(n).$implicit,s=y(4);return T(s.onImageClick(o))})("load",function(){b(n);let i=tt(2);return T(i.style.opacity="1")}),p()()}if(t&2){let n=e.$implicit,r=y(4);_("@fadeBetweenGroupImages",void 0),v(),se("flip-h",r.flip),_("src",r.getSrc(n),xr)}}function IG(t,e){if(t&1){let n=W();f(0,"div",43,44),C("click",function(){let o=b(n).$implicit,s=y(5);return T(s.stateService.target.set(o))}),f(2,"img",45,46),C("load",function(){b(n);let i=tt(1);return T(i.classList.toggle("loading"))}),p(),R(4,"div",47),p()}if(t&2){let n=e.$implicit,r=y(4).ngVar;v(2),Ht("width",120*n.aspectRatio,"px"),se("grayscale",!n.passesFilters),_("src",n.thumbnailLink,xr),v(2),se("target",n==r)}}function bG(t,e){if(t&1&&(f(0,"div",41),P(1,IG,5,7,"div",42),p()),t&2){let n=e.$implicit;_("@fade",void 0),v(),_("ngForOf",n.images)}}function TG(t,e){if(t&1&&(f(0,"div",37)(1,"div",38),P(2,CG,3,4,"div",33),p(),f(3,"div",39),P(4,bG,2,2,"div",40),p()()),t&2){let n=y(2).ngVar;_("@fade",void 0),v(2),_("ngForOf",qd(3,zw,n)),v(2),_("ngForOf",qd(5,zw,n.group))}}function SG(t,e){if(t&1&&(f(0,"div",29),P(1,EG,2,4,"div",30)(2,TG,5,7,"div",31),p()),t&2){let n=y().ngVar;_("@fade",void 0),v(),_("ngIf",!n.group),v(),_("ngIf",n.group)}}function DG(t,e){if(t&1){let n=W();f(0,"i",48),C("click",function(){b(n);let i=y().ngVar,o=y();return T(o.galleryService.openImageGroupEditor(i.group))}),p()}}function AG(t,e){if(t&1){let n=W();Ee(0),f(1,"img",1),C("load",function(){b(n);let i=y();return T(i.loadingT=!1)}),p(),f(2,"img",1),C("load",function(){b(n);let i=y();return T(i.loadingC=!1)}),p(),f(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),C("click",function(){b(n);let i=y();return T(i.stateService.target.set(null))}),p(),R(7,"div",6),f(8,"i",7),C("click",function(){b(n);let i=y();return T(i.setRandomTarget())}),p(),P(9,yG,1,0,"i",8),p(),R(10,"div",9),f(11,"div",10),P(12,_G,8,0,"ng-container",11),f(13,"i",12),C("click",function(){let o=b(n).ngVar,s=y();return T(s.stateService.delete(o,!0))}),p(),f(14,"i",13),C("click",function(){let o=b(n).ngVar,s=y();return T(s.stateService.delete(o,!1))}),p()()(),f(15,"div",14),P(16,SG,3,3,"div",15),p(),f(17,"div",16)(18,"div",4)(19,"i",17),C("click",function(){b(n);let i=y();return T(i.stateService.target.set(null))}),p(),R(20,"div",6),f(21,"i",18),C("click",function(){let o=b(n).ngVar,s=y();return T(s.stateService.toggleFavorite(o,!0))}),p(),f(22,"i",19),C("click",function(){let o=b(n).ngVar,s=y();return T(s.stateService.toggleBookmark(o,!0))}),p(),f(23,"div",20)(24,"i",21),C("click",function(){b(n);let i=y();return T(i.stateService.tagManagerVisible=!i.stateService.tagManagerVisible)}),p()()(),R(25,"div",9),f(26,"div",10),P(27,DG,1,0,"i",22),f(28,"i",23),C("click",function(){let o=b(n).ngVar,s=y();return T(s.galleryService.openFileInformation(o))}),p()()()(),Ce()}if(t&2){let n=e.ngVar,r=y();v(),_("src",n==null?null:n.thumbnailLink,xr),v(),_("src",n==null?null:n.contentLink,xr),v(7),_("ngIf",n==null?null:n.group),v(3),_("ngIf",r.ScreenUtils.isLargeScreen()),v(4),_("ngIf",n),v(5),_("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),v(),_("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),v(),se("drawer-visible",!r.stateService.tagManagerVisible),v(4),_("ngIf",n==null?null:n.group)}}var JM=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.applicationService=r,this.keyboardShortcutService=i,this.googleService=o,this.stateService=s,this.dialogService=a,this.galleryService=c,this.ScreenUtils=mt,this.loadingT=!0,this.loadingC=!0,this.video=!1,this.flip=!1,ui(()=>{let l=this.stateService.target();l?(Pn.isVideo(l)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0),this.keyboardShortcutService.requestFocus(this)):this.flip=!1})}ngOnInit(){this.keyboardShortcutService.register(this)}ngOnDestroy(){this.keyboardShortcutService.unregister(this)}processKeyboardShortcut(r){if(this.stateService.target())switch(r.code){case"Escape":this.stateService.target.set(null);break;case"KeyR":this.setRandomTarget();break;case"KeyG":this.setRandomGroupTarget();break}}setRandomTarget(){if(!F.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=F.getRandom(this.stateService.filter(),i.group.images):r=F.getRandom(this.stateService.filter(),[i]):r=F.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(F.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return F.isFirst(r.group.images.filter(i=>i.passesFilters),r)}isLastGroupImage(r){return F.isLast(r.group.images.filter(i=>i.passesFilters),r)}moveTargetGroupLeft(r){this.stateService.target.set(F.getPrevious(r.group.images.filter(i=>i.passesFilters),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(F.getNext(r.group.images.filter(i=>i.passesFilters),r,!0))}};e.\u0275fac=function(i){return new(i||e)(S(at),S(ja),S(qr),S(Je),S(ct),S(Gr))},e.\u0275cmp=G({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"h-separator","gap"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],[4,"ngIf"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"width-100","height-100"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Close","tpPlacement","left",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"drawer-container"],["tp","Open Tag Manager","tpPlacement","left",1,"icon-button","fa-solid","fa-tags",3,"click"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager","tpPlacement","left",3,"click",4,"ngIf"],["tp","File Information","tpPlacement","left",1,"icon-button","fa-solid","fa-circle-info",3,"click"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tp","Flip","tpPlacement","right",1,"icon-button","fa-solid","fa-left-right",3,"click"],["tp","Download","tpPlacement","right",1,"icon-button","fa-solid","fa-download",3,"click"],["tp","Google Drive","tpPlacement","right",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Yandex RIS","tpPlacement","right",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","has-group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"has-group-container"],[1,"another-container","stack-container"],[1,"stack-container","height-auto","justify-content-center"],["class","group-images-container",4,"ngFor","ngForOf"],[1,"group-images-container"],["class","group-image-container loading",3,"click",4,"ngFor","ngForOf"],[1,"group-image-container","loading",3,"click"],["groupImageContainer",""],[3,"src","load"],["groupImageElement",""],[1,"target-border"],["tp","Group Manager","tpPlacement","left",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&P(0,AG,29,10,"ng-container",0),i&2&&_("ngVar",o.stateService.target())},dependencies:[J,gt,ke,be,$a,Ft],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]{min-width:100%}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-visible){width:0;min-width:0;opacity:0;transform:translate(3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0;justify-content:flex-end}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:hidden;padding:0;gap:.3333333333rem}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{height:120px;position:relative;border-radius:4px;cursor:pointer;transition-property:background-color;transition-duration:.5s;background-color:transparent}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container.loading[_ngcontent-%COMP%]{background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:inherit;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img.grayscale[_ngcontent-%COMP%]{opacity:.5!important;filter:grayscale(1)}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   .target-border[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:inherit;pointer-events:none}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   .target-border.target[_ngcontent-%COMP%]{box-sizing:border-box;border:2px solid var(--color-positive)}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain;outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem;z-index:1}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[La,Bn("fadeBetweenGroupImages",[ft(":enter",[ve({opacity:0}),Ct("333ms ease",ve({opacity:1}))]),ft(":leave",[ve({opacity:1,"pointer-events":"none","z-index":-1}),Ct("333ms 333ms ease",ve({opacity:0}))])])]}});let t=e;return t})();var ZM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new rt}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(S(et))},e.\u0275dir=Ge({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var eP=(()=>{let e=class e{constructor(r,i,o){this.galleryService=r,this.stateService=i,this.googleService=o}openGoogleDriveDataFolder(){this.googleService.openFolderById(this.stateService.dataFolderId)}};e.\u0275fac=function(i){return new(i||e)(S(Gr),S(Je),S(qr))},e.\u0275cmp=G({type:e,selectors:[["app-header"]],standalone:!0,features:[K],decls:8,vars:2,consts:[[1,"header-start"],[1,"drawer-container"],["tp","Open Filter Configuration",1,"icon-button","fa-solid","fa-filter",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.filterVisible=!o.stateService.filterVisible}),p()(),f(3,"i",3),C("click",function(){return o.galleryService.openImageGroupEditor()}),p()(),R(4,"div",4),f(5,"div",5)(6,"i",6),C("click",function(){return o.openGoogleDriveDataFolder()}),p(),f(7,"i",7),C("click",function(){return o.galleryService.openSettings()}),p()()),i&2&&(v(),se("drawer-hidden",!o.stateService.filterVisible))},dependencies:[J,Ft],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between;overflow:hidden}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,margin,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-hidden){width:0;min-width:0;opacity:0;margin-right:-.3333333333rem;transform:translate(-3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:1fr auto 1fr}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function xG(t,e){if(t&1){let n=W();f(0,"i",13),C("click",function(i){b(n);let o=y(2).$implicit;return y().galleryService.openImageGroupEditor(o.group),T(i.stopPropagation())}),p()}}function MG(t,e){if(t&1){let n=W();Ee(0),f(1,"div",8)(2,"i",9),C("click",function(i){b(n);let o=y().$implicit,s=y();return i.stopPropagation(),T(s.stateService.toggleFavorite(o,!0))}),p(),f(3,"i",10),C("click",function(i){b(n);let o=y().$implicit,s=y();return i.stopPropagation(),T(s.stateService.toggleBookmark(o,!0))}),p()(),f(4,"div",11),P(5,xG,1,0,"i",12),p(),Ce()}if(t&2){let n=y().$implicit;v(2),_("ngClass",n.heart?"fa-solid active":"fa-regular"),v(),_("ngClass",n.bookmark?"fa-solid active":"fa-regular"),v(2),_("ngIf",n.group)}}function PG(t,e){if(t&1){let n=W();f(0,"div",3),C("click",function(){let o=b(n).$implicit,s=y();return T(s.onImageClick(o))}),f(1,"div",4)(2,"img",5,6),C("create",function(i){let s=b(n).$implicit,a=y();return T(a.bricks[s.id]=i.nativeElement)})("load",function(){b(n);let i=tt(3);return T(i.style.opacity="1")}),p()(),P(4,MG,6,3,"ng-container",7),p()}if(t&2){let n=e.$implicit,r=y();Ht("width",n.masonryWidth,"px")("height",n.masonryHeight,"px")("top",n.masonryTop,"px")("left",n.masonryLeft,"px")("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),_("@fade",void 0),v(2),_("src",n.thumbnailLink,xr),v(2),_("ngIf",r.areBrickButtonsVisible())}}var tP=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.cdr=i,this.applicationService=o,this.stateService=s,this.googleService=a,this.galleryService=c,this.bricks={},this.layoutUpdateDelay=new zr(100),ui(()=>this.updateLayout()),new ResizeObserver(()=>{mt.isLargeScreen()&&this.requestLayoutUpdate()}).observe(r.nativeElement)}requestLayoutUpdate(){this.layoutUpdateDelay.restart(()=>{let r=this.masonryScrollContainer.scrollTop/(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight);this.updateLayout();let i=(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight)*r;setTimeout(()=>this.masonryScrollContainer.scrollTo({top:i,behavior:"smooth"}),500),this.cdr.detectChanges()})}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilters):!0),this.masonryImages.length==0)return;let r=mt.isLargeScreen()?250:200,i=mt.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.masonryWidth!=a&&(u.masonryWidth=a,u.masonryHeight=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.masonryTop=c[d],u.masonryLeft=l[d],c[d]=c[d]+u.masonryHeight+i}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilters):r;this.bricks[i?.id].scrollIntoView()}}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;F.toggle(i.images,r);return}this.stateService.target.set(r)}areBrickButtonsVisible(){return mt.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(S(et),S(Pr),S(at),S(Je),S(qr),S(Gr))},e.\u0275cmp=G({type:e,selectors:[["app-masonry"]],standalone:!0,features:[K],decls:4,vars:1,consts:[[1,"masonry-scroll-container",3,"create"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"width","height","top","left","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],["loading","lazy",3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager",3,"click",4,"ngIf"],["tp","Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&(R(0,"app-header"),f(1,"div",0),C("create",function(a){return o.masonryScrollContainer=a.nativeElement}),f(2,"div",1),C("create",function(a){return o.masonryContainer=a.nativeElement,o.updateLayout()}),P(3,PG,5,13,"div",2),p()()),i&2&&(v(3),_("ngForOf",o.masonryImages))},dependencies:[J,gt,ke,be,ZM,Ft,eP],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left,width,height,opacity;transition-duration:.5s;padding-bottom:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[La]}});let t=e;return t})();function OG(t,e){t&1&&R(0,"i",11)}function RG(t,e){if(t&1&&R(0,"i",12),t&2){let n=y(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function kG(t,e){t&1&&R(0,"i",11)}function NG(t,e){if(t&1&&(f(0,"span",15),M(1),p()),t&2){let n=y().ngVar,r=y(3);v(),sr(" ",r.tag.pseudo?"\u279D":"\u2022"," ",n,"")}}function FG(t,e){if(t&1&&(Ee(0),P(1,NG,2,2,"span",14),Ce()),t&2){let n=e.ngVar;v(),_("ngIf",n!==null)}}function VG(t,e){if(t&1&&(Ee(0),P(1,FG,2,1,"ng-container",13),Ce()),t&2){let n=y(2);v(),_("ngVar",n.tag.getCount(n.stateService.images))}}function LG(t,e){if(t&1&&R(0,"app-tagger-row",18),t&2){let n=e.$implicit,r=y(3);_("tag",n)("target",r.target)("groupMode",r.groupMode)}}function jG(t,e){if(t&1&&R(0,"app-tagger-row",18),t&2){let n=e.$implicit,r=y(3);_("tag",n)("target",r.target)("groupMode",r.groupMode)}}function UG(t,e){if(t&1&&(f(0,"div",16),P(1,LG,1,3,"app-tagger-row",17)(2,jG,1,3,"app-tagger-row",17),p()),t&2){let n=y(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.getTagGroups()),v(),_("ngForOf",n.getTags())}}var BG=()=>[];function $G(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1),C("drop",function(i){b(n);let o=y();return T(o.tagDragDropService.dragDrop(i,o.tag))}),f(2,"div",2),C("click",function(){b(n);let i=y();return T(i.onTagClick())}),P(3,OG,1,0,"i",3)(4,RG,1,1,"i",4)(5,kG,1,0),f(6,"div",5),C("dragstart",function(i){b(n);let o=y();return T(o.tagDragDropService.dragStart(i,o.tag))})("dragenter",function(i){b(n);let o=y();return T(o.tagDragDropService.dragEnter(i,o.tag))})("dragleave",function(i){b(n);let o=y();return T(o.tagDragDropService.dragLeave(i,o.tag))})("dragend",function(i){b(n);let o=y();return T(o.tagDragDropService.dragEnd(i,o.tag))}),f(7,"div",6)(8,"span",7),M(9),p(),P(10,VG,2,1,"ng-container",0),p()()(),f(11,"div",8)(12,"i",9),C("click",function(){b(n);let i=y();return T(i.galleryService.openTagOptions(i.tag))}),p()()(),P(13,UG,3,3,"div",10),Ce()}if(t&2){let n=y();v(2),se("disabled",n.tag.pseudo)("cursor-pointer",!n.tag.pseudo),v(),_("ngForOf",zd(10,BG).constructor(n.tag.getDepth())),v(),ra(4,n.tag.group?4:5),v(2),_("ngClass",n.getTextClass()),v(3),_e(n.stateService.debugDisableMedia?n.encryptSimple(n.tag.name):n.tag.name),v(),_("ngIf",n.stateService.settings.showTagCount),v(3),_("ngIf",n.tag.group)}}var nP=(()=>{let e=class e{constructor(r,i,o,s){this.tagService=r,this.tagDragDropService=i,this.galleryService=o,this.stateService=s}onTagClick(){this.tag.group?this.tag.open=!this.tag.open:this.tag.pseudo||(this.groupMode&&this.target.group?this.target.group.images.every(r=>r.tags.includes(this.tag))?this.target.group.images.forEach(r=>F.remove(r.tags,this.tag)):this.target.group.images.forEach(r=>F.push(r.tags,this.tag)):F.toggle(this.target.tags,this.tag),this.stateService.save(),this.stateService.updateFilters())}getTextClass(){if(this.tag.pseudo)return"";let r=[];if(this.target)if(this.target.group)if(this.groupMode)if(this.tag.group){let i=this.tag.collectChildren();this.target.group.images.every(o=>i.some(s=>o.tags.includes(s)))?r.push("positive"):this.target.group.images.some(o=>i.some(s=>o.tags.includes(s)))&&r.push("underline-positive")}else this.target.group.images.every(i=>i.tags.includes(this.tag))?r.push("positive"):this.target.group.images.some(i=>i.tags.includes(this.tag))&&r.push("underline-positive");else{let i=F.except(this.target.group.images,this.target);if(this.tag.group){let o=this.tag.collectChildren();this.target.tags.some(s=>o.includes(s))?r.push("positive"):i.some(s=>s.tags.some(a=>o.includes(a)))&&r.push("underline-dashed-positive")}else this.target.group.images.every(o=>o.tags.includes(this.tag))?r.push("underline-positive"):i.some(o=>o.tags.includes(this.tag))&&r.push("underline-dashed-positive"),this.target.tags.includes(this.tag)&&r.push("positive")}else this.tag.group?this.tag.collectChildren().some(i=>this.target.tags.includes(i))&&r.push("underline-positive"):this.target.tags.includes(this.tag)&&r.push("positive");return r.join(" ")}getTagGroups(){return this.tag.children.filter(r=>r.group)}getTags(){return this.tag.children.filter(r=>!r.group)}encryptSimple(r){return Ke.encryptSimple(r)}};e.\u0275fac=function(i){return new(i||e)(S(Qn),S(pp),S(Gr),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-tagger-row"]],inputs:{tag:"tag",target:"target",groupMode:"groupMode"},standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],["ondragover","event.preventDefault()",1,"flex","gap","hover-brighten","hover-container",2,"line-height","24px",3,"drop"],[1,"flex","gap","flex-1","width-100","min-width-0","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px",3,"ngClass"],["draggable","true","ondragover","event.preventDefault()",1,"flex-1","overflow-hidden",3,"ngClass","dragstart","dragenter","dragleave","dragend"],[1,"flex","pointer-events-none"],[1,"ellipsis"],[1,"flex","gap","align-items-center","cursor-pointer","hover-visible"],[1,"hover-positive","fa-solid","fa-ellipsis-vertical",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[4,"ngVar"],["class","pointer-events-none","style","white-space: pre",4,"ngIf"],[1,"pointer-events-none",2,"white-space","pre"],[1,"flex","column","overflow-hidden"],[3,"tag","target","groupMode",4,"ngFor","ngForOf"],[3,"tag","target","groupMode"]],template:function(i,o){i&1&&P(0,$G,14,11,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,J,gt,ke,be,$a],data:{animation:[po]}});let t=e;return t})();function HG(t,e){if(t&1){let n=W();Ee(0),f(1,"i",15),C("click",function(){b(n);let i=y();return T(i.groupMode=!i.groupMode)}),p(),Ce()}if(t&2){let n=y();v(),se("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function zG(t,e){if(t&1){let n=W();Ee(0),R(1,"div",8),f(2,"div",16)(3,"div",17),C("click",function(){b(n);let i=y();return T(i.groupMode=!i.groupMode)}),R(4,"i",18),f(5,"span"),M(6,"Group Mode"),p()()(),Ce()}if(t&2){let n=y();v(3),se("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),v(),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function qG(t,e){t&1&&R(0,"div",21)}function GG(t,e){if(t&1&&(Ee(0),P(1,qG,1,0,"div",19),R(2,"app-tagger-row",20),Ce()),t&2){let n=e.$implicit,r=e.index,i=y();v(),_("ngIf",r!=0),v(),_("tag",n)("target",i.target)("groupMode",i.groupMode)}}var rP=(()=>{let e=class e{get classVisible(){return this.stateService.tagManagerVisible}constructor(r,i){this.tagService=r,this.stateService=i,this.ScreenUtils=mt,this.groupMode=!1,ui(()=>{this.target=this.stateService.target(),this.target==null&&(this.groupMode=!1)})}};e.\u0275fac=function(i){return new(i||e)(S(Qn),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-tagger"]],hostVars:2,hostBindings:function(i,o){i&2&&se("visible",o.classVisible)},standalone:!0,features:[K],decls:18,vars:4,consts:[[1,"v-separator","desktop-only"],[1,"tag-manager-container"],[1,"header"],[1,"flex","gap"],[4,"ngIf"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],["tp","Collapse","tpPlacement","left",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"icon-button","fa-solid","hover-brighten",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag","target","groupMode"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(R(0,"div",0),f(1,"div",1)(2,"div",2)(3,"div",3),P(4,HG,2,5,"ng-container",4),p(),f(5,"span",5),M(6,"Tag Manager"),p(),f(7,"div",6)(8,"i",7),C("click",function(){return o.stateService.tagManagerVisible=!1}),p()()(),P(9,zG,7,5,"ng-container",4),R(10,"div",8),f(11,"div",9)(12,"div",10),P(13,GG,3,4,"ng-container",11),p()(),f(14,"div",12)(15,"div",13),C("click",function(){return o.tagService.openTagGroupCreate()}),R(16,"i",14),M(17,"Create"),p()()()),i&2&&(v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(4),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-right":"fa-times"),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()))},dependencies:[J,gt,ke,be,Ft,nP],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){width:0;min-width:0}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[po]}});let t=e;return t})();function WG(t,e){if(t&1&&(f(0,"div",1)(1,"div",2),R(2,"app-filter")(3,"app-masonry"),p(),f(4,"div",3),R(5,"app-fullscreen")(6,"app-tagger"),p()()),t&2){let n=y();_("@enter",void 0),v(4),se("transparent",!n.stateService.target())}}var iP=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.loading=!0,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData().then(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(S(at),S(Je))},e.\u0275cmp=G({type:e,selectors:[["app-gallery"]],standalone:!0,features:[K],decls:1,vars:1,consts:[["class","stack-container",4,"ngIf"],[1,"stack-container"],[1,"flex",2,"height","100vh"],[1,"fullscreen-container",2,"height","100vh"]],template:function(i,o){i&1&&P(0,WG,7,3,"div",0),i&2&&_("ngIf",!o.loading)},dependencies:[J,be,XM,tP,JM,rP],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-background-dialog);transition:.5s;z-index:1}"],data:{animation:[pM]}});let t=e;return t})();var Cs=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function KG(t,e){if(t&1){let n=W();f(0,"div",5)(1,"div",6)(2,"span"),M(3,"po\u010Det t\xEDmov"),p(),f(4,"input",7,8),C("input",function(){b(n);let i=tt(5),o=y();return T(o.onTeamCountChange(i))}),p()(),f(6,"div",6)(7,"span"),M(8,"trvanie kola"),p(),f(9,"input",7,9),C("input",function(){b(n);let i=tt(10),o=y();return T(o.onRoundDurationChange(i))}),p()(),f(11,"span",10),C("click",function(){b(n);let i=y();return T(i.settingsDone())}),M(12,"\u0161tart"),p()()}if(t&2){let n=y();v(4),_("value",4),v(5),_("value",60),v(2),se("disabled",!n.validateSettings())}}function QG(t,e){t&1&&(f(0,"span"),M(1,"pre v\u0161etk\xFDch"),p())}function YG(t,e){if(t&1){let n=W();f(0,"div",11),P(1,QG,2,0,"span",12),f(2,"span"),M(3),p(),f(4,"span"),M(5),p(),f(6,"span",10),C("click",function(){b(n);let i=y();return T(i.startRound())}),M(7,"\u0161tart"),p()()}if(t&2){let n=y();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),_e(n.getCurrentDiscipline()),v(2),_e(n.availablePhrases[0])}}function XG(t,e){if(t&1){let n=W();f(0,"span",10),C("click",function(){b(n);let i=y(2);return T(i.endRoundEarly())}),M(1,"hotovo"),p()}}function JG(t,e){if(t&1&&(f(0,"div",13)(1,"span"),M(2),p(),P(3,XG,2,0,"span",14),p()),t&2){let n=y();v(2),_e(n.timeLeft),v(),_("ngIf",n.showEndRoundEarlyButton)}}function ZG(t,e){t&1&&(f(0,"span"),M(1,"pre v\u0161etk\xFDch"),p())}function e6(t,e){if(t&1){let n=W();f(0,"input",18,19),C("input",function(){b(n);let i=tt(1),o=y(2);return T(o.onForEveryoneWinnerChange(i))}),p()}}function t6(t,e){if(t&1){let n=W();f(0,"div",15),P(1,ZG,2,0,"span",12),f(2,"span"),M(3),p(),f(4,"span"),M(5),p(),f(6,"div",16),P(7,e6,2,0,"input",17),f(8,"span",10),C("click",function(){b(n);let i=y();return T(i.roundOver(!0))}),M(9,"uh\xE1dli"),p()(),f(10,"span",10),C("click",function(){b(n);let i=y();return T(i.roundOver(!1))}),M(11,"neuh\xE1dli"),p()()}if(t&2){let n=y();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),_e(n.getCurrentDiscipline()),v(2),_e(n.availablePhrases[0]),v(),Ht("gap","2rem"),v(),_("ngIf",n.isCurrentRoundForEveryone()),v(),Ht("width",100,"%"),se("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function n6(t,e){if(t&1&&(f(0,"span"),M(1),p()),t&2){let n=e.$implicit,r=e.index;v(),sr("",r+1,". t\xEDm: ",n.wins,"")}}function r6(t,e){if(t&1){let n=W();f(0,"div",20)(1,"span"),M(2,"sk\xF3re"),p(),P(3,n6,2,2,"span",21),f(4,"span",10),C("click",function(){b(n);let i=y();return T(i.currentView="instructions")}),M(5,"\u010Fa\u013E\u0161ie kolo"),p()()}if(t&2){let n=y();v(3),_("ngForOf",n.teams)}}var oP=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=F.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>F.push(s.roundDisciplines,F.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(Cs.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-activity"]],standalone:!0,features:[K],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&P(0,KG,13,4,"div",0)(1,YG,8,3,"div",1)(2,JG,4,2,"div",2)(3,t6,12,10,"div",3)(4,r6,6,1,"div",4),i&2&&(_("ngIf",o.currentView=="settings"),v(),_("ngIf",o.currentView=="instructions"),v(),_("ngIf",o.currentView=="countdown"),v(),_("ngIf",o.currentView=="result"),v(),_("ngIf",o.currentView=="score"))},dependencies:[J,ke,be,En],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var sP=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],aP=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],cP=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var lP=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,F.push(this.availableQuestions,sP),F.push(this.availableQuestions,aP),F.push(this.availableQuestions,cP),F.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[K],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.next()}),f(1,"span"),M(2),p()()),i&2&&(v(2),_e(o.currentQuestion))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var uP=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=Cs.from(this.limbs,this.limb),[this.color,this.backgroundColor]=Cs.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-twister"]],standalone:!0,features:[K],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.spin()}),f(1,"span"),M(2),p()()),i&2&&(Ht("background-color",o.backgroundColor),v(2),sr("",o.limb," ",o.color,""))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function i6(t,e){if(t&1){let n=W();Ee(0),f(1,"span",1),C("click",function(){b(n);let i=y();return T(i.navigate("gallery"))}),M(2,"Gallery"),p(),f(3,"span",1),C("click",function(){b(n);let i=y();return T(i.navigate("story-manager"))}),M(4,"Story Manager"),p(),f(5,"span",1),C("click",function(){b(n);let i=y();return T(i.navigate("comparison"))}),M(6,"Comparison"),p(),Ce()}}var dP=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(S(wn),S(at))},e.\u0275cmp=G({type:e,selectors:[["app-landing"]],standalone:!0,features:[K],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span",1),C("click",function(){return o.navigate("games/activity")}),M(2,"Activity"),p(),f(3,"span",1),C("click",function(){return o.navigate("games/twister")}),M(4,"Twister"),p(),f(5,"span",1),C("click",function(){return o.navigate("games/nikdy-som")}),M(6,"Nikdy som"),p(),P(7,i6,7,0,"ng-container",2),p(),R(8,"div",3),f(9,"div",0)(10,"i",4),C("click",function(){return o.applicationService.toggleTheme()}),p()(),f(11,"div",5),C("click",function(){return o.dev=o.dev+1}),p()),i&2&&(v(7),_("ngIf",o.dev>4),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[J,gt,be],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-background-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var hP="https://mazacik.github.io",qw={production:!0,baseUrl:hP,redirectUrl:hP+"/login"};var qa=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+qw.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:qw.redirectUrl,plugin_name:"TagalleryWeb"};yield Uu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Uu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(j(Ho))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(S(lo),S(wn),S(qa))},e.\u0275cmp=G({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(f(0,"div",0),C("click",function(){return o.signIn()}),R(1,"img",1),f(2,"span",2),M(3,"Sign in with Google"),p()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var mp=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=N(wn),r=N(qa);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var pP=(t,e)=>{let n=N(wn),r=sessionStorage.getItem("dataFileId");return Ke.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var mP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return N(wn).createUrlTree([""])};var gP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&Jg("@crossfade",o.crossfade)},standalone:!0,features:[K],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(f(0,"span",0),M(1),p(),f(2,"span"),M(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),p(),f(4,"span"),M(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),p(),R(6,"img",1)),i&2&&(v(),_e(o.userAgent))},dependencies:[J,En],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[fM]}});let t=e;return t})();var vo=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!F.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],F.isEmpty(this.currentStory.notes)||(this.currentNote=F.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=Ke.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yo=(()=>{let e=class e extends Ba{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new zr(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.abort(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(j(Ho),j(at),j(vo),j(ct))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function s6(t,e){if(t&1){let n=W();f(0,"div",6),C("click",function(){let o=b(n).$implicit,s=y();return T(s.remove(o))}),f(1,"i",7),C("click",function(i){let s=b(n).$implicit;return y().editTag(s),T(i.stopPropagation())}),p(),f(2,"span"),M(3),p(),R(4,"i",8),p()}if(t&2){let n=e.$implicit,r=y();_("dragdrop",n)("dragdropParent",r.currentTags),v(3),_e(n)}}function a6(t,e){if(t&1){let n=W();f(0,"div",9),C("click",function(){let o=b(n).$implicit,s=y();return T(s.add(o))}),R(1,"i",10),f(2,"span"),M(3),p(),f(4,"div",11)(5,"i",7),C("click",function(i){let s=b(n).$implicit;return y().editTag(s),T(i.stopPropagation())}),p(),f(6,"i",12),C("click",function(i){let s=b(n).$implicit;return y().deleteTag(s),T(i.stopPropagation())}),p()()()}if(t&2){let n=e.$implicit;v(3),_e(n)}}var vP=(()=>{let e=class e extends yt{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),F.remove(this.availableTags,r)}remove(r){F.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput({title:"Rename Tag",placeholder:"Tag Title",defaultValue:r}).then(i=>{if(!Ke.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(F.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(F.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),F.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation({title:"Delete Tag",messages:['Are you sure you want to delete "'+r+'"?']}).then(i=>{i&&(this.currentTags.includes(r)?F.remove(this.currentTags,r):F.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>F.remove(o.tags,r)),F.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(void 0)}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(yo))},e.\u0275cmp=G({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[qe,K],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span"),M(2,"Tags"),p(),R(3,"div",1),P(4,s6,5,3,"div",2),p(),R(5,"div",3),f(6,"div",0)(7,"span"),M(8,"Available Tags"),p(),R(9,"div",1),P(10,a6,7,1,"div",4),f(11,"i",5),C("click",function(){return o.editTag()}),p()()),i&2&&(v(4),_("ngForOf",o.currentTags),v(6),_("ngForOf",o.availableTags))},dependencies:[J,ke,za],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function c6(t,e){t&1&&R(0,"div",31)}function l6(t,e){if(t&1&&(Ee(0),P(1,c6,1,0,"div",29),f(2,"span",30),M(3),p(),Ce()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(2),_e(n)}}function u6(t,e){if(t&1){let n=W();f(0,"div",20),C("click",function(){let o=b(n).$implicit,s=y(3);return T(s.setCurrentNote(o))})("dragend",function(){b(n);let i=y(3);return T(i.googleService.update())}),f(1,"div",21)(2,"span",22),M(3),p(),f(4,"div",23),P(5,l6,4,2,"ng-container",24),p()(),f(6,"div",25)(7,"span",26),M(8),p(),f(9,"div",27)(10,"i",28),C("click",function(i){let s=b(n).$implicit;return y(3).editTags(s),T(i.stopPropagation())}),p(),f(11,"i",13),C("click",function(i){let s=b(n).$implicit;return y(3).renameNote(s),T(i.stopPropagation())}),p(),f(12,"i",14),C("click",function(i){let s=b(n).$implicit,a=y(2).$implicit;return y().deleteNote(a,s),T(i.stopPropagation())}),p()()()()}if(t&2){let n=e.$implicit,r=y(2).$implicit,i=y();_("dragdrop",n)("dragdropParent",r.notes),v(2),se("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),v(),_e(n.title),v(2),_("ngForOf",n.tags),v(3),_e(n.wordCount)}}function d6(t,e){if(t&1){let n=W();f(0,"div",16),P(1,u6,13,9,"div",17),f(2,"div",18)(3,"i",19),C("click",function(i){b(n);let o=y().$implicit;return y().createNote(o),T(i.stopPropagation())}),p()()()}if(t&2){let n=y().$implicit;_("@drawer",void 0),v(),_("ngForOf",n.notes)}}function h6(t,e){if(t&1){let n=W();f(0,"div",7)(1,"div",8),C("click",function(){let o=b(n).$implicit,s=y();return T(s.setCurrentStory(o,!0))})("dragend",function(){b(n);let i=y();return T(i.googleService.update())}),f(2,"span",9),M(3),p(),f(4,"div",10)(5,"span",11),M(6),p(),f(7,"div",12)(8,"i",13),C("click",function(i){let s=b(n).$implicit;return y().renameStory(s),T(i.stopPropagation())}),p(),f(9,"i",14),C("click",function(i){let s=b(n).$implicit;return y().deleteStory(s),T(i.stopPropagation())}),p()()()(),P(10,d6,4,2,"div",15),p()}if(t&2){let n=e.$implicit,r=y();v(),_("dragdrop",n)("dragdropParent",r.stateService.stories),v(),se("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),v(),_e(n.title),v(3),_e(r.getNotesWordCount(n)),v(4),_("ngIf",n==r.stateService.currentStory)}}var yP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,mt.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r,i=!1){this.stateService.currentStory=r,i&&!F.isEmpty(r.notes)&&(this.stateService.currentNote=r.notes[0])}createStory(){this.dialogService.createInput({title:"Create Story",placeholder:"Story Title"}).then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput({title:"Rename Story",placeholder:"Story Title",defaultValue:r.title}).then(i=>{Ke.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation({title:"Delete Story",messages:['Are you sure you want to delete "'+r.title+'"?']}).then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(F.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),F.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(vP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput({title:"Create Note",placeholder:"Note Title"}).then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput({title:"Rename Note",placeholder:"Note Title",defaultValue:r.title}).then(i=>{Ke.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation({title:"Delete Note",messages:['Are you sure you want to delete "'+i.title+'"?']}).then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),F.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!Ke.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(F.push(this.searchStories,i),F.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(yo),S(vo))},e.\u0275cmp=G({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[K],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=W();f(0,"input",0,1),C("input",function(){b(s);let c=tt(1);return T(o.onSearchInputChange(c))})("focus",function(){b(s);let c=tt(1);return T(c.select())}),p(),R(2,"div",2),f(3,"div",3),P(4,h6,11,9,"div",4),p(),R(5,"div",2),f(6,"div",5)(7,"i",6),C("click",function(){return o.createStory()}),p()()}i&2&&(v(4),_("ngForOf",o.stateService.stories))},dependencies:[J,ke,be,En,za,Ft],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-background-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[mM]}});let t=e;return t})();function f6(t,e){if(t&1){let n=W();Ee(0),f(1,"div",1)(2,"span",2),M(3),p()(),f(4,"div",3)(5,"textarea",4),li("ngModelChange",function(i){b(n);let o=y();return Hi(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),T(i)}),C("ngModelChange",function(){b(n);let i=y();return T(i.onChange())}),p()(),Ce()}if(t&2){let n=y();v(),se("focus-mode",!n.stateService.sidebarVisible),v(2),sr("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),v(2),se("focus-mode",!n.stateService.sidebarVisible),ci("ngModel",n.stateService.currentNote.text)}}var _P=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=Ke.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(S(yo),S(at),S(vo))},e.\u0275cmp=G({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[K],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&P(0,f6,6,7,"ng-container",0),i&2&&_("ngIf",o.stateService.currentNote)},dependencies:[J,be,En,mo,go,Ii],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.5rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var wP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(S(yo),S(at),S(vo))},e.\u0275cmp=G({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[K],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=W();f(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),p(),f(3,"i",3),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),p()(),f(4,"div",4)(5,"input",5,6),C("click",function(){b(s);let c=tt(6);return T(o.onCountdownInputClick(c))})("input",function(){b(s);let c=tt(6);return T(o.onCountdownInputChange(c))})("keypress",function(c){b(s);let l=tt(6);return T(o.onCountdownInputSubmit(c,l))})("focus",function(){b(s);let c=tt(6);return T(c.select())}),p()(),f(7,"div",7)(8,"i",8),C("click",function(){return o.applicationService.toggleTheme()}),p()()(),f(9,"div",9),R(10,"app-sidebar")(11,"div",10),f(12,"div",11),R(13,"app-note-editor"),p()()}if(i&2){let s=tt(6);v(3),_("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),v(2),se("user-select-none",s.readOnly),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),v(2),se("display-none",!o.stateService.sidebarVisible),v(),se("mobile-only",!o.stateService.sidebarVisible),v(),se("desktop-only",o.stateService.sidebarVisible)}},dependencies:[J,gt,yP,_P,Ft],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var EP=[{path:"messenger-browser",canActivate:[mP],component:gP},{path:"login",component:fP},{path:"story-manager",canActivate:[mp],component:wP},{path:"folder-picker",canActivate:[mp],component:qM},{path:"gallery",canActivate:[mp,pP],component:iP},{path:"home",component:dP},{path:"games",children:[{path:"activity",component:oP},{path:"twister",component:uP},{path:"nikdy-som",component:lP},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var IP=(t,e)=>{let n=N(qa);return e(CP(n,t)).pipe(Jn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),$e(n.requestAccessToken()).pipe(Dt(()=>e(CP(n,t))),Jn(i=>Pi(()=>i)))}))},CP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;oA(zM,{providers:[LA(),yx(EP,_x({paramsInheritanceStrategy:"always"})),lT(dT(),uT([IP])),_c(VT(()=>LT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),_c(XD(()=>JD())),_c(IS(()=>bS())),hM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"contextmenu",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
