var Zq=Object.create;var y_=Object.defineProperty,ez=Object.defineProperties,tz=Object.getOwnPropertyDescriptor,nz=Object.getOwnPropertyDescriptors,iz=Object.getOwnPropertyNames,v_=Object.getOwnPropertySymbols,A2=Object.getPrototypeOf,XI=Object.prototype.hasOwnProperty,x2=Object.prototype.propertyIsEnumerable,rz=Reflect.get;var D2=(t,e,n)=>e in t?y_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e)=>{for(var n in e||={})XI.call(e,n)&&D2(t,n,e[n]);if(v_)for(var n of v_(e))x2.call(e,n)&&D2(t,n,e[n]);return t},Et=(t,e)=>ez(t,nz(e));var JI=(t,e)=>{var n={};for(var i in t)XI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&v_)for(var i of v_(t))e.indexOf(i)<0&&x2.call(t,i)&&(n[i]=t[i]);return n};var oz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),sz=(t,e)=>{for(var n in e)y_(t,n,{get:e[n],enumerable:!0})},az=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of iz(e))!XI.call(t,r)&&r!==n&&y_(t,r,{get:()=>e[r],enumerable:!(i=tz(e,r))||i.enumerable});return t};var cz=(t,e,n)=>(n=t!=null?Zq(A2(t)):{},az(e||!t||!t.__esModule?y_(n,"default",{value:t,enumerable:!0}):n,t));var Ba=(t,e,n)=>rz(A2(t),n,e);var E=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(h){r(h)}},a=d=>{try{l(n.throw(d))}catch(h){r(h)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var sG=oz((TMe,hC)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(C,T){T=T||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(C,!!T.bubbles,!!T.cancelable,T.detail||null),P},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var C=window.getComputedStyle(w),T=function(P,k){return!(C[P]===void 0||C[P]===k)};if(C.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||C.isolation==="isolate"||C.position==="fixed"||C.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,C){for(var T=0;T<w.length;++T)if(w[T]===C)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var C=new MutationObserver(this.maybeHideModal.bind(this));C.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,P=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),k,B=function(A){if(A.target===w){var J="DOMNodeRemoved";T|=A.type.substr(0,J.length)===J,window.clearTimeout(k),k=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(A){w.addEventListener(A,B)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var C=document.createElement("div");this.dialog_.insertBefore(C,this.dialog_.firstChild),C.tabIndex=-1,C.focus(),this.dialog_.removeChild(C)}var T=document.createEvent("MouseEvents");T.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(T),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var C=["button","input","keygen","select","textarea"],T=C.map(function(P){return P+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(T.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,C){if(w<C)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=C},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var C=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(C)}};var l={};if(l.reposition=function(w){var C=document.body.scrollTop||document.documentElement.scrollTop,T=C+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(C,T)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var C=0;C<document.styleSheets.length;++C){var T=document.styleSheets[C],P=null;try{P=T.cssRules}catch{}if(P)for(var k=0;k<P.length;++k){var B=P[k],A=null;try{A=document.querySelectorAll(B.selectorText)}catch{}if(!(!A||!r(A,w))){var J=B.style.getPropertyValue("top"),j=B.style.getPropertyValue("bottom");if(J&&J!=="auto"||j&&j!=="auto")return!0}}}return!1},l.needsCentering=function(w){var C=window.getComputedStyle(w);return C.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(C){this.forwardTab_=void 0,C.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(C){var T=[];C.forEach(function(P){for(var k=0,B;B=P.removedNodes[k];++k){if(B instanceof Element)B.localName==="dialog"&&T.push(B);else continue;T=T.concat(B.querySelectorAll("dialog"))}}),T.length&&w(T)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,C=0,T;T=this.pendingDialogStack[C];++C)T.updateZIndex(--w,--w),C===0&&(this.overlay.style.zIndex=--w);var P=this.pendingDialogStack[0];if(P){var k=P.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var C=0,T;T=this.pendingDialogStack[C];++C)if(T.dialog===w)return C===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var C=this.pendingDialogStack[0],T=C.dialog,P=T.compareDocumentPosition(w.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?C.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var C=new t("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(C)&&T.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var C=this.pendingDialogStack.slice();C.forEach(function(T){w.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var C=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=C?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var C=this.pendingDialogStack.indexOf(w);C!==-1&&(this.pendingDialogStack.splice(C,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var m=h.get;h.get=function(){return o(this)?"dialog":m.call(this)};var v=h.set;h.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var C=w.target;if(!(!C||!o(C.form))){var T=C.type==="submit"&&["button","input"].indexOf(C.localName)>-1;if(!T){if(!(C.localName==="input"&&C.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var P=n(C);P&&(l.formSubmitter=C)}}},!1);var y=HTMLFormElement.prototype.submit,b=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=b,document.addEventListener("submit",function(w){var C=w.target;if(o(C)){w.preventDefault();var T=n(C);if(T){var P=l.formSubmitter;P&&P.form===C?T.close(l.useValue||P.value):T.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof hC=="object"&&typeof hC.exports=="object"?hC.exports=l:window.dialogPolyfill=l})()});function lz(t,e){return Object.is(t,e)}var oi=null,Fp=!1,__=1,$a=Symbol("SIGNAL");function Mt(t){let e=oi;return oi=t,e}function uz(){return Fp}var w_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M2(t){if(Fp)throw new Error("");if(oi===null)return;oi.consumerOnSignalRead(t);let e=oi.nextProducerIndex++;if(Sd(oi),e<oi.producerNode.length&&oi.producerNode[e]!==t&&Lp(oi)){let n=oi.producerNode[e];E_(n,oi.producerIndexOfThis[e])}oi.producerNode[e]!==t&&(oi.producerNode[e]=t,oi.producerIndexOfThis[e]=Lp(oi)?N2(t,oi,e):0),oi.producerLastReadVersion[e]=t.version}function dz(){__++}function hz(t){if(!(Lp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===__)){if(!t.producerMustRecompute(t)&&!b_(t)){t.dirty=!1,t.lastCleanEpoch=__;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=__}}function P2(t){if(t.liveConsumerNode===void 0)return;let e=Fp;Fp=!0;try{for(let n of t.liveConsumerNode)n.dirty||R2(n)}finally{Fp=e}}function O2(){return oi?.consumerAllowSignalWrites!==!1}function R2(t){t.dirty=!0,P2(t),t.consumerMarkedDirty?.(t)}function eS(t){return t&&(t.nextProducerIndex=0),Mt(t)}function tS(t,e){if(Mt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Lp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)E_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function b_(t){Sd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(hz(n),i!==n.version))return!0}return!1}function nS(t){if(Sd(t),Lp(t))for(let e=0;e<t.producerNode.length;e++)E_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function N2(t,e,n){if(k2(t),Sd(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=N2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function E_(t,e){if(k2(t),Sd(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)E_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Sd(r),r.producerIndexOfThis[i]=e}}function Lp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function k2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fz(){throw new Error}var F2=fz;function L2(){F2()}function V2(t){F2=t}var pz=null;function j2(t){let e=Object.create(B2);e.value=t;let n=()=>(M2(e),e.value);return n[$a]=e,n}function iS(t,e){O2()||L2(),t.equal(t.value,e)||(t.value=e,mz(t))}function U2(t,e){O2()||L2(),iS(t,e(t.value))}var B2=Et(Z({},w_),{equal:lz,value:void 0});function mz(t){t.version++,dz(),P2(t),pz?.()}function $2(t,e,n){let i=Object.create(gz);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(nS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=ZI)}let l=()=>{if(i.fn===null)return;if(uz())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!b_(i))return;i.hasRun=!0;let d=eS(i);try{i.cleanupFn(),i.cleanupFn=ZI,i.fn(r)}finally{tS(i,d)}};return i.ref={notify:()=>R2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[$a]:i},i.ref}var ZI=()=>{},gz=Et(Z({},w_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ZI});function De(t){return typeof t=="function"}function Td(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var C_=Td(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function dl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof C_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{H2(o)}catch(a){e=e??[],a instanceof C_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new C_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)H2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&dl(n,e)}remove(e){let{_finalizers:n}=this;n&&dl(n,e),e instanceof t&&e._removeParent(this)}};Pn.EMPTY=(()=>{let t=new Pn;return t.closed=!0,t})();var rS=Pn.EMPTY;function I_(t){return t instanceof Pn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function H2(t){De(t)?t():t.unsubscribe()}var ho={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Dd={setTimeout(t,e,...n){let{delegate:i}=Dd;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Dd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function S_(t){Dd.setTimeout(()=>{let{onUnhandledError:e}=ho;if(e)e(t);else throw t})}function Vp(){}var G2=oS("C",void 0,void 0);function q2(t){return oS("E",void 0,t)}function z2(t){return oS("N",t,void 0)}function oS(t,e,n){return{kind:t,value:e,error:n}}var hl=null;function Ad(t){if(ho.useDeprecatedSynchronousErrorHandling){let e=!hl;if(e&&(hl={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=hl;if(hl=null,n)throw i}}else t()}function W2(t){ho.useDeprecatedSynchronousErrorHandling&&hl&&(hl.errorThrown=!0,hl.error=t)}var fl=class extends Pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,I_(e)&&e.add(this)):this.destination=_z}static create(e,n,i){return new Ha(e,n,i)}next(e){this.isStopped?aS(z2(e),this):this._next(e)}error(e){this.isStopped?aS(q2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?aS(G2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vz=Function.prototype.bind;function sS(t,e){return vz.call(t,e)}var cS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){T_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){T_(i)}else T_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){T_(n)}}},Ha=class extends fl{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&ho.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&sS(e.next,o),error:e.error&&sS(e.error,o),complete:e.complete&&sS(e.complete,o)}):r=e}this.destination=new cS(r)}};function T_(t){ho.useDeprecatedSynchronousErrorHandling?W2(t):S_(t)}function yz(t){throw t}function aS(t,e){let{onStoppedNotification:n}=ho;n&&Dd.setTimeout(()=>n(t,e))}var _z={closed:!0,next:Vp,error:yz,complete:Vp};var xd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yr(t){return t}function lS(...t){return uS(t)}function uS(t){return t.length===0?yr:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=bz(n)?n:new Ha(n,i,r);return Ad(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=K2(i),new i((r,o)=>{let a=new Ha({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[xd](){return this}pipe(...n){return uS(n)(this)}toPromise(n){return n=K2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function K2(t){var e;return(e=t??ho.Promise)!==null&&e!==void 0?e:Promise}function wz(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function bz(t){return t&&t instanceof fl||wz(t)&&I_(t)}function dS(t){return De(t?.lift)}function lt(t){return e=>{if(dS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,i,r){return new hS(t,e,n,i,r)}var hS=class extends fl{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Md(){return lt((t,e)=>{let n=null;t._refCount++;let i=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Pd=class extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pn;let n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pn.EMPTY)}return e}refCount(){return Md()(this)}};var Y2=Td(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var si=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new D_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Y2}next(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?rS:(this.currentObservers=null,o.push(n),new Pn(()=>{this.currentObservers=null,dl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new je;return n.source=this,n}}return t.create=(e,n)=>new D_(e,n),t})(),D_=class extends si{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:rS}};var Kn=class extends si{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var fS={now(){return(fS.delegate||Date).now()},delegate:void 0};var A_=class extends Pn{constructor(e,n){super()}schedule(e,n=0){return this}};var jp={setInterval(t,e,...n){let{delegate:i}=jp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=jp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Od=class extends A_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return jp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&jp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,dl(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rd=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Rd.now=fS.now;var Nd=class extends Rd{constructor(e,n=Rd.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var kd=new Nd(Od),pS=kd;var x_=class extends Od{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var M_=class extends Nd{};var mS=new M_(x_);var nr=new je(t=>t.complete());function P_(t){return t&&De(t.schedule)}function gS(t){return t[t.length-1]}function O_(t){return De(gS(t))?t.pop():void 0}function Go(t){return P_(gS(t))?t.pop():void 0}function Q2(t,e){return typeof gS(t)=="number"?t.pop():e}function R_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function J2(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(m){try{h(i.next(m))}catch(v){a(v)}}function d(m){try{h(i.throw(m))}catch(v){a(v)}}function h(m){m.done?o(m.value):r(m.value).then(l,d)}h((i=i.apply(t,e||[])).next())})}function X2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pl(t){return this instanceof pl?(this.v=t,this):new pl(t)}function Z2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(b){return new Promise(function(w,C){o.push([y,b,w,C])>1||l(y,b)})})}function l(y,b){try{d(i[y](b))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof pl?Promise.resolve(y.value.v).then(h,m):v(o[0][2],y)}function h(y){l("next",y)}function m(y){l("throw",y)}function v(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function eL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof X2=="function"?X2(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},a)}}var Fd=t=>t&&typeof t.length=="number"&&typeof t!="function";function N_(t){return De(t?.then)}function k_(t){return De(t[xd])}function F_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function L_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ez(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var V_=Ez();function j_(t){return De(t?.[V_])}function U_(t){return Z2(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield pl(n.read());if(r)return yield pl(void 0);yield yield pl(i)}}finally{n.releaseLock()}})}function B_(t){return De(t?.getReader)}function qt(t){if(t instanceof je)return t;if(t!=null){if(k_(t))return Cz(t);if(Fd(t))return Iz(t);if(N_(t))return Sz(t);if(F_(t))return tL(t);if(j_(t))return Tz(t);if(B_(t))return Dz(t)}throw L_(t)}function Cz(t){return new je(e=>{let n=t[xd]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Iz(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Sz(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,S_)})}function Tz(t){return new je(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tL(t){return new je(e=>{Az(t,e).catch(n=>e.error(n))})}function Dz(t){return tL(U_(t))}function Az(t,e){var n,i,r,o;return J2(this,void 0,void 0,function*(){try{for(n=eL(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function ir(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Ga(t,e=0){return lt((n,i)=>{n.subscribe(tt(i,r=>ir(i,t,()=>i.next(r),e),()=>ir(i,t,()=>i.complete(),e),r=>ir(i,t,()=>i.error(r),e)))})}function qa(t,e=0){return lt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function nL(t,e){return qt(t).pipe(qa(e),Ga(e))}function iL(t,e){return qt(t).pipe(qa(e),Ga(e))}function rL(t,e){return new je(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function oL(t,e){return new je(n=>{let i;return ir(n,e,()=>{i=t[V_](),ir(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function $_(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{ir(n,e,()=>{let i=t[Symbol.asyncIterator]();ir(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function sL(t,e){return $_(U_(t),e)}function aL(t,e){if(t!=null){if(k_(t))return nL(t,e);if(Fd(t))return rL(t,e);if(N_(t))return iL(t,e);if(F_(t))return $_(t,e);if(j_(t))return oL(t,e);if(B_(t))return sL(t,e)}throw L_(t)}function Jt(t,e){return e?aL(t,e):qt(t)}function Ue(...t){let e=Go(t);return Jt(t,e)}function Ld(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new je(e?r=>e.schedule(i,0,r):i)}function vS(t){return!!t&&(t instanceof je||De(t.lift)&&De(t.subscribe))}var _r=Td(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wr(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new _r)}})})}function H_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new Ha({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new _r)}});t.subscribe(o)})}function cL(t){return t instanceof Date&&!isNaN(t)}function Ne(t,e){return lt((n,i)=>{let r=0;n.subscribe(tt(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:xz}=Array;function Mz(t,e){return xz(e)?t(...e):t(e)}function Vd(t){return Ne(e=>Mz(t,e))}var{isArray:Pz}=Array,{getPrototypeOf:Oz,prototype:Rz,keys:Nz}=Object;function G_(t){if(t.length===1){let e=t[0];if(Pz(e))return{args:e,keys:null};if(kz(e)){let n=Nz(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function kz(t){return t&&typeof t=="object"&&Oz(t)===Rz}function q_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function z_(...t){let e=Go(t),n=O_(t),{args:i,keys:r}=G_(t);if(i.length===0)return Jt([],e);let o=new je(Fz(i,e,r?a=>q_(r,a):yr));return n?o.pipe(Vd(n)):o}function Fz(t,e,n=yr){return i=>{lL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)lL(e,()=>{let h=Jt(t[d],e),m=!1;h.subscribe(tt(i,v=>{o[d]=v,m||(m=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function lL(t,e,n){t?ir(n,t,e):e()}function uL(t,e,n,i,r,o,a,l){let d=[],h=0,m=0,v=!1,y=()=>{v&&!d.length&&!h&&e.complete()},b=C=>h<i?w(C):d.push(C),w=C=>{o&&e.next(C),h++;let T=!1;qt(n(C,m++)).subscribe(tt(e,P=>{r?.(P),o?b(P):e.next(P)},()=>{T=!0},void 0,()=>{if(T)try{for(h--;d.length&&h<i;){let P=d.shift();a?ir(e,a,()=>w(P)):w(P)}y()}catch(P){e.error(P)}}))};return t.subscribe(tt(e,b,()=>{v=!0,y()})),()=>{l?.()}}function On(t,e,n=1/0){return De(e)?On((i,r)=>Ne((o,a)=>e(i,o,r,a))(qt(t(i,r))),n):(typeof e=="number"&&(n=e),lt((i,r)=>uL(i,r,t,n)))}function Up(t=1/0){return On(yr,t)}function dL(){return Up(1)}function jd(...t){return dL()(Jt(t,Go(t)))}function W_(t){return new je(e=>{qt(t()).subscribe(e)})}function yS(...t){let e=O_(t),{args:n,keys:i}=G_(t),r=new je(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,h=a;for(let m=0;m<a;m++){let v=!1;qt(n[m]).subscribe(tt(o,y=>{v||(v=!0,h--),l[m]=y},()=>d--,void 0,()=>{(!d||!v)&&(h||o.next(i?q_(i,l):l),o.complete())}))}});return e?r.pipe(Vd(e)):r}var Lz=["addListener","removeListener"],Vz=["addEventListener","removeEventListener"],jz=["on","off"];function Ud(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return Ud(t,e,n).pipe(Vd(i));let[r,o]=$z(t)?Vz.map(a=>l=>t[a](e,l,n)):Uz(t)?Lz.map(hL(t,e)):Bz(t)?jz.map(hL(t,e)):[];if(!r&&Fd(t))return On(a=>Ud(a,e,n))(qt(t));if(!r)throw new TypeError("Invalid event target");return new je(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function hL(t,e){return n=>i=>t[n](e,i)}function Uz(t){return De(t.addListener)&&De(t.removeListener)}function Bz(t){return De(t.on)&&De(t.off)}function $z(t){return De(t.addEventListener)&&De(t.removeEventListener)}function fL(t=0,e,n=pS){let i=-1;return e!=null&&(P_(e)?n=e:i=e),new je(r=>{let o=cL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Bp(...t){let e=Go(t),n=Q2(t,1/0),i=t;return i.length?i.length===1?qt(i[0]):Up(n)(Jt(i,e)):nr}function ai(t,e){return lt((n,i)=>{let r=0;n.subscribe(tt(i,o=>t.call(e,o,r++)&&i.next(o)))})}function pL(t){return lt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let h=r;r=null,n.next(h)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(tt(n,h=>{i=!0,r=h,o||qt(t(h)).subscribe(o=tt(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function _S(t,e=kd){return pL(()=>fL(t,e))}function qo(t){return lt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(tt(n,void 0,void 0,a=>{o=qt(t(a,qo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function mL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,h=0;o.subscribe(tt(a,m=>{let v=h++;d=l?t(d,m,v):(l=!0,m),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function za(t,e){return De(e)?On(t,e,1):On(t,1)}function Wa(t){return lt((e,n)=>{let i=!1;e.subscribe(tt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Gs(t){return t<=0?()=>nr:lt((e,n)=>{let i=0;e.subscribe(tt(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function wS(t){return Ne(()=>t)}function K_(t=Hz){return lt((e,n)=>{let i=!1;e.subscribe(tt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Hz(){return new _r}function ml(t){return lt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ai((r,o)=>t(r,o,i)):yr,Gs(1),n?Wa(e):K_(()=>new _r))}function Bd(t){return t<=0?()=>nr:lt((e,n)=>{let i=[];e.subscribe(tt(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function bS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ai((r,o)=>t(r,o,i)):yr,Bd(1),n?Wa(e):K_(()=>new _r))}function ES(t,e){return lt(mL(t,e,arguments.length>=2,!0))}function CS(t){return ai((e,n)=>t<=n)}function IS(...t){let e=Go(t);return lt((n,i)=>{(e?jd(t,n,e):jd(t,n)).subscribe(i)})}function Di(t,e){return lt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(tt(i,d=>{r?.unsubscribe();let h=0,m=o++;qt(t(d,m)).subscribe(r=tt(i,v=>i.next(e?e(d,v,m,h++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function fo(t){return lt((e,n)=>{qt(t).subscribe(tt(n,()=>n.complete(),Vp)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?lt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(tt(o,d=>{var h;(h=i.next)===null||h===void 0||h.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var h;l=!1,(h=i.error)===null||h===void 0||h.call(i,d),o.error(d)},()=>{var d,h;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(h=i.finalize)===null||h===void 0||h.call(i)}))}):yr}var iV="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(D0(e,n)),this.code=e}};function D0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var US=class extends si{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Mt(null);try{super.next(e)}finally{Mt(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=SS(o),r&&(r=SS(r)),a&&(a=SS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof Pn&&e.add(l),l}};function SS(t){return e=>{setTimeout(t,void 0,e)}}var zt=US;var rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(rt||{});function Gi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Gi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function BS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rV||{}),Yo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yo||{});function Zp(t){return{toString:t}.toString()}var qs=globalThis;var Wd={},rr=[];function $t(t){for(let e in t)if(t[e]===$t)return e;throw Error("Could not find renamed property on target object.")}function Gz(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var qz=$t({\u0275cmp:$t}),zz=$t({\u0275dir:$t}),Wz=$t({\u0275pipe:$t}),Kz=$t({\u0275mod:$t}),c0=$t({\u0275fac:$t}),$p=$t({__NG_ELEMENT_ID__:$t}),gL=$t({__NG_ENV_ID__:$t}),Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function oV(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function $S(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];Yz(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function sV(t){return t===3||t===4||t===6}function Yz(t){return t.charCodeAt(0)===64}function Hp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?vL(t,n,r,null,e[++i]):vL(t,n,r,null,null))}}return t}function vL(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var aV="ng-template";function Qz(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&oV(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function cV(t){return t.type===4&&t.value!==aV}function Xz(t,e,n){let i=t.type===4&&!n?aV:t.value;return e===i}function Jz(t,e,n){let i=4,r=t.attrs||[],o=tW(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!po(i)&&!po(d))return!1;if(a&&po(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!Xz(t,d,n)||d===""&&e.length===1){if(po(i))return!1;a=!0}}else{let h=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!Qz(t.attrs,h,n)){if(po(i))return!1;a=!0}continue}let m=i&8?"class":d,v=Zz(m,r,cV(t),n);if(v===-1){if(po(i))return!1;a=!0;continue}if(h!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let b=i&8?y:null;if(b&&oV(b,h,0)!==-1||i&2&&h!==y){if(po(i))return!1;a=!0}}}}return po(i)||a}function po(t){return(t&1)===0}function Zz(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return nW(e,t)}function eW(t,e,n=!1){for(let i=0;i<e.length;i++)if(Jz(t,e[i],n))return!0;return!1}function tW(t){for(let e=0;e<t.length;e++){let n=t[e];if(sV(n))return e}return t.length}function nW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function yL(t,e){return t?":not("+e.trim()+")":e}function iW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!po(a)&&(e+=yL(o,r),r=""),i=a,o=o||!po(i);n++}return r!==""&&(e+=yL(o,r)),e}function rW(t){return t.map(iW).join(",")}function oW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!po(r))break;r=o}i++}return{attrs:e,classes:n}}function fe(t){return Zp(()=>{let e=fV(t),n=Et(Z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yo.Emulated,styles:t.styles||rr,_:null,schemas:t.schemas||null,tView:null,id:""});pV(n);let i=t.dependencies;return n.directiveDefs=wL(i,!1),n.pipeDefs=wL(i,!0),n.id=cW(n),n})}function sW(t){return Qa(t)||lV(t)}function aW(t){return t!==null}function qi(t){return Zp(()=>({type:t.type,bootstrap:t.bootstrap||rr,declarations:t.declarations||rr,imports:t.imports||rr,exports:t.exports||rr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _L(t,e){if(t==null)return Wd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=Ae.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==Ae.None?[i,l]:i,e[o]=a):n[o]=i}return n}function Pt(t){return Zp(()=>{let e=fV(t);return pV(e),e})}function Qa(t){return t[qz]||null}function lV(t){return t[zz]||null}function uV(t){return t[Wz]||null}function dV(t){let e=Qa(t)||lV(t)||uV(t);return e!==null?e.standalone:!1}function hV(t,e){let n=t[Kz]||null;if(!n&&e===!0)throw new Error(`Type ${Gi(t)} does not have '\u0275mod' property.`);return n}function fV(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||rr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_L(t.inputs,e),outputs:_L(t.outputs),debugInfo:null}}function pV(t){t.features?.forEach(e=>e(t))}function wL(t,e){if(!t)return null;let n=e?uV:sW;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(aW)}function cW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ts=0,nt=1,Re=2,gi=3,mo=4,yo=5,l0=6,Gp=7,go=8,Kd=9,zs=10,vn=11,qp=12,bL=13,ih=14,Qo=15,em=16,$d=17,Ws=18,A0=19,mV=20,Ya=21,t0=22,yl=23,Xo=25,$T=1;var _l=7,u0=8,Yd=9,br=10,HT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(HT||{});function gl(t){return Array.isArray(t)&&typeof t[$T]=="object"}function Js(t){return Array.isArray(t)&&t[$T]===!0}function GT(t){return(t.flags&4)!==0}function x0(t){return t.componentOffset>-1}function M0(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function lW(t){return(t[Re]&512)!==0}var uW="svg",dW="math",hW=!1;function fW(){return hW}function Jo(t){for(;Array.isArray(t);)t=t[ts];return t}function pW(t){for(;Array.isArray(t);){if(typeof t[$T]=="object")return t;t=t[ts]}return null}function gV(t,e){return Jo(e[t])}function kr(t,e){return Jo(e[t.index])}function vV(t,e){return t.data[e]}function mW(t,e){return t[e]}function Za(t,e){let n=e[t];return gl(n)?n:n[ts]}function gW(t){return(t[Re]&4)===4}function qT(t){return(t[Re]&128)===128}function vW(t){return Js(t[gi])}function Qd(t,e){return e==null?null:t[e]}function yV(t){t[$d]=0}function yW(t){t[Re]&1024||(t[Re]|=1024,qT(t)&&zp(t))}function _W(t,e){for(;t>0;)e=e[ih],t--;return e}function zT(t){return!!(t[Re]&9216||t[yl]?.dirty)}function HS(t){zT(t)?zp(t):t[Re]&64&&(fW()?(t[Re]|=1024,zp(t)):t[zs].changeDetectionScheduler?.notify())}function zp(t){t[zs].changeDetectionScheduler?.notify();let e=Wp(t);for(;e!==null&&!(e[Re]&8192||(e[Re]|=8192,!qT(e)));)e=Wp(e)}function _V(t,e){if((t[Re]&256)===256)throw new X(911,!1);t[Ya]===null&&(t[Ya]=[]),t[Ya].push(e)}function wW(t,e){if(t[Ya]===null)return;let n=t[Ya].indexOf(e);n!==-1&&t[Ya].splice(n,1)}function Wp(t){let e=t[gi];return Js(e)?e[gi]:e}var Ze={lFrame:AV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bW(){return Ze.lFrame.elementDepthCount}function EW(){Ze.lFrame.elementDepthCount++}function CW(){Ze.lFrame.elementDepthCount--}function wV(){return Ze.bindingsEnabled}function IW(){return Ze.skipHydrationRootTNode!==null}function SW(t){return Ze.skipHydrationRootTNode===t}function TW(){Ze.skipHydrationRootTNode=null}function _t(){return Ze.lFrame.lView}function Yn(){return Ze.lFrame.tView}function F(t){return Ze.lFrame.contextLView=t,t[go]}function L(t){return Ze.lFrame.contextLView=null,t}function zi(){let t=bV();for(;t!==null&&t.type===64;)t=t.parent;return t}function bV(){return Ze.lFrame.currentTNode}function DW(){let t=Ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Tl(t,e){let n=Ze.lFrame;n.currentTNode=t,n.isParent=e}function WT(){return Ze.lFrame.isParent}function EV(){Ze.lFrame.isParent=!1}function AW(){return Ze.lFrame.contextLView}function CV(){let t=Ze.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xW(){return Ze.lFrame.bindingIndex}function MW(t){return Ze.lFrame.bindingIndex=t}function tm(){return Ze.lFrame.bindingIndex++}function KT(t){let e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PW(){return Ze.lFrame.inI18n}function OW(t,e){let n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,GS(e)}function RW(){return Ze.lFrame.currentDirectiveIndex}function GS(t){Ze.lFrame.currentDirectiveIndex=t}function IV(t){let e=Ze.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function SV(){return Ze.lFrame.currentQueryIndex}function YT(t){Ze.lFrame.currentQueryIndex=t}function NW(t){let e=t[nt];return e.type===2?e.declTNode:e.type===1?t[yo]:null}function TV(t,e,n){if(n&rt.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&rt.Host);)if(r=NW(o),r===null||(o=o[ih],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ze.lFrame=DV();return i.currentTNode=e,i.lView=t,!0}function QT(t){let e=DV(),n=t[nt];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DV(){let t=Ze.lFrame,e=t===null?null:t.child;return e===null?AV(t):e}function AV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xV(){let t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MV=xV;function XT(){let t=xV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kW(t){return(Ze.lFrame.contextLView=_W(t,Ze.lFrame.contextLView))[go]}function ec(){return Ze.lFrame.selectedIndex}function wl(t){Ze.lFrame.selectedIndex=t}function P0(){let t=Ze.lFrame;return vV(t.tView,t.selectedIndex)}function FW(){return Ze.lFrame.currentNamespace}var PV=!0;function O0(){return PV}function R0(t){PV=t}function LW(){return rh(zi(),_t())}function rh(t,e){return new sn(kr(t,e))}var sn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=LW;let t=e;return t})();function VW(t){return t instanceof sn?t.nativeElement:t}function jW(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function UW(t){return t.flat(Number.POSITIVE_INFINITY)}function JT(t,e){t.forEach(n=>Array.isArray(n)?JT(n,e):e(n))}function OV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function d0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function BW(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function RV(t,e,n){let i=nm(t,e);return i>=0?t[i|1]=n:(i=~i,BW(t,i,e,n)),i}function TS(t,e){let n=nm(t,e);if(n>=0)return t[n|1]}function nm(t,e){return $W(t,e,1)}function $W(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function HW(){return this._results[Symbol.iterator]()}var qS=class t{get changes(){return this._changes??=new zt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=HW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=UW(e);(this._changesDetected=!jW(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NV(t){return(t.flags&128)===128}var zS;function kV(t){zS=t}function GW(){if(zS!==void 0)return zS;if(typeof document<"u")return document;throw new X(210,!1)}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wi(t){return{providers:t.providers||[],imports:t.imports||[]}}function N0(t){return EL(t,LV)||EL(t,VV)}function FV(t){return N0(t)!==null}function EL(t,e){return t.hasOwnProperty(e)?t[e]:null}function qW(t){let e=t&&(t[LV]||t[VV]);return e||null}function CL(t){return t&&(t.hasOwnProperty(IL)||t.hasOwnProperty(zW))?t[IL]:null}var LV=$t({\u0275prov:$t}),IL=$t({\u0275inj:$t}),VV=$t({ngInjectableDef:$t}),zW=$t({ngInjectorDef:$t}),ve=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},ZT=new ve("",{providedIn:"root",factory:()=>WW}),WW="ng",eD=new ve(""),Fr=new ve("",{providedIn:"platform",factory:()=>"unknown"});var tD=new ve(""),nD=new ve("",{providedIn:"root",factory:()=>GW().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var KW=$t({__forward_ref__:$t});function tc(t){return t.__forward_ref__=tc,t.toString=function(){return Gi(this())},t}function Hi(t){return jV(t)?t():t}function jV(t){return typeof t=="function"&&t.hasOwnProperty(KW)&&t.__forward_ref__===tc}function UV(t){return t&&!!t.\u0275providers}function Xd(t){return typeof t=="string"?t:t==null?"":String(t)}function YW(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xd(t)}function QW(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function iD(t,e){throw new X(-201,!1)}var WS;function BV(){return WS}function Nr(t){let e=WS;return WS=t,e}function $V(t,e,n){let i=N0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&rt.Optional)return null;if(e!==void 0)return e;iD(t,"Injector")}var XW={},Kp=XW,KS="__NG_DI_FLAG__",h0="ngTempTokenPath",JW="ngTokenPath",ZW=/\n/gm,e7="\u0275",SL="__source",qd;function t7(){return qd}function Ka(t){let e=qd;return qd=t,e}function n7(t,e=rt.Default){if(qd===void 0)throw new X(-203,!1);return qd===null?$V(t,void 0,e):qd.get(t,e&rt.Optional?null:void 0,e)}function re(t,e=rt.Default){return(BV()||n7)(Hi(t),e)}function te(t,e=rt.Default){return re(t,k0(e))}function k0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function YS(t){let e=[];for(let n=0;n<t.length;n++){let i=Hi(t[n]);if(Array.isArray(i)){if(i.length===0)throw new X(900,!1);let r,o=rt.Default;for(let a=0;a<i.length;a++){let l=i[a],d=i7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(re(r,o))}else e.push(re(i))}return e}function HV(t,e){return t[KS]=e,t.prototype[KS]=e,t}function i7(t){return t[KS]}function r7(t,e,n,i){let r=t[h0];throw e[SL]&&r.unshift(e[SL]),t.message=o7(`
`+t.message,r,n,i),t[JW]=r,t[h0]=null,t}function o7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==e7?t.slice(2):t;let r=Gi(e);if(Array.isArray(e))r=e.map(Gi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Gi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(ZW,`
  `)}`}var s7="h",a7="b";var c7=()=>null;function rD(t,e,n=!1){return c7(t,e,n)}var Y_="__parameters__";function l7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function GV(t,e,n){return Zp(()=>{let i=l7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,h,m){let v=d.hasOwnProperty(Y_)?d[Y_]:Object.defineProperty(d,Y_,{value:[]})[Y_];for(;v.length<=m;)v.push(null);return(v[m]=v[m]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ki=HV(GV("Optional"),8);var qV=HV(GV("SkipSelf"),4);function Jd(t,e){let n=t.hasOwnProperty(c0);return n?t[c0]:null}var Zd=new ve(""),zV=new ve("",-1),WV=new ve(""),f0=class{get(e,n=Kp){if(n===Kp){let i=new Error(`NullInjectorError: No provider for ${Gi(e)}!`);throw i.name="NullInjectorError",i}return n}};function nc(t){return{\u0275providers:t}}function im(...t){return{\u0275providers:KV(!0,t),\u0275fromNgModule:!0}}function KV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return JT(e,a=>{let l=a;QS(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&YV(r,o),n}function YV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];oD(r,o=>{e(o,i)})}}function QS(t,e,n,i){if(t=Hi(t),!t)return!1;let r=null,o=CL(t),a=!o&&Qa(t);if(!o&&!a){let d=t.ngModule;if(o=CL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of d)QS(h,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let h;try{JT(o.imports,m=>{QS(m,e,n,i)&&(h||=[],h.push(m))})}finally{}h!==void 0&&YV(h,e)}if(!l){let h=Jd(r)||(()=>new r);e({provide:r,useFactory:h,deps:rr},r),e({provide:WV,useValue:r,multi:!0},r),e({provide:Zd,useValue:()=>re(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let h=t;oD(d,m=>{e(m,h)})}}else return!1;return r!==t&&t.providers!==void 0}function oD(t,e){for(let n of t)UV(n)&&(n=n.\u0275providers),Array.isArray(n)?oD(n,e):e(n)}var u7=$t({provide:String,useValue:$t});function QV(t){return t!==null&&typeof t=="object"&&u7 in t}function d7(t){return!!(t&&t.useExisting)}function h7(t){return!!(t&&t.useFactory)}function eh(t){return typeof t=="function"}function f7(t){return!!t.useClass}var F0=new ve(""),n0={},p7={},DS;function L0(){return DS===void 0&&(DS=new f0),DS}var ci=class{},Yp=class extends ci{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,JS(e,a=>this.processProvider(a)),this.records.set(zV,Hd(void 0,this)),r.has("environment")&&this.records.set(ci,Hd(void 0,this));let o=this.records.get(F0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(WV,rr,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Mt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Mt(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ka(this),i=Nr(void 0),r;try{return e()}finally{Ka(n),Nr(i)}}get(e,n=Kp,i=rt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gL))return e[gL](this);i=k0(i);let r,o=Ka(this),a=Nr(void 0);try{if(!(i&rt.SkipSelf)){let d=this.records.get(e);if(d===void 0){let h=_7(e)&&N0(e);h&&this.injectableDefInScope(h)?d=Hd(XS(e),n0):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&rt.Self?L0():this.parent;return n=i&rt.Optional&&n===Kp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[h0]=l[h0]||[]).unshift(Gi(e)),o)throw l;return r7(l,e,"R3InjectorError",this.source)}else throw l}finally{Nr(a),Ka(o)}}resolveInjectorInitializers(){let e=Mt(null),n=Ka(this),i=Nr(void 0),r;try{let o=this.get(Zd,rr,rt.Self);for(let a of o)a()}finally{Ka(n),Nr(i),Mt(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Gi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=Hi(e);let n=eh(e)?e:Hi(e&&e.provide),i=g7(e);if(!eh(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Hd(void 0,n0,!0),r.factory=()=>YS(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Mt(null);try{return n.value===n0&&(n.value=p7,n.value=n.factory()),typeof n.value=="object"&&n.value&&y7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Mt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Hi(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function XS(t){let e=N0(t),n=e!==null?e.factory:Jd(t);if(n!==null)return n;if(t instanceof ve)throw new X(204,!1);if(t instanceof Function)return m7(t);throw new X(204,!1)}function m7(t){if(t.length>0)throw new X(204,!1);let n=qW(t);return n!==null?()=>n.factory(t):()=>new t}function g7(t){if(QV(t))return Hd(void 0,t.useValue);{let e=XV(t);return Hd(e,n0)}}function XV(t,e,n){let i;if(eh(t)){let r=Hi(t);return Jd(r)||XS(r)}else if(QV(t))i=()=>Hi(t.useValue);else if(h7(t))i=()=>t.useFactory(...YS(t.deps||[]));else if(d7(t))i=()=>re(Hi(t.useExisting));else{let r=Hi(t&&(t.useClass||t.provide));if(v7(t))i=()=>new r(...YS(t.deps));else return Jd(r)||XS(r)}return i}function Hd(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function v7(t){return!!t.deps}function y7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _7(t){return typeof t=="function"||typeof t=="object"&&t instanceof ve}function JS(t,e){for(let n of t)Array.isArray(n)?JS(n,e):n&&UV(n)?JS(n.\u0275providers,e):e(n)}function Zs(t,e){t instanceof Yp&&t.assertNotDestroyed();let n,i=Ka(t),r=Nr(void 0);try{return e()}finally{Ka(i),Nr(r)}}function w7(t){if(!BV()&&!t7())throw new X(-203,!1)}function b7(t){return typeof t=="function"}var ZS=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function JV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function ns(){return ZV}function ZV(t){return t.type.prototype.ngOnChanges&&(t.setInput=C7),E7}ns.ngInherit=!0;function E7(){let t=t3(this),e=t?.current;if(e){let n=t.previous;if(n===Wd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function C7(t,e,n,i,r){let o=this.declaredInputs[i],a=t3(t)||I7(t,{previous:Wd,current:null}),l=a.current||(a.current={}),d=a.previous,h=d[o];l[o]=new ZS(h&&h.currentValue,n,d===Wd),JV(t,e,r,n)}var e3="__ngSimpleChanges__";function t3(t){return t[e3]||null}function I7(t,e){return t[e3]=e}var TL=null;var Wo=function(t,e,n){TL?.(t,e,n)};function S7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=ZV(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function V0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),h&&((t.viewHooks??=[]).push(n,h),(t.viewCheckHooks??=[]).push(n,h)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function i0(t,e,n){n3(t,e,3,n)}function r0(t,e,n,i){(t[Re]&3)===n&&n3(t,e,n,i)}function AS(t,e){let n=t[Re];(n&3)===e&&(n&=16383,n+=1,t[Re]=n)}function n3(t,e,n,i){let r=i!==void 0?t[$d]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[$d]+=65536),(l<o||o==-1)&&(T7(t,n,e,d),t[$d]=(t[$d]&4294901760)+d+2),d++}function DL(t,e){Wo(4,t,e);let n=Mt(null);try{e.call(t)}finally{Mt(n),Wo(5,t,e)}}function T7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[Re]>>14<t[$d]>>16&&(t[Re]&3)===e&&(t[Re]+=16384,DL(l,o)):DL(l,o)}var zd=-1,bl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function D7(t){return t instanceof bl}function A7(t){return(t.flags&8)!==0}function x7(t){return(t.flags&16)!==0}function i3(t){return t!==zd}function p0(t){return t&32767}function M7(t){return t>>16}function m0(t,e){let n=M7(t),i=e;for(;n>0;)i=i[ih],n--;return i}var eT=!0;function AL(t){let e=eT;return eT=t,e}var P7=256,r3=P7-1,o3=5,O7=0,Ko={};function R7(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty($p)&&(i=n[$p]),i==null&&(i=n[$p]=O7++);let r=i&r3,o=1<<r;e.data[t+(r>>o3)]|=o}function g0(t,e){let n=s3(t,e);if(n!==-1)return n;let i=e[nt];i.firstCreatePass&&(t.injectorIndex=e.length,xS(i.data,t),xS(e,null),xS(i.blueprint,null));let r=sD(t,e),o=t.injectorIndex;if(i3(r)){let a=p0(r),l=m0(r,e),d=l[nt].data;for(let h=0;h<8;h++)e[o+h]=l[a+h]|d[a+h]}return e[o+8]=r,o}function xS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function s3(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sD(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=d3(r),i===null)return zd;if(n++,r=r[ih],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return zd}function tT(t,e,n){R7(t,e,n)}function N7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(sV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function a3(t,e,n){if(n&rt.Optional||t!==void 0)return t;iD(e,"NodeInjector")}function c3(t,e,n,i){if(n&rt.Optional&&i===void 0&&(i=null),!(n&(rt.Self|rt.Host))){let r=t[Kd],o=Nr(void 0);try{return r?r.get(e,i,n&rt.Optional):$V(e,i,n&rt.Optional)}finally{Nr(o)}}return a3(i,e,n)}function l3(t,e,n,i=rt.Default,r){if(t!==null){if(e[Re]&2048&&!(i&rt.Self)){let a=V7(t,e,n,i,Ko);if(a!==Ko)return a}let o=u3(t,e,n,i,Ko);if(o!==Ko)return o}return c3(e,n,i,r)}function u3(t,e,n,i,r){let o=F7(n);if(typeof o=="function"){if(!TV(e,t,i))return i&rt.Host?a3(r,n,i):c3(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&rt.Optional))iD(n);else return a}finally{MV()}}else if(typeof o=="number"){let a=null,l=s3(t,e),d=zd,h=i&rt.Host?e[Qo][yo]:null;for((l===-1||i&rt.SkipSelf)&&(d=l===-1?sD(t,e):e[l+8],d===zd||!ML(i,!1)?l=-1:(a=e[nt],l=p0(d),e=m0(d,e)));l!==-1;){let m=e[nt];if(xL(o,l,m.data)){let v=k7(l,e,n,a,i,h);if(v!==Ko)return v}d=e[l+8],d!==zd&&ML(i,e[nt].data[l+8]===h)&&xL(o,l,e)?(a=m,l=p0(d),e=m0(d,e)):l=-1}}return r}function k7(t,e,n,i,r,o){let a=e[nt],l=a.data[t+8],d=i==null?x0(l)&&eT:i!=a&&(l.type&3)!==0,h=r&rt.Host&&o===l,m=o0(l,a,n,d,h);return m!==null?El(e,a,m,l):Ko}function o0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,h=t.directiveEnd,m=o>>20,v=i?l:l+m,y=r?l+m:h;for(let b=v;b<y;b++){let w=a[b];if(b<d&&n===w||b>=d&&w.type===n)return b}if(r){let b=a[d];if(b&&Ks(b)&&b.type===n)return d}return null}function El(t,e,n,i){let r=t[n],o=e.data;if(D7(r)){let a=r;a.resolving&&QW(YW(o[n]));let l=AL(a.canSeeViewProviders);a.resolving=!0;let d,h=a.injectImpl?Nr(a.injectImpl):null,m=TV(t,i,rt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&S7(n,o[n],e)}finally{h!==null&&Nr(h),AL(l),a.resolving=!1,MV()}}return r}function F7(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($p)?t[$p]:void 0;return typeof e=="number"?e>=0?e&r3:L7:e}function xL(t,e,n){let i=1<<t;return!!(n[e+(t>>o3)]&i)}function ML(t,e){return!(t&rt.Self)&&!(t&rt.Host&&e)}var vl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return l3(this._tNode,this._lView,e,k0(i),n)}};function L7(){return new vl(zi(),_t())}function or(t){return Zp(()=>{let e=t.prototype.constructor,n=e[c0]||nT(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[c0]||nT(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function nT(t){return jV(t)?()=>{let e=nT(Hi(t));return e&&e()}:Jd(t)}function V7(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[Re]&2048&&!(a[Re]&512);){let l=u3(o,a,n,i|rt.Self,Ko);if(l!==Ko)return l;let d=o.parent;if(!d){let h=a[mV];if(h){let m=h.get(n,Ko,i);if(m!==Ko)return m}d=d3(a),a=a[ih]}o=d}return r}function d3(t){let e=t[nt],n=e.type;return n===2?e.declTNode:n===1?t[yo]:null}function aD(t){return N7(zi(),t)}function PL(t,e=null,n=null,i){let r=h3(t,e,n,i);return r.resolveInjectorInitializers(),r}function h3(t,e=null,n=null,i,r=new Set){let o=[n||rr,im(t)];return i=i||(typeof t=="object"?void 0:Gi(t)),new Yp(o,e||L0(),i||null,r)}var Wt=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return PL({name:""},r,i,"");{let o=i.name??"";return PL({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Kp,e.NULL=new f0,e.\u0275prov=ee({token:e,providedIn:"any",factory:()=>re(zV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),j7="ngOriginalError";function MS(t){return t[j7]}var Zo=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&MS(e);for(;n&&MS(n);)n=MS(n);return n||null}},f3=new ve("",{providedIn:"root",factory:()=>te(Zo).handleError.bind(void 0)});var p3=!1,U7=new ve("",{providedIn:"root",factory:()=>p3}),Q_;function B7(){if(Q_===void 0&&(Q_=null,qs.trustedTypes))try{Q_=qs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Q_}function j0(t){return B7()?.createHTML(t)||t}var X_;function $7(){if(X_===void 0&&(X_=null,qs.trustedTypes))try{X_=qs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return X_}function OL(t){return $7()?.createScriptURL(t)||t}var Ys=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iV})`}},iT=class extends Ys{getTypeName(){return"HTML"}},rT=class extends Ys{getTypeName(){return"Style"}},oT=class extends Ys{getTypeName(){return"Script"}},sT=class extends Ys{getTypeName(){return"URL"}},aT=class extends Ys{getTypeName(){return"ResourceURL"}};function Lr(t){return t instanceof Ys?t.changingThisBreaksApplicationSecurity:t}function ic(t,e){let n=H7(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iV})`)}return n===e}function H7(t){return t instanceof Ys&&t.getTypeName()||null}function m3(t){return new iT(t)}function g3(t){return new rT(t)}function v3(t){return new oT(t)}function y3(t){return new sT(t)}function _3(t){return new aT(t)}function G7(t){let e=new lT(t);return q7()?new cT(e):e}var cT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(j0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},lT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=j0(e),n}};function q7(){try{return!!new window.DOMParser().parseFromString(j0(""),"text/html")}catch{return!1}}var z7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function U0(t){return t=String(t),t.match(z7)?t:"unsafe:"+t}function ea(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function rm(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var w3=ea("area,br,col,hr,img,wbr"),b3=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),E3=ea("rp,rt"),W7=rm(E3,b3),K7=rm(b3,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Y7=rm(E3,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),RL=rm(w3,K7,Y7,W7),C3=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q7=ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X7=ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),J7=rm(C3,Q7,X7),Z7=ea("script,style,template"),uT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!RL.hasOwnProperty(n))return this.sanitizedSomething=!0,!Z7.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!J7.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;C3[l]&&(d=U0(d)),this.buf.push(" ",a,'="',NL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();RL.hasOwnProperty(n)&&!w3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(NL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},eK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tK=/([^\#-~ |!])/g;function NL(t){return t.replace(/&/g,"&amp;").replace(eK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(tK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var J_;function I3(t,e){let n=null;try{J_=J_||G7(t);let i=e?String(e):"";n=J_.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=J_.getInertBodyElement(i)}while(i!==o);let l=new uT().sanitizeChildren(kL(n)||n);return j0(l)}finally{if(n){let i=kL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function kL(t){return"content"in t&&nK(t)?t.content:null}function nK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var is=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(is||{});function Ai(t){let e=T3();return e?e.sanitize(is.URL,t)||"":ic(t,"URL")?Lr(t):U0(Xd(t))}function cD(t){let e=T3();if(e)return OL(e.sanitize(is.RESOURCE_URL,t)||"");if(ic(t,"ResourceURL"))return OL(Lr(t));throw new X(904,!1)}function iK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?cD:Ai}function S3(t,e,n){return iK(e,n)(t)}function T3(){let t=_t();return t&&t[zs].sanitizer}var rK=/^>|^->|<!--|-->|--!>|<!-$/g,oK=/(<|>)/g,sK="\u200B$1\u200B";function aK(t){return t.replace(rK,e=>e.replace(oK,sK))}var D3=new Map,cK=0;function lK(){return cK++}function uK(t){D3.set(t[A0],t)}function dK(t){D3.delete(t[A0])}var FL="__ngContext__";function Xa(t,e){gl(e)?(t[FL]=e[A0],uK(e)):t[FL]=e}function yn(t){return t.ownerDocument.defaultView}function A3(t){return t instanceof Function?t():t}var Qs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qs||{}),hK;function lD(t,e){return hK(t,e)}function Gd(t,e,n,i,r){if(i!=null){let o,a=!1;Js(i)?o=i:gl(i)&&(a=!0,i=i[ts]);let l=Jo(i);t===0&&n!==null?r==null?R3(e,n,l):v0(e,n,l,r||null,!0):t===1&&n!==null?v0(e,n,l,r||null,!0):t===2?MK(e,l,a):t===3&&e.destroyNode(l),o!=null&&OK(e,t,o,n,r)}}function fK(t,e){return t.createText(e)}function pK(t,e,n){t.setValue(e,n)}function mK(t,e){return t.createComment(aK(e))}function x3(t,e,n){return t.createElement(e,n)}function gK(t,e){M3(t,e),e[ts]=null,e[yo]=null}function vK(t,e,n,i,r,o){i[ts]=r,i[yo]=e,$0(t,i,n,1,r,o)}function M3(t,e){$0(t,e,e[vn],2,null,null)}function yK(t){let e=t[qp];if(!e)return PS(t[nt],t);for(;e;){let n=null;if(gl(e))n=e[qp];else{let i=e[br];i&&(n=i)}if(!n){for(;e&&!e[mo]&&e!==t;)gl(e)&&PS(e[nt],e),e=e[gi];e===null&&(e=t),gl(e)&&PS(e[nt],e),n=e&&e[mo]}e=n}}function _K(t,e,n,i){let r=br+i,o=n.length;i>0&&(n[r-1][mo]=e),i<o-br?(e[mo]=n[r],OV(n,br+i,e)):(n.push(e),e[mo]=null),e[gi]=n;let a=e[em];a!==null&&n!==a&&wK(a,e);let l=e[Ws];l!==null&&l.insertView(t),HS(e),e[Re]|=128}function wK(t,e){let n=t[Yd],r=e[gi][gi][Qo];e[Qo]!==r&&(t[Re]|=HT.HasTransplantedViews),n===null?t[Yd]=[e]:n.push(e)}function P3(t,e){let n=t[Yd],i=n.indexOf(e);n.splice(i,1)}function dT(t,e){if(t.length<=br)return;let n=br+e,i=t[n];if(i){let r=i[em];r!==null&&r!==t&&P3(r,i),e>0&&(t[n-1][mo]=i[mo]);let o=d0(t,br+e);gK(i[nt],i);let a=o[Ws];a!==null&&a.detachView(o[nt]),i[gi]=null,i[mo]=null,i[Re]&=-129}return i}function O3(t,e){if(!(e[Re]&256)){let n=e[vn];n.destroyNode&&$0(t,e,n,3,null,null),yK(e)}}function PS(t,e){if(e[Re]&256)return;let n=Mt(null);try{e[Re]&=-129,e[Re]|=256,e[yl]&&nS(e[yl]),EK(t,e),bK(t,e),e[nt].type===1&&e[vn].destroy();let i=e[em];if(i!==null&&Js(e[gi])){i!==e[gi]&&P3(i,e);let r=e[Ws];r!==null&&r.detachView(t)}dK(e)}finally{Mt(n)}}function bK(t,e){let n=t.cleanup,i=e[Gp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[Gp]=null);let r=e[Ya];if(r!==null){e[Ya]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function EK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof bl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Wo(4,l,d);try{d.call(l)}finally{Wo(5,l,d)}}else{Wo(4,r,o);try{o.call(r)}finally{Wo(5,r,o)}}}}}function CK(t,e,n){return IK(t,e.parent,n)}function IK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ts];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Yo.None||o===Yo.Emulated)return null}return kr(i,n)}}function v0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function R3(t,e,n){t.appendChild(e,n)}function LL(t,e,n,i,r){i!==null?v0(t,e,n,i,r):R3(t,e,n)}function SK(t,e,n,i){t.removeChild(e,n,i)}function uD(t,e){return t.parentNode(e)}function TK(t,e){return t.nextSibling(e)}function DK(t,e,n){return xK(t,e,n)}function AK(t,e,n){return t.type&40?kr(t,n):null}var xK=AK,VL;function B0(t,e,n,i){let r=CK(t,i,e),o=e[vn],a=i.parent||e[yo],l=DK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)LL(o,r,n[d],l,!1);else LL(o,r,n,l,!1);VL!==void 0&&VL(o,i,e,n,r)}function s0(t,e){if(e!==null){let n=e.type;if(n&3)return kr(e,t);if(n&4)return hT(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return s0(t,i);{let r=t[e.index];return Js(r)?hT(-1,r):Jo(r)}}else{if(n&32)return lD(e,t)()||Jo(t[e.index]);{let i=N3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Wp(t[Qo]);return s0(r,i)}else return s0(t,e.next)}}}return null}function N3(t,e){if(e!==null){let i=t[Qo][yo],r=e.projection;return i.projection[r]}return null}function hT(t,e){let n=br+t+1;if(n<e.length){let i=e[n],r=i[nt].firstChild;if(r!==null)return s0(i,r)}return e[_l]}function MK(t,e,n){let i=uD(t,e);i&&SK(t,i,e,n)}function dD(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&Xa(Jo(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)dD(t,e,n.child,i,r,o,!1),Gd(e,t,r,l,o);else if(d&32){let h=lD(n,i),m;for(;m=h();)Gd(e,t,r,m,o);Gd(e,t,r,l,o)}else d&16?PK(t,e,i,n,r,o):Gd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function $0(t,e,n,i,r,o){dD(n,i,t.firstChild,e,r,o,!1)}function PK(t,e,n,i,r,o){let a=n[Qo],d=a[yo].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let m=d[h];Gd(e,t,r,m,o)}else{let h=d,m=a[gi];NV(i)&&(h.flags|=128),dD(t,e,h,m,r,o,!0)}}function OK(t,e,n,i,r){let o=n[_l],a=Jo(n);o!==a&&Gd(e,t,i,o,r);for(let l=br;l<n.length;l++){let d=n[l];$0(d[nt],d,t,e,i,o)}}function RK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Qs.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Qs.Important),t.setStyle(n,i,r,o))}}function NK(t,e,n){t.setAttribute(e,"style",n)}function k3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function F3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&$S(t,e,i),r!==null&&k3(t,e,r),o!==null&&NK(t,e,o)}var Vr={};function D(t=1){L3(Yn(),_t(),ec()+t,!1)}function L3(t,e,n,i){if(!i)if((e[Re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&i0(e,o,n)}else{let o=t.preOrderHooks;o!==null&&r0(e,o,0,n)}wl(n)}function N(t,e=rt.Default){let n=_t();if(n===null)return re(t,e);let i=zi();return l3(i,n,Hi(t),e)}function V3(t,e,n,i,r,o){let a=Mt(null);try{let l=null;r&Ae.SignalBased&&(l=e[i][$a]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):JV(e,l,i,o)}finally{Mt(a)}}function kK(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)wl(~r);else{let o=r,a=n[++i],l=n[++i];OW(a,o);let d=e[o];l(2,d)}}}finally{wl(-1)}}function H0(t,e,n,i,r,o,a,l,d,h,m){let v=e.blueprint.slice();return v[ts]=r,v[Re]=i|4|128|8|64,(h!==null||t&&t[Re]&2048)&&(v[Re]|=2048),yV(v),v[gi]=v[ih]=t,v[go]=n,v[zs]=a||t&&t[zs],v[vn]=l||t&&t[vn],v[Kd]=d||t&&t[Kd]||null,v[yo]=o,v[A0]=lK(),v[l0]=m,v[mV]=h,v[Qo]=e.type==2?t[Qo]:v,v}function om(t,e,n,i,r){let o=t.data[e];if(o===null)o=FK(t,e,n,i,r),PW()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=DW();o.injectorIndex=a===null?-1:a.injectorIndex}return Tl(o,!0),o}function FK(t,e,n,i,r){let o=bV(),a=WT(),l=a?o:o&&o.parent,d=t.data[e]=$K(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function j3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function U3(t,e,n,i,r){let o=ec(),a=i&2;try{wl(-1),a&&e.length>Xo&&L3(t,e,Xo,!1),Wo(a?2:0,r),n(i,r)}finally{wl(o),Wo(a?3:1,r)}}function hD(t,e,n){if(GT(e)){let i=Mt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Mt(i)}}}function fD(t,e,n){wV()&&(KK(t,e,n,kr(n,e)),(n.flags&64)===64&&H3(t,e,n))}function pD(t,e,n=kr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function B3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=mD(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function mD(t,e,n,i,r,o,a,l,d,h,m){let v=Xo+i,y=v+r,b=LK(v,y),w=typeof h=="function"?h():h;return b[nt]={type:t,blueprint:b,template:n,queries:null,viewQuery:l,declTNode:e,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:m}}function LK(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Vr);return n}function VK(t,e,n,i){let o=i.get(U7,p3)||n===Yo.ShadowDom,a=t.selectRootElement(e,o);return jK(a),a}function jK(t){UK(t)}var UK=()=>null;function BK(t,e,n,i){let r=z3(e);r.push(n),t.firstCreatePass&&W3(t).push(i,r.length-1)}function $K(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return IW()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jL(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=Ae.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let h=o;if(r!==null){if(!r.hasOwnProperty(o))continue;h=r[o]}t===0?UL(i,n,h,l,d):UL(i,n,h,l)}return i}function UL(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function HK(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,h=null;for(let m=i;m<r;m++){let v=o[m],y=n?n.get(v):null,b=y?y.inputs:null,w=y?y.outputs:null;d=jL(0,v.inputs,m,d,b),h=jL(1,v.outputs,m,h,w);let C=d!==null&&a!==null&&!cV(e)?oY(d,m,a):null;l.push(C)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=h}function GK(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gD(t,e,n,i,r,o,a,l){let d=kr(e,n),h=e.inputs,m;!l&&h!=null&&(m=h[i])?(yD(t,n,m,i,r),x0(e)&&qK(n,e.index)):e.type&3?(i=GK(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function qK(t,e){let n=Za(e,t);n[Re]&16||(n[Re]|=64)}function vD(t,e,n,i){if(wV()){let r=i===null?null:{"":-1},o=QK(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&$3(t,e,n,a,r,l),r&&XK(n,i,r)}n.mergedAttrs=Hp(n.mergedAttrs,n.attrs)}function $3(t,e,n,i,r,o){for(let h=0;h<i.length;h++)tT(g0(n,e),t,i[h].type);ZK(n,t.data.length,i.length);for(let h=0;h<i.length;h++){let m=i[h];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=j3(t,e,i.length,null);for(let h=0;h<i.length;h++){let m=i[h];n.mergedAttrs=Hp(n.mergedAttrs,m.hostAttrs),eY(t,n,e,d,m),JK(d,m,r),m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let v=m.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}HK(t,n,o)}function zK(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;WK(a)!=l&&a.push(l),a.push(n,i,o)}}function WK(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KK(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;x0(n)&&tY(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||g0(n,e),Xa(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],h=El(e,t,l,n);if(Xa(h,e),a!==null&&rY(e,l-r,h,d,n,a),Ks(d)){let m=Za(n.index,e);m[go]=El(e,t,l,n)}}}function H3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=RW();try{wl(o);for(let l=i;l<r;l++){let d=t.data[l],h=e[l];GS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&YK(d,h)}}finally{wl(-1),GS(a)}}function YK(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QK(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(eW(e,a.selectors,!1))if(i||(i=[]),Ks(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;fT(t,e,d)}else i.unshift(a),fT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function fT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function XK(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new X(-301,!1);i.push(e[r],o)}}}function JK(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ks(e)&&(n[""]=t)}}function ZK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eY(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Jd(r.type,!0)),a=new bl(o,Ks(r),N);t.blueprint[i]=a,n[i]=a,zK(t,e,i,j3(t,n,r.hostVars,Vr),r)}function tY(t,e,n){let i=kr(e,t),r=B3(n),o=t[zs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=G0(t,H0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function nY(t,e,n,i,r,o){let a=kr(t,e);iY(e[vn],a,o,t.value,n,i,r)}function iY(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Xd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function rY(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],h=a[l++],m=a[l++],v=a[l++];V3(i,n,d,h,m,v)}}function oY(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function G3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function q3(t,e){let n=t.contentQueries;if(n!==null){let i=Mt(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];YT(o),l.contentQueries(2,e[a],a)}}}finally{Mt(i)}}}function G0(t,e){return t[qp]?t[bL][mo]=e:t[qp]=e,t[bL]=e,e}function pT(t,e,n){YT(0);let i=Mt(null);try{e(t,n)}finally{Mt(i)}}function z3(t){return t[Gp]||(t[Gp]=[])}function W3(t){return t.cleanup||(t.cleanup=[])}function sY(t,e,n){return(t===null||Ks(t))&&(n=pW(n[e.index])),n[vn]}function K3(t,e){let n=t[Kd],i=n?n.get(Zo,null):null;i&&i.handleError(e)}function yD(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],h=e[a],m=t.data[a];V3(m,h,i,l,d,r)}}function Y3(t,e,n){let i=gV(e,t);pK(t[vn],i,n)}function aY(t,e){let n=Za(e,t),i=n[nt];cY(i,n);let r=n[ts];r!==null&&n[l0]===null&&(n[l0]=rD(r,n[Kd])),_D(i,n,n[go])}function cY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function _D(t,e,n){QT(e);try{let i=t.viewQuery;i!==null&&pT(1,i,n);let r=t.template;r!==null&&U3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ws]?.finishViewCreation(t),t.staticContentQueries&&q3(t,e),t.staticViewQueries&&pT(2,t.viewQuery,n);let o=t.components;o!==null&&lY(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Re]&=-5,XT()}}function lY(t,e){for(let n=0;n<e.length;n++)aY(t,e[n])}function uY(t,e,n,i){let r=Mt(null);try{let o=e.tView,l=t[Re]&4096?4096:16,d=H0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),h=t[e.index];d[em]=h;let m=t[Ws];return m!==null&&(d[Ws]=m.createEmbeddedView(o)),_D(o,d,n),d}finally{Mt(r)}}function BL(t,e){return!e||e.firstChild===null||NV(t)}function dY(t,e,n,i=!0){let r=e[nt];if(_K(r,e,t,n),i){let a=hT(n,t),l=e[vn],d=uD(l,t[_l]);d!==null&&vK(r,t[yo],l,e,d,a)}let o=e[l0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function y0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Jo(o)),Js(o)&&hY(o,i);let a=n.type;if(a&8)y0(t,e,n.child,i);else if(a&32){let l=lD(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=N3(e,n);if(Array.isArray(l))i.push(...l);else{let d=Wp(e[Qo]);y0(d[nt],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function hY(t,e){for(let n=br;n<t.length;n++){let i=t[n],r=i[nt].firstChild;r!==null&&y0(i[nt],i,r,e)}t[_l]!==t[ts]&&e.push(t[_l])}var Q3=[];function fY(t){return t[yl]??pY(t)}function pY(t){let e=Q3.pop()??Object.create(gY);return e.lView=t,e}function mY(t){t.lView[yl]!==t&&(t.lView=null,Q3.push(t))}var gY=Et(Z({},w_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zp(t.lView)},consumerOnSignalRead(){this.lView[yl]=this}});function X3(t){return Z3(t[qp])}function J3(t){return Z3(t[mo])}function Z3(t){for(;t!==null&&!Js(t);)t=t[mo];return t}var ej=100;function tj(t,e=!0,n=0){let i=t[zs],r=i.rendererFactory,o=!1;o||r.begin?.();try{vY(t,n)}catch(a){throw e&&K3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function vY(t,e){mT(t,e);let n=0;for(;zT(t);){if(n===ej)throw new X(103,!1);n++,mT(t,1)}}function yY(t,e,n,i){let r=e[Re];if((r&256)===256)return;let o=!1;!o&&e[zs].inlineEffectRunner?.flush(),QT(e);let a=null,l=null;!o&&_Y(t)&&(l=fY(e),a=eS(l));try{yV(e),MW(t.bindingStartIndex),n!==null&&U3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&i0(e,v,null)}else{let v=t.preOrderHooks;v!==null&&r0(e,v,0,null),AS(e,0)}if(wY(e),nj(e,0),t.contentQueries!==null&&q3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&i0(e,v)}else{let v=t.contentHooks;v!==null&&r0(e,v,1),AS(e,1)}kK(t,e);let h=t.components;h!==null&&rj(e,h,0);let m=t.viewQuery;if(m!==null&&pT(2,m,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&i0(e,v)}else{let v=t.viewHooks;v!==null&&r0(e,v,2),AS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[t0]){for(let v of e[t0])v();e[t0]=null}o||(e[Re]&=-73)}catch(d){throw zp(e),d}finally{l!==null&&(tS(l,a),mY(l)),XT()}}function _Y(t){return t.type!==2}function nj(t,e){for(let n=X3(t);n!==null;n=J3(n))for(let i=br;i<n.length;i++){let r=n[i];ij(r,e)}}function wY(t){for(let e=X3(t);e!==null;e=J3(e)){if(!(e[Re]&HT.HasTransplantedViews))continue;let n=e[Yd];for(let i=0;i<n.length;i++){let r=n[i],o=r[gi];yW(r)}}}function bY(t,e,n){let i=Za(e,t);ij(i,n)}function ij(t,e){qT(t)&&mT(t,e)}function mT(t,e){let i=t[nt],r=t[Re],o=t[yl],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&b_(o)),o&&(o.dirty=!1),t[Re]&=-9217,a)yY(i,t,i.template,t[go]);else if(r&8192){nj(t,1);let l=i.components;l!==null&&rj(t,l,1)}}function rj(t,e,n){for(let i=0;i<e.length;i++)bY(t,e[i],n)}function wD(t){for(t[zs].changeDetectionScheduler?.notify();t;){t[Re]|=64;let e=Wp(t);if(lW(t)&&!e)return t;t=e}return null}var Cl=class{get rootNodes(){let e=this._lView,n=e[nt];return y0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[go]}set context(e){this._lView[go]=e}get destroyed(){return(this._lView[Re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gi];if(Js(e)){let n=e[u0],i=n?n.indexOf(this):-1;i>-1&&(dT(e,i),d0(n,i))}this._attachedToViewContainer=!1}O3(this._lView[nt],this._lView)}onDestroy(e){_V(this._lView,e)}markForCheck(){wD(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){HS(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,tj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,M3(this._lView[nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e,HS(this._lView)}},vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IY;let t=e;return t})(),EY=vo,CY=class extends EY{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=uY(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Cl(r)}};function IY(){return bD(zi(),_t())}function bD(t,e){return t.type&4?new CY(e,t,rh(t,e)):null}var h0e=new RegExp(`^(\\d+)*(${a7}|${s7})*(.*)`);var SY=()=>null;function $L(t,e){return SY(t,e)}var Qp=class{},gT=class{},_0=class{};function TY(t){let e=Error(`No component factory found for ${Gi(t)}.`);return e[DY]=t,e}var DY="ngComponent";var vT=class{resolveComponentFactory(e){throw TY(e)}},q0=(()=>{let e=class e{};e.NULL=new vT;let t=e;return t})(),Il=class{},rs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>AY();let t=e;return t})();function AY(){let t=_t(),e=zi(),n=Za(e.index,t);return(gl(n)?n:t)[vn]}var xY=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),OS={},oj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),yT=class extends oj{constructor(e){super(),this._lView=e}onDestroy(e){return _V(this._lView,e),()=>wW(this._lView,e)}};function MY(){return new yT(_t())}var HL=new Set;function Dl(t){HL.has(t)||(HL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function GL(...t){}function PY(){let t=typeof qs.requestAnimationFrame=="function",e=qs[t?"requestAnimationFrame":"setTimeout"],n=qs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var yt=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=PY().nativeRequestAnimationFrame,NY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,OY,GL,GL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},OY={};function ED(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RY(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_T(t),t.isCheckStableRunning=!0,ED(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_T(t))}function NY(t){let e=()=>{RY(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(kY(l))return n.invokeTask(r,o,a,l);try{return qL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return qL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),zL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,_T(t),ED(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function _T(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zL(t){t._nesting--,ED(t)}function kY(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var sj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function w0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=BS(r,l);else if(o==2){let d=l,h=e[++a];i=BS(i,d+": "+h+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var b0=class extends q0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qa(e);return new th(n,this.ngModule)}};function WL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function FY(t){let e=t.toLowerCase();return e==="svg"?uW:e==="math"?dW:null}var wT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=k0(i);let r=this.injector.get(e,OS,i);return r!==OS||n===OS?r:this.parentInjector.get(e,n,i)}},th=class extends _0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=WL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return WL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Mt(null);try{r=r||this.ngModule;let a=r instanceof ci?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new wT(e,a):e,d=l.get(Il,null);if(d===null)throw new X(407,!1);let h=l.get(xY,null),m=l.get(sj,null),v=l.get(Qp,null),y={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:v},b=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=i?VK(b,i,this.componentDef.encapsulation,l):x3(b,w,FY(w)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let P=null;C!==null&&(P=rD(C,l,!0));let k=mD(0,null,null,1,0,null,null,null,null,null,null),B=H0(null,k,null,T,null,null,y,b,l,null,P);QT(B);let A,J;try{let j=this.componentDef,ie,be=null;j.findHostDirectiveDefs?(ie=[],be=new Map,j.findHostDirectiveDefs(j,ie,be),ie.push(j)):ie=[j];let He=LY(B,C),Xe=VY(He,C,j,ie,B,y,b);J=vV(k,Xo),C&&BY(b,j,C,i),n!==void 0&&$Y(J,this.ngContentSelectors,n),A=UY(Xe,j,ie,be,B,[HY]),_D(k,B,null)}finally{XT()}return new bT(this.componentType,A,rh(J,B),B,J)}finally{Mt(o)}}},bT=class extends gT{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cl(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;yD(o[nt],o,r,e,n),this.previousInputValues.set(e,n);let a=Za(this._tNode.index,o);wD(a)}}get injector(){return new vl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LY(t,e){let n=t[nt],i=Xo;return t[i]=e,om(n,i,2,"#host",null)}function VY(t,e,n,i,r,o,a){let l=r[nt];jY(i,t,e,a);let d=null;e!==null&&(d=rD(e,r[Kd]));let h=o.rendererFactory.createRenderer(e,n),m=16;n.signals?m=4096:n.onPush&&(m=64);let v=H0(r,B3(n),null,m,r[t.index],t,o,h,null,null,d);return l.firstCreatePass&&fT(l,t,i.length-1),G0(r,v),r[t.index]=v}function jY(t,e,n,i){for(let r of t)e.mergedAttrs=Hp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(w0(e,e.mergedAttrs,!0),n!==null&&F3(i,n,e))}function UY(t,e,n,i,r,o){let a=zi(),l=r[nt],d=kr(a,r);$3(l,r,a,n,null,i);for(let m=0;m<n.length;m++){let v=a.directiveStart+m,y=El(r,l,v,a);Xa(y,r)}H3(l,r,a),d&&Xa(d,r);let h=El(r,l,a.directiveStart+a.componentOffset,a);if(t[go]=r[go]=h,o!==null)for(let m of o)m(h,e);return hD(l,a,r),h}function BY(t,e,n,i){if(i)$S(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=oW(e.selectors[0]);r&&$S(t,n,r),o&&o.length>0&&k3(t,n,o.join(" "))}}function $Y(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function HY(){let t=zi();V0(_t()[nt],t)}var vi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GY;let t=e;return t})();function GY(){let t=zi();return cj(t,_t())}var qY=vi,aj=class extends qY{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return rh(this._hostTNode,this._hostLView)}get injector(){return new vl(this._hostTNode,this._hostLView)}get parentInjector(){let e=sD(this._hostTNode,this._hostLView);if(i3(e)){let n=m0(e,this._hostLView),i=p0(e),r=n[nt].data[i+8];return new vl(r,n)}else return new vl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=KL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-br}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=$L(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,BL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!b7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new th(Qa(e)),h=i||this.parentInjector;if(!o&&d.ngModule==null){let C=(a?h:this.parentInjector).get(ci,null);C&&(o=C)}let m=Qa(d.componentType??{}),v=$L(this._lContainer,m?.id??null),y=v?.firstChild??null,b=d.create(h,r,y,o);return this.insertImpl(b.hostView,l,BL(this._hostTNode,v)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(vW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[gi],h=new aj(d,d[yo],d[gi]);h.detach(h.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return dY(a,r,o,i),e.attachToViewContainerRef(),OV(RS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=KL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=dT(this._lContainer,n);i&&(d0(RS(this._lContainer),n),O3(i[nt],i))}detach(e){let n=this._adjustIndex(e,-1),i=dT(this._lContainer,n);return i&&d0(RS(this._lContainer),n)!=null?new Cl(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function KL(t){return t[u0]}function RS(t){return t[u0]||(t[u0]=[])}function cj(t,e){let n,i=e[t.index];return Js(i)?n=i:(n=G3(i,e,null,t),e[t.index]=n,G0(e,n)),WY(n,e,t,i),new aj(n,t,e)}function zY(t,e){let n=t[vn],i=n.createComment(""),r=kr(e,t),o=uD(n,r);return v0(n,o,i,TK(n,r),!1),i}var WY=QY,KY=()=>!1;function YY(t,e,n){return KY(t,e,n)}function QY(t,e,n,i){if(t[_l])return;let r;n.type&8?r=Jo(i):r=zY(e,n),t[_l]=r}var ET=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},CT=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)CD(e,n).matches!==null&&this.queries[n].setDirty()}},IT=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=rQ(e):this.predicate=e}},ST=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},TT=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,XY(n,o)),this.matchTNodeWithReadOption(e,n,o0(n,e,o,!1,!1))}else i===vo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,o0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===sn||r===vi||r===vo&&n.type&4)this.addMatch(n.index,-2);else{let o=o0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function XY(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function JY(t,e){return t.type&11?rh(t,e):t.type&4?bD(t,e):null}function ZY(t,e,n,i){return n===-1?JY(e,t):n===-2?eQ(t,e,i):El(t,t[nt],n,e)}function eQ(t,e,n){if(n===sn)return rh(e,t);if(n===vo)return bD(e,t);if(n===vi)return cj(e,t)}function lj(t,e,n,i){let r=e[Ws].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let h=a[d];if(h<0)l.push(null);else{let m=o[h];l.push(ZY(e,m,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function DT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=lj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let h=o[l+1],m=e[-d];for(let v=br;v<m.length;v++){let y=m[v];y[em]===y[gi]&&DT(y[nt],y,h,i)}if(m[Yd]!==null){let v=m[Yd];for(let y=0;y<v.length;y++){let b=v[y];DT(b[nt],b,h,i)}}}}}return i}function tQ(t,e){return t[Ws].queries[e].queryList}function nQ(t,e,n){let i=new qS((n&4)===4);return BK(t,e,i,i.destroy),(e[Ws]??=new CT).queries.push(new ET(i))-1}function iQ(t,e,n){let i=Yn();return i.firstCreatePass&&(oQ(i,new IT(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),nQ(i,_t(),e)}function rQ(t){return t.split(",").map(e=>e.trim())}function oQ(t,e,n){t.queries===null&&(t.queries=new ST),t.queries.track(new TT(e,n))}function CD(t,e){return t.queries.getByIndex(e)}function sQ(t,e){let n=t[nt],i=CD(n,e);return i.crossesNgTemplate?DT(n,t,e,[]):lj(n,t,i,e)}function aQ(t){return typeof t=="function"&&t[$a]!==void 0}function oh(t,e){Dl("NgSignals");let n=j2(t),i=n[$a];return e?.equal&&(i.equal=e.equal),n.set=r=>iS(i,r),n.update=r=>U2(i,r),n.asReadonly=cQ.bind(n),n}function cQ(){let t=this[$a];if(t.readonlyFn===void 0){let e=()=>this();e[$a]=t,t.readonlyFn=e}return t.readonlyFn}function uj(t){return aQ(t)&&typeof t.set=="function"}function lQ(t){return Object.getPrototypeOf(t.prototype).constructor}function Ct(t){let e=lQ(t.type),n=!0,i=[t];for(;e;){let r;if(Ks(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=Z_(t.inputs),a.inputTransforms=Z_(t.inputTransforms),a.declaredInputs=Z_(t.declaredInputs),a.outputs=Z_(t.outputs);let l=r.hostBindings;l&&pQ(t,l);let d=r.viewQuery,h=r.contentQueries;if(d&&hQ(t,d),h&&fQ(t,h),uQ(t,r),Gz(t.outputs,r.outputs),Ks(r)&&r.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}dQ(i)}function uQ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function dQ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Hp(r.hostAttrs,n=Hp(n,r.hostAttrs))}}function Z_(t){return t===Wd?{}:t===rr?[]:t}function hQ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function fQ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function pQ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function sm(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Ja=class{},Xp=class{};var AT=class extends Ja{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new b0(this);let r=hV(e);this._bootstrapComponents=A3(r.bootstrap),this._r3Injector=h3(e,n,[{provide:Ja,useValue:this},{provide:q0,useValue:this.componentFactoryResolver},...i],Gi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xT=class extends Xp{constructor(e){super(),this.moduleType=e}create(e){return new AT(this.moduleType,e,[])}};var E0=class extends Ja{constructor(e){super(),this.componentFactoryResolver=new b0(this),this.instance=null;let n=new Yp([...e.providers,{provide:Ja,useValue:this},{provide:q0,useValue:this.componentFactoryResolver}],e.parent||L0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ID(t,e,n=null){return new E0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Al=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dj(t){return gQ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function gQ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hj(t,e,n){return t[e]=n}function vQ(t,e){return t[e]}function es(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function yQ(t,e,n,i){let r=es(t,e,n);return es(t,e+1,i)||r}function _Q(t,e,n,i,r,o,a,l,d){let h=e.consts,m=om(e,t,4,a||null,Qd(h,l));vD(e,n,m,Qd(h,d)),V0(e,m);let v=m.tView=mD(2,m,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,m),v.queries=e.queries.embeddedTView(m)),m}function z(t,e,n,i,r,o,a,l){let d=_t(),h=Yn(),m=t+Xo,v=h.firstCreatePass?_Q(m,h,d,e,n,i,r,o,a):h.data[m];Tl(v,!1);let y=wQ(h,d,v,t);O0()&&B0(h,d,y,v),Xa(y,d);let b=G3(y,d,y,v);return d[m]=b,G0(d,b),YY(b,v,d),M0(v)&&fD(h,d,v),a!=null&&pD(d,v,l),z}var wQ=bQ;function bQ(t,e,n,i){return R0(!0),e[vn].createComment("")}function z0(t,e,n,i){let r=_t(),o=tm();if(es(r,o,e)){let a=Yn(),l=P0();nY(l,r,t,e,n,i)}return z0}function EQ(t,e,n,i){return es(t,tm(),n)?e+Xd(n)+i:Vr}function CQ(t,e,n,i,r,o){let a=xW(),l=yQ(t,a,n,r);return KT(2),l?e+Xd(n)+i+Xd(r)+o:Vr}function e0(t,e){return t<<17|e<<2}function Sl(t){return t>>17&32767}function IQ(t){return(t&2)==2}function SQ(t,e){return t&131071|e<<17}function MT(t){return t|2}function nh(t){return(t&131068)>>2}function NS(t,e){return t&-131069|e<<2}function TQ(t){return(t&1)===1}function PT(t){return t|1}function DQ(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Sl(a),d=nh(a);t[i]=n;let h=!1,m;if(Array.isArray(n)){let v=n;m=v[1],(m===null||nm(v,m)>0)&&(h=!0)}else m=n;if(r)if(d!==0){let y=Sl(t[l+1]);t[i+1]=e0(y,l),y!==0&&(t[y+1]=NS(t[y+1],i)),t[l+1]=SQ(t[l+1],i)}else t[i+1]=e0(l,0),l!==0&&(t[l+1]=NS(t[l+1],i)),l=i;else t[i+1]=e0(d,0),l===0?l=i:t[d+1]=NS(t[d+1],i),d=i;h&&(t[i+1]=MT(t[i+1])),YL(t,m,i,!0),YL(t,m,i,!1),AQ(e,m,t,i,o),a=e0(l,d),o?e.classBindings=a:e.styleBindings=a}function AQ(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&nm(o,e)>=0&&(n[i+1]=PT(n[i+1]))}function YL(t,e,n,i){let r=t[n+1],o=e===null,a=i?Sl(r):nh(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],h=t[a+1];xQ(d,e)&&(l=!0,t[a+1]=i?PT(h):MT(h)),a=i?Sl(h):nh(h)}l&&(t[n+1]=i?MT(r):PT(r))}function xQ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?nm(t,e)>=0:!1}var $i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MQ(t){return t.substring($i.key,$i.keyEnd)}function PQ(t){return t.substring($i.value,$i.valueEnd)}function OQ(t){return RQ(t),fj(t,C0(t,0,$i.textEnd))}function fj(t,e){let n=$i.textEnd,i=$i.key=C0(t,e,n);return n===i?-1:(i=$i.keyEnd=NQ(t,i,n),i=QL(t,i,n,58),i=$i.value=C0(t,i,n),i=$i.valueEnd=kQ(t,i,n),QL(t,i,n,59))}function RQ(t){$i.key=0,$i.keyEnd=0,$i.value=0,$i.valueEnd=0,$i.textEnd=t.length}function C0(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function NQ(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function QL(t,e,n,i){return e=C0(t,e,n),e<n&&e++,e}function kQ(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=XL(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=XL(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function XL(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function O(t,e,n){let i=_t(),r=tm();if(es(i,r,e)){let o=Yn(),a=P0();gD(o,a,i,t,e,i[vn],n,!1)}return O}function OT(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";yD(t,n,o[a],a,i)}function jr(t,e,n){return pj(t,e,n,!1),jr}function it(t,e){return pj(t,e,null,!0),it}function W0(t){LQ(vj,FQ,t,!1)}function FQ(t,e){for(let n=OQ(e);n>=0;n=fj(e,n))vj(t,MQ(e),PQ(e))}function pj(t,e,n,i){let r=_t(),o=Yn(),a=KT(2);if(o.firstUpdatePass&&gj(o,t,a,i),e!==Vr&&es(r,a,e)){let l=o.data[ec()];yj(o,l,r,r[vn],t,r[a+1]=GQ(e,n),i,a)}}function LQ(t,e,n,i){let r=Yn(),o=KT(2);r.firstUpdatePass&&gj(r,null,o,i);let a=_t();if(n!==Vr&&es(a,o,n)){let l=r.data[ec()];if(_j(l,i)&&!mj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=BS(d,n||"")),OT(r,l,a,n,i)}else HQ(r,l,a,a[vn],a[o+1],a[o+1]=$Q(t,e,n),i,o)}}function mj(t,e){return e>=t.expandoStartIndex}function gj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[ec()],a=mj(t,n);_j(o,i)&&e===null&&!a&&(e=!1),e=VQ(r,o,e,i),DQ(r,o,e,n,a,i)}}function VQ(t,e,n,i){let r=IV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=kS(null,t,e,n,i),n=Jp(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=kS(r,t,e,n,i),o===null){let d=jQ(t,e,i);d!==void 0&&Array.isArray(d)&&(d=kS(null,t,e,d[1],i),d=Jp(d,e.attrs,i),UQ(t,e,i,d))}else o=BQ(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function jQ(t,e,n){let i=n?e.classBindings:e.styleBindings;if(nh(i)!==0)return t[Sl(i)]}function UQ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Sl(r)]=i}function BQ(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Jp(i,a,n)}return Jp(i,e.attrs,n)}function kS(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=Jp(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function Jp(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),RV(t,a,n?!0:e[++o]))}return t===void 0?null:t}function $Q(t,e,n){if(n==null||n==="")return rr;let i=[],r=Lr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function vj(t,e,n){RV(t,e,Lr(n))}function HQ(t,e,n,i,r,o,a,l){r===Vr&&(r=rr);let d=0,h=0,m=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;m!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,b=h<o.length?o[h+1]:void 0,w=null,C;m===v?(d+=2,h+=2,y!==b&&(w=v,C=b)):v===null||m!==null&&m<v?(d+=2,w=m):(h+=2,w=v,C=b),w!==null&&yj(t,e,n,i,w,C,a,l),m=d<r.length?r[d]:null,v=h<o.length?o[h]:null}}function yj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,h=d[l+1],m=TQ(h)?JL(d,e,n,r,nh(h),a):void 0;if(!I0(m)){I0(o)||IQ(h)&&(o=JL(d,null,n,r,l,a));let v=gV(ec(),n);RK(i,a,v,r,o)}}function JL(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],h=Array.isArray(d),m=h?d[1]:d,v=m===null,y=n[r+1];y===Vr&&(y=v?rr:void 0);let b=v?TS(y,i):m===i?y:void 0;if(h&&!I0(b)&&(b=TS(d,i)),I0(b)&&(l=b,a))return l;let w=t[r+1];r=a?Sl(w):nh(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=TS(d,i))}return l}function I0(t){return t!==void 0}function GQ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Gi(Lr(t)))),t}function _j(t,e){return(t.flags&(e?8:16))!==0}function qQ(t,e,n,i,r,o){let a=e.consts,l=Qd(a,r),d=om(e,t,2,i,l);return vD(e,n,d,Qd(a,o)),d.attrs!==null&&w0(d,d.attrs,!1),d.mergedAttrs!==null&&w0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function I(t,e,n,i){let r=_t(),o=Yn(),a=Xo+t,l=r[vn],d=o.firstCreatePass?qQ(a,o,r,e,n,i):o.data[a],h=zQ(o,r,d,l,e,t);r[a]=h;let m=M0(d);return Tl(d,!0),F3(l,h,d),(d.flags&32)!==32&&O0()&&B0(o,r,h,d),bW()===0&&Xa(h,r),EW(),m&&(fD(o,r,d),hD(o,d,r)),i!==null&&pD(r,d),I}function S(){let t=zi();WT()?EV():(t=t.parent,Tl(t,!1));let e=t;SW(e)&&TW(),CW();let n=Yn();return n.firstCreatePass&&(V0(n,t),GT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&A7(e)&&OT(n,e,_t(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&x7(e)&&OT(n,e,_t(),e.stylesWithoutHost,!1),S}function oe(t,e,n,i){return I(t,e,n,i),S(),oe}var zQ=(t,e,n,i,r,o)=>(R0(!0),x3(i,r,FW()));function WQ(t,e,n,i,r){let o=e.consts,a=Qd(o,i),l=om(e,t,8,"ng-container",a);a!==null&&w0(l,a,!0);let d=Qd(o,r);return vD(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function ut(t,e,n){let i=_t(),r=Yn(),o=t+Xo,a=r.firstCreatePass?WQ(o,r,i,e,n):r.data[o];Tl(a,!0);let l=KQ(r,i,a,t);return i[o]=l,O0()&&B0(r,i,l,a),Xa(l,i),M0(a)&&(fD(r,i,a),hD(r,a,i)),n!=null&&pD(i,a),ut}function dt(){let t=zi(),e=Yn();return WT()?EV():(t=t.parent,Tl(t,!1)),e.firstCreatePass&&(V0(e,t),GT(t)&&e.queries.elementEnd(t)),dt}function SD(t,e,n){return ut(t,e,n),dt(),SD}var KQ=(t,e,n,i)=>(R0(!0),mK(e[vn],""));function le(){return _t()}function ta(t,e,n){let i=_t(),r=tm();if(es(i,r,e)){let o=Yn(),a=P0(),l=IV(o.data),d=sY(l,a,i);gD(o,a,i,t,e,d,n,!0)}return ta}var S0="en-US";var YQ=S0;function QQ(t){typeof t=="string"&&(YQ=t.toLowerCase().replace(/_/g,"-"))}function R(t,e,n,i){let r=_t(),o=Yn(),a=zi();return wj(o,r,r[vn],a,t,e,i),R}function XQ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[Gp],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function wj(t,e,n,i,r,o,a){let l=M0(i),h=t.firstCreatePass&&W3(t),m=e[go],v=z3(e),y=!0;if(i.type&3||a){let C=kr(i,e),T=a?a(C):C,P=v.length,k=a?A=>a(Jo(A[i.index])):i.index,B=null;if(!a&&l&&(B=XQ(t,e,r,i.index)),B!==null){let A=B.__ngLastListenerFn__||B;A.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,y=!1}else{o=eV(i,e,m,o,!1);let A=n.listen(T,r,o);v.push(o,A),h&&h.push(r,k,P,P+1)}}else o=eV(i,e,m,o,!1);let b=i.outputs,w;if(y&&b!==null&&(w=b[r])){let C=w.length;if(C)for(let T=0;T<C;T+=2){let P=w[T],k=w[T+1],J=e[P][k].subscribe(o),j=v.length;if(v.push(o,J),h){let ie=typeof J=="function"?j+1:-(j+1);h.push(r,i.index,j,ie)}}}}function ZL(t,e,n,i){let r=Mt(null);try{return Wo(6,e,n),n(i)!==!1}catch(o){return K3(t,o),!1}finally{Wo(7,e,n),Mt(r)}}function eV(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?Za(t.index,e):e;wD(l);let d=ZL(e,n,i,a),h=o.__ngNextListenerFn__;for(;h;)d=ZL(e,n,h,a)&&d,h=h.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function M(t=1){return kW(t)}function bj(t,e,n){iQ(t,e,n)}function TD(t){let e=_t(),n=Yn(),i=SV();YT(i+1);let r=CD(n,i);if(t.dirty&&gW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=sQ(e,i);t.reset(o,VW),t.notifyOnChanges()}return!0}return!1}function DD(){return tQ(_t(),SV())}function Ej(t){let e=AW();return mW(e,Xo+t)}function $(t,e=""){let n=_t(),i=Yn(),r=t+Xo,o=i.firstCreatePass?om(i,r,1,e,null):i.data[r],a=JQ(i,n,o,e,t);n[r]=a,O0()&&B0(i,n,a,o),Tl(o,!1)}var JQ=(t,e,n,i,r)=>(R0(!0),fK(e[vn],i));function _e(t){return am("",t,""),_e}function am(t,e,n){let i=_t(),r=EQ(i,t,e,n);return r!==Vr&&Y3(i,ec(),r),am}function na(t,e,n,i,r){let o=_t(),a=CQ(o,t,e,n,i,r);return a!==Vr&&Y3(o,ec(),a),na}function ke(t,e,n){uj(e)&&(e=e());let i=_t(),r=tm();if(es(i,r,e)){let o=Yn(),a=P0();gD(o,a,i,t,e,i[vn],n,!1)}return ke}function Ve(t,e){let n=uj(t);return n&&t.set(e),n}function Fe(t,e){let n=_t(),i=Yn(),r=zi();return wj(i,n,n[vn],r,t,e),Fe}function ZQ(t,e,n){let i=Yn();if(i.firstCreatePass){let r=Ks(t);RT(n,i.data,i.blueprint,r,!0),RT(e,i.data,i.blueprint,r,!1)}}function RT(t,e,n,i,r){if(t=Hi(t),Array.isArray(t))for(let o=0;o<t.length;o++)RT(t[o],e,n,i,r);else{let o=Yn(),a=_t(),l=zi(),d=eh(t)?t:Hi(t.provide),h=XV(t),m=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(eh(t)||!t.multi){let b=new bl(h,r,N),w=LS(d,e,r?m:m+y,v);w===-1?(tT(g0(l,a),o,d),FS(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(b),a.push(b)):(n[w]=b,a[w]=b)}else{let b=LS(d,e,m+y,v),w=LS(d,e,m,m+y),C=b>=0&&n[b],T=w>=0&&n[w];if(r&&!T||!r&&!C){tT(g0(l,a),o,d);let P=nX(r?tX:eX,n.length,r,i,h);!r&&T&&(n[w].providerFactory=P),FS(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(P),a.push(P)}else{let P=Cj(n[r?w:b],h,!r&&i);FS(o,t,b>-1?b:w,P)}!r&&i&&T&&n[w].componentProviders++}}}function FS(t,e,n,i){let r=eh(e),o=f7(e);if(r||o){let d=(o?Hi(e.useClass):e).prototype.ngOnDestroy;if(d){let h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let m=h.indexOf(n);m===-1?h.push(n,[i,d]):h[m+1].push(i,d)}else h.push(n,d)}}}function Cj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function LS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function eX(t,e,n,i){return NT(this.multi,[])}function tX(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=El(n,n[nt],this.providerFactory.index,i);o=l.slice(0,a),NT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],NT(r,o);return o}function NT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function nX(t,e,n,i,r){let o=new bl(t,n,N);return o.multi=[],o.index=e,o.componentProviders=0,Cj(o,r,i&&!n),o}function sh(t,e=[]){return n=>{n.providersResolver=(i,r)=>ZQ(i,r?r(t):t,e)}}var iX=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=KV(!1,i.type),o=r.length>0?ID([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ee({token:e,providedIn:"environment",factory:()=>new e(re(ci))});let t=e;return t})();function Ee(t){Dl("NgStandalone"),t.getStandaloneInjector=e=>e.get(iX).getOrCreateStandaloneInjector(t)}function ah(t,e,n){let i=CV()+t,r=_t();return r[i]===Vr?hj(r,i,n?e.call(n):e()):vQ(r,i)}function Ij(t,e,n,i){return oX(_t(),CV(),t,e,n,i)}function rX(t,e){let n=t[e];return n===Vr?void 0:n}function oX(t,e,n,i,r,o){let a=e+n;return es(t,a,r)?hj(t,a+1,o?i.call(o,r):i(r)):rX(t,a+1)}var Xs=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Sj=new Xs("17.2.4"),K0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Tj=new ve("");function xl(t){return!!t&&typeof t.then=="function"}function Dj(t){return!!t&&typeof t.subscribe=="function"}var Aj=new ve(""),xj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=te(Aj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(xl(a))i.push(a);else if(Dj(a)){let l=new Promise((d,h)=>{a.subscribe({complete:d,error:h})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y0=new ve("");function sX(){V2(()=>{throw new X(600,!1)})}function aX(t){return t.isBoundToModule}function cX(t,e,n){try{let i=n();return xl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var os=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(f3),this.afterRenderEffectManager=te(sj),this.componentTypes=[],this.components=[],this.isStable=te(Al).hasPendingTasks.pipe(Ne(i=>!i)),this._injector=te(ci)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof _0;if(!this._injector.get(xj).done){let b=!o&&dV(i),w=!1;throw new X(405,w)}let l;o?l=i:l=this._injector.get(q0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=aX(l)?void 0:this._injector.get(Ja),h=r||l.selector,m=l.create(Wt.NULL,[],h,d),v=m.location.nativeElement,y=m.injector.get(Tj,null);return y?.registerApplication(v),m.onDestroy(()=>{this.detachView(m.hostView),VS(this.components,m),y?.unregisterApplication(v)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new X(101,!1);let i=Mt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Mt(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===ej)throw new X(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!jS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>jS(a))&&(r.execute(),!this._views.some(({_lView:a})=>jS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[Re]|=1024):i[Re]&64?a=0:a=1,tj(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;VS(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Y0,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>VS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new X(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jS(t){return zT(t)}var kT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},AD=(()=>{let e=class e{compileModuleSync(i){return new xT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=hV(i),a=A3(o.declarations).reduce((l,d)=>{let h=Qa(d);return h&&l.push(new th(h)),l},[]);return new kT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lX=(()=>{let e=class e{constructor(){this.zone=te(yt),this.applicationRef=te(os)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uX(t){return[{provide:yt,useFactory:t},{provide:Zd,multi:!0,useFactory:()=>{let e=te(lX,{optional:!0});return()=>e.initialize()}},{provide:Zd,multi:!0,useFactory:()=>{let e=te(pX);return()=>{e.initialize()}}},{provide:f3,useFactory:dX}]}function dX(){let t=te(yt),e=te(Zo);return n=>t.runOutsideAngular(()=>e.handleError(n))}function hX(t){let e=uX(()=>new yt(fX(t)));return nc([[],e])}function fX(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pX=(()=>{let e=class e{constructor(){this.subscription=new Pn,this.initialized=!1,this.zone=te(yt),this.pendingTasks=te(Al)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yt.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yt.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mX(){return typeof $localize<"u"&&$localize.locale||S0}var xD=new ve("",{providedIn:"root",factory:()=>te(xD,rt.Optional|rt.SkipSelf)||mX()});var Mj=new ve("");var a0=null;function gX(t=[],e){return Wt.create({name:e,providers:[{provide:F0,useValue:"platform"},{provide:Mj,useValue:new Set([()=>a0=null])},...t]})}function vX(t=[]){if(a0)return a0;let e=gX(t);return a0=e,sX(),yX(e),e}function yX(t){t.get(eD,null)?.forEach(n=>n())}var rc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_X;let t=e;return t})();function _X(t){return wX(zi(),_t(),(t&16)===16)}function wX(t,e,n){if(x0(t)&&!n){let i=Za(t.index,e);return new Cl(i,i)}else if(t.type&47){let i=e[Qo];return new Cl(i,e)}return null}var FT=class{constructor(){}supports(e){return dj(e)}create(e){return new LT(e)}},bX=(t,e)=>e,LT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bX}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<tV(i,r,o)?n:i,l=tV(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let h=l-r,m=d-r;if(h!=m){for(let y=0;y<h;y++){let b=y<o.length?o[y]:o[y]=0,w=b+y;m<=w&&w<h&&(o[y]=b+1)}let v=a.previousIndex;o[v]=m-h}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dj(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,mQ(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new VT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new T0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},VT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},jT=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},T0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new jT,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tV(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function nV(){return new MD([new FT])}var MD=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||nV()),deps:[[e,new qV,new Ki]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new X(901,!1)}};e.\u0275prov=ee({token:e,providedIn:"root",factory:nV});let t=e;return t})();function Pj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=vX(i),o=[hX(),...n||[]],l=new E0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(yt);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(Zo,null),m;d.runOutsideAngular(()=>{m=d.onError.subscribe({next:b=>{h.handleError(b)}})});let v=()=>l.destroy(),y=r.get(Mj);return y.add(v),l.onDestroy(()=>{m.unsubscribe(),y.delete(v)}),cX(h,d,()=>{let b=l.get(xj);return b.runInitializers(),b.donePromise.then(()=>{let w=l.get(xD,S0);QQ(w||S0);let C=l.get(os);return e!==void 0&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}function Yi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var EX=new ve("",{providedIn:"root",factory:()=>te(CX)}),CX=(()=>{let e=class e{};e.\u0275prov=ee({token:e,providedIn:"root",factory:()=>new UT});let t=e;return t})(),UT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=te(Al),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},BT=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=$2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Zo,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function oc(t,e){Dl("NgSignals"),!e?.injector&&w7(oc);let n=e?.injector??te(Wt),i=e?.manualCleanup!==!0?n.get(oj):null,r=new BT(n.get(EX),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(rc,null,{optional:!0});return!o||!(o._lView[Re]&8)?r.watcher.notify():(o._lView[t0]??=[]).push(r.watcher.notify),r}function Q0(t,e){let n=Qa(t),i=e.elementInjector||L0();return new th(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Lj=null;function ia(){return Lj}function Vj(t){Lj??=t}var X0=class{};var yi=new ve(""),jj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(IX),providedIn:"platform"});let t=e;return t})();var IX=(()=>{let e=class e extends jj{constructor(){super(),this._doc=te(yi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Uj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Oj(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Ml(t){return t&&t[0]!=="?"?"?"+t:t}var lh=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(Bj),providedIn:"root"});let t=e;return t})(),SX=new ve(""),Bj=(()=>{let e=class e extends lh{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??te(yi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Uj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Ml(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+Ml(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+Ml(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(re(jj),re(SX,8))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cm=(()=>{let e=class e{constructor(i){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=AX(Oj(Rj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Ml(r))}normalize(i){return e.stripTrailingSlash(DX(this._basePath,Rj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ml(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ml(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Ml,e.joinWithSlash=Uj,e.stripTrailingSlash=Oj,e.\u0275fac=function(r){return new(r||e)(re(lh))},e.\u0275prov=ee({token:e,factory:()=>TX(),providedIn:"root"});let t=e;return t})();function TX(){return new cm(re(lh))}function DX(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Rj(t){return t.replace(/\/index.html$/,"")}function AX(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function J0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var PD=/\s+/,Nj=[],sr=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Nj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(PD):Nj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(PD):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(PD).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(N(sn),N(rs))},e.\u0275dir=Pt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ae.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var OD=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},It=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new OD(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),kj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);kj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(N(vi),N(vo),N(MD))},e.\u0275dir=Pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kj(t,e){t.context.$implicit=e.item}var St=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new RD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Fj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Fj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(N(vi),N(vo))},e.\u0275dir=Pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),RD=class{constructor(){this.$implicit=null,this.ngIf=null}};function Fj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Gi(e)}'.`)}var Te=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=qi({type:e}),e.\u0275inj=Wi({});let t=e;return t})(),$j="browser",xX="server";function lm(t){return t===xX}var ch=class{};var dm=class{},hm=class{},ra=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var FD=class{encodeKey(e){return Hj(e)}encodeValue(e){return Hj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function OX(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var RX=/%(\d[a-f0-9])/gi,NX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hj(t){return encodeURIComponent(t).replace(RX,(e,n)=>NX[n]??e)}function Z0(t){return`${t}`}var ac=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new FD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=OX(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Z0):[Z0(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Z0(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Z0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var LD=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function kX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gj(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function qj(t){return typeof Blob<"u"&&t instanceof Blob}function zj(t){return typeof FormData<"u"&&t instanceof FormData}function FX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var um=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(kX(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ra,this.context??=new LD,!this.params)this.params=new ac,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:Gj(this.body)||qj(this.body)||zj(this.body)||FX(this.body)||typeof this.body=="string"?this.body:this.body instanceof ac?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zj(this.body)?null:qj(this.body)?this.body.type||null:Gj(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ac?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),h)),new t(n,i,o,{params:h,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a})}},cc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cc||{}),fm=class{constructor(e,n=mm.Ok,i="OK"){this.headers=e.headers||new ra,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ew=class t extends fm{constructor(e={}){super(e),this.type=cc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pm=class t extends fm{constructor(e={}){super(e),this.type=cc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sc=class extends fm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},mm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(mm||{});function ND(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Pl=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof um)a=i;else{let h;o.headers instanceof ra?h=o.headers:h=new ra(o.headers);let m;o.params&&(o.params instanceof ac?m=o.params:m=new ac({fromObject:o.params})),a=new um(i,r,o.body!==void 0?o.body:null,{headers:h,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Ue(a).pipe(za(h=>this.handler.handle(h)));if(i instanceof um||o.observe==="events")return l;let d=l.pipe(ai(h=>h instanceof pm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return d.pipe(Ne(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return d.pipe(Ne(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return d.pipe(Ne(h=>h.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new ac().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,ND(o,r))}post(i,r,o={}){return this.request("POST",i,ND(o,r))}put(i,r,o={}){return this.request("PUT",i,ND(o,r))}};e.\u0275fac=function(r){return new(r||e)(re(dm))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),LX=/^\)\]\}',?\n/,VX="X-Request-URL";function Wj(t){if(t.url)return t.url;let e=VX.toLocaleLowerCase();return t.headers.get(e)}var kD=(()=>{let e=class e{constructor(){this.fetchImpl=te(VD,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=te(yt)}handle(i){return new je(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(jD,a=>r.error(new sc({error:a}))),()=>o.abort()})}doRequest(i,r,o){return E(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,Z({signal:r},a));jX(w),o.next({type:cc.Sent}),l=yield w}catch(w){o.error(new sc({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new ra(l.headers),h=l.statusText,m=Wj(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new ew({headers:d,status:v,statusText:h,url:m})),l.body){let w=l.headers.get("content-length"),C=[],T=l.body.getReader(),P=0,k,B,A=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:j,value:ie}=yield T.read();if(j)break;if(C.push(ie),P+=ie.length,i.reportProgress){B=i.responseType==="text"?(B??"")+(k??=new TextDecoder).decode(ie,{stream:!0}):void 0;let be=()=>o.next({type:cc.DownloadProgress,total:w?+w:void 0,loaded:P,partialText:B});A?A.run(be):be()}}}));let J=this.concatChunks(C,P);try{let j=l.headers.get("Content-Type")??"";y=this.parseBody(i,J,j)}catch(j){o.error(new sc({error:j,headers:new ra(l.headers),status:l.status,statusText:l.statusText,url:Wj(l)??i.urlWithParams}));return}}v===0&&(v=y?mm.Ok:0),v>=200&&v<300?(o.next(new pm({body:y,headers:d,status:v,statusText:h,url:m})),o.complete()):o.error(new sc({error:y,headers:d,status:v,statusText:h,url:m}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(LX,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),VD=class{};function jD(){}function jX(t){t.then(jD,jD)}function UX(t,e){return e(t)}function BX(t,e,n){return(i,r)=>Zs(n,()=>e(i,o=>t(o,r)))}var UD=new ve(""),$X=new ve(""),Qj=new ve("");var Kj=(()=>{let e=class e extends dm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=te(Al);let o=te(Qj,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(UD),...this.injector.get($X,[])]));this.chain=o.reduceRight((a,l)=>BX(a,l,this.injector),UX)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(ml(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(re(hm),re(ci))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();var HX=/^\)\]\}',?\n/;function GX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Yj=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Jt(r.\u0275loadImpl()):Ue(null)).pipe(Di(()=>new je(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((T,P)=>l.setRequestHeader(T,P.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let T=i.detectContentTypeHeader();T!==null&&l.setRequestHeader("Content-Type",T)}if(i.responseType){let T=i.responseType.toLowerCase();l.responseType=T!=="json"?T:"text"}let d=i.serializeBody(),h=null,m=()=>{if(h!==null)return h;let T=l.statusText||"OK",P=new ra(l.getAllResponseHeaders()),k=GX(l)||i.url;return h=new ew({headers:P,status:l.status,statusText:T,url:k}),h},v=()=>{let{headers:T,status:P,statusText:k,url:B}=m(),A=null;P!==mm.NoContent&&(A=typeof l.response>"u"?l.responseText:l.response),P===0&&(P=A?mm.Ok:0);let J=P>=200&&P<300;if(i.responseType==="json"&&typeof A=="string"){let j=A;A=A.replace(HX,"");try{A=A!==""?JSON.parse(A):null}catch(ie){A=j,J&&(J=!1,A={error:ie,text:A})}}J?(a.next(new pm({body:A,headers:T,status:P,statusText:k,url:B||void 0})),a.complete()):a.error(new sc({error:A,headers:T,status:P,statusText:k,url:B||void 0}))},y=T=>{let{url:P}=m(),k=new sc({error:T,status:l.status||0,statusText:l.statusText||"Unknown Error",url:P||void 0});a.error(k)},b=!1,w=T=>{b||(a.next(m()),b=!0);let P={type:cc.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(P.total=T.total),i.responseType==="text"&&l.responseText&&(P.partialText=l.responseText),a.next(P)},C=T=>{let P={type:cc.UploadProgress,loaded:T.loaded};T.lengthComputable&&(P.total=T.total),a.next(P)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",C)),l.send(d),a.next({type:cc.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",C)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(re(ch))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),Xj=new ve(""),qX="XSRF-TOKEN",zX=new ve("",{providedIn:"root",factory:()=>qX}),WX="X-XSRF-TOKEN",KX=new ve("",{providedIn:"root",factory:()=>WX}),tw=class{},YX=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=J0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(re(yi),re(Fr),re(zX))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function QX(t,e){let n=t.url.toLowerCase();if(!te(Xj)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=te(tw).getToken(),r=te(KX);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var BD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(BD||{});function Jj(t,e){return{\u0275kind:t,\u0275providers:e}}function Zj(...t){let e=[Pl,Yj,Kj,{provide:dm,useExisting:Kj},{provide:hm,useExisting:Yj},{provide:UD,useValue:QX,multi:!0},{provide:Xj,useValue:!0},{provide:tw,useClass:YX}];for(let n of t)e.push(...n.\u0275providers);return nc(e)}function eU(t){return Jj(BD.Interceptors,t.map(e=>({provide:UD,useValue:e,multi:!0})))}function tU(){return Jj(BD.Fetch,[kD,{provide:hm,useExisting:kD},{provide:Qj,useExisting:kD}])}var d1={};sz(d1,{FirebaseError:()=>Bn,SDK_VERSION:()=>wo,_DEFAULT_ENTRY_NAME:()=>cs,_addComponent:()=>bm,_addOrOverwriteComponent:()=>u1,_apps:()=>dc,_clearComponents:()=>YJ,_components:()=>_m,_getProvider:()=>Fl,_registerComponent:()=>_o,_removeServiceInstance:()=>TU,deleteApp:()=>uw,getApp:()=>Ll,getApps:()=>Em,initializeApp:()=>dh,onLog:()=>dw,registerVersion:()=>an,setLogLevel:()=>hw});var iU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},XX=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},rU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|h>>6,b=h&63;d||(b=64,a||(y=64)),i.push(n[m],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let h=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||h==null||v==null)throw new GD;let y=o<<2|l>>4;if(i.push(y),h!==64){let b=l<<4&240|h>>2;if(i.push(b),v!==64){let w=h<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},GD=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},JX=function(t){let e=iU(t);return rU.encodeByteArray(e,!0)},gm=function(t){return JX(t).replace(/\./g,"")},zD=function(t){try{return rU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!ZX(n)||(t[n]=vm(t[n],e[n]));return t}function ZX(t){return t!=="__proto__"}function eJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tJ=()=>eJ().__FIREBASE_DEFAULTS__,nJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&zD(t[1]);return e&&JSON.parse(e)},iw=()=>{try{return tJ()||nJ()||iJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WD=t=>{var e,n;return(n=(e=iw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oU=t=>{let e=WD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},KD=()=>{var t;return(t=iw())===null||t===void 0?void 0:t.config},YD=t=>{var e;return(e=iw())===null||e===void 0?void 0:e[`_${t}`]};var nw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function sU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gm(JSON.stringify(n)),gm(JSON.stringify(a)),""].join(".")}function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function rw(){var t;let e=(t=iw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cU(){return typeof self=="object"&&self.self===self}function ow(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ym(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sw(){let t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lU(){return!rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lc(){try{return typeof indexedDB=="object"}catch{return!1}}function uU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var rJ="FirebaseError",Bn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rJ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}},Ur=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?oJ(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Bn(r,l,i)}};function oJ(t,e){return t.replace(sJ,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var sJ=/\{\$([^}]+)}/g;function QD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ol(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(nU(o)&&nU(a)){if(!Ol(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function nU(t){return t!==null&&typeof t=="object"}function Rl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function uh(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aw(t,e){let n=new qD(t,e);return n.subscribe.bind(n)}var qD=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aJ(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=HD),r.error===void 0&&(r.error=HD),r.complete===void 0&&(r.complete=HD);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aJ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function HD(){}var X0e=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var xi=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Nl="[DEFAULT]";var XD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new nw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lJ(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cJ(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cJ(t){return t===Nl?void 0:t}function lJ(t){return t.instantiationMode==="EAGER"}var cw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new XD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var JD=[],at=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(at||{}),hU={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},uJ=at.INFO,dJ={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},hJ=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=dJ[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ss=class{constructor(e){this.name=e,this._logLevel=uJ,this._logHandler=hJ,this._userLogHandler=null,JD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}};function fU(t){JD.forEach(e=>{e.setLogLevel(t)})}function pU(t,e){for(let n of JD){let i=null;e&&e.level&&(i=hU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:at[o].toLowerCase(),message:l,args:a,type:r.name})}}}var fJ=(t,e)=>e.some(n=>t instanceof n),mU,gU;function pJ(){return mU||(mU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mJ(){return gU||(gU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vU=new WeakMap,e1=new WeakMap,yU=new WeakMap,ZD=new WeakMap,n1=new WeakMap;function gJ(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(as(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&vU.set(n,t)}).catch(()=>{}),n1.set(e,t),e}function vJ(t){if(e1.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});e1.set(t,e)}var t1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _U(t){t1=t(t1)}function yJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(lw(this),e,...n);return yU.set(i,e.sort?e.sort():[e]),as(i)}:mJ().includes(t)?function(...e){return t.apply(lw(this),e),as(vU.get(this))}:function(...e){return as(t.apply(lw(this),e))}}function _J(t){return typeof t=="function"?yJ(t):(t instanceof IDBTransaction&&vJ(t),fJ(t,pJ())?new Proxy(t,t1):t)}function as(t){if(t instanceof IDBRequest)return gJ(t);if(ZD.has(t))return ZD.get(t);let e=_J(t);return e!==t&&(ZD.set(t,e),n1.set(e,t)),e}var lw=t=>n1.get(t);function bU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=as(a);return i&&a.addEventListener("upgradeneeded",d=>{i(as(a.result),d.oldVersion,d.newVersion,as(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}var wJ=["get","getKey","getAll","getAllKeys","count"],bJ=["put","add","delete","clear"],i1=new Map;function wU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(i1.get(e))return i1.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=bJ.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wJ.includes(n)))return;let o=function(a,...l){return E(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),h=d.store;return i&&(h=h.index(l.shift())),(yield Promise.all([h[n](...l),r&&d.done]))[0]})};return i1.set(e,o),o}_U(t=>Et(Z({},t),{get:(e,n,i)=>wU(e,n)||t.get(e,n,i),has:(e,n)=>!!wU(e,n)||t.has(e,n)}));var o1=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EJ(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function EJ(t){let e=t.getComponent();return e?.type==="VERSION"}var s1="@firebase/app",EU="0.9.28";var kl=new ss("@firebase/app"),CJ="@firebase/app-compat",IJ="@firebase/analytics-compat",SJ="@firebase/analytics",TJ="@firebase/app-check-compat",DJ="@firebase/app-check",AJ="@firebase/auth",xJ="@firebase/auth-compat",MJ="@firebase/database",PJ="@firebase/database-compat",OJ="@firebase/functions",RJ="@firebase/functions-compat",NJ="@firebase/installations",kJ="@firebase/installations-compat",FJ="@firebase/messaging",LJ="@firebase/messaging-compat",VJ="@firebase/performance",jJ="@firebase/performance-compat",UJ="@firebase/remote-config",BJ="@firebase/remote-config-compat",$J="@firebase/storage",HJ="@firebase/storage-compat",GJ="@firebase/firestore",qJ="@firebase/firestore-compat",zJ="firebase",WJ="10.8.1";var cs="[DEFAULT]",KJ={[s1]:"fire-core",[CJ]:"fire-core-compat",[SJ]:"fire-analytics",[IJ]:"fire-analytics-compat",[DJ]:"fire-app-check",[TJ]:"fire-app-check-compat",[AJ]:"fire-auth",[xJ]:"fire-auth-compat",[MJ]:"fire-rtdb",[PJ]:"fire-rtdb-compat",[OJ]:"fire-fn",[RJ]:"fire-fn-compat",[NJ]:"fire-iid",[kJ]:"fire-iid-compat",[FJ]:"fire-fcm",[LJ]:"fire-fcm-compat",[VJ]:"fire-perf",[jJ]:"fire-perf-compat",[UJ]:"fire-rc",[BJ]:"fire-rc-compat",[$J]:"fire-gcs",[HJ]:"fire-gcs-compat",[GJ]:"fire-fst",[qJ]:"fire-fst-compat","fire-js":"fire-js",[zJ]:"fire-js-all"};var dc=new Map,_m=new Map;function bm(t,e){try{t.container.addComponent(e)}catch(n){kl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function u1(t,e){t.container.addOrOverwriteComponent(e)}function _o(t){let e=t.name;if(_m.has(e))return kl.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(let n of dc.values())bm(n,t);return!0}function Fl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function TU(t,e,n=cs){Fl(t,e).clearInstance(n)}function YJ(){_m.clear()}var QJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oa=new Ur("app","Firebase",QJ);var a1=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}};var wo=WJ;function dh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:cs,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw oa.create("bad-app-name",{appName:String(r)});if(n||(n=KD()),!n)throw oa.create("no-options");let o=dc.get(r);if(o){if(Ol(n,o.options)&&Ol(i,o.config))return o;throw oa.create("duplicate-app",{appName:r})}let a=new cw(r);for(let d of _m.values())a.addComponent(d);let l=new a1(n,i,a);return dc.set(r,l),l}function Ll(t=cs){let e=dc.get(t);if(!e&&t===cs&&KD())return dh();if(!e)throw oa.create("no-app",{appName:t});return e}function Em(){return Array.from(dc.values())}function uw(t){return E(this,null,function*(){let e=t.name;dc.has(e)&&(dc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function an(t,e,n){var i;let r=(i=KJ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kl.warn(l.join(" "));return}_o(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function dw(t,e){if(t!==null&&typeof t!="function")throw oa.create("invalid-log-argument");pU(t,e)}function hw(t){fU(t)}var XJ="firebase-heartbeat-database",JJ=1,wm="firebase-heartbeat-store",r1=null;function DU(){return r1||(r1=bU(XJ,JJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wm)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),r1}function ZJ(t){return E(this,null,function*(){try{let n=(yield DU()).transaction(wm),i=yield n.objectStore(wm).get(AU(t));return yield n.done,i}catch(e){if(e instanceof Bn)kl.warn(e.message);else{let n=oa.create("idb-get",{originalErrorMessage:e?.message});kl.warn(n.message)}}})}function CU(t,e){return E(this,null,function*(){try{let i=(yield DU()).transaction(wm,"readwrite");yield i.objectStore(wm).put(e,AU(t)),yield i.done}catch(n){if(n instanceof Bn)kl.warn(n.message);else{let i=oa.create("idb-set",{originalErrorMessage:n?.message});kl.warn(i.message)}}})}function AU(t){return`${t.name}!${t.options.appId}`}var eZ=1024,tZ=30*24*60*60*1e3,c1=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new l1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=IU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=tZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=IU(),{heartbeatsToSend:i,unsentEntries:r}=nZ(this._heartbeatsCache.heartbeats),o=gm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function IU(){return new Date().toISOString().substring(0,10)}function nZ(t,e=eZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),SU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),SU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var l1=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return lc()?uU().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ZJ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return CU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return CU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function SU(t){return gm(JSON.stringify({version:2,heartbeats:t})).length}function iZ(t){_o(new xi("platform-logger",e=>new o1(e),"PRIVATE")),_o(new xi("heartbeat",e=>new c1(e),"PRIVATE")),an(s1,EU,t),an(s1,EU,"esm2017"),an("fire-js","")}iZ("");var rZ="firebase",oZ="10.8.1";an(rZ,oZ,"app");var jl=new Xs("ANGULARFIRE2_VERSION");function pw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Cm=(t,e)=>{let n=e?[e]:Em(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},fh=class{constructor(){return Cm(sZ)}},sZ="app-check";function hh(){}var fw=class{zone;delegate;constructor(e,n=mS){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},h1=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hh,{},hh,hh)),n.pipe(Rn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ph=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new fw(Zone.current)),this.insideAngular=n.run(()=>new fw(Zone.current,kd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(re(yt))};static \u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function aZ(t){return mw().ngZone.runOutsideAngular(()=>t())}function Vl(t){return mw().ngZone.run(()=>t())}function cZ(t){return lZ(mw())(t)}function lZ(t){return function(n){return n=n.lift(new h1(t.ngZone)),n.pipe(qa(t.outsideAngular),Ga(t.insideAngular))}}var uZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vl(()=>t.apply(void 0,i))},bo=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Vl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hh,{},hh,hh))),i[o]=uZ(i[o],n));let r=aZ(()=>t.apply(this,i));if(!e)if(r instanceof je){let o=mw();return r.pipe(qa(o.outsideAngular),Ga(o.insideAngular))}else return Vl(()=>r);return r instanceof je?r.pipe(cZ):r instanceof Promise?Vl(()=>new Promise((o,a)=>r.then(l=>Vl(()=>o(l)),l=>Vl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Vl(()=>r)};var sa=class{constructor(e){return e}},Ul=class{constructor(){return Em()}};function dZ(t){return t&&t.length===1?t[0]:new sa(Ll())}var f1=new ve("angularfire2._apps"),hZ={provide:sa,useFactory:dZ,deps:[[new Ki,f1]]},fZ={provide:Ul,deps:[[new Ki,f1]]};function pZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new sa(i)}}var mZ=(()=>{class t{constructor(n){an("angularfire",jl.full,"core"),an("angularfire",jl.full,"app"),an("angular",Sj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(re(Fr))};static \u0275mod=qi({type:t});static \u0275inj=Wi({providers:[hZ,fZ]})}return t})();function xU(t,...e){return{ngModule:mZ,providers:[{provide:f1,useFactory:pZ(t),multi:!0,deps:[yt,Wt,ph,...e]}]}}var MU=bo(dh,!0);var mc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ua={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function gZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function zU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ow=gZ,G1=zU,WU=new Ur("auth","Firebase",zU());var _w=new ss("@firebase/auth");function vZ(t,...e){_w.logLevel<=at.WARN&&_w.warn(`Auth (${wo}): ${t}`,...e)}function vw(t,...e){_w.logLevel<=at.ERROR&&_w.error(`Auth (${wo}): ${t}`,...e)}function Nn(t,...e){throw q1(t,...e)}function li(t,...e){return q1(t,...e)}function KU(t,e,n){let i=Object.assign(Object.assign({},G1()),{[e]:n});return new Ur("auth","Firebase",i).create(e,{appName:t.name})}function wh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Nn(t,"argument-error"),KU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q1(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WU.create(t,...e)}function Q(t,e,...n){if(!t)throw q1(e,...n)}function ls(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vw(e),new Error(e)}function Br(t,e){t||ls(e)}function Dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z1(){return PU()==="http:"||PU()==="https:"}function PU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z1()||ow()||"connection"in navigator)?navigator.onLine:!0}function _Z(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bl=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=aU()||ym()}get(){return yZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function W1(t,e){Br(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Am=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bZ=new Bl(3e4,6e4);function _n(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wn(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){return YU(t,r,()=>E(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let v=Rl(Object.assign({key:t.config.apiKey},m)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Am.fetch()(QU(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},h))}))})}function YU(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},wZ),e);try{let r=new y1(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Im(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,h]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Im(t,"user-disabled",a);let m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw KU(t,m,h);Nn(t,m)}}catch(r){if(r instanceof Bn)throw r;Nn(t,"network-request-failed",{message:String(r)})}})}function da(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){let h=yield wn(t,e,n,i,r);return"mfaPendingCredential"in h&&Nn(t,"multi-factor-auth-required",{_serverResponse:h}),h})}function QU(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?W1(t.config,r):`${t.config.apiScheme}://${r}`}function EZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var y1=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(li(this.auth,"network-request-failed")),bZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Im(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=li(t,e,i);return r.customData._tokenResponse=n,r}function OU(t){return t!==void 0&&t.getResponse!==void 0}function RU(t){return t!==void 0&&t.enterprise!==void 0}var _1=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function CZ(t){return E(this,null,function*(){return(yield wn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function IZ(t,e){return E(this,null,function*(){return wn(t,"GET","/v2/recaptchaConfig",_n(t,e))})}function SZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:delete",e)})}function TZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function DZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:lookup",e)})}function Sm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rw(t,e=!1){return E(this,null,function*(){let n=Ke(t),i=yield n.getIdToken(e),r=Nw(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:Sm(p1(r.auth_time)),issuedAtTime:Sm(p1(r.iat)),expirationTime:Sm(p1(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function p1(t){return Number(t)*1e3}function Nw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return vw("JWT malformed, contained fewer than 3 sections"),null;try{let r=zD(n);return r?JSON.parse(r):(vw("Failed to decode base64 JWT payload"),null)}catch(r){return vw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function AZ(t){let e=Nw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof Bn&&xZ(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function xZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var w1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ww=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sm(this.lastLoginAt),this.creationTime=Sm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xm(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield ca(t,DZ(n,{idToken:i}));Q(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PZ(o.providerUserInfo):[],l=MZ(t.providerData,a),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!l?.length,m=d?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ww(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)})}function kw(t){return E(this,null,function*(){let e=Ke(t);yield xm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function MZ(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function PZ(t){return t.map(e=>{var{providerId:n}=e,i=R_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function OZ(t,e){return E(this,null,function*(){let n=yield YU(t,{},()=>E(this,null,function*(){let i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=QU(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Am.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function RZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v2/accounts:revokeToken",_n(t,e))})}var bw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield OZ(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(Q(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ls("not implemented")}};function hc(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var mh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=R_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ww(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Rw(this,e)}reload(){return kw(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield xm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield ca(this,SZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,h,m;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,T=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,P=(h=n.createdAt)!==null&&h!==void 0?h:void 0,k=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:B,emailVerified:A,isAnonymous:J,providerData:j,stsTokenManager:ie}=n;Q(B&&ie,e,"internal-error");let be=bw.fromJSON(this.name,ie);Q(typeof B=="string",e,"internal-error"),hc(v,e.name),hc(y,e.name),Q(typeof A=="boolean",e,"internal-error"),Q(typeof J=="boolean",e,"internal-error"),hc(b,e.name),hc(w,e.name),hc(C,e.name),hc(T,e.name),hc(P,e.name),hc(k,e.name);let He=new t({uid:B,auth:e,email:y,emailVerified:A,displayName:v,isAnonymous:J,photoURL:w,phoneNumber:b,tenantId:C,stsTokenManager:be,createdAt:P,lastLoginAt:k});return j&&Array.isArray(j)&&(He.providerData=j.map(Xe=>Object.assign({},Xe))),T&&(He._redirectEventId=T),He}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new bw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield xm(o),o})}};var NU=new Map;function Mi(t){Br(t instanceof Function,"Expected a class definition");let e=NU.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NU.set(t,e),e)}var NZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),la=NZ;function us(t,e,n){return`firebase:${t}:${e}:${n}`}var Ew=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=us(this.userKey,r.apiKey,o),this.fullPersistenceKey=us("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?mh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Mi(la),e,i);let r=(yield Promise.all(n.map(h=>E(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Mi(la),a=us(i,e.config.apiKey,e.name),l=null;for(let h of n)try{let m=yield h._get(a);if(m){let v=mh._fromJSON(e,m);h!==o&&(l=v),o=h;break}}catch{}let d=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(h=>E(this,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new t(o,e,i))})}};function kU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eB(e))return"Blackberry";if(tB(e))return"Webos";if(K1(e))return"Safari";if((e.includes("chrome/")||JU(e))&&!e.includes("edge/"))return"Chrome";if(bh(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function XU(t=Ht()){return/firefox\//i.test(t)}function K1(t=Ht()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JU(t=Ht()){return/crios\//i.test(t)}function ZU(t=Ht()){return/iemobile/i.test(t)}function bh(t=Ht()){return/android/i.test(t)}function eB(t=Ht()){return/blackberry/i.test(t)}function tB(t=Ht()){return/webos/i.test(t)}function Wl(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nB(t=Ht()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function kZ(t=Ht()){var e;return Wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FZ(){return sw()&&document.documentMode===10}function iB(t=Ht()){return Wl(t)||bh(t)||tB(t)||eB(t)||/windows phone/i.test(t)||ZU(t)}function LZ(){try{return!!(window&&window!==window.top)}catch{return!1}}function Y1(t,e=[]){let n;switch(t){case"Browser":n=kU(Ht());break;case"Worker":n=`${kU(Ht())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${i}`}var b1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function VZ(n){return E(this,arguments,function*(t,e={}){return wn(t,"GET","/v2/passwordPolicy",_n(t,e))})}var jZ=6,E1=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:jZ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iw(this),this.idTokenSubscription=new Iw(this),this.beforeStateQueue=new b1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ew.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield xm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_Z()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Ke(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Mi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield VZ(this),n=new E1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield RZ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Mi(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Ew.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zt(t){return Ke(t)}var Iw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aw(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var km={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UZ(t){km=t}function Q1(t){return km.loadJS(t)}function BZ(){return km.recaptchaV2Script}function $Z(){return km.recaptchaEnterpriseScript}function HZ(){return km.gapiScript}function rB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var GZ="recaptcha-enterprise",qZ="NO_RECAPTCHA",C1=class{constructor(e){this.type=GZ,this.auth=Zt(e)}verify(e="verify",n=!1){return E(this,null,function*(){function i(o){return E(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>E(this,null,function*(){IZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let h=new _1(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;RU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(qZ)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&RU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=$Z();d.length!==0&&(d+=l),Q1(d).then(()=>{r(l,o,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})})}};function FU(t,e,n,i=!1){return E(this,null,function*(){let r=new C1(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Mm(t,e,n,i){return E(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield FU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>E(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield FU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Fw(t,e){let n=Fl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Ol(o,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function zZ(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Mi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Eh(t,e,n){let i=Zt(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=oB(e),{host:a,port:l}=WZ(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||KZ()}function oB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WZ(t){let e=oB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:LU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:LU(a)}}}function LU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function KZ(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Eo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}};function sB(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:resetPassword",_n(t,e))})}function YZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function QZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:signUp",e)})}function XZ(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",_n(t,e))})}function JZ(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPassword",_n(t,e))})}function Lw(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:sendOobCode",_n(t,e))})}function ZZ(t,e){return E(this,null,function*(){return Lw(t,e)})}function eee(t,e){return E(this,null,function*(){return Lw(t,e)})}function tee(t,e){return E(this,null,function*(){return Lw(t,e)})}function nee(t,e){return E(this,null,function*(){return Lw(t,e)})}function iee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}function ree(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}var gh=class t extends Eo{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",JZ);case"emailLink":return iee(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,i,"signUpPassword",QZ);case"emailLink":return ree(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function aa(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithIdp",_n(t,e))})}var oee="http://localhost",$r=class t extends Eo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=R_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){let e={requestUri:oee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}};function see(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:sendVerificationCode",_n(t,e))})}function aee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e))})}function cee(t,e){return E(this,null,function*(){let n=yield da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e));if(n.temporaryProof)throw Im(t,"account-exists-with-different-credential",n);return n})}var lee={USER_NOT_FOUND:"user-not-found"};function uee(t,e){return E(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,n),lee)})}var $l=class t extends Eo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return aee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return cee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return uee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function dee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hee(t){let e=uc(uh(t)).link,n=e?uc(uh(e)).deep_link_id:null,i=uc(uh(t)).deep_link_id;return(i?uc(uh(i)).link:null)||i||n||e||t}var vh=class t{constructor(e){var n,i,r,o,a,l;let d=uc(uh(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=dee((r=d.mode)!==null&&r!==void 0?r:null);Q(h&&m&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=hee(e);try{return new t(n)}catch{return null}}};var Ch=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return gh._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=vh.parseLink(i);return Q(r,"argument-error"),gh._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Co=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var pc=class extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Hl=class t extends pc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),$r._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Fm=(()=>{class t extends pc{constructor(){super("facebook.com")}static credential(n){return $r._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Kl=(()=>{class t extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return $r._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Lm=(()=>{class t extends pc{constructor(){super("github.com")}static credential(n){return $r._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),fee="http://localhost",Gl=class t extends Eo{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:fee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var pee="saml.",yh=class t extends Co{constructor(e){Q(e.startsWith(pee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=Gl.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Gl._create(i,n)}catch{return null}}};var Vm=(()=>{class t extends pc{constructor(){super("twitter.com")}static credential(n,i){return $r._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function aB(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signUp",_n(t,e))})}var Io=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return E(this,null,function*(){let o=yield mh._fromIdTokenResponse(e,i,r),a=VU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=VU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function VU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function jm(t){return E(this,null,function*(){var e;let n=Zt(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Io({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield aB(n,{returnSecureToken:!0}),r=yield Io._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var I1=class t extends Bn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function cB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?I1._fromErrorAndOperation(t,o,e,i):o})}function lB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function Um(t,e){return E(this,null,function*(){let n=Ke(t);yield Vw(!0,n,e);let{providerUserInfo:i}=yield TZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=lB(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function X1(t,e,n=!1){return E(this,null,function*(){let i=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Io._forOperation(t,"link",i)})}function Vw(t,e,n){return E(this,null,function*(){yield xm(e);let i=lB(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===t,e.auth,r)})}function uB(t,e,n=!1){return E(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield ca(t,cB(i,r,e,t),n);Q(o.idToken,i,"internal-error");let a=Nw(o.idToken);Q(a,i,"internal-error");let{sub:l}=a;return Q(t.uid===l,i,"user-mismatch"),Io._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(i,"user-mismatch"),o}})}function dB(t,e,n=!1){return E(this,null,function*(){let i="signIn",r=yield cB(t,i,e),o=yield Io._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function gc(t,e){return E(this,null,function*(){return dB(Zt(t),e)})}function Ih(t,e){return E(this,null,function*(){let n=Ke(t);return yield Vw(!1,n,e.providerId),X1(n,e)})}function Sh(t,e){return E(this,null,function*(){return uB(Ke(t),e)})}function mee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithCustomToken",_n(t,e))})}function Bm(t,e){return E(this,null,function*(){let n=Zt(t),i=yield mee(n,{token:e,returnSecureToken:!0}),r=yield Io._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var ql=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?S1._fromServerResponse(e,n):"totpInfo"in n?T1._fromServerResponse(e,n):Nn(e,"internal-error")}},S1=class t extends ql{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},T1=class t extends ql{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function jw(t,e,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function J1(t){return E(this,null,function*(){let e=Zt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $m(t,e,n){return E(this,null,function*(){let i=Zt(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&jw(i,r,n),yield Mm(i,r,"getOobCode",eee)})}function Hm(t,e,n){return E(this,null,function*(){yield sB(Ke(t),{oobCode:e,newPassword:n}).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&J1(t),i}))})}function Gm(t,e){return E(this,null,function*(){yield XZ(Ke(t),{oobCode:e})})}function Th(t,e){return E(this,null,function*(){let n=Ke(t),i=yield sB(n,{oobCode:e}),r=i.requestType;switch(Q(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ql._fromServerResponse(Zt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function qm(t,e){return E(this,null,function*(){let{data:n}=yield Th(Ke(t),e);return n.email})}function zm(t,e,n){return E(this,null,function*(){let i=Zt(t),a=yield Mm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&J1(t),d}),l=yield Io._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Wm(t,e,n){return gc(Ke(t),Ch.credential(e,n)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&J1(t),i}))}function Km(t,e,n){return E(this,null,function*(){let i=Zt(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&jw(i,a,l)}o(r,n),yield Mm(i,r,"getOobCode",tee)})}function Ym(t,e){let n=vh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Qm(t,e,n){return E(this,null,function*(){let i=Ke(t),r=Ch.credentialWithLink(e,n||Dm());return Q(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),gc(i,r)})}function gee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:createAuthUri",_n(t,e))})}function Xm(t,e){return E(this,null,function*(){let n=z1()?Dm():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield gee(Ke(t),i);return r||[]})}function Jm(t,e){return E(this,null,function*(){let n=Ke(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&jw(n.auth,r,e);let{email:o}=yield ZZ(n.auth,r);o!==t.email&&(yield t.reload())})}function Zm(t,e,n){return E(this,null,function*(){let i=Ke(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&jw(i.auth,o,n);let{email:a}=yield nee(i.auth,o);a!==t.email&&(yield t.reload())})}function vee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function eg(i,r){return E(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Ke(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield ca(o,vee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let h=o.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=o.displayName,h.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function tg(t,e){return hB(Ke(t),e,null)}function ng(t,e){return hB(Ke(t),null,e)}function hB(t,e,n){return E(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield ca(t,YZ(i,o));yield t._updateTokensIfNecessary(a,!0)})}function yee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Nw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new fc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new D1(o,r);case"github.com":return new A1(o,r);case"google.com":return new x1(o,r);case"twitter.com":return new M1(o,r,t.screenName||null);case"custom":case"anonymous":return new fc(o,null);default:return new fc(o,i,r)}}var fc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Sw=class extends fc{constructor(e,n,i,r){super(e,n,i),this.username=r}},D1=class extends fc{constructor(e,n){super(e,"facebook.com",n)}},A1=class extends Sw{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},x1=class extends fc{constructor(e,n){super(e,"google.com",n)}},M1=class extends Sw{constructor(e,n,i){super(e,"twitter.com",n,i)}};function ig(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:yee(n)}function Uw(t,e,n,i){return Ke(t).onIdTokenChanged(e,n,i)}function Bw(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}var Tw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var P1=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=Zt(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>ql._fromServerResponse(i,l));Q(r.mfaPendingCredential,i,"internal-error");let a=Tw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>E(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let h=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let m=yield Io._fromIdTokenResponse(i,n.operationType,h);return yield i._updateCurrentUser(m.user),m;case"reauthenticate":return Q(n.user,i,"internal-error"),Io._forOperation(n.user,n.operationType,h);default:Nn(i,"internal-error")}}))}resolveSignIn(e){return E(this,null,function*(){let n=e;return this.signInResolver(n)})}};function rg(t,e){var n;let i=Ke(t),r=e;return Q(e.customData.operationType,i,"argument-error"),Q((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),P1._fromError(i,r)}function _ee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:start",_n(t,e))}function wee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:finalize",_n(t,e))}function bee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(t,e))}var O1=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>ql._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return E(this,null,function*(){return Tw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return E(this,null,function*(){let i=e,r=yield this.getSession(),o=yield ca(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return E(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield ca(this.user,bee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},m1=new WeakMap;function og(t){let e=Ke(t);return m1.has(e)||m1.set(e,O1._fromUser(e)),m1.get(e)}var Dw="__sak";var Aw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dw,"1"),this.storage.removeItem(Dw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Eee(){let t=Ht();return K1(t)||Wl(t)}var Cee=1e3,Iee=10,See=(()=>{class t extends Aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Eee()&&LZ(),this.fallbackToPolling=iB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);FZ()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Iee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Cee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return E(this,null,function*(){yield Ba(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return E(this,null,function*(){let i=yield Ba(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return E(this,null,function*(){yield Ba(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ds=See;var Tee=(()=>{class t extends Aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Hr=Tee;function Dee(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Aee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(m=>E(this,null,function*(){return m(i.origin,a)})),h=yield Dee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Yl(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var R1=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let h=Yl("",20);r.port1.start();let m=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function $n(){return window}function xee(t){$n().location.href=t}function Z1(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}function Mee(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Pee(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Oee(){return Z1()?self:null}var fB="firebaseLocalStorageDb",Ree=1,xw="firebaseLocalStorage",pB="fbase_key",zl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $w(t,e){return t.transaction([xw],e?"readwrite":"readonly").objectStore(xw)}function Nee(){let t=indexedDB.deleteDatabase(fB);return new zl(t).toPromise()}function N1(){let t=indexedDB.open(fB,Ree);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(xw,{keyPath:pB})}catch(r){n(r)}}),t.addEventListener("success",()=>E(this,null,function*(){let i=t.result;i.objectStoreNames.contains(xw)?e(i):(i.close(),yield Nee(),e(yield N1()))}))})}function jU(t,e,n){return E(this,null,function*(){let i=$w(t,!0).put({[pB]:e,value:n});return new zl(i).toPromise()})}function kee(t,e){return E(this,null,function*(){let n=$w(t,!1).get(e),i=yield new zl(n).toPromise();return i===void 0?null:i.value})}function UU(t,e){let n=$w(t,!0).delete(e);return new zl(n).toPromise()}var Fee=800,Lee=3,Vee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield N1(),this.db)})}_withRetries(n){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>Lee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return Z1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Aee._getInstance(Oee()),this.receiver._subscribe("keyChanged",(n,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Mee(),!this.activeServiceWorker)return;this.sender=new R1(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Pee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield N1();return yield jU(n,Dw,"1"),yield UU(n,Dw),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>jU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let i=yield this._withRetries(r=>kee(r,n));return this.localCache[n]=i,i})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>UU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let a=$w(o,!1).getAll();return new zl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),Fee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ha=Vee;function jee(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:start",_n(t,e))}function Uee(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:finalize",_n(t,e))}var Bee=500,$ee=6e4,gw=1e12,k1=class{constructor(e){this.auth=e,this.counter=gw,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new F1(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||gw;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||gw;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return E(this,null,function*(){var n;let i=e||gw;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},F1=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;Q(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hee(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},$ee)},Bee))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function Hee(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var g1=rB("rcb"),Gee=new Bl(3e4,6e4),L1=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=$n().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(qee(n),e,"argument-error"),this.shouldResolveImmediately(n)&&OU($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((i,r)=>{let o=$n().setTimeout(()=>{r(li(e,"network-request-failed"))},Gee.get());$n()[g1]=()=>{$n().clearTimeout(o),delete $n()[g1];let l=$n().grecaptcha;if(!l||!OU(l)){r(li(e,"internal-error"));return}let d=l.render;l.render=(h,m)=>{let v=d(h,m);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${BZ()}?${Rl({onload:g1,render:"explicit",hl:n})}`;Q1(a).catch(()=>{clearTimeout(o),r(li(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=$n().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function qee(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var V1=class{load(e){return E(this,null,function*(){return new k1(e)})}clearedOneInstance(){}};var mB="recaptcha",zee={theme:"light",type:"image"},_h=class{constructor(e,n,i=Object.assign({},zee)){this.parameters=i,this.type=mB,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zt(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;Q(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V1:new L1,this.validateStartingState()}verify(){return E(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=$n()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return E(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return E(this,null,function*(){Q(z1()&&!Z1(),this.auth,"internal-error"),yield Wee(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield CZ(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Wee(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Pm=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=$l._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function sg(t,e,n){return E(this,null,function*(){let i=Zt(t),r=yield Hw(i,e,Ke(n));return new Pm(r,o=>gc(i,o))})}function ag(t,e,n){return E(this,null,function*(){let i=Ke(t);yield Vw(!1,i,"phone");let r=yield Hw(i.auth,e,Ke(n));return new Pm(r,o=>Ih(i,o))})}function cg(t,e,n){return E(this,null,function*(){let i=Ke(t),r=yield Hw(i.auth,e,Ke(n));return new Pm(r,o=>Sh(i,o))})}function Hw(t,e,n){return E(this,null,function*(){var i;let r=yield n.verify();try{Q(typeof r=="string",t,"argument-error"),Q(n.type===mB,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return Q(a.type==="enroll",t,"internal-error"),(yield _ee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Q(l,t,"missing-multi-factor-info"),(yield jee(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield see(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function lg(t,e){return E(this,null,function*(){yield X1(Ke(t),e)})}var vc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=Zt(n)}verifyPhoneNumber(n,i){return Hw(this.auth,n,Ke(i))}static credential(n,i){return $l._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?$l._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Ql(t,e){return e?Mi(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Om=class extends Eo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Kee(t){return dB(t.auth,new Om(t),t.bypassAuthState)}function Yee(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),uB(n,new Om(t),t.bypassAuthState)}function Qee(t){return E(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),X1(n,new Om(t),t.bypassAuthState)})}var Mw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kee;case"linkViaPopup":case"linkViaRedirect":return Qee;case"reauthViaPopup":case"reauthViaRedirect":return Yee;default:Nn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Xee=new Bl(2e3,1e4);function ug(t,e,n){return E(this,null,function*(){let i=Zt(t);wh(t,e,Co);let r=Ql(i,n);return new eA(i,"signInViaPopup",e,r).executeNotNull()})}function dg(t,e,n){return E(this,null,function*(){let i=Ke(t);wh(i.auth,e,Co);let r=Ql(i.auth,n);return new eA(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function hg(t,e,n){return E(this,null,function*(){let i=Ke(t);wh(i.auth,e,Co);let r=Ql(i.auth,n);return new eA(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var eA=(()=>{class t extends Mw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let n=yield this.execute();return Q(n,this.auth,"internal-error"),n})}onExecution(){return E(this,null,function*(){Br(this.filter.length===1,"Popup operations only handle one event");let n=Yl();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Xee.get())};n()}}t.currentPopupAction=null;return t})(),Jee="pendingRedirect",Tm=new Map,j1=class t extends Mw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=Tm.get(this.auth._key());if(!e){try{let i=(yield Zee(this.resolver,this.auth))?yield Ba(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Ba(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ba(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function Zee(t,e){return E(this,null,function*(){let n=yB(e),i=vB(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function tA(t,e){return E(this,null,function*(){return vB(t)._set(yB(e),"true")})}function gB(){Tm.clear()}function Dh(t,e){Tm.set(t._key(),e)}function vB(t){return Mi(t._redirectPersistence)}function yB(t){return us(Jee,t.config.apiKey,t.name)}function fg(t,e,n){return ete(t,e,n)}function ete(t,e,n){return E(this,null,function*(){let i=Zt(t);wh(t,e,Co),yield i._initializationPromise;let r=Ql(i,n);return yield tA(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function pg(t,e,n){return tte(t,e,n)}function tte(t,e,n){return E(this,null,function*(){let i=Ke(t);wh(i.auth,e,Co),yield i.auth._initializationPromise;let r=Ql(i.auth,n);yield tA(r,i.auth);let o=yield _B(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function mg(t,e,n){return nte(t,e,n)}function nte(t,e,n){return E(this,null,function*(){let i=Ke(t);wh(i.auth,e,Co),yield i.auth._initializationPromise;let r=Ql(i.auth,n);yield Vw(!1,i,e.providerId),yield tA(r,i.auth);let o=yield _B(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function gg(t,e){return E(this,null,function*(){return yield Zt(t)._initializationPromise,Xl(t,e,!1)})}function Xl(t,e,n=!1){return E(this,null,function*(){let i=Zt(t),r=Ql(i,e),a=yield new j1(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function _B(t){return E(this,null,function*(){let e=Yl(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var ite=10*60*1e3,Rm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!wB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ite&&this.cachedEventUids.clear(),this.cachedEventUids.has(BU(e))}saveEventToCache(e){this.cachedEventUids.add(BU(e)),this.lastProcessedEventTime=Date.now()}};function BU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wB(t);default:return!1}}function nA(n){return E(this,arguments,function*(t,e={}){return wn(t,"GET","/v1/projects",e)})}var ote=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ste=/^https?/;function ate(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nA(t);for(let n of e)try{if(cte(n))return}catch{}Nn(t,"unauthorized-domain")})}function cte(t){let e=Dm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!ste.test(n))return!1;if(ote.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var lte=new Bl(3e4,6e4);function $U(){let t=$n().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ute(t){return new Promise((e,n)=>{var i,r,o;function a(){$U(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$U(),n(li(t,"network-request-failed"))},timeout:lte.get()})}if(!((r=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=$n().gapi)===null||o===void 0)&&o.load)a();else{let l=rB("iframefcb");return $n()[l]=()=>{gapi.load?a():n(li(t,"network-request-failed"))},Q1(`${HZ()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw yw=null,e})}var yw=null;function dte(t){return yw=yw||ute(t),yw}var hte=new Bl(5e3,15e3),fte="__/auth/iframe",pte="emulator/auth/iframe",mte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vte(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?W1(e,pte):`https://${t.config.authDomain}/${fte}`,i={apiKey:e.apiKey,appName:t.name,v:wo},r=gte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Rl(i).slice(1)}`}function yte(t){return E(this,null,function*(){let e=yield dte(t),n=$n().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:vte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mte,dontclear:!0},i=>new Promise((r,o)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=li(t,"network-request-failed"),l=$n().setTimeout(()=>{o(a)},hte.get());function d(){$n().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var _te={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wte=500,bte=600,Ete="_blank",Cte="http://localhost",Nm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Ite(t,e,n,i=wte,r=bte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},_te),{width:i.toString(),height:r.toString(),top:o,left:a}),h=Ht().toLowerCase();n&&(l=JU(h)?Ete:n),XU(h)&&(e=e||Cte,d.scrollbars="yes");let m=Object.entries(d).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(kZ(h)&&l!=="_self")return Ste(e||"",l),new Nm(null);let v=window.open(e||"",l,m);Q(v,t,"popup-blocked");try{v.focus()}catch{}return new Nm(v)}function Ste(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var Tte="__/auth/handler",Dte="emulator/auth/handler",Ate=encodeURIComponent("fac");function Pw(t,e,n,i,r,o){return E(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:wo,eventId:r};if(e instanceof Co){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,v]of Object.entries(o||{}))a[m]=v}if(e instanceof pc){let m=e.getScopes().filter(v=>v!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let m of Object.keys(l))l[m]===void 0&&delete l[m];let d=yield t._getAppCheckToken(),h=d?`#${Ate}=${encodeURIComponent(d)}`:"";return`${xte(t)}?${Rl(l).slice(1)}${h}`})}function xte({config:t}){return t.emulator?W1(t,Dte):`https://${t.authDomain}/${Tte}`}var v1="webStorageSupport",U1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hr,this._completeRedirectFn=Xl,this._overrideRedirectResult=Dh}_openPopup(e,n,i,r){return E(this,null,function*(){var o;Br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Pw(e,n,i,Dm(),r);return Ite(e,a,Yl())})}_openRedirect(e,n,i,r){return E(this,null,function*(){yield this._originValidation(e);let o=yield Pw(e,n,i,Dm(),r);return xee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Br(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return E(this,null,function*(){let n=yield yte(e),i=new Rm(e);return n.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(v1,{type:v1},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[v1];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ate(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iB()||K1()||Wl()}},vg=U1,B1=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return ls("unexpected MultiFactorSessionType")}}},$1=class t extends B1{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return wee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Uee(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Gw=(()=>{class t{constructor(){}static assertion(n){return $1._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var HU="@firebase/auth",GU="1.6.1";var H1=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Mte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pte(t){_o(new xi("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(t)},h=new Cw(i,r,o,d);return zZ(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_o(new xi("auth-internal",e=>{let n=Zt(e.getProvider("auth").getImmediate());return(i=>new H1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(HU,GU,Mte(t)),an(HU,GU,"esm2017")}var Ote=5*60,Rte=YD("authIdTokenMaxAge")||Ote,qU=null,Nte=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Rte)return;let r=n?.token;qU!==r&&(qU=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function qw(t=Ll()){let e=Fl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Fw(t,{popupRedirectResolver:vg,persistence:[ha,ds,Hr]}),i=YD("authTokenSyncURL");if(i){let o=Nte(i);Bw(n,o,()=>o(n.currentUser)),Uw(n,a=>o(a))}let r=WD("auth");return r&&Eh(n,`http://${r}`),n}function kte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UZ({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=li("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",kte().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pte("Browser");var OB="auth",Jl=class{constructor(e){return e}},yg=class{constructor(){return Cm(OB)}};var iA=new ve("angularfire2.auth-instances");function $te(t,e){let n=pw(OB,t,e);return n&&new Jl(n)}function Hte(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Jl(i)}}var Gte={provide:yg,deps:[[new Ki,iA]]},qte={provide:Jl,useFactory:$te,deps:[[new Ki,iA],sa]},zte=(()=>{class t{constructor(){an("angularfire",jl.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=qi({type:t});static \u0275inj=Wi({providers:[qte,Gte]})}return t})();function RB(t,...e){return{ngModule:zte,providers:[{provide:iA,useFactory:Hte(t),multi:!0,deps:[yt,Wt,ph,Ul,[new Ki,fh],...e]}]}}var NB=bo(qw,!0);var Kte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},To={},ae,SA=SA||{},Be=Kte||self;function ob(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Og(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Yte(t){return Object.prototype.hasOwnProperty.call(t,rA)&&t[rA]||(t[rA]=++Qte)}var rA="closure_uid_"+(1e9*Math.random()>>>0),Qte=0;function Xte(t,e,n){return t.call.apply(t.bind,arguments)}function Jte(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Pi(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pi=Xte:Pi=Jte,Pi.apply(null,arguments)}function zw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function di(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function yc(){this.s=this.s,this.o=this.o}var Zte=0;yc.prototype.s=!1;yc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Zte!=0)&&Yte(this)};yc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var WB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function TA(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function kB(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(ob(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Oi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Oi.prototype.h=function(){this.defaultPrevented=!0};var ene=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Be.addEventListener("test",n,e),Be.removeEventListener("test",n,e)}catch{}return t}();function Ig(t){return/^[\s\xa0]*$/.test(t)}function sb(){var t=Be.navigator;return t&&(t=t.userAgent)?t:""}function hs(t){return sb().indexOf(t)!=-1}function DA(t){return DA[" "](t),t}DA[" "]=function(){};function tne(t,e){var n=Hne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var nne=hs("Opera"),Ph=hs("Trident")||hs("MSIE"),KB=hs("Edge"),lA=KB||Ph,YB=hs("Gecko")&&!(sb().toLowerCase().indexOf("webkit")!=-1&&!hs("Edge"))&&!(hs("Trident")||hs("MSIE"))&&!hs("Edge"),ine=sb().toLowerCase().indexOf("webkit")!=-1&&!hs("Edge");function QB(){var t=Be.document;return t?t.documentMode:void 0}var uA;e:{if(Ww="",Kw=function(){var t=sb();if(YB)return/rv:([^\);]+)(\)|;)/.exec(t);if(KB)return/Edge\/([\d\.]+)/.exec(t);if(Ph)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ine)return/WebKit\/(\S+)/.exec(t);if(nne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Kw&&(Ww=Kw?Kw[1]:""),Ph&&(Yw=QB(),Yw!=null&&Yw>parseFloat(Ww))){uA=String(Yw);break e}uA=Ww}var Ww,Kw,Yw,dA;Be.document&&Ph?(oA=QB(),dA=oA||parseInt(uA,10)||void 0):dA=void 0;var oA,rne=dA;function Sg(t,e){if(Oi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YB){e:{try{DA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:one[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sg.$.h.call(this)}}di(Sg,Oi);var one={2:"touch",3:"pen",4:"mouse"};Sg.prototype.h=function(){Sg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Rg="closure_listenable_"+(1e6*Math.random()|0),sne=0;function ane(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++sne,this.fa=this.ia=!1}function ab(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function AA(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function cne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function XB(t){let e={};for(let n in t)e[n]=t[n];return e}var FB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JB(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<FB.length;o++)n=FB[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function cb(t){this.src=t,this.g={},this.h=0}cb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=fA(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new ane(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function hA(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=WB(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ab(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function fA(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var xA="closure_lm_"+(1e6*Math.random()|0),sA={};function ZB(t,e,n,i,r){if(i&&i.once)return t4(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZB(t,e[o],n,i,r);return null}return n=OA(n),t&&t[Rg]?t.O(e,n,Og(i)?!!i.capture:!!i,r):e4(t,e,n,!1,i,r)}function e4(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Og(r)?!!r.capture:!!r,l=PA(t);if(l||(t[xA]=l=new cb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=lne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)ene||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(i4(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function lne(){function t(n){return e.call(t.src,t.listener,n)}let e=une;return t}function t4(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)t4(t,e[o],n,i,r);return null}return n=OA(n),t&&t[Rg]?t.P(e,n,Og(i)?!!i.capture:!!i,r):e4(t,e,n,!0,i,r)}function n4(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)n4(t,e[o],n,i,r);else i=Og(i)?!!i.capture:!!i,n=OA(n),t&&t[Rg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=fA(o,n,i,r),-1<n&&(ab(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=PA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=fA(e,n,i,r)),(n=-1<t?e[t]:null)&&MA(n))}function MA(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Rg])hA(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(i4(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=PA(e))?(hA(n,t),n.h==0&&(n.src=null,e[xA]=null)):ab(t)}}}function i4(t){return t in sA?sA[t]:sA[t]="on"+t}function une(t,e){if(t.fa)t=!0;else{e=new Sg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&MA(t),t=n.call(i,e)}return t}function PA(t){return t=t[xA],t instanceof cb?t:null}var aA="__closure_events_fn_"+(1e9*Math.random()>>>0);function OA(t){return typeof t=="function"?t:(t[aA]||(t[aA]=function(e){return t.handleEvent(e)}),t[aA])}function ui(){yc.call(this),this.i=new cb(this),this.S=this,this.J=null}di(ui,yc);ui.prototype[Rg]=!0;ui.prototype.removeEventListener=function(t,e,n,i){n4(this,t,e,n,i)};function wi(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Oi(e,t);else if(e instanceof Oi)e.target=e.target||t;else{var r=e;e=new Oi(i,t),JB(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Qw(a,i,!0,e)&&r}if(a=e.g=t,r=Qw(a,i,!0,e)&&r,r=Qw(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=Qw(a,i,!1,e)&&r}ui.prototype.N=function(){if(ui.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ab(n[i]);delete t.g[e],t.h--}}this.J=null};ui.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};ui.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Qw(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&hA(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var RA=Be.JSON.stringify,pA=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function dne(){var t=NA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mA=class{constructor(){this.h=this.g=null}add(e,n){let i=r4.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},r4=new pA(()=>new gA,t=>t.reset()),gA=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function hne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fne(t){Be.setTimeout(()=>{throw t},0)}var Tg,Dg=!1,NA=new mA,o4=()=>{let t=Be.Promise.resolve(void 0);Tg=()=>{t.then(pne)}},pne=()=>{for(var t;t=dne();){try{t.h.call(t.g)}catch(n){fne(n)}var e=r4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dg=!1};function lb(t,e){ui.call(this),this.h=t||1,this.g=e||Be,this.j=Pi(this.qb,this),this.l=Date.now()}di(lb,ui);ae=lb.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wi(this,"tick"),this.ga&&(kA(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){lb.$.N.call(this),kA(this),delete this.g};function FA(t,e,n){if(typeof t=="function")n&&(t=Pi(t,n));else if(t&&typeof t.handleEvent=="function")t=Pi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Be.setTimeout(t,e||0)}function s4(t){t.g=FA(()=>{t.g=null,t.i&&(t.i=!1,s4(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var vA=class extends yc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:s4(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ag(t){yc.call(this),this.h=t,this.g={}}di(Ag,yc);var LB=[];function a4(t,e,n,i){Array.isArray(n)||(n&&(LB[0]=n.toString()),n=LB);for(var r=0;r<n.length;r++){var o=ZB(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function c4(t){AA(t.g,function(e,n){this.g.hasOwnProperty(n)&&MA(e)},t),t.g={}}Ag.prototype.N=function(){Ag.$.N.call(this),c4(this)};Ag.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ub(){this.g=!0}ub.prototype.Ea=function(){this.g=!1};function mne(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var h=l[d].split("=");if(1<h.length){var m=h[0];h=h[1];var v=m.split("_");a=2<=v.length&&v[1]=="type"?a+(m+"="+h+"&"):a+(m+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function gne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function xh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yne(t,n)+(i?" "+i:"")})}function vne(t,e){t.info(function(){return"TIMEOUT: "+e})}ub.prototype.info=function(){};function yne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return RA(n)}catch{return e}}var nu={},VB=null;function db(){return VB=VB||new ui}nu.Ta="serverreachability";function l4(t){Oi.call(this,nu.Ta,t)}di(l4,Oi);function xg(t){let e=db();wi(e,new l4(e))}nu.STAT_EVENT="statevent";function u4(t,e){Oi.call(this,nu.STAT_EVENT,t),this.stat=e}di(u4,Oi);function Qi(t){let e=db();wi(e,new u4(e,t))}nu.Ua="timingevent";function d4(t,e){Oi.call(this,nu.Ua,t),this.size=e}di(d4,Oi);function Ng(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){t()},e)}var hb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function LA(){}LA.prototype.h=null;function jB(t){return t.h||(t.h=t.i())}function f4(){}var kg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function VA(){Oi.call(this,"d")}di(VA,Oi);function jA(){Oi.call(this,"c")}di(jA,Oi);var yA;function fb(){}di(fb,LA);fb.prototype.g=function(){return new XMLHttpRequest};fb.prototype.i=function(){return{}};yA=new fb;function Fg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Ag(this),this.P=_ne,t=lA?125:void 0,this.V=new lb(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new p4}function p4(){this.i=null,this.g="",this.h=!1}var _ne=45e3,m4={},_A={};ae=Fg.prototype;ae.setTimeout=function(t){this.P=t};function wA(t,e,n){t.L=1,t.A=mb(pa(e)),t.u=n,t.S=!0,g4(t,null)}function g4(t,e){t.G=Date.now(),Lg(t),t.B=pa(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),I4(n.i,"t",i),t.o=0,n=t.l.J,t.h=new p4,t.g=q4(t.l,n?e:null,!t.u),0<t.O&&(t.M=new vA(Pi(t.Pa,t,t.g),t.O)),a4(t.U,t.g,"readystatechange",t.nb),e=t.I?XB(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xg(),mne(t.j,t.v,t.B,t.m,t.W,t.u)}ae.nb=function(t){t=t.target;let e=this.M;e&&fs(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{let m=fs(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>m)&&(m!=3||lA||this.g&&(this.h.h||this.g.ja()||HB(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?xg(3):xg(2)),pb(this);var n=this.g.da();this.ca=n;t:if(v4(this)){var i=HB(this.g);t="";var r=i.length,o=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zl(this),Cg(this);var a="";break t}this.h.i=new Be.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,gne(this.j,this.v,this.B,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ig(l)){var h=l;break t}}h=null}if(n=h)xh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bA(this,n);else{this.i=!1,this.s=3,Qi(12),Zl(this),Cg(this);break e}}this.S?(y4(this,m,a),lA&&this.i&&m==3&&(a4(this.U,this.V,"tick",this.mb),this.V.start())):(xh(this.j,this.m,a,null),bA(this,a)),m==4&&Zl(this),this.i&&!this.J&&(m==4?B4(this.l,this):(this.i=!1,Lg(this)))}else Une(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Qi(12)):(this.s=0,Qi(13)),Zl(this),Cg(this)}}}catch{}finally{}};function v4(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function y4(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=wne(t,n),r==_A){e==4&&(t.s=4,Qi(14),i=!1),xh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==m4){t.s=4,Qi(15),xh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else xh(t.j,t.m,r,null),bA(t,r);v4(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qi(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qA(e),e.M=!0,Qi(11))):(xh(t.j,t.m,n,"[Invalid Chunked Response]"),Zl(t),Cg(t))}ae.mb=function(){if(this.g){var t=fs(this.g),e=this.g.ja();this.o<e.length&&(pb(this),y4(this,t,e),this.i&&t!=4&&Lg(this))}};function wne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?_A:(n=Number(e.substring(n,i)),isNaN(n)?m4:(i+=1,i+n>e.length?_A:(e=e.slice(i,i+n),t.o=i+n,e)))}ae.cancel=function(){this.J=!0,Zl(this)};function Lg(t){t.Y=Date.now()+t.P,_4(t,t.P)}function _4(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ng(Pi(t.lb,t),e)}function pb(t){t.C&&(Be.clearTimeout(t.C),t.C=null)}ae.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(vne(this.j,this.B),this.L!=2&&(xg(),Qi(17)),Zl(this),this.s=2,Cg(this)):_4(this,this.Y-t)};function Cg(t){t.l.H==0||t.J||B4(t.l,t)}function Zl(t){pb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kA(t.V),c4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bA(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||EA(n.i,t))){if(!t.K&&EA(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)tb(n),yb(n);else break e;GA(n),Qi(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ng(Pi(n.ib,n),6e3));if(1>=D4(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else eu(n,11)}else if((t.K||n.g==t)&&tb(n),!Ig(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];let m=h[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));let v=h[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=h[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let b=t.g;if(b){let w=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(UA(o,o.h),o.h=null))}if(i.F){let C=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,en(i.I,i.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=G4(i,i.J?i.pa:null,i.Y),a.K){A4(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(pb(l),Lg(l)),i.g=a}else j4(i);0<n.j.length&&_b(n)}else h[0]!="stop"&&h[0]!="close"||eu(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?eu(n,7):HA(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}xg(4)}catch{}}function bne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ob(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Ene(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ob(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function w4(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ob(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ene(t),i=bne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var b4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function tu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof tu){this.h=t.h,Zw(this,t.j),this.s=t.s,this.g=t.g,eb(this,t.m),this.l=t.l;var e=t.i,n=new Mg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),UB(this,n),this.o=t.o}else t&&(e=String(t).match(b4))?(this.h=!1,Zw(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),eb(this,e[4]),this.l=bg(e[5]||"",!0),UB(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new Mg(null,this.h))}tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Eg(e,BB,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Eg(e,BB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Eg(n,n.charAt(0)=="/"?Tne:Sne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Eg(n,Ane)),t.join("")};function pa(t){return new tu(t)}function Zw(t,e,n){t.j=n?bg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function UB(t,e,n){e instanceof Mg?(t.i=e,xne(t.i,t.h)):(n||(e=Eg(e,Dne)),t.i=new Mg(e,t.h))}function en(t,e,n){t.i.set(e,n)}function mb(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Eg(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Ine),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ine(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var BB=/[#\/\?@]/g,Sne=/[#\?:]/g,Tne=/[#\?]/g,Dne=/[#\?@]/g,Ane=/#/g;function Mg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _c(t){t.g||(t.g=new Map,t.h=0,t.i&&Cne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=Mg.prototype;ae.add=function(t,e){_c(this),this.i=null,t=Oh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function E4(t,e){_c(t),e=Oh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function C4(t,e){return _c(t),e=Oh(t,e),t.g.has(e)}ae.forEach=function(t,e){_c(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};ae.ta=function(){_c(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};ae.Z=function(t){_c(this);let e=[];if(typeof t=="string")C4(this,t)&&(e=e.concat(this.g.get(Oh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return _c(this),this.i=null,t=Oh(this,t),C4(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function I4(t,e,n){E4(t,e),0<n.length&&(t.i=null,t.g.set(Oh(t,e),TA(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Oh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xne(t,e){e&&!t.j&&(_c(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(E4(this,i),I4(this,r,n))},t)),t.j=e}var Mne=class{constructor(t,e){this.g=t,this.map=e}};function S4(t){this.l=t||Pne,Be.PerformanceNavigationTiming?(t=Be.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pne=10;function T4(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function D4(t){return t.h?1:t.g?t.g.size:0}function EA(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function UA(t,e){t.g?t.g.add(e):t.h=e}function A4(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}S4.prototype.cancel=function(){if(this.i=x4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function x4(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return TA(t.i)}var One=class{stringify(t){return Be.JSON.stringify(t,void 0)}parse(t){return Be.JSON.parse(t,void 0)}};function Rne(){this.g=new One}function Nne(t,e,n){let i=n||"";try{w4(t,function(r,o){let a=r;Og(r)&&(a=RA(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kne(t,e){let n=new ub;if(Be.Image){let i=new Image;i.onload=zw(Xw,n,i,"TestLoadImage: loaded",!0,e),i.onerror=zw(Xw,n,i,"TestLoadImage: error",!1,e),i.onabort=zw(Xw,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=zw(Xw,n,i,"TestLoadImage: timeout",!1,e),Be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Xw(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Vg(t){this.l=t.ec||null,this.j=t.ob||!1}di(Vg,LA);Vg.prototype.g=function(){return new gb(this.l,this.j)};Vg.prototype.i=function(t){return function(){return t}}({});function gb(t,e){ui.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=BA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}di(gb,ui);var BA=0;ae=gb.prototype;ae.open=function(t,e){if(this.readyState!=BA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pg(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jg(this)),this.readyState=BA};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pg(this)),this.g&&(this.readyState=3,Pg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;M4(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function M4(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jg(this):Pg(this),this.readyState==3&&M4(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,jg(this))};ae.Ya=function(t){this.g&&(this.response=t,jg(this))};ae.ka=function(){this.g&&jg(this)};function jg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pg(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Fne=Be.JSON.parse;function bn(t){ui.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P4,this.L=this.M=!1}di(bn,ui);var P4="",Lne=/^https?$/i,Vne=["POST","PUT"];ae=bn.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yA.g(),this.C=this.u?jB(this.u):jB(yA),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){$B(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Be.FormData&&t instanceof Be.FormData,!(0<=WB(Vne,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{N4(this),0<this.B&&((this.L=jne(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=FA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){$B(this,o)}};function jne(t){return Ph&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof SA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wi(this,"timeout"),this.abort(8))};function $B(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,O4(t),vb(t)}function O4(t){t.F||(t.F=!0,wi(t,"complete"),wi(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wi(this,"complete"),wi(this,"abort"),vb(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vb(this,!0)),bn.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?R4(this):this.kb())};ae.kb=function(){R4(this)};function R4(t){if(t.h&&typeof SA<"u"&&(!t.C[1]||fs(t)!=4||t.da()!=2)){if(t.v&&fs(t)==4)FA(t.La,0,t);else if(wi(t,"readystatechange"),fs(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(b4)[1]||null;!r&&Be.self&&Be.self.location&&(r=Be.self.location.protocol.slice(0,-1)),i=!Lne.test(r?r.toLowerCase():"")}n=i}if(n)wi(t,"complete"),wi(t,"success");else{t.m=6;try{var o=2<fs(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",O4(t)}}finally{vb(t)}}}}function vb(t,e){if(t.g){N4(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||wi(t,"ready");try{n.onreadystatechange=i}catch{}}}function N4(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Be.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function fs(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Fne(e)}};function HB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case P4:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Une(t){let e={};t=(t.g&&2<=fs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ig(t[i]))continue;var n=hne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}cne(e,function(i){return i.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function k4(t){let e="";return AA(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function $A(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=k4(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):en(t,e,n))}function _g(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function F4(t){this.Ga=0,this.j=[],this.l=new ub,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_g("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_g("baseRetryDelayMs",5e3,t),this.hb=_g("retryDelaySeedMs",1e4,t),this.eb=_g("forwardChannelMaxRetries",2,t),this.xa=_g("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new S4(t&&t.concurrentRequestLimit),this.Ja=new Rne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=F4.prototype;ae.ra=8;ae.H=1;function HA(t){if(L4(t),t.H==3){var e=t.W++,n=pa(t.I);if(en(n,"SID",t.K),en(n,"RID",e),en(n,"TYPE","terminate"),Ug(t,n),e=new Fg(t,t.l,e),e.L=2,e.A=mb(pa(n)),n=!1,Be.navigator&&Be.navigator.sendBeacon)try{n=Be.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Be.Image&&(new Image().src=e.A,n=!0),n||(e.g=q4(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Lg(e)}H4(t)}function yb(t){t.g&&(qA(t),t.g.cancel(),t.g=null)}function L4(t){yb(t),t.u&&(Be.clearTimeout(t.u),t.u=null),tb(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Be.clearTimeout(t.m),t.m=null)}function _b(t){if(!T4(t.i)&&!t.m){t.m=!0;var e=t.Na;Tg||o4(),Dg||(Tg(),Dg=!0),NA.add(e,t),t.C=0}}function Bne(t,e){return D4(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ng(Pi(t.Na,t,e),$4(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Fg(this,this.l,t),o=this.s;if(this.U&&(o?(o=XB(o),JB(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=V4(this,r,e),n=pa(this.I),en(n,"RID",t),en(n,"CVER",22),this.F&&en(n,"X-HTTP-Session-Id",this.F),Ug(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(k4(o)))+"&"+e:this.o&&$A(n,this.o,o)),UA(this.i,r),this.bb&&en(n,"TYPE","init"),this.P?(en(n,"$req",e),en(n,"SID","null"),r.aa=!0,wA(r,n,null)):wA(r,n,e),this.H=2}}else this.H==3&&(t?GB(this,t):this.j.length==0||T4(this.i)||GB(this))};function GB(t,e){var n;e?n=e.m:n=t.W++;let i=pa(t.I);en(i,"SID",t.K),en(i,"RID",n),en(i,"AID",t.V),Ug(t,i),t.o&&t.s&&$A(i,t.o,t.s),n=new Fg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=V4(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),UA(t.i,n),wA(n,i,e)}function Ug(t,e){t.na&&AA(t.na,function(n,i){en(e,i,n)}),t.h&&w4({},function(n,i){en(e,i,n)})}function V4(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Pi(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let h=r[d].g,m=r[d].map;if(h-=o,0>h)o=Math.max(0,r[d].g-100),l=!1;else try{Nne(m,a,"req"+h+"_")}catch{i&&i(m)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function j4(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tg||o4(),Dg||(Tg(),Dg=!0),NA.add(e,t),t.A=0}}function GA(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ng(Pi(t.Ma,t),$4(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,U4(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ng(Pi(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qi(10),yb(this),U4(this))};function qA(t){t.B!=null&&(Be.clearTimeout(t.B),t.B=null)}function U4(t){t.g=new Fg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pa(t.wa);en(e,"RID","rpc"),en(e,"SID",t.K),en(e,"AID",t.V),en(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&en(e,"TO",t.qa),en(e,"TYPE","xmlhttp"),Ug(t,e),t.o&&t.s&&$A(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=mb(pa(e)),n.u=null,n.S=!0,g4(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,yb(this),GA(this),Qi(19))};function tb(t){t.v!=null&&(Be.clearTimeout(t.v),t.v=null)}function B4(t,e){var n=null;if(t.g==e){tb(t),qA(t),t.g=null;var i=2}else if(EA(t.i,e))n=e.F,A4(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=db(),wi(i,new d4(i,n)),_b(t)}else j4(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&Bne(t,e)||i==2&&GA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:eu(t,5);break;case 4:eu(t,10);break;case 3:eu(t,6);break;default:eu(t,2)}}}function $4(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Pi(t.pb,t);n||(n=new tu("//www.google.com/images/cleardot.gif"),Be.location&&Be.location.protocol=="http"||Zw(n,"https"),mb(n)),kne(n.toString(),i)}else Qi(2);t.H=0,t.h&&t.h.za(e),H4(t),L4(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qi(2)):(this.l.info("Failed to ping google.com"),Qi(1))};function H4(t){if(t.H=0,t.ma=[],t.h){let e=x4(t.i);(e.length!=0||t.j.length!=0)&&(kB(t.ma,e),kB(t.ma,t.j),t.i.i.length=0,TA(t.j),t.j.length=0),t.h.ya()}}function G4(t,e,n){var i=n instanceof tu?pa(n):new tu(n);if(i.g!="")e&&(i.g=e+"."+i.g),eb(i,i.m);else{var r=Be.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new tu(null);i&&Zw(o,i),e&&(o.g=e),r&&eb(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&en(i,n,e),en(i,"VER",t.ra),Ug(t,i),i}function q4(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bn(new Vg({ob:n})):new bn(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function z4(){}ae=z4.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function nb(){if(Ph&&!(10<=Number(rne)))throw Error("Environmental error: no available transport.")}nb.prototype.g=function(t,e){return new Er(t,e)};function Er(t,e){ui.call(this),this.g=new F4(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ig(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ig(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rh(this)}di(Er,ui);Er.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=G4(t,null,t.Y),_b(t)};Er.prototype.close=function(){HA(this.g)};Er.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=RA(t),t=n);e.j.push(new Mne(e.fb++,t)),e.H==3&&_b(e)};Er.prototype.N=function(){this.g.h=null,delete this.j,HA(this.g),delete this.g,Er.$.N.call(this)};function W4(t){VA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}di(W4,VA);function K4(){jA.call(this),this.status=1}di(K4,jA);function Rh(t){this.g=t}di(Rh,z4);Rh.prototype.Ba=function(){wi(this.g,"a")};Rh.prototype.Aa=function(t){wi(this.g,new W4(t))};Rh.prototype.za=function(t){wi(this.g,new K4)};Rh.prototype.ya=function(){wi(this.g,"b")};function $ne(){this.blockSize=-1}function So(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}di(So,$ne);So.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cA(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}So.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)cA(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){cA(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){cA(this,i),r=0;break}}this.h=r,this.i+=e};So.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Vt(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var Hne={};function zA(t){return-128<=t&&128>t?tne(t,function(e){return new Vt([e|0],0>e?-1:0)}):new Vt([t|0],0>t?-1:0)}function ps(t){if(isNaN(t)||!isFinite(t))return Mh;if(0>t)return _i(ps(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=CA;return new Vt(e,0)}function Y4(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _i(Y4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ps(Math.pow(e,8)),i=Mh,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=ps(Math.pow(e,o)),i=i.R(o).add(ps(a))):(i=i.R(n),i=i.add(ps(a)))}return i}var CA=4294967296,Mh=zA(0),IA=zA(1),qB=zA(16777216);ae=Vt.prototype;ae.ea=function(){if(Gr(this))return-_i(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:CA+i)*e,e*=CA}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fa(this))return"0";if(Gr(this))return"-"+_i(this).toString(t);for(var e=ps(Math.pow(t,6)),n=this,i="";;){var r=rb(n,e).g;n=ib(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,fa(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gr(t){return t.h==-1}ae.X=function(t){return t=ib(this,t),Gr(t)?-1:fa(t)?0:1};function _i(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Vt(n,~t.h).add(IA)}ae.abs=function(){return Gr(this)?_i(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Vt(n,n[n.length-1]&-2147483648?-1:0)};function ib(t,e){return t.add(_i(e))}ae.R=function(t){if(fa(this)||fa(t))return Mh;if(Gr(this))return Gr(t)?_i(this).R(_i(t)):_i(_i(this).R(t));if(Gr(t))return _i(this.R(_i(t)));if(0>this.X(qB)&&0>t.X(qB))return ps(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,Jw(n,2*i+2*r),n[2*i+2*r+1]+=o*d,Jw(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,Jw(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,Jw(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Vt(n,0)};function Jw(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wg(t,e){this.g=t,this.h=e}function rb(t,e){if(fa(e))throw Error("division by zero");if(fa(t))return new wg(Mh,Mh);if(Gr(t))return e=rb(_i(t),e),new wg(_i(e.g),_i(e.h));if(Gr(e))return e=rb(t,_i(e)),new wg(_i(e.g),e.h);if(30<t.g.length){if(Gr(t)||Gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=IA,i=e;0>=i.X(t);)n=zB(n),i=zB(i);var r=Ah(n,1),o=Ah(i,1);for(i=Ah(i,2),n=Ah(n,2);!fa(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Ah(i,1),n=Ah(n,1)}return e=ib(t,r.R(e)),new wg(r,e)}for(r=Mh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=ps(n),a=o.R(e);Gr(a)||0<a.X(t);)n-=i,o=ps(n),a=o.R(e);fa(o)&&(o=IA),r=r.add(o),t=ib(t,a)}return new wg(r,t)}ae.gb=function(t){return rb(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Vt(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Vt(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Vt(n,this.h^t.h)};function zB(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Vt(n,t.h)}function Ah(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Vt(r,t.h)}nb.prototype.createWebChannel=nb.prototype.g;Er.prototype.send=Er.prototype.u;Er.prototype.open=Er.prototype.m;Er.prototype.close=Er.prototype.close;hb.NO_ERROR=0;hb.TIMEOUT=8;hb.HTTP_ERROR=6;h4.COMPLETE="complete";f4.EventType=kg;kg.OPEN="a";kg.CLOSE="b";kg.ERROR="c";kg.MESSAGE="d";ui.prototype.listen=ui.prototype.O;bn.prototype.listenOnce=bn.prototype.P;bn.prototype.getLastError=bn.prototype.Sa;bn.prototype.getLastErrorCode=bn.prototype.Ia;bn.prototype.getStatus=bn.prototype.da;bn.prototype.getResponseJson=bn.prototype.Wa;bn.prototype.getResponseText=bn.prototype.ja;bn.prototype.send=bn.prototype.ha;bn.prototype.setWithCredentials=bn.prototype.Oa;So.prototype.digest=So.prototype.l;So.prototype.reset=So.prototype.reset;So.prototype.update=So.prototype.j;Vt.prototype.add=Vt.prototype.add;Vt.prototype.multiply=Vt.prototype.R;Vt.prototype.modulo=Vt.prototype.gb;Vt.prototype.compare=Vt.prototype.X;Vt.prototype.toNumber=Vt.prototype.ea;Vt.prototype.toString=Vt.prototype.toString;Vt.prototype.getBits=Vt.prototype.D;Vt.fromNumber=ps;Vt.fromString=Y4;var Q4=To.createWebChannelTransport=function(){return new nb},X4=To.getStatEventTarget=function(){return db()},wb=To.ErrorCode=hb,J4=To.EventType=h4,Z4=To.Event=nu,WA=To.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jwe=To.FetchXmlHttpFactory=Vg,Bg=To.WebChannel=f4,e5=To.XhrIo=bn,t5=To.Md5=So,iu=To.Integer=Vt;var n5="@firebase/firestore";var hi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");var nf="10.8.1";var cu=new ss("@firebase/firestore");function $g(){return cu.logLevel}function ce(t,...e){if(cu.logLevel<=at.DEBUG){let n=e.map(RM);cu.debug(`Firestore (${nf}): ${t}`,...n)}}function ws(t,...e){if(cu.logLevel<=at.ERROR){let n=e.map(RM);cu.error(`Firestore (${nf}): ${t}`,...n)}}function Bh(t,...e){if(cu.logLevel<=at.WARN){let n=e.map(RM);cu.warn(`Firestore (${nf}): ${t}`,...n)}}function RM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Le(t="Unexpected state"){let e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+t;throw ws(e),new Error(e)}function Kt(t,e){t||Le()}function ze(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},we=class extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ao=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},JA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hi.UNAUTHENTICATED))}shutdown(){}},ZA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ex=class{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ao,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>E(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ao)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt(typeof i.accessToken=="string"),new Sb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string"),new hi(e)}},tx=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nx=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new tx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ix=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new ix(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Gne(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Tb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Gne(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ot(t,e){return t<e?-1:t>e?1:0}function $h(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var bi=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var qe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new bi(0,0))}static max(){return new t(new bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Db=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(),i===void 0?i=e.length-n:i>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Cn=class t extends Db{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new we(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},qne=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cr=class t extends Db{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return qne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new we(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new we(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new we(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var xe=class t{constructor(e){this.path=e}static fromPath(e){return new t(Cn.fromString(e))}static fromName(e){return new t(Cn.fromString(e).popFirst(5))}static empty(){return new t(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Cn(e.slice()))}};var ox=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};ox.UNKNOWN_ID=-1;function zne(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=qe.fromTimestamp(i===1e9?new bi(n+1,0):new bi(n,i));return new lu(r,xe.empty(),e)}function Wne(t){return new lu(t.readTime,t.key,-1)}var lu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(qe.min(),xe.empty(),-1)}static max(){return new t(qe.max(),xe.empty(),-1)}};function Kne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}var Yne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sx=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ov(t){return E(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==Yne)throw t;ce("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let h=d;n(e[h]).next(m=>{a[h]=m,++l,l===o&&i(a)},m=>r(m))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var ax=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ao,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new au(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=NM(i.target.error);this.V.reject(new au(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new au(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new lx(n)}},Ab=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Ht())===12.2&&ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ce("SimpleDb","Removing database:",e),ru(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!lc())return!1;if(t.C())return!0;let e=Ht(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return E(this,null,function*(){return this.db||(ce("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new we(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new we(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new au(e,a))},r.onupgradeneeded=o=>{ce("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{ce("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return E(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=ax.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),K.reject(h))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,h=d.name!=="FirebaseError"&&a<3;if(ce("SimpleDb","Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},cx=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ru(this.k.delete())}},au=class extends we{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function sv(t){return t.name==="IndexedDbTransactionError"}var lx=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(ce("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ru(i)}add(e){return ce("SimpleDb","ADD",this.store.name,e,e),ru(this.store.add(e))}get(e){return ru(this.store.get(e)).next(n=>(n===void 0&&(n=null),ce("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ce("SimpleDb","DELETE",this.store.name,e),ru(this.store.delete(e))}count(){return ce("SimpleDb","COUNT",this.store.name),ru(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new K((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new K((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){ce("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new K((i,r)=>{n.onerror=o=>{let a=NM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new K((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new cx(l),h=n(l.primaryKey,l.value,d);if(h instanceof K){let m=h.catch(v=>(d.done(),K.reject(v)));i.push(m)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>K.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ru(t){return new K((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=NM(i.target.error);n(r)}})}var i5=!1;function NM(t){let e=Ab.S(Ht());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return i5||(i5=!0,setTimeout(()=>{throw i},0)),i}}return t}var M5=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function eE(t){return t==null}function Kg(t){return t===0&&1/t==-1/0}function Qne(t){return typeof t=="number"&&Number.isInteger(t)&&!Kg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Xne=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],abe=[...Xne,"documentOverlays"],Jne=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Zne=Jne,cbe=[...Zne,"indexConfiguration","indexState","indexEntries"];function r5(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rf(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var In=class t{constructor(e,n){this.comparator=e,this.root=n||vs.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}},Lh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vs=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();let e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}};vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1;vs.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,i,r,o){return this}insert(e,n,i){return new vs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ni=class t{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gs=class t{constructor(e){this.fields=e,e.sort(Cr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ni(Cr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $h(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Mb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xi.EMPTY_BYTE_STRING=new Xi("");var eie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(Kt(!!t),typeof t=="string"){let e=0,n=eie.exec(t);if(Kt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cc(t){return typeof t=="string"?Xi.fromBase64String(t):Xi.fromUint8Array(t)}function kM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FM(t){let e=t.mapValue.fields.__previous_value__;return kM(e)?FM(e):e}function Yg(t){let e=Ec(t.mapValue.fields.__local_write_time__.timestampValue);return new bi(e.seconds,e.nanos)}var ux=class{constructor(e,n,i,r,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=h}},Pb=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var bb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kM(t)?4:O5(t)?9007199254740991:10:Le()}function bs(t,e){if(t===e)return!0;let n=uu(t);if(n!==uu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yg(t).isEqual(Yg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Ec(r.timestampValue),l=Ec(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Cc(r.bytesValue).isEqual(Cc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return En(r.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(r.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return En(r.integerValue)===En(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=En(r.doubleValue),l=En(o.doubleValue);return a===l?Kg(a)===Kg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return $h(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(r5(a)!==r5(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!bs(a[d],l[d])))return!1;return!0}(t,e);default:return Le()}}function Qg(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function Hh(t,e){if(t===e)return 0;let n=uu(t),i=uu(e);if(n!==i)return Ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=En(o.integerValue||o.doubleValue),d=En(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return o5(t.timestampValue,e.timestampValue);case 4:return o5(Yg(t),Yg(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Cc(o),d=Cc(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let h=0;h<l.length&&h<d.length;h++){let m=Ot(l[h],d[h]);if(m!==0)return m}return Ot(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=Ot(En(o.latitude),En(a.latitude));return l!==0?l:Ot(En(o.longitude),En(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let h=0;h<l.length&&h<d.length;++h){let m=Hh(l[h],d[h]);if(m)return m}return Ot(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===bb.mapValue&&a===bb.mapValue)return 0;if(o===bb.mapValue)return 1;if(a===bb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){let y=Ot(d[v],m[v]);if(y!==0)return y;let b=Hh(l[d[v]],h[m[v]]);if(b!==0)return b}return Ot(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Le()}}function o5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);let n=Ec(t),i=Ec(e),r=Ot(n.seconds,i.seconds);return r!==0?r:Ot(n.nanos,i.nanos)}function Gh(t){return dx(t)}function dx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ec(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=dx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${dx(n.fields[a])}`;return r+"}"}(t.mapValue):Le()}function hx(t){return!!t&&"integerValue"in t}function LM(t){return!!t&&"arrayValue"in t}function s5(t){return!!t&&"nullValue"in t}function a5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cb(t){return!!t&&"mapValue"in t}function Gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return rf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Gg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Do=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Cb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(n)}setAll(e){let n=Cr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Gg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Cb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Cb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){rf(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Gg(this.value))}};function R5(t){let e=[];return rf(t.fields,(n,i)=>{let r=new Cr([n]);if(Cb(i)){let o=R5(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new gs(e)}var xo=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,qe.min(),qe.min(),qe.min(),Do.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,qe.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,qe.min(),qe.min(),Do.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,qe.min(),qe.min(),Do.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Do.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Do.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qh=class{constructor(e,n){this.position=e,this.inclusive=n}};function c5(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=xe.comparator(xe.fromName(a.referenceValue),n.key):i=Hh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function l5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}var zh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function tie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ob=class{},Qn=class t extends Ob{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new px(e,n,i):n==="array-contains"?new vx(e,i):n==="in"?new yx(e,i):n==="not-in"?new _x(e,i):n==="array-contains-any"?new wx(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new mx(e,i):new gx(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hh(n,this.value)):n!==null&&uu(this.value)===uu(n)&&this.matchesComparison(Hh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Es=class t extends Ob{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return N5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function N5(t){return t.op==="and"}function k5(t){return nie(t)&&N5(t)}function nie(t){for(let e of t.filters)if(e instanceof Es)return!1;return!0}function fx(t){if(t instanceof Qn)return t.field.canonicalString()+t.op.toString()+Gh(t.value);if(k5(t))return t.filters.map(e=>fx(e)).join(",");{let e=t.filters.map(n=>fx(n)).join(",");return`${t.op}(${e})`}}function F5(t,e){return t instanceof Qn?function(i,r){return r instanceof Qn&&i.op===r.op&&i.field.isEqual(r.field)&&bs(i.value,r.value)}(t,e):t instanceof Es?function(i,r){return r instanceof Es&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&F5(a,r.filters[l]),!0):!1}(t,e):void Le()}function L5(t){return t instanceof Qn?function(n){return`${n.field.canonicalString()} ${n.op} ${Gh(n.value)}`}(t):t instanceof Es?function(n){return n.op.toString()+" {"+n.getFilters().map(L5).join(" ,")+"}"}(t):"Filter"}var px=class extends Qn{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){let n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}},mx=class extends Qn{constructor(e,n){super(e,"in",n),this.keys=V5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gx=class extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=V5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function V5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>xe.fromName(i.referenceValue))}var vx=class extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return LM(n)&&Qg(n.arrayValue,this.value)}},yx=class extends Qn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Qg(this.value.arrayValue,n)}},_x=class extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Qg(this.value.arrayValue,n)}},wx=class extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!LM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qg(this.value.arrayValue,i))}};var bx=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function u5(t,e=null,n=[],i=[],r=null,o=null,a=null){return new bx(t,e,n,i,r,o,a)}function VM(t){let e=ze(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fx(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),eE(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Gh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Gh(i)).join(",")),e.ce=n}return e.ce}function jM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!F5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l5(t.startAt,e.startAt)&&l5(t.endAt,e.endAt)}function Ex(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function iie(t,e,n,i,r,o,a,l){return new Wh(t,e,n,i,r,o,a,l)}function j5(t){return new Wh(t)}function d5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rie(t){return t.collectionGroup!==null}function qg(t){let e=ze(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ni(Cr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new zh(o,i))}),n.has(Cr.keyField().canonicalString())||e.le.push(new zh(Cr.keyField(),i))}return e.le}function ys(t){let e=ze(t);return e.he||(e.he=oie(e,qg(t))),e.he}function oie(t,e){if(t.limitType==="F")return u5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new zh(r.field,o)});let n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return u5(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Cx(t,e,n){return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tE(t,e){return jM(ys(t),ys(e))&&t.limitType===e.limitType}function U5(t){return`${VM(ys(t))}|lt:${t.limitType}`}function Nh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>L5(r)).join(", ")}]`),eE(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Gh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Gh(r)).join(",")),`Target(${i})`}(ys(t))}; limitType=${t.limitType})`}function nE(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of qg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let h=c5(a,l,d);return a.inclusive?h<=0:h<0}(i.startAt,qg(i),r)||i.endAt&&!function(a,l,d){let h=c5(a,l,d);return a.inclusive?h>=0:h>0}(i.endAt,qg(i),r))}(t,e)}function sie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B5(t){return(e,n)=>{let i=!1;for(let r of qg(t)){let o=aie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function aie(t,e,n){let i=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),h=l.data.field(o);return d!==null&&h!==null?Hh(d,h):Le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}var Ic=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rf(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return P5(this.inner)}size(){return this.innerSize}};var cie=new In(xe.comparator);function ma(){return cie}var $5=new In(xe.comparator);function Hg(...t){let e=$5;for(let n of t)e=e.insert(n.key,n);return e}function H5(t){let e=$5;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ou(){return zg()}function G5(){return zg()}function zg(){return new Ic(t=>t.toString(),(t,e)=>t.isEqual(e))}var lie=new In(xe.comparator),uie=new Ni(xe.comparator);function ht(...t){let e=uie;for(let n of t)e=e.add(n);return e}var die=new Ni(Ot);function hie(){return die}function q5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(e)?"-0":e}}function z5(t){return{integerValue:""+t}}function fie(t,e){return Qne(e)?z5(e):q5(t,e)}var Kh=class{constructor(){this._=void 0}};function pie(t,e,n){return t instanceof Yh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&kM(o)&&(o=FM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof du?K5(t,e):t instanceof hu?Y5(t,e):function(r,o){let a=W5(r,o),l=h5(a)+h5(r.Ie);return hx(a)&&hx(r.Ie)?z5(l):q5(r.serializer,l)}(t,e)}function mie(t,e,n){return t instanceof du?K5(t,e):t instanceof hu?Y5(t,e):n}function W5(t,e){return t instanceof Qh?function(i){return hx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Yh=class extends Kh{},du=class extends Kh{constructor(e){super(),this.elements=e}};function K5(t,e){let n=Q5(e);for(let i of t.elements)n.some(r=>bs(r,i))||n.push(i);return{arrayValue:{values:n}}}var hu=class extends Kh{constructor(e){super(),this.elements=e}};function Y5(t,e){let n=Q5(e);for(let i of t.elements)n=n.filter(r=>!bs(r,i));return{arrayValue:{values:n}}}var Qh=class extends Kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function h5(t){return En(t.integerValue||t.doubleValue)}function Q5(t){return LM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof du&&r instanceof du||i instanceof hu&&r instanceof hu?$h(i.elements,r.elements,bs):i instanceof Qh&&r instanceof Qh?bs(i.Ie,r.Ie):i instanceof Yh&&r instanceof Yh}(t.transform,e.transform)}var Ix=class{constructor(e,n){this.version=e,this.transformResults=n}},wc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ib(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Xh=class{};function X5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xg(t.key,wc.none()):new fu(t.key,t.data,wc.none());{let n=t.data,i=Do.empty(),r=new Ni(Cr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new ga(t.key,i,new gs(r.toArray()),wc.none())}}function vie(t,e,n){t instanceof fu?function(r,o,a){let l=r.value.clone(),d=p5(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(r,o,a){if(!Ib(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=p5(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(J5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Wg(t,e,n,i){return t instanceof fu?function(o,a,l,d){if(!Ib(o.precondition,a))return l;let h=o.value.clone(),m=m5(o.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ga?function(o,a,l,d){if(!Ib(o.precondition,a))return l;let h=m5(o.fieldTransforms,d,a),m=a.data;return m.setAll(J5(o)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return Ib(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function yie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=W5(i.transform,r||null);o!=null&&(n===null&&(n=Do.empty()),n.set(i.field,o))}return n||null}function f5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&$h(i,r,(o,a)=>gie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fu=class extends Xh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ga=class extends Xh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function J5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function p5(t,e,n){let i=new Map;Kt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,mie(a,l,n[r]))}return i}function m5(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,pie(o,a,e))}return i}var Xg=class extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sx=class extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Tx=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&vie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Wg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Wg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=G5();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=X5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&$h(this.mutations,e.mutations,(n,i)=>f5(n,i))&&$h(this.baseMutations,e.baseMutations,(n,i)=>f5(n,i))}},Dx=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Kt(e.mutations.length===i.length);let r=function(){return lie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var Ax=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xx=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Hn,wt;function _ie(t){switch(t){default:return Le();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Z5(t){if(t===void 0)return ws("GRPC error has no .code"),W.UNKNOWN;switch(t){case Hn.OK:return W.OK;case Hn.CANCELLED:return W.CANCELLED;case Hn.UNKNOWN:return W.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return W.INTERNAL;case Hn.UNAVAILABLE:return W.UNAVAILABLE;case Hn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Hn.NOT_FOUND:return W.NOT_FOUND;case Hn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Hn.ABORTED:return W.ABORTED;case Hn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Hn.DATA_LOSS:return W.DATA_LOSS;default:return Le()}}(wt=Hn||(Hn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var g5=null;function wie(){return new TextEncoder}var bie=new iu([4294967295,4294967295],0);function v5(t){let e=wie().encode(t),n=new t5;return n.update(e),new Uint8Array(n.digest())}function y5(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new iu([n,i],0),new iu([r,o],0)]}var Mx=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(i<0)throw new su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=iu.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(iu.fromNumber(i)));return r.compare(bie)===1&&(r=new iu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=v5(e),[i,r]=y5(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=v5(e),[i,r]=y5(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},su=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rb=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Jg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(qe.min(),r,new In(Ot),ma(),ht())}},Jg=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ht(),ht(),ht())}};var jh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Nb=class{constructor(e,n){this.targetId=e,this.fe=n}},kb=class{constructor(e,n,i=Xi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Fb=class{constructor(){this.ge=0,this.pe=w5(),this.ye=Xi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ht(),n=ht(),i=ht();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Le()}}),new Jg(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=w5()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Kt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Px=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ma(),this.Qe=_5(),this.Ke=new In(Ot)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(Ex(o))if(i===0){let a=new xe(o.path);this.We(n,a,xo.newNoDocument(a,qe.min()))}else Kt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}g5?.tt(function(m,v,y,b,w){var C,T,P,k,B,A;let J={localCacheCount:m,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},j=v.unchangedNames;return j&&(J.bloomFilter={applied:w===0,hashCount:(C=j?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(k=(P=(T=j?.bits)===null||T===void 0?void 0:T.bitmap)===null||P===void 0?void 0:P.length)!==null&&k!==void 0?k:0,padding:(A=(B=j?.bits)===null||B===void 0?void 0:B.padding)!==null&&A!==void 0?A:0,mightContain:ie=>{var be;return(be=b?.mightContain(ie))!==null&&be!==void 0&&be}}),J}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Cc(i).toUint8Array()}catch(d){if(d instanceof Mb)return Bh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new Mx(a,r,o)}catch(d){return Bh(d instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&Ex(l.target)){let d=new xe(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,xo.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=ht();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let h=this.Ye(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new Rb(e,n,this.Ke,this.qe,i);return this.qe=ma(),this.Qe=_5(),this.Ke=new In(Ot),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Fb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ni(Ot),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Fb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function _5(){return new In(xe.comparator)}function w5(){return new In(xe.comparator)}var Eie={asc:"ASCENDING",desc:"DESCENDING"},Cie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iie={and:"AND",or:"OR"},Ox=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Rx(t,e){return t.useProto3Json||eE(e)?e:{value:e}}function Lb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sie(t,e){return Lb(t,e.toTimestamp())}function _s(t){return Kt(!!t),qe.fromTimestamp(function(n){let i=Ec(n);return new bi(i.seconds,i.nanos)}(t))}function UM(t,e){return Nx(t,e).canonicalString()}function Nx(t,e){let n=function(r){return new Cn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t$(t){let e=Cn.fromString(t);return Kt(s$(e)),e}function kx(t,e){return UM(t.databaseId,e.path)}function KA(t,e){let n=t$(e);if(n.get(1)!==t.databaseId.projectId)throw new we(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(i$(n))}function n$(t,e){return UM(t.databaseId,e)}function Tie(t){let e=t$(t);return e.length===4?Cn.emptyPath():i$(e)}function Fx(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i$(t){return Kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b5(t,e,n){return{name:kx(t,e),fields:n.value.mapValue.fields}}function Die(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(Kt(m===void 0||typeof m=="string"),Xi.fromBase64String(m||"")):(Kt(m===void 0||m instanceof Uint8Array),Xi.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){let m=h.code===void 0?W.UNKNOWN:Z5(h.code);return new we(m,h.message||"")}(a);n=new kb(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=KA(t,i.document.name),o=_s(i.document.updateTime),a=i.document.createTime?_s(i.document.createTime):qe.min(),l=new Do({mapValue:{fields:i.document.fields}}),d=xo.newFoundDocument(r,o,a,l),h=i.targetIds||[],m=i.removedTargetIds||[];n=new jh(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=KA(t,i.document),o=i.readTime?_s(i.readTime):qe.min(),a=xo.newNoDocument(r,o),l=i.removedTargetIds||[];n=new jh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=KA(t,i.document),o=i.removedTargetIds||[];n=new jh([],o,r,null)}else{if(!("filter"in e))return Le();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new xx(r,o),l=i.targetId;n=new Nb(l,a)}}return n}function Aie(t,e){let n;if(e instanceof fu)n={update:b5(t,e.key,e.value)};else if(e instanceof Xg)n={delete:kx(t,e.key)};else if(e instanceof ga)n={update:b5(t,e.key,e.data),updateMask:Lie(e.fieldMask)};else{if(!(e instanceof Sx))return Le();n={verify:kx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Yh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof du)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Sie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le()}(t,e.precondition)),n}function xie(t,e){return t&&t.length>0?(Kt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?_s(r.updateTime):_s(o);return a.isEqual(qe.min())&&(a=_s(o)),new Ix(a,r.transformResults||[])}(n,e))):[]}function Mie(t,e){return{documents:[n$(t,e.path)]}}function Pie(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=n$(t,r);let o=function(h){if(h.length!==0)return o$(Es.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:kh(y.field),direction:Nie(y.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=Rx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:r}}function Oie(t){let e=Tie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Kt(i===1);let m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){let y=r$(v);return y instanceof Es&&k5(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new zh(Fh(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,eE(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,b=v.values||[];return new qh(b,y)}(n.startAt));let h=null;return n.endAt&&(h=function(v){let y=!v.before,b=v.values||[];return new qh(b,y)}(n.endAt)),iie(e,r,a,o,l,"F",d,h)}function Rie(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Fh(n.unaryFilter.field);return Qn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Fh(n.unaryFilter.field);return Qn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fh(n.unaryFilter.field);return Qn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Fh(n.unaryFilter.field);return Qn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return Qn.create(Fh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Es.create(n.compositeFilter.filters.map(i=>r$(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function Nie(t){return Eie[t]}function kie(t){return Cie[t]}function Fie(t){return Iie[t]}function kh(t){return{fieldPath:t.canonicalString()}}function Fh(t){return Cr.fromServerFormat(t.fieldPath)}function o$(t){return t instanceof Qn?function(n){if(n.op==="=="){if(a5(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NAN"}};if(s5(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a5(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NAN"}};if(s5(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(n.field),op:kie(n.op),value:n.value}}}(t):t instanceof Es?function(n){let i=n.getFilters().map(r=>o$(r));return i.length===1?i[0]:{compositeFilter:{op:Fie(n.op),filters:i}}}(t):Le()}function Lie(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Zg=class t{constructor(e,n,i,r,o=qe.min(),a=qe.min(),l=Xi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Lx=class{constructor(e){this.ct=e}};function Vie(t){let e=Oie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cx(e,e.limit,"L"):e}var Vb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(En(e.integerValue));else if("doubleValue"in e){let i=En(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Kg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Cc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?O5(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Le()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),xe.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Vb.bt=new Vb;var Vx=class{constructor(){this._n=new jx}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(lu.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(lu.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},jx=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ni(Cn.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ni(Cn.comparator)).toArray()}};var ube=new Uint8Array(0);var ms=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);var ev=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Ux=class{constructor(){this.changes=new Ic(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bx=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $x=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Wg(i.mutation,r,gs.empty(),bi.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ht()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ht()){let r=ou();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Hg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=ou();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ht()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=ma(),a=zg(),l=function(){return zg()}();return n.forEach((d,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof ga)?o=o.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Wg(m.mutation,h,m.mutation.getFieldMask(),bi.now())):a.set(h.key,gs.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>a.set(h,m)),n.forEach((h,m)=>{var v;return l.set(h,new Bx(m,(v=a.get(h))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=zg(),r=new In((a,l)=>a-l),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let h=n.get(d);if(h===null)return;let m=i.get(d)||gs.empty();m=l.applyToLocalView(h,m),i.set(d,m);let v=(r.get(l.batchId)||ht()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),h=d.key,m=d.value,v=G5();m.forEach(y=>{if(!o.has(y)){let b=X5(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,v))}return K.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):K.resolve(ou()),l=-1,d=o;return a.next(h=>K.forEach(h,(m,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(m)?K.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,ht())).next(m=>({batchId:l,changes:H5(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let r=Hg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=Hg();return this.indexManager.getCollectionParents(e,o).next(l=>K.forEach(l,d=>{let h=function(v,y){return new Wh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,xo.newInvalidDocument(m)))});let l=Hg();return a.forEach((d,h)=>{let m=o.get(d);m!==void 0&&Wg(m.mutation,h,gs.empty(),bi.now()),nE(n,h)&&(l=l.insert(d,h))}),l})}};var Hx=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:_s(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Vie(r.bundledQuery),readTime:_s(r.readTime)}}(n)),K.resolve()}};var Gx=class{constructor(){this.overlays=new In(xe.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ou();return K.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=ou(),o=n.length+1,a=new xe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new In((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=o.get(h.largestBatchId);m===null&&(m=ou(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let l=ou(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>l.set(h,m)),!(l.size()>=r)););return K.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Ax(n,i));let o=this.hr.get(n);o===void 0&&(o=ht(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var tv=class{constructor(){this.Pr=new Ni(Gn.Ir),this.Tr=new Ni(Gn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Gn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Gn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new xe(new Cn([])),i=new Gn(n,e),r=new Gn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new xe(new Cn([])),i=new Gn(n,e),r=new Gn(n,e+1),o=ht();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Gn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Gn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return xe.comparator(e.key,n.key)||Ot(e.pr,n.pr)}static Er(e,n){return Ot(e.pr,n.pr)||xe.comparator(e.key,n.key)}};var qx=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ni(Gn.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Tx(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new Gn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Gn(n,0),r=new Gn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ni(Ot);return n.forEach(r=>{let o=new Gn(r,0),a=new Gn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;xe.isDocumentKey(o)||(o=o.child(""));let a=new Gn(new xe(o),0),l=new Ni(Ot);return this.wr.forEachWhile(d=>{let h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(d.pr)),!0)},a),K.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Kt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let o=new Gn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Gn(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var zx=class{constructor(e){this.vr=e,this.docs=function(){return new In(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():xo.newInvalidDocument(n))}getEntries(e,n){let i=ma();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():xo.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ma(),a=n.path,l=new xe(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Kne(Wne(m),i)<=0||(r.has(m.key)||nE(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Le()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Wx(this)}getSize(e){return K.resolve(this.size)}},Wx=class extends Ux{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Kx=class{constructor(e){this.persistence=e,this.Mr=new Ic(n=>VM(n),jM),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new tv,this.targetCount=0,this.Br=ev.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new ev(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var Yx=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new M5(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Kx(this),this.indexManager=new Vx,this.remoteDocumentCache=function(r){return new zx(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Lx(n),this.$r=new Hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new qx(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);let r=new Qx(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},Qx=class extends sx{constructor(e){super(),this.currentSequenceNumber=e}},Xx=class t{constructor(e){this.persistence=e,this.zr=new tv,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Le()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=xe.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,qe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Jx=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ht(),r=ht();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var Zx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eM=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return lU()?8:Ab.v(Ht())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new Zx;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?($g()<=at.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Nh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):($g()<=at.DEBUG&&ce("QueryEngine","Query:",Nh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?($g()<=at.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Nh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):K.resolve())}ji(e,n){if(d5(n))return K.resolve(null);let i=ys(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Cx(n,null,"F"),i=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=ht(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let h=this.Zi(n,l);return this.Xi(n,h,a,d.readTime)?this.ji(e,Cx(n,null,"F")):this.es(e,h,n,d)}))})))}Hi(e,n,i,r){return d5(n)||r.isEqual(qe.min())?K.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?K.resolve(null):($g()<=at.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(n)),this.es(e,a,n,zne(r,-1)).next(l=>l))})}Zi(e,n){let i=new Ni(B5(e));return n.forEach((r,o)=>{nE(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return $g()<=at.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Nh(n)),this.zi.getDocumentsMatchingQuery(e,n,lu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var tM=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new In(Ot),this.rs=new Ic(o=>VM(o),jM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $x(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function jie(t,e,n,i){return new tM(t,e,n,i)}function a$(t,e){return E(this,null,function*(){let n=ze(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=ht();for(let h of r){a.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}for(let h of o){l.push(h.batchId);for(let m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})})}function Uie(t,e){let n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,h,m){let v=h.batch,y=v.keys(),b=K.resolve();return y.forEach(w=>{b=b.next(()=>m.getEntry(d,w)).next(C=>{let T=h.docVersions.get(w);Kt(T!==null),C.version.compareTo(T)<0&&(v.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),m.addEntry(C)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=ht();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(d=d.add(l.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function c$(t){let e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Bie(t,e){let n=ze(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((m,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Xi.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,i)),r=r.insert(v,b),function(C,T,P){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,b,m)&&l.push(n.Qr.updateTargetData(o,b))});let d=ma(),h=ht();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),l.push($ie(o,a,e.documentUpdates).next(m=>{d=m.cs,h=m.ls})),!i.isEqual(qe.min())){let m=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(m)}return K.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.ns=r,o))}function $ie(t,e,n){let i=ht(),r=ht();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=ma();return n.forEach((l,d)=>{let h=o.get(l);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):ce("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",d.version)}),{cs:a,ls:r}})}function Hie(t,e){let n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gie(t,e){let n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new Zg(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function nM(t,e,n){return E(this,null,function*(){let i=ze(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!sv(a))throw a;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function E5(t,e,n){let i=ze(t),r=qe.min(),o=ht();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,h,m){let v=ze(d),y=v.rs.get(m);return y!==void 0?K.resolve(v.ns.get(y)):v.Qr.getTargetData(h,m)}(i,a,ys(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:qe.min(),n?o:ht())).next(l=>(qie(i,sie(e),l),{documents:l,hs:o})))}function qie(t,e,n){let i=t.ss.get(e)||qe.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var jb=class{constructor(){this.activeTargetIds=hie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var iM=class{constructor(){this.no=new jb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new jb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rM=class{io(e){}shutdown(){}};var Ub=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Eb=null;function YA(){return Eb===null?Eb=function(){return 268435456+Math.round(2147483648*Math.random())}():Eb++,"0x"+Eb.toString(16)}var zie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var oM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Ri="WebChannelConnection",sM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=YA(),d=this.bo(n,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,o,a),this.Co(n,d,h,r).then(m=>(ce("RestConnection",`Received RPC '${n}' ${l}: `,m),m),m=>{throw Bh("RestConnection",`RPC '${n}' ${l} failed with error: `,m,"url: ",d,"request:",r),m})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=zie[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=YA();return new Promise((a,l)=>{let d=new e5;d.setWithCredentials(!0),d.listenOnce(J4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case wb.NO_ERROR:let m=d.getResponseJson();ce(Ri,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case wb.TIMEOUT:ce(Ri,`RPC '${e}' ${o} timed out`),l(new we(W.DEADLINE_EXCEEDED,"Request time out"));break;case wb.HTTP_ERROR:let v=d.getStatus();if(ce(Ri,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let w=function(T){let P=T.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(P)>=0?P:W.UNKNOWN}(b.status);l(new we(w,b.message))}else l(new we(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new we(W.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ce(Ri,`RPC '${e}' ${o} completed.`)}});let h=JSON.stringify(r);ce(Ri,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,i,15)})}Fo(e,n,i){let r=YA(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Q4(),l=X4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let m=o.join("");ce(Ri,`Creating RPC '${e}' stream ${r}: ${m}`,d);let v=a.createWebChannel(m,d),y=!1,b=!1,w=new oM({lo:T=>{b?ce(Ri,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(y||(ce(Ri,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),ce(Ri,`RPC '${e}' stream ${r} sending:`,T),v.send(T))},ho:()=>v.close()}),C=(T,P,k)=>{T.listen(P,B=>{try{k(B)}catch(A){setTimeout(()=>{throw A},0)}})};return C(v,Bg.EventType.OPEN,()=>{b||ce(Ri,`RPC '${e}' stream ${r} transport opened.`)}),C(v,Bg.EventType.CLOSE,()=>{b||(b=!0,ce(Ri,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),C(v,Bg.EventType.ERROR,T=>{b||(b=!0,Bh(Ri,`RPC '${e}' stream ${r} transport errored:`,T),w.Vo(new we(W.UNAVAILABLE,"The operation could not be completed")))}),C(v,Bg.EventType.MESSAGE,T=>{var P;if(!b){let k=T.data[0];Kt(!!k);let B=k,A=B.error||((P=B[0])===null||P===void 0?void 0:P.error);if(A){ce(Ri,`RPC '${e}' stream ${r} received error:`,A);let J=A.status,j=function(He){let Xe=Hn[He];if(Xe!==void 0)return Z5(Xe)}(J),ie=A.message;j===void 0&&(j=W.INTERNAL,ie="Unknown error status: "+J+" with message "+A.message),b=!0,w.Vo(new we(j,ie)),v.close()}else ce(Ri,`RPC '${e}' stream ${r} received:`,k),w.mo(k)}}),C(l,Z4.STAT_EVENT,T=>{T.stat===WA.PROXY?ce(Ri,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===WA.NOPROXY&&ce(Ri,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function QA(){return typeof document<"u"?document:null}function iE(t){return new Ox(t,!0)}var Bb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var $b=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Bb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return E(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return E(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return E(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new we(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>E(this,null,function*(){this.state=0,this.start()}))}__(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},aM=class extends $b{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Die(this.serializer,e),i=function(o){if(!("targetChange"in o))return qe.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?_s(a.readTime):qe.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=Fx(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=Ex(d)?{documents:Mie(o,d)}:{query:Pie(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=e$(o,a.resumeToken);let h=Rx(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(qe.min())>0){l.readTime=Lb(o,a.snapshotVersion.toTimestamp());let h=Rx(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);let i=Rie(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=Fx(this.serializer),n.removeTarget=e,this.t_(n)}},cM=class extends $b{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=xie(e.writeResults,e.commitTime),i=_s(e.commitTime);return this.listener.T_(i,n)}return Kt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Fx(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Aie(this.serializer,i))};this.t_(n)}};var lM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new we(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,Nx(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(W.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,Nx(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(W.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var uM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ws(n),this.g_=!1):ce("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var dM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>E(this,null,function*(){pu(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),yield function(d){return E(this,null,function*(){let h=ze(d);h.v_.add(4),yield av(h),h.x_.set("Unknown"),h.v_.delete(4),yield rE(h)})}(this))}))}),this.x_=new uM(i,r)}};function rE(t){return E(this,null,function*(){if(pu(t))for(let e of t.F_)yield e(!0)})}function av(t){return E(this,null,function*(){for(let e of t.F_)yield e(!1)})}function l$(t,e){let n=ze(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),HM(n)?$M(n):of(n).Jo()&&BM(n,e))}function u$(t,e){let n=ze(t),i=of(n);n.C_.delete(e),i.Jo()&&d$(n,e),n.C_.size===0&&(i.Jo()?i.Xo():pu(n)&&n.x_.set("Unknown"))}function BM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}of(t).c_(e)}function d$(t,e){t.O_.Oe(e),of(t).l_(e)}function $M(t){t.O_=new Px({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),of(t).start(),t.x_.p_()}function HM(t){return pu(t)&&!of(t).Ho()&&t.C_.size>0}function pu(t){return ze(t).v_.size===0}function h$(t){t.O_=void 0}function Wie(t){return E(this,null,function*(){t.C_.forEach((e,n)=>{BM(t,e)})})}function Kie(t,e){return E(this,null,function*(){h$(t),HM(t)?(t.x_.S_(e),$M(t)):t.x_.set("Unknown")})}function Yie(t,e,n){return E(this,null,function*(){if(t.x_.set("Online"),e instanceof kb&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Hb(t,i)}else if(e instanceof jh?t.O_.$e(e):e instanceof Nb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(qe.min()))try{let i=yield c$(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){let m=o.C_.get(h);m&&o.C_.set(h,m.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,h)=>{let m=o.C_.get(d);if(!m)return;o.C_.set(d,m.withResumeToken(Xi.EMPTY_BYTE_STRING,m.snapshotVersion)),d$(o,d);let v=new Zg(m.target,d,h,m.sequenceNumber);BM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),yield Hb(t,i)}})}function Hb(t,e,n){return E(this,null,function*(){if(!sv(e))throw e;t.v_.add(1),yield av(t),t.x_.set("Offline"),n||(n=()=>c$(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){ce("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield rE(t)}))})}function f$(t,e){return e().catch(n=>Hb(t,n,e))}function oE(t){return E(this,null,function*(){let e=ze(t),n=Sc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Qie(e);)try{let r=yield Hie(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,Xie(e,r)}catch(r){yield Hb(e,r)}p$(e)&&m$(e)})}function Qie(t){return pu(t)&&t.D_.length<10}function Xie(t,e){t.D_.push(e);let n=Sc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function p$(t){return pu(t)&&!Sc(t).Ho()&&t.D_.length>0}function m$(t){Sc(t).start()}function Jie(t){return E(this,null,function*(){Sc(t).d_()})}function Zie(t){return E(this,null,function*(){let e=Sc(t);for(let n of t.D_)e.I_(n.mutations)})}function ere(t,e,n){return E(this,null,function*(){let i=t.D_.shift(),r=Dx.from(i,e,n);yield f$(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield oE(t)})}function tre(t,e){return E(this,null,function*(){e&&Sc(t).P_&&(yield function(i,r){return E(this,null,function*(){if(function(a){return _ie(a)&&a!==W.ABORTED}(r.code)){let o=i.D_.shift();Sc(i).Zo(),yield f$(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield oE(i)}})}(t,e)),p$(t)&&m$(t)})}function C5(t,e){return E(this,null,function*(){let n=ze(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");let i=pu(n);n.v_.add(3),yield av(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield rE(n)})}function nre(t,e){return E(this,null,function*(){let n=ze(t);e?(n.v_.delete(2),yield rE(n)):e||(n.v_.add(2),yield av(n),n.x_.set("Unknown"))})}function of(t){return t.N_||(t.N_=function(n,i,r){let o=ze(n);return o.R_(),new aM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Wie.bind(null,t),To:Kie.bind(null,t),u_:Yie.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.N_.Zo(),HM(t)?$M(t):t.x_.set("Unknown")):(yield t.N_.stop(),h$(t))}))),t.N_}function Sc(t){return t.B_||(t.B_=function(n,i,r){let o=ze(n);return o.R_(),new cM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Jie.bind(null,t),To:tre.bind(null,t),E_:Zie.bind(null,t),T_:ere.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.B_.Zo(),yield oE(t)):(yield t.B_.stop(),t.D_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var hM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function GM(t,e){if(ws("AsyncQueue",`${e}: ${t}`),sv(t))return new we(W.UNAVAILABLE,`${e}: ${t}`);throw t}var Gb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Hg(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var qb=class{constructor(){this.L_=new In(xe.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Le():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Jh=class t{constructor(e,n,i,r,o,a,l,d,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Gb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var fM=class{constructor(){this.q_=void 0,this.Q_=[]}},pM=class{constructor(){this.queries=new Ic(e=>U5(e),tE),this.onlineState="Unknown",this.K_=new Set}};function ire(t,e){return E(this,null,function*(){let n=ze(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new fM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=GM(a,`Initialization of query '${Nh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&qM(n)})}function rre(t,e){return E(this,null,function*(){let n=ze(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function ore(t,e){let n=ze(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&qM(n)}function sre(t,e,n){let i=ze(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function qM(t){t.K_.forEach(e=>{e.next()})}var mM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Jh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var zb=class{constructor(e){this.key=e}},Wb=class{constructor(e){this.key=e}},gM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ht(),this.mutatedKeys=ht(),this.ua=B5(e),this.ca=new Gb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new qb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{let y=r.get(m),b=nE(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),T=!1;y&&b?y.data.isEqual(b.data)?w!==C&&(i.track({type:3,doc:b}),T=!0):this.Ia(y,b)||(i.track({type:2,doc:b}),T=!0,(d&&this.ua(b,d)>0||h&&this.ua(b,h)<0)&&(l=!0)):!y&&b?(i.track({type:0,doc:b}),T=!0):y&&!b&&(i.track({type:1,doc:y}),T=!0,(d||h)&&(l=!0)),T&&(b?(a=a.add(b),o=C?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((m,v)=>function(b,w){let C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return C(b)-C(w)}(m.type,v.type)||this.ua(m.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,h=d!==this._a;return this._a=d,a.length!==0||h?{snapshot:new Jh(this.query,e.ca,o,a,e.mutatedKeys,d===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new qb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ht(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Wb(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new zb(i))}),n}Ra(e){this.oa=e.hs,this.aa=ht();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Jh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},vM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},yM=class{constructor(e){this.key=e,this.ma=!1}},_M=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Ic(l=>U5(l),tE),this.pa=new Map,this.ya=new Set,this.wa=new In(xe.comparator),this.Sa=new Map,this.ba=new tv,this.Da={},this.Ca=new Map,this.va=ev.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function are(t,e){return E(this,null,function*(){let n=vre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield Gie(n.localStore,ys(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield cre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&l$(n.remoteStore,a)}return r})}function cre(t,e,n,i,r){return E(this,null,function*(){t.Ma=(v,y,b)=>function(C,T,P,k){return E(this,null,function*(){let B=T.view.ha(P);B.Xi&&(B=yield E5(C.localStore,T.query,!1).then(({documents:ie})=>T.view.ha(ie,B)));let A=k&&k.targetChanges.get(T.targetId),J=k&&k.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(B,C.isPrimaryClient,A,J);return S5(C,T.targetId,j.da),j.snapshot})}(t,v,y,b);let o=yield E5(t.localStore,e,!0),a=new gM(e,o.hs),l=a.ha(o.documents),d=Jg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),h=a.applyChanges(l,t.isPrimaryClient,d);S5(t,n,h.da);let m=new vM(e,n,a);return t.ga.set(e,m),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),h.snapshot})}function lre(t,e){return E(this,null,function*(){let n=ze(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!tE(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),u$(n.remoteStore,i.targetId),wM(n,i.targetId)}).catch(ov))):(wM(n,i.targetId),yield nM(n.localStore,i.targetId,!0))})}function ure(t,e,n){return E(this,null,function*(){let i=yre(t);try{let r=yield function(a,l){let d=ze(a),h=bi.now(),m=l.reduce((b,w)=>b.add(w.key),ht()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=ma(),C=ht();return d.os.getEntries(b,m).next(T=>{w=T,w.forEach((P,k)=>{k.isValidDocument()||(C=C.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,w)).next(T=>{v=T;let P=[];for(let k of l){let B=yie(k,v.get(k.key).overlayedDocument);B!=null&&P.push(new ga(k.key,B,R5(B.value.mapValue),wc.exists(!0)))}return d.mutationQueue.addMutationBatch(b,h,P,l)}).next(T=>{y=T;let P=T.applyToLocalDocumentSet(v,C);return d.documentOverlayCache.saveOverlays(b,T.batchId,P)})}).then(()=>({batchId:y.batchId,changes:H5(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let h=a.Da[a.currentUser.toKey()];h||(h=new In(Ot)),h=h.insert(l,d),a.Da[a.currentUser.toKey()]=h}(i,r.batchId,n),yield cv(i,r.changes),yield oE(i.remoteStore)}catch(r){let o=GM(r,"Failed to persist write");n.reject(o)}})}function g$(t,e){return E(this,null,function*(){let n=ze(t);try{let i=yield Bie(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Kt(a.ma):r.removedDocuments.size>0&&(Kt(a.ma),a.ma=!1))}),yield cv(n,i,e)}catch(i){yield ov(i)}})}function I5(t,e,n){let i=ze(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=ze(a);d.onlineState=l;let h=!1;d.queries.forEach((m,v)=>{for(let y of v.Q_)y.U_(l)&&(h=!0)}),h&&qM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dre(t,e,n){return E(this,null,function*(){let i=ze(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new In(xe.comparator);a=a.insert(o,xo.newNoDocument(o,qe.min()));let l=ht().add(o),d=new Rb(qe.min(),new Map,new In(Ot),a,l);yield g$(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),zM(i)}else yield nM(i.localStore,e,!1).then(()=>wM(i,e,n)).catch(ov)})}function hre(t,e){return E(this,null,function*(){let n=ze(t),i=e.batch.batchId;try{let r=yield Uie(n.localStore,e);y$(n,i,null),v$(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield cv(n,r)}catch(r){yield ov(r)}})}function fre(t,e,n){return E(this,null,function*(){let i=ze(t);try{let r=yield function(a,l){let d=ze(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,l).next(v=>(Kt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(h,v))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(i.localStore,e);y$(i,e,n),v$(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield cv(i,r)}catch(r){yield ov(r)}})}function v$(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function y$(t,e,n){let i=ze(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function wM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||_$(t,i)})}function _$(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(u$(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),zM(t))}function S5(t,e,n){for(let i of n)i instanceof zb?(t.ba.addReference(i.key,e),pre(t,i)):i instanceof Wb?(ce("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||_$(t,i.key)):Le()}function pre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(ce("SyncEngine","New document in limbo: "+n),t.ya.add(i),zM(t))}function zM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new xe(Cn.fromString(e)),i=t.va.next();t.Sa.set(i,new yM(n)),t.wa=t.wa.insert(n,i),l$(t.remoteStore,new Zg(ys(j5(n.path)),i,"TargetPurposeLimboResolution",M5._e))}}function cv(t,e,n){return E(this,null,function*(){let i=ze(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(h=>{if((h||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,h?.fromCache?"not-current":"current"),h){r.push(h);let m=Jx.Ki(d.targetId,h);o.push(m)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,h){return E(this,null,function*(){let m=ze(d);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(h,y=>K.forEach(y.qi,b=>m.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.Qi,b=>m.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!sv(v))throw v;ce("LocalStore","Failed to update sequence numbers: "+v)}for(let v of h){let y=v.targetId;if(!v.fromCache){let b=m.ns.get(y),w=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(w);m.ns=m.ns.insert(y,C)}}})}(i.localStore,o))})}function mre(t,e){return E(this,null,function*(){let n=ze(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());let i=yield a$(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new we(W.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield cv(n,i.us)}})}function gre(t,e){let n=ze(t),i=n.Sa.get(e);if(i&&i.ma)return ht().add(i.key);{let r=ht(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function vre(t){let e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dre.bind(null,e),e.fa.u_=ore.bind(null,e.eventManager),e.fa.xa=sre.bind(null,e.eventManager),e}function yre(t){let e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fre.bind(null,e),e}var Kb=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=iE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jie(this.persistence,new eM,e.initialUser,this.serializer)}createPersistence(e){return new Yx(Xx.Hr,this.serializer)}createSharedClientState(e){return new iM}terminate(){return E(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var bM=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>I5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mre.bind(null,this.syncEngine),yield nre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pM}()}createDatastore(e){let n=iE(e.databaseInfo.databaseId),i=function(o){return new sM(o)}(e.databaseInfo);return function(o,a,l,d){return new lM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new dM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>I5(this.syncEngine,n,0),function(){return Ub.D()?new Ub:new rM}())}createSyncEngine(e,n){return function(r,o,a,l,d,h,m){let v=new _M(r,o,a,l,d,h);return m&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return E(this,null,function*(){var e;yield function(i){return E(this,null,function*(){let r=ze(i);ce("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield av(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var EM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var CM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=hi.UNAUTHENTICATED,this.clientId=Tb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){ce("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(ce("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=GM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function XA(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield a$(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function T5(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield wre(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>C5(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>C5(e.remoteStore,r)),t._onlineComponents=e})}function _re(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function wre(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield XA(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!_re(n))throw n;Bh("Error using user provided cache. Falling back to memory cache: "+n),yield XA(t,new Kb)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),yield XA(t,new Kb);return t._offlineComponents})}function w$(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield T5(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),yield T5(t,new bM))),t._onlineComponents})}function bre(t){return w$(t).then(e=>e.syncEngine)}function Ere(t){return E(this,null,function*(){let e=yield w$(t),n=e.eventManager;return n.onListen=are.bind(null,e.syncEngine),n.onUnlisten=lre.bind(null,e.syncEngine),n})}function Cre(t,e,n={}){let i=new Ao;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,a,l,d,h){let m=new EM({next:y=>{a.enqueueAndForget(()=>rre(o,v)),y.fromCache&&d.source==="server"?h.reject(new we(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),v=new mM(l,m,{includeMetadataChanges:!0,Z_:!0});return ire(o,v)}(yield Ere(t),t.asyncQueue,e,n,i)})),i.promise}function b$(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var D5=new Map;function E$(t,e,n){if(!n)throw new we(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ire(t,e,n,i){if(e===!0&&i===!0)throw new we(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function A5(t){if(!xe.isDocumentKey(t))throw new we(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x5(t){if(xe.isDocumentKey(t))throw new we(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Zh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=WM(t);throw new we(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Yb=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ire("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b$((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ef=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new we(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JA;switch(i.type){case"firstParty":return new nx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=D5.get(n);i&&(ce("ComponentProvider","Removing Datastore"),D5.delete(n),i.terminate())}(this),Promise.resolve()}};function C$(t,e,n,i={}){var r;let o=(t=Zh(t,ef))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=hi.MOCK_USER;else{l=sU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new we(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hi(h)}t._authCredentials=new ZA(new Sb(l,d))}}var Qb=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},bc=class t extends Qb{constructor(e,n,i){super(e,n,j5(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new xe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function I$(t,e,...n){if(t=Ke(t),E$("collection","path",e),t instanceof ef){let i=Cn.fromString(e,...n);return x5(i),new bc(t,null,i)}{if(!(t instanceof qr||t instanceof bc))throw new we(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Cn.fromString(e,...n));return x5(i),new bc(t.firestore,null,i)}}function S$(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=Tb.newId()),E$("doc","path",e),t instanceof ef){let i=Cn.fromString(e,...n);return A5(i),new qr(t,null,new xe(i))}{if(!(t instanceof qr||t instanceof bc))throw new we(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Cn.fromString(e,...n));return A5(i),new qr(t.firestore,t instanceof bc?t.converter:null,new xe(i))}}var IM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Bb(this,"async_queue_retry"),this._u=()=>{let n=QA();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=QA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=QA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ao;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!sv(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw ws("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=hM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Le()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var tf=class extends ef{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new IM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A$(this),this._firestoreClient.terminate()}};function T$(t,e){let n=typeof t=="object"?t:Ll(),i=typeof t=="string"?t:e||"(default)",r=Fl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=oU("firestore");o&&C$(r,...o)}return r}function D$(t){return t._firestoreClient||A$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function A$(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,h,m){return new ux(l,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,b$(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new CM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var nv=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xi.fromBase64String(e))}catch(n){throw new we(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var iv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xb=class{constructor(e){this._methodName=e}};var rv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}};var Sre=/^__.*__$/,SM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}};function x$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var TM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Jb(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(x$(this.du)&&Sre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},DM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||iE(e)}Su(e,n,i,r=!1){return new TM({du:e,methodName:n,wu:i,path:Cr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Tre(t){let e=t._freezeSettings(),n=iE(t._databaseId);return new DM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dre(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);R$("Data must be an object, but it was:",a,i);let l=P$(i,a),d,h;if(o.merge)d=new gs(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let v of o.mergeFields){let y=Are(e,v,n);if(!a.contains(y))throw new we(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Mre(m,y)||m.push(y)}d=new gs(m),h=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,h=a.fieldTransforms;return new SM(new Do(l),d,h)}function M$(t,e){if(O$(t=Ke(t)))return R$("Unsupported field value:",e,t),P$(t,e);if(t instanceof Xb)return function(i,r){if(!x$(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=M$(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=bi.fromDate(i);return{timestampValue:Lb(r.serializer,o)}}if(i instanceof bi){let o=new bi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lb(r.serializer,o)}}if(i instanceof rv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nv)return{bytesValue:e$(r.serializer,i._byteString)};if(i instanceof qr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:UM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${WM(i)}`)}(t,e)}function P$(t,e){let n={};return P5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rf(t,(i,r)=>{let o=M$(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function O$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bi||t instanceof rv||t instanceof nv||t instanceof qr||t instanceof Xb)}function R$(t,e,n){if(!O$(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=WM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Are(t,e,n){if((e=Ke(e))instanceof iv)return e._internalPath;if(typeof e=="string")return N$(t,e);throw Jb("Field path arguments must be of type string or ",t,!1,void 0,n)}var xre=new RegExp("[~\\*/\\[\\]]");function N$(t,e,n){if(e.search(xre)>=0)throw Jb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iv(...e.split("."))._internalPath}catch{throw Jb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jb(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new we(W.INVALID_ARGUMENT,l+t+d)}function Mre(t,e){return t.some(n=>n.isEqual(e))}var Zb=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(k$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},AM=class extends Zb{data(){return super.data()}};function k$(t,e){return typeof e=="string"?N$(t,e):e instanceof iv?e._internalPath:e._delegate._internalPath}function Pre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xM=class{convertValue(e,n="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return rf(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new rv(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=FM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yg(e));default:return null}}convertTimestamp(e){let n=Ec(e);return new bi(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Cn.fromString(e);Kt(s$(i));let r=new Pb(i.get(1),i.get(3)),o=new xe(i.popFirst(5));return r.isEqual(n)||ws(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Ore(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Vh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},MM=class extends Zb{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(k$("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Uh=class extends MM{data(e={}){return super.data(e)}},PM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Vh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Uh(this._firestore,this._userDataWriter,i.key,i,new Vh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new Uh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Uh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:Rre(l.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Rre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}var OM=class extends xM{constructor(e){super(),this.firestore=e}convertBytes(e){return new nv(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,n)}};function F$(t){t=Zh(t,Qb);let e=Zh(t.firestore,tf),n=D$(e),i=new OM(e);return Pre(t._query),Cre(n,t._query).then(r=>new PM(e,i,t,r))}function L$(t,e,n){t=Zh(t,qr);let i=Zh(t.firestore,tf),r=Ore(t.converter,e,n);return j$(i,[Dre(Tre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,wc.none())])}function V$(t){return j$(Zh(t.firestore,tf),[new Xg(t._key,wc.none())])}function j$(t,e){return function(i,r){let o=new Ao;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return ure(yield bre(i),r,o)})),o.promise}(D$(t),e)}(function(e,n=!0){(function(r){nf=r})(wo),_o(new xi("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new tf(new ex(i.getProvider("auth-internal")),new rx(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pb(h.options.projectId,m)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),an(n5,"4.4.3",e),an(n5,"4.4.3","esm2017")})();var mu=class{constructor(e){return e}},U$="firestore",KM=class{constructor(){return Cm(U$)}};var YM=new ve("angularfire2.firestore-instances");function Nre(t,e){let n=pw(U$,t,e);return n&&new mu(n)}function kre(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new mu(i)}}var Fre={provide:KM,deps:[[new Ki,YM]]},Lre={provide:mu,useFactory:Nre,deps:[[new Ki,YM],sa]},Vre=(()=>{class t{constructor(){an("angularfire",jl.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=qi({type:t});static \u0275inj=Wi({providers:[Lre,Fre]})}return t})();function B$(t,...e){return{ngModule:Vre,providers:[{provide:YM,useFactory:kre(t),multi:!0,deps:[yt,Wt,ph,Ul,[new Ki,yg],[new Ki,fh],...e]}]}}var $$=bo(I$,!0);var H$=bo(V$,!0);var QM=bo(S$,!0);var G$=bo(F$,!0);var q$=bo(T$,!0);var z$=bo(L$,!0);var ZM=class extends X0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},eP=class t extends ZM{static makeCurrent(){Vj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ure();return n==null?null:Bre(n)}resetBaseElement(){lv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return J0(document.cookie,e)}},lv=null;function Ure(){return lv=lv||document.querySelector("base"),lv?lv.getAttribute("href"):null}function Bre(t){return new URL(t,document.baseURI).pathname}var $re=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),tP=new ve(""),Y$=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(re(tP),re(yt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),sE=class{constructor(e){this._doc=e}},XM="ng-app-id",Q$=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${XM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(XM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(XM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(re(yi),re(ZT),re(nD,8),re(Fr))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),JM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iP=/%COMP%/g,X$="%COMP%",Hre=`_nghost-${X$}`,Gre=`_ngcontent-${X$}`,qre=!0,zre=new ve("",{providedIn:"root",factory:()=>qre});function Wre(t){return Gre.replace(iP,t)}function Kre(t){return Hre.replace(iP,t)}function J$(t,e){return e.map(n=>n.replace(iP,t))}var aE=(()=>{let e=class e{constructor(i,r,o,a,l,d,h,m=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=h,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=lm(d),this.defaultRenderer=new uv(i,l,h,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yo.ShadowDom&&(r=Et(Z({},r),{encapsulation:Yo.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof cE?o.applyToHost(i):o instanceof dv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,h=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Yo.Emulated:a=new cE(h,m,r,this.appId,v,l,d,y);break;case Yo.ShadowDom:return new nP(h,m,i,r,l,d,this.nonce,y);default:a=new dv(h,m,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(re(Y$),re(Q$),re(ZT),re(zre),re(yi),re(Fr),re(yt),re(nD))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),uv=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(JM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(W$(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(W$(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new X(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=JM[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=JM[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Qs.DashCase|Qs.Important)?e.style.setProperty(n,i,r&Qs.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Qs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ia().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function W$(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nP=class extends uv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=J$(r.id,r.styles);for(let m of h){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=m,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dv=class extends uv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?J$(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cE=class extends dv{constructor(e,n,i,r,o,a,l,d){let h=r+"-"+i.id;super(e,n,i,o,a,l,d,h),this.contentAttr=Wre(h),this.hostAttr=Kre(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Yre=(()=>{let e=class e extends sE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(re(yi))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),K$=["alt","control","meta","shift"],Qre={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xre={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Jre=(()=>{let e=class e extends sE{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),K$.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),l+=m+".")}),l+=a,r.length!=0||a.length===0)return null;let h={};return h.domEventName=o,h.fullKey=l,h}static matchEventFullKeyCode(i,r){let o=Qre[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),K$.forEach(l=>{if(l!==o){let d=Xre[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(re(yi))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function Z$(t,e){return Pj(Z({rootComponent:t},Zre(e)))}function Zre(t){return{appProviders:[...roe,...t?.providers??[]],platformProviders:ioe}}function eoe(){eP.makeCurrent()}function toe(){return new Zo}function noe(){return kV(document),document}var ioe=[{provide:Fr,useValue:$j},{provide:eD,useValue:eoe,multi:!0},{provide:yi,useFactory:noe,deps:[]}];var roe=[{provide:F0,useValue:"root"},{provide:Zo,useFactory:toe,deps:[]},{provide:tP,useClass:Yre,multi:!0,deps:[yi,yt,Fr]},{provide:tP,useClass:Jre,multi:!0,deps:[yi]},aE,Q$,Y$,{provide:Il,useExisting:aE},{provide:ch,useClass:$re,deps:[]},[]];var e6=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(re(yi))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=re(ooe),o},providedIn:"root"});let t=e;return t})(),ooe=(()=>{let e=class e extends rP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case is.NONE:return r;case is.HTML:return ic(r,"HTML")?Lr(r):I3(this._doc,String(r)).toString();case is.STYLE:return ic(r,"Style")?Lr(r):r;case is.SCRIPT:if(ic(r,"Script"))return Lr(r);throw new X(5200,!1);case is.URL:return ic(r,"URL")?Lr(r):U0(String(r));case is.RESOURCE_URL:if(ic(r,"ResourceURL"))return Lr(r);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(i){return m3(i)}bypassSecurityTrustStyle(i){return g3(i)}bypassSecurityTrustScript(i){return v3(i)}bypassSecurityTrustUrl(i){return y3(i)}bypassSecurityTrustResourceUrl(i){return _3(i)}};e.\u0275fac=function(r){return new(r||e)(re(yi))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ye=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ye||{}),Cs="*";function Is(t,e){return{type:Ye.Trigger,name:t,definitions:e,options:{}}}function ar(t,e=null){return{type:Ye.Animate,styles:e,timings:t}}function n6(t,e=null){return{type:Ye.Sequence,steps:t,options:e}}function jt(t){return{type:Ye.Style,styles:t,offset:null}}function Ji(t,e,n=null){return{type:Ye.Transition,expr:t,animation:e,options:n}}var Tc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},hv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},lE="!";function i6(t){return new X(3e3,!1)}function soe(){return new X(3100,!1)}function aoe(){return new X(3101,!1)}function coe(t){return new X(3001,!1)}function loe(t){return new X(3003,!1)}function uoe(t){return new X(3004,!1)}function doe(t,e){return new X(3005,!1)}function hoe(){return new X(3006,!1)}function foe(){return new X(3007,!1)}function poe(t,e){return new X(3008,!1)}function moe(t){return new X(3002,!1)}function goe(t,e,n,i,r){return new X(3010,!1)}function voe(){return new X(3011,!1)}function yoe(){return new X(3012,!1)}function _oe(){return new X(3200,!1)}function woe(){return new X(3202,!1)}function boe(){return new X(3013,!1)}function Eoe(t){return new X(3014,!1)}function Coe(t){return new X(3015,!1)}function Ioe(t){return new X(3016,!1)}function Soe(t,e){return new X(3404,!1)}function Toe(t){return new X(3502,!1)}function Doe(t){return new X(3503,!1)}function Aoe(){return new X(3300,!1)}function xoe(t){return new X(3504,!1)}function Moe(t){return new X(3301,!1)}function Poe(t,e){return new X(3302,!1)}function Ooe(t){return new X(3303,!1)}function Roe(t,e){return new X(3400,!1)}function Noe(t){return new X(3401,!1)}function koe(t){return new X(3402,!1)}function Foe(t,e){return new X(3505,!1)}function Dc(t){switch(t.length){case 0:return new Tc;case 1:return t[0];default:return new hv(t)}}function v6(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let h=d.get("offset"),m=h==a,v=m&&l||new Map;d.forEach((y,b)=>{let w=b,C=y;if(b!=="offset")switch(w=t.normalizePropertyName(w,r),C){case lE:C=n.get(b);break;case Cs:C=i.get(b);break;default:C=t.normalizeStyleValue(b,w,C,r);break}v.set(w,C)}),m||o.push(v),l=v,a=h}),r.length)throw Toe(r);return o}function DP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&oP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&oP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&oP(n,"destroy",t)));break}}function oP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=AP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function AP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Sr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function r6(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Loe=typeof document>"u"?null:document.documentElement;function xP(t){let e=t.parentNode||t.host||null;return e===Loe?null:e}function Voe(t){return t.substring(1,6)=="ebkit"}var gu=null,o6=!1;function joe(t){gu||(gu=Uoe()||{},o6=gu.style?"WebkitAppearance"in gu.style:!1);let e=!0;return gu.style&&!Voe(t)&&(e=t in gu.style,!e&&o6&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gu.style)),e}function Uoe(){return typeof document<"u"?document.body:null}function y6(t,e){for(;e;){if(e===t)return!0;e=xP(e)}return!1}function _6(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var MP=(()=>{let e=class e{validateStyleProperty(i){return joe(i)}matchesElement(i,r){return!1}containsElement(i,r){return y6(i,r)}getParentElement(i){return xP(i)}query(i,r,o){return _6(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],h){return new Tc(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})(),NP=class NP{};NP.NOOP=new MP;var _u=NP,wu=class{};var Boe=1e3,w6="{{",$oe="}}",b6="ng-enter",dP="ng-leave",uE="ng-trigger",mE=".ng-trigger",s6="ng-animating",hP=".ng-animating";function va(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fP(parseFloat(e[1]),e[2])}function fP(t,e){switch(e){case"s":return t*Boe;default:return t}}function gE(t,e,n){return t.hasOwnProperty("duration")?t:Hoe(t,e,n)}function Hoe(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(i6(t)),{duration:0,delay:0,easing:""};r=fP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=fP(parseFloat(d),l[4]));let h=l[5];h&&(a=h)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(soe()),l=!0),o<0&&(e.push(aoe()),l=!0),l&&e.splice(d,0,i6(t))}return{duration:r,delay:o,easing:a}}function Goe(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ss(t,e,n){e.forEach((i,r)=>{let o=PP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function yu(t,e){e.forEach((n,i)=>{let r=PP(i);t.style[r]=""})}function fv(t){return Array.isArray(t)?t.length==1?t[0]:n6(t):t}function qoe(t,e,n){let i=e.params||{},r=E6(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(coe(o))})}var pP=new RegExp(`${w6}\\s*(.+?)\\s*${$oe}`,"g");function E6(t){let e=[];if(typeof t=="string"){let n;for(;n=pP.exec(t);)e.push(n[1]);pP.lastIndex=0}return e}function mv(t,e,n){let i=`${t}`,r=i.replace(pP,(o,a)=>{let l=e[a];return l==null&&(n.push(loe(a)),l=""),l.toString()});return r==i?t:r}var zoe=/-+([a-z0-9])/g;function PP(t){return t.replace(zoe,(...e)=>e[1].toUpperCase())}function Woe(t,e){return t===0||e===0}function Koe(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,OP(t,l)))}}return e}function Ir(t,e,n){switch(e.type){case Ye.Trigger:return t.visitTrigger(e,n);case Ye.State:return t.visitState(e,n);case Ye.Transition:return t.visitTransition(e,n);case Ye.Sequence:return t.visitSequence(e,n);case Ye.Group:return t.visitGroup(e,n);case Ye.Animate:return t.visitAnimate(e,n);case Ye.Keyframes:return t.visitKeyframes(e,n);case Ye.Style:return t.visitStyle(e,n);case Ye.Reference:return t.visitReference(e,n);case Ye.AnimateChild:return t.visitAnimateChild(e,n);case Ye.AnimateRef:return t.visitAnimateRef(e,n);case Ye.Query:return t.visitQuery(e,n);case Ye.Stagger:return t.visitStagger(e,n);default:throw uoe(e.type)}}function OP(t,e){return window.getComputedStyle(t)[e]}var Yoe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),vE=class extends wu{normalizePropertyName(e,n){return PP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(Yoe.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(doe(e,i))}return a+o}};var yE="*";function Qoe(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>Xoe(i,n,e)):n.push(t),n}function Xoe(t,e,n){if(t[0]==":"){let d=Joe(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Coe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(a6(r,a));let l=r==yE&&a==yE;o[0]=="<"&&!l&&e.push(a6(a,r))}function Joe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Ioe(t)),"* => *"}}var dE=new Set(["true","1"]),hE=new Set(["false","0"]);function a6(t,e){let n=dE.has(t)||hE.has(t),i=dE.has(e)||hE.has(e);return(r,o)=>{let a=t==yE||t==r,l=e==yE||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?dE.has(t):hE.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?dE.has(e):hE.has(e)),a&&l}}var C6=":self",Zoe=new RegExp(`s*${C6}s*,?`,"g");function I6(t,e,n,i){return new mP(t).build(e,n,i)}var c6="",mP=class{constructor(e){this._driver=e}build(e,n,i){let r=new gP(n);return this._resetContextStyleTimingState(r),Ir(this,fv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=c6,e.collectedStyles=new Map,e.collectedStyles.set(c6,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(hoe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==Ye.State){let d=l,h=d.name;h.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,o.push(this.visitState(d,n))}),d.name=h}else if(l.type==Ye.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(foe())}),{type:Ye.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{E6(d).forEach(h=>{a.hasOwnProperty(h)||o.add(h)})})}),o.size&&n.errors.push(poe(e.name,[...o.values()]))}return{type:Ye.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Ir(this,fv(e.animation),n),r=Qoe(e.expr,n.errors);return{type:Ye.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:vu(e.options)}}visitSequence(e,n){return{type:Ye.Sequence,steps:e.steps.map(i=>Ir(this,i,n)),options:vu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=Ir(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:Ye.Group,steps:o,options:vu(e.options)}}visitAnimate(e,n){let i=ise(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:jt({});if(o.type==Ye.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let h={};i.easing&&(h.easing=i.easing),a=jt(h)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:Ye.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Cs?i.push(l):n.errors.push(moe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(w6)>=0){o=!0;break}}}),{type:Ye.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let h=n.collectedStyles.get(n.currentQuerySelector),m=h.get(d),v=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(n.errors.push(goe(d,m.startTime,m.endTime,o,r)),v=!1),o=m.startTime),v&&h.set(d,{startTime:o,endTime:r}),n.options&&qoe(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ye.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(voe()),i;let r=1,o=0,a=[],l=!1,d=!1,h=0,m=e.steps.map(P=>{let k=this._makeStyleAst(P,n),B=k.offset!=null?k.offset:nse(k.styles),A=0;return B!=null&&(o++,A=k.offset=B),d=d||A<0||A>1,l=l||A<h,h=A,a.push(A),k});d&&n.errors.push(yoe()),l&&n.errors.push(_oe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(woe()):o==0&&(y=r/(v-1));let b=v-1,w=n.currentTime,C=n.currentAnimateTimings,T=C.duration;return m.forEach((P,k)=>{let B=y>0?k==b?1:y*k:a[k],A=B*T;n.currentTime=w+C.delay+A,C.duration=A,this._validateStyleAst(P,n),P.offset=B,i.styles.push(P)}),i}visitReference(e,n){return{type:Ye.Reference,animation:Ir(this,fv(e.animation),n),options:vu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ye.AnimateChild,options:vu(e.options)}}visitAnimateRef(e,n){return{type:Ye.AnimateRef,animation:this.visitReference(e.animation,n),options:vu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=ese(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Sr(n.collectedStyles,n.currentQuerySelector,new Map);let l=Ir(this,fv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ye.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:vu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(boe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:gE(e.timings,n.errors,!0);return{type:Ye.Stagger,animation:Ir(this,fv(e.animation),n),timings:i,options:null}}};function ese(t){let e=!!t.split(/\s*,\s*/).find(n=>n==C6);return e&&(t=t.replace(Zoe,"")),t=t.replace(/@\*/g,mE).replace(/@\w+/g,n=>mE+"-"+n.slice(1)).replace(/:animating/g,hP),[t,e]}function tse(t){return t?Z({},t):null}var gP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function nse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function ise(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=gE(t,e).duration;return sP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=gE(n,e);return sP(r.duration,r.delay,r.easing)}function vu(t){return t?(t=Z({},t),t.params&&(t.params=tse(t.params))):t={},t}function sP(t,e,n){return{duration:t,delay:e,easing:n}}function RP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var gv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},rse=1,ose=":enter",sse=new RegExp(ose,"g"),ase=":leave",cse=new RegExp(ase,"g");function S6(t,e,n,i,r,o=new Map,a=new Map,l,d,h=[]){return new vP().buildKeyframes(t,e,n,i,r,o,a,l,d,h)}var vP=class{buildKeyframes(e,n,i,r,o,a,l,d,h,m=[]){h=h||new gv;let v=new yP(e,n,h,r,o,m,[]);v.options=d;let y=d.delay?va(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),Ir(this,i,v);let b=v.timelines.filter(w=>w.containsAnimation());if(b.length&&l.size){let w;for(let C=b.length-1;C>=0;C--){let T=b[C];if(T.element===n){w=T;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return b.length?b.map(w=>w.buildKeyframes()):[RP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:va(mv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?va(i.duration):null,l=i.delay!=null?va(i.delay):null;return a!==0&&e.forEach(d=>{let h=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,h.duration+h.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Ir(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_E);let a=va(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Ir(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),Ir(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?mv(i,n.params,n.errors):i;return gE(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ye.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let h=d.offset||0;l.forwardTime(h*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(n.previousNode.type===Ye.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=_E);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((h,m)=>{n.currentQueryIndex=m;let v=n.createSubContext(e.options,h);o&&v.delayNextStep(o),h===n.element&&(d=v.currentTimeline),Ir(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let m=n.currentTimeline;d&&m.delayNextStep(d);let v=m.currentTime;Ir(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},_E={},yP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_E,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new wE(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=va(i.duration)),i.delay!=null&&(r.delay=va(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=mv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=_E,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new _P(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(sse,"."+this._enterClassName),e=e.replace(cse,"."+this._leaveClassName);let d=i!=1,h=this._driver.query(this.element,e,d);i!==0&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),l.push(...h)}return!o&&l.length==0&&a.push(Eoe(n)),l}},wE=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=rse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Cs),this._currentKeyframe.set(n,Cs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=lse(e,this._globalTimelineStyles);for(let[l,d]of a){let h=mv(d,o,i);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Cs),this._updateStyle(l,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let h=new Map([...this._backFill,...l]);h.forEach((m,v)=>{m===lE?e.add(v):m===Cs&&n.add(v)}),i||h.set("offset",d/this.duration),r.push(h)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return RP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},_P=class extends wE{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let h=new Map(e[0]);h.set("offset",l6(l)),o.push(h);let m=e.length-1;for(let v=1;v<=m;v++){let y=new Map(e[v]),b=y.get("offset"),w=n+b*i;y.set("offset",l6(w/a)),o.push(y)}i=a,n=0,r="",e=o}return RP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function l6(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function lse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Cs)}else for(let[o,a]of r)n.set(o,a)}),n}function u6(t,e,n,i,r,o,a,l,d,h,m,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:h,postStyleProps:m,totalTime:v,errors:y}}var aP={},bE=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return use(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,h,m){let v=[],y=this.ast.options&&this.ast.options.params||aP,b=l&&l.params||aP,w=this.buildStyles(i,b,v),C=d&&d.params||aP,T=this.buildStyles(r,C,v),P=new Set,k=new Map,B=new Map,A=r==="void",J={params:T6(C,y),delay:this.ast.options?.delay},j=m?[]:S6(e,n,this.ast.animation,o,a,w,T,J,h,v),ie=0;return j.forEach(be=>{ie=Math.max(be.duration+be.delay,ie)}),v.length?u6(n,this._triggerName,i,r,A,w,T,[],[],k,B,ie,v):(j.forEach(be=>{let He=be.element,Xe=Sr(k,He,new Set);be.preStyleProps.forEach($e=>Xe.add($e));let Ce=Sr(B,He,new Set);be.postStyleProps.forEach($e=>Ce.add($e)),He!==n&&P.add(He)}),u6(n,this._triggerName,i,r,A,w,T,j,[...P.values()],k,B,ie))}};function use(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function T6(t,e){let n=Z({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var wP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=T6(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=mv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function dse(t,e,n){return new bP(t,e,n)}var bP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new wP(r.style,o,i))}),d6(this.states,"true","1"),d6(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new bE(e,r,this.states))}),this.fallbackTransition=hse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function hse(t,e,n){let i=[(a,l)=>!0],r={type:Ye.Sequence,steps:[],options:null},o={type:Ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new bE(t,o,e)}function d6(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var fse=new gv,EP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=I6(this._driver,n,i,r);if(i.length)throw Doe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=v6(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=S6(this._driver,n,o,b6,dP,new Map,new Map,i,fse,r),a.forEach(m=>{let v=Sr(l,m.element,new Map);m.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(Aoe()),a=[]),r.length)throw xoe(r);l.forEach((m,v)=>{m.forEach((y,b)=>{m.set(b,this._driver.computeStyle(v,b,Cs))})});let d=a.map(m=>{let v=l.get(m.element);return this._buildPlayer(m,new Map,v)}),h=Dc(d);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Moe(e);return n}listen(e,n,i,r){let o=AP(n,"","","");return DP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},h6="ng-animate-queued",pse=".ng-animate-queued",cP="ng-animate-disabled",mse=".ng-animate-disabled",gse="ng-star-inserted",vse=".ng-star-inserted",yse=[],D6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_se={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mo="__ng_removed",vv=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=bse(r),i){let o=e,{value:a}=o,l=JI(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},pv="void",lP=new vv(pv),CP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw Poe(i,n);if(i==null||i.length==0)throw Ooe(n);if(!Ese(i))throw Roe(i,n);let o=Sr(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Sr(this._engine.statesByElement,e,new Map);return l.has(n)||(zr(e,uE),zr(e,uE+"-"+n),l.set(n,lP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Noe(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new yv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(zr(e,uE),zr(e,uE+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),h=new vv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),l.set(n,h),d||(d=lP),!(h.value===pv)&&d.value===h.value){if(!Sse(d.params,h.params)){let C=[],T=o.matchStyles(d.value,d.params,C),P=o.matchStyles(h.value,h.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{yu(e,T),Ss(e,P)})}return}let y=Sr(this._engine.playersByElement,e,[]);y.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let b=o.matchTransition(d.value,h.value,e,h.params),w=!1;if(!b){if(!r)return;b=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:b,fromState:d,toState:h,player:a,isFallbackTransition:w}),w||(zr(e,h6),a.onStart(()=>{sf(e,h6)})),a.onDone(()=>{let C=this.players.indexOf(a);C>=0&&this.players.splice(C,1);let T=this._engine.playersByElement.get(e);if(T){let P=T.indexOf(a);P>=0&&T.splice(P,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,mE,!0);i.forEach(r=>{if(r[Mo])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,h)=>{if(a.set(h,d.value),this._triggers.has(h)){let m=this.trigger(e,h,pv,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&Dc(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,h=i.get(a)||lP,m=new vv(pv),v=new yv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:h,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Mo];(!o||o===D6)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){zr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=AP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,DP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},IP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new CP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let h=i.indexOf(d);i.splice(h+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(fE(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!fE(n))return;let o=n[Mo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),zr(e,cP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sf(e,cP))}removeNode(e,n,i){if(fE(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Mo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return fE(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,mE,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,hP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Dc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Mo];if(n&&n.setForRemoval){if(e[Mo]=D6,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(cP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,mse,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];zr(r,gse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Dc(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw koe(e)}_flushAnimations(e,n){let i=new gv,r=[],o=new Map,a=[],l=new Map,d=new Map,h=new Map,m=new Set;this.disabledNodes.forEach(H=>{m.add(H);let ne=this.driver.query(H,pse,!0);for(let ue=0;ue<ne.length;ue++)m.add(ne[ue])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=m6(y,this.collectedEnterElements),w=new Map,C=0;b.forEach((H,ne)=>{let ue=b6+C++;w.set(ne,ue),H.forEach(Pe=>zr(Pe,ue))});let T=[],P=new Set,k=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let ne=this.collectedLeaveElements[H],ue=ne[Mo];ue&&ue.setForRemoval&&(T.push(ne),P.add(ne),ue.hasAnimation?this.driver.query(ne,vse,!0).forEach(Pe=>P.add(Pe)):k.add(ne))}let B=new Map,A=m6(y,Array.from(P));A.forEach((H,ne)=>{let ue=dP+C++;B.set(ne,ue),H.forEach(Pe=>zr(Pe,ue))}),e.push(()=>{b.forEach((H,ne)=>{let ue=w.get(ne);H.forEach(Pe=>sf(Pe,ue))}),A.forEach((H,ne)=>{let ue=B.get(ne);H.forEach(Pe=>sf(Pe,ue))}),T.forEach(H=>{this.processLeaveNode(H)})});let J=[],j=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(ue=>{let Pe=ue.player,et=ue.element;if(J.push(Pe),this.collectedEnterElements.length){let ct=et[Mo];if(ct&&ct.setForMove){if(ct.previousTriggersValues&&ct.previousTriggersValues.has(ue.triggerName)){let Fn=ct.previousTriggersValues.get(ue.triggerName),rn=this.statesByElement.get(ue.element);if(rn&&rn.has(ue.triggerName)){let Fi=rn.get(ue.triggerName);Fi.value=Fn,rn.set(ue.triggerName,Fi)}}Pe.destroy();return}}let Dn=!v||!this.driver.containsElement(v,et),Rt=B.get(et),Zn=w.get(et),ft=this._buildInstruction(ue,i,Zn,Rt,Dn);if(ft.errors&&ft.errors.length){j.push(ft);return}if(Dn){Pe.onStart(()=>yu(et,ft.fromStyles)),Pe.onDestroy(()=>Ss(et,ft.toStyles)),r.push(Pe);return}if(ue.isFallbackTransition){Pe.onStart(()=>yu(et,ft.fromStyles)),Pe.onDestroy(()=>Ss(et,ft.toStyles)),r.push(Pe);return}let Si=[];ft.timelines.forEach(ct=>{ct.stretchStartingKeyframe=!0,this.disabledNodes.has(ct.element)||Si.push(ct)}),ft.timelines=Si,i.append(et,ft.timelines);let dr={instruction:ft,player:Pe,element:et};a.push(dr),ft.queriedElements.forEach(ct=>Sr(l,ct,[]).push(Pe)),ft.preStyleProps.forEach((ct,Fn)=>{if(ct.size){let rn=d.get(Fn);rn||d.set(Fn,rn=new Set),ct.forEach((Fi,Pr)=>rn.add(Pr))}}),ft.postStyleProps.forEach((ct,Fn)=>{let rn=h.get(Fn);rn||h.set(Fn,rn=new Set),ct.forEach((Fi,Pr)=>rn.add(Pr))})});if(j.length){let H=[];j.forEach(ne=>{H.push(Foe(ne.triggerName,ne.errors))}),J.forEach(ne=>ne.destroy()),this.reportError(H)}let ie=new Map,be=new Map;a.forEach(H=>{let ne=H.element;i.has(ne)&&(be.set(ne,ne),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,ie))}),r.forEach(H=>{let ne=H.element;this._getPreviousPlayers(ne,!1,H.namespaceId,H.triggerName,null).forEach(Pe=>{Sr(ie,ne,[]).push(Pe),Pe.destroy()})});let He=T.filter(H=>g6(H,d,h)),Xe=new Map;p6(Xe,this.driver,k,h,Cs).forEach(H=>{g6(H,d,h)&&He.push(H)});let $e=new Map;b.forEach((H,ne)=>{p6($e,this.driver,new Set(H),d,lE)}),He.forEach(H=>{let ne=Xe.get(H),ue=$e.get(H);Xe.set(H,new Map([...ne?.entries()??[],...ue?.entries()??[]]))});let Se=[],nn=[],We={};a.forEach(H=>{let{element:ne,player:ue,instruction:Pe}=H;if(i.has(ne)){if(m.has(ne)){ue.onDestroy(()=>Ss(ne,Pe.toStyles)),ue.disabled=!0,ue.overrideTotalTime(Pe.totalTime),r.push(ue);return}let et=We;if(be.size>1){let Rt=ne,Zn=[];for(;Rt=Rt.parentNode;){let ft=be.get(Rt);if(ft){et=ft;break}Zn.push(Rt)}Zn.forEach(ft=>be.set(ft,et))}let Dn=this._buildAnimation(ue.namespaceId,Pe,ie,o,$e,Xe);if(ue.setRealPlayer(Dn),et===We)Se.push(ue);else{let Rt=this.playersByElement.get(et);Rt&&Rt.length&&(ue.parentPlayer=Dc(Rt)),r.push(ue)}}else yu(ne,Pe.fromStyles),ue.onDestroy(()=>Ss(ne,Pe.toStyles)),nn.push(ue),m.has(ne)&&r.push(ue)}),nn.forEach(H=>{let ne=o.get(H.element);if(ne&&ne.length){let ue=Dc(ne);H.setRealPlayer(ue)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<T.length;H++){let ne=T[H],ue=ne[Mo];if(sf(ne,dP),ue&&ue.hasAnimation)continue;let Pe=[];if(l.size){let Dn=l.get(ne);Dn&&Dn.length&&Pe.push(...Dn);let Rt=this.driver.query(ne,hP,!0);for(let Zn=0;Zn<Rt.length;Zn++){let ft=l.get(Rt[Zn]);ft&&ft.length&&Pe.push(...ft)}}let et=Pe.filter(Dn=>!Dn.destroyed);et.length?Cse(this,ne,et):this.processLeaveNode(ne)}return T.length=0,Se.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let ne=this.players.indexOf(H);this.players.splice(ne,1)}),H.play()}),Se}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==pv;l.forEach(h=>{h.queued||!d&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let h=d.element,m=h!==o,v=Sr(i,h,[]);this._getPreviousPlayers(h,m,a,l,n.toState).forEach(b=>{let w=b.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),b.destroy(),v.push(b)})}yu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,h=[],m=new Set,v=new Set,y=n.timelines.map(w=>{let C=w.element;m.add(C);let T=C[Mo];if(T&&T.removedBeforeQueried)return new Tc(w.duration,w.delay);let P=C!==d,k=Ise((i.get(C)||yse).map(ie=>ie.getRealPlayer())).filter(ie=>{let be=ie;return be.element?be.element===C:!1}),B=o.get(C),A=a.get(C),J=v6(this._normalizer,w.keyframes,B,A),j=this._buildPlayer(w,J,k);if(w.subTimeline&&r&&v.add(C),P){let ie=new yv(e,l,C);ie.setRealPlayer(j),h.push(ie)}return j});h.forEach(w=>{Sr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>wse(this.playersByQueriedElement,w.element,w))}),m.forEach(w=>zr(w,s6));let b=Dc(y);return b.onDestroy(()=>{m.forEach(w=>sf(w,s6)),Ss(d,n.toStyles)}),v.forEach(w=>{Sr(r,w,[]).push(b)}),b}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Tc(e.duration,e.delay)}},yv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Tc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>DP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Sr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function wse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function bse(t){return t??null}function fE(t){return t&&t.nodeType===1}function Ese(t){return t=="start"||t=="done"}function f6(t,e){let n=t.style.display;return t.style.display=e??"none",n}function p6(t,e,n,i,r){let o=[];n.forEach(d=>o.push(f6(d)));let a=[];i.forEach((d,h)=>{let m=new Map;d.forEach(v=>{let y=e.computeStyle(h,v,r);m.set(v,y),(!y||y.length==0)&&(h[Mo]=_se,a.push(h))}),t.set(h,m)});let l=0;return n.forEach(d=>f6(d,o[l++])),a}function m6(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let h=l.parentNode;return n.has(h)?d=h:r.has(h)?d=i:d=a(h),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function zr(t,e){t.classList?.add(e)}function sf(t,e){t.classList?.remove(e)}function Cse(t,e,n){Dc(n).onDone(()=>t.processLeaveNode(e))}function Ise(t){let e=[];return A6(t,e),e}function A6(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof hv?A6(i.players,e):e.push(i)}}function Sse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function g6(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var cf=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new IP(e.body,n,i,r),this._timelineEngine=new EP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],h=[],m=I6(this._driver,o,d,h);if(d.length)throw Soe(r,d);h.length&&void 0,l=dse(r,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=r6(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=r6(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Tse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=uP(e[0]),e.length>1&&(i=uP(e[e.length-1]))):e instanceof Map&&(n=uP(e)),n||i?new SP(t,n,i):null}var af=class af{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=af.initialStylesByElement.get(e);r||af.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ss(this._element,this._initialStyles),this._endStyles&&(Ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(af.initialStylesByElement.delete(this._element),this._startStyles&&(yu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),Ss(this._element,this._initialStyles),this._state=3)}};af.initialStylesByElement=new WeakMap;var SP=af;function uP(t){let e=null;return t.forEach((n,i)=>{Dse(i)&&(e=e||new Map,e.set(i,n))}),e}function Dse(t){return t==="display"||t==="position"}var EE=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:OP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},CE=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return y6(e,n)}getParentElement(e){return xP(e)}query(e,n,i){return _6(e,n,i)}computeStyle(e,n,i){return OP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let h=new Map,m=a.filter(b=>b instanceof EE);Woe(i,r)&&m.forEach(b=>{b.currentSnapshot.forEach((w,C)=>h.set(C,w))});let v=Goe(n).map(b=>new Map(b));v=Koe(e,v,h);let y=Tse(e,v);return new EE(e,v,d,y)}};var pE="@",x6="@.disabled",IE=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==pE&&n==x6?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},TP=class extends IE{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==pE?n.charAt(1)=="."&&n==x6?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==pE){let r=Ase(e),o=n.slice(1),a="";return o.charAt(0)!=pE&&([o,a]=xse(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Ase(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function xse(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var SE=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let h=this._rendererCache,m=h.get(r);if(!m){let v=()=>h.delete(r);m=new IE(i,r,this.engine,v),h.set(r,m)}return m}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,e,h.name,h)};return n.data.animation.forEach(l),new TP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Pse=(()=>{let e=class e extends cf{constructor(i,r,o){super(i,r,o,te(Qp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(re(yi),re(_u),re(wu))},e.\u0275prov=ee({token:e,factory:e.\u0275fac});let t=e;return t})();function Ose(){return new vE}function Rse(t,e,n){return new SE(t,e,n)}var M6=[{provide:wu,useFactory:Ose},{provide:cf,useClass:Pse},{provide:Il,useFactory:Rse,deps:[aE,cf,yt]}],Nse=[{provide:_u,useFactory:()=>new CE},{provide:tD,useValue:"BrowserAnimations"},...M6],aCe=[{provide:_u,useClass:MP},{provide:tD,useValue:"NoopAnimations"},...M6];function P6(){return Dl("NgEagerAnimations"),[...Nse]}var Qe="primary",Rv=Symbol("RouteTitle"),jP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ff(t){return new jP(t)}function kse(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Fse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ts(t[n],e[n]))return!1;return!0}function Ts(t,e){let n=t?UP(t):void 0,i=e?UP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!L6(t[r],e[r]))return!1;return!0}function UP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function L6(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function V6(t){return t.length>0?t[t.length-1]:null}function Pc(t){return vS(t)?t:xl(t)?Jt(Promise.resolve(t)):Ue(t)}var Lse={exact:U6,subset:B6},j6={exact:Vse,subset:jse,ignored:()=>!0};function O6(t,e,n){return Lse[n.paths](t.root,e.root,n.matrixParams)&&j6[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Vse(t,e){return Ts(t,e)}function U6(t,e,n){if(!Eu(t.segments,e.segments)||!AE(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!U6(t.children[i],e.children[i],n))return!1;return!0}function jse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>L6(t[n],e[n]))}function B6(t,e,n){return $6(t,e,e.segments,n)}function $6(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Eu(r,n)||e.hasChildren()||!AE(r,n,i))}else if(t.segments.length===n.length){if(!Eu(t.segments,n)||!AE(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!B6(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Eu(t.segments,r)||!AE(t.segments,r,i)||!t.children[Qe]?!1:$6(t.children[Qe],e,o,i)}}function AE(t,e,n){return e.every((i,r)=>j6[n](t[r].parameters,i.parameters))}var Ac=class{constructor(e=new Ft([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ff(this.queryParams),this._queryParamMap}toString(){return $se.serialize(this)}},Ft=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xE(this)}},bu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ff(this.parameters),this._parameterMap}toString(){return G6(this)}};function Use(t,e){return Eu(t,e)&&t.every((n,i)=>Ts(n.parameters,e[i].parameters))}function Eu(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function Bse(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Qe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Qe&&(n=n.concat(e(r,i)))}),n}var hO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>new PE,providedIn:"root"});let t=e;return t})(),PE=class{parse(e){let n=new $P(e);return new Ac(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_v(e.root,!0)}`,i=qse(e.queryParams),r=typeof e.fragment=="string"?`#${Hse(e.fragment)}`:"";return`${n}${i}${r}`}},$se=new PE;function xE(t){return t.segments.map(e=>G6(e)).join("/")}function _v(t,e){if(!t.hasChildren())return xE(t);if(e){let n=t.children[Qe]?_v(t.children[Qe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Qe&&i.push(`${r}:${_v(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Bse(t,(i,r)=>r===Qe?[_v(t.children[Qe],!1)]:[`${r}:${_v(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Qe]!=null?`${xE(t)}/${n[0]}`:`${xE(t)}/(${n.join("//")})`}}function H6(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TE(t){return H6(t).replace(/%3B/gi,";")}function Hse(t){return encodeURI(t)}function BP(t){return H6(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ME(t){return decodeURIComponent(t)}function R6(t){return ME(t.replace(/\+/g,"%20"))}function G6(t){return`${BP(t.path)}${Gse(t.parameters)}`}function Gse(t){return Object.entries(t).map(([e,n])=>`;${BP(e)}=${BP(n)}`).join("")}function qse(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${TE(n)}=${TE(r)}`).join("&"):`${TE(n)}=${TE(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zse=/^[^\/()?;#]+/;function kP(t){let e=t.match(zse);return e?e[0]:""}var Wse=/^[^\/()?;=#]+/;function Kse(t){let e=t.match(Wse);return e?e[0]:""}var Yse=/^[^=?&#]+/;function Qse(t){let e=t.match(Yse);return e?e[0]:""}var Xse=/^[^&#]+/;function Jse(t){let e=t.match(Xse);return e?e[0]:""}var $P=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Qe]=new Ft(e,n)),i}parseSegment(){let e=kP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new bu(ME(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Kse(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=kP(this.remaining);r&&(i=r,this.capture(i))}e[ME(n)]=ME(i)}parseQueryParam(e){let n=Qse(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=Jse(this.remaining);a&&(i=a,this.capture(i))}let r=R6(n),o=R6(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=kP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qe);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Qe]:new Ft([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function q6(t){return t.segments.length>0?new Ft([],{[Qe]:t}):t}function z6(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=z6(r);if(i===Qe&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ft(t.segments,e);return Zse(n)}function Zse(t){if(t.numberOfChildren===1&&t.children[Qe]){let e=t.children[Qe];return new Ft(t.segments.concat(e.segments),e.children)}return t}function pf(t){return t instanceof Ac}function eae(t,e,n=null,i=null){let r=W6(t);return K6(r,e,n,i)}function W6(t){let e;function n(o){let a={};for(let d of o.children){let h=n(d);a[d.outlet]=h}let l=new Ft(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=q6(i);return e??r}function K6(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return FP(r,r,r,n,i);let o=tae(e);if(o.toRoot())return FP(r,r,new Ft([],{}),n,i);let a=nae(o,r,t),l=a.processChildren?Ev(a.segmentGroup,a.index,o.commands):Q6(a.segmentGroup,a.index,o.commands);return FP(r,a.segmentGroup,l,n,i)}function OE(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sv(t){return typeof t=="object"&&t!=null&&t.outlets}function FP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`});let a;t===e?a=n:a=Y6(t,e,n);let l=q6(z6(a));return new Ac(l,o,r)}function Y6(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Y6(o,e,n)}),new Ft(t.segments,i)}var RE=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&OE(i[0]))throw new X(4003,!1);let r=i.find(Sv);if(r&&r!==V6(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new RE(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new RE(n,e,i)}var df=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function nae(t,e,n){if(t.isAbsolute)return new df(e,!0,0);if(!n)return new df(e,!1,NaN);if(n.parent===null)return new df(n,!0,0);let i=OE(t.commands[0])?0:1,r=n.segments.length-1+i;return iae(n,r,t.numberOfDoubleDots)}function iae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new df(i,!1,r-o)}function rae(t){return Sv(t[0])?t[0].outlets:{[Qe]:t}}function Q6(t,e,n){if(t??=new Ft([],{}),t.segments.length===0&&t.hasChildren())return Ev(t,e,n);let i=oae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ft(t.segments.slice(0,i.pathIndex),{});return o.children[Qe]=new Ft(t.segments.slice(i.pathIndex),t.children),Ev(o,0,r)}else return i.match&&r.length===0?new Ft(t.segments,{}):i.match&&!t.hasChildren()?HP(t,e,n):i.match?Ev(t,0,r):HP(t,e,n)}function Ev(t,e,n){if(n.length===0)return new Ft(t.segments,{});{let i=rae(n),r={};if(Object.keys(i).some(o=>o!==Qe)&&t.children[Qe]&&t.numberOfChildren===1&&t.children[Qe].segments.length===0){let o=Ev(t.children[Qe],e,n);return new Ft(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Q6(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Ft(t.segments,r)}}function oae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(Sv(l))break;let d=`${l}`,h=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!k6(d,h,a))return o;i+=2}else{if(!k6(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function HP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Sv(o)){let d=sae(o.outlets);return new Ft(i,d)}if(r===0&&OE(n[0])){let d=t.segments[e];i.push(new bu(d.path,N6(n[0]))),r++;continue}let a=Sv(o)?o.outlets[Qe]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&OE(l)?(i.push(new bu(a,N6(l))),r+=2):(i.push(new bu(a,{})),r++)}return new Ft(i,{})}function sae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=HP(new Ft([],{}),0,i))}),e}function N6(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function k6(t,e,n){return t==n.path&&Ts(e,n.parameters)}var Cv="imperative",Ci=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ci||{}),Kr=class{constructor(e,n){this.id=e,this.url=n}},Tv=class extends Kr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ci.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xc=class extends Kr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ci.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Wr||{}),GP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(GP||{}),Mc=class extends Kr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ci.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cu=class extends Kr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ci.NavigationSkipped}},Dv=class extends Kr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ci.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},NE=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ci.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ci.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zP=class extends Kr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ci.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},WP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ci.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KP=class extends Kr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ci.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YP=class{constructor(e){this.route=e,this.type=Ci.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},QP=class{constructor(e){this.route=e,this.type=Ci.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},XP=class{constructor(e){this.snapshot=e,this.type=Ci.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},JP=class{constructor(e){this.snapshot=e,this.type=Ci.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZP=class{constructor(e){this.snapshot=e,this.type=Ci.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eO=class{constructor(e){this.snapshot=e,this.type=Ci.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Av=class{},xv=class{constructor(e){this.url=e}};var tO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new UE,this.attachRef=null}},UE=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new tO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kE=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=nO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=nO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=iO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return iO(e,this._root).map(n=>n.value)}};function nO(t,e){if(t===e.value)return e;for(let n of e.children){let i=nO(t,n);if(i)return i}return null}function iO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=iO(t,n);if(i.length)return i.unshift(e),i}return[]}var Tr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function uf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var FE=class extends kE{constructor(e,n){super(e),this.snapshot=n,pO(this,e)}toString(){return this.snapshot.toString()}};function X6(t){let e=aae(t),n=new Kn([new bu("",{})]),i=new Kn({}),r=new Kn({}),o=new Kn({}),a=new Kn(""),l=new Ei(n,i,o,a,r,Qe,t,e.root);return l.snapshot=e.root,new FE(new Tr(l,[]),e)}function aae(t){let e={},n={},i={},r="",o=new Mv([],e,i,r,n,Qe,t,null,{});return new LE("",new Tr(o,[]))}var Ei=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ne(h=>h[Rv]))??Ue(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>ff(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>ff(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Z(Z({},e.params),t.params),data:Z(Z({},e.data),t.data),resolve:Z(Z(Z(Z({},t.data),e.data),r?.data),t._resolvedData)}:i={params:Z({},t.params),data:Z({},t.data),resolve:Z(Z({},t.data),t._resolvedData??{})},r&&Z6(r)&&(i.resolve[Rv]=r.title),i}var Mv=class{get title(){return this.data?.[Rv]}constructor(e,n,i,r,o,a,l,d,h){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ff(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ff(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},LE=class extends kE{constructor(e,n){super(n),this.url=e,pO(this,n)}toString(){return J6(this._root)}};function pO(t,e){e.value._routerState=t,e.children.forEach(n=>pO(t,n))}function J6(t){let e=t.children.length>0?` { ${t.children.map(J6).join(", ")} } `:"";return`${t.value}${e}`}function LP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ts(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ts(e.params,n.params)||t.paramsSubject.next(n.params),Fse(e.url,n.url)||t.urlSubject.next(n.url),Ts(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rO(t,e){let n=Ts(t.params,e.params)&&Use(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||rO(t.parent,e.parent))}function Z6(t){return typeof t.title=="string"||t.title===null}var Nv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=te(UE),this.location=te(vi),this.changeDetector=te(rc),this.environmentInjector=te(ci),this.inputBinder=te(mO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,h=new oO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:h,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ns]});let t=e;return t})(),oO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ei?this.route:e===UE?this.childContexts:this.parent.get(e,n)}},mO=new ve("");function cae(t,e,n){let i=Pv(t,e._root,n?n._root:void 0);return new FE(i,e)}function Pv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=lae(t,e,n);return new Tr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Pv(t,l)),a}}let i=uae(e.value),r=e.children.map(o=>Pv(t,o));return new Tr(i,r)}}function lae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Pv(t,i,r);return Pv(t,i)})}function uae(t){return new Ei(new Kn(t.url),new Kn(t.params),new Kn(t.queryParams),new Kn(t.fragment),new Kn(t.data),t.outlet,t.component,t)}var e9="ngNavigationCancelingError";function t9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=pf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=n9(!1,Wr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function n9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[e9]=!0,n.cancellationCode=e,n}function dae(t){return i9(t)&&pf(t.url)}function i9(t){return!!t&&t[e9]}var hae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ee],decls:1,vars:0,template:function(r,o){r&1&&oe(0,"router-outlet")},dependencies:[Nv],encapsulation:2});let t=e;return t})();function fae(t,e){return t.providers&&!t._injector&&(t._injector=ID(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gO(t){let e=t.children&&t.children.map(gO),n=e?Et(Z({},t),{children:e}):Z({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qe&&(n.component=hae),n}function Ds(t){return t.outlet||Qe}function pae(t,e){let n=t.filter(i=>Ds(i)===e);return n.push(...t.filter(i=>Ds(i)!==e)),n}function kv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mae=(t,e,n,i)=>Ne(r=>(new sO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),sO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),LP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=uf(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=uf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=uf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=uf(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new JP(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(LP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),LP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=kv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},VE=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hf=class{constructor(e,n){this.component=e,this.route=n}};function gae(t,e,n){let i=t._root,r=e?e._root:null;return wv(i,r,n,[i.value])}function vae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function gf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!FV(t)?t:e.get(t):i}function wv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=uf(e);return t.children.forEach(a=>{yae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Iv(l,n.getContext(a),r)),r}function yae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=_ae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new VE(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?wv(t,e,l?l.children:null,i,r):wv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new hf(l.outlet.component,a))}else a&&Iv(e,l,r),r.canActivateChecks.push(new VE(i)),o.component?wv(t,null,l?l.children:null,i,r):wv(t,null,n,i,r);return r}function _ae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Eu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eu(t.url,e.url)||!Ts(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rO(t,e)||!Ts(t.queryParams,e.queryParams);case"paramsChange":default:return!rO(t,e)}}function Iv(t,e,n){let i=uf(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?Iv(a,e.children.getContext(o),n):Iv(a,null,n):Iv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new hf(e.outlet.component,r)):n.canDeactivateChecks.push(new hf(null,r)):n.canDeactivateChecks.push(new hf(null,r))}function Fv(t){return typeof t=="function"}function wae(t){return typeof t=="boolean"}function bae(t){return t&&Fv(t.canLoad)}function Eae(t){return t&&Fv(t.canActivate)}function Cae(t){return t&&Fv(t.canActivateChild)}function Iae(t){return t&&Fv(t.canDeactivate)}function Sae(t){return t&&Fv(t.canMatch)}function r9(t){return t instanceof _r||t?.name==="EmptyError"}var DE=Symbol("INITIAL_VALUE");function mf(){return Di(t=>z_(t.map(e=>e.pipe(Gs(1),IS(DE)))).pipe(Ne(e=>{for(let n of e)if(n!==!0){if(n===DE)return DE;if(n===!1||n instanceof Ac)return n}return!0}),ai(e=>e!==DE),Gs(1)))}function Tae(t,e){return On(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Ue(Et(Z({},n),{guardsResult:!0})):Dae(a,i,r,t).pipe(On(l=>l&&wae(l)?Aae(i,o,t,e):Ue(l)),Ne(l=>Et(Z({},n),{guardsResult:l})))})}function Dae(t,e,n,i){return Jt(t).pipe(On(r=>Rae(r.component,r.route,n,e,i)),zo(r=>r!==!0,!0))}function Aae(t,e,n,i){return Jt(e).pipe(za(r=>jd(Mae(r.route.parent,i),xae(r.route,i),Oae(t,r.path,n),Pae(t,r.route,n))),zo(r=>r!==!0,!0))}function xae(t,e){return t!==null&&e&&e(new ZP(t)),Ue(!0)}function Mae(t,e){return t!==null&&e&&e(new XP(t)),Ue(!0)}function Pae(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ue(!0);let r=i.map(o=>W_(()=>{let a=kv(e)??n,l=gf(o,a),d=Eae(l)?l.canActivate(e,t):Zs(a,()=>l(e,t));return Pc(d).pipe(zo())}));return Ue(r).pipe(mf())}function Oae(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>vae(a)).filter(a=>a!==null).map(a=>W_(()=>{let l=a.guards.map(d=>{let h=kv(a.node)??n,m=gf(d,h),v=Cae(m)?m.canActivateChild(i,t):Zs(h,()=>m(i,t));return Pc(v).pipe(zo())});return Ue(l).pipe(mf())}));return Ue(o).pipe(mf())}function Rae(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ue(!0);let a=o.map(l=>{let d=kv(e)??r,h=gf(l,d),m=Iae(h)?h.canDeactivate(t,e,n,i):Zs(d,()=>h(t,e,n,i));return Pc(m).pipe(zo())});return Ue(a).pipe(mf())}function Nae(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ue(!0);let o=r.map(a=>{let l=gf(a,t),d=bae(l)?l.canLoad(e,n):Zs(t,()=>l(e,n));return Pc(d)});return Ue(o).pipe(mf(),o9(i))}function o9(t){return lS(Rn(e=>{if(pf(e))throw t9(t,e)}),Ne(e=>e===!0))}function kae(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Ue(!0);let o=r.map(a=>{let l=gf(a,t),d=Sae(l)?l.canMatch(e,n):Zs(t,()=>l(e,n));return Pc(d)});return Ue(o).pipe(mf(),o9(i))}var Ov=class{constructor(e){this.segmentGroup=e||null}},jE=class extends Error{constructor(e){super(),this.urlTree=e}};function lf(t){return Ld(new Ov(t))}function Fae(t){return Ld(new X(4e3,!1))}function Lae(t){return Ld(n9(!1,Wr.GuardRejected))}var aO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ue(i);if(r.numberOfChildren>1||!r.children[Qe])return Fae(e.redirectTo);r=r.children[Qe]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new jE(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Ac(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Ft(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},cO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vae(t,e,n,i,r){let o=vO(t,e,n);return o.matched?(i=fae(e,i),kae(i,e,n,r).pipe(Ne(a=>a===!0?o:Z({},cO)))):Ue(o)}function vO(t,e,n){if(e.path==="**")return jae(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Z({},cO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||kse)(n,t,e);if(!r)return Z({},cO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?Z(Z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function jae(t){return{matched:!0,parameters:t.length>0?V6(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function F6(t,e,n,i){return n.length>0&&$ae(t,n,i)?{segmentGroup:new Ft(e,Bae(i,new Ft(n,t.children))),slicedSegments:[]}:n.length===0&&Hae(t,n,i)?{segmentGroup:new Ft(t.segments,Uae(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ft(t.segments,t.children),slicedSegments:n}}function Uae(t,e,n,i){let r={};for(let o of n)if(BE(t,e,o)&&!i[Ds(o)]){let a=new Ft([],{});r[Ds(o)]=a}return Z(Z({},i),r)}function Bae(t,e){let n={};n[Qe]=e;for(let i of t)if(i.path===""&&Ds(i)!==Qe){let r=new Ft([],{});n[Ds(i)]=r}return n}function $ae(t,e,n){return n.some(i=>BE(t,e,i)&&Ds(i)!==Qe)}function Hae(t,e,n){return n.some(i=>BE(t,e,i))}function BE(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Gae(t,e,n,i){return Ds(t)!==i&&(i===Qe||!BE(e,n,t))?!1:vO(e,t,n).matched}function qae(t,e,n){return e.length===0&&!t.children[n]}var lO=class{};function zae(t,e,n,i,r,o,a="emptyOnly"){return new uO(t,e,n,i,r,a,o).recognize()}var Wae=31,uO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new aO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=F6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(n=>{let i=new Mv([],Object.freeze({}),Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,{}),r=new Tr(i,n),o=new LE("",r),a=eae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Qe).pipe(qo(i=>{if(i instanceof jE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ov?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=fO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Ne(o=>o instanceof Tr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Jt(r).pipe(za(o=>{let a=i.children[o],l=pae(n,o);return this.processSegmentGroup(e,l,a,o)}),ES((o,a)=>(o.push(...a),o)),Wa(null),bS(),On(o=>{if(o===null)return lf(i);let a=s9(o);return Kae(a),Ue(a)}))}processSegment(e,n,i,r,o,a){return Jt(n).pipe(za(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(qo(d=>{if(d instanceof Ov)return Ue(null);throw d}))),zo(l=>!!l),qo(l=>{if(r9(l))return qae(i,r,o)?Ue(new lO):lf(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return Gae(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):lf(r):lf(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=vO(n,r,o);if(!l)return lf(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Wae&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,h);return this.applyRedirects.lineralizeSegments(r,v).pipe(On(y=>this.processSegment(e,i,n,y.concat(m),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=Vae(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Di(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Di(({routes:d})=>{let h=i._loadedInjector??e,{consumedSegments:m,remainingSegments:v,parameters:y}=l,b=new Mv(m,y,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Qae(i),Ds(i),i.component??i._loadedComponent??null,i,Xae(i)),{segmentGroup:w,slicedSegments:C}=F6(n,m,v,d);if(C.length===0&&w.hasChildren())return this.processChildren(h,d,w).pipe(Ne(P=>P===null?null:new Tr(b,P)));if(d.length===0&&C.length===0)return Ue(new Tr(b,[]));let T=Ds(i)===o;return this.processSegment(h,d,w,C,T?Qe:o,!0).pipe(Ne(P=>new Tr(b,P instanceof Tr?[P]:[])))}))):lf(n)))}getChildConfig(e,n,i){return n.children?Ue({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Ue({routes:n._loadedRoutes,injector:n._loadedInjector}):Nae(e,n,i,this.urlSerializer).pipe(On(r=>r?this.configLoader.loadChildren(e,n).pipe(Rn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Lae(n))):Ue({routes:[],injector:e})}};function Kae(t){t.sort((e,n)=>e.value.outlet===Qe?-1:n.value.outlet===Qe?1:e.value.outlet.localeCompare(n.value.outlet))}function Yae(t){let e=t.value.routeConfig;return e&&e.path===""}function s9(t){let e=[],n=new Set;for(let i of t){if(!Yae(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=s9(i.children);e.push(new Tr(i.value,r))}return e.filter(i=>!n.has(i))}function Qae(t){return t.data||{}}function Xae(t){return t.resolve||{}}function Jae(t,e,n,i,r,o){return On(a=>zae(t,e,n,i,a.extractedUrl,r,o).pipe(Ne(({state:l,tree:d})=>Et(Z({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function Zae(t,e){return On(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ue(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let h of a9(d))a.add(h);let l=0;return Jt(a).pipe(za(d=>o.has(d)?ece(d,i,t,e):(d.data=fO(d,d.parent,t).resolve,Ue(void 0))),Rn(()=>l++),Bd(1),On(d=>l===a.size?Ue(n):nr))})}function a9(t){let e=t.children.map(n=>a9(n)).flat();return[t,...e]}function ece(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Z6(r)&&(o[Rv]=r.title),tce(o,t,e,i).pipe(Ne(a=>(t._resolvedData=a,t.data=fO(t,t.parent,n).resolve,null)))}function tce(t,e,n,i){let r=UP(t);if(r.length===0)return Ue({});let o={};return Jt(r).pipe(On(a=>nce(t[a],e,n,i).pipe(zo(),Rn(l=>{o[a]=l}))),Bd(1),wS(o),qo(a=>r9(a)?nr:Ld(a)))}function nce(t,e,n,i){let r=kv(e)??i,o=gf(t,r),a=o.resolve?o.resolve(e,n):Zs(r,()=>o(e,n));return Pc(a)}function VP(t){return Di(e=>{let n=t(e);return n?Jt(n).pipe(Ne(()=>e)):Ue(e)})}var c9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Qe);return r}getResolvedTitleForRoute(i){return i.data[Rv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(ice),providedIn:"root"});let t=e;return t})(),ice=(()=>{let e=class e extends c9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(re(e6))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$E=new ve("",{providedIn:"root",factory:()=>({})}),yO=new ve(""),rce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(AD)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ue(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Pc(i.loadComponent()).pipe(Ne(l9),Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),ml(()=>{this.componentLoaders.delete(i)})),o=new Pd(r,()=>new si).pipe(Md());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=oce(r,this.compiler,i,this.onLoadEndListener).pipe(ml(()=>{this.childrenLoaders.delete(r)})),l=new Pd(a,()=>new si).pipe(Md());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oce(t,e,n,i){return Pc(t.loadChildren()).pipe(Ne(l9),On(r=>r instanceof Xp||Array.isArray(r)?Ue(r):Jt(e.compileModuleAsync(r))),Ne(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(yO,[],{optional:!0,self:!0}).flat()),{routes:a.map(gO),injector:o}}))}function sce(t){return t&&typeof t=="object"&&"default"in t}function l9(t){return sce(t)?t.default:t}var _O=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(ace),providedIn:"root"});let t=e;return t})(),ace=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cce=new ve("");var lce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new si,this.transitionAbortSubject=new si,this.configLoader=te(rce),this.environmentInjector=te(ci),this.urlSerializer=te(hO),this.rootContexts=te(UE),this.location=te(cm),this.inputBindingEnabled=te(mO,{optional:!0})!==null,this.titleStrategy=te(c9),this.options=te($E,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(_O),this.createViewTransition=te(cce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ue(void 0),this.rootComponentType=null;let i=o=>this.events.next(new YP(o)),r=o=>this.events.next(new QP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Et(Z(Z({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Kn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ai(a=>a.id!==0),Ne(a=>Et(Z({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Di(a=>{this.currentTransition=a;let l=!1,d=!1;return Ue(a).pipe(Rn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Et(Z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Di(h=>{let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=h.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new Cu(h.id,this.urlSerializer.serialize(h.rawUrl),y,GP.IgnoredSameUrlNavigation)),h.resolve(null),nr}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Ue(h).pipe(Di(y=>{let b=this.transitions?.getValue();return this.events.next(new Tv(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?nr:Promise.resolve(y)}),Jae(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Et(Z({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new NE(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:y,extractedUrl:b,source:w,restoredState:C,extras:T}=h,P=new Tv(y,this.urlSerializer.serialize(b),w,C);this.events.next(P);let k=X6(this.rootComponentType).snapshot;return this.currentTransition=a=Et(Z({},h),{targetSnapshot:k,urlAfterRedirects:b,extras:Et(Z({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,Ue(a)}else{let y="";return this.events.next(new Cu(h.id,this.urlSerializer.serialize(h.extractedUrl),y,GP.IgnoredByUrlHandlingStrategy)),h.resolve(null),nr}}),Rn(h=>{let m=new qP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),Ne(h=>(this.currentTransition=a=Et(Z({},h),{guards:gae(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),a)),Tae(this.environmentInjector,h=>this.events.next(h)),Rn(h=>{if(a.guardsResult=h.guardsResult,pf(h.guardsResult))throw t9(this.urlSerializer,h.guardsResult);let m=new zP(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(m)}),ai(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Wr.GuardRejected),!1)),VP(h=>{if(h.guards.canActivateChecks.length)return Ue(h).pipe(Rn(m=>{let v=new WP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Di(m=>{let v=!1;return Ue(m).pipe(Zae(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",Wr.NoDataFromResolver)}}))}),Rn(m=>{let v=new KP(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),VP(h=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Rn(b=>{v.component=b}),Ne(()=>{})));for(let b of v.children)y.push(...m(b));return y};return z_(m(h.targetSnapshot.root)).pipe(Wa(null),Gs(1))}),VP(()=>this.afterPreactivation()),Di(()=>{let{currentSnapshot:h,targetSnapshot:m}=a,v=this.createViewTransition?.(this.environmentInjector,h.root,m.root);return v?Jt(v).pipe(Ne(()=>a)):Ue(a)}),Ne(h=>{let m=cae(i.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=a=Et(Z({},h),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),Rn(()=>{this.events.next(new Av)}),mae(this.rootContexts,i.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Gs(1),Rn({next:h=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{l=!0}}),fo(this.transitionAbortSubject.pipe(Rn(h=>{throw h}))),ml(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Wr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),qo(h=>{if(d=!0,i9(h))this.events.next(new Mc(a.id,this.urlSerializer.serialize(a.extractedUrl),h.message,h.cancellationCode)),dae(h)?this.events.next(new xv(h.url)):a.resolve(!1);else{this.events.next(new Dv(a.id,this.urlSerializer.serialize(a.extractedUrl),h,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(h))}catch(m){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(m)}}return nr}))}))}cancelNavigationTransition(i,r,o){let a=new Mc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uce(t){return t!==Cv}var dce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(hce),providedIn:"root"});let t=e;return t})(),dO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hce=(()=>{let e=class e extends dO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:()=>te(fce),providedIn:"root"});let t=e;return t})(),fce=(()=>{let e=class e extends u9{constructor(){super(...arguments),this.location=te(cm),this.urlSerializer=te(hO),this.options=te($E,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(_O),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ac,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=X6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Tv)this.stateMemento=this.createStateMemento();else if(i instanceof Cu)this.rawUrlTree=r.initialUrl;else if(i instanceof NE){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Av?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Mc&&(i.code===Wr.GuardRejected||i.code===Wr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Dv?this.restoreHistory(r,!0):i instanceof xc&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=Z(Z({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=Z(Z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bv||{});function pce(t,e){t.events.pipe(ai(n=>n instanceof xc||n instanceof Mc||n instanceof Dv||n instanceof Cu),Ne(n=>n instanceof xc||n instanceof Cu?bv.COMPLETE:(n instanceof Mc?n.code===Wr.Redirect||n.code===Wr.SupersededByNewNavigation:!1)?bv.REDIRECTING:bv.FAILED),ai(n=>n!==bv.REDIRECTING),Gs(1)).subscribe(()=>{e()})}function mce(t){throw t}var gce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(K0),this.stateManager=te(u9),this.options=te($E,{optional:!0})||{},this.pendingTasks=te(Al),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(lce),this.urlSerializer=te(hO),this.location=te(cm),this.urlHandlingStrategy=te(_O),this._events=new si,this.errorHandler=this.options.errorHandler||mce,this.navigated=!1,this.routeReuseStrategy=te(dce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(yO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(mO,{optional:!0}),this.eventsSubscription=new Pn,this.isNgZoneEnabled=te(yt)instanceof yt&&yt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Mc&&r.code!==Wr.Redirect&&r.code!==Wr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xc)this.navigated=!0;else if(r instanceof xv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||uce(o.source)};this.scheduleNavigation(l,Cv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_ce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let h=Z({},o);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(a.state=h)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(gO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:h}=r,m=h?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=Z(Z({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let b=o?o.snapshot:this.routerState.snapshot.root;y=W6(b)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return K6(y,i,v,m??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=pf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Cv,null,r)}navigate(i,r={skipLocationChange:!1}){return yce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=Z({},gce):r===!1?o=Z({},vce):o=r,pf(i))return O6(this.currentUrlTree,i,o);let a=this.parseUrl(i);return O6(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,h,m;l?(d=l.resolve,h=l.reject,m=l.promise):m=new Promise((y,b)=>{d=y,h=b});let v=this.pendingTasks.add();return pce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:h,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function _ce(t){return!(t instanceof Av)&&!(t instanceof xv)}var HE=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new si,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let h=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=i.events.subscribe(m=>{m instanceof xc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:S3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(N(Dr),N(Ei),aD("tabindex"),N(rs),N(sn),N(lh))},e.\u0275dir=Pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&R("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&z0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ae.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Yi],skipLocationChange:[Ae.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Yi],replaceUrl:[Ae.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Yi],routerLink:"routerLink"},standalone:!0,features:[sm,ns]});let t=e;return t})();var wce=new ve("");function d9(t,...e){return nc([{provide:yO,multi:!0,useValue:t},[],{provide:Ei,useFactory:bce,deps:[Dr]},{provide:Y0,multi:!0,useFactory:Cce},e.map(n=>n.\u0275providers)])}function bce(t){return t.routerState.root}function Ece(t,e){return{\u0275kind:t,\u0275providers:e}}function Cce(){let t=te(Wt);return e=>{let n=t.get(os);if(e!==n.components[0])return;let i=t.get(Dr),r=t.get(Ice);t.get(Sce)===1&&i.initialNavigation(),t.get(Tce,null,rt.Optional)?.setUpPreloading(),t.get(wce,null,rt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Ice=new ve("",{factory:()=>new si}),Sce=new ve("",{providedIn:"root",factory:()=>1});var Tce=new ve("");function h9(t){return Ece(5,[{provide:$E,useValue:t}])}var Sn="top",Xn="bottom",qn="right",kn="left",GE="auto",Oc=[Sn,Xn,qn,kn],ya="start",Iu="end",f9="clippingParents",qE="viewport",yf="popper",p9="reference",wO=Oc.reduce(function(t,e){return t.concat([e+"-"+ya,e+"-"+Iu])},[]),zE=[].concat(Oc,[GE]).reduce(function(t,e){return t.concat([e,e+"-"+ya,e+"-"+Iu])},[]),Dce="beforeRead",Ace="read",xce="afterRead",Mce="beforeMain",Pce="main",Oce="afterMain",Rce="beforeWrite",Nce="write",kce="afterWrite",m9=[Dce,Ace,xce,Mce,Pce,Oce,Rce,Nce,kce];function fi(t){return t?(t.nodeName||"").toLowerCase():null}function cn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yr(t){var e=cn(t).Element;return t instanceof e||t instanceof Element}function Jn(t){var e=cn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _f(t){if(typeof ShadowRoot>"u")return!1;var e=cn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Fce(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Jn(o)||!fi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function Lce(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,h){return d[h]="",d},{});!Jn(r)||!fi(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var Lv={name:"applyStyles",enabled:!0,phase:"write",fn:Fce,effect:Lce,requires:["computeStyles"]};function pi(t){return t.split("-")[0]}var Po=Math.max,Su=Math.min,_a=Math.round;function wf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vv(){return!/^((?!chrome|android).)*safari/i.test(wf())}function Qr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&Jn(t)&&(r=t.offsetWidth>0&&_a(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&_a(i.height)/t.offsetHeight||1);var a=Yr(t)?cn(t):window,l=a.visualViewport,d=!Vv()&&n,h=(i.left+(d&&l?l.offsetLeft:0))/r,m=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:m,right:h+v,bottom:m+y,left:h,x:h,y:m}}function Tu(t){var e=Qr(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function jv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_f(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zi(t){return cn(t).getComputedStyle(t)}function bO(t){return["table","td","th"].indexOf(fi(t))>=0}function Ii(t){return((Yr(t)?t.ownerDocument:t.document)||window.document).documentElement}function wa(t){return fi(t)==="html"?t:t.assignedSlot||t.parentNode||(_f(t)?t.host:null)||Ii(t)}function g9(t){return!Jn(t)||Zi(t).position==="fixed"?null:t.offsetParent}function Vce(t){var e=/firefox/i.test(wf()),n=/Trident/i.test(wf());if(n&&Jn(t)){var i=Zi(t);if(i.position==="fixed")return null}var r=wa(t);for(_f(r)&&(r=r.host);Jn(r)&&["html","body"].indexOf(fi(r))<0;){var o=Zi(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Oo(t){for(var e=cn(t),n=g9(t);n&&bO(n)&&Zi(n).position==="static";)n=g9(n);return n&&(fi(n)==="html"||fi(n)==="body"&&Zi(n).position==="static")?e:n||Vce(t)||e}function Du(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Au(t,e,n){return Po(t,Su(e,n))}function v9(t,e,n){var i=Au(t,e,n);return i>n?n:i}function Uv(){return{top:0,right:0,bottom:0,left:0}}function Bv(t){return Object.assign({},Uv(),t)}function $v(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var jce=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Bv(typeof e!="number"?e:$v(e,Oc))};function Uce(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=pi(n.placement),d=Du(l),h=[kn,qn].indexOf(l)>=0,m=h?"height":"width";if(!(!o||!a)){var v=jce(r.padding,n),y=Tu(o),b=d==="y"?Sn:kn,w=d==="y"?Xn:qn,C=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],T=a[d]-n.rects.reference[d],P=Oo(o),k=P?d==="y"?P.clientHeight||0:P.clientWidth||0:0,B=C/2-T/2,A=v[b],J=k-y[m]-v[w],j=k/2-y[m]/2+B,ie=Au(A,j,J),be=d;n.modifiersData[i]=(e={},e[be]=ie,e.centerOffset=ie-j,e)}}function Bce(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||jv(e.elements.popper,r)&&(e.elements.arrow=r))}var y9={name:"arrow",enabled:!0,phase:"main",fn:Uce,effect:Bce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xr(t){return t.split("-")[1]}var $ce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hce(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:_a(n*r)/r||0,y:_a(i*r)/r||0}}function _9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,h=t.adaptive,m=t.roundOffsets,v=t.isFixed,y=a.x,b=y===void 0?0:y,w=a.y,C=w===void 0?0:w,T=typeof m=="function"?m({x:b,y:C}):{x:b,y:C};b=T.x,C=T.y;var P=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),B=kn,A=Sn,J=window;if(h){var j=Oo(n),ie="clientHeight",be="clientWidth";if(j===cn(n)&&(j=Ii(n),Zi(j).position!=="static"&&l==="absolute"&&(ie="scrollHeight",be="scrollWidth")),j=j,r===Sn||(r===kn||r===qn)&&o===Iu){A=Xn;var He=v&&j===J&&J.visualViewport?J.visualViewport.height:j[ie];C-=He-i.height,C*=d?1:-1}if(r===kn||(r===Sn||r===Xn)&&o===Iu){B=qn;var Xe=v&&j===J&&J.visualViewport?J.visualViewport.width:j[be];b-=Xe-i.width,b*=d?1:-1}}var Ce=Object.assign({position:l},h&&$ce),$e=m===!0?Hce({x:b,y:C},cn(n)):{x:b,y:C};if(b=$e.x,C=$e.y,d){var Se;return Object.assign({},Ce,(Se={},Se[A]=k?"0":"",Se[B]=P?"0":"",Se.transform=(J.devicePixelRatio||1)<=1?"translate("+b+"px, "+C+"px)":"translate3d("+b+"px, "+C+"px, 0)",Se))}return Object.assign({},Ce,(e={},e[A]=k?C+"px":"",e[B]=P?b+"px":"",e.transform="",e))}function Gce(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,h={placement:pi(e.placement),variation:Xr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_9(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_9(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var w9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gce,data:{}};var WE={passive:!0};function qce(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=cn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&h.forEach(function(m){m.addEventListener("scroll",n.update,WE)}),l&&d.addEventListener("resize",n.update,WE),function(){o&&h.forEach(function(m){m.removeEventListener("scroll",n.update,WE)}),l&&d.removeEventListener("resize",n.update,WE)}}var b9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qce,data:{}};var zce={left:"right",right:"left",bottom:"top",top:"bottom"};function bf(t){return t.replace(/left|right|bottom|top/g,function(e){return zce[e]})}var Wce={start:"end",end:"start"};function KE(t){return t.replace(/start|end/g,function(e){return Wce[e]})}function xu(t){var e=cn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Mu(t){return Qr(Ii(t)).left+xu(t).scrollLeft}function EO(t,e){var n=cn(t),i=Ii(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var h=Vv();(h||!h&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+Mu(t),y:d}}function CO(t){var e,n=Ii(t),i=xu(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Po(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Po(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+Mu(t),d=-i.scrollTop;return Zi(r||n).direction==="rtl"&&(l+=Po(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Pu(t){var e=Zi(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function YE(t){return["html","body","#document"].indexOf(fi(t))>=0?t.ownerDocument.body:Jn(t)&&Pu(t)?t:YE(wa(t))}function Rc(t,e){var n;e===void 0&&(e=[]);var i=YE(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=cn(i),a=r?[o].concat(o.visualViewport||[],Pu(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Rc(wa(a)))}function Ef(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Kce(t,e){var n=Qr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function E9(t,e,n){return e===qE?Ef(EO(t,n)):Yr(e)?Kce(e,n):Ef(CO(Ii(t)))}function Yce(t){var e=Rc(wa(t)),n=["absolute","fixed"].indexOf(Zi(t).position)>=0,i=n&&Jn(t)?Oo(t):t;return Yr(i)?e.filter(function(r){return Yr(r)&&jv(r,i)&&fi(r)!=="body"}):[]}function IO(t,e,n,i){var r=e==="clippingParents"?Yce(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,h){var m=E9(t,h,i);return d.top=Po(m.top,d.top),d.right=Su(m.right,d.right),d.bottom=Su(m.bottom,d.bottom),d.left=Po(m.left,d.left),d},E9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Hv(t){var e=t.reference,n=t.element,i=t.placement,r=i?pi(i):null,o=i?Xr(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case Sn:d={x:a,y:e.y-n.height};break;case Xn:d={x:a,y:e.y+e.height};break;case qn:d={x:e.x+e.width,y:l};break;case kn:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var h=r?Du(r):null;if(h!=null){var m=h==="y"?"height":"width";switch(o){case ya:d[h]=d[h]-(e[m]/2-n[m]/2);break;case Iu:d[h]=d[h]+(e[m]/2-n[m]/2);break;default:}}return d}function Ro(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?f9:l,h=n.rootBoundary,m=h===void 0?qE:h,v=n.elementContext,y=v===void 0?yf:v,b=n.altBoundary,w=b===void 0?!1:b,C=n.padding,T=C===void 0?0:C,P=Bv(typeof T!="number"?T:$v(T,Oc)),k=y===yf?p9:yf,B=t.rects.popper,A=t.elements[w?k:y],J=IO(Yr(A)?A:A.contextElement||Ii(t.elements.popper),d,m,a),j=Qr(t.elements.reference),ie=Hv({reference:j,element:B,strategy:"absolute",placement:r}),be=Ef(Object.assign({},B,ie)),He=y===yf?be:j,Xe={top:J.top-He.top+P.top,bottom:He.bottom-J.bottom+P.bottom,left:J.left-He.left+P.left,right:He.right-J.right+P.right},Ce=t.modifiersData.offset;if(y===yf&&Ce){var $e=Ce[r];Object.keys(Xe).forEach(function(Se){var nn=[qn,Xn].indexOf(Se)>=0?1:-1,We=[Sn,Xn].indexOf(Se)>=0?"y":"x";Xe[Se]+=$e[We]*nn})}return Xe}function SO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?zE:d,m=Xr(i),v=m?l?wO:wO.filter(function(w){return Xr(w)===m}):Oc,y=v.filter(function(w){return h.indexOf(w)>=0});y.length===0&&(y=v);var b=y.reduce(function(w,C){return w[C]=Ro(t,{placement:C,boundary:r,rootBoundary:o,padding:a})[pi(C)],w},{});return Object.keys(b).sort(function(w,C){return b[w]-b[C]})}function Qce(t){if(pi(t)===GE)return[];var e=bf(t);return[KE(t),e,KE(e)]}function Xce(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,h=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0?!0:b,C=n.allowedAutoPlacements,T=e.options.placement,P=pi(T),k=P===T,B=d||(k||!w?[bf(T)]:Qce(T)),A=[T].concat(B).reduce(function(ft,Si){return ft.concat(pi(Si)===GE?SO(e,{placement:Si,boundary:m,rootBoundary:v,padding:h,flipVariations:w,allowedAutoPlacements:C}):Si)},[]),J=e.rects.reference,j=e.rects.popper,ie=new Map,be=!0,He=A[0],Xe=0;Xe<A.length;Xe++){var Ce=A[Xe],$e=pi(Ce),Se=Xr(Ce)===ya,nn=[Sn,Xn].indexOf($e)>=0,We=nn?"width":"height",H=Ro(e,{placement:Ce,boundary:m,rootBoundary:v,altBoundary:y,padding:h}),ne=nn?Se?qn:kn:Se?Xn:Sn;J[We]>j[We]&&(ne=bf(ne));var ue=bf(ne),Pe=[];if(o&&Pe.push(H[$e]<=0),l&&Pe.push(H[ne]<=0,H[ue]<=0),Pe.every(function(ft){return ft})){He=Ce,be=!1;break}ie.set(Ce,Pe)}if(be)for(var et=w?3:1,Dn=function(Si){var dr=A.find(function(ct){var Fn=ie.get(ct);if(Fn)return Fn.slice(0,Si).every(function(rn){return rn})});if(dr)return He=dr,"break"},Rt=et;Rt>0;Rt--){var Zn=Dn(Rt);if(Zn==="break")break}e.placement!==He&&(e.modifiersData[i]._skip=!0,e.placement=He,e.reset=!0)}}var C9={name:"flip",enabled:!0,phase:"main",fn:Xce,requiresIfExists:["offset"],data:{_skip:!1}};function I9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function S9(t){return[Sn,qn,Xn,kn].some(function(e){return t[e]>=0})}function Jce(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Ro(e,{elementContext:"reference"}),l=Ro(e,{altBoundary:!0}),d=I9(a,i),h=I9(l,r,o),m=S9(d),v=S9(h);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}var T9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jce};function Zce(t,e,n){var i=pi(t),r=[kn,Sn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[kn,qn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function ele(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=zE.reduce(function(m,v){return m[v]=Zce(v,e.rects,o),m},{}),l=a[e.placement],d=l.x,h=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=a}var D9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ele};function tle(t){var e=t.state,n=t.name;e.modifiersData[n]=Hv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var A9={name:"popperOffsets",enabled:!0,phase:"read",fn:tle,data:{}};function TO(t){return t==="x"?"y":"x"}function nle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,w=n.tetherOffset,C=w===void 0?0:w,T=Ro(e,{boundary:d,rootBoundary:h,padding:v,altBoundary:m}),P=pi(e.placement),k=Xr(e.placement),B=!k,A=Du(P),J=TO(A),j=e.modifiersData.popperOffsets,ie=e.rects.reference,be=e.rects.popper,He=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,Xe=typeof He=="number"?{mainAxis:He,altAxis:He}:Object.assign({mainAxis:0,altAxis:0},He),Ce=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$e={x:0,y:0};if(j){if(o){var Se,nn=A==="y"?Sn:kn,We=A==="y"?Xn:qn,H=A==="y"?"height":"width",ne=j[A],ue=ne+T[nn],Pe=ne-T[We],et=b?-be[H]/2:0,Dn=k===ya?ie[H]:be[H],Rt=k===ya?-be[H]:-ie[H],Zn=e.elements.arrow,ft=b&&Zn?Tu(Zn):{width:0,height:0},Si=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Uv(),dr=Si[nn],ct=Si[We],Fn=Au(0,ie[H],ft[H]),rn=B?ie[H]/2-et-Fn-dr-Xe.mainAxis:Dn-Fn-dr-Xe.mainAxis,Fi=B?-ie[H]/2+et+Fn+ct+Xe.mainAxis:Rt+Fn+ct+Xe.mainAxis,Pr=e.elements.arrow&&Oo(e.elements.arrow),$c=Pr?A==="y"?Pr.clientTop||0:Pr.clientLeft||0:0,ba=(Se=Ce?.[A])!=null?Se:0,Vu=ne+rn-ba-$c,ei=ne+Fi-ba,Hc=Au(b?Su(ue,Vu):ue,ne,b?Po(Pe,ei):Pe);j[A]=Hc,$e[A]=Hc-ne}if(l){var Gc,ju=A==="x"?Sn:kn,Uu=A==="x"?Xn:qn,no=j[J],Fo=J==="y"?"height":"width",qc=no+T[ju],io=no-T[Uu],Or=[Sn,kn].indexOf(P)!==-1,zc=(Gc=Ce?.[J])!=null?Gc:0,Ea=Or?qc:no-ie[Fo]-be[Fo]-zc+Xe.altAxis,Wc=Or?no+ie[Fo]+be[Fo]-zc-Xe.altAxis:io,ks=b&&Or?v9(Ea,no,Wc):Au(b?Ea:qc,no,b?Wc:io);j[J]=ks,$e[J]=ks-no}e.modifiersData[i]=$e}}var x9={name:"preventOverflow",enabled:!0,phase:"main",fn:nle,requiresIfExists:["offset"]};function DO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function AO(t){return t===cn(t)||!Jn(t)?xu(t):DO(t)}function ile(t){var e=t.getBoundingClientRect(),n=_a(e.width)/t.offsetWidth||1,i=_a(e.height)/t.offsetHeight||1;return n!==1||i!==1}function xO(t,e,n){n===void 0&&(n=!1);var i=Jn(e),r=Jn(e)&&ile(e),o=Ii(e),a=Qr(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((fi(e)!=="body"||Pu(o))&&(l=AO(e)),Jn(e)?(d=Qr(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=Mu(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function rle(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function MO(t){var e=rle(t);return m9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function PO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function OO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var M9={placement:"bottom",modifiers:[],strategy:"absolute"};function P9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function O9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?M9:r;return function(l,d,h){h===void 0&&(h=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},M9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,b={state:m,setOptions:function(P){var k=typeof P=="function"?P(m.options):P;C(),m.options=Object.assign({},o,m.options,k),m.scrollParents={reference:Yr(l)?Rc(l):l.contextElement?Rc(l.contextElement):[],popper:Rc(d)};var B=MO(OO([].concat(i,m.options.modifiers)));return m.orderedModifiers=B.filter(function(A){return A.enabled}),w(),b.update()},forceUpdate:function(){if(!y){var P=m.elements,k=P.reference,B=P.popper;if(P9(k,B)){m.rects={reference:xO(k,Oo(B),m.options.strategy==="fixed"),popper:Tu(B)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(Xe){return m.modifiersData[Xe.name]=Object.assign({},Xe.data)});for(var A=0;A<m.orderedModifiers.length;A++){if(m.reset===!0){m.reset=!1,A=-1;continue}var J=m.orderedModifiers[A],j=J.fn,ie=J.options,be=ie===void 0?{}:ie,He=J.name;typeof j=="function"&&(m=j({state:m,options:be,name:He,instance:b})||m)}}}},update:PO(function(){return new Promise(function(T){b.forceUpdate(),T(m)})}),destroy:function(){C(),y=!0}};if(!P9(l,d))return b;b.setOptions(h).then(function(T){!y&&h.onFirstUpdate&&h.onFirstUpdate(T)});function w(){m.orderedModifiers.forEach(function(T){var P=T.name,k=T.options,B=k===void 0?{}:k,A=T.effect;if(typeof A=="function"){var J=A({state:m,name:P,instance:b,options:B}),j=function(){};v.push(J||j)}})}function C(){v.forEach(function(T){return T()}),v=[]}return b}}var ole=[b9,A9,w9,Lv,D9,C9,x9,y9,T9],RO=O9({defaultModifiers:ole});var sle="tippy-box",$9="tippy-content",ale="tippy-backdrop",H9="tippy-arrow",G9="tippy-svg-arrow",Ou={passive:!0,capture:!0},q9=function(){return document.body};function NO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function UO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function z9(t,e){return typeof t=="function"?t.apply(void 0,e):t}function R9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function cle(t){return t.split(/\s+/).filter(Boolean)}function Cf(t){return[].concat(t)}function N9(t,e){t.indexOf(e)===-1&&t.push(e)}function lle(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function ule(t){return t.split("-")[0]}function XE(t){return[].slice.call(t)}function k9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Gv(){return document.createElement("div")}function JE(t){return["Element","Fragment"].some(function(e){return UO(t,e)})}function dle(t){return UO(t,"NodeList")}function hle(t){return UO(t,"MouseEvent")}function fle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function ple(t){return JE(t)?[t]:dle(t)?XE(t):Array.isArray(t)?t:XE(document.querySelectorAll(t))}function kO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function F9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function mle(t){var e,n=Cf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function gle(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,h=ule(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=h==="bottom"?m.top.y:0,y=h==="top"?m.bottom.y:0,b=h==="right"?m.left.x:0,w=h==="left"?m.right.x:0,C=o.top-i+v>d,T=i-o.bottom-y>d,P=o.left-n+b>d,k=n-o.right-w>d;return C||T||P||k})}function FO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function L9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var As={isTouch:!1},V9=0;function vle(){As.isTouch||(As.isTouch=!0,window.performance&&document.addEventListener("mousemove",W9))}function W9(){var t=performance.now();t-V9<20&&(As.isTouch=!1,document.removeEventListener("mousemove",W9)),V9=t}function yle(){var t=document.activeElement;if(fle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function _le(){document.addEventListener("touchstart",vle,Ou),window.addEventListener("blur",yle)}var wle=typeof window<"u"&&typeof document<"u",ble=wle?!!window.msCrypto:!1;var Ele={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Cle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},No=Object.assign({appendTo:q9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ele,Cle),Ile=Object.keys(No),Sle=function(e){var n=Object.keys(e);n.forEach(function(i){No[i]=e[i]})};function K9(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=No[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function Tle(t,e){var n=e?Object.keys(K9(Object.assign({},No,{plugins:e}))):Ile,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function j9(t,e){var n=Object.assign({},e,{content:z9(e.content,[t])},e.ignoreAttributes?{}:Tle(t,e.plugins));return n.aria=Object.assign({},No.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Dle=function(){return"innerHTML"};function VO(t,e){t[Dle()]=e}function U9(t){var e=Gv();return t===!0?e.className=H9:(e.className=G9,JE(t)?e.appendChild(t):VO(e,t)),e}function B9(t,e){JE(e.content)?(VO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?VO(t,e.content):t.textContent=e.content)}function jO(t){var e=t.firstElementChild,n=XE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains($9)}),arrow:n.find(function(i){return i.classList.contains(H9)||i.classList.contains(G9)}),backdrop:n.find(function(i){return i.classList.contains(ale)})}}function Y9(t){var e=Gv(),n=Gv();n.className=sle,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Gv();i.className=$9,i.setAttribute("data-state","hidden"),B9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=jO(e),d=l.box,h=l.content,m=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&B9(h,t.props),a.arrow?m?o.arrow!==a.arrow&&(d.removeChild(m),d.appendChild(U9(a.arrow))):d.appendChild(U9(a.arrow)):m&&d.removeChild(m)}return{popper:e,onUpdate:r}}Y9.$$tippy=!0;var Ale=1,QE=[],LO=[];function xle(t,e){var n=j9(t,Object.assign({},No,K9(k9(e)))),i,r,o,a=!1,l=!1,d=!1,h=!1,m,v,y,b=[],w=R9(Vu,n.interactiveDebounce),C,T=Ale++,P=null,k=lle(n.plugins),B={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:T,reference:t,popper:Gv(),popperInstance:P,props:n,state:B,plugins:k,clearDelayTimeouts:Ea,setProps:Wc,setContent:ks,show:Ca,hide:Fs,hideWithInteractivity:ry,enable:Or,disable:zc,unmount:wC,destroy:bC};if(!n.render)return A;var J=n.render(A),j=J.popper,ie=J.onUpdate;j.setAttribute("data-tippy-root",""),j.id="tippy-"+A.id,A.popper=j,t._tippy=A,j._tippy=A;var be=k.map(function(U){return U.fn(A)}),He=t.hasAttribute("aria-expanded");return Pr(),et(),ne(),ue("onCreate",[A]),n.showOnCreate&&qc(),j.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),j.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&nn().addEventListener("mousemove",w)}),A;function Xe(){var U=A.props.touch;return Array.isArray(U)?U:[U,0]}function Ce(){return Xe()[0]==="hold"}function $e(){var U;return!!((U=A.props.render)!=null&&U.$$tippy)}function Se(){return C||t}function nn(){var U=Se().parentNode;return U?mle(U):document}function We(){return jO(j)}function H(U){return A.state.isMounted&&!A.state.isVisible||As.isTouch||m&&m.type==="focus"?0:NO(A.props.delay,U?0:1,No.delay)}function ne(U){U===void 0&&(U=!1),j.style.pointerEvents=A.props.interactive&&!U?"":"none",j.style.zIndex=""+A.props.zIndex}function ue(U,he,Ie){if(Ie===void 0&&(Ie=!0),be.forEach(function(pt){pt[U]&&pt[U].apply(pt,he)}),Ie){var At;(At=A.props)[U].apply(At,he)}}function Pe(){var U=A.props.aria;if(U.content){var he="aria-"+U.content,Ie=j.id,At=Cf(A.props.triggerTarget||t);At.forEach(function(pt){var ti=pt.getAttribute(he);if(A.state.isVisible)pt.setAttribute(he,ti?ti+" "+Ie:Ie);else{var Li=ti&&ti.replace(Ie,"").trim();Li?pt.setAttribute(he,Li):pt.removeAttribute(he)}})}}function et(){if(!(He||!A.props.aria.expanded)){var U=Cf(A.props.triggerTarget||t);U.forEach(function(he){A.props.interactive?he.setAttribute("aria-expanded",A.state.isVisible&&he===Se()?"true":"false"):he.removeAttribute("aria-expanded")})}}function Dn(){nn().removeEventListener("mousemove",w),QE=QE.filter(function(U){return U!==w})}function Rt(U){if(!(As.isTouch&&(d||U.type==="mousedown"))){var he=U.composedPath&&U.composedPath()[0]||U.target;if(!(A.props.interactive&&L9(j,he))){if(Cf(A.props.triggerTarget||t).some(function(Ie){return L9(Ie,he)})){if(As.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else ue("onClickOutside",[A,U]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),l=!0,setTimeout(function(){l=!1}),A.state.isMounted||dr())}}}function Zn(){d=!0}function ft(){d=!1}function Si(){var U=nn();U.addEventListener("mousedown",Rt,!0),U.addEventListener("touchend",Rt,Ou),U.addEventListener("touchstart",ft,Ou),U.addEventListener("touchmove",Zn,Ou)}function dr(){var U=nn();U.removeEventListener("mousedown",Rt,!0),U.removeEventListener("touchend",Rt,Ou),U.removeEventListener("touchstart",ft,Ou),U.removeEventListener("touchmove",Zn,Ou)}function ct(U,he){rn(U,function(){!A.state.isVisible&&j.parentNode&&j.parentNode.contains(j)&&he()})}function Fn(U,he){rn(U,he)}function rn(U,he){var Ie=We().box;function At(pt){pt.target===Ie&&(FO(Ie,"remove",At),he())}if(U===0)return he();FO(Ie,"remove",v),FO(Ie,"add",At),v=At}function Fi(U,he,Ie){Ie===void 0&&(Ie=!1);var At=Cf(A.props.triggerTarget||t);At.forEach(function(pt){pt.addEventListener(U,he,Ie),b.push({node:pt,eventType:U,handler:he,options:Ie})})}function Pr(){Ce()&&(Fi("touchstart",ba,{passive:!0}),Fi("touchend",ei,{passive:!0})),cle(A.props.trigger).forEach(function(U){if(U!=="manual")switch(Fi(U,ba),U){case"mouseenter":Fi("mouseleave",ei);break;case"focus":Fi(ble?"focusout":"blur",Hc);break;case"focusin":Fi("focusout",Hc);break}})}function $c(){b.forEach(function(U){var he=U.node,Ie=U.eventType,At=U.handler,pt=U.options;he.removeEventListener(Ie,At,pt)}),b=[]}function ba(U){var he,Ie=!1;if(!(!A.state.isEnabled||Gc(U)||l)){var At=((he=m)==null?void 0:he.type)==="focus";m=U,C=U.currentTarget,et(),!A.state.isVisible&&hle(U)&&QE.forEach(function(pt){return pt(U)}),U.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||a)&&A.props.hideOnClick!==!1&&A.state.isVisible?Ie=!0:qc(U),U.type==="click"&&(a=!Ie),Ie&&!At&&io(U)}}function Vu(U){var he=U.target,Ie=Se().contains(he)||j.contains(he);if(!(U.type==="mousemove"&&Ie)){var At=Fo().concat(j).map(function(pt){var ti,Li=pt._tippy,ro=(ti=Li.popperInstance)==null?void 0:ti.state;return ro?{popperRect:pt.getBoundingClientRect(),popperState:ro,props:n}:null}).filter(Boolean);gle(At,U)&&(Dn(),io(U))}}function ei(U){var he=Gc(U)||A.props.trigger.indexOf("click")>=0&&a;if(!he){if(A.props.interactive){A.hideWithInteractivity(U);return}io(U)}}function Hc(U){A.props.trigger.indexOf("focusin")<0&&U.target!==Se()||A.props.interactive&&U.relatedTarget&&j.contains(U.relatedTarget)||io(U)}function Gc(U){return As.isTouch?Ce()!==U.type.indexOf("touch")>=0:!1}function ju(){Uu();var U=A.props,he=U.popperOptions,Ie=U.placement,At=U.offset,pt=U.getReferenceClientRect,ti=U.moveTransition,Li=$e()?jO(j).arrow:null,ro=pt?{getBoundingClientRect:pt,contextElement:pt.contextElement||Se()}:t,oy={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ia){var Lo=Ia.state;if($e()){var Rf=We(),Ls=Rf.box;["placement","reference-hidden","escaped"].forEach(function(Vo){Vo==="placement"?Ls.setAttribute("data-placement",Lo.placement):Lo.attributes.popper["data-popper-"+Vo]?Ls.setAttribute("data-"+Vo,""):Ls.removeAttribute("data-"+Vo)}),Lo.attributes.popper={}}}},Ti=[{name:"offset",options:{offset:At}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ti}},oy];$e()&&Li&&Ti.push({name:"arrow",options:{element:Li,padding:3}}),Ti.push.apply(Ti,he?.modifiers||[]),A.popperInstance=RO(ro,j,Object.assign({},he,{placement:Ie,onFirstUpdate:y,modifiers:Ti}))}function Uu(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function no(){var U=A.props.appendTo,he,Ie=Se();A.props.interactive&&U===q9||U==="parent"?he=Ie.parentNode:he=z9(U,[Ie]),he.contains(j)||he.appendChild(j),A.state.isMounted=!0,ju()}function Fo(){return XE(j.querySelectorAll("[data-tippy-root]"))}function qc(U){A.clearDelayTimeouts(),U&&ue("onTrigger",[A,U]),Si();var he=H(!0),Ie=Xe(),At=Ie[0],pt=Ie[1];As.isTouch&&At==="hold"&&pt&&(he=pt),he?i=setTimeout(function(){A.show()},he):A.show()}function io(U){if(A.clearDelayTimeouts(),ue("onUntrigger",[A,U]),!A.state.isVisible){dr();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(U.type)>=0&&a)){var he=H(!1);he?r=setTimeout(function(){A.state.isVisible&&A.hide()},he):o=requestAnimationFrame(function(){A.hide()})}}function Or(){A.state.isEnabled=!0}function zc(){A.hide(),A.state.isEnabled=!1}function Ea(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function Wc(U){if(!A.state.isDestroyed){ue("onBeforeUpdate",[A,U]),$c();var he=A.props,Ie=j9(t,Object.assign({},he,k9(U),{ignoreAttributes:!0}));A.props=Ie,Pr(),he.interactiveDebounce!==Ie.interactiveDebounce&&(Dn(),w=R9(Vu,Ie.interactiveDebounce)),he.triggerTarget&&!Ie.triggerTarget?Cf(he.triggerTarget).forEach(function(At){At.removeAttribute("aria-expanded")}):Ie.triggerTarget&&t.removeAttribute("aria-expanded"),et(),ne(),ie&&ie(he,Ie),A.popperInstance&&(ju(),Fo().forEach(function(At){requestAnimationFrame(At._tippy.popperInstance.forceUpdate)})),ue("onAfterUpdate",[A,U])}}function ks(U){A.setProps({content:U})}function Ca(){var U=A.state.isVisible,he=A.state.isDestroyed,Ie=!A.state.isEnabled,At=As.isTouch&&!A.props.touch,pt=NO(A.props.duration,0,No.duration);if(!(U||he||Ie||At)&&!Se().hasAttribute("disabled")&&(ue("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,$e()&&(j.style.visibility="visible"),ne(),Si(),A.state.isMounted||(j.style.transition="none"),$e()){var ti=We(),Li=ti.box,ro=ti.content;kO([Li,ro],0)}y=function(){var Ti;if(!(!A.state.isVisible||h)){if(h=!0,j.offsetHeight,j.style.transition=A.props.moveTransition,$e()&&A.props.animation){var Kc=We(),Ia=Kc.box,Lo=Kc.content;kO([Ia,Lo],pt),F9([Ia,Lo],"visible")}Pe(),et(),N9(LO,A),(Ti=A.popperInstance)==null||Ti.forceUpdate(),ue("onMount",[A]),A.props.animation&&$e()&&Fn(pt,function(){A.state.isShown=!0,ue("onShown",[A])})}},no()}}function Fs(){var U=!A.state.isVisible,he=A.state.isDestroyed,Ie=!A.state.isEnabled,At=NO(A.props.duration,1,No.duration);if(!(U||he||Ie)&&(ue("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,h=!1,a=!1,$e()&&(j.style.visibility="hidden"),Dn(),dr(),ne(!0),$e()){var pt=We(),ti=pt.box,Li=pt.content;A.props.animation&&(kO([ti,Li],At),F9([ti,Li],"hidden"))}Pe(),et(),A.props.animation?$e()&&ct(At,A.unmount):A.unmount()}}function ry(U){nn().addEventListener("mousemove",w),N9(QE,w),w(U)}function wC(){A.state.isVisible&&A.hide(),A.state.isMounted&&(Uu(),Fo().forEach(function(U){U._tippy.unmount()}),j.parentNode&&j.parentNode.removeChild(j),LO=LO.filter(function(U){return U!==A}),A.state.isMounted=!1,ue("onHidden",[A]))}function bC(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),$c(),delete t._tippy,A.state.isDestroyed=!0,ue("onDestroy",[A]))}}function qv(t,e){e===void 0&&(e={});var n=No.plugins.concat(e.plugins||[]);_le();var i=Object.assign({},e,{plugins:n}),r=ple(t);if(0)var o,a;var l=r.reduce(function(d,h){var m=h&&xle(h,i);return m&&d.push(m),d},[]);return JE(t)?l[0]:l}qv.defaultProps=No;qv.setDefaultProps=Sle;qv.currentInput=As;var xDe=Object.assign({},Lv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});qv.setDefaultProps({render:Y9});var BO=qv;var $O=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Q0(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function ZE(t){return t instanceof vo}function zv(t){return typeof t=="function"}function Wv(t){return typeof t=="string"}var HO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},GO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},Mle=new ve("Component context"),qO=(()=>{let e=class e{constructor(){this.injector=te(Wt),this.appRef=te(os),this.environmentInjector=te(ci)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=oh(r.context),o=Wt.create({providers:[{provide:Mle,useValue:a.asReadonly()}],parent:o})),new $O({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new HO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(ZE(i))return this.createTemplate(i,r);if(zv(i))return this.createComponent(i,r);if(Wv(i))return new GO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X9=!1,J9=!1;typeof window<"u"&&(X9="IntersectionObserver"in window,J9="ResizeObserver"in window);function Q9(t,e={root:null,threshold:.3}){let n=nH(t);return new je(i=>{if(!X9){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function Z9(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Ole(t){let e=nH(t);return eH(e).pipe(_S(150),Ne(()=>Z9(e)))}function eH(t){return Rle(t)}function Rle(t){return new je(e=>{if(!J9){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Kv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function tH(t){return(kle(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Nle(t){return Fle(t)?"":typeof t=="string"?t:`${t}px`}function kle(t){return typeof t=="string"}function Fle(t){return t==null}function nH(t){return t instanceof sn?t.nativeElement:t}var zO,WO=new WeakMap;function Lle(t,e){return zO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||WO.get(i.target)()})}),WO.set(t,e),zO.observe(t),()=>{WO.delete(t),zO.unobserve(t)}}var KO=new ve("Tippy config",{providedIn:"root",factory(){return{}}}),iH=new ve("TIPPY_REF"),tC=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,h){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=h,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new zt,this.destroyed=new si,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new si,this.contentChanged=new si}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;eC("content",i)&&this.contentChanged.next(),eC("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=Z(Z({},this.globalConfig.variations[o]),r)),eC("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),eC("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Q9(this.host).pipe(Di(()=>this.isOverflowing$()),fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):Q9(this.host).pipe(fo(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(fo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(fo(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Lle(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(Z(Z({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(Kv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=BO(this.host,Et(Z(Z(Z({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Kv(this.globalConfig)),Kv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of tH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Wv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Wv(this.content)){let o=Wt.create({providers:[{provide:iH,useValue:this.instance}],parent:this.injector});zv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):ZE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,Z({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&zv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Wv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){Ud(this.host,"contextmenu").pipe(fo(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Ud(document.body,"keydown").pipe(ai(({code:i})=>i==="Escape"),fo(Bp(this.destroyed,this.visibleInternal.pipe(ai(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){eH(this.host).pipe(fo(Bp(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=Nle(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return lm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[Ole(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Di(()=>new je(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Ne(()=>Z9(this.host)))),Bp(...i)}};e.\u0275fac=function(r){return new(r||e)(N(Fr),N(KO),N(Wt),N(qO),N(vi),N(yt),N(sn))},e.\u0275dir=Pt({type:e,selectors:[["","tp",""]],inputs:{appendTo:[Ae.None,"tpAppendTo","appendTo"],content:[Ae.None,"tp","content"],delay:[Ae.None,"tpDelay","delay"],duration:[Ae.None,"tpDuration","duration"],hideOnClick:[Ae.None,"tpHideOnClick","hideOnClick"],interactive:[Ae.None,"tpInteractive","interactive"],interactiveBorder:[Ae.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[Ae.None,"tpMaxWidth","maxWidth"],offset:[Ae.None,"tpOffset","offset"],placement:[Ae.None,"tpPlacement","placement"],popperOptions:[Ae.None,"tpPopperOptions","popperOptions"],showOnCreate:[Ae.None,"tpShowOnCreate","showOnCreate"],trigger:[Ae.None,"tpTrigger","trigger"],triggerTarget:[Ae.None,"tpTriggerTarget","triggerTarget"],zIndex:[Ae.None,"tpZIndex","zIndex"],animation:[Ae.None,"tpAnimation","animation"],useTextContent:[Ae.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Yi],isLazy:[Ae.HasDecoratorInputTransform,"tpIsLazy","isLazy",Yi],variation:[Ae.None,"tpVariation","variation"],isEnabled:[Ae.None,"tpIsEnabled","isEnabled"],className:[Ae.None,"tpClassName","className"],onlyTextOverflow:[Ae.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Yi],staticWidthHost:[Ae.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Yi],data:[Ae.None,"tpData","data"],useHostWidth:[Ae.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Yi],hideOnEscape:[Ae.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Yi],detectChangesComponent:[Ae.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[Ae.None,"tpPopperWidth","popperWidth"],customHost:[Ae.None,"tpHost","customHost"],isVisible:[Ae.HasDecoratorInputTransform,"tpIsVisible","isVisible",Yi]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[sm,ns]});let t=e;return t})();function eC(t,e){return t in e}var rH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=Et(Z(Z(Z({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let h=Wt.create({providers:[{provide:iH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=h,ZE(r)?d.$viewOptions.context=Z({$implicit:d.hide.bind(d)},o.context):zv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,Z(Z({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},Kv(this.globalConfig)),this.globalConfig.variations[a]),Kv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let h of tH(o.className))d.popper.classList.add(h);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return BO(i,l)}};e.\u0275fac=function(r){return new(r||e)(re(KO),re(qO),re(Wt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oH(t={}){return nc([{provide:KO,useValue:t}])}var Nc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var jle=500,xs=jle+"ms ease",If=Is("skip",[Ji(":enter",[])]),Jr=Is("fade",[Ji(":enter",[jt({opacity:0}),ar(xs,jt({opacity:1}))]),Ji(":leave",[jt({opacity:1,"pointer-events":"none"}),ar(xs,jt({opacity:0}))])]),Sf=Is("crossfade",[Ji(":enter",[jt({opacity:0}),ar(xs,jt({opacity:1}))]),Ji(":leave",[jt({opacity:1,position:"absolute","pointer-events":"none"}),ar(xs,jt({opacity:0}))])]),kc=Is("enter",[Ji(":enter",[jt({opacity:0}),ar(xs,jt({opacity:1}))])]),nC=Is("leave",[Ji(":leave",[jt({opacity:1}),ar(xs,jt({opacity:0}))])]),XDe=Is("hidden",[Ji("* => true",[jt({opacity:"*"}),ar(xs,jt({opacity:0}))]),Ji("true => *",[jt({opacity:0}),ar(xs,jt({opacity:"*"}))])]),Fc=Is("drawer",[Ji(":enter",[jt({height:0,opacity:0}),ar(xs,jt({height:"*",opacity:"*"}))]),Ji(":leave",[jt({height:"*",opacity:"*"}),ar(xs,jt({height:0,opacity:0}))])]);var Lc=class extends Kn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(CS(1)).subscribe(e,n,i):super.subscribe(e)}};var Tn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Lc(!1),this.changes=new Lc(!1),this.errors=new Lc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ule=["content"];function Ble(t,e){if(t&1){let n=le();I(0,"div",7),R("click",function(){F(n);let r=M().$implicit;return L(r.click&&r.click())}),$(1),S()}if(t&2){let n=M().$implicit;it("disabled",n.disable&&n.disable()),D(),_e(n.text())}}function $le(t,e){if(t&1&&(ut(0),z(1,Ble,2,3,"div",6),dt()),t&2){let n=e.$implicit;D(),O("ngIf",!n.hidden||!n.hidden())}}var sH=(()=>{let e=class e{get isActive(){return this.active()}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}close(){this.contentInstance.close()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fe({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&bj(Ule,5,vi),r&2){let a;TD(a=DD())&&(o.containerRef=a.first)}},hostVars:3,hostBindings:function(r,o){r&1&&R("keydown.escape",function(l){return o.close(l)},!1,yn),r&2&&(ta("@overlayFade",o.isVisible),it("active",o.isActive))},decls:9,vars:2,consts:[[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],["class","button",3,"disabled","click",4,"ngIf"],[1,"button",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span"),$(2),S(),I(3,"i",1),R("click",function(){return o.close()}),S()(),I(4,"div",2),SD(5,null,3),S(),I(7,"div",4),z(8,$le,2,1,"ng-container",5),S()),r&2&&(D(2),_e(o.contentInstance==null?null:o.contentInstance.configuration.title),D(6),O("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.501rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.336rem);max-height:calc(100% - 1.336rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.334rem;margin:0 .334rem}.header[_ngcontent-%COMP%]{height:30px;padding:.334rem .334rem .334rem .668rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.334rem;padding:.334rem;height:30px;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s}"],data:{animation:[Is("overlayFade",[Ji("* => visible",[jt({opacity:0}),ar("250ms ease",jt({opacity:1}))]),Ji("* => hidden",[jt({opacity:1}),ar("250ms ease",jt({opacity:0}))])])]}});let t=e;return t})();var Yt=class{};function Hle(t,e){if(t&1&&(I(0,"span"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}var aH=(()=>{let e=class e extends Yt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275cmp=fe({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)("keydown.escape",function(l){return o.close(l)},!1,yn)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},features:[Ct],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Hle,2,1,"span",1),S()),r&2&&(D(),O("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.002rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();function Gle(t,e){if(t&1&&(I(0,"span"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}var cH=(()=>{let e=class e extends Yt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275cmp=fe({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)("keydown.escape",function(l){return o.close(l)},!1,yn)},inputs:{title:"title",messages:"messages"},features:[Ct],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Gle,2,1,"span",1),S()),r&2&&(D(),O("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.002rem;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}"]});let t=e;return t})();var se=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var zn=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}createMessage(i,r){return this.create(cH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(aH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r){let o=Q0(sH,{environmentInjector:this.injector}),a=o.instance;return a.contentComponentType=i,a.inputs=r,a.active=()=>se.isLast(this.stack,a),a.result.then(()=>{se.remove(this.stack,a),setTimeout(()=>{this.appRef.detachView(o.hostView),o.destroy()},250)}),this.stack.push(a),this.appRef.attachView(o.hostView),document.body.firstElementChild.appendChild(o.location.nativeElement),o.changeDetectorRef.detectChanges(),a.result}getCount(){return this.stack.length}};e.\u0275fac=function(r){return new(r||e)(re(os),re(ci))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qle(t,e){t&1&&oe(0,"div",4)}function zle(t,e){t&1&&oe(0,"div",5),t&2&&O("@fade",void 0)}function Wle(t,e){t&1&&oe(0,"span",6),t&2&&O("@fade",void 0)}var lH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Nc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||this.dialogService.getCount()!=0}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(zn))},e.\u0275cmp=fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Ee],decls:5,vars:5,consts:[["class","overlay-pointer-events",4,"ngIf"],["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-pointer-events"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(z(0,qle,1,0,"div",0)(1,zle,1,1,"div",1),oe(2,"div",2),z(3,Wle,1,1,"span",3),oe(4,"router-outlet")),r&2&&(O("ngIf",o.isBlurOverlayVisible()),D(),O("ngIf",o.isBlurOverlayVisible()),D(),jr("background-color",o.getLoadingBarColor()),D(),O("ngIf",o.applicationService.loading.value))},dependencies:[Te,St,Nv],styles:[".light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--color-background: rgb(255, 255, 255);--color-border: rgba(0, 0, 0, .2);--color-hover: rgba(0, 0, 0, .1);--color-text: black;--color-text-hover: rgb(28, 28, 28);--color-text-shadow: #e1e1e1;--color-highlight: blueviolet;--color-primary: #0075ff;--color-secondary: #155197;--color-positive: forestgreen;--color-negative: orangered}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--color-background: #202124;--color-border: rgba(255, 255, 255, .2);--color-hover: rgba(255, 255, 255, .1);--color-text-shadow: black;--color-text: #e1e1e1;--color-text-hover: white;--color-primary: #0075ff;--color-secondary: #155197;--color-highlight: blueviolet;--color-positive: yellowgreen;--color-negative: lightcoral}[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background)}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{position:absolute}.overlay-pointer-events[_ngcontent-%COMP%]{width:100%;height:100%;pointer-events:all;z-index:100}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:#ffffff0d;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:100%;border-style:solid}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Jr]}});let t=e;return t})();var yH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(N(rs),N(sn))},e.\u0275dir=Pt({type:e});let t=e;return t})(),sC=(()=>{let e=class e extends yH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,features:[Ct]});let t=e;return t})(),Jv=new ve("");var Kle={provide:Jv,useExisting:tc(()=>Ut),multi:!0};function Yle(){let t=ia()?ia().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Qle=new ve(""),Ut=(()=>{let e=class e extends yH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Yle())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(N(rs),N(sn),N(Qle,8))},e.\u0275dir=Pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&R("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[sh([Kle]),Ct]});let t=e;return t})();var Xle=new ve(""),Jle=new ve("");function _H(t){return t!=null}function wH(t){return xl(t)?Jt(t):t}function bH(t){let e={};return t.forEach(n=>{e=n!=null?Z(Z({},e),n):e}),Object.keys(e).length===0?null:e}function EH(t,e){return e.map(n=>n(t))}function Zle(t){return!t.validate}function CH(t){return t.map(e=>Zle(e)?e:n=>e.validate(n))}function eue(t){if(!t)return null;let e=t.filter(_H);return e.length==0?null:function(n){return bH(EH(n,e))}}function IH(t){return t!=null?eue(CH(t)):null}function tue(t){if(!t)return null;let e=t.filter(_H);return e.length==0?null:function(n){let i=EH(n,e).map(wH);return yS(i).pipe(Ne(bH))}}function SH(t){return t!=null?tue(CH(t)):null}function uH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nue(t){return t._rawValidators}function iue(t){return t._rawAsyncValidators}function YO(t){return t?Array.isArray(t)?t:[t]:[]}function rC(t,e){return Array.isArray(t)?t.includes(e):t===e}function dH(t,e){let n=YO(e);return YO(t).forEach(r=>{rC(n,r)||n.push(r)}),n}function hH(t,e){return YO(e).filter(n=>!rC(t,n))}var oC=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},QO=class extends oC{get formDirective(){return null}get path(){return null}},Xv=class extends oC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},XO=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$1e=Et(Z({},rue),{"[class.ng-submitted]":"isSubmitted"}),Qt=(()=>{let e=class e extends XO{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(N(Xv,2))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&it("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ct]});let t=e;return t})();var Yv="VALID",iC="INVALID",Tf="PENDING",Qv="DISABLED";function oue(t){return(aC(t)?t.validators:t)||null}function sue(t){return Array.isArray(t)?IH(t):t||null}function aue(t,e){return(aC(e)?e.asyncValidators:t)||null}function cue(t){return Array.isArray(t)?SH(t):t||null}function aC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var JO=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yv}get invalid(){return this.status===iC}get pending(){return this.status==Tf}get disabled(){return this.status===Qv}get enabled(){return this.status!==Qv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hH(e,this._rawAsyncValidators))}hasValidator(e){return rC(this._rawValidators,e)}hasAsyncValidator(e){return rC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qv,this.errors=null,this._forEachChild(i=>{i.disable(Et(Z({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Et(Z({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Yv,this._forEachChild(i=>{i.enable(Et(Z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Et(Z({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yv||this.status===Tf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qv:Yv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tf,this._hasOwnPendingAsyncValidator=!0;let n=wH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Qv:this.errors?iC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tf)?Tf:this._anyControlsHaveStatus(iC)?iC:Yv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){aC(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cue(this._rawAsyncValidators)}};var TH=new ve("CallSetDisabledState",{providedIn:"root",factory:()=>ZO}),ZO="always";function lue(t,e){return[...e.path,t]}function uue(t,e,n=ZO){hue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),fue(t,e),mue(t,e),pue(t,e),due(t,e)}function fH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function due(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function hue(t,e){let n=nue(t);e.validator!==null?t.setValidators(uH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=iue(t);e.asyncValidator!==null?t.setAsyncValidators(uH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();fH(e._rawValidators,r),fH(e._rawAsyncValidators,r)}function fue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&DH(t,e)})}function pue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&DH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function DH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mue(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function gue(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vue(t){return Object.getPrototypeOf(t.constructor)===sC}function yue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ut?n=o:vue(o)?i=o:r=o}),r||i||n||null}function pH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _ue=class extends JO{constructor(e=null,n,i){super(oue(n),aue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),aC(n)&&(n.nonNullable||n.initialValueIsDefault)&&(mH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){mH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wue={provide:Xv,useExisting:tc(()=>Gt)},gH=Promise.resolve(),Gt=(()=>{let e=class e extends Xv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new _ue,this._registered=!1,this.name="",this.update=new zt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=yue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),gue(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){uue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){gH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Yi(r);gH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?lue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(N(QO,9),N(Xle,10),N(Jle,10),N(Jv,10),N(rc,8),N(TH,8))},e.\u0275dir=Pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"],options:[Ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sh([wue]),Ct,ns]});let t=e;return t})();var bue={provide:Jv,useExisting:tc(()=>Ru),multi:!0},Ru=(()=>{let e=class e extends sC{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&R("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[sh([bue]),Ct]});let t=e;return t})();var Eue={provide:Jv,useExisting:tc(()=>Zr),multi:!0};function AH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Cue(t){return t.split(":")[0]}var Zr=(()=>{let e=class e extends sC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=AH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Cue(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&R("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[sh([Eue]),Ct]});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(AH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(N(sn),N(rs),N(Zr,9))},e.\u0275dir=Pt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Iue={provide:Jv,useExisting:tc(()=>xH),multi:!0};function vH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Sue(t){return t.split(":")[0]}var xH=(()=>{let e=class e extends sC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let h=l[d],m=this._getOptionValue(h.value);o.push(m)}}else{let l=r.options;for(let d=0;d<l.length;d++){let h=l[d];if(h.selected){let m=this._getOptionValue(h.value);o.push(m)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Sue(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&R("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[sh([Iue]),Ct]});let t=e;return t})(),Os=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(vH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(vH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(N(sn),N(rs),N(xH,9))},e.\u0275dir=Pt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Tue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=qi({type:e}),e.\u0275inj=Wi({});let t=e;return t})();var Tt=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:TH,useValue:i.callSetDisabledState??ZO}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=qi({type:e}),e.\u0275inj=Wi({imports:[Tue]});let t=e;return t})();var Vc=(()=>{let e=class e{constructor(i){this.elementRef=i,this.onCreate=new zt}ngOnInit(){this.onCreate.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(N(sn))},e.\u0275dir=Pt({type:e,selectors:[["","onCreate",""]],outputs:{onCreate:"onCreate"},standalone:!0});let t=e;return t})();var jc=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new eR,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(N(vi),N(vo))},e.\u0275dir=Pt({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),eR=class{};var Dt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var Df=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return wr(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return wr(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return wr(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return wr(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return wr(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return wr(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return wr(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?wr(this.http.post(e,n).pipe(Ne(i=>i?i.files:[]))):wr(this.http.get(e).pipe(Ne(i=>i?i.files:[])))}};var Uc=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xt=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(Xt||{});var Zv=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var vt=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[]}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:Zv(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:Zv(),logic:[this.createLogic(Xt.ALWAYS)],disabled:this.createCondition(Xt.NEVER),hidden:this.createCondition(Xt.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var ln=(()=>{let e=class e{constructor(){}getCurrentNode(){return this.currentScenario?.currentNode}getCurrentNote(){return this.currentScenario?.currentNote}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);for(let r of this.scenarios){r.currentNode=r.nodes[0],r.currentNote=r.notes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.buttons)o.logic||(o.logic=[vt.createLogic(Xt.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({label:r.label,text:r.text,wordCount:r.wordCount}))}))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bc=(()=>{let e=class e extends Df{constructor(i,r,o,a){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.delay=new Nc(3e3),this.FIELDS="id,name,mimeType,appProperties",this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(Uc).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(a=>{this.applicationService.errors.next(a==null)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(re(Pl),re(Wt),re(Tn),re(ln))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lC=class extends Lc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function Due(t,e){if(t&1){let n=le();ut(0),I(1,"div",2)(2,"span",3),$(3,"Weight"),S()(),I(4,"div",4)(5,"input",12),Fe("ngModelChange",function(r){F(n);let o=M();return Ve(o.action.weight,r)||(o.action.weight=r),L(r)}),R("input",function(r){F(n);let o=M();return L(o.onWeightChange(r))}),S(),I(6,"i",13),R("click",function(){F(n);let r=M();return L(r.onRemoveActionClick())}),S()(),dt()}if(t&2){let n=M();D(5),ke("ngModel",n.action.weight)}}function Aue(t,e){t&1&&oe(0,"div",8)}function xue(t,e){if(t&1&&(I(0,"option",14),$(1),S()),t&2){let n=e.$implicit,i=M();O("ngValue",n.id),D(),na("(",i.getParentScenario(n).label," ",n.description,")")}}function Mue(t,e){if(t&1){let n=le();I(0,"div",4)(1,"input",5),Fe("ngModelChange",function(r){let a=F(n).$implicit;return Ve(a.value,r)||(a.value=r),L(r)}),S(),I(2,"i",15),R("click",function(){let o=F(n).$implicit,a=M();return L(a.removeStoryChange(o))}),S()()}if(t&2){let n=e.$implicit;D(),ke("ngModel",n.value)}}function Pue(t,e){if(t&1&&(I(0,"option",14),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n.id),D(),_e(n.id)}}function Oue(t,e){if(t&1&&(I(0,"option",14),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n.id),D(),_e(n.value)}}function Rue(t,e){if(t&1){let n=le();I(0,"div",4)(1,"select",5),Fe("ngModelChange",function(r){let a=F(n).$implicit;return Ve(a.id,r)||(a.id=r),L(r)}),z(2,Pue,2,2,"option",6),S(),I(3,"select",5),Fe("ngModelChange",function(r){let a=F(n).$implicit;return Ve(a.value,r)||(a.value=r),L(r)}),z(4,Oue,2,2,"option",6),S(),I(5,"i",16),R("click",function(){let o=F(n).$implicit,a=M();return L(a.removeVariableChange(o))}),S()()}if(t&2){let n=e.$implicit,i=M();D(),ke("ngModel",n.id),D(),O("ngForOf",i.getAvailableVariables()),D(),it("disabled",!n.id),ke("ngModel",n.value),D(),O("ngForOf",i.getVariableOptions(n))}}var MH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new zt}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){se.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){se.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(vt.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(N(cr),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[Ee],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(z(0,Due,7,1,"ng-container",0)(1,Aue,1,0,"div",1),I(2,"div",2)(3,"span",3),$(4,"Next Node"),S()(),I(5,"div",4)(6,"select",5),Fe("ngModelChange",function(l){return Ve(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),z(7,xue,2,3,"option",6),S(),I(8,"i",7),R("click",function(){return o.createNode()}),S()(),oe(9,"div",8),I(10,"div",2)(11,"span",3),$(12,"Story Changes"),S(),I(13,"i",9),R("click",function(){return o.createStoryChange()}),S()(),z(14,Mue,3,1,"div",10),oe(15,"div",8),I(16,"div",2)(17,"span",3),$(18,"Variable Changes"),S(),I(19,"i",11),R("click",function(){return o.createVariableChange()}),S()(),z(20,Rue,6,6,"div",10)),r&2&&(O("ngIf",o.weightVisible),D(),O("ngIf",o.weightVisible),D(5),ke("ngModel",o.action.nextNodeId),D(),O("ngForOf",o.getAvailableNodes()),D(7),O("ngForOf",o.action.storyChanges),D(6),O("ngForOf",o.action.variableChanges))},dependencies:[Te,It,St,Tt,Ps,Os,Ut,Ru,Zr,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.334rem;border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.334rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.334rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Nue(t,e){if(t&1&&(I(0,"option"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}function kue(t,e){if(t&1){let n=le();I(0,"div")(1,"select",3),Fe("ngModelChange",function(r){F(n);let o=M();return Ve(o.logic.operator,r)||(o.logic.operator=r),L(r)}),z(2,Nue,2,1,"option",1),S(),I(3,"i",4),R("click",function(){F(n);let r=M();return L(r.onRemoveLogicClick())}),S()()}if(t&2){let n=M();D(),it("select-disabled",n.logic.conditions.length==0),ke("ngModel",n.logic.operator),D(),O("ngForOf",n.getLogicalOperators())}}function Fue(t,e){if(t&1&&(I(0,"option",8),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n),D(),_e(n.id)}}function Lue(t,e){if(t&1&&(I(0,"option"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}function Vue(t,e){if(t&1&&(I(0,"option",8),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n),D(),_e(n.value)}}function jue(t,e){if(t&1){let n=le();I(0,"div")(1,"select",5),Fe("ngModelChange",function(r){F(n);let o=M().$implicit;return Ve(o.variable,r)||(o.variable=r),L(r)}),z(2,Fue,2,2,"option",6),S(),I(3,"select",3),Fe("ngModelChange",function(r){F(n);let o=M().$implicit;return Ve(o.operator,r)||(o.operator=r),L(r)}),z(4,Lue,2,1,"option",1),S(),I(5,"select",5),Fe("ngModelChange",function(r){F(n);let o=M().$implicit;return Ve(o.value,r)||(o.value=r),L(r)}),z(6,Vue,2,2,"option",6),S(),I(7,"span",7),R("click",function(){F(n);let r=M().$implicit,o=M();return L(o.onRemoveConditionClick(r))}),S()()}if(t&2){let n=M().$implicit,i=M();D(),ke("ngModel",n.variable),O("compareWith",i.compareVariables),D(),O("ngForOf",i.stateService.getVariables()),D(),ke("ngModel",n.operator),D(),O("ngForOf",i.getComparisonOperators()),D(),it("disabled",!n.variable.id),ke("ngModel",n.value),O("compareWith",i.compareOptions),D(),O("ngForOf",n.variable.options)}}function Uue(t,e){if(t&1){let n=le();I(0,"div")(1,"span",9)(2,"input",10),Fe("ngModelChange",function(r){F(n);let o=M().$implicit;return Ve(o.chance,r)||(o.chance=r),L(r)}),R("input",function(r){F(n);let o=M().$implicit,a=M();return L(a.onChanceChange(o,r))}),S(),$(3,"%"),S(),I(4,"span",7),R("click",function(){F(n);let r=M().$implicit,o=M();return L(o.onRemoveConditionClick(r))}),S()()}if(t&2){let n=M().$implicit;D(2),ke("ngModel",n.chance)}}function Bue(t,e){if(t&1&&(ut(0),z(1,jue,8,10,"div",0)(2,Uue,5,1,"div",0),dt()),t&2){let n=e.$implicit,i=M();D(),O("ngIf",i.isVariableCondition(n)),D(),O("ngIf",i.isChanceCondition(n))}}function $ue(t,e){if(t&1){let n=le();I(0,"i",13),R("click",function(){F(n);let r=M(2);return L(r.createChanceCheck())}),S()}}function Hue(t,e){if(t&1){let n=le();I(0,"div")(1,"i",11),R("click",function(){F(n);let r=M();return L(r.createVariableCheck())}),S(),z(2,$ue,1,0,"i",12),S()}if(t&2){let n=M();D(2),O("ngIf",!n.hasChanceCheck())}}function Gue(t,e){t&1&&oe(0,"div",14)}function que(t,e){if(t&1){let n=le();ut(0),I(1,"div",15)(2,"span",16),$(3,"Action"),S(),I(4,"i",17),R("click",function(){F(n);let r=M();return L(r.createAction())}),S()(),I(5,"app-action-editor",18),R("removeAction",function(r){F(n);let o=M();return L(o.onRemoveAction(r))}),S(),dt()}if(t&2){let n=e.$implicit,i=M();D(5),O("action",n)("weightVisible",i.logic.actions.length>1)}}var PH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new zt}ngOnInit(){}createVariableCheck(){let i=vt.createCondition(Xt.EQ);i.variable=vt.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(vt.createCondition(Xt.CHANCE))}createAction(){this.logic.actions.push(vt.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==Xt.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){se.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){se.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return se.isEmpty(this.logic.conditions)?[Xt.ALWAYS]:[Xt.AND,Xt.OR]}getComparisonOperators(){return[Xt.EQ,Xt.NEQ]}};e.\u0275fac=function(r){return new(r||e)(N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[Ee],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&z(0,kue,4,4,"div",0)(1,Bue,3,2,"ng-container",1)(2,Hue,3,1,"div",0)(3,Gue,1,0,"div",2)(4,que,6,2,"ng-container",1),r&2&&(O("ngIf",o.removable),D(),O("ngForOf",o.logic.conditions),D(),O("ngIf",o.removable),D(),O("ngIf",o.removable),D(),O("ngForOf",o.logic.actions))},dependencies:[Te,It,St,Tt,Ps,Os,Ut,Ru,Zr,Qt,Gt,MH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.334rem;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.334rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .334rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.334rem;padding:.334rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function zue(t,e){if(t&1){let n=le();I(0,"app-logic-editor",6),R("removeLogic",function(r){F(n);let o=M();return L(o.onRemoveLogic(r))}),S()}if(t&2){let n=e.$implicit,i=e.index;O("logic",n)("removable",i>0)}}var OH=(()=>{let e=class e extends Yt{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=vt.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(vt.createLogic(Xt.ALWAYS))}onRemoveLogic(i){se.isEmpty(i.conditions)&&i.actions.every(r=>se.isEmpty(r.storyChanges)&&se.isEmpty(r.variableChanges))?se.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&se.remove(this.editableButton.logic,i)})}canSubmit(){return!Dt.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!Dt.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!Dt.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=vt.createCondition(Xt.NEVER),this.sourceButton.disabled=vt.createCondition(Xt.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(zn))},e.\u0275cmp=fe({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[Ct,Ee],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"Text"),S()(),I(3,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableButton.text,l)||(o.editableButton.text=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),$(7,"Tooltip"),S()(),I(8,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),S(),oe(9,"div",3),I(10,"div",0)(11,"span",1),$(12,"Logic"),S(),I(13,"i",4),R("click",function(){return o.createLogicEntry()}),S()(),z(14,zue,1,2,"app-logic-editor",5)),r&2&&(D(3),ke("ngModel",o.editableButton.text),D(5),ke("ngModel",o.editableButton.tooltip),D(6),O("ngForOf",o.editableButton.logic))},dependencies:[Te,It,Tt,Ut,Qt,Gt,PH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var RH=(()=>{let e=class e extends Yt{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=vt.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(Dt.isEmpty(this.editableCharacter.id)||Dt.isEmpty(this.editableCharacter.name)||Dt.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fe({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[Ct,Ee],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"ID"),S()(),I(3,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),$(7,"Name"),S()(),I(8,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),S(),oe(9,"div",3),I(10,"div",0)(11,"span",1),$(12,"Color"),S()(),I(13,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),S()),r&2&&(D(3),ke("ngModel",o.editableCharacter.id),D(5),ke("ngModel",o.editableCharacter.name),D(5),ke("ngModel",o.editableCharacter.color))},dependencies:[Te,Tt,Ut,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function Wue(t,e){if(t&1&&(I(0,"option",6),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n.id),D(),na("",n.id," (",n.name,")")}}var NH=(()=>{let e=class e extends Yt{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=vt.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(vt.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(Dt.isEmpty(this.editableLine.characterId)||Dt.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(cr),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[Ct,Ee],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"Character"),S(),I(3,"i",2),R("click",function(){return o.openCharacterEditor()}),S()(),I(4,"select",3),Fe("ngModelChange",function(l){return Ve(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),z(5,Wue,2,3,"option",4),S(),oe(6,"div",5),I(7,"div",0)(8,"span",1),$(9,"Text"),S()(),I(10,"input",3),Fe("ngModelChange",function(l){return Ve(o.editableLine.text,l)||(o.editableLine.text=l),l}),S()),r&2&&(D(4),ke("ngModel",o.editableLine.characterId),D(),O("ngForOf",o.getCharacters()),D(5),ke("ngModel",o.editableLine.text))},dependencies:[Te,It,Tt,Ps,Os,Ut,Zr,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Kue(t,e){if(t&1){let n=le();I(0,"div",7)(1,"span",8),$(2),S(),I(3,"div",9)(4,"i",10),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openDialogueLineEditor(o))}),S(),I(5,"i",11),R("click",function(){let o=F(n).$implicit,a=M();return L(a.deleteDialogueLine(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();D(2),na("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function Yue(t,e){if(t&1){let n=le();I(0,"div",7)(1,"span",8),$(2),S(),I(3,"div",9)(4,"i",12),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openButtonEditor(o))}),S(),I(5,"i",13),R("click",function(){let o=F(n).$implicit,a=M();return L(a.deleteButton(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();D(2),_e(i.stateService.getButton(n).text)}}var kH=(()=>{let e=class e extends Yt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=vt.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=vt.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):vt.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&se.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(Dt.isEmpty(this.editableNode.description)||se.isEmpty(this.editableNode.lines)||se.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(zn),N(cr),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[Ct,Ee],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"Description"),S()(),I(3,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableNode.description,l)||(o.editableNode.description=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),$(7,"Lines"),S(),I(8,"i",4),R("click",function(){return o.openDialogueLineEditor()}),S()(),z(9,Kue,6,2,"div",5),oe(10,"div",3),I(11,"div",0)(12,"span",1),$(13,"Buttons"),S(),I(14,"i",6),R("click",function(){return o.openButtonEditor()}),S()(),z(15,Yue,6,1,"div",5)),r&2&&(D(3),ke("ngModel",o.editableNode.description),D(6),O("ngForOf",o.editableNode.lines),D(6),O("ngForOf",o.editableNode.buttonIds))},dependencies:[Te,It,Tt,Ut,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var uC=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(N(vi))},e.\u0275dir=Pt({type:e,selectors:[["","dragdrop",""]],inputs:{object:[Ae.None,"dragdrop","object"],array:[Ae.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Que(t,e){if(t&1){let n=le();I(0,"div",8)(1,"span",9),$(2),S(),I(3,"div",10)(4,"i",11),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openCharacterEditor(o))}),S(),I(5,"i",12),R("click",function(){let o=F(n).$implicit,a=M();return L(a.deleteCharacter(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();O("dragdrop",n)("dragdropParent",i.editableScenario.characters),D(2),na("",n.id," (",n.name,")")}}function Xue(t,e){if(t&1){let n=le();I(0,"div",8)(1,"span",9),$(2),S(),I(3,"div",10)(4,"i",13),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openVariableEditor(o))}),S(),I(5,"i",14),R("click",function(){let o=F(n).$implicit,a=M();return L(a.deleteVariable(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();O("dragdrop",n)("dragdropParent",i.editableScenario.variables),D(2),_e(n.id)}}function Jue(t,e){if(t&1){let n=le();I(0,"div",8)(1,"span",9),$(2),S(),I(3,"div",10)(4,"i",15),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openNodeEditor(o))}),S(),I(5,"i",16),R("click",function(){let o=F(n).$implicit,a=M();return L(a.deleteNode(o))}),S()()()}if(t&2){let n=e.$implicit,i=M();O("dragdrop",n)("dragdropParent",i.editableScenario.nodes),D(2),_e(n.description)}}var FH=(()=>{let e=class e extends Yt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=vt.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=vt.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableScenario.characters,i)})}openVariableEditor(i=vt.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}se.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=vt.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=vt.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>se.remove(o.buttonIds,i.id)),se.remove(this.editableScenario.buttons,i))})}canSubmit(){return!Dt.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(zn),N(cr),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[Ct,Ee],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"Label"),S()(),I(3,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),$(7,"Characters"),S(),I(8,"i",4),R("click",function(){return o.openCharacterEditor()}),S()(),z(9,Que,6,4,"div",5),oe(10,"div",3),I(11,"div",0)(12,"span",1),$(13,"Variables"),S(),I(14,"i",6),R("click",function(){return o.openVariableEditor()}),S()(),z(15,Xue,6,3,"div",5),oe(16,"div",3),I(17,"div",0)(18,"span",1),$(19,"Nodes"),S(),I(20,"i",7),R("click",function(){return o.openNodeEditor()}),S()(),z(21,Jue,6,3,"div",5)),r&2&&(D(3),ke("ngModel",o.editableScenario.label),D(6),O("ngForOf",o.editableScenario.characters),D(6),O("ngForOf",o.editableScenario.variables),D(6),O("ngForOf",o.editableScenario.nodes))},dependencies:[Te,It,Tt,Ut,Qt,Gt,uC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.334rem;cursor:grab;border-radius:.334rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var xr=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(xr||{});function Zue(t,e){if(t&1&&(I(0,"option"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}function ede(t,e){if(t&1){let n=le();I(0,"div",9)(1,"input",2),Fe("ngModelChange",function(r){let a=F(n).$implicit;return Ve(a.value,r)||(a.value=r),L(r)}),S(),I(2,"i",10),R("click",function(){let o=F(n).$implicit,a=M(2);return L(a.removeOption(o))}),S()()}if(t&2){let n=e.$implicit;D(),ke("ngModel",n.value)}}function tde(t,e){if(t&1){let n=le();ut(0),oe(1,"div",3),I(2,"div",6)(3,"div",0)(4,"span",1),$(5,"Options"),S(),I(6,"i",7),R("click",function(){F(n);let r=M();return L(r.createOption())}),S()(),z(7,ede,3,1,"div",8),S(),dt()}if(t&2){let n=M();D(7),O("ngForOf",n.editableVariable.options)}}function nde(t,e){if(t&1){let n=le();ut(0),I(1,"select",2),Fe("ngModelChange",function(r){F(n);let o=M();return Ve(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),L(r)}),I(2,"option",11),$(3,"True"),S(),I(4,"option",12),$(5,"False"),S()(),dt()}if(t&2){let n=M();D(),ke("ngModel",n.editableVariable.initialValue)}}function ide(t,e){if(t&1){let n=le();ut(0),I(1,"input",13),Fe("ngModelChange",function(r){F(n);let o=M();return Ve(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),L(r)}),S(),dt()}if(t&2){let n=M();D(),ke("ngModel",n.editableVariable.initialValue)}}function rde(t,e){if(t&1&&(I(0,"option",16),$(1),S()),t&2){let n=e.$implicit;O("value",n.value),D(),_e(n.value)}}function ode(t,e){if(t&1){let n=le();ut(0),I(1,"select",2),Fe("ngModelChange",function(r){F(n);let o=M();return Ve(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),L(r)}),oe(2,"option",14),z(3,rde,2,2,"option",15),S(),dt()}if(t&2){let n=M();D(),ke("ngModel",n.editableVariable.initialValue),D(2),O("ngForOf",n.editableVariable.options)}}var LH=(()=>{let e=class e extends Yt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=vt.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=xr.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){Dt.isEmpty(i.value)?se.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&se.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(xr)}onVariableTypeChange(i){switch(i){case xr.BOOLEAN:this.editableVariable.initialValue="false";break;case xr.NUMBER:this.editableVariable.initialValue="0";break;case xr.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(Dt.isEmpty(this.editableVariable.id)||Dt.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case xr.BOOLEAN:if(Dt.isEmpty(this.editableVariable.initialValue))return!1;break;case xr.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case xr.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case xr.BOOLEAN:case xr.NUMBER:this.sourceVariable.options.length=0;break;case xr.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!Dt.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(zn),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[Ct,Ee],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"span",1),$(2,"ID"),S()(),I(3,"input",2),Fe("ngModelChange",function(l){return Ve(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),S(),oe(4,"div",3),I(5,"div",0)(6,"span",1),$(7,"Type"),S()(),I(8,"select",2),Fe("ngModelChange",function(l){return Ve(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),R("ngModelChange",function(l){return o.onVariableTypeChange(l)}),z(9,Zue,2,1,"option",4),S(),z(10,tde,8,1,"ng-container",5),oe(11,"div",3),I(12,"div",0)(13,"span",1),$(14,"Initial Value"),S()(),z(15,nde,6,1,"ng-container",5)(16,ide,2,1,"ng-container",5)(17,ode,4,2,"ng-container",5)),r&2&&(D(3),ke("ngModel",o.editableVariable.id),D(5),ke("ngModel",o.editableVariable.type),D(),O("ngForOf",o.getVariableTypes()),D(),O("ngIf",o.editableVariable.type=="Enum"),D(5),O("ngIf",o.editableVariable.type=="Boolean"),D(),O("ngIf",o.editableVariable.type=="Number"),D(),O("ngIf",o.editableVariable.type=="Enum"))},dependencies:[Te,It,St,Tt,Ps,Os,Ut,Ru,Zr,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.334rem;gap:.334rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.334rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.334rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var cr=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new lC(!0),this.storyVisible=!1,this.flowchartVisible=!1}openScenarioEditor(i){return E(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create(FH,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(RH,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(LH,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(kH,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(NH,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return E(this,null,function*(){let a=yield this.dialogService.create(OH,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(re(Bc),re(ln),re(zn))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sde(t,e){if(t&1){let n=le();ut(0),I(1,"input",2),Fe("ngModelChange",function(r){F(n);let o=M().ngVar;return Ve(o.label,r)||(o.label=r),L(r)}),R("input",function(){F(n);let r=M(2);return L(r.googleService.updateAdventure())}),S(),I(2,"textarea",3),Fe("ngModelChange",function(r){F(n);let o=M().ngVar;return Ve(o.text,r)||(o.text=r),L(r)}),R("input",function(){F(n);let r=M(2);return L(r.onNoteInput())})("onCreate",function(r){F(n);let o=M(2);return L(o.initTab(r))}),S(),dt()}if(t&2){let n=M().ngVar;D(),ke("ngModel",n.label),D(),ke("ngModel",n.text)}}function ade(t,e){if(t&1&&(ut(0),z(1,sde,3,2,"ng-container",1),dt()),t&2){let n=e.ngVar;D(),O("ngIf",n)}}var VH=(()=>{let e=class e{constructor(i,r,o,a,l){this.googleService=i,this.applicationService=r,this.adventureService=o,this.graphService=a,this.stateService=l,this.applicationService.loading.next(!0)}ngOnInit(){this.adventureService.sidebarVisible.subscribe(i=>this.sideMargins=!i)}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){let i=this.stateService.getCurrentNote();i.wordCount=Dt.getWordCount(i.text),this.googleService.updateAdventure(),i.label=="Flowchart"&&this.graphService.renderNotes()}noteContentCutLine(i){if(i.ctrlKey&&i.code=="KeyX"){let r=document.getElementsByClassName("note-content")[0];if(r.selectionEnd==r.selectionStart){let o=this.stateService.getCurrentNote(),a=o.text,l=a.substring(0,r.selectionEnd).lastIndexOf(`
`)+1,d=a.indexOf(`
`,r.selectionEnd)+1;navigator.clipboard.writeText(a.substring(l,d)),o.text=a.substring(0,l)+a.substring(d==0?a.length:d),o.wordCount=Dt.getWordCount(o.text),setTimeout(()=>r.setSelectionRange(l,l)),this.googleService.updateAdventure()}}}};e.\u0275fac=function(r){return new(r||e)(N(Bc),N(Tn),N(cr),N(Uc),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-notes"]],hostVars:2,hostBindings:function(r,o){r&1&&R("keydown",function(l){return o.noteContentCutLine(l)},!1,yn),r&2&&it("side-margins",o.sideMargins)},standalone:!0,features:[Ee],decls:1,vars:1,consts:[[4,"ngVar"],[4,"ngIf"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","onCreate"]],template:function(r,o){r&1&&z(0,ade,2,1,"ng-container",0),r&2&&O("ngVar",o.stateService.getCurrentNote())},dependencies:[Te,St,Tt,Ut,Qt,Gt,Vc,jc],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;flex-direction:column;justify-content:center;position:relative;padding:0 .334rem;transition-property:margin;transition-duration:.5s}.side-margins[_nghost-%COMP%]{margin:0 25%}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding-left:0;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.167rem 0}"]});let t=e;return t})();var tn=(()=>{let e=class e{static isLargeScreen(){return window.screen.width>600}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function cde(t,e){if(t&1){let n=le();I(0,"div",18),R("click",function(){let o=F(n).$implicit,a=M(2).$implicit,l=M();return L(l.setCurrentNote(a,o))})("dragend",function(){F(n);let r=M(3);return L(r.googleService.updateAdventure())}),I(1,"span",19),$(2),S(),I(3,"div",20)(4,"span",21),$(5),S(),I(6,"div",22)(7,"i",23),R("click",function(){let o=F(n).$implicit,a=M(2).$implicit,l=M();return L(l.removeNote(a,o))}),S()()()()}if(t&2){let n=e.$implicit,i=M(2).$implicit,r=M();O("dragdrop",n)("dragdropParent",i.notes),D(),it("highlight",n==r.stateService.currentScenario.currentNote),D(),_e(n.label),D(3),_e(n.wordCount)}}function lde(t,e){if(t&1&&(I(0,"div",16),z(1,cde,8,6,"div",17),S()),t&2){let n=M().$implicit;O("@drawer",void 0),D(),O("ngForOf",n.notes)}}function ude(t,e){if(t&1){let n=le();I(0,"div",6)(1,"div",7),R("click",function(){let o=F(n).$implicit,a=M();return L(a.setCurrentScenario(o))})("dragend",function(){F(n);let r=M();return L(r.googleService.updateAdventure())}),I(2,"span",8),$(3),S(),I(4,"div",9)(5,"span",10),$(6),S(),I(7,"div",11)(8,"i",12),R("click",function(){let o=F(n).$implicit,a=M();return L(a.createNote(o))}),S(),I(9,"i",13),R("click",function(){let o=F(n).$implicit,a=M();return L(a.openScenarioEditor(o))}),S(),I(10,"i",14),R("click",function(){let o=F(n).$implicit,a=M();return L(a.removeScenario(o))}),S()()()(),z(11,lde,2,2,"div",15),S()}if(t&2){let n=e.$implicit,i=M();D(),O("dragdrop",n)("dragdropParent",i.stateService.scenarios),D(),it("highlight",n==i.stateService.currentScenario),D(),_e(n.label),D(3),_e(i.getNotesWordCount(n)),D(5),O("ngIf",i.stateService.currentScenario==n)}}var jH=(()=>{let e=class e{constructor(i,r,o,a,l){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.stateService.currentScenario.currentNote=r}setCurrentScenario(i){this.stateService.currentScenario=i,tn.isLargeScreen()||this.editorService.sidebarVisible.next(!1),se.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=se.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=se.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(se.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),se.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=vt.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={label:"New Note",text:"",wordCount:0};i.notes.push(r),i.currentNote=r,this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.label+'"?'],"Yes","No").then(a=>{a&&(i.currentNote=se.nearestRightFirst(o,o.indexOf(r)),se.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(N(cr),N(Uc),N(zn),N(Bc),N(ln))},e.\u0275cmp=fe({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[Ee],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-label"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,ude,12,7,"div",1),S(),oe(2,"div",2),I(3,"div",3)(4,"i",4),R("click",function(){return o.openScenarioEditor()}),S(),I(5,"i",5),R("click",function(){return o.setRandom()}),S()()),r&2&&(D(),O("ngForOf",o.stateService.scenarios))},dependencies:[Te,It,St,uC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.334rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.167rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.167rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:30px;border-radius:.334rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .334rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .334rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:30px;border-radius:.334rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin:0 .334rem;padding-left:1.002rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .334rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.334rem 0;gap:.334rem}"],data:{animation:[Fc]}});let t=e;return t})();var Af=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e){return e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),h,m,v;switch(r%6){case 0:h=i,m=d,v=a;break;case 1:h=l,m=i,v=a;break;case 2:h=a,m=i,v=d;break;case 3:h=a,m=l,v=i;break;case 4:h=d,m=a,v=i;break;case 5:h=i,m=a,v=l;break}return"#"+Math.round(h*255).toString(16)+Math.round(m*255).toString(16)+Math.round(v*255).toString(16)}};var UH=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}se.isEmpty(i.storyChanges)||se.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)se.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(Af.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=Af.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case Xt.ALWAYS:return!0;case Xt.NEVER:return!1;case Xt.EQ:return i.variable.value==i.value;case Xt.NEQ:return i.variable.value!=i.value;case Xt.CHANCE:return Af.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(re(ln))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hde(t,e){if(t&1&&(I(0,"span"),$(1),S()),t&2){let n=e.$implicit;D(),_e(n)}}function fde(t,e){if(t&1){let n=le();I(0,"span",17),R("click",function(){F(n);let r=M().$implicit,o=M(2);return L(o.actionService.executeButton(r))}),$(1),S()}if(t&2){let n=M().$implicit;O("tp",n.tooltip),D(),_e(n.text)}}function pde(t,e){if(t&1&&(ut(0),z(1,fde,2,2,"span",16),dt()),t&2){let n=e.$implicit,i=M(2);D(),O("ngIf",!i.actionService.evaluate(n.hidden))}}function mde(t,e){if(t&1&&(ut(0),oe(1,"div",13),I(2,"div",14)(3,"span"),$(4),S(),I(5,"div",15),z(6,pde,2,1,"ng-container",11),S()(),dt()),t&2){let n=M();D(4),_e(n.stateService.getCurrentNode().description),D(2),O("ngForOf",n.stateService.getButtonsForNode())}}var BH=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}};e.\u0275fac=function(r){return new(r||e)(N(Bc),N(Uc),N(cr),N(Tn),N(ln),N(UH))},e.\u0275cmp=fe({type:e,selectors:[["app-adventure"]],standalone:!0,features:[Ee],decls:15,vars:13,consts:[[1,"header"],[1,"header-left"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],[1,"header-right"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-hidden"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"i",2),R("click",function(){return o.editorService.sidebarVisible.toggle()}),S()(),I(3,"div",3)(4,"i",4),R("click",function(){return o.applicationService.toggleTheme()}),S()()(),I(5,"div",5),oe(6,"app-scenario-browser")(7,"div",6),I(8,"div",7),oe(9,"app-notes")(10,"pre",8),I(11,"div",9)(12,"div",10),z(13,hde,2,1,"span",11),S(),z(14,mde,7,2,"ng-container",12),S()()()),r&2&&(D(4),O("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),D(2),it("flex-0",!o.editorService.sidebarVisible.value),D(),it("desktop-hidden",!o.editorService.sidebarVisible.value),D(),it("mobile-flex-0",o.editorService.sidebarVisible.value),D(2),it("hidden",!o.editorService.flowchartVisible),D(),jr("display",o.editorService.storyVisible?"":"none"),D(2),O("ngForOf",o.stateService.story),D(),O("ngIf",o.stateService.getCurrentNode()))},dependencies:[Te,sr,It,St,jH,VH,tC],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.334rem;gap:.334rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:.334rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.668rem;gap:.668rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.668rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.334rem}"]});let t=e;return t})();var $H=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>600?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(N(sn))},e.\u0275dir=Pt({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&R("resize",function(l){return o.onResize(l)},!1,yn)},standalone:!0});let t=e;return t})();var HH=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=600?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(N(sn))},e.\u0275dir=Pt({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&R("resize",function(l){return o.onResize(l)},!1,yn)},standalone:!0});let t=e;return t})();var nR=class{constructor(e,n){this._delegate=e,this.firebase=n,bm(e,new xi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),uw(this._delegate)))}_getService(e,n=cs){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=cs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){bm(this._delegate,e)}_addOrOverwriteComponent(e){u1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var gde={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},GH=new Ur("app-compat","Firebase",gde);function vde(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:an,setLogLevel:hw,onLog:dw,apps:null,SDK_VERSION:wo,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:d1}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(h){delete e[h]}function r(h){if(h=h||cs,!QD(e,h))throw GH.create("no-app",{appName:h});return e[h]}r.App=t;function o(h,m={}){let v=dh(h,m);if(QD(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(h=>e[h])}function l(h){let m=h.name,v=m.replace("-compat","");if(_o(h)&&h.type==="PUBLIC"){let y=(b=r())=>{if(typeof b[v]!="function")throw GH.create("invalid-app-argument",{appName:m});return b[v]()};h.serviceProps!==void 0&&vm(y,h.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,m).apply(this,h.multipleInstances?b:[])}}return h.type==="PUBLIC"?n[v]:null}function d(h,m){return m==="serverAuth"?null:m}return n}function zH(){let t=vde(nR);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:zH,extendNamespace:e,createSubscribe:aw,ErrorFactory:Ur,deepExtend:vm});function e(n){vm(t,n)}return t}var yde=zH();var qH=new ss("@firebase/app-compat"),_de="@firebase/app-compat",wde="0.2.28";function bde(t){an(_de,wde,t)}if(cU()&&self.firebase!==void 0){qH.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&qH.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var ye=yde;bde();var Ede="firebase",Cde="10.8.1";ye.registerVersion(Ede,Cde,"app-compat");function ku(){return window}var Ide=2e3;function Sde(t,e,n){return E(this,null,function*(){var i;let{BuildInfo:r}=ku();Br(e.sessionId,"AuthEvent did not contain a session ID");let o=yield Mde(e.sessionId),a={};return Wl()?a.ibi=r.packageName:bh()?a.apn=r.packageName:Nn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Pw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function Tde(t){return E(this,null,function*(){let{BuildInfo:e}=ku(),n={};Wl()?n.iosBundleId=e.packageName:bh()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),yield nA(t,n)})}function Dde(t){let{cordova:e}=ku();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,nB()?"_blank":"_system","location=yes"),n(r)})})}function Ade(t,e,n){return E(this,null,function*(){let{cordova:i}=ku(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function h(){l||(l=window.setTimeout(()=>{a(li(t,"redirect-cancelled-by-user"))},Ide))}function m(){document?.visibilityState==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),bh()&&document.addEventListener("visibilitychange",m,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function xde(t){var e,n,i,r,o,a,l,d,h,m;let v=ku();Q(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((m=(h=v?.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Mde(t){return E(this,null,function*(){let e=Pde(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function Pde(t){if(Br(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var Ode=20,iR=class extends Rm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return E(this,null,function*(){yield this.initPromise})}};function Rde(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Fde(),postBody:null,tenantId:t.tenantId,error:li(t,"no-auth-event")}}function Nde(t,e){return rR()._set(oR(t),e)}function WH(t){return E(this,null,function*(){let e=yield rR()._get(oR(t));return e&&(yield rR()._remove(oR(t))),e})}function kde(t,e){var n,i;let r=Vde(e);if(r.includes("/__/auth/callback")){let o=dC(r),a=o.firebaseError?Lde(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?li(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function Fde(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ode;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function rR(){return Mi(ds)}function oR(t){return us("authEvent",t.config.apiKey,t.name)}function Lde(t){try{return JSON.parse(t)}catch{return null}}function Vde(t){let e=dC(t),n=e.link?decodeURIComponent(e.link):void 0,i=dC(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return dC(r).link||r||i||n||t}function dC(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return uc(n.join("?"))}var jde=500,sR=class{constructor(){this._redirectPersistence=Hr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xl,this._overrideRedirectResult=Dh}_initialize(e){return E(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new iR(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return E(this,null,function*(){xde(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),gB(),yield this._originValidation(e);let a=Rde(e,i,r);yield Nde(e,a);let l=yield Sde(e,a,n),d=yield Dde(l);return Ade(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tde(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=ku(),a=setTimeout(()=>E(this,null,function*(){yield WH(e),n.onEvent(KH())}),jde),l=m=>E(this,null,function*(){clearTimeout(a);let v=yield WH(e),y=null;v&&m?.url&&(y=kde(v,m.url)),n.onEvent(y||KH())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,h=`${o.packageName.toLowerCase()}://`;ku().handleOpenURL=m=>E(this,null,function*(){if(m.toLowerCase().startsWith(h)&&l({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}})}},YH=sR;function KH(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:li("no-auth-event")}}function QH(t,e){Zt(t)._logFramework(e)}var Bde="@firebase/auth-compat",$de="0.5.3";var Hde=1e3;function ny(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function Gde(){return ny()==="http:"||ny()==="https:"}function ZH(t=Ht()){return!!((ny()==="file:"||ny()==="ionic:"||ny()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function qde(){return ym()||rw()}function zde(){return sw()&&document?.documentMode===11}function Wde(t=Ht()){return/Edge\/\d+/.test(t)}function Kde(t=Ht()){return zde()||Wde(t)}function eG(){try{let t=self.localStorage,e=Yl();if(t)return t.setItem(e,"1"),t.removeItem(e),Kde()?lc():!0}catch{return hR()&&lc()}return!1}function hR(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function aR(){return(Gde()||ow()||ZH())&&!qde()&&eG()&&!hR()}function tG(){return ZH()&&typeof document<"u"}function Yde(){return E(this,null,function*(){return tG()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},Hde);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function Qde(){return typeof window<"u"?window:null}var Mr={LOCAL:"local",NONE:"none",SESSION:"session"},ey=Q,nG="persistence";function Xde(t,e){if(ey(Object.values(Mr).includes(e),t,"invalid-persistence-type"),ym()){ey(e!==Mr.SESSION,t,"unsupported-persistence-type");return}if(rw()){ey(e===Mr.NONE,t,"unsupported-persistence-type");return}if(hR()){ey(e===Mr.NONE||e===Mr.LOCAL&&lc(),t,"unsupported-persistence-type");return}ey(e===Mr.NONE||eG(),t,"unsupported-persistence-type")}function cR(t){return E(this,null,function*(){yield t._initializationPromise;let e=iG(),n=us(nG,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function Jde(t,e){let n=iG();if(!n)return[];let i=us(nG,t,e);switch(n.getItem(i)){case Mr.NONE:return[la];case Mr.LOCAL:return[ha,Hr];case Mr.SESSION:return[Hr];default:return[]}}function iG(){var t;try{return((t=Qde())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var Zde=Q,Rs=class{constructor(){this.browserResolver=Mi(vg),this.cordovaResolver=Mi(YH),this.underlyingResolver=null,this._redirectPersistence=Hr,this._completeRedirectFn=Xl,this._overrideRedirectResult=Dh}_initialize(e){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return tG()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zde(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return E(this,null,function*(){if(this.underlyingResolver)return;let e=yield Yde();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function rG(t){return t.unwrap()}function ehe(t){return t.wrapped()}function the(t){return oG(t)}function nhe(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new uR(t,rg(t,e))}else if(i){let r=oG(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function oG(t){let{_tokenResponse:e}=t instanceof Bn?t.customData:t;if(!e)return null;if(!(t instanceof Bn)&&"temporaryProof"in e&&"phoneNumber"in e)return vc.credentialFromResult(t);let n=e.providerId;if(!n||n===mc.PASSWORD)return null;let i;switch(n){case mc.GOOGLE:i=Kl;break;case mc.FACEBOOK:i=Fm;break;case mc.GITHUB:i=Lm;break;case mc.TWITTER:i=Vm;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?Gl._create(n,l):$r._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new Hl(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof Bn?i.credentialFromError(t):i.credentialFromResult(t)}function lr(t,e){return e.catch(n=>{throw n instanceof Bn&&nhe(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:the(n),additionalUserInfo:ig(n),user:xf.getOrCreate(r)}})}function lR(t,e){return E(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>lr(t,n.confirm(i))}})}var uR=class{constructor(e,n){this.resolver=n,this.auth=ehe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return lr(rG(this.auth),this.resolver.resolveSignIn(e))}};var xf=class t{constructor(e){this._delegate=e,this.multiFactor=og(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return E(this,null,function*(){return lr(this.auth,Ih(this._delegate,e))})}linkWithPhoneNumber(e,n){return E(this,null,function*(){return lR(this.auth,ag(this._delegate,e,n))})}linkWithPopup(e){return E(this,null,function*(){return lr(this.auth,hg(this._delegate,e,Rs))})}linkWithRedirect(e){return E(this,null,function*(){return yield cR(Zt(this.auth)),mg(this._delegate,e,Rs)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return E(this,null,function*(){return lr(this.auth,Sh(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return lR(this.auth,cg(this._delegate,e,n))}reauthenticateWithPopup(e){return lr(this.auth,dg(this._delegate,e,Rs))}reauthenticateWithRedirect(e){return E(this,null,function*(){return yield cR(Zt(this.auth)),pg(this._delegate,e,Rs)})}sendEmailVerification(e){return Jm(this._delegate,e)}unlink(e){return E(this,null,function*(){return yield Um(this._delegate,e),this})}updateEmail(e){return tg(this._delegate,e)}updatePassword(e){return ng(this._delegate,e)}updatePhoneNumber(e){return lg(this._delegate,e)}updateProfile(e){return eg(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Zm(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};xf.USER_MAP=new WeakMap;var ty=Q,XH=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;ty(r,"invalid-api-key",{appName:n.name}),ty(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Rs:void 0;this._delegate=i.initialize({options:{persistence:ihe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Ow),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){Eh(this._delegate,n,i)}applyActionCode(n){return Gm(this._delegate,n)}checkActionCode(n){return Th(this._delegate,n)}confirmPasswordReset(n,i){return Hm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return E(this,null,function*(){return lr(this._delegate,zm(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Xm(this._delegate,n)}isSignInWithEmailLink(n){return Ym(this._delegate,n)}getRedirectResult(){return E(this,null,function*(){ty(aR(),this._delegate,"operation-not-supported-in-this-environment");let n=yield gg(this._delegate,Rs);return n?lr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){QH(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=JH(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=JH(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return Km(this._delegate,n,i)}sendPasswordResetEmail(n,i){return $m(this._delegate,n,i||void 0)}setPersistence(n){return E(this,null,function*(){Xde(this._delegate,n);let i;switch(n){case Mr.SESSION:i=Hr;break;case Mr.LOCAL:i=(yield Mi(ha)._isAvailable())?ha:ds;break;case Mr.NONE:i=la;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return lr(this._delegate,jm(this._delegate))}signInWithCredential(n){return lr(this._delegate,gc(this._delegate,n))}signInWithCustomToken(n){return lr(this._delegate,Bm(this._delegate,n))}signInWithEmailAndPassword(n,i){return lr(this._delegate,Wm(this._delegate,n,i))}signInWithEmailLink(n,i){return lr(this._delegate,Qm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return lR(this._delegate,sg(this._delegate,n,i))}signInWithPopup(n){return E(this,null,function*(){return ty(aR(),this._delegate,"operation-not-supported-in-this-environment"),lr(this._delegate,ug(this._delegate,n,Rs))})}signInWithRedirect(n){return E(this,null,function*(){return ty(aR(),this._delegate,"operation-not-supported-in-this-environment"),yield cR(this._delegate),fg(this._delegate,n,Rs)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return qm(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Mr,t})();function JH(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&xf.getOrCreate(a)),error:e,complete:n}}function ihe(t,e){let n=Jde(t,e);if(typeof self<"u"&&!n.includes(ha)&&n.push(ha),typeof window<"u")for(let i of[ds,Hr])n.includes(i)||n.push(i);return n.includes(la)||n.push(la),n}var iy=class{constructor(){this.providerId="phone",this._delegate=new vc(rG(ye.auth()))}static credential(e,n){return vc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};iy.PHONE_SIGN_IN_METHOD=vc.PHONE_SIGN_IN_METHOD;iy.PROVIDER_ID=vc.PROVIDER_ID;var rhe=Q,dR=class{constructor(e,n,i=ye.app()){var r;rhe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new _h(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var ohe="auth-compat";function she(t){t.INTERNAL.registerComponent(new xi(ohe,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new XH(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ua.EMAIL_SIGNIN,PASSWORD_RESET:ua.PASSWORD_RESET,RECOVER_EMAIL:ua.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ua.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ua.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ua.VERIFY_EMAIL}},EmailAuthProvider:Ch,FacebookAuthProvider:Fm,GithubAuthProvider:Lm,GoogleAuthProvider:Kl,OAuthProvider:Hl,SAMLAuthProvider:yh,PhoneAuthProvider:iy,PhoneMultiFactorGenerator:Gw,RecaptchaVerifier:dR,TwitterAuthProvider:Vm,Auth:XH,AuthCredential:Eo,Error:Bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Bde,$de)}she(ye);var aG=cz(sG());var hn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};hn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(C,T){for(var P=0;P<t.length;P++)if(t[P].className===C)return typeof T<"u"&&(t[P]=T),t[P];return!1}function r(C){var T=C.getAttribute("data-upgraded");return T===null?[""]:T.split(",")}function o(C,T){var P=r(C);return P.indexOf(T)!==-1}function a(C,T,P){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(C,{bubbles:T,cancelable:P});var k=document.createEvent("Events");return k.initEvent(C,T,P),k}function l(C,T){if(typeof C>"u"&&typeof T>"u")for(var P=0;P<t.length;P++)l(t[P].className,t[P].cssClass);else{var k=C;if(typeof T>"u"){var B=i(k);B&&(T=B.cssClass)}for(var A=document.querySelectorAll("."+T),J=0;J<A.length;J++)d(A[J],k)}}function d(C,T){if(!(typeof C=="object"&&C instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var P=a("mdl-componentupgrading",!0,!0);if(C.dispatchEvent(P),!P.defaultPrevented){var k=r(C),B=[];if(T)o(C,T)||B.push(i(T));else{var A=C.classList;t.forEach(function($e){A.contains($e.cssClass)&&B.indexOf($e)===-1&&!o(C,$e.className)&&B.push($e)})}for(var J=0,j=B.length,ie;J<j;J++){if(ie=B[J],ie){k.push(ie.className),C.setAttribute("data-upgraded",k.join(","));var be=new ie.classConstructor(C);be[n]=ie,e.push(be);for(var He=0,Xe=ie.callbacks.length;He<Xe;He++)ie.callbacks[He](C);ie.widget&&(C[ie.className]=be)}else throw new Error("Unable to find a registered component for the given class.");var Ce=a("mdl-componentupgraded",!0,!1);C.dispatchEvent(Ce)}}}function h(C){Array.isArray(C)||(C instanceof Element?C=[C]:C=Array.prototype.slice.call(C));for(var T=0,P=C.length,k;T<P;T++)k=C[T],k instanceof HTMLElement&&(d(k),k.children.length>0&&h(k.children))}function m(C){var T=typeof C.widget>"u"&&typeof C.widget>"u",P=!0;T||(P=C.widget||C.widget);var k={classConstructor:C.constructor||C.constructor,className:C.classAsString||C.classAsString,cssClass:C.cssClass||C.cssClass,widget:P,callbacks:[]};if(t.forEach(function(A){if(A.cssClass===k.cssClass)throw new Error("The provided cssClass has already been registered: "+A.cssClass);if(A.className===k.className)throw new Error("The provided className has already been registered")}),C.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var B=i(C.classAsString,k);B||t.push(k)}function v(C,T){var P=i(C);P&&P.callbacks.push(T)}function y(){for(var C=0;C<t.length;C++)l(t[C].className)}function b(C){if(C){var T=e.indexOf(C);e.splice(T,1);var P=C.element_.getAttribute("data-upgraded").split(","),k=P.indexOf(C[n].classAsString);P.splice(k,1),C.element_.setAttribute("data-upgraded",P.join(","));var B=a("mdl-componentdowngraded",!0,!1);C.element_.dispatchEvent(B)}}function w(C){var T=function(k){e.filter(function(B){return B.element_===k}).forEach(b)};if(C instanceof Array||C instanceof NodeList)for(var P=0;P<C.length;P++)T(C[P]);else if(C instanceof Node)T(C);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:h,upgradeAllRegistered:y,registerUpgradedCallback:v,register:m,downgradeElements:w}}();hn.ComponentConfigPublic;hn.ComponentConfig;hn.Component;hn.upgradeDom=hn.upgradeDom;hn.upgradeElement=hn.upgradeElement;hn.upgradeElements=hn.upgradeElements;hn.upgradeAllRegistered=hn.upgradeAllRegistered;hn.registerUpgradedCallback=hn.registerUpgradedCallback;hn.register=hn.register;hn.downgradeElements=hn.downgradeElements;window.componentHandler=hn;window.componentHandler=hn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),hn.upgradeAllRegistered()):(hn.upgradeElement=function(){},hn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,u);f&&Object.defineProperty(s,u,f)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},h=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(s,c){if(c){var u=h;s=s.split(".");for(var f=0;f<s.length-1;f++){var p=s[f];p in u||(u[p]={}),u=u[p]}s=s[s.length-1],f=u[s],c=c(f),c!=f&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}m("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),m("Array.prototype.includes",function(s){return s||function(c,u){var f=this;f instanceof String&&(f=String(f));var p=f.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=f[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function b(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,C=null;function T(){}function P(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function k(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function B(s){return k(s)=="array"}function A(s){var c=k(s);return c=="array"||c=="object"&&typeof s.length=="number"}function J(s){return k(s)=="function"}function j(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var ie="closure_uid_"+(1e9*Math.random()>>>0),be=0;function He(s,c,u){return s.call.apply(s.bind,arguments)}function Xe(s,c,u){if(!s)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,f),s.apply(c,p)}}return function(){return s.apply(c,arguments)}}function Ce(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ce=He:Ce=Xe,Ce.apply(null,arguments)}function $e(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var f=u.slice();return f.push.apply(f,arguments),s.apply(this,f)}}function Se(s,c){for(var u in c)s[u]=c[u]}var nn=Date.now||function(){return+new Date};function We(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var f;s.length&&(f=s.shift());)!s.length&&y(c)?u[f]=c:u[f]&&u[f]!==Object.prototype[f]?u=u[f]:u=u[f]={}}function H(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(f,p,g){for(var _=Array(arguments.length-2),x=2;x<arguments.length;x++)_[x-2]=arguments[x];return c.prototype[p].apply(f,_)}}function ne(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ne);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}H(ne,Error),ne.prototype.name="CustomError";var ue;function Pe(s,c){s=s.split("%s");for(var u="",f=s.length-1,p=0;p<f;p++)u+=s[p]+(p<c.length?c[p]:"%s");ne.call(this,u+s[f])}H(Pe,ne),Pe.prototype.name="AssertionError";function et(s,c){throw new Pe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var Dn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(b(s))return b(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Rt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var f=s.length,p=b(s)?s.split(""):s,g=0;g<f;g++)g in p&&c.call(u,p[g],g,s)};function Zn(s,c){for(var u=b(s)?s.split(""):s,f=s.length-1;0<=f;--f)f in u&&c.call(void 0,u[f],f,s)}var ft=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=[],p=0,g=b(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var x=g[_];c.call(void 0,x,_,s)&&(f[p++]=x)}return f},Si=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=Array(u),p=b(s)?s.split(""):s,g=0;g<u;g++)g in p&&(f[g]=c.call(void 0,p[g],g,s));return f},dr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s))return!0;return!1};function ct(s,c){return 0<=Dn(s,c)}function Fn(s,c){c=Dn(s,c);var u;return(u=0<=c)&&rn(s,c),u}function rn(s,c){return Array.prototype.splice.call(s,c,1).length==1}function Fi(s,c){e:{for(var u=s.length,f=b(s)?s.split(""):s,p=0;p<u;p++)if(p in f&&c.call(void 0,f[p],p,s)){c=p;break e}c=-1}0<=c&&rn(s,c)}function Pr(s,c){var u=0;Zn(s,function(f,p){c.call(void 0,f,p,s)&&rn(s,p)&&u++})}function $c(s){return Array.prototype.concat.apply([],arguments)}function ba(s){var c=s.length;if(0<c){for(var u=Array(c),f=0;f<c;f++)u[f]=s[f];return u}return[]}function Vu(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var ei=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Hc=/&/g,Gc=/</g,ju=/>/g,Uu=/"/g,no=/'/g,Fo=/\x00/g,qc=/[\x00&<>"']/;function io(s,c){return s<c?-1:s>c?1:0}function Or(s){return qc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Hc,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Gc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(ju,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(Uu,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(no,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Fo,"&#0;"))),s}function zc(s,c,u){for(var f in s)c.call(u,s[f],f,s)}function Ea(s){var c={},u;for(u in s)c[u]=s[u];return c}var Wc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ks(s,c){for(var u,f,p=1;p<arguments.length;p++){f=arguments[p];for(u in f)s[u]=f[u];for(var g=0;g<Wc.length;g++)u=Wc[g],Object.prototype.hasOwnProperty.call(f,u)&&(s[u]=f[u])}}var Ca="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Fs(){}Fs.prototype.next=function(){throw Ca},Fs.prototype.ha=function(){return this};function ry(s){if(s instanceof Fs)return s;if(typeof s.ha=="function")return s.ha(!1);if(A(s)){var c=0,u=new Fs;return u.next=function(){for(;;){if(c>=s.length)throw Ca;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function wC(s,c){if(A(s))try{Rt(s,c,void 0)}catch(u){if(u!==Ca)throw u}else{s=ry(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Ca)throw u}}}function bC(s){if(A(s))return ba(s);s=ry(s);var c=[];return wC(s,function(u){c.push(u)}),c}function U(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var f=0;f<u;f+=2)this.set(arguments[f],arguments[f+1])}else if(s)if(s instanceof U)for(u=s.ja(),f=0;f<u.length;f++)this.set(u[f],s.get(u[f]));else for(f in s)this.set(f,s[f])}t=U.prototype,t.la=function(){he(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return he(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function he(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var f=s.a[c];Ie(s.g,f)&&(s.a[u++]=f),c++}s.a.length=u}if(s.h!=s.a.length){var p={};for(u=c=0;c<s.a.length;)f=s.a[c],Ie(p,f)||(s.a[u++]=f,p[f]=1),c++;s.a.length=u}}t.get=function(s,c){return Ie(this.g,s)?this.g[s]:c},t.set=function(s,c){Ie(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),f=0;f<u.length;f++){var p=u[f],g=this.get(p);s.call(c,g,p,this)}},t.ha=function(s){he(this);var c=0,u=this.j,f=this,p=new Fs;return p.next=function(){if(u!=f.j)throw Error("The map has changed since the iterator was created");if(c>=f.a.length)throw Ca;var g=f.a[c++];return s?g:f.g[g]},p};function Ie(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pt(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var f=s[u].indexOf("="),p=null;if(0<=f){var g=s[u].substring(0,f);p=s[u].substring(f+1)}else g=s[u];c(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ti(s,c,u,f){for(var p=u.length;0<=(c=s.indexOf(u,c))&&c<f;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+p),!g||g==61||g==38||g==35))return c;c+=p+1}return-1}var Li=/#|$/;function ro(s,c){var u=s.search(Li),f=ti(s,0,c,u);if(0>f)return null;var p=s.indexOf("&",f);return(0>p||p>u)&&(p=u),f+=c.length+1,decodeURIComponent(s.substr(f,p-f).replace(/\+/g," "))}var oy=/[?&]($|#)/;function Ti(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Ti?(this.i=y(c)?c:s.i,Kc(this,s.j),this.A=s.A,this.h=s.h,Ia(this,s.C),this.g=s.g,Lo(this,yR(s.a)),this.s=s.s):s&&(u=String(s).match(At))?(this.i=!!c,Kc(this,u[1]||"",!0),this.A=Ls(u[2]||""),this.h=Ls(u[3]||"",!0),Ia(this,u[4]),this.g=Ls(u[5]||"",!0),Lo(this,u[6]||"",!0),this.s=Ls(u[7]||"")):(this.i=!!c,this.a=new Nf(null,this.i))}Ti.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Vo(c,gR,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(Vo(c,gR,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Vo(u,u.charAt(0)=="/"?RG:OG,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Vo(u,kG)),s.join("")};function Kc(s,c,u){s.j=u?Ls(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Ia(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Lo(s,c,u){c instanceof Nf?(s.a=c,FG(s.a,s.i)):(u||(c=Vo(c,NG)),s.a=new Nf(c,s.i))}function Rf(s){return s instanceof Ti?new Ti(s):new Ti(s,void 0)}function Ls(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Vo(s,c,u){return b(s)?(s=encodeURI(s).replace(c,PG),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function PG(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var gR=/[#\/\?@]/g,OG=/[#\?:]/g,RG=/[#\?]/g,NG=/[#\?@]/g,kG=/#/g;function Nf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function Sa(s){s.a||(s.a=new U,s.g=0,s.h&&pt(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Nf.prototype,t.add=function(s,c){Sa(this),this.h=null,s=Bu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Yc(s,c){Sa(s),c=Bu(s,c),Ie(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Ie(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&he(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function vR(s,c){return Sa(s),c=Bu(s,c),Ie(s.a.g,c)}t.forEach=function(s,c){Sa(this),this.a.forEach(function(u,f){Rt(u,function(p){s.call(c,p,f,this)},this)},this)},t.ja=function(){Sa(this);for(var s=this.a.la(),c=this.a.ja(),u=[],f=0;f<c.length;f++)for(var p=s[f],g=0;g<p.length;g++)u.push(c[f]);return u},t.la=function(s){Sa(this);var c=[];if(b(s))vR(this,s)&&(c=$c(c,this.a.get(Bu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=$c(c,s[u])}return c},t.set=function(s,c){return Sa(this),this.h=null,s=Bu(this,s),vR(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var f=c[u],p=encodeURIComponent(String(f));f=this.la(f);for(var g=0;g<f.length;g++){var _=p;f[g]!==""&&(_+="="+encodeURIComponent(String(f[g]))),s.push(_)}}return this.h=s.join("&")};function yR(s){var c=new Nf;return c.h=s.h,s.a&&(c.a=new U(s.a),c.g=s.g),c}function Bu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function FG(s,c){c&&!s.j&&(Sa(s),s.h=null,s.a.forEach(function(u,f){var p=f.toLowerCase();f!=p&&(Yc(this,f),Yc(this,p),0<u.length&&(this.h=null,this.a.set(Bu(this,p),ba(u)),this.g+=u.length))},s)),s.j=c}function Qc(s){this.a=Rf(s)}function LG(s,c){c?s.a.a.set(Ln.Sa,c):Yc(s.a.a,Ln.Sa)}function VG(s,c){c!==null?s.a.a.set(Ln.Qa,c?"1":"0"):Yc(s.a.a,Ln.Qa)}function _R(s){return s.a.a.get(Ln.Pa)||null}function wR(s,c){c?s.a.a.set(Ln.PROVIDER_ID,c):Yc(s.a.a,Ln.PROVIDER_ID)}Qc.prototype.toString=function(){return this.a.toString()};var Ln={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},$u;e:{var bR=v.navigator;if(bR){var ER=bR.userAgent;if(ER){$u=ER;break e}}$u=""}function ot(s){return $u.indexOf(s)!=-1}function CR(){return(ot("Chrome")||ot("CriOS"))&&!ot("Edge")}function EC(s){return EC[" "](s),s}EC[" "]=T;function jG(s,c){var u=$G;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var IR=ot("Opera"),fn=ot("Trident")||ot("MSIE"),Ta=ot("Edge"),UG=Ta||fn,oo=ot("Gecko")&&!($u.toLowerCase().indexOf("webkit")!=-1&&!ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),Vi=$u.toLowerCase().indexOf("webkit")!=-1&&!ot("Edge"),BG=Vi&&ot("Mobile"),Da=ot("Macintosh");function SR(){var s=v.document;return s?s.documentMode:void 0}var sy;e:{var CC="",IC=function(){var s=$u;if(oo)return/rv:([^\);]+)(\)|;)/.exec(s);if(Ta)return/Edge\/([\d\.]+)/.exec(s);if(fn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Vi)return/WebKit\/(\S+)/.exec(s);if(IR)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(IC&&(CC=IC?IC[1]:""),fn){var SC=SR();if(SC!=null&&SC>parseFloat(CC)){sy=String(SC);break e}}sy=CC}var $G={};function Xc(s){return jG(s,function(){for(var c=0,u=ei(String(sy)).split("."),f=ei(String(s)).split("."),p=Math.max(u.length,f.length),g=0;c==0&&g<p;g++){var _=u[g]||"",x=f[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],_[0].length==0&&x[0].length==0)break;c=io(_[1].length==0?0:parseInt(_[1],10),x[1].length==0?0:parseInt(x[1],10))||io(_[2].length==0,x[2].length==0)||io(_[2],x[2]),_=_[3],x=x[3]}while(c==0)}return 0<=c})}var kf,TR=v.document;kf=TR&&fn?SR()||(TR.compatMode=="CSS1Compat"?parseInt(sy,10):5):void 0;function Hu(s,c){this.a=s===AR&&c||"",this.g=DR}Hu.prototype.ma=!0,Hu.prototype.ka=function(){return this.a},Hu.prototype.toString=function(){return"Const{"+this.a+"}"};var DR={},AR={};function Jc(){this.a="",this.h=MR}Jc.prototype.ma=!0,Jc.prototype.ka=function(){return this.a.toString()},Jc.prototype.g=function(){return 1},Jc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function xR(s){return s instanceof Jc&&s.constructor===Jc&&s.h===MR?s.a:(et("expected object of type TrustedResourceUrl, got '"+s+"' of type "+k(s)),"type_error:TrustedResourceUrl")}function HG(){var s=R8;s instanceof Hu&&s.constructor===Hu&&s.g===DR?s=s.a:(et("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Jc;return c.a=s,c}var MR={};function hr(){this.a="",this.h=RR}hr.prototype.ma=!0,hr.prototype.ka=function(){return this.a.toString()},hr.prototype.g=function(){return 1},hr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Aa(s){return s instanceof hr&&s.constructor===hr&&s.h===RR?s.a:(et("expected object of type SafeUrl, got '"+s+"' of type "+k(s)),"type_error:SafeUrl")}var PR=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ay(s){return s instanceof hr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),PR.test(s)||(s="about:invalid#zClosurez"),TC(s))}function OR(s){return s instanceof hr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),PR.test(s)||(s="about:invalid#zClosurez"),TC(s))}var RR={};function TC(s){var c=new hr;return c.a=s,c}TC("about:blank");function Gu(){this.a="",this.g=NR}Gu.prototype.ma=!0;var NR={};Gu.prototype.ka=function(){return this.a},Gu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function xa(){this.a="",this.j=kR,this.h=null}xa.prototype.g=function(){return this.h},xa.prototype.ma=!0,xa.prototype.ka=function(){return this.a.toString()},xa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function cy(s){return s instanceof xa&&s.constructor===xa&&s.j===kR?s.a:(et("expected object of type SafeHtml, got '"+s+"' of type "+k(s)),"type_error:SafeHtml")}var kR={};function Ff(s,c){var u=new xa;return u.a=s,u.h=c,u}Ff("<!DOCTYPE html>",0);var GG=Ff("",0);Ff("<br>",0);var qG=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=cy(GG),!c.parentElement):!1});function zG(s,c){if(s.src=xR(c),C===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){C=c;break e}C=""}c=C,c&&s.setAttribute("nonce",c)}function qu(s,c){c=c instanceof hr?c:OR(c),s.assign(Aa(c))}function Ma(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Ma.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Ma.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Ma.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Ma.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function DC(s,c){this.width=s,this.height=c}t=DC.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function ly(s){return s?new PC(Lf(s)):ue||(ue=new PC)}function AC(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):FR(document,s,c)}function xC(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var f=c||u;s=f.querySelectorAll&&f.querySelector&&s?f.querySelector(s?"."+s:""):FR(u,s,c)[0]||null}return s||null}function FR(s,c,u){var f;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var p=s.getElementsByClassName(c);return p}if(p=s.getElementsByTagName("*"),c){var g={};for(u=f=0;s=p[u];u++){var _=s.className;typeof _.split=="function"&&ct(_.split(/\s+/),c)&&(g[f++]=s)}return g.length=f,g}return p}function WG(s,c){zc(c,function(u,f){u&&typeof u=="object"&&u.ma&&(u=u.ka()),f=="style"?s.style.cssText=u:f=="class"?s.className=u:f=="for"?s.htmlFor=u:LR.hasOwnProperty(f)?s.setAttribute(LR[f],u):f.lastIndexOf("aria-",0)==0||f.lastIndexOf("data-",0)==0?s.setAttribute(f,u):s[f]=u})}var LR={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function uy(s){return s.scrollingElement?s.scrollingElement:(Vi||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function Zc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Lf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function MC(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(Lf(s).createTextNode(String(c)))}}function VR(s,c){return c?KG(s,function(u){return!c||b(u.className)&&ct(u.className.split(/\s+/),c)}):null}function KG(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function PC(s){this.a=s||v.document||document}PC.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var dy={Fc:!0},jR={Hc:!0},YG={Ec:!0},UR={Gc:!0};function Pa(){throw Error("Do not instantiate directly")}Pa.prototype.va=null,Pa.prototype.toString=function(){return this.content};function Vf(s,c,u,f){if(s=s(c||JG,void 0,u),f=(f||ly()).a.createElement("DIV"),s=QG(s),s.match(XG),s=Ff(s,null),qG())for(;f.lastChild;)f.removeChild(f.lastChild);return f.innerHTML=cy(s),f.childNodes.length==1&&(s=f.firstChild,s.nodeType==1&&(f=s)),f}function QG(s){if(!j(s))return Or(String(s));if(s instanceof Pa){if(s.fa===dy)return s.content;if(s.fa===UR)return Or(s.content)}return et("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var XG=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,JG={};function ZG(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function hy(){Pa.call(this)}H(hy,Pa),hy.prototype.fa=dy;function Oe(s){return s!=null&&s.fa===dy?s:s instanceof xa?de(cy(s).toString(),s.g()):de(Or(String(String(s))),ZG(s))}function fy(){Pa.call(this)}H(fy,Pa),fy.prototype.fa=jR,fy.prototype.va=1;function py(s,c){this.content=String(s),this.va=c??null}H(py,Pa),py.prototype.fa=UR;function bt(s){return new py(s,void 0)}var de=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=new c(String(u)),f!==void 0&&(u.va=f),u}}(hy),e8=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(fy);function t8(s){function c(){}var u={label:pn("New password")};c.prototype=s,s=new c;for(var f in u)s[f]=u[f];return s}function pn(s){return(s=String(s))?new py(s,void 0):""}var BR=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,f){return u=String(u),u?(u=new c(u),f!==void 0&&(u.va=f),u):""}}(hy);function ji(s){return s!=null&&s.fa===dy?String(String(s.content).replace(c8,"").replace(l8,"&lt;")).replace(o8,i8):Or(String(s))}function el(s){return s!=null&&s.fa===jR?s=String(s).replace(RC,OC):s instanceof hr?s=String(Aa(s).toString()).replace(RC,OC):(s=String(s),a8.test(s)?s=s.replace(RC,OC):(et("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function $R(s){return s!=null&&s.fa===YG?s=s.content:s==null?s="":s instanceof Gu?s instanceof Gu&&s.constructor===Gu&&s.g===NR?s=s.a:(et("expected object of type SafeStyle, got '"+s+"' of type "+k(s)),s="type_error:SafeStyle"):(s=String(s),s8.test(s)||(et("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var n8={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function i8(s){return n8[s]}var r8={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function OC(s){return r8[s]}var o8=/[\x00\x22\x27\x3c\x3e]/g,RC=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,s8=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,a8=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,c8=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,l8=/</g;function NC(){return bt("Enter a valid phone number")}function HR(){return bt("Unable to send password reset code to specified email")}function GR(){return bt("Something went wrong. Please try again.")}function qR(){return bt("This email already exists without any means of sign-in. Please reset the password to recover.")}function zR(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return bt(c)}function WR(){return bt("Please login again to perform this operation")}function jf(s,c,u){var f=Error.call(this);if(this.message=f.message,"stack"in f&&(this.stack=f.stack),this.code=u8+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=GR()}s=bt(s).toString()}this.message=s||"",this.credential=u||null}l(jf,Error),jf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var u8="firebaseui/";function tl(){kC!=0&&(KR[this[ie]||(this[ie]=++be)]=this),this.T=this.T,this.C=this.C}var kC=0,KR={};tl.prototype.T=!1,tl.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),kC!=0)){var s=this[ie]||(this[ie]=++be);if(kC!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete KR[s]}};function Uf(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ce(c,void 0):c))}tl.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Bf(s){s&&typeof s.m=="function"&&s.m()}var d8=Object.freeze||function(s){return s},YR=!fn||9<=Number(kf),h8=fn&&!Xc("9"),f8=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",T,c),v.removeEventListener("test",T,c)}catch{}return s}();function Vs(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}Vs.prototype.stopPropagation=function(){this.h=!0},Vs.prototype.preventDefault=function(){this.qb=!1};function Ui(s,c){if(Vs.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,f=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(oo){e:{try{EC(c.nodeName);var p=!0;break e}catch{}p=!1}p||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=b(s.pointerType)?s.pointerType:p8[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}H(Ui,Vs);var p8=d8({2:"touch",3:"pen",4:"mouse"});Ui.prototype.stopPropagation=function(){Ui.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Ui.prototype.preventDefault=function(){Ui.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,h8)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var $f="closure_listenable_"+(1e6*Math.random()|0),m8=0;function g8(s,c,u,f,p){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!f,this.La=p,this.key=++m8,this.sa=this.Ia=!1}function my(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function gy(s){this.src=s,this.a={},this.g=0}gy.prototype.add=function(s,c,u,f,p){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=LC(s,c,f,p);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new g8(c,this.src,g,!!f,p),c.Ia=u,s.push(c)),c};function FC(s,c){var u=c.type;u in s.a&&Fn(s.a[u],c)&&(my(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function LC(s,c,u,f){for(var p=0;p<s.length;++p){var g=s[p];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==f)return p}return-1}var VC="closure_lm_"+(1e6*Math.random()|0),jC={},QR=0;function so(s,c,u,f,p){if(f&&f.once)return Hf(s,c,u,f,p);if(B(c)){for(var g=0;g<c.length;g++)so(s,c[g],u,f,p);return null}return u=BC(u),s&&s[$f]?s.J.add(String(c),u,!1,j(f)?!!f.capture:!!f,p):XR(s,c,u,!1,f,p)}function XR(s,c,u,f,p,g){if(!c)throw Error("Invalid event type");var _=j(p)?!!p.capture:!!p,x=vy(s);if(x||(s[VC]=x=new gy(s)),u=x.add(c,u,f,_,g),u.proxy)return u;if(f=v8(),u.proxy=f,f.src=s,f.listener=u,s.addEventListener)f8||(p=_),p===void 0&&(p=!1),s.addEventListener(c.toString(),f,p);else if(s.attachEvent)s.attachEvent(JR(c.toString()),f);else if(s.addListener&&s.removeListener)s.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return QR++,u}function v8(){var s=y8,c=YR?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function Hf(s,c,u,f,p){if(B(c)){for(var g=0;g<c.length;g++)Hf(s,c[g],u,f,p);return null}return u=BC(u),s&&s[$f]?s.J.add(String(c),u,!0,j(f)?!!f.capture:!!f,p):XR(s,c,u,!0,f,p)}function nl(s,c,u,f,p){if(B(c))for(var g=0;g<c.length;g++)nl(s,c[g],u,f,p);else f=j(f)?!!f.capture:!!f,u=BC(u),s&&s[$f]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=LC(g,u,f,p),-1<u&&(my(g[u]),rn(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=vy(s))&&(c=s.a[c.toString()],s=-1,c&&(s=LC(c,u,f,p)),(u=-1<s?c[s]:null)&&Oa(u))}function Oa(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[$f])FC(c.J,s);else{var u=s.type,f=s.proxy;c.removeEventListener?c.removeEventListener(u,f,s.capture):c.detachEvent?c.detachEvent(JR(u),f):c.addListener&&c.removeListener&&c.removeListener(f),QR--,(u=vy(c))?(FC(u,s),u.g==0&&(u.src=null,c[VC]=null)):my(s)}}}function JR(s){return s in jC?jC[s]:jC[s]="on"+s}function ZR(s,c,u,f){var p=!0;if((s=vy(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=eN(g,f),p=p&&g!==!1)}return p}function eN(s,c){var u=s.listener,f=s.La||s.src;return s.Ia&&Oa(s),u.call(f,c)}function y8(s,c){if(s.sa)return!0;if(!YR){if(!c)e:{c=["window","event"];for(var u=v,f=0;f<c.length;f++)if(u=u[c[f]],u==null){c=null;break e}c=u}if(f=c,c=new Ui(f,this),u=!0,!(0>f.keyCode||f.returnValue!=null)){e:{var p=!1;if(f.keyCode==0)try{f.keyCode=-1;break e}catch{p=!0}(p||f.returnValue==null)&&(f.returnValue=!0)}for(f=[],p=c.g;p;p=p.parentNode)f.push(p);for(s=s.type,p=f.length-1;!c.h&&0<=p;p--){c.g=f[p];var g=ZR(f[p],s,!0,c);u=u&&g}for(p=0;!c.h&&p<f.length;p++)c.g=f[p],g=ZR(f[p],s,!1,c),u=u&&g}return u}return eN(s,new Ui(c,this))}function vy(s){return s=s[VC],s instanceof gy?s:null}var UC="__closure_events_fn_"+(1e9*Math.random()>>>0);function BC(s){return J(s)?s:(s[UC]||(s[UC]=function(c){return s.handleEvent(c)}),s[UC])}function Vn(){tl.call(this),this.J=new gy(this),this.wb=this,this.Ha=null}H(Vn,tl),Vn.prototype[$f]=!0,Vn.prototype.Za=function(s){this.Ha=s},Vn.prototype.removeEventListener=function(s,c,u,f){nl(this,s,c,u,f)};function Ra(s,c){var u,f=s.Ha;if(f)for(u=[];f;f=f.Ha)u.push(f);if(s=s.wb,f=c.type||c,b(c))c=new Vs(c,s);else if(c instanceof Vs)c.target=c.target||s;else{var p=c;c=new Vs(f,s),ks(c,p)}if(p=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];p=yy(_,f,!0,c)&&p}if(c.h||(_=c.g=s,p=yy(_,f,!0,c)&&p,c.h||(p=yy(_,f,!1,c)&&p)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],p=yy(_,f,!1,c)&&p;return p}Vn.prototype.o=function(){if(Vn.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var f=s.a[u],p=0;p<f.length;p++)++c,my(f[p]);delete s.a[u],s.g--}}this.Ha=null};function yy(s,c,u,f){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var p=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var x=_.listener,V=_.La||_.src;_.Ia&&FC(s.J,_),p=x.call(V,f)!==!1&&p}}return p&&f.qb!=0}var fr={},tN=0;function nN(s,c){if(!s)throw Error("Event target element must be provided!");if(s=$C(s),fr[s]&&fr[s].length)for(var u=0;u<fr[s].length;u++)Ra(fr[s][u],c)}function _8(s){var c=$C(s.N());fr[c]&&fr[c].length&&(Fi(fr[c],function(u){return u==s}),fr[c].length||delete fr[c])}function $C(s){return typeof s.a>"u"&&(s.a=tN,tN++),s.a}function _y(s){if(!s)throw Error("Event target element must be provided!");Vn.call(this),this.a=s}l(_y,Vn),_y.prototype.N=function(){return this.a},_y.prototype.register=function(){var s=$C(this.N());fr[s]?ct(fr[s],this)||fr[s].push(this):fr[s]=[this]};function iN(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function HC(s,c){this.h=s,this.j=c,this.g=0,this.a=null}HC.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function rN(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function oN(){this.g=this.a=null}var sN=new HC(function(){return new GC},function(s){s.reset()});oN.prototype.add=function(s,c){var u=sN.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function w8(){var s=cN,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function GC(){this.next=this.g=this.a=null}GC.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},GC.prototype.reset=function(){this.next=this.g=this.a=null};function aN(s){v.setTimeout(function(){throw s},0)}var qC;function b8(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(s=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var _="callImmediate"+Math.random(),x=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=Ce(function(V){(x=="*"||V.origin==x)&&V.data==_&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,x)}}}),typeof s<"u"&&!ot("Trident")&&!ot("MSIE")){var c=new s,u={},f=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){f.next={gb:p},f=f.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function zC(s,c){wy||E8(),WC||(wy(),WC=!0),cN.add(s,c)}var wy;function E8(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);wy=function(){s.then(lN)}}else wy=function(){var c=lN;!J(v.setImmediate)||v.Window&&v.Window.prototype&&!ot("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(qC||(qC=b8()),qC(c)):v.setImmediate(c)}}var WC=!1,cN=new oN;function lN(){for(var s;s=w8();){try{s.a.call(s.g)}catch(c){aN(c)}rN(sN,s)}WC=!1}function jn(s){if(this.a=il,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=T)try{var c=this;s.call(void 0,function(u){rl(c,Gf,u)},function(u){if(!(u instanceof Wu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}rl(c,js,u)})}catch(u){rl(this,js,u)}}var il=0,Gf=2,js=3;function uN(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}uN.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var dN=new HC(function(){return new uN},function(s){s.reset()});function KC(s,c,u){var f=dN.get();return f.s=s,f.g=c,f.j=u,f}function mn(s){if(s instanceof jn)return s;var c=new jn(T);return rl(c,Gf,s),c}function zu(s){return new jn(function(c,u){u(s)})}jn.prototype.then=function(s,c,u){return fN(this,J(s)?s:null,J(c)?c:null,u)},jn.prototype.$goog_Thenable=!0,t=jn.prototype,t.fc=function(s,c){return s=KC(s,s,c),s.h=!0,YC(this,s),this},t.Ca=function(s,c){return fN(this,null,s,c)},t.cancel=function(s){this.a==il&&zC(function(){var c=new Wu(s);hN(this,c)},this)};function hN(s,c){if(s.a==il)if(s.h){var u=s.h;if(u.g){for(var f=0,p=null,g=null,_=u.g;_&&(_.h||(f++,_.a==s&&(p=_),!(p&&1<f)));_=_.next)p||(g=_);p&&(u.a==il&&f==1?hN(u,c):(g?(f=g,f.next==u.j&&(u.j=f),f.next=f.next.next):mN(u),gN(u,p,js,c)))}s.h=null}else rl(s,js,c)}function YC(s,c){s.g||s.a!=Gf&&s.a!=js||pN(s),s.j?s.j.next=c:s.g=c,s.j=c}function fN(s,c,u,f){var p=KC(null,null,null);return p.a=new jn(function(g,_){p.s=c?function(x){try{var V=c.call(f,x);g(V)}catch(Y){_(Y)}}:g,p.g=u?function(x){try{var V=u.call(f,x);!y(V)&&x instanceof Wu?_(x):g(V)}catch(Y){_(Y)}}:_}),p.a.h=s,YC(s,p),p.a}t.hc=function(s){this.a=il,rl(this,Gf,s)},t.ic=function(s){this.a=il,rl(this,js,s)};function rl(s,c,u){if(s.a==il){s===u&&(c=js,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var f=u,p=s.hc,g=s.ic;if(f instanceof jn){YC(f,KC(p||T,g||null,s));var _=!0}else if(iN(f))f.then(p,g,s),_=!0;else{if(j(f))try{var x=f.then;if(J(x)){C8(f,x,p,g,s),_=!0;break e}}catch(V){g.call(s,V),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,pN(s),c!=js||u instanceof Wu||I8(s,u))}}function C8(s,c,u,f,p){function g(V){x||(x=!0,f.call(p,V))}function _(V){x||(x=!0,u.call(p,V))}var x=!1;try{c.call(s,_,g)}catch(V){g(V)}}function pN(s){s.i||(s.i=!0,zC(s.Hb,s))}function mN(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=mN(this);)gN(this,s,this.a,this.A);this.i=!1};function gN(s,c,u,f){if(u==js&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,vN(c,u,f);else try{c.h?c.s.call(c.j):vN(c,u,f)}catch(p){yN.call(null,p)}rN(dN,c)}function vN(s,c,u){c==Gf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function I8(s,c){s.s=!0,zC(function(){s.s&&yN.call(null,c)})}var yN=aN;function Wu(s){ne.call(this,s)}H(Wu,ne),Wu.prototype.name="cancel";function _N(s,c,u){c||(c={}),u=u||window;var f=s instanceof hr?s:ay(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var p=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(c[g]?1:0))}var g=p.join(",");return(ot("iPhone")&&!ot("iPod")&&!ot("iPad")||ot("iPad")||ot("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),f=f instanceof hr?f:OR(f),g.href=Aa(f),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=Aa(f).toString(),u&&(UG&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Ff('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Or(c)+'">',null),u.document.write(cy(c)),u.document.close())):(u=u.open(Aa(f).toString(),s,g))&&c.noopener&&(u.opener=null),u}function wN(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Ku(s){_N(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function by(s,c){if(s=j(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function Us(){return window.location.href}function S8(){var s=null;return new jn(function(c){v.document.readyState=="complete"?c():(s=function(){c()},Hf(window,"load",s))}).Ca(function(c){throw nl(window,"load",s),c})}function T8(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function D8(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(f){return c.includes(f)}).reduce(function(f,p){return f[p]=s[p],f},u)}function Na(s){var c=M8;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Na.prototype.cancel=function(s){if(this.a)this.h instanceof Na&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new zf(this),Ey(this),qf(this,!1,s))}},Na.prototype.L=function(s,c){this.A=!1,qf(this,s,c)};function qf(s,c,u){s.a=!0,s.h=u,s.j=!c,CN(s)}function Ey(s){if(s.a){if(!s.J)throw new Cy(s);s.J=!1}}Na.prototype.callback=function(s){Ey(this),qf(this,!0,s)};function bN(s,c,u){s.s.push([c,u,void 0]),s.a&&CN(s)}Na.prototype.then=function(s,c,u){var f,p,g=new jn(function(_,x){f=_,p=x});return bN(this,f,function(_){_ instanceof zf?g.cancel():p(_)}),g.then(s,c,u)},Na.prototype.$goog_Thenable=!0;function EN(s){return dr(s.s,function(c){return J(c[1])})}function CN(s){if(s.i&&s.a&&EN(s)){var c=s.i,u=Iy[c];u&&(v.clearTimeout(u.a),delete Iy[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var f=u=!1;s.s.length&&!s.A;){var p=s.s.shift(),g=p[0],_=p[1];if(p=p[2],g=s.j?_:g)try{var x=g.call(p||s.O,c);y(x)&&(s.j=s.j&&(x==c||x instanceof Error),s.h=c=x),(iN(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(f=!0,s.A=!0)}catch(V){c=V,s.j=!0,EN(s)||(u=!0)}}s.h=c,f&&(x=Ce(s.L,s,!0),f=Ce(s.L,s,!1),c instanceof Na?(bN(c,x,f),c.l=!0):c.then(x,f)),u&&(c=new IN(c),Iy[c.a]=c,s.i=c.a)}function Cy(){ne.call(this)}H(Cy,ne),Cy.prototype.message="Deferred has already fired",Cy.prototype.name="AlreadyCalledError";function zf(){ne.call(this)}H(zf,ne),zf.prototype.message="Deferred was canceled",zf.prototype.name="CanceledError";function IN(s){this.a=v.setTimeout(Ce(this.h,this),0),this.g=s}IN.prototype.h=function(){throw delete Iy[this.a],this.g};var Iy={};function A8(s){var c={},u=c.document||document,f=xR(s).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},_=new Na(g),x=null,V=c.timeout!=null?c.timeout:5e3;return 0<V&&(x=window.setTimeout(function(){Sy(p,!0);var Y=new QC(O8,"Timeout reached for loading script "+f);Ey(_),qf(_,!1,Y)},V),g.sb=x),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Sy(p,c.xc||!1,x),_.callback(null))},p.onerror=function(){Sy(p,!0,x);var Y=new QC(P8,"Error while loading script "+f);Ey(_),qf(_,!1,Y)},g=c.attributes||{},ks(g,{type:"text/javascript",charset:"UTF-8"}),WG(p,g),zG(p,s),x8(u).appendChild(p),_}function x8(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function M8(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&Sy(s,!0,this.sb)}}function Sy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=T,s.onerror=T,s.onreadystatechange=T,c&&window.setTimeout(function(){Zc(s)},0)}var P8=0,O8=1;function QC(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),ne.call(this,u),this.code=s}H(QC,ne);function Wf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function XC(s){this.a=s||Wf(),this.h=!1,this.g=null}XC.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function SN(s,c,u){if(s.a&&c)return function(){return s.h=!0,new jn(function(p){s.g=p,s.a.initialize({client_id:c,callback:p,auto_select:!u}),s.a.prompt()})}();if(c){var f=JC.Xa().load().then(function(){return s.a=Wf(),SN(s,c,u)}).Ca(function(){return null});return mn(f)}return mn(null)}P(XC);var R8=new Hu(AR,"https://accounts.google.com/gsi/client");function JC(){this.a=null}JC.prototype.load=function(){var s=this;if(this.a)return this.a;var c=HG();return Wf()?mn():this.a=S8().then(function(){if(!Wf())return new jn(function(u,f){var p=setTimeout(function(){s.a=null,f(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},mn(A8(c)).then(function(){Wf()&&u()}).Ca(function(g){clearTimeout(p),s.a=null,f(g)})})})},P(JC);function ZC(s,c){this.a=s,this.g=c||function(u){throw u}}ZC.prototype.confirm=function(s){return mn(this.a.confirm(s)).Ca(this.g)};function eI(s,c,u){this.reset(s,c,u,void 0,void 0)}eI.prototype.a=null;var N8=0;eI.prototype.reset=function(s,c,u,f,p){typeof p=="number"||N8++,this.h=f||nn(),this.j=s,this.s=c,this.g=u,delete this.a};function tI(s){this.s=s,this.a=this.h=this.j=this.g=null}function Ty(s,c){this.name=s,this.value=c}Ty.prototype.toString=function(){return this.name};var TN=new Ty("SEVERE",1e3),DN=new Ty("WARNING",900),AN=new Ty("CONFIG",700);function xN(s){return s.j?s.j:s.g?xN(s.g):(et("Root logger has no level set."),null)}tI.prototype.log=function(s,c,u){if(s.value>=xN(this).value)for(J(c)&&(c=c()),s=new eI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var f=u,p=s;if(f.a)for(var g=0;c=f.a[g];g++)c(p);u=u.g}};var nI={},Kf=null;function MN(){Kf||(Kf=new tI(""),nI[""]=Kf,Kf.j=AN)}function PN(s){MN();var c;if(!(c=nI[s])){c=new tI(s);var u=s.lastIndexOf("."),f=s.substr(u+1);u=PN(s.substr(0,u)),u.h||(u.h={}),u.h[f]=c,c.g=u,nI[s]=c}return c}function Dy(){this.a=nn()}var iI=null;Dy.prototype.set=function(s){this.a=s},Dy.prototype.reset=function(){this.set(nn())},Dy.prototype.get=function(){return this.a};function Yf(s){this.j=s||"",iI||(iI=new Dy),this.s=iI}Yf.prototype.a=!0,Yf.prototype.g=!0,Yf.prototype.h=!1;function ol(s){return 10>s?"0"+s:String(s)}function k8(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function ON(s){Yf.call(this,s)}H(ON,Yf);function F8(s,c){var u=[];if(u.push(s.j," "),s.g){var f=new Date(c.h);u.push("[",ol(f.getFullYear()-2e3)+ol(f.getMonth()+1)+ol(f.getDate())+" "+ol(f.getHours())+":"+ol(f.getMinutes())+":"+ol(f.getSeconds())+"."+ol(Math.floor(f.getMilliseconds()/10)),"] ")}return u.push("[",k8(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function RN(){this.s=Ce(this.h,this),this.a=new ON,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}RN.prototype.h=function(s){function c(g){if(g){if(g.value>=TN.value)return"error";if(g.value>=DN.value)return"warn";if(g.value>=AN.value)return"log"}return"debug"}if(!this.j[s.g]){var u=F8(this.a,s),f=L8;if(f){var p=c(s.j);V8(f,p,u,s.a)}}};var L8=v.console;function V8(s,c,u,f){s[c]?s[c](u,f||""):s.log(u,f||"")}function pr(s,c){var u=rI;u&&u.log(TN,s,c)}var rI;rI=PN("firebaseui");var oI=new RN;if(oI.g!=1){var Ay;MN(),Ay=Kf;var j8=oI.s;Ay.a||(Ay.a=[]),Ay.a.push(j8),oI.g=!0}function ka(s){var c=rI;c&&c.log(DN,s,void 0)}function NN(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=NN.prototype,t.set=function(s,c,u,f,p,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),p=p?";domain="+p:"",f=f?";path="+f:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(nn()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+p+f+u+g},t.get=function(s,c){for(var u=s+"=",f=(this.a.cookie||"").split(";"),p=0,g;p<f.length;p++){if(g=ei(f[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return sI(this).keys},t.la=function(){return sI(this).values},t.clear=function(){for(var s=sI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function sI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],f,p,g=0;g<s.length;g++)p=ei(s[g]),f=p.indexOf("="),f==-1?(c.push(""),u.push(p)):(c.push(p.substring(0,f)),u.push(p.substring(f+1)));return{keys:c,values:u}}var xy=new NN;function kN(){}function Yu(s,c,u,f){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!f}l(Yu,kN),Yu.prototype.set=function(s,c){xy.set(s,c,this.h,this.g,this.a,this.j)},Yu.prototype.get=function(s){return xy.get(s)||null},Yu.prototype.ra=function(s){var c=this.g,u=this.a;xy.get(s),xy.set(s,"",0,c,u)};function aI(s,c){this.g=s,this.a=c||null}function FN(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function LN(s){if(s&&s.email){var c=s.credential&&ye.auth.AuthCredential.fromJSON(s.credential);return new aI(s.email,c)}return null}function VN(s){this.a=s||null}function jN(s){for(var c=[],u=0,f=0;f<s.length;f++){var p=s.charCodeAt(f);255<p&&(c[u++]=p&255,p>>=8),c[u++]=p}return c}function U8(s){return Si(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function My(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Qu*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Qu*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,f=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=f,GN(c),c[0]^=Oy[s/this.g][0],c[1]^=Oy[s/this.g][1],c[2]^=Oy[s/this.g][2],c[3]^=Oy[s/this.g][3]}else 6<this.g&&s%this.g==4&&GN(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}My.prototype.A=16;var Qu=My.prototype.A/4;function UN(s,c){for(var u,f=0;f<Qu;f++)for(var p=0;4>p;p++)u=4*p+f,u=c[u],s.h[f][p]=u}function BN(s){for(var c=[],u=0;u<Qu;u++)for(var f=0;4>f;f++)c[4*f+u]=s.h[u][f];return c}function Xu(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]^=s.a[4*c+f][u]}function Py(s,c){for(var u=0;4>u;u++)for(var f=0;4>f;f++)s.h[u][f]=c[s.h[u][f]]}function $N(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Qu]}function HN(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Qu]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function GN(s){s[0]=Ju[s[0]],s[1]=Ju[s[1]],s[2]=Ju[s[2]],s[3]=Ju[s[3]]}var Ju=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],qN=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Oy=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ry=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ny=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ky=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Fy=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Ly=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Vy=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function zN(s,c){s=new My(KN(s)),c=jN(c);for(var u=c.splice(0,16),f="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=s,UN(p,u),Xu(p,0),u=1;u<p.j;++u){Py(p,Ju),$N(p),g=p.h;for(var _=p.s[0],x=0;4>x;x++)_[0]=g[0][x],_[1]=g[1][x],_[2]=g[2][x],_[3]=g[3][x],g[0][x]=Ry[_[0]]^Ny[_[1]]^_[2]^_[3],g[1][x]=_[0]^Ry[_[1]]^Ny[_[2]]^_[3],g[2][x]=_[0]^_[1]^Ry[_[2]]^Ny[_[3]],g[3][x]=Ny[_[0]]^_[1]^_[2]^Ry[_[3]];Xu(p,u)}Py(p,Ju),$N(p),Xu(p,p.j),f+=U8(BN(p)),u=c.splice(0,16)}return f}function WN(s,c){s=new My(KN(s));for(var u=[],f=0;f<c.length;f+=2)u.push(parseInt(c.substring(f,f+2),16));var p=u.splice(0,16);for(c="";p.length;){for(f=s,UN(f,p),Xu(f,f.j),p=1;p<f.j;++p){HN(f),Py(f,qN),Xu(f,f.j-p);for(var g=f.h,_=f.s[0],x=0;4>x;x++)_[0]=g[0][x],_[1]=g[1][x],_[2]=g[2][x],_[3]=g[3][x],g[0][x]=Vy[_[0]]^Fy[_[1]]^Ly[_[2]]^ky[_[3]],g[1][x]=ky[_[0]]^Vy[_[1]]^Fy[_[2]]^Ly[_[3]],g[2][x]=Ly[_[0]]^ky[_[1]]^Vy[_[2]]^Fy[_[3]],g[3][x]=Fy[_[0]]^Ly[_[1]]^ky[_[2]]^Vy[_[3]]}if(HN(f),Py(f,qN),Xu(f,0),f=BN(f),8192>=f.length)f=String.fromCharCode.apply(null,f);else{for(p="",g=0;g<f.length;g+=8192)p+=String.fromCharCode.apply(null,Vu(f,g,g+8192));f=p}c+=f,p=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function KN(s){s=jN(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function YN(s){var c=[];return cI(new B8,s,c),c.join("")}function B8(){}function cI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if(B(c)){var f=c;c=f.length,u.push("[");for(var p="",g=0;g<c;g++)u.push(p),cI(s,f[g],u),p=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),p="";for(f in c)Object.prototype.hasOwnProperty.call(c,f)&&(g=c[f],typeof g!="function"&&(u.push(p),XN(f,u),u.push(":"),cI(s,g,u),p=","));u.push("}");return}}switch(typeof c){case"string":XN(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var QN={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},$8=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function XN(s,c){c.push('"',s.replace($8,function(u){var f=QN[u];return f||(f="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),QN[u]=f),f}),'"')}function Qf(s){this.a=s}Qf.prototype.set=function(s,c){y(c)?this.a.set(s,YN(c)):this.a.ra(s)},Qf.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function jy(){}H(jy,kN),jy.prototype.clear=function(){var s=bC(this.ha(!0)),c=this;Rt(s,function(u){c.ra(u)})};function Uy(s){this.a=s}H(Uy,jy);function By(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Uy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!b(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,f=new Fs;return f.next=function(){if(c>=u.length)throw Ca;var p=u.key(c++);if(s)return p;if(p=u.getItem(p),!b(p))throw"Storage mechanism: Invalid value was encountered";return p},f},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function lI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}H(lI,Uy);function uI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}H(uI,Uy);function Zu(s,c){this.g=s,this.a=c+"::"}H(Zu,jy),Zu.prototype.set=function(s,c){this.g.set(this.a+s,c)},Zu.prototype.get=function(s){return this.g.get(this.a+s)},Zu.prototype.ra=function(s){this.g.ra(this.a+s)},Zu.prototype.ha=function(s){var c=this.g.ha(!0),u=this,f=new Fs;return f.next=function(){for(var p=c.next();p.substr(0,u.a.length)!=u.a;)p=c.next();return s?p.substr(u.a.length):u.g.get(p)},f},By(new lI);var JN,ZN=new uI;JN=By(ZN)?new Zu(ZN,"firebaseui"):null;var dI=new Qf(JN),hI={name:"pendingEmailCredential",storage:dI},sl={name:"redirectStatus",storage:dI},Xf={name:"redirectUrl",storage:dI},ed={name:"emailForSignIn",storage:new Qf(new Yu(3600,"/"))},Jf={name:"pendingEncryptedCredential",storage:new Qf(new Yu(3600,"/"))};function td(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function er(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function nd(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function ek(s){return td(Xf,s)||null}function jo(s){return s=td(hI,s)||null,LN(s)}function Uo(s){er(hI,s)}function tk(s,c){nd(hI,FN(s),c)}function fI(s){return(s=td(sl,s)||null)&&typeof s.tenantId<"u"?new VN(s.tenantId):null}function H8(s,c){nd(sl,{tenantId:s.a},c)}function G8(s,c){c=td(ed,c);var u=null;if(c)try{var f=WN(s,c),p=JSON.parse(f);u=p&&p.email||null}catch{}return u}function q8(s,c){c=td(Jf,c);var u=null;if(c)try{var f=WN(s,c);u=JSON.parse(f)}catch{}return LN(u||null)}function z8(s,c,u){nd(Jf,zN(s,JSON.stringify(FN(c))),u)}function pI(){this.W={}}function An(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function mI(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}pI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function gI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function vI(){this.g=void 0,this.a={}}t=vI.prototype,t.set=function(s,c){nk(this,s,c,!1)},t.add=function(s,c){nk(this,s,c,!0)};function nk(s,c,u,f){for(var p=0;p<c.length;p++){var g=c.charAt(p);s.a[g]||(s.a[g]=new vI),s=s.a[g]}if(f&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return ik(this,s),s};function ik(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)ik(s.a[u],c)}t.ja=function(){var s=[];return rk(this,"",s),s};function rk(s,c,u){s.g!==void 0&&u.push(c);for(var f in s.a)rk(s.a[f],c+f,u)}t.clear=function(){this.a={},this.g=void 0};function ok(s){for(this.a=s,this.g=new vI,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function $y(s,c){s=s.g;var u={},f=0;for(s.g!==void 0&&(u[f]=s.g);f<c.length;f++){var p=c.charAt(f);if(!(p in s.a))break;s=s.a[p],s.g!==void 0&&(u[f]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function al(s){for(var c=0;c<Bi.length;c++)if(Bi[c].c===s)return Bi[c];return null}function sk(s){s=s.toUpperCase();for(var c=[],u=0;u<Bi.length;u++)Bi[u].f===s&&c.push(Bi[u]);return c}function ak(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<Bi.length;u++)Bi[u].b==s&&c.push(Bi[u]);s=c}else s=sk(s);return s}function ck(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var Bi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];ck(Bi);var Zf=new ok(Bi);function lk(s,c){this.a=s,this.Aa=c}function uk(s){s=ei(s);var c=$y(Zf,s);return 0<c.length?new lk(c[0].b=="1"?"1-US-0":c[0].c,ei(s.substr(c[0].b.length+1))):null}function yI(s){var c=al(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function dk(s,c){for(var u=0;u<s.length;u++)if(!ct(hk,s[u])&&(id!==null&&s[u]in id||ct(c,s[u])))return s[u];return null}var hk=["emailLink","password","phone"],id={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function W8(){this.a=new pI,An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",qy),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl"),An(this.a,"adminRestrictedOperation")}function Hy(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!Ek(s)&&pr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function Gy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var f=s[u];f=j(f)?f:{provider:f},f.provider&&c.push(f)}return c}function mr(s,c){s=Gy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function rd(s){return Gy(s).map(function(c){return c.provider})}function ep(s,c){s=fk(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function fk(s){return Gy(s).map(function(c){if(id[c.provider]||ct(iq,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(ay(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(ay(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function pk(s){var c=mr(s,ye.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(f in s=s.a.get("credentialHelper"),CI)if(CI[f]===s){var f=CI[f];break e}}f=qy}u=f===EI}return u&&c.clientId||null}function mk(s){return s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function cl(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function K8(s){var c=null;if(Gy(s).forEach(function(f){f.provider==ye.auth.PhoneAuthProvider.PROVIDER_ID&&j(f.recaptchaParameters)&&!Array.isArray(f.recaptchaParameters)&&(c=Ea(f.recaptchaParameters))}),c){var u=[];rq.forEach(function(f){typeof c[f]<"u"&&(u.push(f),delete c[f])}),u.length&&ka('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function Y8(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function Q8(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Ku(c)}}return null}function X8(s){return(s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function J8(s){if((s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Ku(c)}}return null}function gk(s,c){return s=(s=mr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function vk(s,c){return s=(s=mr(s,c))&&s.customParameters,j(s)?(s=Ea(s),c===ye.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===ye.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function Z8(s){s=mr(s,ye.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=uk(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function eq(s){var c=(s=mr(s,ye.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&sk(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=uk(s.loginHint)),c&&c[0]||u&&al(u.a)||null}function _I(s){if(s=mr(s,ye.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return Bi;if(s=[],c){u={};for(var f=0;f<c.length;f++)for(var p=ak(c[f]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(p=ak(u[c]),f=0;f<p.length;f++)_[p[f].c]=p[f];for(p=0;p<Bi.length;p++)_!==null&&Bi[p].c in _||s.push(Bi[p])}return s}function yk(s){return gI(s.a,"queryParameterForWidgetMode")}function xn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&ka("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Ku(c)}}return null}function Mn(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&ka("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Ku(u)}}return null}function _k(s){return(s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function od(s){return s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function tq(s){return s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function nq(s){if(od(s)){var c={url:Us(),handleCodeInApp:!0};(s=mr(s,ye.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&ks(c,s.emailLinkSignIn()),s=c.url;var u=Us();u instanceof Ti||(u=Rf(u)),s instanceof Ti||(s=Rf(s));var f=u;u=new Ti(f);var p=!!s.j;p?Kc(u,s.j):p=!!s.A,p?u.A=s.A:p=!!s.h,p?u.h=s.h:p=s.C!=null;var g=s.g;if(p)Ia(u,s.C);else if(p=!!s.g){if(g.charAt(0)!="/"&&(f.h&&!f.g?g="/"+g:(f=u.g.lastIndexOf("/"),f!=-1&&(g=u.g.substr(0,f+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){f=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],x=0;x<g.length;){var V=g[x++];V=="."?f&&x==g.length&&_.push(""):V==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),f&&x==g.length&&_.push("")):(_.push(V),f=!0)}g=_.join("/")}}return p?u.g=g:p=s.a.toString()!=="",p?Lo(u,yR(s.a)):p=!!s.s,p&&(u.s=s.s),c.url=u.toString(),c}return null}function wI(s){var c=!!s.a.get("immediateFederatedRedirect"),u=rd(s);return s=wk(s),c&&u.length==1&&!ct(hk,u[0])&&s==zy}function wk(s){s=s.a.get("signInFlow");for(var c in II)if(II[c]==s)return II[c];return zy}function bI(s){return tp(s).signInSuccess||null}function bk(s){return tp(s).signInSuccessWithAuthResult||null}function Ek(s){return tp(s).signInFailure||null}function tp(s){return s.a.get("callbacks")||{}}var EI="googleyolo",qy="none",CI={nc:EI,NONE:qy},zy="redirect",II={qc:"popup",rc:zy},SI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},iq=["anonymous"],rq=["sitekey","tabindex","callback","expired-callback"],np,sd,TI,Ck,xt={};function pe(s,c,u,f){xt[s].apply(null,Array.prototype.slice.call(arguments,1))}function Ik(s){return s.classList?s.classList:(s=s.className,b(s)&&s.match(/\S+/g)||[])}function ip(s,c){return s.classList?s.classList.contains(c):ct(Ik(s),c)}function Bo(s,c){s.classList?s.classList.add(c):ip(s,c)||(s.className+=0<s.className.length?" "+c:c)}function $o(s,c){s.classList?s.classList.remove(c):ip(s,c)&&(s.className=ft(Ik(s),function(u){return u!=c}).join(" "))}function ni(s){var c=s.type;switch(b(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,f=0;u=s.options[f];f++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function Sk(s,c){var u=s.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,b(c)){for(var f=0;u=s.options[f];f++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(b(c)&&(c=[c]),f=0;u=s.options[f];f++)if(u.selected=!1,c)for(var p,g=0;p=c[g];g++)u.value==p&&(u.selected=!0);break;default:s.value=c??""}}function oq(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(rp(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!oo;default:return 166>s.keyCode||183<s.keyCode}}function Tk(s,c,u,f,p,g){if(Vi&&!Xc("525"))return!0;if(Da&&p)return rp(s);if(p&&!f)return!1;if(!oo){typeof c=="number"&&(c=DI(c));var _=c==17||c==18||Da&&c==91;if((!u||Da)&&_||Da&&c==16&&(f||g))return!1}if((Vi||Ta)&&f&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(fn&&f&&c==s)return!1;switch(s){case 13:return oo?g||p?!1:!(u&&f):!0;case 27:return!(Vi||Ta||oo)}return oo&&(f||p||g)?!1:rp(s)}function rp(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Vi||Ta)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return oo;default:return!1}}function DI(s){if(oo)s=sq(s);else if(Da&&Vi)switch(s){case 93:s=91}return s}function sq(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function ad(s){Vn.call(this),this.a=s,so(s,"keydown",this.g,!1,this),so(s,"click",this.h,!1,this)}H(ad,Vn),ad.prototype.g=function(s){(s.keyCode==13||Vi&&s.keyCode==3)&&Dk(this,s)},ad.prototype.h=function(s){Dk(this,s)};function Dk(s,c){var u=new xk(c);if(Ra(s,u)){u=new Ak(c);try{Ra(s,u)}finally{c.stopPropagation()}}}ad.prototype.o=function(){ad.K.o.call(this),nl(this.a,"keydown",this.g,!1,this),nl(this.a,"click",this.h,!1,this),delete this.a};function Ak(s){Ui.call(this,s.a),this.type="action"}H(Ak,Ui);function xk(s){Ui.call(this,s.a),this.type="beforeaction"}H(xk,Ui);function cd(s){Vn.call(this),this.a=s,s=fn?"focusout":"blur",this.g=so(this.a,fn?"focusin":"focus",this,!fn),this.h=so(this.a,s,this,!fn)}H(cd,Vn),cd.prototype.handleEvent=function(s){var c=new Ui(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Ra(this,c)},cd.prototype.o=function(){cd.K.o.call(this),Oa(this.g),Oa(this.h),delete this.a};function Wy(s,c){Vn.call(this),this.g=s||1,this.a=c||v,this.h=Ce(this.gc,this),this.j=nn()}H(Wy,Vn),t=Wy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=nn()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Ra(this,"tick"),this.Ka&&(Ky(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=nn())};function Ky(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Wy.K.o.call(this),Ky(this),delete this.a};function aq(s,c){if(J(s))c&&(s=Ce(s,c));else if(s&&typeof s.handleEvent=="function")s=Ce(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function ld(s){tl.call(this),this.g=s,this.a={}}H(ld,tl);var Mk=[];function ud(s,c,u,f){B(u)||(u&&(Mk[0]=u.toString()),u=Mk);for(var p=0;p<u.length;p++){var g=so(c,u[p],f||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function Pk(s){zc(s.a,function(c,u){this.a.hasOwnProperty(u)&&Oa(c)},s),s.a={}}ld.prototype.o=function(){ld.K.o.call(this),Pk(this)},ld.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function op(s){Vn.call(this),this.a=null,this.g=s,s=fn||Ta||Vi&&!Xc("531")&&s.tagName=="TEXTAREA",this.h=new ld(this),ud(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}H(op,Vn),op.prototype.handleEvent=function(s){if(s.type=="input")fn&&Xc(10)&&s.keyCode==0&&s.j==0||(AI(this),Ra(this,Ok(s)));else if(s.type!="keydown"||oq(s)){var c=s.type=="keydown"?this.g.value:null;fn&&s.keyCode==229&&(c=null);var u=Ok(s);AI(this),this.a=aq(function(){this.a=null,this.g.value!=c&&Ra(this,u)},this)}};function AI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function Ok(s){return s=new Ui(s.a),s.type="input",s}op.prototype.o=function(){op.K.o.call(this),this.h.m(),AI(this),delete this.g};function sp(s,c){Vn.call(this),s&&(this.Oa&&Lk(this),this.qa=s,this.Na=so(this.qa,"keypress",this,c),this.Ya=so(this.qa,"keydown",this.Jb,c,this),this.Oa=so(this.qa,"keyup",this.Kb,c,this))}H(sp,Vn),t=sp.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Rk={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Nk={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},kk=!Vi||Xc("525"),Fk=Da&&oo;t=sp.prototype,t.Jb=function(s){(Vi||Ta)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||Da&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),kk&&!Tk(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=DI(s.keyCode),Fk&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(fn&&s.type=="keypress")var f=this.X,p=f!=13&&f!=27?c.keyCode:0;else(Vi||Ta)&&s.type=="keypress"?(f=this.X,p=0<=c.charCode&&63232>c.charCode&&rp(f)?c.charCode:0):IR&&!Vi?(f=this.X,p=rp(f)?c.keyCode:0):(s.type=="keypress"?(Fk&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(f=c.keyCode,p=0):(f=this.X,p=c.charCode):(f=c.keyCode||this.X,p=c.charCode||0)):(f=c.keyCode||this.X,p=c.charCode||0),Da&&p==63&&f==224&&(f=191));var g=f=DI(f);f?63232<=f&&f in Rk?g=Rk[f]:f==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in Nk&&(g=Nk[c.keyIdentifier]),oo&&kk&&s.type=="keypress"&&!Tk(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new Vk(g,p,s,c),c.altKey=u,Ra(this,c))},t.N=function(){return this.qa};function Lk(s){s.Na&&(Oa(s.Na),Oa(s.Ya),Oa(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){sp.K.o.call(this),Lk(this)};function Vk(s,c,u,f){Ui.call(this,f),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}H(Vk,Ui);function dd(s,c,u,f){this.top=s,this.right=c,this.bottom=u,this.left=f}dd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},dd.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},dd.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},dd.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Yy(s,c){var u=Lf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function jk(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return fn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function cq(s,c){c=c||uy(document);var u=c||uy(document),f=Uk(s),p=Uk(u);if(!fn||9<=Number(kf)){_=Yy(u,"borderLeftWidth");var g=Yy(u,"borderRightWidth");x=Yy(u,"borderTopWidth"),V=Yy(u,"borderBottomWidth"),g=new dd(parseFloat(x),parseFloat(g),parseFloat(V),parseFloat(_))}else{var _=Qy(u,"borderLeft");g=Qy(u,"borderRight");var x=Qy(u,"borderTop"),V=Qy(u,"borderBottom");g=new dd(x,g,V,_)}u==uy(document)?(_=f.a-u.scrollLeft,f=f.g-u.scrollTop,!fn||10<=Number(kf)||(_+=g.left,f+=g.top)):(_=f.a-p.a-g.left,f=f.g-p.g-g.top),p=s.offsetWidth,g=s.offsetHeight,x=Vi&&!p&&!g,y(p)&&!x||!s.getBoundingClientRect?s=new DC(p,g):(s=jk(s),s=new DC(s.right-s.left,s.bottom-s.top)),p=u.clientHeight-s.height,g=u.scrollLeft,x=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),x+=Math.min(f,Math.max(f-p,0)),u=new Ma(g,x),c.scrollLeft=u.a,c.scrollTop=u.g}function Uk(s){var c=Lf(s),u=new Ma(0,0),f=c?Lf(c):document;return f=!fn||9<=Number(kf)||ly(f).a.compatMode=="CSS1Compat"?f.documentElement:f.body,s==f||(s=jk(s),f=ly(c).a,c=uy(f),f=f.parentWindow||f.defaultView,c=fn&&Xc("10")&&f.pageYOffset!=c.scrollTop?new Ma(c.scrollLeft,c.scrollTop):new Ma(f.pageXOffset||c.scrollLeft,f.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var Bk={thin:2,medium:4,thick:6};function Qy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in Bk)s=Bk[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var f=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=f,s=+u}return s}function xI(){}P(xI),xI.prototype.a=0;function ll(s){Vn.call(this),this.s=s||ly(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(ll,Vn),t=ll.prototype,t.Lb=xI.Xa(),t.N=function(){return this.g};function mt(s,c){return s.g?xC(c,s.g||s.s.a):null}function ap(s){return s.L||(s.L=new ld(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");ll.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,MI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){MI(this,function(s){s.na&&s.ya()}),this.L&&Pk(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),MI(this,function(s){s.m()}),this.g&&Zc(this.g),this.Y=this.g=this.oa=this.Ea=null,ll.K.o.call(this)};function MI(s,c){s.Ea&&Rt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=b(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var f=this.oa;if(u in f&&delete f[u],Fn(this.Ea,s),c&&(s.ya(),s.g&&Zc(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,ll.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function gn(s,c){var u=VR(s,"firebaseui-textfield");c?($o(s,"firebaseui-input-invalid"),Bo(s,"firebaseui-input"),u&&$o(u,"firebaseui-textfield-invalid")):($o(s,"firebaseui-input"),Bo(s,"firebaseui-input-invalid"),u&&Bo(u,"firebaseui-textfield-invalid"))}function hd(s,c,u){c=new op(c),Uf(s,$e(Bf,c)),ud(ap(s),c,"input",u)}function cp(s,c,u){c=new sp(c),Uf(s,$e(Bf,c)),ud(ap(s),c,"key",function(f){f.keyCode==13&&(f.stopPropagation(),f.preventDefault(),u(f))})}function lq(s,c,u){c=new cd(c),Uf(s,$e(Bf,c)),ud(ap(s),c,"focusin",u)}function uq(s,c,u){c=new cd(c),Uf(s,$e(Bf,c)),ud(ap(s),c,"focusout",u)}function un(s,c,u){c=new ad(c),Uf(s,$e(Bf,c)),ud(ap(s),c,"action",function(f){f.stopPropagation(),f.preventDefault(),u(f)})}function gr(s){Bo(s,"firebaseui-hidden")}function ii(s,c){c&&MC(s,c),$o(s,"firebaseui-hidden")}function fd(s){return!ip(s,"firebaseui-hidden")&&s.style.display!="none"}function pd(s){s=s||{};var c=s.email,u=s.disabled,f='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return f=s.wc?f+"Enter new email address":f+"Email",f+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+ji(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',de(f)}function tr(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+Oe(s):c+"Next",de(c+"</button>")}function PI(){var s=""+tr({label:pn("Sign In")});return de(s)}function $k(){var s=""+tr({label:pn("Save")});return de(s)}function ao(){var s=""+tr({label:pn("Continue")});return de(s)}function Hk(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+Oe(s):c+"Choose password",de(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Gk(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",de(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function qk(){return de('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function vr(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+Oe(s):c+"Cancel",de(c+"</button>")}function mi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),de(c)}function md(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),de(c)}function zk(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',de(s)}zk.a="firebaseui.auth.soy2.element.infoBar";function Wk(s){var c=s.content;return s=s.Ab,de('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+ji(s):"")+'">'+Oe(c)+"</dialog>")}function Kk(s){var c=s.message;return de(Wk({content:BR('<div class="firebaseui-dialog-icon-wrapper"><div class="'+ji(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(c)+"</div>")}))}Kk.a="firebaseui.auth.soy2.element.progressDialog";function Yk(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,f=0;f<u;f++){var p=s[f];c+='<button type="button" data-listboxid="'+ji(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+ji(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(p.label)+"</div></button>"}return c=""+Wk({Ab:pn("firebaseui-list-box-dialog"),content:BR(c+"</div>")}),de(c)}Yk.a="firebaseui.auth.soy2.element.listBoxDialog";function Xy(s){return s=s||{},de(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Xy.a="firebaseui.auth.soy2.element.busyIndicator";function Fa(s,c){return s=s||{},s=s.ga,bt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function OI(s){Qk(s,"upgradeElement")}function RI(s){Qk(s,"downgradeElements")}var dq=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Qk(s,c){s&&window.componentHandler&&window.componentHandler[c]&&dq.forEach(function(u){ip(s,u)&&window.componentHandler[c](s),Rt(AC(u,s),function(f){window.componentHandler[c](f)})})}function Xk(s,c,u){if(Jy.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),OI(s),c&&un(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&Jy.call(this)}),!u){var f=this.N().parentElement||this.N().parentNode;if(f){var p=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=f.getBoundingClientRect().height,x=f.getBoundingClientRect().top-document.body.getBoundingClientRect().top,V=f.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=s.getBoundingClientRect().width,me=f.getBoundingClientRect().width;s.style.top=(x+(_-g)/2).toString()+"px",g=V+(me-Y)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Jy(){var s=NI.call(this);s&&(RI(s),s.open&&s.close(),Zc(s),this.da&&window.removeEventListener("resize",this.da))}function NI(){return xC("firebaseui-id-dialog")}function Jk(){Zc(Zk.call(this))}function Zk(){return mt(this,"firebaseui-id-info-bar")}function eF(){return mt(this,"firebaseui-id-dismiss-info-bar")}var hq={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function kI(s,c,u){Vs.call(this,s,c);for(var f in u)this[f]=u[f]}H(kI,Vs);function G(s,c,u,f,p){ll.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=f||null,this.A=this.ca=null,this.Z=Ea(hq),ks(this.Z,p||{})}H(G,ll),t=G.prototype,t.kb=function(){var s=Vf(this.fb,this.eb,this.Z,this.s);OI(s),this.g=s},t.v=function(){if(G.K.v.call(this),nN(on(this),new kI("pageEnter",on(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;un(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;un(this,this.ab(),function(){c()})}},t.ya=function(){nN(on(this),new kI("pageExit",on(this),{pageId:this.Ga})),G.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,RI(this.N()),G.K.o.call(this)};function fq(s){s.Fa=!0;var c=ip(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=Vf(Xy,{tb:c},null,s.s),s.N().appendChild(s.A),OI(s.A))},500)}t.I=function(s,c,u,f){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(RI(g.A),Zc(g.A),g.A=null)}var g=this;return g.Fa?null:(fq(g),s.apply(null,c).then(u,f).then(p,p))};function on(s){return s.N().parentElement||s.N().parentNode}function lp(s,c,u){cp(s,c,function(){u.focus()})}function gd(s,c,u){cp(s,c,function(){u()})}Se(G.prototype,{a:function(s){Jk.call(this);var c=Vf(zk,{message:s},null,this.s);this.N().appendChild(c),un(this,eF.call(this),function(){Zc(c)})},yc:Jk,Ac:Zk,zc:eF,$:function(s,c){s=Vf(Kk,{Ma:s,message:c},null,this.s),Xk.call(this,s)},h:Jy,Cb:NI,Cc:function(){return mt(this,"firebaseui-tos")},bb:function(){return mt(this,"firebaseui-tos-link")},ab:function(){return mt(this,"firebaseui-pp-link")},Dc:function(){return mt(this,"firebaseui-tos-list")}});function tF(s,c,u){s=s||{},c=s.Va;var f=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+pd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?vr(null):"")+tr(null)+'</div></div><div class="firebaseui-card-footer">'+(f?md(u):mi(u))+"</div></form></div>",de(s)}tF.a="firebaseui.auth.soy2.page.signIn";function nF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+pd(s)+Gk()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+qk()+'</div><div class="firebaseui-form-actions">'+PI()+'</div></div><div class="firebaseui-card-footer">'+(c?md(u):mi(u))+"</div></form></div>",de(s)}nF.a="firebaseui.auth.soy2.page.passwordSignIn";function iF(s,c,u){s=s||{};var f=s.Tb;c=s.Ta;var p=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+pd(s);return f?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+ji(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=de(s)):s="",u=g+s+Hk(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?vr(null):"")+$k()+'</div></div><div class="firebaseui-card-footer">'+(p?md(u):mi(u))+"</div></form></div>",de(u)}iF.a="firebaseui.auth.soy2.page.passwordSignUp";function rF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+pd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?vr(null):"")+tr({label:pn("Send")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(s)}rF.a="firebaseui.auth.soy2.page.passwordRecovery";function oF(s,c,u){c=s.G;var f="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),f+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(f+='<div class="firebaseui-form-actions">'+tr({label:pn("Done")})+"</div>"),f+='</div><div class="firebaseui-card-footer">'+mi(u)+"</div></div>",de(f)}oF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function sF(s,c,u){return de('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Xy(null,null,u)+"</div></div>")}sF.a="firebaseui.auth.soy2.page.callback";function aF(s,c,u){return de('<div class="firebaseui-container firebaseui-id-page-spinner">'+Xy({tb:!0},null,u)+"</div>")}aF.a="firebaseui.auth.soy2.page.spinner";function cF(){return de('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}cF.a="firebaseui.auth.soy2.page.blank";function lF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var f=de('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+f+'</div><div class="firebaseui-form-actions">'+vr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}lF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function uF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+de('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+vr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(s)}uF.a="firebaseui.auth.soy2.page.emailNotReceived";function dF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+pd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr(null)+tr(null)+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(s)}dF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function hF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr({label:pn("Dismiss")})+"</div></div></div>";return de(s)}hF.a="firebaseui.auth.soy2.page.differentDeviceError";function fF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr({label:pn("Dismiss")})+"</div></div></div>";return de(s)}fF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function pF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+Gk()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+qk()+'</div><div class="firebaseui-form-actions">'+PI()+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}pF.a="firebaseui.auth.soy2.page.passwordLinking";function mF(s,c,u){var f=s.email;return c="",s=""+Fa(s,u),s=pn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(f)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+f+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+PI()+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}mF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function gF(s,c,u){c="";var f=""+Fa(s,u);return f=pn(f),s="You originally intended to connect <strong>"+(Oe(f)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),f="If you still want to connect your <strong>"+(Oe(f)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ao()+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}gF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function vF(s,c,u){var f=s.email;return c="",s=""+Fa(s,u),s=pn(s),f="You\u2019ve already used <strong>"+(Oe(f)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tr({label:pn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}vF.a="firebaseui.auth.soy2.page.federatedLinking";function yF(s,c,u){s=s||{};var f=s.kc;c=s.yb,s=s.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return f?(f="<strong>"+(Oe(f)+"</strong> is not authorized to view the requested page."),p+=f):p+="User is not authorized to view the requested page.",p+="</p>",c&&(c="Please contact <strong>"+(Oe(c)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+vr({label:pn("Back")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(p)}yF.a="firebaseui.auth.soy2.page.unauthorizedUser";function _F(s,c,u){return c="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr(null)+tr({label:pn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}_F.a="firebaseui.auth.soy2.page.unsupportedProvider";function wF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+Hk(t8(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$k()+"</div></div></form></div>",de(c)}wF.a="firebaseui.auth.soy2.page.passwordReset";function bF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}bF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function EF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}EF.a="firebaseui.auth.soy2.page.passwordResetFailure";function CF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",de(u)}CF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function IF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}IF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function SF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}SF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function TF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}TF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function DF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(u)}DF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function AF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}AF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function xF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Oe(c)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),f+=c;break;default:f+="The device or app was removed as a second authentication step."}return f+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></form></div>",de(f)}xF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function MF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+ao()+"</div>":"")+"</div></div>",de(s)}MF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function PF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=tr({label:pn("Retry")})),de(s+"</div></div></div>")}PF.a="firebaseui.auth.soy2.page.recoverableError";function OF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",de(s)}OF.a="firebaseui.auth.soy2.page.unrecoverableError";function RF(s,c,u){var f=s.Qb;return c="",s="Continue with "+(Oe(s.jc)+"?"),f="You originally wanted to sign in with "+Oe(f),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+f+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr(null)+tr({label:pn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form></div>",de(c)}RF.a="firebaseui.auth.soy2.page.emailMismatch";function NF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var p=0;p<c;p++){var g={ga:s[p]},_=u;g=g||{};var x=g.ga,V=g;V=V||{};var Y="";switch(V.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}V='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+ji(bt(Y))+' firebaseui-id-idp-button" data-provider-id="'+ji(x.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,V=V+ji($R(bt(Y.ta?Y.ta:_.wa[Y.providerId]?""+_.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+_.wa.saml:Y.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var me=g;Y=_,me=me||{},me=me.ga,Y=e8(me.za?el(me.za):Y.xa[me.providerId]?el(Y.xa[me.providerId]):me.providerId.indexOf("saml.")==0?el(Y.xa.saml):me.providerId.indexOf("oidc.")==0?el(Y.xa.oidc):el(Y.xa.password)),V=V+ji(el(Y))+'"></span>',x.providerId=="password"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(Fa(g,_)),V+=g):V+="Sign in with email",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Email",V+="</span>"):x.providerId=="phone"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(Fa(g,_)),V+=g):V+="Sign in with phone",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Phone",V+="</span>"):x.providerId=="anonymous"?(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):x.S?(g="Sign in with "+Oe(Fa(g,_)),V+=g):V+="Continue as guest",V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',V=x.S?V+Oe(x.S):V+"Guest",V+="</span>"):(V+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',x.V?V+=Oe(x.V):(Y="Sign in with "+Oe(Fa(g,_)),V+=Y),V+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(x.S?Oe(x.S):Oe(Fa(g,_)))+"</span>"),x=de(V+"</button>"),f+='<li class="firebaseui-list-item">'+x+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+md(u)+"</div></div>",de(f)}NF.a="firebaseui.auth.soy2.page.providerSignIn";function kF(s,c,u){s=s||{};var f=s.Gb,p=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+ji(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+de(s);var g;return f?g=de('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?vr(null):"")+tr({label:pn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=de(c+"</p>")):u=de('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+mi(u),de(g+u+"</div></form></div>")}kF.a="firebaseui.auth.soy2.page.phoneSignInStart";function FF(s,c,u){s=s||{},c=s.phoneNumber;var f="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(c)+"</a>"),Oe(c),c=f,f=de('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+f+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vr(null)+tr({label:pn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+mi(u)+"</div></form>",s=de('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),de(c+(u+s+"</div>"))}FF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function LF(){return de('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}LF.a="firebaseui.auth.soy2.page.signOut";function VF(s,c,u){var f='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var p=0;p<c;p++){var g=s[p],_="",x=Oe(g.displayName),V=g.tenantId?g.tenantId:"top-level-project";V=pn(V),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+ji(V)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+ji(g.tenantId)+'"':"")+'style="background-color:'+ji($R(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+ji(el(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),_+=g),_=de(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+x+"</span></button>")),f+='<li class="firebaseui-list-item">'+_+"</li>"}return f+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+md(u)+"</div></div>",de(f)}VF.a="firebaseui.auth.soy2.page.selectTenant";function jF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+pd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+tr(null)+'</div></div><div class="firebaseui-card-footer">'+md(u)+"</div></form></div>",de(s)}jF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Wn(){return mt(this,"firebaseui-id-submit")}function Un(){return mt(this,"firebaseui-id-secondary-link")}function ri(s,c){un(this,Wn.call(this),function(f){s(f)});var u=Un.call(this);u&&c&&un(this,u,function(f){c(f)})}function Zy(){return mt(this,"firebaseui-id-password")}function e_(){return mt(this,"firebaseui-id-password-error")}function UF(){var s=Zy.call(this),c=e_.call(this);hd(this,s,function(){fd(c)&&(gn(s,!0),gr(c))})}function BF(){var s=Zy.call(this),c=e_.call(this);return ni(s)?(gn(s,!0),gr(c),c=!0):(gn(s,!1),ii(c,bt("Enter your password").toString()),c=!1),c?ni(s):null}function vd(s,c,u,f,p,g){G.call(this,pF,{email:s},g,"passwordLinking",{F:f,D:p}),this.w=c,this.H=u}l(vd,G),vd.prototype.v=function(){this.P(),this.M(this.w,this.H),gd(this,this.i(),this.w),this.i().focus(),G.prototype.v.call(this)},vd.prototype.o=function(){this.w=null,G.prototype.o.call(this)},vd.prototype.j=function(){return ni(mt(this,"firebaseui-id-email"))},Se(vd.prototype,{i:Zy,B:e_,P:UF,u:BF,ea:Wn,ba:Un,M:ri});var pq=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Bs(){return mt(this,"firebaseui-id-email")}function La(){return mt(this,"firebaseui-id-email-error")}function yd(s){var c=Bs.call(this),u=La.call(this);hd(this,c,function(){fd(u)&&(gn(c,!0),gr(u))}),s&&cp(this,c,function(){s()})}function _d(){return ei(ni(Bs.call(this))||"")}function wd(){var s=Bs.call(this),c=La.call(this),u=ni(s)||"";return u?pq.test(u)?(gn(s,!0),gr(c),c=!0):(gn(s,!1),ii(c,bt("That email address isn't correct").toString()),c=!1):(gn(s,!1),ii(c,bt("Enter your email address to continue").toString()),c=!1),c?ei(ni(s)):null}function up(s,c,u,f,p,g,_){G.call(this,nF,{email:u,ia:!!g},_,"passwordSignIn",{F:f,D:p}),this.w=s,this.H=c}l(up,G),up.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),lp(this,this.l(),this.i()),gd(this,this.i(),this.w),ni(this.l())?this.i().focus():this.l().focus(),G.prototype.v.call(this)},up.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Se(up.prototype,{l:Bs,U:La,P:yd,M:_d,j:wd,i:Zy,B:e_,ea:UF,u:BF,ua:Wn,pa:Un,ba:ri});function Nt(s,c,u,f,p,g){G.call(this,s,c,f,p||"notice",g),this.i=u||null}H(Nt,G),Nt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Nt.K.v.call(this)},Nt.prototype.o=function(){this.i=null,Nt.K.o.call(this)},Se(Nt.prototype,{l:Wn,w:Un,u:ri});function t_(s,c,u,f,p){Nt.call(this,oF,{email:s,G:!!c},c,p,"passwordRecoveryEmailSent",{F:u,D:f})}H(t_,Nt);function $F(s,c){Nt.call(this,SF,{G:!!s},s,c,"emailVerificationSuccess")}H($F,Nt);function HF(s,c){Nt.call(this,TF,{G:!!s},s,c,"emailVerificationFailure")}H(HF,Nt);function GF(s,c,u){Nt.call(this,DF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}H(GF,Nt);function qF(s,c){Nt.call(this,AF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}H(qF,Nt);function zF(s,c){Nt.call(this,MF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}H(zF,Nt);function WF(s){Nt.call(this,LF,void 0,void 0,s,"signOut")}H(WF,Nt);function KF(s,c){Nt.call(this,bF,{G:!!s},s,c,"passwordResetSuccess")}H(KF,Nt);function YF(s,c){Nt.call(this,EF,{G:!!s},s,c,"passwordResetFailure")}H(YF,Nt);function QF(s,c){Nt.call(this,IF,{G:!!s},s,c,"emailChangeRevokeFailure")}H(QF,Nt);function XF(s,c,u){Nt.call(this,PF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}H(XF,Nt);function JF(s,c){Nt.call(this,OF,{errorMessage:s},void 0,c,"unrecoverableError")}H(JF,Nt);function dp(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function $s(s,c,u,f){function p(_){if(!_.name||_.name!="cancel"){e:{var x=_.message;try{var V=((JSON.parse(x).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(V&&V.length){var Y=!0;break e}}catch{}Y=!1}if(Y)_=on(c),c.m(),Bt(s,_,void 0,bt("Your sign-in session has expired. Please try again.").toString());else{if(Y=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Y=Lt(_)}c.a(Y)}}}if(w2(s),f)return ZF(s,u),mn();if(!u.credential)throw Error("No credential found!");if(!st(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=zq(s,u)}catch(_){return pr(_.code||_.message,_),c.a(_.code||_.message),mn()}return u=g.then(function(_){ZF(s,_)},p).then(void 0,p),Ge(s,g),mn(u)}function ZF(s,c){if(!c.user)throw Error("No user found");var u=bk(q(s));if(bI(q(s))&&u&&ka("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=bk(q(s));var f=ek(Me(s))||void 0;er(Xf,Me(s));var p=!1;wN()?((!u||u(c,f))&&(p=!0,qu(window.opener.location,n_(s,f))),u||window.close()):(!u||u(c,f))&&(p=!0,qu(window.location,n_(s,f))),p||s.reset()}else{u=c.user,c=c.credential,f=bI(q(s)),p=ek(Me(s))||void 0,er(Xf,Me(s));var g=!1;wN()?((!f||f(u,c,p))&&(g=!0,qu(window.opener.location,n_(s,p))),f||window.close()):(!f||f(u,c,p))&&(g=!0,qu(window.location,n_(s,p))),g||s.reset()}}function n_(s,c){if(s=c||q(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Lt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=WR();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=WR();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=NC();break;case"auth/invalid-verification-code":u+=bt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=bt(u).toString())return c;try{return JSON.parse(s.message),pr("Internal error: "+s.message,void 0),GR().toString()}catch{return s.message}}function mq(s,c,u){var f=id[c]&&ye.auth[id[c]]?new ye.auth[id[c]]:c.indexOf("saml.")==0?new ye.auth.SAMLAuthProvider(c):new ye.auth.OAuthProvider(c);if(!f)throw Error("Invalid Firebase Auth provider!");var p=gk(q(s),c);if(f.addScope)for(var g=0;g<p.length;g++)f.addScope(p[g]);return p=vk(q(s),c)||{},u&&(c==ye.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==ye.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=ep(q(s),c))&&s.Ob,s&&(p[s]=u)),f.setCustomParameters&&f.setCustomParameters(p),f}function hp(s,c,u,f){function p(){H8(new VN(s.h.tenantId||null),Me(s)),Ge(s,c.I(Ce(s.dc,s),[V],function(){if((window.location&&window.location.protocol)==="file:")return Ge(s,m2(s).then(function(Y){c.m(),er(sl,Me(s)),pe("callback",s,x,mn(Y))},g))},_))}function g(Y){if(er(sl,Me(s)),!Y.name||Y.name!="cancel")switch(Y=dp(Y),Y.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Lt(Y));break;case"auth/admin-restricted-operation":c.m(),cl(q(s))?pe("handleUnauthorizedUser",s,x,null,u):pe("callback",s,x,zu(Y));break;default:c.m(),pe("callback",s,x,zu(Y))}}function _(Y){er(sl,Me(s)),Y.name&&Y.name=="cancel"||(pr("signInWithRedirect: "+Y.code,void 0),Y=Lt(Y),c.Ga=="blank"&&wI(q(s))?(c.m(),pe("providerSignIn",s,x,Y)):c.a(Y))}var x=on(c),V=mq(s,u,f);wk(q(s))==zy?p():Ge(s,qq(s,V).then(function(Y){c.m(),pe("callback",s,x,mn(Y))},g))}function gq(s,c){Ge(s,c.I(Ce(s.$b,s),[],function(u){return c.m(),$s(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(pr("ContinueAsGuest: "+u.code,void 0),u=Lt(u),c.a(u))}))}function vq(s,c,u){function f(g){var _=!1;return g=c.I(Ce(s.ac,s),[g],function(x){var V=on(c);c.m(),pe("callback",s,V,mn(x)),_=!0},function(x){if((!x.name||x.name!="cancel")&&(!x||x.code!="auth/credential-already-in-use"))if(x&&x.code=="auth/email-already-in-use"&&x.email&&x.credential){var V=on(c);c.m(),pe("callback",s,V,zu(x))}else x&&x.code=="auth/admin-restricted-operation"&&cl(q(s))?(x=on(c),c.m(),pe("handleUnauthorizedUser",s,x,null,ye.auth.GoogleAuthProvider.PROVIDER_ID)):(x=Lt(x),c.a(x))}),Ge(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===pk(q(s))){if(gk(q(s),ye.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return hp(s,c,ye.auth.GoogleAuthProvider.PROVIDER_ID,p),mn(!0)}return f(ye.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(bt("The selected credential for the authentication provider is not supported!").toString()),mn(!1)}function yq(s,c){var u=c.j(),f=c.u();if(u)if(f){var p=ye.auth.EmailAuthProvider.credential(u,f);Ge(s,c.I(Ce(s.bc,s),[u,f],function(g){return $s(s,c,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":gn(c.l(),!1),ii(c.U(),Lt(g));break;case"auth/too-many-requests":case"auth/wrong-password":gn(c.i(),!1),ii(c.B(),Lt(g));break;default:pr("verifyPassword: "+g.message,void 0),c.a(Lt(g))}}))}else c.i().focus();else c.l().focus()}function i_(s){return s=rd(q(s)),s.length==1&&s[0]==ye.auth.EmailAuthProvider.PROVIDER_ID}function e2(s){return s=rd(q(s)),s.length==1&&s[0]==ye.auth.PhoneAuthProvider.PROVIDER_ID}function Bt(s,c,u,f){i_(s)?f?pe("signIn",s,c,u,f):LI(s,c,u):s&&e2(s)&&!f?pe("phoneSignInStart",s,c):s&&wI(q(s))&&!f?pe("federatedRedirect",s,c,u):pe("providerSignIn",s,c,f,u)}function t2(s,c,u,f){var p=on(c);Ge(s,c.I(Ce(st(s).fetchSignInMethodsForEmail,st(s)),[u],function(g){c.m(),n2(s,p,g,u,f)},function(g){g=Lt(g),c.a(g)}))}function n2(s,c,u,f,p,g){u.length||od(q(s))&&!od(q(s))?ct(u,ye.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?pe("passwordSignIn",s,c,f,g):u.length==1&&u[0]===ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?od(q(s))?pe("sendEmailLinkForSignIn",s,c,f,function(){pe("signIn",s,c)}):pe("unsupportedProvider",s,c,f):(u=dk(u,rd(q(s))))?(tk(new aI(f),Me(s)),pe("federatedSignIn",s,c,f,u,p)):pe("unsupportedProvider",s,c,f):mk(q(s))?pe("handleUnauthorizedUser",s,c,f,ye.auth.EmailAuthProvider.PROVIDER_ID):od(q(s))?pe("sendEmailLinkForSignIn",s,c,f,function(){pe("signIn",s,c)}):pe("passwordSignUp",s,c,f,void 0,void 0,g)}function FI(s,c,u,f,p,g){var _=on(c);Ge(s,c.I(Ce(s.Ib,s),[u,g],function(){c.m(),pe("emailLinkSignInSent",s,_,u,f,g)},p))}function LI(s,c,u){u?pe("prefilledEmailSignIn",s,c,u):pe("signIn",s,c)}function fp(){return ro(Us(),"oobCode")}function VI(){var s=ro(Us(),"continueUrl");return s?function(){qu(window.location,s)}:null}function pp(s,c){G.call(this,fF,void 0,c,"anonymousUserMismatch"),this.i=s}l(pp,G),pp.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},pp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(pp.prototype,{l:Un}),xt.anonymousUserMismatch=function(s,c){var u=new pp(function(){u.m(),Bt(s,c)});u.render(c),Je(s,u)};function r_(s){G.call(this,sF,void 0,s,"callback")}l(r_,G),r_.prototype.I=function(s,c,u,f){return s.apply(null,c).then(u,f)};function i2(s,c,u){if(u.user){var f={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=jo(Me(s)),g=p&&p.g;if(g&&!wq(u.user,g))_q(s,c,f);else{var _=p&&p.a;_?Ge(s,u.user.linkWithCredential(_).then(function(x){f={user:x.user,credential:_,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo},r2(s,c,f)},function(x){o_(s,c,x)})):r2(s,c,f)}}else u=on(c),c.m(),Uo(Me(s)),Bt(s,u)}function r2(s,c,u){Uo(Me(s)),$s(s,c,u)}function o_(s,c,u){var f=on(c);Uo(Me(s)),u=Lt(u),c.m(),Bt(s,f,void 0,u)}function o2(s,c,u,f){var p=on(c);Ge(s,st(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?ct(g,ye.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?pe("passwordLinking",s,p,u):g.length==1&&g[0]===ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?pe("emailLinkSignInLinking",s,p,u):(g=dk(g,rd(q(s))))?pe("federatedLinking",s,p,u,g,f):(Uo(Me(s)),pe("unsupportedProvider",s,p,u)):(Uo(Me(s)),pe("passwordRecovery",s,p,u,!1,qR().toString()))},function(g){o_(s,c,g)}))}function _q(s,c,u){var f=on(c);Ge(s,Va(s).then(function(){c.m(),pe("emailMismatch",s,f,u)},function(p){p.name&&p.name=="cancel"||(p=Lt(p.code),c.a(p))}))}function wq(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}xt.callback=function(s,c,u){var f=new r_;f.render(c),Je(s,f),u=u||m2(s),Ge(s,u.then(function(p){i2(s,f,p)},function(p){if((p=dp(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)tk(new aI(p.email,p.credential),Me(s)),o2(s,f,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=jo(Me(s)),_=Lt(p);g&&g.a?o2(s,f,g.g,_):g?t2(s,f,g.g,_):o_(s,f,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&i_(s)?i2(s,f,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&cl(q(s))?(f.m(),Uo(Me(s)),pe("handleUnauthorizedUser",s,c,null,null)):o_(s,f,p))}))};function mp(s,c){G.call(this,hF,void 0,c,"differentDeviceError"),this.i=s}l(mp,G),mp.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},mp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(mp.prototype,{l:Un}),xt.differentDeviceError=function(s,c){var u=new mp(function(){u.m(),Bt(s,c)});u.render(c),Je(s,u)};function gp(s,c,u,f){G.call(this,CF,{email:s,G:!!u},f,"emailChangeRevoke"),this.l=c,this.i=u||null}l(gp,G),gp.prototype.v=function(){var s=this;un(this,mt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},gp.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Se(gp.prototype,{u:Wn,B:Un,w:ri});function vp(){return mt(this,"firebaseui-id-new-password")}function s_(){return mt(this,"firebaseui-id-password-toggle")}function bq(){this.Ra=!this.Ra;var s=s_.call(this),c=vp.call(this);this.Ra?(c.type="text",Bo(s,"firebaseui-input-toggle-off"),$o(s,"firebaseui-input-toggle-on")):(c.type="password",Bo(s,"firebaseui-input-toggle-on"),$o(s,"firebaseui-input-toggle-off")),c.focus()}function a_(){return mt(this,"firebaseui-id-new-password-error")}function s2(){this.Ra=!1;var s=vp.call(this);s.type="password";var c=a_.call(this);hd(this,s,function(){fd(c)&&(gn(s,!0),gr(c))});var u=s_.call(this);Bo(u,"firebaseui-input-toggle-on"),$o(u,"firebaseui-input-toggle-off"),lq(this,s,function(){Bo(u,"firebaseui-input-toggle-focus"),$o(u,"firebaseui-input-toggle-blur")}),uq(this,s,function(){Bo(u,"firebaseui-input-toggle-blur"),$o(u,"firebaseui-input-toggle-focus")}),un(this,u,Ce(bq,this))}function a2(){var s=vp.call(this),c=a_.call(this);return ni(s)?(gn(s,!0),gr(c),c=!0):(gn(s,!1),ii(c,bt("Enter your password").toString()),c=!1),c?ni(s):null}function yp(s,c,u){G.call(this,wF,{email:s},u,"passwordReset"),this.l=c}l(yp,G),yp.prototype.v=function(){this.H(),this.B(this.l),gd(this,this.i(),this.l),this.i().focus(),G.prototype.v.call(this)},yp.prototype.o=function(){this.l=null,G.prototype.o.call(this)},Se(yp.prototype,{i:vp,w:a_,M:s_,H:s2,u:a2,U:Wn,P:Un,B:ri});function _p(s,c,u,f,p){G.call(this,xF,{factorId:s,phoneNumber:u||null,G:!!f},p,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=f||null}l(_p,G),_p.prototype.v=function(){var s=this;un(this,mt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},_p.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Se(_p.prototype,{u:Wn,B:Un,w:ri});function Eq(s,c,u,f,p){var g=u.u();g&&Ge(s,u.I(Ce(st(s).confirmPasswordReset,st(s)),[f,g],function(){u.m();var _=new KF(p);_.render(c),Je(s,_)},function(_){c2(s,c,u,_)}))}function c2(s,c,u,f){(f&&f.code)=="auth/weak-password"?(s=Lt(f),gn(u.i(),!1),ii(u.w(),s),u.i().focus()):(u&&u.m(),u=new YF,u.render(c),Je(s,u))}function Cq(s,c,u){var f=new gp(u,function(){Ge(s,f.I(Ce(st(s).sendPasswordResetEmail,st(s)),[u],function(){f.m(),f=new t_(u,void 0,xn(q(s)),Mn(q(s))),f.render(c),Je(s,f)},function(){f.a(HR().toString())}))});f.render(c),Je(s,f)}function Iq(s,c,u,f){var p=new _p(f.factorId,function(){p.I(Ce(st(s).sendPasswordResetEmail,st(s)),[u],function(){p.m(),p=new t_(u,void 0,xn(q(s)),Mn(q(s))),p.render(c),Je(s,p)},function(){p.a(HR().toString())})},f.phoneNumber);p.render(c),Je(s,p)}xt.passwordReset=function(s,c,u,f){Ge(s,st(s).verifyPasswordResetCode(u).then(function(p){var g=new yp(p,function(){Eq(s,c,g,u,f)});g.render(c),Je(s,g)},function(){c2(s,c)}))},xt.emailChangeRevocation=function(s,c,u){var f=null;Ge(s,st(s).checkActionCode(u).then(function(p){return f=p.data.email,st(s).applyActionCode(u)}).then(function(){Cq(s,c,f)},function(){var p=new QF;p.render(c),Je(s,p)}))},xt.emailVerification=function(s,c,u,f){Ge(s,st(s).applyActionCode(u).then(function(){var p=new $F(f);p.render(c),Je(s,p)},function(){var p=new HF;p.render(c),Je(s,p)}))},xt.revertSecondFactorAddition=function(s,c,u){var f=null,p=null;Ge(s,st(s).checkActionCode(u).then(function(g){return f=g.data.email,p=g.data.multiFactorInfo,st(s).applyActionCode(u)}).then(function(){Iq(s,c,f,p)},function(){var g=new zF;g.render(c),Je(s,g)}))},xt.verifyAndChangeEmail=function(s,c,u,f){var p=null;Ge(s,st(s).checkActionCode(u).then(function(g){return p=g.data.email,st(s).applyActionCode(u)}).then(function(){var g=new GF(p,f);g.render(c),Je(s,g)},function(){var g=new qF;g.render(c),Je(s,g)}))};function c_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):fn&&!Xc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function wp(s,c,u,f,p,g){G.call(this,dF,{email:u},g,"emailLinkSignInConfirmation",{F:f,D:p}),this.l=s,this.u=c}l(wp,G),wp.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),c_(this.i(),(this.i().value||"").length),G.prototype.v.call(this)},wp.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Se(wp.prototype,{i:Bs,M:La,w:yd,H:_d,j:wd,U:Wn,P:Un,B:ri}),xt.emailLinkConfirmation=function(s,c,u,f,p,g){var _=new wp(function(){var x=_.j();x?(_.m(),f(s,c,x,u)):_.i().focus()},function(){_.m(),Bt(s,c,p||void 0)},p||void 0,xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),g&&_.a(g)};function bp(s,c,u,f,p){G.call(this,gF,{ga:s},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:f}),this.i=c}l(bp,G),bp.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},bp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(bp.prototype,{l:Wn,u:ri}),xt.emailLinkNewDeviceLinking=function(s,c,u,f){var p=new Qc(u);if(u=p.a.a.get(Ln.PROVIDER_ID)||null,wR(p,null),u){var g=new bp(ep(q(s),u),function(){g.m(),f(s,c,p.toString())},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function l_(s){G.call(this,cF,void 0,s,"blank")}l(l_,G);function jI(s,c,u,f,p){var g=new l_,_=new Qc(u),x=_.a.a.get(Ln.$a)||"",V=_.a.a.get(Ln.Sa)||"",Y=_.a.a.get(Ln.Qa)==="1",me=_R(_),kt=_.a.a.get(Ln.PROVIDER_ID)||null;_=_.a.a.get(Ln.vb)||null,b2(s,_);var uo=!td(ed,Me(s)),T2=f||G8(V,Me(s)),Np=(f=q8(V,Me(s)))&&f.a;kt&&Np&&Np.providerId!==kt&&(Np=null),g.render(c),Je(s,g),Ge(s,g.I(function(){var Rr=mn(null);Rr=me&&uo||uo&&Y?zu(Error("anonymous-user-not-found")):$q(s,u).then(function(QI){if(kt&&!Np)throw Error("pending-credential-not-found");return QI});var kp=null;return Rr.then(function(QI){return kp=QI,p?null:st(s).checkActionCode(x)}).then(function(){return kp})},[],function(Rr){T2?Tq(s,g,T2,u,Np,Rr):Y?(g.m(),pe("differentDeviceError",s,c)):(g.m(),pe("emailLinkConfirmation",s,c,u,l2))},function(Rr){var kp=void 0;if(!Rr||!Rr.name||Rr.name!="cancel")switch(g.m(),Rr&&Rr.message){case"anonymous-user-not-found":pe("differentDeviceError",s,c);break;case"anonymous-user-mismatch":pe("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":pe("emailLinkNewDeviceLinking",s,c,u,Sq);break;default:Rr&&(kp=Lt(Rr)),Bt(s,c,void 0,kp)}}))}function l2(s,c,u,f){jI(s,c,f,u,!0)}function Sq(s,c,u){jI(s,c,u)}function Tq(s,c,u,f,p,g){var _=on(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",bt("Signing in...").toString());var x=null;p=(g?Hq(s,g,u,f,p):Gq(s,u,f,p)).then(function(V){er(Jf,Me(s)),er(ed,Me(s)),c.h(),c.$("firebaseui-icon-done",bt("Signed in!").toString()),x=setTimeout(function(){c.h(),$s(s,c,V,!0)},1e3),Ge(s,function(){c&&(c.h(),c.m()),clearTimeout(x)})},function(V){if(c.h(),c.m(),!V.name||V.name!="cancel"){V=dp(V);var Y=Lt(V);V.code=="auth/email-already-in-use"||V.code=="auth/credential-already-in-use"?(er(Jf,Me(s)),er(ed,Me(s))):V.code=="auth/invalid-email"?(Y=bt("The email provided does not match the current sign-in session.").toString(),pe("emailLinkConfirmation",s,_,f,l2,null,Y)):Bt(s,_,u,Y)}}),Ge(s,p)}xt.emailLinkSignInCallback=jI;function Ep(s,c,u,f,p,g){G.call(this,mF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:f,D:p}),this.i=u}l(Ep,G),Ep.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Ep.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(Ep.prototype,{l:Wn,u:ri});function Dq(s,c,u,f){var p=on(c);FI(s,c,u,function(){Bt(s,p,u)},function(g){if(!g.name||g.name!="cancel"){var _=Lt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Bt(s,p,u,_))}},f)}xt.emailLinkSignInLinking=function(s,c,u){var f=jo(Me(s));if(Uo(Me(s)),f){var p=f.a.providerId,g=new Ep(u,ep(q(s),p),function(){Dq(s,g,u,f)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function Cp(s,c,u,f,p,g){G.call(this,lF,{email:s},g,"emailLinkSignInSent",{F:f,D:p}),this.u=c,this.i=u}l(Cp,G),Cp.prototype.v=function(){var s=this;un(this,this.l(),function(){s.i()}),un(this,mt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),G.prototype.v.call(this)},Cp.prototype.o=function(){this.i=this.u=null,G.prototype.o.call(this)},Se(Cp.prototype,{l:Un}),xt.emailLinkSignInSent=function(s,c,u,f,p){var g=new Cp(u,function(){g.m(),pe("emailNotReceived",s,c,u,f,p)},function(){g.m(),f()},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)};function Ip(s,c,u,f,p,g,_){G.call(this,RF,{jc:s,Qb:c},_,"emailMismatch",{F:p,D:g}),this.l=u,this.i=f}l(Ip,G),Ip.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},Ip.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(Ip.prototype,{u:Wn,B:Un,w:ri}),xt.emailMismatch=function(s,c,u){var f=jo(Me(s));if(f){var p=new Ip(u.user.email,f.g,function(){var g=p;Uo(Me(s)),$s(s,g,u)},function(){var g=u.credential.providerId,_=on(p);p.m(),f.a?pe("federatedLinking",s,_,f.g,g):pe("federatedSignIn",s,_,f.g,g)},xn(q(s)),Mn(q(s)));p.render(c),Je(s,p)}else Bt(s,c)};function bd(s,c,u,f,p){G.call(this,uF,void 0,p,"emailNotReceived",{F:u,D:f}),this.l=s,this.i=c}l(bd,G),bd.prototype.v=function(){var s=this;un(this,this.u(),function(){s.i()}),un(this,this.Da(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},bd.prototype.Da=function(){return mt(this,"firebaseui-id-resend-email-link")},bd.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Se(bd.prototype,{u:Un}),xt.emailNotReceived=function(s,c,u,f,p){var g=new bd(function(){FI(s,g,u,f,function(_){_=Lt(_),g.a(_)},p)},function(){g.m(),Bt(s,c,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)};function Ed(s,c,u,f,p,g){G.call(this,vF,{email:s,ga:c},g,"federatedLinking",{F:f,D:p}),this.i=u}l(Ed,G),Ed.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Ed.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(Ed.prototype,{l:Wn,u:ri}),xt.federatedLinking=function(s,c,u,f,p){var g=jo(Me(s));if(g&&g.a){var _=new Ed(u,ep(q(s),f),function(){hp(s,_,f,u)},xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),p&&_.a(p)}else Bt(s,c)},xt.federatedRedirect=function(s,c,u){var f=new l_;f.render(c),Je(s,f),c=rd(q(s))[0],hp(s,f,c,u)},xt.federatedSignIn=function(s,c,u,f,p){var g=new Ed(u,ep(q(s),f),function(){hp(s,g,f,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g),p&&g.a(p)};function Aq(s,c,u,f){var p=c.u();p?Ge(s,c.I(Ce(s.Xb,s),[u,p],function(g){return g=g.user.linkWithCredential(f).then(function(_){return $s(s,c,{user:_.user,credential:f,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),Ge(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":gn(c.i(),!1),ii(c.B(),Lt(g));break;case"auth/too-many-requests":c.a(Lt(g));break;default:pr("signInWithEmailAndPassword: "+g.message,void 0),c.a(Lt(g))}})):c.i().focus()}xt.passwordLinking=function(s,c,u){var f=jo(Me(s));Uo(Me(s));var p=f&&f.a;if(p){var g=new vd(u,function(){Aq(s,g,u,p)},function(){g.m(),pe("passwordRecovery",s,c,u)},xn(q(s)),Mn(q(s)));g.render(c),Je(s,g)}else Bt(s,c)};function Sp(s,c,u,f,p,g){G.call(this,rF,{email:u,Ta:!!c},g,"passwordRecovery",{F:f,D:p}),this.l=s,this.u=c}l(Sp,G),Sp.prototype.v=function(){this.B(),this.H(this.l,this.u),ni(this.i())||this.i().focus(),gd(this,this.i(),this.l),G.prototype.v.call(this)},Sp.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Se(Sp.prototype,{i:Bs,w:La,B:yd,M:_d,j:wd,U:Wn,P:Un,H:ri});function xq(s,c){var u=c.j();if(u){var f=on(c);Ge(s,c.I(Ce(st(s).sendPasswordResetEmail,st(s)),[u],function(){c.m();var p=new t_(u,function(){p.m(),Bt(s,f)},xn(q(s)),Mn(q(s)));p.render(f),Je(s,p)},function(p){gn(c.i(),!1),ii(c.w(),Lt(p))}))}else c.i().focus()}xt.passwordRecovery=function(s,c,u,f,p){var g=new Sp(function(){xq(s,g)},f?void 0:function(){g.m(),Bt(s,c)},u,xn(q(s)),Mn(q(s)));g.render(c),Je(s,g),p&&g.a(p)},xt.passwordSignIn=function(s,c,u,f){var p=new up(function(){yq(s,p)},function(){var g=p.M();p.m(),pe("passwordRecovery",s,c,g)},u,xn(q(s)),Mn(q(s)),f);p.render(c),Je(s,p)};function UI(){return mt(this,"firebaseui-id-name")}function BI(){return mt(this,"firebaseui-id-name-error")}function Tp(s,c,u,f,p,g,_,x,V){G.call(this,iF,{email:f,Tb:s,name:p,Ta:!!u,ia:!!x},V,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(Tp,G),Tp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(lp(this,this.i(),this.u()),lp(this,this.u(),this.l())):lp(this,this.i(),this.l()),this.w&&gd(this,this.l(),this.w),ni(this.i())?this.B&&!ni(this.u())?this.u().focus():this.l().focus():this.i().focus(),G.prototype.v.call(this)},Tp.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Se(Tp.prototype,{i:Bs,U:La,ea:yd,jb:_d,j:wd,u:UI,Bc:BI,Ja:function(){var s=UI.call(this),c=BI.call(this);hd(this,s,function(){fd(c)&&(gn(s,!0),gr(c))})},M:function(){var s=UI.call(this),c=BI.call(this),u=ni(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),gn(s,u),u?(gr(c),c=!0):(ii(c,bt("Enter your account name").toString()),c=!1),c?ei(ni(s)):null},l:vp,ba:a_,lb:s_,ua:s2,P:a2,Nb:Wn,Mb:Un,pa:ri});function Mq(s,c){var u=_k(q(s)),f=c.j(),p=null;u&&(p=c.M());var g=c.P();if(f){if(u)if(p)p=Or(p);else{c.u().focus();return}if(g){var _=ye.auth.EmailAuthProvider.credential(f,g);Ge(s,c.I(Ce(s.Yb,s),[f,g],function(x){var V={user:x.user,credential:_,operationType:x.operationType,additionalUserInfo:x.additionalUserInfo};return u?(x=x.user.updateProfile({displayName:p}).then(function(){return $s(s,c,V)}),Ge(s,x),x):$s(s,c,V)},function(x){if(!x.name||x.name!="cancel"){var V=dp(x);switch(x=Lt(V),V.code){case"auth/email-already-in-use":return Pq(s,c,f,V);case"auth/too-many-requests":x=bt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":gn(c.l(),!1),ii(c.ba(),x);break;case"auth/admin-restricted-operation":cl(q(s))?(x=on(c),c.m(),pe("handleUnauthorizedUser",s,x,f,ye.auth.EmailAuthProvider.PROVIDER_ID)):c.a(x);break;default:V="setAccountInfo: "+YN(V),pr(V,void 0),c.a(x)}}}))}else c.l().focus()}else c.i().focus()}function Pq(s,c,u,f){function p(){var _=Lt(f);gn(c.i(),!1),ii(c.U(),_),c.i().focus()}var g=st(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?p():(_=on(c),c.m(),pe("passwordRecovery",s,_,u,!1,qR().toString()))},function(){p()});return Ge(s,g),g}xt.passwordSignUp=function(s,c,u,f,p,g){function _(){x.m(),Bt(s,c)}var x=new Tp(_k(q(s)),function(){Mq(s,x)},p?void 0:_,u,f,xn(q(s)),Mn(q(s)),g);x.render(c),Je(s,x)};function $I(){return mt(this,"firebaseui-id-phone-confirmation-code")}function u2(){return mt(this,"firebaseui-id-phone-confirmation-code-error")}function d2(){return mt(this,"firebaseui-id-resend-countdown")}function Cd(s,c,u,f,p,g,_,x,V){G.call(this,FF,{phoneNumber:p},V,"phoneSignInFinish",{F:_,D:x}),this.jb=g,this.i=new Wy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=f}l(Cd,G),Cd.prototype.v=function(){var s=this;this.U(this.jb),so(this.i,"tick",this.w,!1,this),this.i.start(),un(this,mt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),un(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),G.prototype.v.call(this)},Cd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Ky(this.i),nl(this.i,"tick",this.w),this.i=null,G.prototype.o.call(this)},Cd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ky(this.i),nl(this.i,"tick",this.w),this.ua(),this.lb())},Se(Cd.prototype,{u:$I,pa:u2,Ja:function(s){var c=$I.call(this),u=u2.call(this);hd(this,c,function(){fd(u)&&(gn(c,!0),gr(u))}),s&&cp(this,c,function(){s()})},ba:function(){var s=ei(ni($I.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:d2,U:function(s){MC(d2.call(this),bt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){gr(this.Fb())},Da:function(){return mt(this,"firebaseui-id-resend-link")},lb:function(){ii(this.Da())},Nb:Wn,Mb:Un,ea:ri});function Oq(s,c,u,f){function p(_){c.u().focus(),gn(c.u(),!1),ii(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",bt("Verifying...").toString()),Ge(s,c.I(Ce(f.confirm,f),[g],function(_){c.h(),c.$("firebaseui-icon-done",bt("Verified!").toString());var x=setTimeout(function(){c.h(),c.m();var V={user:co(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};$s(s,c,V,!0)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(x)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var x=dp(_);switch(_=Lt(x),x.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":x=on(c),c.h(),c.m(),pe("phoneSignInStart",s,x,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),p(_);break;default:c.h(),c.a(_)}}}))):p(bt("Wrong code. Try again.").toString())}xt.phoneSignInFinish=function(s,c,u,f,p,g){var _=new Cd(function(){_.m(),pe("phoneSignInStart",s,c,u)},function(){Oq(s,_,u,p)},function(){_.m(),Bt(s,c)},function(){_.m(),pe("phoneSignInStart",s,c,u)},yI(u),f,xn(q(s)),Mn(q(s)));_.render(c),Je(s,_),g&&_.a(g)};var Rq=!fn&&!(ot("Safari")&&!(CR()||ot("Coast")||ot("Opera")||ot("Edge")||ot("Firefox")||ot("FxiOS")||ot("Silk")||ot("Android")));function u_(s,c){return/-[a-z]/.test(c)?null:Rq&&s.dataset?!ot("Android")||CR()||ot("Firefox")||ot("FxiOS")||ot("Opera")||ot("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function Nq(s,c,u){var f=this;s=Vf(Yk,{items:s},null,this.s),Xk.call(this,s,!0,!0),u&&(u=kq(s,u))&&(u.focus(),cq(u,s)),un(this,s,function(p){(p=(p=VR(p.target,"firebaseui-id-list-box-dialog-button"))&&u_(p,"listboxid"))&&(Jy.call(f),c(p))})}function kq(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(u_(s[u],"listboxid")===c)return s[u];return null}function ul(){return mt(this,"firebaseui-id-phone-number")}function h2(){return mt(this,"firebaseui-id-country-selector")}function HI(){return mt(this,"firebaseui-id-phone-number-error")}function Fq(s,c){var u=s.a,f=GI("1-US-0",u),p=null;if(c&&GI(c,u)?p=c:f?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");d_.call(this,p,s)}function GI(s,c){return s=al(s),!(!s||!ct(c,s))}function Lq(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+qI(c),label:c.name+" "+("\u200E+"+c.b)}})}function qI(s){return"firebaseui-flag-"+s.f}function Vq(s){var c=this;Nq.call(this,Lq(s.a),function(u){d_.call(c,u,s,!0),c.O().focus()},this.Ba)}function d_(s,c,u){var f=al(s);f&&(u&&(u=ei(ni(ul.call(this))||""),c=$y(c,u),c.length&&c[0].b!=f.b&&(u="+"+f.b+u.substr(c[0].b.length+1),Sk(ul.call(this),u))),c=al(this.Ba),this.Ba=s,s=mt(this,"firebaseui-id-country-selector-flag"),c&&$o(s,qI(c)),Bo(s,qI(f)),MC(mt(this,"firebaseui-id-country-selector-code"),"\u200E+"+f.b))}function Dp(s,c,u,f,p,g,_,x,V,Y){G.call(this,kF,{Gb:c,Aa:V||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:f,D:p}),this.H=x||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(Dp,G),Dp.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||lp(this,this.O(),this.i()),gd(this,this.i(),this.l),this.O().focus(),c_(this.O(),(this.O().value||"").length),G.prototype.v.call(this)},Dp.prototype.o=function(){this.w=this.l=null,G.prototype.o.call(this)},Se(Dp.prototype,{Cb:NI,O:ul,B:HI,ea:function(s,c,u){var f=this,p=ul.call(this),g=h2.call(this),_=HI.call(this),x=s||Zf,V=x.a;if(V.length==0)throw Error("No available countries provided.");Fq.call(f,x,c),un(this,g,function(){Vq.call(f,x)}),hd(this,p,function(){fd(_)&&(gn(p,!0),gr(_));var Y=ei(ni(p)||""),me=al(this.Ba),kt=$y(x,Y);Y=GI("1-US-0",V),kt.length&&kt[0].b!=me.b&&(me=kt[0],d_.call(f,me.b=="1"&&Y?"1-US-0":me.c,x))}),u&&cp(this,p,function(){u()})},U:function(s){var c=ei(ni(ul.call(this))||"");s=s||Zf;var u=s.a,f=$y(Zf,c);if(f.length&&!ct(u,f[0]))throw Sk(ul.call(this)),ul.call(this).focus(),ii(HI.call(this),bt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=al(this.Ba),f.length&&f[0].b!=u.b&&d_.call(this,f[0].c,s),f.length&&(c=c.substr(f[0].b.length+1)),c?new lk(this.Ba,c):null},Ja:h2,ba:function(){return mt(this,"firebaseui-recaptcha-container")},u:function(){return mt(this,"firebaseui-id-recaptcha-error")},i:Wn,ua:Un,P:ri});function f2(s,c,u,f){try{var p=c.U(TI)}catch{return}p?np?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",bt("Verifying...").toString()),Ge(s,c.I(Ce(s.cc,s),[yI(p),u],function(g){var _=on(c);c.$("firebaseui-icon-done",bt("Code sent!").toString());var x=setTimeout(function(){c.h(),c.m(),pe("phoneSignInFinish",s,_,p,15,g)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(x)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(Ck),np=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=bt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),ii(c.B(),NC().toString());return;case"auth/admin-restricted-operation":if(cl(q(s))){g=on(c),c.m(),pe("handleUnauthorizedUser",s,g,yI(p),ye.auth.PhoneAuthProvider.PROVIDER_ID);return}_=Lt(g);break;default:_=Lt(g)}c.a(_)}}))):sd?ii(c.u(),bt("Solve the reCAPTCHA").toString()):!sd&&f&&c.i().click():(c.O().focus(),ii(c.B(),NC().toString()))}xt.phoneSignInStart=function(s,c,u,f){var p=K8(q(s))||{};np=null,sd=!(p&&p.size==="invisible");var g=e2(s),_=eq(q(s)),x=g?Z8(q(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||x,(x=_I(q(s)))&&ck(x),TI=x?new ok(_I(q(s))):Zf;var V=new Dp(function(me){f2(s,V,Y,!(!me||!me.keyCode))},sd,g?null:function(){Y.clear(),V.m(),Bt(s,c)},xn(q(s)),Mn(q(s)),g,TI,_,u);V.render(c),Je(s,V),f&&V.a(f),p.callback=function(me){V.u()&&gr(V.u()),np=me,sd||f2(s,V,Y)},p["expired-callback"]=function(){np=null};var Y=new ye.auth.RecaptchaVerifier(sd?V.ba():V.i(),p,co(s).app);Ge(s,V.I(Ce(Y.render,Y),[],function(me){Ck=me},function(me){me.name&&me.name=="cancel"||(me=Lt(me),V.m(),Bt(s,c,void 0,me))}))},xt.prefilledEmailSignIn=function(s,c,u){var f=new l_;f.render(c),Je(s,f),Ge(s,f.I(Ce(st(s).fetchSignInMethodsForEmail,st(s)),[u],function(p){f.m();var g=!(!i_(s)||!g2(s));n2(s,c,p,u,void 0,g)},function(p){p=Lt(p),f.m(),pe("signIn",s,c,u,p)}))};function Ap(s,c,u,f,p){G.call(this,NF,{Sb:c},p,"providerSignIn",{F:u,D:f}),this.i=s}l(Ap,G),Ap.prototype.v=function(){this.l(this.i),G.prototype.v.call(this)},Ap.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(Ap.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?AC("firebaseui-id-idp-button",this.g||this.s.a):[],f=0;f<u.length;f++){var p=u[f],g=u_(p,"providerId");un(this,p,$e(c,g))}}}),xt.providerSignIn=function(s,c,u,f){var p=new Ap(function(g){g==ye.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),LI(s,c,f)):g==ye.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),pe("phoneSignInStart",s,c)):g=="anonymous"?gq(s,p):hp(s,p,g,f),gt(s),s.l.cancel()},fk(q(s)),xn(q(s)),Mn(q(s)));p.render(c),Je(s,p),u&&p.a(u),Bq(s)},xt.sendEmailLinkForSignIn=function(s,c,u,f){var p=new r_;p.render(c),Je(s,p),FI(s,p,u,f,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&cl(q(s))?pe("handleUnauthorizedUser",s,c,u,ye.auth.EmailAuthProvider.PROVIDER_ID):(g=Lt(g),pe("signIn",s,c,u,g))})};function xp(s,c,u,f,p,g,_){G.call(this,tF,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:f,D:p}),this.i=s,this.u=c}l(xp,G),xp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),c_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},xp.prototype.o=function(){this.u=this.i=null,G.prototype.o.call(this)},Se(xp.prototype,{l:Bs,M:La,w:yd,H:_d,j:wd,U:Wn,P:Un,B:ri}),xt.signIn=function(s,c,u,f){var p=i_(s),g=new xp(function(){var _=g,x=_.j()||"";x&&t2(s,_,x)},p?null:function(){g.m(),Bt(s,c,u)},u,xn(q(s)),Mn(q(s)),p);g.render(c),Je(s,g),f&&g.a(f)};function Mp(s,c,u,f,p,g,_){G.call(this,yF,{kc:s,yb:u,Eb:!!f},_,"unauthorizedUser",{F:p,D:g}),this.l=c,this.i=f}l(Mp,G),Mp.prototype.v=function(){var s=this,c=mt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&un(this,c,function(){s.i()}),un(this,this.u(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},Mp.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Se(Mp.prototype,{u:Un}),xt.handleUnauthorizedUser=function(s,c,u,f){function p(){Bt(s,c)}f===ye.auth.EmailAuthProvider.PROVIDER_ID?p=function(){LI(s,c)}:f===ye.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){pe("phoneSignInStart",s,c)});var g=null,_=null;f===ye.auth.EmailAuthProvider.PROVIDER_ID&&mk(q(s))?(g=X8(q(s)),_=J8(q(s))):cl(q(s))&&(g=Y8(q(s)),_=Q8(q(s)));var x=new Mp(u,function(){x.m(),p()},g,_,xn(q(s)),Mn(q(s)));x.render(c),Je(s,x)};function Pp(s,c,u,f,p,g){G.call(this,_F,{email:s},g,"unsupportedProvider",{F:f,D:p}),this.l=c,this.i=u}l(Pp,G),Pp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},Pp.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Se(Pp.prototype,{u:Wn,B:Un,w:ri}),xt.unsupportedProvider=function(s,c,u){var f=new Pp(u,function(){f.m(),pe("passwordRecovery",s,c,u)},function(){f.m(),Bt(s,c,u)},xn(q(s)),Mn(q(s)));f.render(c),Je(s,f)};function Ho(s,c){this.$=!1;var u=zI(c);if(Op[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Op[u]=this,this.a=s,this.u=null,this.Y=!1,p2(this.a),this.h=ye.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),p2(this.h),this.h.setPersistence&&this.h.setPersistence(ye.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new W8,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=XC.Xa(),this.j=this.C=null,this.da=this.A=!1}function p2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Op={};function zI(s){return s||"[DEFAULT]"}function m2(s){return gt(s),s.i||(s.i=Hs(s,function(c){return c&&!jo(Me(s))?mn(co(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return ja(s,u)})):mn(st(s).getRedirectResult().then(function(u){return Hy(q(s))&&!u.user&&s.j&&!s.j.isAnonymous?co(s).getRedirectResult():u}))})),s.i}function Je(s,c){gt(s),s.g=c}var Id=null;function st(s){return gt(s),s.h}function co(s){return gt(s),s.a}function Me(s){return gt(s),s.oa}function g2(s){return gt(s),s.O?s.O.emailHint:void 0}t=Ho.prototype,t.nb=function(){return gt(this),!!fI(Me(this))||v2(Us())};function v2(s){return s=new Qc(s),(s.a.a.get(Ln.ub)||null)==="signIn"&&!!s.a.a.get(Ln.$a)}t.start=function(s,c){y2(this,s,c)};function y2(s,c,u,f){gt(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var p="en".replace(/_/g,"-");s.a.languageCode=p,s.h.languageCode=p,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=f||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?h_(s,c):Hf(window,"load",function(){h_(s,c)})}):g.readyState=="complete"?h_(s,c):Hf(window,"load",function(){h_(s,c)})}function h_(s,c){var u=by(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Id){var f=Id;gt(f),jo(Me(f))&&ka("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Id.reset()}if(Id=s,s.T=u,Uq(s,u),By(new lI)&&By(new uI)){c=by(c,"Could not find the FirebaseUI widget element on the page."),u=Us(),f=gI(q(s).a,"queryParameterForSignInSuccessUrl"),u=(u=ro(u,f))?Aa(ay(u)).toString():null;e:{f=Us();var p=yk(q(s));f=ro(f,p)||"";for(g in SI)if(SI[g].toLowerCase()==f.toLowerCase()){var g=SI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Me(s),nd(Xf,u,g)),s.nb()?pe("callback",s,c):Bt(s,c,g2(s));break;case"resetPassword":pe("passwordReset",s,c,fp(),VI());break;case"recoverEmail":pe("emailChangeRevocation",s,c,fp());break;case"revertSecondFactorAddition":pe("revertSecondFactorAddition",s,c,fp());break;case"verifyEmail":pe("emailVerification",s,c,fp(),VI());break;case"verifyAndChangeEmail":pe("verifyAndChangeEmail",s,c,fp(),VI());break;case"signIn":pe("emailLinkSignInCallback",s,c,Us()),E2();break;case"select":u&&(g=Me(s),nd(Xf,u,g)),Bt(s,c);break;default:throw Error("Unhandled widget operation.")}c=q(s),(c=tp(c).uiShown||null)&&c()}else c=by(c,"Could not find the FirebaseUI widget element on the page."),g=new JF(bt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),Je(s,g);c=s.g&&s.g.Ga=="blank"&&wI(q(s)),fI(Me(s))&&!c&&(c=fI(Me(s)),b2(s,c.a),er(sl,Me(s)))}function Hs(s,c){if(s.A)return c(_2(s));if(Ge(s,function(){s.A=!1}),Hy(q(s))){var u=new jn(function(f){Ge(s,s.a.onAuthStateChanged(function(p){s.j=p,s.A||(s.A=!0,f(c(_2(s))))}))});return Ge(s,u),u}return s.A=!0,c(null)}function _2(s){return gt(s),Hy(q(s))&&s.j&&s.j.isAnonymous?s.j:null}function Ge(s,c){if(gt(s),c){s.s.push(c);var u=function(){Pr(s.s,function(f){return f==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){gt(this),this.Z=!0};function jq(s){gt(s);var c;return(c=s.Z)||(s=q(s),s=vk(s,ye.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function w2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function b2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){gt(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&_8(this.J),w2(this),this.O=null,E2(),er(sl,Me(this)),gt(this),this.l.cancel(),this.i=mn({user:null,credential:null}),Id==this&&(Id=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Uo(Me(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Va(this).then(function(){s.C=null},function(){s.C=null}))};function Uq(s,c){s.L=null,s.J=new _y(c),s.J.register(),so(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var f=q(s);(f=tp(f).uiChanged||null)&&f(s.L,u),s.L=u}})}t.ib=function(s){gt(this);var c=this.ca,u;for(u in s)try{mI(c.a,u,s[u])}catch{pr('Invalid config: "'+u+'"',void 0)}BG&&mI(c.a,"popupMode",!1),_I(c),!this.da&&bI(q(this))&&(ka("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function q(s){return gt(s),s.ca}t.Wb=function(){gt(this);var s=q(this),c=gI(s.a,"widgetUrl");s=yk(s);for(var u=c.search(Li),f=0,p,g=[];0<=(p=ti(c,f,s,u));)g.push(c.substring(f,p)),f=Math.min(c.indexOf("&",p)+1||u,u);g.push(c.substr(f)),c=g.join("").replace(oy,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),f=c.indexOf("?"),0>f||f>u?(f=u,p=""):p=c.substring(f+1,u),c=[c.substr(0,f),p,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,q(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=_N(u,s))&&s.focus()):qu(window.location,u)};function gt(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return gt(this),this.h.app.delete().then(function(){var c=zI(Me(s));delete Op[c],s.reset(),s.$=!0})};function Bq(s){gt(s);try{SN(s.l,pk(q(s)),jq(s)).then(function(c){return s.g?vq(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){gt(this);var u=this,f=T8();if(!od(q(this)))return zu(Error("Email link sign-in should be enabled to trigger email sending."));var p=nq(q(this)),g=new Qc(p.url);return LG(g,f),c&&c.a&&(z8(f,c,Me(this)),wR(g,c.a.providerId)),VG(g,tq(q(this))),Hs(this,function(_){return _&&((_=_.uid)?g.a.a.set(Ln.Pa,_):Yc(g.a.a,Ln.Pa)),p.url=g.toString(),st(u).sendSignInLinkToEmail(s,p)}).then(function(){var _=Me(u),x={};x.email=s,nd(ed,zN(f,JSON.stringify(x)),_)},function(_){throw er(Jf,Me(u)),er(ed,Me(u)),_})};function $q(s,c){var u=_R(new Qc(c));return u?(c=new jn(function(f,p){var g=co(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?f(_):_&&_.isAnonymous&&_.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Ge(s,g)}),Ge(s,c),c):mn(null)}function Hq(s,c,u,f,p){gt(s);var g=p||null,_=ye.auth.EmailAuthProvider.credentialWithLink(u,f);return u=g?st(s).signInWithEmailLink(u,f).then(function(x){return x.user.linkWithCredential(g)}).then(function(){return Va(s)}).then(function(){return ja(s,{code:"auth/email-already-in-use"},g)}):st(s).fetchSignInMethodsForEmail(u).then(function(x){return x.length?ja(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),Ge(s,u),u}function Gq(s,c,u,f){gt(s);var p=f||null,g;return c=st(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},p)return _.user.linkWithCredential(p).then(function(x){g={user:x.user,credential:p,operationType:g.operationType,additionalUserInfo:x.additionalUserInfo}})}).then(function(){Va(s)}).then(function(){return co(s).updateCurrentUser(g.user)}).then(function(){return g.user=co(s).currentUser,g}),Ge(s,c),c}function E2(){var s=Us();if(v2(s)){s=new Qc(s);for(var c in Ln)Ln.hasOwnProperty(c)&&Yc(s.a.a,Ln[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){gt(this);var u=this;return st(this).signInWithEmailAndPassword(s,c).then(function(f){return Hs(u,function(p){return p?Va(u).then(function(){return ja(u,{code:"auth/email-already-in-use"},ye.auth.EmailAuthProvider.credential(s,c))}):f})})},t.Yb=function(s,c){gt(this);var u=this;return Hs(this,function(f){if(f){var p=ye.auth.EmailAuthProvider.credential(s,c);return f.linkWithCredential(p)}return st(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){gt(this);var c=this;return Hs(this,function(u){return u?u.linkWithCredential(s).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return ja(c,f,s)}):st(c).signInWithCredential(s)})};function qq(s,c){return gt(s),Hs(s,function(u){return u&&!jo(Me(s))?u.linkWithPopup(c).then(function(f){return f},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return ja(s,f)}):st(s).signInWithPopup(c)})}t.dc=function(s){gt(this);var c=this,u=this.i;return this.i=null,Hs(this,function(f){return f&&!jo(Me(c))?f.linkWithRedirect(s):st(c).signInWithRedirect(s)}).then(function(){},function(f){throw c.i=u,f})},t.cc=function(s,c){gt(this);var u=this;return Hs(this,function(f){return f?f.linkWithPhoneNumber(s,c).then(function(p){return new ZC(p,function(g){if(g.code=="auth/credential-already-in-use")return ja(u,g);throw g})}):co(u).signInWithPhoneNumber(s,c).then(function(p){return new ZC(p)})})},t.$b=function(){return gt(this),co(this).signInAnonymously()};function zq(s,c){return gt(s),Hs(s,function(u){if(s.j&&!s.j.isAnonymous&&Hy(q(s))&&!st(s).currentUser)return Va(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return Va(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(f){return c.user=f.user,c.credential=f.credential,c.operationType=f.operationType,c.additionalUserInfo=f.additionalUserInfo,c},function(f){if(f&&f.code=="auth/email-already-in-use"&&f.email&&f.credential)throw f;return ja(s,f,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Va(s).then(function(){return co(s).updateCurrentUser(c.user)}).then(function(){return c.user=co(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return gt(this),st(this).signInWithEmailAndPassword(s,c)};function Va(s){return gt(s),st(s).signOut()}function ja(s,c,u){if(gt(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var f=Ek(q(s));return mn().then(function(){return f(new jf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return zu(c)}function Rp(s,c,u,f){G.call(this,jF,void 0,f,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Rp,G),Rp.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),c_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},Rp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Se(Rp.prototype,{l:Bs,H:La,u:yd,B:_d,j:wd,M:Wn,w:ri});function f_(s,c,u,f,p){G.call(this,VF,{ec:c},p,"selectTenant",{F:u,D:f}),this.i=s}l(f_,G),f_.prototype.v=function(){Wq(this,this.i),G.prototype.v.call(this)},f_.prototype.o=function(){this.i=null,G.prototype.o.call(this)};function Wq(s,c){function u(x){c(x)}for(var f=s.g?AC("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],p=0;p<f.length;p++){var g=f[p],_=u_(g,"tenantId");un(s,g,$e(u,_))}}function WI(s){G.call(this,aF,void 0,s,"spinner")}l(WI,G);function Kq(s){this.a=new pI,An(this.a,"authDomain"),An(this.a,"displayMode",m_),An(this.a,"tenants"),An(this.a,"callbacks"),An(this.a,"tosUrl"),An(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{mI(this.a,c,s[c])}catch{pr('Invalid config: "'+c+'"',void 0)}}function Yq(s){s=s.a.get("displayMode");for(var c in YI)if(YI[c]===s)return YI[c];return m_}function p_(s){return s.a.get("callbacks")||{}}function C2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&ka("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Ku(c)}}return null}function I2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&ka("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Ku(u)}}return null}function KI(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(g_))throw Error("Invalid tenant configuration!")}function S2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var f=[];if(s=s[c]||s[g_],!s)return pr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),f;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(p){if(typeof p=="string")f.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&f.push(p.provider):f.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),pr(p,void 0)}),f}function Qq(s,c,u){return s=Xq(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(f){return typeof f=="string"?u.includes(f):u.includes(f.provider)}),s.signInOptions=c),s}function Xq(s,c){var u=Jq,f=f===void 0?{}:f;return KI(s,c),s=s.a.get("tenants"),D8(s[c]||s[g_],u,f)}var Jq=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],m_="optionFirst",YI={pc:m_,oc:"identifierFirst"},g_="*";function lo(s,c){var u=this;this.s=by(s),this.a={},Object.keys(c).forEach(function(f){u.a[f]=new Kq(c[f])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(f){this.ob=f||null},enumerable:!1})}t=lo.prototype,t.Ub=function(s,c){var u=this;Ua(this);var f=s.apiKey;return new jn(function(p,g){if(u.a.hasOwnProperty(f)){var _=p_(u.a[f]).selectTenantUiHidden||null;if(Yq(u.a[f])===m_){var x=[];c.forEach(function(me){me=me||"_";var kt=u.a[f].a.get("tenants");if(!kt)throw Error("Invalid tenant configuration!");(kt=kt[me]||kt[g_])?me={tenantId:me!=="_"?me:null,V:kt.fullLabel||null,displayName:kt.displayName,za:kt.iconUrl,ta:kt.buttonColor}:(pr("Invalid tenant configuration: "+(me+" is not configured!"),void 0),me=null),me&&x.push(me)});var V=function(me){me={tenantId:me,providerIds:S2(u.a[f],me||"_")},p(me)};if(x.length===1){V(x[0].tenantId);return}u.g=new f_(function(me){Ua(u),_&&_(),V(me)},x,C2(u.a[f]),I2(u.a[f]))}else u.g=new Rp(function(){var me=u.g.j();if(me){for(var kt=0;kt<c.length;kt++){var uo=S2(u.a[f],c[kt]||"_",me);if(uo.length!==0){me={tenantId:c[kt],providerIds:uo,email:me},Ua(u),_&&_(),p(me);return}}u.g.a(zR({code:"no-matching-tenant-for-email"}).toString())}},C2(u.a[f]),I2(u.a[f]));u.g.render(u.s),(g=p_(u.a[f]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;KI(this.a[s],c||"_");try{this.i=ye.app(u).auth()}catch{var f=this.a[s].a.get("authDomain");if(!f)throw Error("Invalid project configuration: authDomain is required!");s=ye.initializeApp({apiKey:s,authDomain:f},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new jn(function(f,p){function g(kt,uo){u.j=new Ho(s),y2(u.j,u.s,kt,uo)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||p(Error("Invalid project configuration: API key is invalid!"));var x=Qq(u.a[_],s.tenantId||"_",c&&c.providerIds);Ua(u),p={signInSuccessWithAuthResult:function(kt){return f(kt),!1}};var V=p_(u.a[_]).signInUiShown||null,Y=!1;p.uiChanged=function(kt,uo){kt===null&&uo==="callback"?((kt=xC("firebaseui-id-page-callback",u.s))&&gr(kt),u.h=new WI,u.h.render(u.s)):Y||kt===null&&uo==="spinner"||uo==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,V&&V(s.tenantId))},x.callbacks=p,x.credentialHelper="none";var me;c&&c.email&&(me={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(x,me)}):g(x,me)})},t.reset=function(){var s=this;return mn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,Ua(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){Ua(s),s.h=new WI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ua(this),this.g=new WF,this.g.render(this.s),mn()};function Ua(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=zR({code:s.code}).toString()||s.message;Ua(this);var f;s.retry&&typeof s.retry=="function"&&(f=function(){c.reset(),s.retry()}),this.g=new XF(u,f),this.g.render(this.s)},t.Rb=function(s){var c=this;return mn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(KI(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=p_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},We("firebaseui.auth.FirebaseUiHandler",lo),We("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",lo.prototype.Ub),We("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",lo.prototype.Pb),We("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",lo.prototype.Zb),We("firebaseui.auth.FirebaseUiHandler.prototype.reset",lo.prototype.reset),We("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",lo.prototype.Vb),We("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",lo.prototype.mb),We("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",lo.prototype.Bb),We("firebaseui.auth.FirebaseUiHandler.prototype.handleError",lo.prototype.pb),We("firebaseui.auth.FirebaseUiHandler.prototype.processUser",lo.prototype.Rb),We("firebaseui.auth.AuthUI",Ho),We("firebaseui.auth.AuthUI.getInstance",function(s){return s=zI(s),Op[s]?Op[s]:null}),We("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Ho.prototype.Db),We("firebaseui.auth.AuthUI.prototype.start",Ho.prototype.start),We("firebaseui.auth.AuthUI.prototype.setConfig",Ho.prototype.ib),We("firebaseui.auth.AuthUI.prototype.signIn",Ho.prototype.Wb),We("firebaseui.auth.AuthUI.prototype.reset",Ho.prototype.reset),We("firebaseui.auth.AuthUI.prototype.delete",Ho.prototype.Wa),We("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Ho.prototype.nb),We("firebaseui.auth.AuthUIError",jf),We("firebaseui.auth.AuthUIError.prototype.toJSON",jf.prototype.toJSON),We("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",EI),We("firebaseui.auth.CredentialHelper.NONE",qy),We("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),jn.prototype.catch=jn.prototype.Ca,jn.prototype.finally=jn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=aG.default);var fR=firebaseui.auth;var fC=(()=>{let e=class e{constructor(i){this.auth=i,this.auth.setPersistence(ds)}logout(){localStorage.removeItem("firebase-user"),this.auth.signOut()}createButton(i,r,o,a){(fR.AuthUI.getInstance()||new fR.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(o&&o(l),localStorage.setItem("firebase-user",l.user.uid),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Kl.PROVIDER_ID]})}hasLocalStorageEntry(){return localStorage.getItem("firebase-user")!=null}awaitUser(){return E(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}getUser(){return this.auth.currentUser}};e.\u0275fac=function(r){return new(r||e)(re(Jl))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function che(t,e){if(t&1){let n=le();ut(0),I(1,"div",7)(2,"span",8),R("click",function(){F(n);let r=M();return L(r.authService.logout())}),$(3,"Odhl\xE1si\u0165 sa"),S(),I(4,"span",9),$(5),S()(),I(6,"div",10)(7,"span",11),R("click",function(){F(n);let r=M();return L(r.authService.logout())}),$(8,"Odhl\xE1si\u0165 sa"),S()(),dt()}if(t&2){let n=M();D(),O("@fade",void 0),D(4),_e(n.authService.getUser().displayName),D(),O("@fade",void 0)}}var lhe=()=>["./hlasovanie"],lG=(()=>{let e=class e{constructor(i,r){this.route=i,this.authService=r}ngOnInit(){this.route.params.subscribe(i=>this.id=i.id)}};e.\u0275fac=function(r){return new(r||e)(N(Ei),N(fC))},e.\u0275cmp=fe({type:e,selectors:[["app-event-manager"]],standalone:!0,features:[Ee],decls:9,vars:3,consts:[[1,"header"],[1,"header-left"],[1,"header-item"],[3,"routerLink"],[1,"header-right"],[4,"ngIf"],[1,"content"],["largescreen","",1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"],["smallscreen","",1,"header-item"],[3,"click"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),$(4,"Hlasovanie"),S()()(),I(5,"div",4),z(6,che,9,3,"ng-container",5),S()(),I(7,"div",6),oe(8,"router-outlet"),S()),r&2&&(D(3),O("routerLink",ah(2,lhe)),D(3),O("ngIf",o.authService.getUser()))},dependencies:[Te,St,Tt,HE,Nv,$H,HH],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.67rem;border-bottom:1px solid var(--color-border);padding:0 1.67rem;box-sizing:border-box;background-color:var(--color-background);z-index:1;justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.67rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[Jr]}});let t=e;return t})();var uG={id:"2024-splav",title:"Splav 2024",questions:[{id:"pocetdni",title:"Na ako dlho chce\u0161 \xEDs\u0165?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"pocetdni4",text:"3 noci",description:"Streda v noci pr\xEDdeme, \u0160tvrtok r\xE1no \u0161tart a v Nede\u013Eu ve\u010Der sme doma."},{id:"pocetdni4aleposlednydennesplavovat",text:"3 noci",description:"...ale v Nede\u013Eu u\u017E nesplavova\u0165, r\xE1no hne\u010F domov."},{id:"pocetdni3",text:"2 noci",description:"\u0160tvrtok v noci pr\xEDdeme, Piatok r\xE1no \u0161tart a v Nede\u013Eu ve\u010Der sme doma."}]},{id:"termin",title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161 \xEDs\u0165?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var Mf=[uG];var pC=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return E(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield G$($$(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){let a=z$(QM(this.firestore,i,r),o);return a.then(()=>this.cache[i]?.push(o)),a}delete(i,r){return H$(QM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(re(mu))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uhe(t,e){if(t&1&&(ut(0),oe(1,"div",17),I(2,"span",18),$(3),S(),dt()),t&2){let n=M(3).$implicit;D(3),_e(n.description)}}function dhe(t,e){if(t&1&&(ut(0),I(1,"div",11)(2,"div",12)(3,"span",13),$(4),S(),z(5,uhe,4,1,"ng-container",9),S(),I(6,"div",14)(7,"span"),$(8),S(),I(9,"span"),$(10),S()()(),I(11,"div",15),oe(12,"div",16),S(),dt()),t&2){let n=e.ngVar,i=M(2).$implicit;D(4),_e(i.text),D(),O("ngIf",i.description),D(3),am("",n,"%"),D(2),am("(",i.count,")"),D(2),jr("width",n,"%")}}function hhe(t,e){if(t&1&&(ut(0),z(1,dhe,13,6,"ng-container",10),dt()),t&2){let n=M().$implicit,i=M(2).$implicit;D(),O("ngVar",n.count/(i.votes||1)*100)}}function fhe(t,e){if(t&1&&(I(0,"div",8),z(1,hhe,2,1,"ng-container",9),S()),t&2){let n=e.$implicit;D(),O("ngIf",n.id!="dontcare")}}function phe(t,e){if(t&1&&(I(0,"div",6),z(1,fhe,2,1,"div",7),S()),t&2){let n=M().$implicit;O("@drawer",void 0),D(),O("ngForOf",n.options)}}function mhe(t,e){if(t&1){let n=le();I(0,"div",3),R("click",function(){let o=F(n).$implicit,a=M(2);return L(a.open(o))}),I(1,"span",4),$(2),S(),z(3,phe,2,2,"div",5),S()}if(t&2){let n=e.$implicit;it("closed",!n.open),D(2),_e(n.title),D(),O("ngIf",n.open)}}function ghe(t,e){if(t&1&&(I(0,"div",1),z(1,mhe,4,4,"div",2),S()),t&2){let n=M();O("@fade",void 0),D(),O("ngForOf",n.statistics)}}var hG=(()=>{let e=class e{constructor(i,r){this.route=i,this.firestoreService=r,this.crossfade=!0}ngOnInit(){this.route.params.subscribe(i=>{this.event=Mf.find(r=>r.id==i.id),this.requestResults()})}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id].includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,count:i.filter(a=>!a.choices[r.id].includes("dontcare")&&a.choices[r.id].includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}};e.\u0275fac=function(r){return new(r||e)(N(Ei),N(pC))},e.\u0275cmp=fe({type:e,selectors:[["app-survey-results"]],hostVars:1,hostBindings:function(r,o){r&2&&ta("@crossfade",o.crossfade)},standalone:!0,features:[Ee],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],["class","result-options",4,"ngIf"],[1,"result-options"],["class","result-option",4,"ngFor","ngForOf"],[1,"result-option"],[4,"ngIf"],[4,"ngVar"],[1,"result-header"],[1,"choice-labels"],[1,"choice-text"],[1,"result-statistics"],[1,"progress-container"],[1,"progress"],[1,"v-separator"],[1,"choice-description"]],template:function(r,o){r&1&&z(0,ghe,2,2,"div",0),r&2&&O("ngIf",o.statistics)},dependencies:[Te,It,St,Tt,jc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.668rem 0;top:0;bottom:0}@media screen and (max-width: 600px){[_nghost-%COMP%]{width:calc(100% - 1.336rem);padding:.668rem}}@media screen and (min-width: 600px){[_nghost-%COMP%]{width:48rem;padding:.668rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.668rem;width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:36px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.334rem;display:flex;flex-direction:column;background-color:#ffffff0d;padding:.668rem;gap:.334rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.334rem;width:100%;overflow:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.167rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{width:100%;display:flex;gap:.668rem;justify-content:space-between}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.334rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text.has-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-statistics[_ngcontent-%COMP%]{display:flex;gap:.334rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{width:100%;border-radius:.334rem;background-color:var(--color-hover);border:1px solid var(--color-border);box-sizing:border-box}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{min-height:.334rem;background-color:var(--color-primary);border-radius:.334rem;box-sizing:border-box}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   .result-option[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{width:100%;height:18px}"],data:{animation:[Sf,kc,Fc,Jr,If]}});let t=e;return t})();var fG=(()=>{let e=class e{constructor(i){this.route=i,this.crossfade=!0}ngOnInit(){this.route.params.subscribe(i=>{this.event=Mf.find(r=>r.id==i.id)})}};e.\u0275fac=function(r){return new(r||e)(N(Ei))},e.\u0275cmp=fe({type:e,selectors:[["app-rules"]],hostVars:1,hostBindings:function(r,o){r&2&&ta("@crossfade",o.crossfade)},standalone:!0,features:[Ee],decls:8,vars:0,template:function(r,o){r&1&&(I(0,"span"),$(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),S(),I(2,"span"),$(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),S(),I(4,"span"),$(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),S(),I(6,"span"),$(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),S())},dependencies:[Te],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.668rem 0;top:0;bottom:0}"],data:{animation:[Sf,kc,Fc,Jr,If]}});let t=e;return t})();var pR=()=>["./vysledky"];function vhe(t,e){if(t&1){let n=le();I(0,"div",4)(1,"div",5)(2,"span",6),$(3,"Hlasovanie"),S()(),I(4,"div",7)(5,"div",8),R("onCreate",function(r){F(n);let o=M(2);return L(o.createAuthButton(r))}),S(),I(6,"span",9),$(7,"alebo"),S(),I(8,"a",10),oe(9,"i",11),$(10,"V\xFDsledky"),S()()()}t&2&&(O("@crossfade",void 0),D(8),O("routerLink",ah(2,pR)))}function yhe(t,e){if(t&1){let n=le();I(0,"div",4)(1,"div",5)(2,"span",6),$(3,"Hlasovanie"),S()(),I(4,"div",7)(5,"div",12),R("click",function(){F(n);let r=M(2);return L(r.resetVote())}),$(6,"Zmena hlasovania"),S(),I(7,"span",9),$(8,"alebo"),S(),I(9,"a",10),oe(10,"i",11),$(11,"V\xFDsledky"),S()()()}t&2&&(O("@crossfade",void 0),D(9),O("routerLink",ah(2,pR)))}function _he(t,e){if(t&1&&(I(0,"span",27),$(1),S()),t&2){let n=M().$implicit;D(),_e(n.description)}}function whe(t,e){if(t&1&&oe(0,"i",35),t&2){let n=M().$implicit;O("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function bhe(t,e){if(t&1&&oe(0,"i",35),t&2){let n=M().$implicit;O("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function Ehe(t,e){if(t&1&&(ut(0),oe(1,"div",36),I(2,"a",37),R("click",function(i){return i.stopImmediatePropagation()}),oe(3,"i",38),S(),dt()),t&2){let n=M().$implicit;D(2),O("href",n.hyperlink,Ai)}}function Che(t,e){if(t&1&&(ut(0),oe(1,"div",36),I(2,"span",39),$(3),S(),dt()),t&2){let n=M().$implicit;D(3),_e(n.description)}}function Ihe(t,e){if(t&1){let n=le();I(0,"div",30),R("click",function(){let o=F(n).$implicit,a=M(2).$implicit,l=M(3);return L(l.onChoiceClick(a,o))}),z(1,whe,1,1,"i",31)(2,bhe,1,1,"i",31),I(3,"div",32)(4,"span",33),$(5),S(),z(6,Ehe,4,1,"ng-container",34)(7,Che,4,1,"ng-container",34),S()()}if(t&2){let n=e.$implicit,i=M(2).$implicit;it("disabled",n.disabled)("selected",n.selected),D(),O("ngIf",i.type=="checkbox"),D(),O("ngIf",i.type=="radio"),D(3),_e(n.text),D(),O("ngIf",n.hyperlink),D(),O("ngIf",n.description)}}function She(t,e){if(t&1&&(I(0,"div",28),z(1,Ihe,8,9,"div",29),S()),t&2){let n=M().$implicit;D(),O("ngForOf",n.choices)}}function The(t,e){if(t&1&&(I(0,"div",23)(1,"span",24),$(2),S(),z(3,_he,2,1,"span",25)(4,She,2,1,"div",26),S()),t&2){let n=e.$implicit;O("@drawer",void 0),D(2),_e(n.title),D(),O("ngIf",n.description),D(),O("ngIf",n.choices)}}function Dhe(t,e){t&1&&(I(0,"a",40),oe(1,"i",11),$(2,"V\xFDsledky"),S()),t&2&&O("@crossfade",void 0)("routerLink",ah(2,pR))}function Ahe(t,e){if(t&1){let n=le();I(0,"div",41),R("click",function(){F(n);let r=M(3);return L(r.back())}),$(1,"Sp\xE4\u0165"),S()}t&2&&O("@crossfade",void 0)}function xhe(t,e){if(t&1){let n=le();I(0,"div",41),R("click",function(){F(n);let r=M(3);return L(r.next())}),$(1,"\u010Ealej"),S()}t&2&&O("@crossfade",void 0)}function Mhe(t,e){if(t&1){let n=le();I(0,"div",41),R("click",function(){F(n);let r=M(3);return L(r.submit())}),$(1,"Hlasova\u0165"),S()}if(t&2){let n=M(3);it("disabled",!n.authService.getUser()),O("@crossfade",void 0)}}var Phe=t=>[t];function Ohe(t,e){if(t&1&&(I(0,"div",13)(1,"span",14),$(2),S(),I(3,"div",15),z(4,The,5,4,"div",16),S(),I(5,"div",17)(6,"div",18),z(7,Dhe,3,3,"a",19)(8,Ahe,2,1,"div",20),S(),oe(9,"div",18),I(10,"div",18),z(11,xhe,2,1,"div",20)(12,Mhe,2,3,"div",21),S()(),I(13,"span",22),$(14),S()()),t&2){let n=M(2);O("@crossfade",void 0),D(2),_e(n.event.title),D(),O("@skip",void 0),D(),O("ngForOf",Ij(10,Phe,n.event.questions[n.questionIndex])),D(),O("@skip",void 0),D(2),O("ngIf",n.questionIndex==0),D(),O("ngIf",n.questionIndex!=0),D(3),O("ngIf",n.questionIndex<n.event.questions.length-1),D(),O("ngIf",n.questionIndex==n.event.questions.length-1),D(2),_e(n.questionIndex+1+" / "+n.event.questions.length)}}function Rhe(t,e){if(t&1&&(I(0,"div",1),z(1,vhe,11,3,"div",2)(2,yhe,12,3,"div",2)(3,Ohe,15,12,"div",3),S()),t&2){let n=M();O("@fade",void 0),D(),O("ngIf",!n.authService.hasLocalStorageEntry()),D(),O("ngIf",n.authService.hasLocalStorageEntry()&&n.userHasVote),D(),O("ngIf",n.authService.hasLocalStorageEntry()&&!n.userHasVote)}}var pG=(()=>{let e=class e{constructor(i,r,o,a){this.router=i,this.firestoreService=r,this.route=o,this.authService=a,this.crossfade=!0,this.questionIndex=0,this.loadingDone=!1}ngOnInit(){this.route.params.subscribe(o=>this.event=JSON.parse(JSON.stringify(Mf.find(a=>a.id==o.id))));let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.userHasVote=a.some(l=>l.userId==o?.uid),this.loadingDone=!0})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){clearTimeout(this.directionTimeout);let i=document.querySelector(".question-container");i.style.flexDirection="column-reverse",this.directionTimeout=setTimeout(()=>i.style.flexDirection="column",500),this.questionIndex>0&&this.questionIndex--}next(){clearTimeout(this.directionTimeout);let i=document.querySelector(".question-container");i.style.flexDirection="column",this.questionIndex++}submit(){let i=this.authService.getUser();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r),localStorage.setItem(this.event.id,new Date().toISOString()),this.router.navigate(["./vysledky"],{relativeTo:this.route})}}resetVote(){this.firestoreService.delete(this.event.id,this.authService.getUser().uid).then(()=>{this.userHasVote=!1})}createAuthButton(i){this.authService.createButton(i.nativeElement)}};e.\u0275fac=function(r){return new(r||e)(N(Dr),N(pC),N(Ei),N(fC))},e.\u0275cmp=fe({type:e,selectors:[["app-survey"]],hostVars:1,hostBindings:function(r,o){r&2&&ta("@crossfade",o.crossfade)},standalone:!0,features:[Ee],decls:1,vars:1,consts:[["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],[1,"auth-button","auth-ui-button",3,"onCreate"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"event-title"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"routerLink"],[1,"button",3,"click"]],template:function(r,o){r&1&&z(0,Rhe,4,4,"div",0),r&2&&O("ngIf",o.loadingDone)},dependencies:[Te,sr,It,St,Tt,HE,Vc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.336rem 0;top:0;bottom:0}@media screen and (max-width: 600px){[_nghost-%COMP%]{width:calc(100% - 1.336rem);padding:.668rem}}@media screen and (min-width: 600px){[_nghost-%COMP%]{width:48rem;padding:1.336rem 0}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#ffffff0d;border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem;gap:.668rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 600px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.334rem}}@media screen and (min-width: 600px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.668rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.334rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.501rem;padding:.334rem .668rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.668rem;background-color:#ffffff0d;border:1px solid var(--color-border);border-radius:.334rem;padding:.668rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{font-size:1.336rem;margin-bottom:-.334rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;padding-bottom:.668rem;margin-bottom:-.668rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.167rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.668rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.75rem .5rem;border:1px solid var(--color-border);border-radius:.334rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.334rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.668rem;justify-content:space-between}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.334rem .668rem;gap:.501rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.668rem;font-size:12px}"],data:{animation:[Sf,Fc,kc,Jr,nC,If]}});let t=e;return t})();var to=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Ns=class{static getNearestImageUp(e,n){let i=n.indexOf(e);for(;i>0;)if(n[--i].left==e.left)return n[i];return se.getFirst(n)}static getNearestImageRight(e,n){return n[n.indexOf(e)+1]||se.getLast(n)}static getNearestImageDown(e,n){let i=n.indexOf(e);for(;i<n.length-1;)if(n[++i].left==e.left)return n[i];return se.getLast(n)}static getNearestImageLeft(e,n){return n[n.indexOf(e)-1]||se.getFirst(n)}};var ki=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.googleService=r,this.targetEntireGroup=!1,this.fullscreenVisible=oh(!1),this.sidebarVisible=tn.isLargeScreen()||this.applicationService.reduceBandwidth,this.filter=oh([]),this.target=oh(null),this.tagCounts={}}setRandomTarget(){if(!se.isEmpty(this.filter())){let i,r=this.target();r?r.hasGroup()?i=se.getRandom(this.filter(),r.getGroupImages()):i=se.getRandom(this.filter(),[r]):i=se.getRandom(this.filter()),i&&(i.hasGroup()&&(i=se.getRandom(i.getGroupImages().filter(o=>this.doesPassFilter(o)))),this.target.set(i))}}setRandomGroupTarget(){let i=this.target();i?.hasGroup()&&this.target.set(se.getRandom(i.getGroupImages().filter(r=>this.doesPassFilter(r)),[i]))}refreshFilter(){this.filter.set(this.images.filter(i=>i.hasGroup()?i.group.open?this.doesPassFilter(i):this.getGroupRepresent(i)==i:this.doesPassFilter(i)))}getGroupRepresent(i){return i.hasGroup()?this.doesPassFilter(i.group.star)?i.group.star:i.group.images.find(r=>this.doesPassFilter(r)):i}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark)return!1;let r=i.hasGroup()?i.getGroupImages().length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o,a;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){let r=!i.heart;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.heart=r):i.heart=r,this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.googleService.updateData()}toggleBookmark(i){let r=!i.bookmark;i.hasGroup()&&this.targetEntireGroup?i.getGroupImages().forEach(o=>o.bookmark=r):i.bookmark=r,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length,this.googleService.updateData()}toggleTag(i,r){let o=i.tags,a;if(i.hasGroup()&&this.targetEntireGroup)if(o.includes(r))for(let l of i.getGroupImages())a=l.tags,a.includes(r)&&se.remove(a,r);else for(let l of i.getGroupImages())a=l.tags,a.includes(r)||a.push(r);else o.includes(r)?se.remove(o,r):o.push(r);this.tagCounts[r]=this.images.filter(l=>l.tags.includes(r)).length,this.googleService.updateData()}moveTargetToTrash(){return E(this,null,function*(){this.applicationService.loading.next(!0);let i=this.target();if(i){let r=yield this.moveImageToTrash(i);this.refreshFilter(),this.target.set(r);for(let o in this.tagCounts)this.tagCounts[o]=0;this.tagCounts._heart=this.images.filter(o=>o.heart).length,this.tagCounts._bookmark=this.images.filter(o=>o.bookmark).length;for(let o of this.images)for(let a of o.tags)this.tagCounts[a]++;this.googleService.updateData()}this.applicationService.loading.next(!1)})}moveImageToTrash(i){return E(this,null,function*(){let r,o,a=this.filter();return i.hasGroup()?(r=i.getGroupImages().indexOf(i),se.isLast(i.getGroupImages(),i)?o=i.getGroupImages()[r-1]:o=i.getGroupImages()[r+1]):se.isLast(a,i)?o=Ns.getNearestImageLeft(i,a):o=Ns.getNearestImageRight(i,a),this.googleService.trash(i.id),se.remove(this.images,this.images.find(l=>l.id==i.id)),i.hasGroup()&&(se.remove(i.getGroupImages(),i.getGroupImages().find(l=>l.id==i.id)),i.group.star==i&&i.group.images.length>0&&(i.group.star=i.group.images[0])),o})}};e.\u0275fac=function(r){return new(r||e)(re(Tn),re(ur))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ur=(()=>{let e=class e extends Df{constructor(i,r,o){super(i),this.http=i,this.applicationService=r,this.injector=o,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata",this.delay=new Nc(5e3)}updateData(i=!1){let r=sessionStorage.getItem("dataFileId");if(r){let o=this.injector.get(ki);this.applicationService.changes.next(!0);let a=()=>{this.updateContent(r,{rootFolderId:o.rootFolderId,heartsFilter:o.heartsFilter,bookmarksFilter:o.bookmarksFilter,groupSizeFilterMin:o.groupSizeFilterMin,groupSizeFilterMax:o.groupSizeFilterMax,tagGroups:o.tagGroups,imageProperties:o.images.map(l=>({id:l.id,heart:l.heart,bookmark:l.bookmark,tags:l.tags})),groupProperties:o.groups.map(l=>({imageIds:l.images.map(d=>d.id),starId:l.star.id}))}).then(l=>{l||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),a()):this.delay.restart(()=>a())}}createDataFile(i){return E(this,null,function*(){let r=yield this.createFile(i+".tagallery",["root"],"application/json");return sessionStorage.setItem("dataFileId",r.id),r})}getData(){return E(this,null,function*(){let i=sessionStorage.getItem("dataFileId");if(i){let r="https://www.googleapis.com/drive/v3/files/"+i;return yield wr(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(o=>o)}})}getBase64(i){return E(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(re(Pl),re(Tn),re(Wt))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nhe(t,e){if(t&1){let n=le();I(0,"span",6),R("click",function(){let o=F(n).$implicit,a=M(2);return L(a.onDataFileClick(o))}),$(1),S()}if(t&2){let n=e.$implicit;D(),_e(n.name.substring(0,n.name.length-10))}}function khe(t,e){if(t&1){let n=le();I(0,"span",6),R("click",function(){let o=F(n).$implicit,a=M(2);return L(a.onFolderClick(o))}),$(1),S()}if(t&2){let n=e.$implicit;D(),_e(n.name)}}function Fhe(t,e){if(t&1&&(I(0,"div",4),z(1,Nhe,2,1,"span",5)(2,khe,2,1,"span",5),S()),t&2){let n=M();D(),O("ngForOf",n.dataFiles),D(),O("ngForOf",n.folders)}}var mG=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.getFolderMetadata().then(i=>{this.dataFiles=i.filter(o=>o.name.endsWith(".tagallery"));let r=this.dataFiles.map(o=>o.name.substring(0,o.name.indexOf(".tagallery")));this.folders=i.filter(o=>to.isFolder(o)&&!r.includes(o.name))}).finally(()=>{this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),sessionStorage.setItem("dataFileId",i.id),this.router.navigate(["/gallery"])}onFolderClick(i){this.applicationService.loading.next(!0),this.googleService.createDataFile(i.name).then(r=>{sessionStorage.setItem("dataFileId",r.id),this.googleService.updateContent(r.id,{rootFolderId:i.id,heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999,tagGroups:[],imageProperties:[],groupProperties:[]}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(N(Dr),N(ur),N(Tn))},e.\u0275cmp=fe({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[Ee],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Fhe,3,2,"div",1),I(2,"div",2)(3,"i",3),R("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),S()()()),r&2&&(it("opacity-1",!o.applicationService.loading.value),D(),O("ngIf",!0),D(2),O("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Te,sr,It,St],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.334rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.334rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.334rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();function Lhe(t,e){if(t&1){let n=le();I(0,"i",13),R("click",function(r){F(n);let o=M(2).$implicit,a=M(3);return L(a.onStarClick(r,o))}),S()}if(t&2){let n=M(2).$implicit;O("ngClass",n==n.group.star?"fa-solid active no-hover":"fa-regular")}}function Vhe(t,e){if(t&1){let n=le();ut(0),I(1,"i",11),R("click",function(r){F(n);let o=M().$implicit,a=M(3);return L(a.onGroupToggleClick(r,o))}),S(),z(2,Lhe,1,1,"i",12),dt()}if(t&2){let n=M().$implicit;D(),O("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group"),D(),O("ngIf",n.group.open)}}function jhe(t,e){if(t&1){let n=le();I(0,"div",5),R("click",function(){let o=F(n).$implicit,a=M(3);return L(a.onImageClick(o))}),I(1,"img",6,7),R("onCreate",function(r){let a=F(n).$implicit,l=M(3);return L(l.onBrickCreate(r,a))})("load",function(){F(n);let r=Ej(2);return L(r.style.opacity="1")}),S(),I(3,"div",8)(4,"i",9),R("click",function(r){let a=F(n).$implicit,l=M(3);return L(l.onHeartClick(r,a))}),S(),I(5,"i",10),R("click",function(r){let a=F(n).$implicit,l=M(3);return L(l.onBookmarkClick(r,a))}),S(),z(6,Vhe,3,3,"ng-container",0),S()()}if(t&2){let n=e.$implicit;W0("width: "+n.width+"px; top: "+n.top+"px; left: "+n.left+"px; "),O("@leave",void 0),D(),jr("aspect-ratio",n.aspectRatio),O("src",n.thumbnailLink,Ai),D(3),O("ngClass",n.heart?"fa-solid active":"fa-regular"),D(),O("ngClass",n.bookmark?"fa-solid active":"fa-regular"),D(),O("ngIf",n.hasGroup())}}function Uhe(t,e){if(t&1){let n=le();I(0,"div",3),R("onCreate",function(r){F(n);let o=M(2);return L(o.onMasonryElementCreate(r))}),z(1,jhe,7,9,"div",4),S()}if(t&2){let n=M(2);D(),O("ngForOf",n.stateService.filter())}}function Bhe(t,e){if(t&1&&(ut(0),I(1,"div",1),z(2,Uhe,2,1,"div",2),S(),dt()),t&2){let n=M();D(2),O("ngIf",n.stateService.filter)}}var gG=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.applicationService=r,this.stateService=o,this.bricks={},oc(()=>this.scrollToTarget()),oc(()=>this.updateLayout())}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.hasGroup()?this.stateService.getGroupRepresent(i):i,o=this.bricks[r?.id];if(o&&!tn.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateLayout(){if(this.masonryContainer){let i=this.stateService.filter();if(i.length==0)return;let r=tn.isLargeScreen()?200:150,o=6,a=this.masonryContainer.clientWidth,l=Math.floor(a/r),d=(a-o*(l-1))/l,h=[],m=[];for(let v=0;v<l;v++)h[v]=0,m[v]=v*(d+o);for(let v of i)v.width!=d&&(v.width=d,v.height=d/v.aspectRatio);for(let v of i)if(v.hasGroup()&&v.group.open){if(v==v.group.images[0]){let y=[this.getShortestColumnIndex(h)],b=[];for(let w=0;w<l;w++)b.push({top:0,bottom:0});for(let w of v.getGroupImages()){let C=[...y],T=Math.min(...y);if(T>0){let B=h[T-1]+w.height*.5;B>b[T].top&&B<b[T].bottom&&C.push(T-1)}let P=Math.max(...y);if(P<l-1){let B=h[P+1]+w.height*.5;B>b[P].top&&B<b[P].bottom&&C.push(P+1)}let k=this.getShortestColumnIndex(h.map((B,A)=>C.includes(A)?B:999999999));se.push(y,k),w.top=h[k],w.left=m[k],h[k]+=w.height+o,b[k].top==0?(b[k].top=w.top,b[k].bottom=w.top+w.height):b[k].bottom+=o+w.height}}}else{let y=this.getShortestColumnIndex(h);v.left=m[y],v.top=h[y],h[y]=h[y]+v.height+o}}}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){tn.isLargeScreen()&&i==this.stateService.target()&&this.stateService.fullscreenVisible.set(!0),this.stateService.target.set(i),this.stateService.sidebarVisible=!0}onHeartClick(i,r){tn.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){tn.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onGroupToggleClick(i,r){tn.isLargeScreen()&&(i.stopPropagation(),r.group.open=!r.group.open,this.stateService.refreshFilter())}onStarClick(i,r){tn.isLargeScreen()&&(i.stopPropagation(),r.hasGroup()&&r.group.star!=r&&(r.group.star=r,this.googleService.updateData()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryElementCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(N(ur),N(Tn),N(ki))},e.\u0275cmp=fe({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&R("resize",function(){return o.onResize()},!1,yn)},standalone:!0,features:[Ee],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],["class","masonry-container",3,"onCreate",4,"ngIf"],[1,"masonry-container",3,"onCreate"],["class","masonry-brick",3,"style","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[3,"src","onCreate","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["class","icon-button fa-star","tp","Star",3,"ngClass","click",4,"ngIf"],["tp","Star",1,"icon-button","fa-star",3,"ngClass","click"]],template:function(r,o){r&1&&z(0,Bhe,3,1,"ng-container",0),r&2&&O("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[Te,sr,It,St,Vc,tC],styles:["[_nghost-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background);width:100%;padding:.334rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition:.5s;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;border-radius:.334rem;opacity:0;transition-property:opacity;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;flex-direction:column;align-items:flex-end;padding:.334rem;box-sizing:border-box}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%] > .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[nC]}});let t=e;return t})();var mC=class{constructor(){this.images=[]}};var gC=class{};var vC=class extends gC{hasGroup(){return this.group?.images.length>1}getGroupImages(){return this.group?.images}};function $he(t,e){if(t&1&&oe(0,"iframe",17),t&2){let n=M().$implicit;W0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),O("src",n.contentLink,cD)}}function Hhe(t,e){if(t&1){let n=le();I(0,"img",19),R("load",function(){F(n);let r=M(4);return L(r.loadingC=!1)}),S()}if(t&2){let n=M(2).$implicit;O("src",n.contentLink,Ai)}}function Ghe(t,e){if(t&1){let n=le();ut(0),I(1,"img",18),R("click",function(){F(n);let r=M().$implicit,o=M(2);return L(o.onImageClick(r))}),S(),I(2,"img",19),R("load",function(){F(n);let r=M(3);return L(r.loadingT=!1)}),S(),z(3,Hhe,1,1,"img",20),dt()}if(t&2){let n=M().$implicit,i=M(2);D(),O("src",i.getSrc(n),Ai),D(),O("src",n.thumbnailLink,Ai),D(),O("ngIf",n.contentLink)}}function qhe(t,e){if(t&1&&(I(0,"div",14),z(1,$he,1,3,"iframe",15)(2,Ghe,4,3,"ng-container",16),S()),t&2){let n=M(2);O("@fade",void 0),D(),O("ngIf",n.video),D(),O("ngIf",!n.video)}}function zhe(t,e){if(t&1){let n=le();I(0,"div",1)(1,"div",2),oe(2,"div"),I(3,"div")(4,"i",3),R("click",function(){F(n);let r=M();return L(r.stateService.fullscreenVisible.set(!1))}),S(),I(5,"i",4),R("click",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleHeart(o))}),S(),I(6,"i",5),R("click",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleBookmark(o))}),S()()(),I(7,"div",6),oe(8,"div",7),I(9,"div",8)(10,"i",9),R("click",function(){F(n);let r=M();return L(r.stateService.setRandomGroupTarget())}),S(),I(11,"i",10),R("click",function(){F(n);let r=M();return L(r.stateService.setRandomTarget())}),S()(),I(12,"div",11)(13,"i",12),R("click",function(){F(n);let r=M();return L(r.stateService.moveTargetToTrash())}),S()()(),z(14,qhe,3,3,"div",13),S()}if(t&2){let n=e.ngVar,i=M();it("transparent",!i.stateService.fullscreenVisible()),D(5),O("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),O("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(4),it("disabled",!(n!=null&&n.hasGroup())),D(4),O("ngForOf",i.crossfadeHelper)}}var vG=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.stateService=r,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,oc(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,to.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(ki))},e.\u0275cmp=fe({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[Ee],decls:1,vars:1,consts:[["class","fullscreen-container",3,"transparent",4,"ngVar"],[1,"fullscreen-container"],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-xmark",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"fullscreen-footer","desktop-hidden"],[2,"justify-content","start"],[2,"justify-content","center"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],[2,"justify-content","end"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"]],template:function(r,o){r&1&&z(0,zhe,15,7,"div",0),r&2&&O("ngVar",o.stateService.target())},dependencies:[Te,sr,It,St,jc],styles:['.fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#000000e6;overflow:hidden;z-index:20;transition:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{padding:.334rem;position:absolute;right:0;display:flex;justify-content:space-between;top:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{padding:.334rem;position:absolute;right:0;display:flex;justify-content:space-between;bottom:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all;display:flex;flex:1}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.334rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Jr]}});let t=e;return t})();function Whe(t,e){if(t&1){let n=le();I(0,"i",4),R("mousedown",function(r){F(n);let o=M();return L(o.onMouseDown(r))})("click",function(r){F(n);let o=M();return L(o.nextState(r))})("contextmenu",function(r){F(n);let o=M();return L(o.previousState(r))}),S()}if(t&2){let n=M();O("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function Khe(t,e){if(t&1){let n=le();I(0,"i",5),R("mousedown",function(r){F(n);let o=M();return L(o.onMouseDown(r))})("click",function(r){F(n);let o=M();return L(o.nextState(r))})("contextmenu",function(r){F(n);let o=M();return L(o.previousState(r))}),S()}}function Yhe(t,e){if(t&1){let n=le();I(0,"i",6),R("mousedown",function(r){F(n);let o=M();return L(o.onMouseDown(r))})("click",function(r){F(n);let o=M();return L(o.nextState(r))})("contextmenu",function(r){F(n);let o=M();return L(o.previousState(r))}),S()}}var yG=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new zt}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<tn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<tn.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<tn.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<tn.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fe({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[Ee],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,Whe,1,1,"i",1)(2,Khe,1,0,"i",2)(3,Yhe,1,0,"i",3),S()),r&2&&(it("tri",o.tri),D(),O("ngIf",o.state==-1),D(),O("ngIf",o.state==0),D(),O("ngIf",o.state==1))},dependencies:[Te,sr,St],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var yC=(()=>{let e=class e extends Yt{constructor(i,r,o){super(),this.dialogService=i,this.googleService=r,this.stateService=o,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)se.remove(o.tags,r);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return Dt.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(zn),N(ur),N(ki))},e.\u0275cmp=fe({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},inputs:{group:"group"},standalone:!0,features:[Ct,Ee],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),$(1,"Group Name"),S(),I(2,"input",1),Fe("ngModelChange",function(l){return Ve(o.groupName,l)||(o.groupName=l),l}),S()),r&2&&(D(2),ke("ngModel",o.groupName))},dependencies:[Te,Tt,Ut,Qt,Gt],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();function Qhe(t,e){if(t&1&&(I(0,"option",7),$(1),S()),t&2){let n=e.$implicit;O("ngValue",n),D(),_e(n.name)}}var _G=(()=>{let e=class e extends Yt{constructor(i,r,o){super(),this.googleService=i,this.dialogService=r,this.stateService=o,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.group?this.currentGroup=this.group:this.group={name:"",state:0,tags:[]},this.tag||(this.tag={id:Zv(),name:"",state:0}),this.tagName=this.tag.name,this.canDelete=this.group.tags.includes(this.tag)}editGroup(i){this.dialogService.create(yC,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)se.remove(r.tags,this.tag.id);for(let r of this.stateService.tagGroups)se.remove(r.tags,this.tag);this.googleService.updateData(),this.resolve(null)}})}canSubmit(){return Dt.isEmpty(this.tagName)?!1:this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag.name=this.tagName,this.currentGroup!=this.group&&se.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.googleService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(N(ur),N(zn),N(ki))},e.\u0275cmp=fe({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},inputs:{group:"group",tag:"tag"},standalone:!0,features:[Ct,Ee],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(I(0,"span",0),$(1,"Group"),S(),I(2,"div",1)(3,"select",2),Fe("ngModelChange",function(l){return Ve(o.currentGroup,l)||(o.currentGroup=l),l}),z(4,Qhe,2,2,"option",3),S(),I(5,"div",4)(6,"i",5),R("click",function(){return o.editGroup(o.currentGroup)}),S(),I(7,"i",6),R("click",function(){return o.editGroup()}),S()()(),I(8,"span",0),$(9,"Name"),S(),I(10,"div",1)(11,"input",2),Fe("ngModelChange",function(l){return Ve(o.tagName,l)||(o.tagName=l),l}),S()()),r&2&&(D(3),ke("ngModel",o.currentGroup),D(),O("ngForOf",o.stateService.tagGroups),D(2),it("disabled",!o.currentGroup),D(5),ke("ngModel",o.tagName))},dependencies:[Te,It,Tt,Ps,Os,Ut,Zr,Qt,Gt],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:30px;display:flex;gap:.334rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();var wG=(()=>{let e=class e extends Yt{constructor(i){super(),this.stateService=i,this.configuration={title:"Group Size Filter Editor",buttons:[{text:()=>"Submit",disable:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.min=this.stateService.groupSizeFilterMin,this.max=this.stateService.groupSizeFilterMax}canSubmit(){return this.min!=null&&this.max!=null&&this.min<=this.max}submit(){this.canSubmit()&&(this.stateService.groupSizeFilterMin=this.min,this.stateService.groupSizeFilterMax=this.max,this.resolve(!0))}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(N(ki))},e.\u0275cmp=fe({type:e,selectors:[["app-group-size-filter-editor"]],hostBindings:function(r,o){r&1&&R("keydown.enter",function(l){return o.submit(l)},!1,yn)},standalone:!0,features:[Ct,Ee],decls:6,vars:2,consts:[[1,"element-label"],["min","2","max","999",1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(I(0,"span",0),$(1,"Min Group Size"),S(),I(2,"input",1),Fe("ngModelChange",function(l){return Ve(o.min,l)||(o.min=l),l}),S(),I(3,"span",0),$(4,"Max Group Size"),S(),I(5,"input",1),Fe("ngModelChange",function(l){return Ve(o.max,l)||(o.max=l),l}),S()),r&2&&(D(2),ke("ngModel",o.min),D(3),ke("ngModel",o.max))},dependencies:[Te,Tt,Ut,Qt,Gt],styles:["[_nghost-%COMP%]{flex:1;display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.334rem;column-gap:.334rem;padding:1.002rem;border-radius:.334rem;border:1px solid var(--color-border)}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:30px;box-sizing:border-box}"]});let t=e;return t})();var Pf=class{constructor(e,n,i={}){this.queue=[],this.waitingForOpponent=null,this.previousWinner=null,this.outcome=[],this.comparisonCount=0,this.data=e.slice(),this.getKey=n,this.directlyBetterThan=i;let r;this.data.forEach(o=>{r=this.getKey(o),this.directlyBetterThan[r]||(this.directlyBetterThan[r]=[])}),this.createQueue(this.data),this.nextComparison()}createQueue(e){this.queue.length=0;let n,i,r=se.shuffle(e.slice());for(;r.length>0;)n=r.shift(),i=r.shift(),i?this.queue.push([n,i]):this.waitingForOpponent=n}nextComparison(){let e=this.queue.shift();if(!e){this.resolveTies(this.waitingForOpponent);return}let n=null;this.getBetterThan(e[0]).includes(e[1])?n=e[0]:this.getBetterThan(e[1]).includes(e[0])&&(n=e[1]),n?(this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,n]),this.waitingForOpponent=null):this.waitingForOpponent=n,this.nextComparison()):this.comparison=e}resolveTies(e){if(this.waitingForOpponent=null,e){this.outcome.push(e),this.previousWinner&&(this.directlyBetterThan[this.getKey(this.previousWinner)]=[e],this.previousWinner=null);let n=this.directlyBetterThan[this.getKey(e)].length;n>1?(this.previousWinner=e,this.createQueue(this.directlyBetterThan[this.getKey(e)]),this.nextComparison()):n==1?this.resolveTies(this.directlyBetterThan[this.getKey(e)][0]):n==0&&(this.comparison=null)}}addComparisonResult(e,n){this.comparisonCount++,this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,e]),this.waitingForOpponent=null):this.waitingForOpponent=e,this.directlyBetterThan[this.getKey(e)].push(n),this.nextComparison()}getBetterThan(e,n=[]){for(let i of this.directlyBetterThan[this.getKey(e)])n.includes(i)||(n.push(i),this.getBetterThan(i,n));return n}reset(){this.outcome.length=0,this.comparisonCount=0;for(let e of Object.keys(this.directlyBetterThan))this.directlyBetterThan[e].length=0;this.createQueue(this.data),this.nextComparison()}};function Xhe(t,e){if(t&1){let n=le();I(0,"div",4)(1,"div",5),R("click",function(){F(n);let r=M();return L(r.onImageClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),oe(2,"img",6),S(),oe(3,"div",7),I(4,"div",5),R("click",function(){F(n);let r=M();return L(r.onImageClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),oe(5,"img",6),S()()}if(t&2){let n=M();D(2),O("src",n.tournament.comparison[0].thumbnailLink,Ai),D(3),O("src",n.tournament.comparison[1].thumbnailLink,Ai)}}function Jhe(t,e){if(t&1&&(I(0,"div",8),oe(1,"img",6),S()),t&2){let n=e.$implicit;D(),O("src",n.thumbnailLink,Ai)}}var bG=(()=>{let e=class e extends Yt{constructor(){super(...arguments),this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.tournament=new Pf(this.images,i=>i.id)}onImageClick(i,r){this.tournament.addComparisonResult(i,r)}reset(){this.tournament.reset()}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=or(e)))(o||e)}})(),e.\u0275cmp=fe({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},features:[Ct],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(z(0,Xhe,6,2,"div",0),oe(1,"div",1),I(2,"div",2),z(3,Jhe,2,1,"div",3),S()),r&2&&(O("ngIf",o.tournament.comparison),D(3),O("ngForOf",o.tournament.outcome))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.334rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.334rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.334rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .668rem);padding:.334rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 2.55844rem);padding:.334rem 0 .334rem .55444rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.334rem}"]});let t=e;return t})();function Zhe(t,e){if(t&1){let n=le();I(0,"img",42),R("onCreate",function(r){let a=F(n).$implicit,l=M(2);return L(l.onGroupPreviewCreate(r,a))})("load",function(){let o=F(n).$implicit,a=M(2);return L(a.onGroupPreviewLoad(o))})("click",function(r){let a=F(n).$implicit,l=M(2);return L(l.onGroupPreviewClick(r,a))})("dblclick",function(r){let a=F(n).$implicit,l=M(2);return L(l.onGroupPreviewDoubleClick(r,a))}),S()}if(t&2){let n=e.$implicit;jr("aspect-ratio",n.aspectRatio),O("src",n.thumbnailLink,Ai)("draggable",!1)}}function efe(t,e){if(t&1){let n=le();I(0,"i",43),R("click",function(){F(n);let r=M(2);return L(r.stateService.sidebarVisible=!1)}),S()}}function tfe(t,e){if(t&1){let n=le();I(0,"div",35)(1,"app-switch",36),R("stateChange",function(r){let a=F(n).$implicit,l=M(3);return L(l.onFilterStateChange(a,r))}),S(),I(2,"span",49),R("click",function(r){let a=F(n).$implicit,l=M().$implicit,d=M(2);return L(d.openTagEditor(r,l,a))}),$(3),S(),I(4,"app-switch",39),R("stateChange",function(){let o=F(n).$implicit,a=M(2).ngVar,l=M();return L(l.stateService.toggleTag(a,o.id))}),S()()}if(t&2){let n=e.$implicit,i=M(2).ngVar,r=M();D(),O("tri",!0)("state",n.state),D(2),_e(n.name+" ("+(r.stateService.tagCounts[n.id]||0)+")"),D(),O("state",i!=null&&i.tags.includes(n.id)?1:-1)}}function nfe(t,e){if(t&1){let n=le();I(0,"div",44),oe(1,"div",45),I(2,"div",35)(3,"app-switch",36),R("stateChange",function(r){let a=F(n).$implicit,l=M(2);return L(l.onFilterStateChange(a,r))}),S(),I(4,"span",46),R("click",function(r){let a=F(n).$implicit,l=M(2);return L(l.openGroupEditor(r,a))}),$(5),S(),oe(6,"app-switch",47),S(),z(7,tfe,5,4,"div",48),S()}if(t&2){let n=e.$implicit;D(3),O("tri",!0)("state",n.state),D(2),_e(n.name),D(),O("state",0),D(),O("ngForOf",n.tags)}}function ife(t,e){if(t&1){let n=le();I(0,"div",2)(1,"div",3)(2,"div",4)(3,"img",5),R("click",function(){F(n);let r=M();return L(r.onPreviewClick())}),S()(),I(4,"div",6)(5,"div",7)(6,"div",8),z(7,Zhe,1,4,"img",9),S()()(),I(8,"div",10)(9,"i",11),R("click",function(r){F(n);let o=M();return L(o.openYandexReverseImageSearch(r))}),S(),I(10,"i",12),R("click",function(){F(n);let r=M();return L(r.startImageComparison())}),S(),I(11,"i",13),R("click",function(){F(n);let r=M();return L(r.applicationService.toggleTheme())}),S()(),I(12,"div",14),z(13,efe,1,0,"i",15),I(14,"i",16),R("click",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleHeart(o))}),S(),I(15,"i",17),R("click",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleBookmark(o))}),S()(),oe(16,"div",18),I(17,"div",19)(18,"i",20),R("click",function(){F(n);let r=M();return L(r.copyTargetBase64())}),S(),I(19,"i",21),R("click",function(){F(n);let r=M();return L(r.openTargetInGoogleDrive())}),S(),I(20,"i",22),R("click",function(){F(n);let r=M();return L(r.stateService.moveTargetToTrash())}),S()()(),I(21,"div",23)(22,"div",24)(23,"div",25)(24,"i",26),R("click",function(){F(n);let r=M();return L(r.stateService.targetEntireGroup=!r.stateService.targetEntireGroup)}),S(),I(25,"i",27),R("click",function(){F(n);let r=M();return L(r.openGroupSizeFilterDialog())}),S()(),I(26,"div",28)(27,"i",29),R("click",function(){F(n);let r=M();return L(r.stateService.setRandomGroupTarget())}),S(),I(28,"i",30),R("click",function(){F(n);let r=M();return L(r.stateService.setRandomTarget())}),S()(),I(29,"div",31)(30,"i",32),R("click",function(){F(n);let r=M();return L(r.openTagEditor())}),S()()(),I(31,"div",33)(32,"div",34)(33,"div",35)(34,"app-switch",36),R("stateChange",function(r){F(n);let o=M();return L(o.onLikesStateChange(r))}),S(),I(35,"div"),oe(36,"i",37),I(37,"span",38),$(38),S()(),I(39,"app-switch",39),R("stateChange",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleHeart(o))}),S()(),I(40,"div",35)(41,"app-switch",36),R("stateChange",function(r){F(n);let o=M();return L(o.onBookmarksStateChange(r))}),S(),I(42,"div"),oe(43,"i",40),I(44,"span",38),$(45),S()(),I(46,"app-switch",39),R("stateChange",function(){let o=F(n).ngVar,a=M();return L(a.stateService.toggleBookmark(o))}),S()(),z(47,nfe,8,5,"div",41),S()()()()}if(t&2){let n=e.ngVar,i=M();D(3),O("src",n==null?null:n.thumbnailLink,Ai),D(),it("display-none",!(n!=null&&n.hasGroup())),D(3),O("ngForOf",n==null?null:n.getGroupImages()),D(4),O("ngClass",i.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),D(2),O("ngIf",!i.applicationService.reduceBandwidth),D(),O("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),D(),O("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),D(9),O("ngClass",i.stateService.targetEntireGroup?"fa-images":"fa-image"),D(3),it("disabled",!(n!=null&&n.hasGroup())),D(7),O("tri",!0)("state",i.stateService.heartsFilter),D(4),_e(" ("+(i.stateService.tagCounts._heart||0)+")"),D(),O("state",n!=null&&n.heart?1:-1),D(2),O("tri",!0)("state",i.stateService.bookmarksFilter),D(4),_e(" ("+(i.stateService.tagCounts._bookmark||0)+")"),D(),O("state",n!=null&&n.bookmark?1:-1),D(),O("ngForOf",i.stateService.tagGroups)}}var EG=(()=>{let e=class e{constructor(i,r,o,a,l){this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.groupPreviews={},this.sidebarGroupPreviewsLoaded=0;let d;oc(h=>{h(()=>d=m),this.sidebarGroupPreviewsLoaded=0;let m=this.stateService.target();m?.hasGroup()&&d&&m.getGroupImages().includes(d)&&this.moveTargetGroupPreviewIntoView(!0)})}ngAfterViewInit(){this.setupTagListMouseDragEvents(),this.setupGroupPreviewMouseDragEvents()}setupTagListMouseDragEvents(){if(tn.isLargeScreen()){let i,r,o=document.getElementsByClassName("taglist-scrollbar-container")[0];o.addEventListener("mousemove",a=>{if(r){a.preventDefault();let d=(a.pageY-o.offsetTop-this.tagListClickY)*2;o.scrollTop=i-d}}),window.addEventListener("mousedown",a=>{r=!0,i=o.scrollTop,this.tagListClickY=a.pageY-o.offsetTop}),window.addEventListener("mouseup",()=>{r=!1})}}setupGroupPreviewMouseDragEvents(){if(tn.isLargeScreen()){let i,r,o,a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0],l=()=>{a.classList.remove("hovering"),clearTimeout(i),i=null,this.moveTargetGroupPreviewIntoView(!0)};a.addEventListener("mouseenter",()=>{i||(i=setTimeout(()=>{a.classList.add("hovering")},250))}),a.addEventListener("mouseleave",()=>{o||l()});let d=h=>{h.preventDefault();let v=h.pageX+a.offsetLeft-this.groupPreviewClickX;a.scrollLeft=r-v};a.addEventListener("mousedown",h=>{o=!0,r=a.scrollLeft,this.groupPreviewContainerOffsetLeft=a.offsetLeft,this.groupPreviewClickX=h.pageX+a.offsetLeft,window.addEventListener("mousemove",d)}),window.addEventListener("mouseup",h=>{o=!1,window.removeEventListener("mousemove",d),document.elementsFromPoint(h.x,h.y).includes(a)||l()})}}onGroupPreviewCreate(i,r){this.groupPreviews[r.id]=i.nativeElement}onGroupPreviewLoad(i){this.sidebarGroupPreviewsLoaded++,this.sidebarGroupPreviewsLoaded==i.getGroupImages().length&&this.moveTargetGroupPreviewIntoView(!1)}moveTargetGroupPreviewIntoView(i){let r=this.stateService.target();if(r){let o=this.groupPreviews[r.id],a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0];if(o&&!a.classList.contains("hovering")&&!tn.isElementVisible(o,a)){let l=o.offsetLeft-(a.clientWidth-o.clientWidth)/2;a.scrollTo({left:l,behavior:i?"smooth":"auto"})}}}openYandexReverseImageSearch(i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(this.stateService.target().thumbnailLink.replace(new RegExp("=s..."),"=s9999"));i.altKey?(navigator.clipboard.writeText(r),this.tippyService.create(i.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}startImageComparison(){this.dialogService.create(bG,{images:this.stateService.filter()})}openTagEditor(i,r,o){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<tn.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(_G,{group:r,tag:o})}openGroupEditor(i,r){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<tn.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(yC,{group:r})}openGroupSizeFilterDialog(){this.dialogService.create(wG).then(i=>{i&&(this.stateService.refreshFilter(),this.googleService.updateData())})}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name)}onFilterStateChange(i,r){i.state=r.state,this.stateService.refreshFilter(),this.googleService.updateData()}onLikesStateChange(i){this.stateService.heartsFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onBookmarksStateChange(i){this.stateService.bookmarksFilter=i.state,this.stateService.refreshFilter(),this.googleService.updateData()}onPreviewClick(){this.stateService.fullscreenVisible.set(!0)}onGroupPreviewClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<tn.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.target.set(r)}onGroupPreviewDoubleClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<tn.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.fullscreenVisible.set(!0)}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i))}};e.\u0275fac=function(r){return new(r||e)(N(Tn),N(ki),N(ur),N(zn),N(rH))},e.\u0275cmp=fe({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[Ee],decls:2,vars:3,consts:[[1,"sidebar-visibility-container"],["class","sidebar-content",4,"ngVar"],[1,"sidebar-content"],[1,"sidebar-half","sidebar-half-top"],[1,"sidebar-preview-container"],[1,"sidebar-preview",3,"src","click"],[1,"sidebar-preview-group-container"],[1,"sidebar-preview-group-scroll-container"],[1,"sidebar-preview-group-border-container"],["class","sidebar-preview-group-image",3,"aspect-ratio","src","draggable","onCreate","load","click","dblclick",4,"ngFor","ngForOf"],[1,"absolute","top","left"],["tp","Yandex Reverse Image Search",1,"icon-button","fa-solid","fa-y",3,"click"],["tp","Pairwise Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"absolute","top","right"],["class","icon-button fa-solid fa-xmark desktop-hidden",3,"click",4,"ngIf"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"absolute","bottom","left"],[1,"absolute","bottom","right"],["tp","Copy base64 data",1,"icon-button","fa-solid","fa-cloud-arrow-down",3,"click"],["tp","Open in Google Drive",1,"icon-button","fa-solid","fa-folder-open",3,"click"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"sidebar-half",2,"position","relative"],[1,"sidebar-filter-header"],[1,"flex",2,"justify-content","start"],["tp","Group Mode",1,"icon-button","fa-regular",3,"ngClass","click"],["tp","Group Size Filter Configuration",1,"icon-button","fa-solid","fa-hashtag",3,"click"],[1,"flex",2,"justify-content","center"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"flex",2,"justify-content","end"],["tp","Tag Editor",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"taglist-scrollbar-container"],[1,"sidebar-filter-list"],[1,"sidebar-item"],[3,"tri","state","stateChange"],[1,"fa-solid","fa-heart"],[1,"sidebar-item-label"],[3,"state","stateChange"],[1,"fa-solid","fa-bookmark"],["class","sidebar-group",4,"ngFor","ngForOf"],[1,"sidebar-preview-group-image",3,"src","draggable","onCreate","load","click","dblclick"],[1,"icon-button","fa-solid","fa-xmark","desktop-hidden",3,"click"],[1,"sidebar-group"],[1,"h-separator"],[1,"sidebar-group-header","sidebar-item-label",3,"click"],[2,"visibility","hidden",3,"state"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item-label",3,"click"]],template:function(r,o){r&1&&(I(0,"div",0),z(1,ife,48,20,"div",1),S()),r&2&&(it("visible",o.stateService.sidebarVisible),D(),O("ngVar",o.stateService.target()))},dependencies:[Te,sr,It,St,yG,Vc,jc],styles:[".sidebar-visibility-container[_ngcontent-%COMP%]{height:100%;display:flex;z-index:10}@media screen and (min-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){display:none}}@media screen and (max-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]{width:100%;position:absolute;transition:.5s}.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){position:absolute;opacity:0;visibility:hidden;pointer-events:none}}.sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:300px;min-width:300px}}@media screen and (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:100%;min-width:initial;background-color:#000000e6;transition:.5s}}.sidebar-half[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;min-height:0}.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{position:relative;margin:.334rem}@media screen and (min-width: 768px){.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{gap:0}}.sidebar-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:0;flex:1}.sidebar-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.334rem;object-fit:contain}.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;min-height:110px;margin:.334rem -.334rem 0}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow:hidden;margin:0 -.334rem -.334rem}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{display:flex;gap:.334rem;box-sizing:border-box;border-radius:.501rem;max-width:100vw}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{overflow:hidden}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container.hovering[_ngcontent-%COMP%]{position:absolute;z-index:21;padding-left:calc(100vw - 300px);right:-.334rem}.sidebar-preview-group-border-container[_ngcontent-%COMP%]{display:flex;gap:.334rem;padding:0 .334rem}@media screen and (min-width: 768px){.sidebar-preview-group-border-container[_ngcontent-%COMP%]{background-color:var(--color-background);padding:.334rem;border-radius:.501rem}}.sidebar-preview-group-image[_ngcontent-%COMP%]{height:110px;border-radius:.334rem}.sidebar-preset-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sidebar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.167rem}.sidebar-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:.167rem;border-radius:.668rem}.sidebar-item[_ngcontent-%COMP%]:nth-child(odd){background-color:#ffffff0d}.sidebar-item[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.sidebar-group-header[_ngcontent-%COMP%]{font-size:18px;text-decoration:underline}.sidebar-item-label[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:text}.sidebar-filter-header[_ngcontent-%COMP%]{display:flex;gap:.334rem;justify-content:space-between;padding:0 .334rem}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fill-available;height:30px;padding:0 .334rem;border-radius:.334rem;box-sizing:border-box;border:0}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:initial}.taglist-scrollbar-container[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:.334rem}.taglist-scrollbar-container[_ngcontent-%COMP%]   .sidebar-filter-list[_ngcontent-%COMP%]{font-size:16px;display:flex;flex-direction:column;gap:.167rem}"]});let t=e;return t})();var CG=(()=>{let e=class e{constructor(i,r,o,a){this.sanitizer=i,this.applicationService=r,this.stateService=o,this.googleService=a,this.applicationService.loading.next(!0)}ngOnInit(){this.initKeybinds(),this.googleService.getData().then(i=>{this.stateService.rootFolderId=i.rootFolderId,this.stateService.heartsFilter=i.heartsFilter,this.stateService.bookmarksFilter=i.bookmarksFilter,this.stateService.groupSizeFilterMin=i.groupSizeFilterMin,this.stateService.groupSizeFilterMax=i.groupSizeFilterMax,this.stateService.tagGroups=i.tagGroups,this.processData(i)})}processData(i,r=this.stateService.rootFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(h=>to.isFolder(h)))this.processData(i,d.id,o,a);if(se.push(o,this.metaToImages(l,i.imageProperties)),--a.calls==0){this.stateService.images=o,this.stateService.groups=i.groupProperties.map(d=>{let h=new mC;return h.images=this.stateService.images.filter(m=>d.imageIds.includes(m.id)),h.images.forEach(m=>m.group=h),h.star=d.starId?h.star=h.images.find(m=>m.id==d.starId):h.images[0],h}),this.stateService.refreshFilter(),this.stateService.target.set(se.getFirst(this.stateService.filter()));for(let d of se.difference(i.imageProperties,this.stateService.images,(h,m)=>h.id==m.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),se.remove(this.stateService.images,this.stateService.images.find(h=>h.id==d.id));this.stateService.tagCounts._heart=this.stateService.images.filter(d=>d.heart).length,this.stateService.tagCounts._bookmark=this.stateService.images.filter(d=>d.bookmark).length;for(let d of this.stateService.tagGroups)for(let h of d.tags)this.stateService.tagCounts[h.id]=0;for(let d of this.stateService.images)for(let h of d.tags)this.stateService.tagCounts[h]++;this.applicationService.loading.next(!1)}})}metaToImages(i,r){return i.filter(o=>to.isImage(o)||to.isVideo(o)).map(o=>this.metaToImage(o,r.find(a=>a.id==o.id),this.applicationService.reduceBandwidth))}metaToImage(i,r,o){let a=new vC;return a.id=i.id,a.name=i.name,a.mimeType=i.mimeType,i.thumbnailLink&&(o?a.thumbnailLink=i.thumbnailLink:a.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),to.isImage(a)?(a.imageMediaMetadata=i.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):to.isVideo(a)&&(a.videoMediaMetadata=i.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview"))),r?(a.heart=r.heart,a.bookmark=r.bookmark,a.tags=r.tags):a.tags=[],a}initKeybinds(){document.addEventListener("keyup",i=>{if(["BODY","VIDEO"].includes(document.activeElement.nodeName))switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(r=>!r);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(Ns.getNearestImageUp(this.stateService.target(),this.stateService.filter()));break;case"KeyD":case"ArrowRight":this.stateService.target.set(Ns.getNearestImageRight(this.stateService.target(),this.stateService.filter()));break;case"KeyS":case"ArrowDown":this.stateService.target.set(Ns.getNearestImageDown(this.stateService.target(),this.stateService.filter()));break;case"KeyA":case"ArrowLeft":this.stateService.target.set(Ns.getNearestImageLeft(this.stateService.target(),this.stateService.filter()));break}})}};e.\u0275fac=function(r){return new(r||e)(N(rP),N(Tn),N(ki),N(ur))},e.\u0275cmp=fe({type:e,selectors:[["app-gallery"]],standalone:!0,features:[Ee],decls:4,vars:2,consts:[[1,"content-container"]],template:function(r,o){r&1&&(I(0,"div",0),oe(1,"app-masonry")(2,"app-fullscreen"),S(),oe(3,"app-sidebar")),r&2&&(D(),O("@enter",void 0),D(2),O("@enter",void 0))},dependencies:[Te,gG,vG,EG],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative}@media screen and (min-width: 768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%;height:100%}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute}}"],data:{animation:[kc]}});let t=e;return t})();var IG="https://mazacik.github.io",mR={production:!0,baseUrl:IG,redirectUrl:IG+"/login"};var Of=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+mR.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:mR.redirectUrl,plugin_name:"TagalleryWeb"};yield H_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield H_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(re(Pl))},e.\u0275prov=ee({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var SG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(N(Ei),N(Dr),N(Of))},e.\u0275cmp=fe({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(I(0,"div",0),R("click",function(){return o.signIn()}),oe(1,"img",1),I(2,"span",2),$(3,"Sign in with Google"),S()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var _C=(t,e)=>E(void 0,null,function*(){console.log("guard: start");let n=te(Dr),i=te(Of);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.createUrlTree(["/login"])});var TG=(t,e)=>{let n=te(Dr),i=sessionStorage.getItem("dataFileId");return Dt.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};function ofe(t,e){if(t&1){let n=le();I(0,"span",4),R("click",function(){F(n);let r=M();return L(r.parseText())}),$(1,"Parse"),S()}}function sfe(t,e){if(t&1){let n=le();I(0,"div",6)(1,"span",4),R("click",function(){F(n);let r=M(2);return L(r.onEntryClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),$(2),S(),I(3,"span",4),R("click",function(){F(n);let r=M(2);return L(r.onEntryClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),$(4),S()()}if(t&2){let n=M(2);D(2),_e(n.tournament.comparison[0]),D(2),_e(n.tournament.comparison[1])}}function afe(t,e){if(t&1&&(ut(0),z(1,sfe,5,2,"div",5),dt()),t&2){let n=M();D(),O("ngIf",n.tournament.comparison)}}var DG=(()=>{let e=class e{constructor(){this.text=`01
02
03
04
05
06
07
08
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Pf(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.addComparisonResult(i,r),this.text=this.tournament.outcome.join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=fe({type:e,selectors:[["app-tournament"]],standalone:!0,features:[Ee],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"textarea",1),Fe("ngModelChange",function(l){return Ve(o.text,l)||(o.text=l),l}),S(),z(2,ofe,2,0,"span",2),S(),z(3,afe,2,1,"ng-container",3)),r&2&&(D(),O("placeholder",o.tournament?"Leaderboard":"Entries"),ke("ngModel",o.text),O("readOnly",o.tournament),D(),O("ngIf",!o.tournament),D(),O("ngIf",o.tournament))},dependencies:[Te,St,Tt,Ut,Qt,Gt],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.334rem;margin:.334rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.167rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.167rem .334rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.334rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var AG=[{path:"login",component:SG},{path:"adventure",canActivate:[_C],component:BH},{path:"folder-picker",canActivate:[_C],component:mG},{path:"gallery",canActivate:[_C,TG],component:CG},{path:"tournament",component:DG},{path:"event/:id",component:lG,children:[{path:"hlasovanie/vysledky",component:hG},{path:"hlasovanie",component:pG},{path:"pravidla",component:fG},{path:"**",redirectTo:"hlasovanie"}]},{path:"**",redirectTo:"event/2024-splav"}];var xG=(t,e)=>{let n=te(Of);return e(MG(n,t)).pipe(qo(i=>cfe(n,i,t,e)))},MG=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,cfe=(t,e,n,i)=>E(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i(MG(t,n))});Z$(lH,{providers:[P6(),d9(AG,h9({paramsInheritanceStrategy:"always"})),Zj(tU(),eU([xG])),im(xU(()=>MU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),im(B$(()=>q$())),im(RB(()=>NB())),oH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,6]}}})]}).catch(t=>console.error(t));
