var DG=Object.create;var b_=Object.defineProperty,xG=Object.defineProperties,AG=Object.getOwnPropertyDescriptor,MG=Object.getOwnPropertyDescriptors,PG=Object.getOwnPropertyNames,w_=Object.getOwnPropertySymbols,R2=Object.getPrototypeOf,rS=Object.prototype.hasOwnProperty,N2=Object.prototype.propertyIsEnumerable,OG=Reflect.get;var k2=(t,e,n)=>e in t?b_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ie=(t,e)=>{for(var n in e||={})rS.call(e,n)&&k2(t,n,e[n]);if(w_)for(var n of w_(e))N2.call(e,n)&&k2(t,n,e[n]);return t},Dt=(t,e)=>xG(t,MG(e));var oS=(t,e)=>{var n={};for(var i in t)rS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&w_)for(var i of w_(t))e.indexOf(i)<0&&N2.call(t,i)&&(n[i]=t[i]);return n};var kG=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),RG=(t,e)=>{for(var n in e)b_(t,n,{get:e[n],enumerable:!0})},NG=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of PG(e))!rS.call(t,r)&&r!==n&&b_(t,r,{get:()=>e[r],enumerable:!(i=AG(e,r))||i.enumerable});return t};var FG=(t,e,n)=>(n=t!=null?DG(R2(t)):{},NG(e||!t||!t.__esModule?b_(n,"default",{value:t,enumerable:!0}):n,t));var $a=(t,e,n)=>OG(R2(t),n,e);var E=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(f){r(f)}},a=d=>{try{l(n.throw(d))}catch(f){r(f)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var Tz=kG((MOe,IE)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(S,D){D=D||{};var O=document.createEvent("CustomEvent");return O.initCustomEvent(S,!!D.bubbles,!!D.cancelable,D.detail||null),O},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var S=window.getComputedStyle(w),D=function(O,V){return!(S[O]===void 0||S[O]===V)};if(S.opacity<1||D("zIndex","auto")||D("transform","none")||D("mixBlendMode","normal")||D("filter","none")||D("perspective","none")||S.isolation==="isolate"||S.position==="fixed"||S.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,S){for(var D=0;D<w.length;++D)if(w[D]===S)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var S=new MutationObserver(this.maybeHideModal.bind(this));S.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var D=!1,O=(function(){D?this.downgradeModal():this.maybeHideModal(),D=!1}).bind(this),V,q=function(A){if(A.target===w){var ne="DOMNodeRemoved";D|=A.type.substr(0,ne.length)===ne,window.clearTimeout(V),V=window.setTimeout(O,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(A){w.addEventListener(A,q)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var S=document.createElement("div");this.dialog_.insertBefore(S,this.dialog_.firstChild),S.tabIndex=-1,S.focus(),this.dialog_.removeChild(S)}var D=document.createEvent("MouseEvents");D.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(D),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var S=["button","input","keygen","select","textarea"],D=S.map(function(O){return O+":not([disabled])"});D.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(D.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,S){if(w<S)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=S},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var S=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(S)}};var l={};if(l.reposition=function(w){var S=document.body.scrollTop||document.documentElement.scrollTop,D=S+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(S,D)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var S=0;S<document.styleSheets.length;++S){var D=document.styleSheets[S],O=null;try{O=D.cssRules}catch{}if(O)for(var V=0;V<O.length;++V){var q=O[V],A=null;try{A=document.querySelectorAll(q.selectorText)}catch{}if(!(!A||!r(A,w))){var ne=q.style.getPropertyValue("top"),U=q.style.getPropertyValue("bottom");if(ne&&ne!=="auto"||U&&U!=="auto")return!0}}}return!1},l.needsCentering=function(w){var S=window.getComputedStyle(w);return S.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(S){this.forwardTab_=void 0,S.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(S){var D=[];S.forEach(function(O){for(var V=0,q;q=O.removedNodes[V];++V){if(q instanceof Element)q.localName==="dialog"&&D.push(q);else continue;D=D.concat(q.querySelectorAll("dialog"))}}),D.length&&w(D)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,S=0,D;D=this.pendingDialogStack[S];++S)D.updateZIndex(--w,--w),S===0&&(this.overlay.style.zIndex=--w);var O=this.pendingDialogStack[0];if(O){var V=O.dialog.parentNode||document.body;V.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var S=0,D;D=this.pendingDialogStack[S];++S)if(D.dialog===w)return S===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var S=this.pendingDialogStack[0],D=S.dialog,O=D.compareDocumentPosition(w.target);return O&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?S.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var S=new t("cancel",{bubbles:!1,cancelable:!0}),D=this.pendingDialogStack[0];D&&D.dialog.dispatchEvent(S)&&D.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var S=this.pendingDialogStack.slice();S.forEach(function(D){w.indexOf(D.dialog)!==-1?D.downgradeModal():D.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var S=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=S?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var S=this.pendingDialogStack.indexOf(w);S!==-1&&(this.pendingDialogStack.splice(S,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var p=f.get;f.get=function(){return o(this)?"dialog":p.call(this)};var v=f.set;f.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var S=w.target;if(!(!S||!o(S.form))){var D=S.type==="submit"&&["button","input"].indexOf(S.localName)>-1;if(!D){if(!(S.localName==="input"&&S.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var O=n(S);O&&(l.formSubmitter=S)}}},!1);var y=HTMLFormElement.prototype.submit,I=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(w){var S=w.target;if(o(S)){w.preventDefault();var D=n(S);if(D){var O=l.formSubmitter;O&&O.form===S?D.close(l.useValue||O.value):D.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof IE=="object"&&typeof IE.exports=="object"?IE.exports=l:window.dialogPolyfill=l})()});function LG(t,e){return Object.is(t,e)}var ci=null,Up=!1,C_=1,Ha=Symbol("SIGNAL");function Ot(t){let e=ci;return ci=t,e}function VG(){return Up}var E_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function F2(t){if(Up)throw new Error("");if(ci===null)return;ci.consumerOnSignalRead(t);let e=ci.nextProducerIndex++;if(Id(ci),e<ci.producerNode.length&&ci.producerNode[e]!==t&&Bp(ci)){let n=ci.producerNode[e];S_(n,ci.producerIndexOfThis[e])}ci.producerNode[e]!==t&&(ci.producerNode[e]=t,ci.producerIndexOfThis[e]=Bp(ci)?U2(t,ci,e):0),ci.producerLastReadVersion[e]=t.version}function jG(){C_++}function UG(t){if(!(Bp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===C_)){if(!t.producerMustRecompute(t)&&!I_(t)){t.dirty=!1,t.lastCleanEpoch=C_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=C_}}function L2(t){if(t.liveConsumerNode===void 0)return;let e=Up;Up=!0;try{for(let n of t.liveConsumerNode)n.dirty||j2(n)}finally{Up=e}}function V2(){return ci?.consumerAllowSignalWrites!==!1}function j2(t){t.dirty=!0,L2(t),t.consumerMarkedDirty?.(t)}function aS(t){return t&&(t.nextProducerIndex=0),Ot(t)}function cS(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)S_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function I_(t){Id(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(UG(n),i!==n.version))return!0}return!1}function lS(t){if(Id(t),Bp(t))for(let e=0;e<t.producerNode.length;e++)S_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function U2(t,e,n){if(B2(t),Id(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=U2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function S_(t,e){if(B2(t),Id(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)S_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Id(r),r.producerIndexOfThis[i]=e}}function Bp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Id(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function B2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function BG(){throw new Error}var $2=BG;function H2(){$2()}function z2(t){$2=t}var $G=null;function q2(t){let e=Object.create(W2);e.value=t;let n=()=>(F2(e),e.value);return n[Ha]=e,n}function uS(t,e){V2()||H2(),t.equal(t.value,e)||(t.value=e,HG(t))}function G2(t,e){V2()||H2(),uS(t,e(t.value))}var W2=Dt(ie({},E_),{equal:LG,value:void 0});function HG(t){t.version++,jG(),L2(t),$G?.()}function K2(t,e,n){let i=Object.create(zG);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(lS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=sS)}let l=()=>{if(i.fn===null)return;if(VG())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!I_(i))return;i.hasRun=!0;let d=aS(i);try{i.cleanupFn(),i.cleanupFn=sS,i.fn(r)}finally{cS(i,d)}};return i.ref={notify:()=>j2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[Ha]:i},i.ref}var sS=()=>{},zG=Dt(ie({},E_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:sS});function De(t){return typeof t=="function"}function Sd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var T_=Sd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function cl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var On=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof T_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Q2(o)}catch(a){e=e??[],a instanceof T_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new T_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Q2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&cl(n,e)}remove(e){let{_finalizers:n}=this;n&&cl(n,e),e instanceof t&&e._removeParent(this)}};On.EMPTY=(()=>{let t=new On;return t.closed=!0,t})();var dS=On.EMPTY;function D_(t){return t instanceof On||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function Q2(t){De(t)?t():t.unsubscribe()}var po={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Td={setTimeout(t,e,...n){let{delegate:i}=Td;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Td;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function x_(t){Td.setTimeout(()=>{let{onUnhandledError:e}=po;if(e)e(t);else throw t})}function $p(){}var Y2=hS("C",void 0,void 0);function J2(t){return hS("E",void 0,t)}function X2(t){return hS("N",t,void 0)}function hS(t,e,n){return{kind:t,value:e,error:n}}var ll=null;function Dd(t){if(po.useDeprecatedSynchronousErrorHandling){let e=!ll;if(e&&(ll={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ll;if(ll=null,n)throw i}}else t()}function Z2(t){po.useDeprecatedSynchronousErrorHandling&&ll&&(ll.errorThrown=!0,ll.error=t)}var ul=class extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,D_(e)&&e.add(this)):this.destination=WG}static create(e,n,i){return new za(e,n,i)}next(e){this.isStopped?pS(X2(e),this):this._next(e)}error(e){this.isStopped?pS(J2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pS(Y2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qG=Function.prototype.bind;function fS(t,e){return qG.call(t,e)}var mS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){A_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){A_(i)}else A_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){A_(n)}}},za=class extends ul{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&po.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&fS(e.next,o),error:e.error&&fS(e.error,o),complete:e.complete&&fS(e.complete,o)}):r=e}this.destination=new mS(r)}};function A_(t){po.useDeprecatedSynchronousErrorHandling?Z2(t):x_(t)}function GG(t){throw t}function pS(t,e){let{onStoppedNotification:n}=po;n&&Td.setTimeout(()=>n(t,e))}var WG={closed:!0,next:$p,error:GG,complete:$p};var xd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wr(t){return t}function gS(...t){return vS(t)}function vS(t){return t.length===0?wr:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=QG(n)?n:new za(n,i,r);return Dd(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=eL(i),new i((r,o)=>{let a=new za({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[xd](){return this}pipe(...n){return vS(n)(this)}toPromise(n){return n=eL(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function eL(t){var e;return(e=t??po.Promise)!==null&&e!==void 0?e:Promise}function KG(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function QG(t){return t&&t instanceof ul||KG(t)&&D_(t)}function yS(t){return De(t?.lift)}function pt(t){return e=>{if(yS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(t,e,n,i,r){return new _S(t,e,n,i,r)}var _S=class extends ul{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ad(){return pt((t,e)=>{let n=null;t._refCount++;let i=ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Md=class extends je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,yS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new On;let n=this.getSubject();e.add(this.source.subscribe(ot(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=On.EMPTY)}return e}refCount(){return Ad()(this)}};var tL=Sd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var li=(()=>{class t extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new M_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new tL}next(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Dd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?dS:(this.currentObservers=null,o.push(n),new On(()=>{this.currentObservers=null,cl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new je;return n.source=this,n}}return t.create=(e,n)=>new M_(e,n),t})(),M_=class extends li{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:dS}};var Yn=class extends li{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var wS={now(){return(wS.delegate||Date).now()},delegate:void 0};var P_=class extends On{constructor(e,n){super()}schedule(e,n=0){return this}};var Hp={setInterval(t,e,...n){let{delegate:i}=Hp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Hp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Pd=class extends P_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Hp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Hp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,cl(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Od=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Od.now=wS.now;var kd=class extends Od{constructor(e,n=Od.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Rd=new kd(Pd),bS=Rd;var O_=class extends Pd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var k_=class extends kd{};var CS=new k_(O_);var sr=new je(t=>t.complete());function R_(t){return t&&De(t.schedule)}function ES(t){return t[t.length-1]}function N_(t){return De(ES(t))?t.pop():void 0}function Yo(t){return R_(ES(t))?t.pop():void 0}function nL(t,e){return typeof ES(t)=="number"?t.pop():e}function F_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function rL(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(p){try{f(i.next(p))}catch(v){a(v)}}function d(p){try{f(i.throw(p))}catch(v){a(v)}}function f(p){p.done?o(p.value):r(p.value).then(l,d)}f((i=i.apply(t,e||[])).next())})}function iL(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dl(t){return this instanceof dl?(this.v=t,this):new dl(t)}function oL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(I){return new Promise(function(w,S){o.push([y,I,w,S])>1||l(y,I)})})}function l(y,I){try{d(i[y](I))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof dl?Promise.resolve(y.value.v).then(f,p):v(o[0][2],y)}function f(y){l("next",y)}function p(y){l("throw",y)}function v(y,I){y(I),o.shift(),o.length&&l(o[0][0],o[0][1])}}function sL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iL=="function"?iL(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},a)}}var Nd=t=>t&&typeof t.length=="number"&&typeof t!="function";function L_(t){return De(t?.then)}function V_(t){return De(t[xd])}function j_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function U_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YG(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var B_=YG();function $_(t){return De(t?.[B_])}function H_(t){return oL(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield dl(n.read());if(r)return yield dl(void 0);yield yield dl(i)}}finally{n.releaseLock()}})}function z_(t){return De(t?.getReader)}function Wt(t){if(t instanceof je)return t;if(t!=null){if(V_(t))return JG(t);if(Nd(t))return XG(t);if(L_(t))return ZG(t);if(j_(t))return aL(t);if($_(t))return eW(t);if(z_(t))return tW(t)}throw U_(t)}function JG(t){return new je(e=>{let n=t[xd]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XG(t){return new je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZG(t){return new je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,x_)})}function eW(t){return new je(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function aL(t){return new je(e=>{nW(t,e).catch(n=>e.error(n))})}function tW(t){return aL(H_(t))}function nW(t,e){var n,i,r,o;return rL(this,void 0,void 0,function*(){try{for(n=sL(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function ar(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function qa(t,e=0){return pt((n,i)=>{n.subscribe(ot(i,r=>ar(i,t,()=>i.next(r),e),()=>ar(i,t,()=>i.complete(),e),r=>ar(i,t,()=>i.error(r),e)))})}function Ga(t,e=0){return pt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function cL(t,e){return Wt(t).pipe(Ga(e),qa(e))}function lL(t,e){return Wt(t).pipe(Ga(e),qa(e))}function uL(t,e){return new je(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function dL(t,e){return new je(n=>{let i;return ar(n,e,()=>{i=t[B_](),ar(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function q_(t,e){if(!t)throw new Error("Iterable cannot be null");return new je(n=>{ar(n,e,()=>{let i=t[Symbol.asyncIterator]();ar(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function hL(t,e){return q_(H_(t),e)}function fL(t,e){if(t!=null){if(V_(t))return cL(t,e);if(Nd(t))return uL(t,e);if(L_(t))return lL(t,e);if(j_(t))return q_(t,e);if($_(t))return dL(t,e);if(z_(t))return hL(t,e)}throw U_(t)}function Kt(t,e){return e?fL(t,e):Wt(t)}function Fe(...t){let e=Yo(t);return Kt(t,e)}function Fd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new je(e?r=>e.schedule(i,0,r):i)}function IS(t){return!!t&&(t instanceof je||De(t.lift)&&De(t.subscribe))}var br=Sd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Cr(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new br)}})})}function G_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new za({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new br)}});t.subscribe(o)})}function pL(t){return t instanceof Date&&!isNaN(t)}function Le(t,e){return pt((n,i)=>{let r=0;n.subscribe(ot(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:iW}=Array;function rW(t,e){return iW(e)?t(...e):t(e)}function Ld(t){return Le(e=>rW(t,e))}var{isArray:oW}=Array,{getPrototypeOf:sW,prototype:aW,keys:cW}=Object;function W_(t){if(t.length===1){let e=t[0];if(oW(e))return{args:e,keys:null};if(lW(e)){let n=cW(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function lW(t){return t&&typeof t=="object"&&sW(t)===aW}function K_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Q_(...t){let e=Yo(t),n=N_(t),{args:i,keys:r}=W_(t);if(i.length===0)return Kt([],e);let o=new je(uW(i,e,r?a=>K_(r,a):wr));return n?o.pipe(Ld(n)):o}function uW(t,e,n=wr){return i=>{mL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)mL(e,()=>{let f=Kt(t[d],e),p=!1;f.subscribe(ot(i,v=>{o[d]=v,p||(p=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function mL(t,e,n){t?ar(n,t,e):e()}function gL(t,e,n,i,r,o,a,l){let d=[],f=0,p=0,v=!1,y=()=>{v&&!d.length&&!f&&e.complete()},I=S=>f<i?w(S):d.push(S),w=S=>{o&&e.next(S),f++;let D=!1;Wt(n(S,p++)).subscribe(ot(e,O=>{r?.(O),o?I(O):e.next(O)},()=>{D=!0},void 0,()=>{if(D)try{for(f--;d.length&&f<i;){let O=d.shift();a?ar(e,a,()=>w(O)):w(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(ot(e,I,()=>{v=!0,y()})),()=>{l?.()}}function kn(t,e,n=1/0){return De(e)?kn((i,r)=>Le((o,a)=>e(i,o,r,a))(Wt(t(i,r))),n):(typeof e=="number"&&(n=e),pt((i,r)=>gL(i,r,t,n)))}function Wa(t=1/0){return kn(wr,t)}function vL(){return Wa(1)}function Vd(...t){return vL()(Kt(t,Yo(t)))}function Y_(t){return new je(e=>{Wt(t()).subscribe(e)})}function SS(...t){let e=N_(t),{args:n,keys:i}=W_(t),r=new je(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,f=a;for(let p=0;p<a;p++){let v=!1;Wt(n[p]).subscribe(ot(o,y=>{v||(v=!0,f--),l[p]=y},()=>d--,void 0,()=>{(!d||!v)&&(f||o.next(i?K_(i,l):l),o.complete())}))}});return e?r.pipe(Ld(e)):r}var dW=["addListener","removeListener"],hW=["addEventListener","removeEventListener"],fW=["on","off"];function jd(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return jd(t,e,n).pipe(Ld(i));let[r,o]=gW(t)?hW.map(a=>l=>t[a](e,l,n)):pW(t)?dW.map(yL(t,e)):mW(t)?fW.map(yL(t,e)):[];if(!r&&Nd(t))return kn(a=>jd(a,e,n))(Wt(t));if(!r)throw new TypeError("Invalid event target");return new je(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function yL(t,e){return n=>i=>t[n](e,i)}function pW(t){return De(t.addListener)&&De(t.removeListener)}function mW(t){return De(t.on)&&De(t.off)}function gW(t){return De(t.addEventListener)&&De(t.removeEventListener)}function _L(t=0,e,n=bS){let i=-1;return e!=null&&(R_(e)?n=e:i=e),new je(r=>{let o=pL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function zp(...t){let e=Yo(t),n=nL(t,1/0),i=t;return i.length?i.length===1?Wt(i[0]):Wa(n)(Kt(i,e)):sr}function ui(t,e){return pt((n,i)=>{let r=0;n.subscribe(ot(i,o=>t.call(e,o,r++)&&i.next(o)))})}function wL(t){return pt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let f=r;r=null,n.next(f)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(ot(n,f=>{i=!0,r=f,o||Wt(t(f)).subscribe(o=ot(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function TS(t,e=Rd){return wL(()=>_L(t,e))}function Jo(t){return pt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(ot(n,void 0,void 0,a=>{o=Wt(t(a,Jo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function bL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,f=0;o.subscribe(ot(a,p=>{let v=f++;d=l?t(d,p,v):(l=!0,p),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Ka(t,e){return De(e)?kn(t,e,1):kn(t,1)}function Qa(t){return pt((e,n)=>{let i=!1;e.subscribe(ot(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function zs(t){return t<=0?()=>sr:pt((e,n)=>{let i=0;e.subscribe(ot(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function DS(t){return Le(()=>t)}function J_(t=vW){return pt((e,n)=>{let i=!1;e.subscribe(ot(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function vW(){return new br}function hl(t){return pt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Xo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ui((r,o)=>t(r,o,i)):wr,zs(1),n?Qa(e):J_(()=>new br))}function Ud(t){return t<=0?()=>sr:pt((e,n)=>{let i=[];e.subscribe(ot(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function xS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ui((r,o)=>t(r,o,i)):wr,Ud(1),n?Qa(e):J_(()=>new br))}function AS(t,e){return pt(bL(t,e,arguments.length>=2,!0))}function MS(t){return ui((e,n)=>t<=n)}function PS(...t){let e=Yo(t);return pt((n,i)=>{(e?Vd(t,n,e):Vd(t,n)).subscribe(i)})}function Mi(t,e){return pt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(ot(i,d=>{r?.unsubscribe();let f=0,p=o++;Wt(t(d,p)).subscribe(r=ot(i,v=>i.next(e?e(d,v,p,f++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function mo(t){return pt((e,n)=>{Wt(t).subscribe(ot(n,()=>n.complete(),$p)),!n.closed&&e.subscribe(n)})}function Rn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?pt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(ot(o,d=>{var f;(f=i.next)===null||f===void 0||f.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var f;l=!1,(f=i.error)===null||f===void 0||f.call(i,d),o.error(d)},()=>{var d,f;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(f=i.finalize)===null||f===void 0||f.call(i)}))}):wr}var lV="https://g.co/ng/security#xss",te=class extends Error{constructor(e,n){super(M0(e,n)),this.code=e}};function M0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var WS=class extends li{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Ot(null);try{super.next(e)}finally{Ot(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=OS(o),r&&(r=OS(r)),a&&(a=OS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof On&&e.add(l),l}};function OS(t){return e=>{setTimeout(t,void 0,e)}}var zt=WS;var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lt||{});function Wi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Wi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function KS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uV=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(uV||{}),ts=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ts||{});function nm(t){return{toString:t}.toString()}var qs=globalThis;var Gd={},cr=[];function qt(t){for(let e in t)if(t[e]===qt)return e;throw Error("Could not find renamed property on target object.")}function yW(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var _W=qt({\u0275cmp:qt}),wW=qt({\u0275dir:qt}),bW=qt({\u0275pipe:qt}),CW=qt({\u0275mod:qt}),d0=qt({\u0275fac:qt}),qp=qt({__NG_ELEMENT_ID__:qt}),CL=qt({__NG_ENV_ID__:qt}),xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xe||{});function dV(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function QS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];EW(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function hV(t){return t===3||t===4||t===6}function EW(t){return t.charCodeAt(0)===64}function Gp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?EL(t,n,r,null,e[++i]):EL(t,n,r,null,null))}}return t}function EL(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var fV="ng-template";function IW(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&dV(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function pV(t){return t.type===4&&t.value!==fV}function SW(t,e,n){let i=t.type===4&&!n?fV:t.value;return e===i}function TW(t,e,n){let i=4,r=t.attrs||[],o=AW(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!go(i)&&!go(d))return!1;if(a&&go(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!SW(t,d,n)||d===""&&e.length===1){if(go(i))return!1;a=!0}}else{let f=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!IW(t.attrs,f,n)){if(go(i))return!1;a=!0}continue}let p=i&8?"class":d,v=DW(p,r,pV(t),n);if(v===-1){if(go(i))return!1;a=!0;continue}if(f!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let I=i&8?y:null;if(I&&dV(I,f,0)!==-1||i&2&&f!==y){if(go(i))return!1;a=!0}}}}return go(i)||a}function go(t){return(t&1)===0}function DW(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return MW(e,t)}function xW(t,e,n=!1){for(let i=0;i<e.length;i++)if(TW(t,e[i],n))return!0;return!1}function AW(t){for(let e=0;e<t.length;e++){let n=t[e];if(hV(n))return e}return t.length}function MW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function IL(t,e){return t?":not("+e.trim()+")":e}function PW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!go(a)&&(e+=IL(o,r),r=""),i=a,o=o||!go(i);n++}return r!==""&&(e+=IL(o,r)),e}function OW(t){return t.map(PW).join(",")}function kW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!go(r))break;r=o}i++}return{attrs:e,classes:n}}function le(t){return nm(()=>{let e=_V(t),n=Dt(ie({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===uV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ts.Emulated,styles:t.styles||cr,_:null,schemas:t.schemas||null,tView:null,id:""});wV(n);let i=t.dependencies;return n.directiveDefs=TL(i,!1),n.pipeDefs=TL(i,!0),n.id=FW(n),n})}function RW(t){return Xa(t)||mV(t)}function NW(t){return t!==null}function Ki(t){return nm(()=>({type:t.type,bootstrap:t.bootstrap||cr,declarations:t.declarations||cr,imports:t.imports||cr,exports:t.exports||cr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function SL(t,e){if(t==null)return Gd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=xe.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==xe.None?[i,l]:i,e[o]=a):n[o]=i}return n}function At(t){return nm(()=>{let e=_V(t);return wV(e),e})}function Xa(t){return t[_W]||null}function mV(t){return t[wW]||null}function gV(t){return t[bW]||null}function vV(t){let e=Xa(t)||mV(t)||gV(t);return e!==null?e.standalone:!1}function yV(t,e){let n=t[CW]||null;if(!n&&e===!0)throw new Error(`Type ${Wi(t)} does not have '\u0275mod' property.`);return n}function _V(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Gd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||cr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SL(t.inputs,e),outputs:SL(t.outputs),debugInfo:null}}function wV(t){t.features?.forEach(e=>e(t))}function TL(t,e){if(!t)return null;let n=e?gV:RW;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(NW)}function FW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ss=0,st=1,Re=2,_i=3,vo=4,wo=5,h0=6,Wp=7,yo=8,Wd=9,Gs=10,yn=11,Kp=12,DL=13,ih=14,ns=15,im=16,Bd=17,Ws=18,P0=19,bV=20,Ja=21,r0=22,ml=23,is=25,KT=1;var gl=7,f0=8,Kd=9,Er=10,QT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(QT||{});function fl(t){return Array.isArray(t)&&typeof t[KT]=="object"}function Zs(t){return Array.isArray(t)&&t[KT]===!0}function YT(t){return(t.flags&4)!==0}function O0(t){return t.componentOffset>-1}function k0(t){return(t.flags&1)===1}function Ks(t){return!!t.template}function LW(t){return(t[Re]&512)!==0}var VW="svg",jW="math",UW=!1;function BW(){return UW}function rs(t){for(;Array.isArray(t);)t=t[ss];return t}function $W(t){for(;Array.isArray(t);){if(typeof t[KT]=="object")return t;t=t[ss]}return null}function CV(t,e){return rs(e[t])}function Vr(t,e){return rs(e[t.index])}function EV(t,e){return t.data[e]}function HW(t,e){return t[e]}function tc(t,e){let n=e[t];return fl(n)?n:n[ss]}function zW(t){return(t[Re]&4)===4}function JT(t){return(t[Re]&128)===128}function qW(t){return Zs(t[_i])}function Qd(t,e){return e==null?null:t[e]}function IV(t){t[Bd]=0}function GW(t){t[Re]&1024||(t[Re]|=1024,JT(t)&&Qp(t))}function WW(t,e){for(;t>0;)e=e[ih],t--;return e}function XT(t){return!!(t[Re]&9216||t[ml]?.dirty)}function YS(t){XT(t)?Qp(t):t[Re]&64&&(BW()?(t[Re]|=1024,Qp(t)):t[Gs].changeDetectionScheduler?.notify())}function Qp(t){t[Gs].changeDetectionScheduler?.notify();let e=Yp(t);for(;e!==null&&!(e[Re]&8192||(e[Re]|=8192,!JT(e)));)e=Yp(e)}function SV(t,e){if((t[Re]&256)===256)throw new te(911,!1);t[Ja]===null&&(t[Ja]=[]),t[Ja].push(e)}function KW(t,e){if(t[Ja]===null)return;let n=t[Ja].indexOf(e);n!==-1&&t[Ja].splice(n,1)}function Yp(t){let e=t[_i];return Zs(e)?e[_i]:e}var nt={lFrame:kV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function QW(){return nt.lFrame.elementDepthCount}function YW(){nt.lFrame.elementDepthCount++}function JW(){nt.lFrame.elementDepthCount--}function TV(){return nt.bindingsEnabled}function XW(){return nt.skipHydrationRootTNode!==null}function ZW(t){return nt.skipHydrationRootTNode===t}function e7(){nt.skipHydrationRootTNode=null}function Et(){return nt.lFrame.lView}function Hn(){return nt.lFrame.tView}function N(t){return nt.lFrame.contextLView=t,t[yo]}function F(t){return nt.lFrame.contextLView=null,t}function Pi(){let t=DV();for(;t!==null&&t.type===64;)t=t.parent;return t}function DV(){return nt.lFrame.currentTNode}function t7(){let t=nt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function El(t,e){let n=nt.lFrame;n.currentTNode=t,n.isParent=e}function ZT(){return nt.lFrame.isParent}function xV(){nt.lFrame.isParent=!1}function n7(){return nt.lFrame.contextLView}function i7(){let t=nt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function r7(){return nt.lFrame.bindingIndex}function o7(t){return nt.lFrame.bindingIndex=t}function rm(){return nt.lFrame.bindingIndex++}function e1(t){let e=nt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function s7(){return nt.lFrame.inI18n}function a7(t,e){let n=nt.lFrame;n.bindingIndex=n.bindingRootIndex=t,JS(e)}function c7(){return nt.lFrame.currentDirectiveIndex}function JS(t){nt.lFrame.currentDirectiveIndex=t}function AV(t){let e=nt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function MV(){return nt.lFrame.currentQueryIndex}function t1(t){nt.lFrame.currentQueryIndex=t}function l7(t){let e=t[st];return e.type===2?e.declTNode:e.type===1?t[wo]:null}function PV(t,e,n){if(n&lt.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&lt.Host);)if(r=l7(o),r===null||(o=o[ih],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=nt.lFrame=OV();return i.currentTNode=e,i.lView=t,!0}function n1(t){let e=OV(),n=t[st];nt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OV(){let t=nt.lFrame,e=t===null?null:t.child;return e===null?kV(t):e}function kV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RV(){let t=nt.lFrame;return nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var NV=RV;function i1(){let t=RV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function u7(t){return(nt.lFrame.contextLView=WW(t,nt.lFrame.contextLView))[yo]}function nc(){return nt.lFrame.selectedIndex}function vl(t){nt.lFrame.selectedIndex=t}function R0(){let t=nt.lFrame;return EV(t.tView,t.selectedIndex)}function d7(){return nt.lFrame.currentNamespace}var FV=!0;function N0(){return FV}function F0(t){FV=t}function h7(){return rh(Pi(),Et())}function rh(t,e){return new Xt(Vr(t,e))}var Xt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=h7;let t=e;return t})();function f7(t){return t instanceof Xt?t.nativeElement:t}function p7(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function m7(t){return t.flat(Number.POSITIVE_INFINITY)}function r1(t,e){t.forEach(n=>Array.isArray(n)?r1(n,e):e(n))}function LV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function p0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function g7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function L0(t,e,n){let i=om(t,e);return i>=0?t[i|1]=n:(i=~i,g7(t,i,e,n)),i}function kS(t,e){let n=om(t,e);if(n>=0)return t[n|1]}function om(t,e){return v7(t,e,1)}function v7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function y7(){return this._results[Symbol.iterator]()}var XS=class t{get changes(){return this._changes??=new zt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=y7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=m7(e);(this._changesDetected=!p7(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function VV(t){return(t.flags&128)===128}var ZS;function jV(t){ZS=t}function _7(){if(ZS!==void 0)return ZS;if(typeof document<"u")return document;throw new te(210,!1)}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qi(t){return{providers:t.providers||[],imports:t.imports||[]}}function V0(t){return xL(t,BV)||xL(t,$V)}function UV(t){return V0(t)!==null}function xL(t,e){return t.hasOwnProperty(e)?t[e]:null}function w7(t){let e=t&&(t[BV]||t[$V]);return e||null}function AL(t){return t&&(t.hasOwnProperty(ML)||t.hasOwnProperty(b7))?t[ML]:null}var BV=qt({\u0275prov:qt}),ML=qt({\u0275inj:qt}),$V=qt({ngInjectableDef:qt}),b7=qt({ngInjectorDef:qt}),we=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},o1=new we("",{providedIn:"root",factory:()=>C7}),C7="ng",s1=new we(""),jr=new we("",{providedIn:"platform",factory:()=>"unknown"});var a1=new we(""),c1=new we("",{providedIn:"root",factory:()=>_7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var E7=qt({__forward_ref__:qt});function ic(t){return t.__forward_ref__=ic,t.toString=function(){return Wi(this())},t}function Gi(t){return HV(t)?t():t}function HV(t){return typeof t=="function"&&t.hasOwnProperty(E7)&&t.__forward_ref__===ic}function zV(t){return t&&!!t.\u0275providers}function Yd(t){return typeof t=="string"?t:t==null?"":String(t)}function I7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yd(t)}function S7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,t)}function l1(t,e){throw new te(-201,!1)}var eT;function qV(){return eT}function Lr(t){let e=eT;return eT=t,e}function GV(t,e,n){let i=V0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&lt.Optional)return null;if(e!==void 0)return e;l1(t,"Injector")}var T7={},Jp=T7,tT="__NG_DI_FLAG__",m0="ngTempTokenPath",D7="ngTokenPath",x7=/\n/gm,A7="\u0275",PL="__source",zd;function M7(){return zd}function Ya(t){let e=zd;return zd=t,e}function P7(t,e=lt.Default){if(zd===void 0)throw new te(-203,!1);return zd===null?GV(t,void 0,e):zd.get(t,e&lt.Optional?null:void 0,e)}function re(t,e=lt.Default){return(qV()||P7)(Gi(t),e)}function ee(t,e=lt.Default){return re(t,j0(e))}function j0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nT(t){let e=[];for(let n=0;n<t.length;n++){let i=Gi(t[n]);if(Array.isArray(i)){if(i.length===0)throw new te(900,!1);let r,o=lt.Default;for(let a=0;a<i.length;a++){let l=i[a],d=O7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(re(r,o))}else e.push(re(i))}return e}function WV(t,e){return t[tT]=e,t.prototype[tT]=e,t}function O7(t){return t[tT]}function k7(t,e,n,i){let r=t[m0];throw e[PL]&&r.unshift(e[PL]),t.message=R7(`
`+t.message,r,n,i),t[D7]=r,t[m0]=null,t}function R7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==A7?t.slice(2):t;let r=Wi(e);if(Array.isArray(e))r=e.map(Wi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Wi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(x7,`
  `)}`}var N7="h",F7="b";var L7=()=>null;function u1(t,e,n=!1){return L7(t,e,n)}var X_="__parameters__";function V7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function KV(t,e,n){return nm(()=>{let i=V7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,f,p){let v=d.hasOwnProperty(X_)?d[X_]:Object.defineProperty(d,X_,{value:[]})[X_];for(;v.length<=p;)v.push(null);return(v[p]=v[p]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Yi=WV(KV("Optional"),8);var QV=WV(KV("SkipSelf"),4);function Jd(t,e){let n=t.hasOwnProperty(d0);return n?t[d0]:null}var Xd=new we(""),YV=new we("",-1),JV=new we(""),g0=class{get(e,n=Jp){if(n===Jp){let i=new Error(`NullInjectorError: No provider for ${Wi(e)}!`);throw i.name="NullInjectorError",i}return n}};function rc(t){return{\u0275providers:t}}function sm(...t){return{\u0275providers:XV(!0,t),\u0275fromNgModule:!0}}function XV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return r1(e,a=>{let l=a;iT(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&ZV(r,o),n}function ZV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];d1(r,o=>{e(o,i)})}}function iT(t,e,n,i){if(t=Gi(t),!t)return!1;let r=null,o=AL(t),a=!o&&Xa(t);if(!o&&!a){let d=t.ngModule;if(o=AL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of d)iT(f,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let f;try{r1(o.imports,p=>{iT(p,e,n,i)&&(f||=[],f.push(p))})}finally{}f!==void 0&&ZV(f,e)}if(!l){let f=Jd(r)||(()=>new r);e({provide:r,useFactory:f,deps:cr},r),e({provide:JV,useValue:r,multi:!0},r),e({provide:Xd,useValue:()=>re(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let f=t;d1(d,p=>{e(p,f)})}}else return!1;return r!==t&&t.providers!==void 0}function d1(t,e){for(let n of t)zV(n)&&(n=n.\u0275providers),Array.isArray(n)?d1(n,e):e(n)}var j7=qt({provide:String,useValue:qt});function e3(t){return t!==null&&typeof t=="object"&&j7 in t}function U7(t){return!!(t&&t.useExisting)}function B7(t){return!!(t&&t.useFactory)}function Zd(t){return typeof t=="function"}function $7(t){return!!t.useClass}var U0=new we(""),o0={},H7={},RS;function B0(){return RS===void 0&&(RS=new g0),RS}var di=class{},Xp=class extends di{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oT(e,a=>this.processProvider(a)),this.records.set(YV,$d(void 0,this)),r.has("environment")&&this.records.set(di,$d(void 0,this));let o=this.records.get(U0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(JV,cr,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ot(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ya(this),i=Lr(void 0),r;try{return e()}finally{Ya(n),Lr(i)}}get(e,n=Jp,i=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CL))return e[CL](this);i=j0(i);let r,o=Ya(this),a=Lr(void 0);try{if(!(i&lt.SkipSelf)){let d=this.records.get(e);if(d===void 0){let f=K7(e)&&V0(e);f&&this.injectableDefInScope(f)?d=$d(rT(e),o0):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&lt.Self?B0():this.parent;return n=i&lt.Optional&&n===Jp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[m0]=l[m0]||[]).unshift(Wi(e)),o)throw l;return k7(l,e,"R3InjectorError",this.source)}else throw l}finally{Lr(a),Ya(o)}}resolveInjectorInitializers(){let e=Ot(null),n=Ya(this),i=Lr(void 0),r;try{let o=this.get(Xd,cr,lt.Self);for(let a of o)a()}finally{Ya(n),Lr(i),Ot(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Wi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Gi(e);let n=Zd(e)?e:Gi(e&&e.provide),i=q7(e);if(!Zd(e)&&e.multi===!0){let r=this.records.get(n);r||(r=$d(void 0,o0,!0),r.factory=()=>nT(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ot(null);try{return n.value===o0&&(n.value=H7,n.value=n.factory()),typeof n.value=="object"&&n.value&&W7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Gi(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rT(t){let e=V0(t),n=e!==null?e.factory:Jd(t);if(n!==null)return n;if(t instanceof we)throw new te(204,!1);if(t instanceof Function)return z7(t);throw new te(204,!1)}function z7(t){if(t.length>0)throw new te(204,!1);let n=w7(t);return n!==null?()=>n.factory(t):()=>new t}function q7(t){if(e3(t))return $d(void 0,t.useValue);{let e=t3(t);return $d(e,o0)}}function t3(t,e,n){let i;if(Zd(t)){let r=Gi(t);return Jd(r)||rT(r)}else if(e3(t))i=()=>Gi(t.useValue);else if(B7(t))i=()=>t.useFactory(...nT(t.deps||[]));else if(U7(t))i=()=>re(Gi(t.useExisting));else{let r=Gi(t&&(t.useClass||t.provide));if(G7(t))i=()=>new r(...nT(t.deps));else return Jd(r)||rT(r)}return i}function $d(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function G7(t){return!!t.deps}function W7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function K7(t){return typeof t=="function"||typeof t=="object"&&t instanceof we}function oT(t,e){for(let n of t)Array.isArray(n)?oT(n,e):n&&zV(n)?oT(n.\u0275providers,e):e(n)}function ea(t,e){t instanceof Xp&&t.assertNotDestroyed();let n,i=Ya(t),r=Lr(void 0);try{return e()}finally{Ya(i),Lr(r)}}function Q7(t){if(!qV()&&!M7())throw new te(-203,!1)}function Y7(t){return typeof t=="function"}var sT=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function n3(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function bo(){return i3}function i3(t){return t.type.prototype.ngOnChanges&&(t.setInput=X7),J7}bo.ngInherit=!0;function J7(){let t=o3(this),e=t?.current;if(e){let n=t.previous;if(n===Gd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function X7(t,e,n,i,r){let o=this.declaredInputs[i],a=o3(t)||Z7(t,{previous:Gd,current:null}),l=a.current||(a.current={}),d=a.previous,f=d[o];l[o]=new sT(f&&f.currentValue,n,d===Gd),n3(t,e,r,n)}var r3="__ngSimpleChanges__";function o3(t){return t[r3]||null}function Z7(t,e){return t[r3]=e}var OL=null;var Zo=function(t,e,n){OL?.(t,e,n)};function eK(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=i3(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function $0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:p}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function s0(t,e,n){s3(t,e,3,n)}function a0(t,e,n,i){(t[Re]&3)===n&&s3(t,e,n,i)}function NS(t,e){let n=t[Re];(n&3)===e&&(n&=16383,n+=1,t[Re]=n)}function s3(t,e,n,i){let r=i!==void 0?t[Bd]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Bd]+=65536),(l<o||o==-1)&&(tK(t,n,e,d),t[Bd]=(t[Bd]&4294901760)+d+2),d++}function kL(t,e){Zo(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),Zo(5,t,e)}}function tK(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[Re]>>14<t[Bd]>>16&&(t[Re]&3)===e&&(t[Re]+=16384,kL(l,o)):kL(l,o)}var qd=-1,yl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function nK(t){return t instanceof yl}function iK(t){return(t.flags&8)!==0}function rK(t){return(t.flags&16)!==0}function a3(t){return t!==qd}function v0(t){return t&32767}function oK(t){return t>>16}function y0(t,e){let n=oK(t),i=e;for(;n>0;)i=i[ih],n--;return i}var aT=!0;function RL(t){let e=aT;return aT=t,e}var sK=256,c3=sK-1,l3=5,aK=0,es={};function cK(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(qp)&&(i=n[qp]),i==null&&(i=n[qp]=aK++);let r=i&c3,o=1<<r;e.data[t+(r>>l3)]|=o}function _0(t,e){let n=u3(t,e);if(n!==-1)return n;let i=e[st];i.firstCreatePass&&(t.injectorIndex=e.length,FS(i.data,t),FS(e,null),FS(i.blueprint,null));let r=h1(t,e),o=t.injectorIndex;if(a3(r)){let a=v0(r),l=y0(r,e),d=l[st].data;for(let f=0;f<8;f++)e[o+f]=l[a+f]|d[a+f]}return e[o+8]=r,o}function FS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function u3(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function h1(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=m3(r),i===null)return qd;if(n++,r=r[ih],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return qd}function cT(t,e,n){cK(t,e,n)}function lK(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(hV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function d3(t,e,n){if(n&lt.Optional||t!==void 0)return t;l1(e,"NodeInjector")}function h3(t,e,n,i){if(n&lt.Optional&&i===void 0&&(i=null),!(n&(lt.Self|lt.Host))){let r=t[Wd],o=Lr(void 0);try{return r?r.get(e,i,n&lt.Optional):GV(e,i,n&lt.Optional)}finally{Lr(o)}}return d3(i,e,n)}function f3(t,e,n,i=lt.Default,r){if(t!==null){if(e[Re]&2048&&!(i&lt.Self)){let a=fK(t,e,n,i,es);if(a!==es)return a}let o=p3(t,e,n,i,es);if(o!==es)return o}return h3(e,n,i,r)}function p3(t,e,n,i,r){let o=dK(n);if(typeof o=="function"){if(!PV(e,t,i))return i&lt.Host?d3(r,n,i):h3(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&lt.Optional))l1(n);else return a}finally{NV()}}else if(typeof o=="number"){let a=null,l=u3(t,e),d=qd,f=i&lt.Host?e[ns][wo]:null;for((l===-1||i&lt.SkipSelf)&&(d=l===-1?h1(t,e):e[l+8],d===qd||!FL(i,!1)?l=-1:(a=e[st],l=v0(d),e=y0(d,e)));l!==-1;){let p=e[st];if(NL(o,l,p.data)){let v=uK(l,e,n,a,i,f);if(v!==es)return v}d=e[l+8],d!==qd&&FL(i,e[st].data[l+8]===f)&&NL(o,l,e)?(a=p,l=v0(d),e=y0(d,e)):l=-1}}return r}function uK(t,e,n,i,r,o){let a=e[st],l=a.data[t+8],d=i==null?O0(l)&&aT:i!=a&&(l.type&3)!==0,f=r&lt.Host&&o===l,p=c0(l,a,n,d,f);return p!==null?_l(e,a,p,l):es}function c0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,f=t.directiveEnd,p=o>>20,v=i?l:l+p,y=r?l+p:f;for(let I=v;I<y;I++){let w=a[I];if(I<d&&n===w||I>=d&&w.type===n)return I}if(r){let I=a[d];if(I&&Ks(I)&&I.type===n)return d}return null}function _l(t,e,n,i){let r=t[n],o=e.data;if(nK(r)){let a=r;a.resolving&&S7(I7(o[n]));let l=RL(a.canSeeViewProviders);a.resolving=!0;let d,f=a.injectImpl?Lr(a.injectImpl):null,p=PV(t,i,lt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&eK(n,o[n],e)}finally{f!==null&&Lr(f),RL(l),a.resolving=!1,NV()}}return r}function dK(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(qp)?t[qp]:void 0;return typeof e=="number"?e>=0?e&c3:hK:e}function NL(t,e,n){let i=1<<t;return!!(n[e+(t>>l3)]&i)}function FL(t,e){return!(t&lt.Self)&&!(t&lt.Host&&e)}var pl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return f3(this._tNode,this._lView,e,j0(i),n)}};function hK(){return new pl(Pi(),Et())}function lr(t){return nm(()=>{let e=t.prototype.constructor,n=e[d0]||lT(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[d0]||lT(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function lT(t){return HV(t)?()=>{let e=lT(Gi(t));return e&&e()}:Jd(t)}function fK(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[Re]&2048&&!(a[Re]&512);){let l=p3(o,a,n,i|lt.Self,es);if(l!==es)return l;let d=o.parent;if(!d){let f=a[bV];if(f){let p=f.get(n,es,i);if(p!==es)return p}d=m3(a),a=a[ih]}o=d}return r}function m3(t){let e=t[st],n=e.type;return n===2?e.declTNode:n===1?t[wo]:null}function f1(t){return lK(Pi(),t)}function LL(t,e=null,n=null,i){let r=g3(t,e,n,i);return r.resolveInjectorInitializers(),r}function g3(t,e=null,n=null,i,r=new Set){let o=[n||cr,sm(t)];return i=i||(typeof t=="object"?void 0:Wi(t)),new Xp(o,e||B0(),i||null,r)}var sn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return LL({name:""},r,i,"");{let o=i.name??"";return LL({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Jp,e.NULL=new g0,e.\u0275prov=Z({token:e,providedIn:"any",factory:()=>re(YV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),pK="ngOriginalError";function LS(t){return t[pK]}var os=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&LS(e);for(;n&&LS(n);)n=LS(n);return n||null}},v3=new we("",{providedIn:"root",factory:()=>ee(os).handleError.bind(void 0)});var y3=!1,mK=new we("",{providedIn:"root",factory:()=>y3}),Z_;function gK(){if(Z_===void 0&&(Z_=null,qs.trustedTypes))try{Z_=qs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Z_}function H0(t){return gK()?.createHTML(t)||t}var e0;function vK(){if(e0===void 0&&(e0=null,qs.trustedTypes))try{e0=qs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return e0}function VL(t){return vK()?.createScriptURL(t)||t}var Qs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lV})`}},uT=class extends Qs{getTypeName(){return"HTML"}},dT=class extends Qs{getTypeName(){return"Style"}},hT=class extends Qs{getTypeName(){return"Script"}},fT=class extends Qs{getTypeName(){return"URL"}},pT=class extends Qs{getTypeName(){return"ResourceURL"}};function Ur(t){return t instanceof Qs?t.changingThisBreaksApplicationSecurity:t}function oc(t,e){let n=yK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lV})`)}return n===e}function yK(t){return t instanceof Qs&&t.getTypeName()||null}function _3(t){return new uT(t)}function w3(t){return new dT(t)}function b3(t){return new hT(t)}function C3(t){return new fT(t)}function E3(t){return new pT(t)}function _K(t){let e=new gT(t);return wK()?new mT(e):e}var mT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(H0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},gT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=H0(e),n}};function wK(){try{return!!new window.DOMParser().parseFromString(H0(""),"text/html")}catch{return!1}}var bK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z0(t){return t=String(t),t.match(bK)?t:"unsafe:"+t}function ta(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function am(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var I3=ta("area,br,col,hr,img,wbr"),S3=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T3=ta("rp,rt"),CK=am(T3,S3),EK=am(S3,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),IK=am(T3,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jL=am(I3,EK,IK,CK),D3=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SK=ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),TK=ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DK=am(D3,SK,TK),xK=ta("script,style,template"),vT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!jL.hasOwnProperty(n))return this.sanitizedSomething=!0,!xK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!DK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;D3[l]&&(d=z0(d)),this.buf.push(" ",a,'="',UL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();jL.hasOwnProperty(n)&&!I3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(UL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},AK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MK=/([^\#-~ |!])/g;function UL(t){return t.replace(/&/g,"&amp;").replace(AK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(MK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var t0;function x3(t,e){let n=null;try{t0=t0||_K(t);let i=e?String(e):"";n=t0.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=t0.getInertBodyElement(i)}while(i!==o);let l=new vT().sanitizeChildren(BL(n)||n);return H0(l)}finally{if(n){let i=BL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function BL(t){return"content"in t&&PK(t)?t.content:null}function PK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var as=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(as||{});function Oi(t){let e=M3();return e?e.sanitize(as.URL,t)||"":oc(t,"URL")?Ur(t):z0(Yd(t))}function p1(t){let e=M3();if(e)return VL(e.sanitize(as.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return VL(Ur(t));throw new te(904,!1)}function OK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?p1:Oi}function A3(t,e,n){return OK(e,n)(t)}function M3(){let t=Et();return t&&t[Gs].sanitizer}var kK=/^>|^->|<!--|-->|--!>|<!-$/g,RK=/(<|>)/g,NK="\u200B$1\u200B";function FK(t){return t.replace(kK,e=>e.replace(RK,NK))}var P3=new Map,LK=0;function VK(){return LK++}function jK(t){P3.set(t[P0],t)}function UK(t){P3.delete(t[P0])}var $L="__ngContext__";function Za(t,e){fl(e)?(t[$L]=e[P0],jK(e)):t[$L]=e}function an(t){return t.ownerDocument.defaultView}function O3(t){return t.ownerDocument}function k3(t){return t instanceof Function?t():t}var Ys=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ys||{}),BK;function m1(t,e){return BK(t,e)}function Hd(t,e,n,i,r){if(i!=null){let o,a=!1;Zs(i)?o=i:fl(i)&&(a=!0,i=i[ss]);let l=rs(i);t===0&&n!==null?r==null?V3(e,n,l):w0(e,n,l,r||null,!0):t===1&&n!==null?w0(e,n,l,r||null,!0):t===2?oQ(e,l,a):t===3&&e.destroyNode(l),o!=null&&aQ(e,t,o,n,r)}}function $K(t,e){return t.createText(e)}function HK(t,e,n){t.setValue(e,n)}function zK(t,e){return t.createComment(FK(e))}function R3(t,e,n){return t.createElement(e,n)}function qK(t,e){N3(t,e),e[ss]=null,e[wo]=null}function GK(t,e,n,i,r,o){i[ss]=r,i[wo]=e,G0(t,i,n,1,r,o)}function N3(t,e){G0(t,e,e[yn],2,null,null)}function WK(t){let e=t[Kp];if(!e)return VS(t[st],t);for(;e;){let n=null;if(fl(e))n=e[Kp];else{let i=e[Er];i&&(n=i)}if(!n){for(;e&&!e[vo]&&e!==t;)fl(e)&&VS(e[st],e),e=e[_i];e===null&&(e=t),fl(e)&&VS(e[st],e),n=e&&e[vo]}e=n}}function KK(t,e,n,i){let r=Er+i,o=n.length;i>0&&(n[r-1][vo]=e),i<o-Er?(e[vo]=n[r],LV(n,Er+i,e)):(n.push(e),e[vo]=null),e[_i]=n;let a=e[im];a!==null&&n!==a&&QK(a,e);let l=e[Ws];l!==null&&l.insertView(t),YS(e),e[Re]|=128}function QK(t,e){let n=t[Kd],r=e[_i][_i][ns];e[ns]!==r&&(t[Re]|=QT.HasTransplantedViews),n===null?t[Kd]=[e]:n.push(e)}function F3(t,e){let n=t[Kd],i=n.indexOf(e);n.splice(i,1)}function yT(t,e){if(t.length<=Er)return;let n=Er+e,i=t[n];if(i){let r=i[im];r!==null&&r!==t&&F3(r,i),e>0&&(t[n-1][vo]=i[vo]);let o=p0(t,Er+e);qK(i[st],i);let a=o[Ws];a!==null&&a.detachView(o[st]),i[_i]=null,i[vo]=null,i[Re]&=-129}return i}function L3(t,e){if(!(e[Re]&256)){let n=e[yn];n.destroyNode&&G0(t,e,n,3,null,null),WK(e)}}function VS(t,e){if(e[Re]&256)return;let n=Ot(null);try{e[Re]&=-129,e[Re]|=256,e[ml]&&lS(e[ml]),JK(t,e),YK(t,e),e[st].type===1&&e[yn].destroy();let i=e[im];if(i!==null&&Zs(e[_i])){i!==e[_i]&&F3(i,e);let r=e[Ws];r!==null&&r.detachView(t)}UK(e)}finally{Ot(n)}}function YK(t,e){let n=t.cleanup,i=e[Wp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[Wp]=null);let r=e[Ja];if(r!==null){e[Ja]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function JK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof yl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Zo(4,l,d);try{d.call(l)}finally{Zo(5,l,d)}}else{Zo(4,r,o);try{o.call(r)}finally{Zo(5,r,o)}}}}}function XK(t,e,n){return ZK(t,e.parent,n)}function ZK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ss];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===ts.None||o===ts.Emulated)return null}return Vr(i,n)}}function w0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function V3(t,e,n){t.appendChild(e,n)}function HL(t,e,n,i,r){i!==null?w0(t,e,n,i,r):V3(t,e,n)}function eQ(t,e,n,i){t.removeChild(e,n,i)}function g1(t,e){return t.parentNode(e)}function tQ(t,e){return t.nextSibling(e)}function nQ(t,e,n){return rQ(t,e,n)}function iQ(t,e,n){return t.type&40?Vr(t,n):null}var rQ=iQ,zL;function q0(t,e,n,i){let r=XK(t,i,e),o=e[yn],a=i.parent||e[wo],l=nQ(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)HL(o,r,n[d],l,!1);else HL(o,r,n,l,!1);zL!==void 0&&zL(o,i,e,n,r)}function l0(t,e){if(e!==null){let n=e.type;if(n&3)return Vr(e,t);if(n&4)return _T(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return l0(t,i);{let r=t[e.index];return Zs(r)?_T(-1,r):rs(r)}}else{if(n&32)return m1(e,t)()||rs(t[e.index]);{let i=j3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Yp(t[ns]);return l0(r,i)}else return l0(t,e.next)}}}return null}function j3(t,e){if(e!==null){let i=t[ns][wo],r=e.projection;return i.projection[r]}return null}function _T(t,e){let n=Er+t+1;if(n<e.length){let i=e[n],r=i[st].firstChild;if(r!==null)return l0(i,r)}return e[gl]}function oQ(t,e,n){let i=g1(t,e);i&&eQ(t,i,e,n)}function v1(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&Za(rs(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)v1(t,e,n.child,i,r,o,!1),Hd(e,t,r,l,o);else if(d&32){let f=m1(n,i),p;for(;p=f();)Hd(e,t,r,p,o);Hd(e,t,r,l,o)}else d&16?sQ(t,e,i,n,r,o):Hd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function G0(t,e,n,i,r,o){v1(n,i,t.firstChild,e,r,o,!1)}function sQ(t,e,n,i,r,o){let a=n[ns],d=a[wo].projection[i.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++){let p=d[f];Hd(e,t,r,p,o)}else{let f=d,p=a[_i];VV(i)&&(f.flags|=128),v1(t,e,f,p,r,o,!0)}}function aQ(t,e,n,i,r){let o=n[gl],a=rs(n);o!==a&&Hd(e,t,i,o,r);for(let l=Er;l<n.length;l++){let d=n[l];G0(d[st],d,t,e,i,o)}}function cQ(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Ys.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ys.Important),t.setStyle(n,i,r,o))}}function lQ(t,e,n){t.setAttribute(e,"style",n)}function U3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function B3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&QS(t,e,i),r!==null&&U3(t,e,r),o!==null&&lQ(t,e,o)}var Co={};function T(t=1){$3(Hn(),Et(),nc()+t,!1)}function $3(t,e,n,i){if(!i)if((e[Re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&s0(e,o,n)}else{let o=t.preOrderHooks;o!==null&&a0(e,o,0,n)}vl(n)}function L(t,e=lt.Default){let n=Et();if(n===null)return re(t,e);let i=Pi();return f3(i,n,Gi(t),e)}function H3(t,e,n,i,r,o){let a=Ot(null);try{let l=null;r&xe.SignalBased&&(l=e[i][Ha]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&xe.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):n3(e,l,i,o)}finally{Ot(a)}}function uQ(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)vl(~r);else{let o=r,a=n[++i],l=n[++i];a7(a,o);let d=e[o];l(2,d)}}}finally{vl(-1)}}function W0(t,e,n,i,r,o,a,l,d,f,p){let v=e.blueprint.slice();return v[ss]=r,v[Re]=i|4|128|8|64,(f!==null||t&&t[Re]&2048)&&(v[Re]|=2048),IV(v),v[_i]=v[ih]=t,v[yo]=n,v[Gs]=a||t&&t[Gs],v[yn]=l||t&&t[yn],v[Wd]=d||t&&t[Wd]||null,v[wo]=o,v[P0]=VK(),v[h0]=p,v[bV]=f,v[ns]=e.type==2?t[ns]:v,v}function cm(t,e,n,i,r){let o=t.data[e];if(o===null)o=dQ(t,e,n,i,r),s7()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=t7();o.injectorIndex=a===null?-1:a.injectorIndex}return El(o,!0),o}function dQ(t,e,n,i,r){let o=DV(),a=ZT(),l=a?o:o&&o.parent,d=t.data[e]=vQ(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function z3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function q3(t,e,n,i,r){let o=nc(),a=i&2;try{vl(-1),a&&e.length>is&&$3(t,e,is,!1),Zo(a?2:0,r),n(i,r)}finally{vl(o),Zo(a?3:1,r)}}function y1(t,e,n){if(YT(e)){let i=Ot(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Ot(i)}}}function _1(t,e,n){TV()&&(EQ(t,e,n,Vr(n,e)),(n.flags&64)===64&&K3(t,e,n))}function w1(t,e,n=Vr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function G3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=b1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function b1(t,e,n,i,r,o,a,l,d,f,p){let v=is+i,y=v+r,I=hQ(v,y),w=typeof f=="function"?f():f;return I[st]={type:t,blueprint:I,template:n,queries:null,viewQuery:l,declTNode:e,data:I.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:p}}function hQ(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Co);return n}function fQ(t,e,n,i){let o=i.get(mK,y3)||n===ts.ShadowDom,a=t.selectRootElement(e,o);return pQ(a),a}function pQ(t){mQ(t)}var mQ=()=>null;function gQ(t,e,n,i){let r=J3(e);r.push(n),t.firstCreatePass&&X3(t).push(i,r.length-1)}function vQ(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return XW()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qL(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=xe.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let f=o;if(r!==null){if(!r.hasOwnProperty(o))continue;f=r[o]}t===0?GL(i,n,f,l,d):GL(i,n,f,l)}return i}function GL(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function yQ(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,f=null;for(let p=i;p<r;p++){let v=o[p],y=n?n.get(v):null,I=y?y.inputs:null,w=y?y.outputs:null;d=qL(0,v.inputs,p,d,I),f=qL(1,v.outputs,p,f,w);let S=d!==null&&a!==null&&!pV(e)?RQ(d,p,a):null;l.push(S)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=f}function _Q(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function C1(t,e,n,i,r,o,a,l){let d=Vr(e,n),f=e.inputs,p;!l&&f!=null&&(p=f[i])?(I1(t,n,p,i,r),O0(e)&&wQ(n,e.index)):e.type&3?(i=_Q(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function wQ(t,e){let n=tc(e,t);n[Re]&16||(n[Re]|=64)}function E1(t,e,n,i){if(TV()){let r=i===null?null:{"":-1},o=SQ(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&W3(t,e,n,a,r,l),r&&TQ(n,i,r)}n.mergedAttrs=Gp(n.mergedAttrs,n.attrs)}function W3(t,e,n,i,r,o){for(let f=0;f<i.length;f++)cT(_0(n,e),t,i[f].type);xQ(n,t.data.length,i.length);for(let f=0;f<i.length;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,d=z3(t,e,i.length,null);for(let f=0;f<i.length;f++){let p=i[f];n.mergedAttrs=Gp(n.mergedAttrs,p.hostAttrs),AQ(t,n,e,d,p),DQ(d,p,r),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let v=p.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}yQ(t,n,o)}function bQ(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;CQ(a)!=l&&a.push(l),a.push(n,i,o)}}function CQ(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function EQ(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;O0(n)&&MQ(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||_0(n,e),Za(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],f=_l(e,t,l,n);if(Za(f,e),a!==null&&kQ(e,l-r,f,d,n,a),Ks(d)){let p=tc(n.index,e);p[yo]=_l(e,t,l,n)}}}function K3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=c7();try{vl(o);for(let l=i;l<r;l++){let d=t.data[l],f=e[l];JS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&IQ(d,f)}}finally{vl(-1),JS(a)}}function IQ(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function SQ(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(xW(e,a.selectors,!1))if(i||(i=[]),Ks(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;wT(t,e,d)}else i.unshift(a),wT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function wT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TQ(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new te(-301,!1);i.push(e[r],o)}}}function DQ(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ks(e)&&(n[""]=t)}}function xQ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function AQ(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Jd(r.type,!0)),a=new yl(o,Ks(r),L);t.blueprint[i]=a,n[i]=a,bQ(t,e,i,z3(t,n,r.hostVars,Co),r)}function MQ(t,e,n){let i=Vr(e,t),r=G3(n),o=t[Gs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=K0(t,W0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function PQ(t,e,n,i,r,o){let a=Vr(t,e);OQ(e[yn],a,o,t.value,n,i,r)}function OQ(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Yd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function kQ(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],f=a[l++],p=a[l++],v=a[l++];H3(i,n,d,f,p,v)}}function RQ(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function Q3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function Y3(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];t1(o),l.contentQueries(2,e[a],a)}}}finally{Ot(i)}}}function K0(t,e){return t[Kp]?t[DL][vo]=e:t[Kp]=e,t[DL]=e,e}function bT(t,e,n){t1(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function J3(t){return t[Wp]||(t[Wp]=[])}function X3(t){return t.cleanup||(t.cleanup=[])}function NQ(t,e,n){return(t===null||Ks(t))&&(n=$W(n[e.index])),n[yn]}function Z3(t,e){let n=t[Wd],i=n?n.get(os,null):null;i&&i.handleError(e)}function I1(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],f=e[a],p=t.data[a];H3(p,f,i,l,d,r)}}function ej(t,e,n){let i=CV(e,t);HK(t[yn],i,n)}function FQ(t,e){let n=tc(e,t),i=n[st];LQ(i,n);let r=n[ss];r!==null&&n[h0]===null&&(n[h0]=u1(r,n[Wd])),S1(i,n,n[yo])}function LQ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function S1(t,e,n){n1(e);try{let i=t.viewQuery;i!==null&&bT(1,i,n);let r=t.template;r!==null&&q3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ws]?.finishViewCreation(t),t.staticContentQueries&&Y3(t,e),t.staticViewQueries&&bT(2,t.viewQuery,n);let o=t.components;o!==null&&VQ(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Re]&=-5,i1()}}function VQ(t,e){for(let n=0;n<e.length;n++)FQ(t,e[n])}function jQ(t,e,n,i){let r=Ot(null);try{let o=e.tView,l=t[Re]&4096?4096:16,d=W0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),f=t[e.index];d[im]=f;let p=t[Ws];return p!==null&&(d[Ws]=p.createEmbeddedView(o)),S1(o,d,n),d}finally{Ot(r)}}function WL(t,e){return!e||e.firstChild===null||VV(t)}function UQ(t,e,n,i=!0){let r=e[st];if(KK(r,e,t,n),i){let a=_T(n,t),l=e[yn],d=g1(l,t[gl]);d!==null&&GK(r,t[wo],l,e,d,a)}let o=e[h0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function b0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(rs(o)),Zs(o)&&BQ(o,i);let a=n.type;if(a&8)b0(t,e,n.child,i);else if(a&32){let l=m1(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=j3(e,n);if(Array.isArray(l))i.push(...l);else{let d=Yp(e[ns]);b0(d[st],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function BQ(t,e){for(let n=Er;n<t.length;n++){let i=t[n],r=i[st].firstChild;r!==null&&b0(i[st],i,r,e)}t[gl]!==t[ss]&&e.push(t[gl])}var tj=[];function $Q(t){return t[ml]??HQ(t)}function HQ(t){let e=tj.pop()??Object.create(qQ);return e.lView=t,e}function zQ(t){t.lView[ml]!==t&&(t.lView=null,tj.push(t))}var qQ=Dt(ie({},E_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qp(t.lView)},consumerOnSignalRead(){this.lView[ml]=this}});function nj(t){return rj(t[Kp])}function ij(t){return rj(t[vo])}function rj(t){for(;t!==null&&!Zs(t);)t=t[vo];return t}var oj=100;function sj(t,e=!0,n=0){let i=t[Gs],r=i.rendererFactory,o=!1;o||r.begin?.();try{GQ(t,n)}catch(a){throw e&&Z3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function GQ(t,e){CT(t,e);let n=0;for(;XT(t);){if(n===oj)throw new te(103,!1);n++,CT(t,1)}}function WQ(t,e,n,i){let r=e[Re];if((r&256)===256)return;let o=!1;!o&&e[Gs].inlineEffectRunner?.flush(),n1(e);let a=null,l=null;!o&&KQ(t)&&(l=$Q(e),a=aS(l));try{IV(e),o7(t.bindingStartIndex),n!==null&&q3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&s0(e,v,null)}else{let v=t.preOrderHooks;v!==null&&a0(e,v,0,null),NS(e,0)}if(QQ(e),aj(e,0),t.contentQueries!==null&&Y3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&s0(e,v)}else{let v=t.contentHooks;v!==null&&a0(e,v,1),NS(e,1)}uQ(t,e);let f=t.components;f!==null&&lj(e,f,0);let p=t.viewQuery;if(p!==null&&bT(2,p,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&s0(e,v)}else{let v=t.viewHooks;v!==null&&a0(e,v,2),NS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[r0]){for(let v of e[r0])v();e[r0]=null}o||(e[Re]&=-73)}catch(d){throw Qp(e),d}finally{l!==null&&(cS(l,a),zQ(l)),i1()}}function KQ(t){return t.type!==2}function aj(t,e){for(let n=nj(t);n!==null;n=ij(n))for(let i=Er;i<n.length;i++){let r=n[i];cj(r,e)}}function QQ(t){for(let e=nj(t);e!==null;e=ij(e)){if(!(e[Re]&QT.HasTransplantedViews))continue;let n=e[Kd];for(let i=0;i<n.length;i++){let r=n[i],o=r[_i];GW(r)}}}function YQ(t,e,n){let i=tc(e,t);cj(i,n)}function cj(t,e){JT(t)&&CT(t,e)}function CT(t,e){let i=t[st],r=t[Re],o=t[ml],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&I_(o)),o&&(o.dirty=!1),t[Re]&=-9217,a)WQ(i,t,i.template,t[yo]);else if(r&8192){aj(t,1);let l=i.components;l!==null&&lj(t,l,1)}}function lj(t,e,n){for(let i=0;i<e.length;i++)YQ(t,e[i],n)}function T1(t){for(t[Gs].changeDetectionScheduler?.notify();t;){t[Re]|=64;let e=Yp(t);if(LW(t)&&!e)return t;t=e}return null}var wl=class{get rootNodes(){let e=this._lView,n=e[st];return b0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yo]}set context(e){this._lView[yo]=e}get destroyed(){return(this._lView[Re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_i];if(Zs(e)){let n=e[f0],i=n?n.indexOf(this):-1;i>-1&&(yT(e,i),p0(n,i))}this._attachedToViewContainer=!1}L3(this._lView[st],this._lView)}onDestroy(e){SV(this._lView,e)}markForCheck(){T1(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){YS(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,sj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,N3(this._lView[st],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e,YS(this._lView)}},_o=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZQ;let t=e;return t})(),JQ=_o,XQ=class extends JQ{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=jQ(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new wl(r)}};function ZQ(){return Q0(Pi(),Et())}function Q0(t,e){return t.type&4?new XQ(e,t,rh(t,e)):null}var pwe=new RegExp(`^(\\d+)*(${F7}|${N7})*(.*)`);var eY=()=>null;function KL(t,e){return eY(t,e)}var Zp=class{},ET=class{},C0=class{};function tY(t){let e=Error(`No component factory found for ${Wi(t)}.`);return e[nY]=t,e}var nY="ngComponent";var IT=class{resolveComponentFactory(e){throw tY(e)}},Y0=(()=>{let e=class e{};e.NULL=new IT;let t=e;return t})(),bl=class{},Eo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>iY();let t=e;return t})();function iY(){let t=Et(),e=Pi(),n=tc(e.index,t);return(fl(n)?n:t)[yn]}var rY=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),jS={},uj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oY,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),ST=class extends uj{constructor(e){super(),this._lView=e}onDestroy(e){return SV(this._lView,e),()=>KW(this._lView,e)}};function oY(){return new ST(Et())}var QL=new Set;function Il(t){QL.has(t)||(QL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function YL(...t){}function sY(){let t=typeof qs.requestAnimationFrame=="function",e=qs[t?"requestAnimationFrame":"setTimeout"],n=qs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ct=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=sY().nativeRequestAnimationFrame,lY(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new te(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,aY,YL,YL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},aY={};function D1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cY(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,TT(t),t.isCheckStableRunning=!0,D1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),TT(t))}function lY(t){let e=()=>{cY(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(uY(l))return n.invokeTask(r,o,a,l);try{return JL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return JL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),XL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,TT(t),D1(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function TT(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function JL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XL(t){t._nesting--,D1(t)}function uY(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var dj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function E0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=KS(r,l);else if(o==2){let d=l,f=e[++a];i=KS(i,d+": "+f+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var I0=class extends Y0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xa(e);return new eh(n,this.ngModule)}};function ZL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function dY(t){let e=t.toLowerCase();return e==="svg"?VW:e==="math"?jW:null}var DT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=j0(i);let r=this.injector.get(e,jS,i);return r!==jS||n===jS?r:this.parentInjector.get(e,n,i)}},eh=class extends C0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=ZL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return ZL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=OW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ot(null);try{r=r||this.ngModule;let a=r instanceof di?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new DT(e,a):e,d=l.get(bl,null);if(d===null)throw new te(407,!1);let f=l.get(rY,null),p=l.get(dj,null),v=l.get(Zp,null),y={rendererFactory:d,sanitizer:f,inlineEffectRunner:null,afterRenderEventManager:p,changeDetectionScheduler:v},I=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",S=i?fQ(I,i,this.componentDef.encapsulation,l):R3(I,w,dY(w)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let O=null;S!==null&&(O=u1(S,l,!0));let V=b1(0,null,null,1,0,null,null,null,null,null,null),q=W0(null,V,null,D,null,null,y,I,l,null,O);n1(q);let A,ne;try{let U=this.componentDef,ae,Ee=null;U.findHostDirectiveDefs?(ae=[],Ee=new Map,U.findHostDirectiveDefs(U,ae,Ee),ae.push(U)):ae=[U];let qe=hY(q,S),et=fY(qe,S,U,ae,q,y,I);ne=EV(V,is),S&&gY(I,U,S,i),n!==void 0&&vY(ne,this.ngContentSelectors,n),A=mY(et,U,ae,Ee,q,[yY]),S1(V,q,null)}finally{i1()}return new xT(this.componentType,A,rh(ne,q),q,ne)}finally{Ot(o)}}},xT=class extends ET{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wl(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;I1(o[st],o,r,e,n),this.previousInputValues.set(e,n);let a=tc(this._tNode.index,o);T1(a)}}get injector(){return new pl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hY(t,e){let n=t[st],i=is;return t[i]=e,cm(n,i,2,"#host",null)}function fY(t,e,n,i,r,o,a){let l=r[st];pY(i,t,e,a);let d=null;e!==null&&(d=u1(e,r[Wd]));let f=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let v=W0(r,G3(n),null,p,r[t.index],t,o,f,null,null,d);return l.firstCreatePass&&wT(l,t,i.length-1),K0(r,v),r[t.index]=v}function pY(t,e,n,i){for(let r of t)e.mergedAttrs=Gp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(E0(e,e.mergedAttrs,!0),n!==null&&B3(i,n,e))}function mY(t,e,n,i,r,o){let a=Pi(),l=r[st],d=Vr(a,r);W3(l,r,a,n,null,i);for(let p=0;p<n.length;p++){let v=a.directiveStart+p,y=_l(r,l,v,a);Za(y,r)}K3(l,r,a),d&&Za(d,r);let f=_l(r,l,a.directiveStart+a.componentOffset,a);if(t[yo]=r[yo]=f,o!==null)for(let p of o)p(f,e);return y1(l,a,r),f}function gY(t,e,n,i){if(i)QS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=kW(e.selectors[0]);r&&QS(t,n,r),o&&o.length>0&&U3(t,n,o.join(" "))}}function vY(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function yY(){let t=Pi();$0(Et()[st],t)}var wi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_Y;let t=e;return t})();function _Y(){let t=Pi();return fj(t,Et())}var wY=wi,hj=class extends wY{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return rh(this._hostTNode,this._hostLView)}get injector(){return new pl(this._hostTNode,this._hostLView)}get parentInjector(){let e=h1(this._hostTNode,this._hostLView);if(a3(e)){let n=y0(e,this._hostLView),i=v0(e),r=n[st].data[i+8];return new pl(r,n)}else return new pl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=eV(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=KL(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,WL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!Y7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new eh(Xa(e)),f=i||this.parentInjector;if(!o&&d.ngModule==null){let S=(a?f:this.parentInjector).get(di,null);S&&(o=S)}let p=Xa(d.componentType??{}),v=KL(this._lContainer,p?.id??null),y=v?.firstChild??null,I=d.create(f,r,y,o);return this.insertImpl(I.hostView,l,WL(this._hostTNode,v)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(qW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[_i],f=new hj(d,d[wo],d[_i]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return UQ(a,r,o,i),e.attachToViewContainerRef(),LV(US(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=eV(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=yT(this._lContainer,n);i&&(p0(US(this._lContainer),n),L3(i[st],i))}detach(e){let n=this._adjustIndex(e,-1),i=yT(this._lContainer,n);return i&&p0(US(this._lContainer),n)!=null?new wl(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function eV(t){return t[f0]}function US(t){return t[f0]||(t[f0]=[])}function fj(t,e){let n,i=e[t.index];return Zs(i)?n=i:(n=Q3(i,e,null,t),e[t.index]=n,K0(e,n)),CY(n,e,t,i),new hj(n,t,e)}function bY(t,e){let n=t[yn],i=n.createComment(""),r=Vr(e,t),o=g1(n,r);return w0(n,o,i,tQ(n,r),!1),i}var CY=SY,EY=()=>!1;function IY(t,e,n){return EY(t,e,n)}function SY(t,e,n,i){if(t[gl])return;let r;n.type&8?r=rs(i):r=bY(e,n),t[gl]=r}var AT=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},MT=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)x1(e,n).matches!==null&&this.queries[n].setDirty()}},S0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=kY(e):this.predicate=e}},PT=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},OT=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,TY(n,o)),this.matchTNodeWithReadOption(e,n,c0(n,e,o,!1,!1))}else i===_o?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,c0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Xt||r===wi||r===_o&&n.type&4)this.addMatch(n.index,-2);else{let o=c0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function TY(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function DY(t,e){return t.type&11?rh(t,e):t.type&4?Q0(t,e):null}function xY(t,e,n,i){return n===-1?DY(e,t):n===-2?AY(t,e,i):_l(t,t[st],n,e)}function AY(t,e,n){if(n===Xt)return rh(e,t);if(n===_o)return Q0(e,t);if(n===wi)return fj(e,t)}function pj(t,e,n,i){let r=e[Ws].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let f=a[d];if(f<0)l.push(null);else{let p=o[f];l.push(xY(e,p,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function kT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=pj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let f=o[l+1],p=e[-d];for(let v=Er;v<p.length;v++){let y=p[v];y[im]===y[_i]&&kT(y[st],y,f,i)}if(p[Kd]!==null){let v=p[Kd];for(let y=0;y<v.length;y++){let I=v[y];kT(I[st],I,f,i)}}}}}return i}function MY(t,e){return t[Ws].queries[e].queryList}function mj(t,e,n){let i=new XS((n&4)===4);return gQ(t,e,i,i.destroy),(e[Ws]??=new MT).queries.push(new AT(i))-1}function PY(t,e,n){let i=Hn();return i.firstCreatePass&&(gj(i,new S0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),mj(i,Et(),e)}function OY(t,e,n,i){let r=Hn();if(r.firstCreatePass){let o=Pi();gj(r,new S0(e,n,i),o.index),RY(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return mj(r,Et(),n)}function kY(t){return t.split(",").map(e=>e.trim())}function gj(t,e,n){t.queries===null&&(t.queries=new PT),t.queries.track(new OT(e,n))}function RY(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function x1(t,e){return t.queries.getByIndex(e)}function NY(t,e){let n=t[st],i=x1(n,e);return i.crossesNgTemplate?kT(n,t,e,[]):pj(n,t,i,e)}function FY(t){return typeof t=="function"&&t[Ha]!==void 0}function sc(t,e){Il("NgSignals");let n=q2(t),i=n[Ha];return e?.equal&&(i.equal=e.equal),n.set=r=>uS(i,r),n.update=r=>G2(i,r),n.asReadonly=LY.bind(n),n}function LY(){let t=this[Ha];if(t.readonlyFn===void 0){let e=()=>this();e[Ha]=t,t.readonlyFn=e}return t.readonlyFn}function vj(t){return FY(t)&&typeof t.set=="function"}function VY(t){return Object.getPrototypeOf(t.prototype).constructor}function wt(t){let e=VY(t.type),n=!0,i=[t];for(;e;){let r;if(Ks(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=n0(t.inputs),a.inputTransforms=n0(t.inputTransforms),a.declaredInputs=n0(t.declaredInputs),a.outputs=n0(t.outputs);let l=r.hostBindings;l&&HY(t,l);let d=r.viewQuery,f=r.contentQueries;if(d&&BY(t,d),f&&$Y(t,f),jY(t,r),yW(t.outputs,r.outputs),Ks(r)&&r.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===wt&&(n=!1)}}e=Object.getPrototypeOf(e)}UY(i)}function jY(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function UY(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Gp(r.hostAttrs,n=Gp(n,r.hostAttrs))}}function n0(t){return t===Gd?{}:t===cr?[]:t}function BY(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function $Y(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function HY(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function lm(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var ec=class{},em=class{};var RT=class extends ec{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I0(this);let r=yV(e);this._bootstrapComponents=k3(r.bootstrap),this._r3Injector=g3(e,n,[{provide:ec,useValue:this},{provide:Y0,useValue:this.componentFactoryResolver},...i],Wi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},NT=class extends em{constructor(e){super(),this.moduleType=e}create(e){return new RT(this.moduleType,e,[])}};var T0=class extends ec{constructor(e){super(),this.componentFactoryResolver=new I0(this),this.instance=null;let n=new Xp([...e.providers,{provide:ec,useValue:this},{provide:Y0,useValue:this.componentFactoryResolver}],e.parent||B0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function A1(t,e,n=null){return new T0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Sl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yj(t){return qY(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zY(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function qY(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function GY(t,e,n){return t[e]=n}function WY(t,e){return t[e]}function Js(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function KY(t,e,n,i){let r=Js(t,e,n);return Js(t,e+1,i)||r}function QY(t,e,n,i,r,o,a,l,d){let f=e.consts,p=cm(e,t,4,a||null,Qd(f,l));E1(e,n,p,Qd(f,d)),$0(e,p);let v=p.tView=b1(2,p,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,p),v.queries=e.queries.embeddedTView(p)),p}function B(t,e,n,i,r,o,a,l){let d=Et(),f=Hn(),p=t+is,v=f.firstCreatePass?QY(p,f,d,e,n,i,r,o,a):f.data[p];El(v,!1);let y=YY(f,d,v,t);N0()&&q0(f,d,y,v),Za(y,d);let I=Q3(y,d,y,v);return d[p]=I,K0(d,I),IY(I,v,d),k0(v)&&_1(f,d,v),a!=null&&w1(d,v,l),B}var YY=JY;function JY(t,e,n,i){return F0(!0),e[yn].createComment("")}function J0(t,e,n,i){let r=Et(),o=rm();if(Js(r,o,e)){let a=Hn(),l=R0();PQ(l,r,t,e,n,i)}return J0}function XY(t,e,n,i){return Js(t,rm(),n)?e+Yd(n)+i:Co}function ZY(t,e,n,i,r,o){let a=r7(),l=KY(t,a,n,r);return e1(2),l?e+Yd(n)+i+Yd(r)+o:Co}function i0(t,e){return t<<17|e<<2}function Cl(t){return t>>17&32767}function eJ(t){return(t&2)==2}function tJ(t,e){return t&131071|e<<17}function FT(t){return t|2}function th(t){return(t&131068)>>2}function BS(t,e){return t&-131069|e<<2}function nJ(t){return(t&1)===1}function LT(t){return t|1}function iJ(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Cl(a),d=th(a);t[i]=n;let f=!1,p;if(Array.isArray(n)){let v=n;p=v[1],(p===null||om(v,p)>0)&&(f=!0)}else p=n;if(r)if(d!==0){let y=Cl(t[l+1]);t[i+1]=i0(y,l),y!==0&&(t[y+1]=BS(t[y+1],i)),t[l+1]=tJ(t[l+1],i)}else t[i+1]=i0(l,0),l!==0&&(t[l+1]=BS(t[l+1],i)),l=i;else t[i+1]=i0(d,0),l===0?l=i:t[d+1]=BS(t[d+1],i),d=i;f&&(t[i+1]=FT(t[i+1])),tV(t,p,i,!0),tV(t,p,i,!1),rJ(e,p,t,i,o),a=i0(l,d),o?e.classBindings=a:e.styleBindings=a}function rJ(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&om(o,e)>=0&&(n[i+1]=LT(n[i+1]))}function tV(t,e,n,i){let r=t[n+1],o=e===null,a=i?Cl(r):th(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],f=t[a+1];oJ(d,e)&&(l=!0,t[a+1]=i?LT(f):FT(f)),a=i?Cl(f):th(f)}l&&(t[n+1]=i?FT(r):LT(r))}function oJ(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?om(t,e)>=0:!1}var Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _j(t){return t.substring(Jn.key,Jn.keyEnd)}function sJ(t){return t.substring(Jn.value,Jn.valueEnd)}function aJ(t){return Cj(t),wj(t,nh(t,0,Jn.textEnd))}function wj(t,e){let n=Jn.textEnd;return n===e?-1:(e=Jn.keyEnd=lJ(t,Jn.key=e,n),nh(t,e,n))}function cJ(t){return Cj(t),bj(t,nh(t,0,Jn.textEnd))}function bj(t,e){let n=Jn.textEnd,i=Jn.key=nh(t,e,n);return n===i?-1:(i=Jn.keyEnd=uJ(t,i,n),i=nV(t,i,n,58),i=Jn.value=nh(t,i,n),i=Jn.valueEnd=dJ(t,i,n),nV(t,i,n,59))}function Cj(t){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=t.length}function nh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lJ(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function uJ(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function nV(t,e,n,i){return e=nh(t,e,n),e<n&&e++,e}function dJ(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=iV(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=iV(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function iV(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function P(t,e,n){let i=Et(),r=rm();if(Js(i,r,e)){let o=Hn(),a=R0();C1(o,a,i,t,e,i[yn],n,!1)}return P}function VT(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";I1(t,n,o[a],a,i)}function Ir(t,e,n){return Ij(t,e,n,!1),Ir}function Ae(t,e){return Ij(t,e,null,!0),Ae}function X0(t){Sj(xj,hJ,t,!1)}function hJ(t,e){for(let n=cJ(e);n>=0;n=bj(e,n))xj(t,_j(e),sJ(e))}function Ej(t){Sj(_J,fJ,t,!0)}function fJ(t,e){for(let n=aJ(e);n>=0;n=wj(e,n))L0(t,_j(e),!0)}function Ij(t,e,n,i){let r=Et(),o=Hn(),a=e1(2);if(o.firstUpdatePass&&Dj(o,t,a,i),e!==Co&&Js(r,a,e)){let l=o.data[nc()];Aj(o,l,r,r[yn],t,r[a+1]=bJ(e,n),i,a)}}function Sj(t,e,n,i){let r=Hn(),o=e1(2);r.firstUpdatePass&&Dj(r,null,o,i);let a=Et();if(n!==Co&&Js(a,o,n)){let l=r.data[nc()];if(Mj(l,i)&&!Tj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=KS(d,n||"")),VT(r,l,a,n,i)}else wJ(r,l,a,a[yn],a[o+1],a[o+1]=yJ(t,e,n),i,o)}}function Tj(t,e){return e>=t.expandoStartIndex}function Dj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[nc()],a=Tj(t,n);Mj(o,i)&&e===null&&!a&&(e=!1),e=pJ(r,o,e,i),iJ(r,o,e,n,a,i)}}function pJ(t,e,n,i){let r=AV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=$S(null,t,e,n,i),n=tm(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=$S(r,t,e,n,i),o===null){let d=mJ(t,e,i);d!==void 0&&Array.isArray(d)&&(d=$S(null,t,e,d[1],i),d=tm(d,e.attrs,i),gJ(t,e,i,d))}else o=vJ(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function mJ(t,e,n){let i=n?e.classBindings:e.styleBindings;if(th(i)!==0)return t[Cl(i)]}function gJ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Cl(r)]=i}function vJ(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=tm(i,a,n)}return tm(i,e.attrs,n)}function $S(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=tm(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function tm(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),L0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function yJ(t,e,n){if(n==null||n==="")return cr;let i=[],r=Ur(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function xj(t,e,n){L0(t,e,Ur(n))}function _J(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&L0(t,i,n)}function wJ(t,e,n,i,r,o,a,l){r===Co&&(r=cr);let d=0,f=0,p=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;p!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,I=f<o.length?o[f+1]:void 0,w=null,S;p===v?(d+=2,f+=2,y!==I&&(w=v,S=I)):v===null||p!==null&&p<v?(d+=2,w=p):(f+=2,w=v,S=I),w!==null&&Aj(t,e,n,i,w,S,a,l),p=d<r.length?r[d]:null,v=f<o.length?o[f]:null}}function Aj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,f=d[l+1],p=nJ(f)?rV(d,e,n,r,th(f),a):void 0;if(!D0(p)){D0(o)||eJ(f)&&(o=rV(d,null,n,r,l,a));let v=CV(nc(),n);cQ(i,a,v,r,o)}}function rV(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],f=Array.isArray(d),p=f?d[1]:d,v=p===null,y=n[r+1];y===Co&&(y=v?cr:void 0);let I=v?kS(y,i):p===i?y:void 0;if(f&&!D0(I)&&(I=kS(d,i)),D0(I)&&(l=I,a))return l;let w=t[r+1];r=a?Cl(w):th(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=kS(d,i))}return l}function D0(t){return t!==void 0}function bJ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Wi(Ur(t)))),t}function Mj(t,e){return(t.flags&(e?8:16))!==0}function CJ(t,e,n,i,r,o){let a=e.consts,l=Qd(a,r),d=cm(e,t,2,i,l);return E1(e,n,d,Qd(a,o)),d.attrs!==null&&E0(d,d.attrs,!1),d.mergedAttrs!==null&&E0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function b(t,e,n,i){let r=Et(),o=Hn(),a=is+t,l=r[yn],d=o.firstCreatePass?CJ(a,o,r,e,n,i):o.data[a],f=EJ(o,r,d,l,e,t);r[a]=f;let p=k0(d);return El(d,!0),B3(l,f,d),(d.flags&32)!==32&&N0()&&q0(o,r,f,d),QW()===0&&Za(f,r),YW(),p&&(_1(o,r,d),y1(o,d,r)),i!==null&&w1(r,d),b}function C(){let t=Pi();ZT()?xV():(t=t.parent,El(t,!1));let e=t;ZW(e)&&e7(),JW();let n=Hn();return n.firstCreatePass&&($0(n,t),YT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&iK(e)&&VT(n,e,Et(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rK(e)&&VT(n,e,Et(),e.stylesWithoutHost,!1),C}function oe(t,e,n,i){return b(t,e,n,i),C(),oe}var EJ=(t,e,n,i,r,o)=>(F0(!0),R3(i,r,d7()));function IJ(t,e,n,i,r){let o=e.consts,a=Qd(o,i),l=cm(e,t,8,"ng-container",a);a!==null&&E0(l,a,!0);let d=Qd(o,r);return E1(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function at(t,e,n){let i=Et(),r=Hn(),o=t+is,a=r.firstCreatePass?IJ(o,r,i,e,n):r.data[o];El(a,!0);let l=SJ(r,i,a,t);return i[o]=l,N0()&&q0(r,i,l,a),Za(l,i),k0(a)&&(_1(r,i,a),y1(r,a,i)),n!=null&&w1(i,a),at}function ct(){let t=Pi(),e=Hn();return ZT()?xV():(t=t.parent,El(t,!1)),e.firstCreatePass&&($0(e,t),YT(t)&&e.queries.elementEnd(t)),ct}function M1(t,e,n){return at(t,e,n),ct(),M1}var SJ=(t,e,n,i)=>(F0(!0),zK(e[yn],""));function X(){return Et()}function Tl(t,e,n){let i=Et(),r=rm();if(Js(i,r,e)){let o=Hn(),a=R0(),l=AV(o.data),d=NQ(l,a,i);C1(o,a,i,t,e,d,n,!0)}return Tl}var x0="en-US";var TJ=x0;function DJ(t){typeof t=="string"&&(TJ=t.toLowerCase().replace(/_/g,"-"))}function k(t,e,n,i){let r=Et(),o=Hn(),a=Pi();return Pj(o,r,r[yn],a,t,e,i),k}function xJ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[Wp],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function Pj(t,e,n,i,r,o,a){let l=k0(i),f=t.firstCreatePass&&X3(t),p=e[yo],v=J3(e),y=!0;if(i.type&3||a){let S=Vr(i,e),D=a?a(S):S,O=v.length,V=a?A=>a(rs(A[i.index])):i.index,q=null;if(!a&&l&&(q=xJ(t,e,r,i.index)),q!==null){let A=q.__ngLastListenerFn__||q;A.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,y=!1}else{o=sV(i,e,p,o,!1);let A=n.listen(D,r,o);v.push(o,A),f&&f.push(r,V,O,O+1)}}else o=sV(i,e,p,o,!1);let I=i.outputs,w;if(y&&I!==null&&(w=I[r])){let S=w.length;if(S)for(let D=0;D<S;D+=2){let O=w[D],V=w[D+1],ne=e[O][V].subscribe(o),U=v.length;if(v.push(o,ne),f){let ae=typeof ne=="function"?U+1:-(U+1);f.push(r,i.index,U,ae)}}}}function oV(t,e,n,i){let r=Ot(null);try{return Zo(6,e,n),n(i)!==!1}catch(o){return Z3(t,o),!1}finally{Zo(7,e,n),Ot(r)}}function sV(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?tc(t.index,e):e;T1(l);let d=oV(e,n,i,a),f=o.__ngNextListenerFn__;for(;f;)d=oV(e,n,f,a)&&d,f=f.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function x(t=1){return u7(t)}function Oj(t,e,n,i){OY(t,e,n,i)}function kj(t,e,n){PY(t,e,n)}function Z0(t){let e=Et(),n=Hn(),i=MV();t1(i+1);let r=x1(n,i);if(t.dirty&&zW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=NY(e,i);t.reset(o,f7),t.notifyOnChanges()}return!0}return!1}function ew(){return MY(Et(),MV())}function bi(t){let e=n7();return HW(e,is+t)}function R(t,e=""){let n=Et(),i=Hn(),r=t+is,o=i.firstCreatePass?cm(i,r,1,e,null):i.data[r],a=AJ(i,n,o,e,t);n[r]=a,N0()&&q0(i,n,a,o),El(o,!1)}var AJ=(t,e,n,i,r)=>(F0(!0),$K(e[yn],i));function ce(t){return tw("",t,""),ce}function tw(t,e,n){let i=Et(),r=XY(i,t,e,n);return r!==Co&&ej(i,nc(),r),tw}function Sr(t,e,n,i,r){let o=Et(),a=ZY(o,t,e,n,i,r);return a!==Co&&ej(o,nc(),a),Sr}function Be(t,e,n){vj(e)&&(e=e());let i=Et(),r=rm();if(Js(i,r,e)){let o=Hn(),a=R0();C1(o,a,i,t,e,i[yn],n,!1)}return Be}function ze(t,e){let n=vj(t);return n&&t.set(e),n}function $e(t,e){let n=Et(),i=Hn(),r=Pi();return Pj(i,n,n[yn],r,t,e),$e}function MJ(t,e,n){let i=Hn();if(i.firstCreatePass){let r=Ks(t);jT(n,i.data,i.blueprint,r,!0),jT(e,i.data,i.blueprint,r,!1)}}function jT(t,e,n,i,r){if(t=Gi(t),Array.isArray(t))for(let o=0;o<t.length;o++)jT(t[o],e,n,i,r);else{let o=Hn(),a=Et(),l=Pi(),d=Zd(t)?t:Gi(t.provide),f=t3(t),p=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(Zd(t)||!t.multi){let I=new yl(f,r,L),w=zS(d,e,r?p:p+y,v);w===-1?(cT(_0(l,a),o,d),HS(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(I),a.push(I)):(n[w]=I,a[w]=I)}else{let I=zS(d,e,p+y,v),w=zS(d,e,p,p+y),S=I>=0&&n[I],D=w>=0&&n[w];if(r&&!D||!r&&!S){cT(_0(l,a),o,d);let O=kJ(r?OJ:PJ,n.length,r,i,f);!r&&D&&(n[w].providerFactory=O),HS(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(O),a.push(O)}else{let O=Rj(n[r?w:I],f,!r&&i);HS(o,t,I>-1?I:w,O)}!r&&i&&D&&n[w].componentProviders++}}}function HS(t,e,n,i){let r=Zd(e),o=$7(e);if(r||o){let d=(o?Gi(e.useClass):e).prototype.ngOnDestroy;if(d){let f=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let p=f.indexOf(n);p===-1?f.push(n,[i,d]):f[p+1].push(i,d)}else f.push(n,d)}}}function Rj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function PJ(t,e,n,i){return UT(this.multi,[])}function OJ(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_l(n,n[st],this.providerFactory.index,i);o=l.slice(0,a),UT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],UT(r,o);return o}function UT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function kJ(t,e,n,i,r){let o=new yl(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,Rj(o,r,i&&!n),o}function oh(t,e=[]){return n=>{n.providersResolver=(i,r)=>MJ(i,r?r(t):t,e)}}var RJ=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=XV(!1,i.type),o=r.length>0?A1([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(re(di))});let t=e;return t})();function ue(t){Il("NgStandalone"),t.getStandaloneInjector=e=>e.get(RJ).getOrCreateStandaloneInjector(t)}function Dl(t,e,n){let i=i7()+t,r=Et();return r[i]===Co?GY(r,i,n?e.call(n):e()):WY(r,i)}function nw(t,e){return Q0(t,e)}var Xs=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nj=new Xs("17.2.4"),iw=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fj=new we("");function xl(t){return!!t&&typeof t.then=="function"}function Lj(t){return!!t&&typeof t.subscribe=="function"}var Vj=new we(""),jj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=ee(Vj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(xl(a))i.push(a);else if(Lj(a)){let l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rw=new we("");function NJ(){z2(()=>{throw new te(600,!1)})}function FJ(t){return t.isBoundToModule}function LJ(t,e,n){try{let i=n();return xl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var cs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ee(v3),this.afterRenderEffectManager=ee(dj),this.componentTypes=[],this.components=[],this.isStable=ee(Sl).hasPendingTasks.pipe(Le(i=>!i)),this._injector=ee(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof C0;if(!this._injector.get(jj).done){let I=!o&&vV(i),w=!1;throw new te(405,w)}let l;o?l=i:l=this._injector.get(Y0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=FJ(l)?void 0:this._injector.get(ec),f=r||l.selector,p=l.create(sn.NULL,[],f,d),v=p.location.nativeElement,y=p.injector.get(Fj,null);return y?.registerApplication(v),p.onDestroy(()=>{this.detachView(p.hostView),qS(this.components,p),y?.unregisterApplication(v)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new te(101,!1);let i=Ot(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ot(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===oj)throw new te(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!GS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>GS(a))&&(r.execute(),!this._views.some(({_lView:a})=>GS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[Re]|=1024):i[Re]&64?a=0:a=1,sj(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;qS(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(rw,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>qS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new te(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GS(t){return XT(t)}var BT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},P1=(()=>{let e=class e{compileModuleSync(i){return new NT(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=yV(i),a=k3(o.declarations).reduce((l,d)=>{let f=Xa(d);return f&&l.push(new eh(f)),l},[]);return new BT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VJ=(()=>{let e=class e{constructor(){this.zone=ee(Ct),this.applicationRef=ee(cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jJ(t){return[{provide:Ct,useFactory:t},{provide:Xd,multi:!0,useFactory:()=>{let e=ee(VJ,{optional:!0});return()=>e.initialize()}},{provide:Xd,multi:!0,useFactory:()=>{let e=ee(HJ);return()=>{e.initialize()}}},{provide:v3,useFactory:UJ}]}function UJ(){let t=ee(Ct),e=ee(os);return n=>t.runOutsideAngular(()=>e.handleError(n))}function BJ(t){let e=jJ(()=>new Ct($J(t)));return rc([[],e])}function $J(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HJ=(()=>{let e=class e{constructor(){this.subscription=new On,this.initialized=!1,this.zone=ee(Ct),this.pendingTasks=ee(Sl)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zJ(){return typeof $localize<"u"&&$localize.locale||x0}var O1=new we("",{providedIn:"root",factory:()=>ee(O1,lt.Optional|lt.SkipSelf)||zJ()});var Uj=new we("");var u0=null;function qJ(t=[],e){return sn.create({name:e,providers:[{provide:U0,useValue:"platform"},{provide:Uj,useValue:new Set([()=>u0=null])},...t]})}function GJ(t=[]){if(u0)return u0;let e=qJ(t);return u0=e,NJ(),WJ(e),e}function WJ(t){t.get(s1,null)?.forEach(n=>n())}var na=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KJ;let t=e;return t})();function KJ(t){return QJ(Pi(),Et(),(t&16)===16)}function QJ(t,e,n){if(O0(t)&&!n){let i=tc(t.index,e);return new wl(i,i)}else if(t.type&47){let i=e[ns];return new wl(i,e)}return null}var $T=class{constructor(){}supports(e){return yj(e)}create(e){return new HT(e)}},YJ=(t,e)=>e,HT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||YJ}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<aV(i,r,o)?n:i,l=aV(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let f=l-r,p=d-r;if(f!=p){for(let y=0;y<f;y++){let I=y<o.length?o[y]:o[y]=0,w=I+y;p<=w&&w<f&&(o[y]=I+1)}let v=a.previousIndex;o[v]=p-f}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!yj(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,zY(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new zT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new A0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new A0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qT=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},A0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new qT,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function aV(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function cV(){return new k1([new $T])}var k1=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||cV()),deps:[[e,new QV,new Yi]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new te(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:cV});let t=e;return t})();function Bj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=GJ(i),o=[BJ(),...n||[]],l=new T0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(Ct);return d.run(()=>{l.resolveInjectorInitializers();let f=l.get(os,null),p;d.runOutsideAngular(()=>{p=d.onError.subscribe({next:I=>{f.handleError(I)}})});let v=()=>l.destroy(),y=r.get(Uj);return y.add(v),l.onDestroy(()=>{p.unsubscribe(),y.delete(v)}),LJ(f,d,()=>{let I=l.get(jj);return I.runInitializers(),I.donePromise.then(()=>{let w=l.get(O1,x0);DJ(w||x0);let S=l.get(cs);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function Ji(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var JJ=new we("",{providedIn:"root",factory:()=>ee(XJ)}),XJ=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new GT});let t=e;return t})(),GT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ee(Sl),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},WT=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=K2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(os,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Al(t,e){Il("NgSignals"),!e?.injector&&Q7(Al);let n=e?.injector??ee(sn),i=e?.manualCleanup!==!0?n.get(uj):null,r=new WT(n.get(JJ),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(na,null,{optional:!0});return!o||!(o._lView[Re]&8)?r.watcher.notify():(o._lView[r0]??=[]).push(r.watcher.notify),r}function ow(t,e){let n=Xa(t),i=e.elementInjector||B0();return new eh(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Wj=null;function ia(){return Wj}function Kj(t){Wj??=t}var sw=class{};var Ci=new we(""),Qj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee(ZJ),providedIn:"platform"});let t=e;return t})();var ZJ=(()=>{let e=class e extends Qj{constructor(){super(),this._doc=ee(Ci),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ia().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Yj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $j(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Ml(t){return t&&t[0]!=="?"?"?"+t:t}var ah=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee(Jj),providedIn:"root"});let t=e;return t})(),eX=new we(""),Jj=(()=>{let e=class e extends ah{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ee(Ci).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Yj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Ml(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+Ml(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+Ml(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(re(Qj),re(eX,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var um=(()=>{let e=class e{constructor(i){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=iX($j(Hj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Ml(r))}normalize(i){return e.stripTrailingSlash(nX(this._basePath,Hj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ml(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ml(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Ml,e.joinWithSlash=Yj,e.stripTrailingSlash=$j,e.\u0275fac=function(r){return new(r||e)(re(ah))},e.\u0275prov=Z({token:e,factory:()=>tX(),providedIn:"root"});let t=e;return t})();function tX(){return new um(re(ah))}function nX(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hj(t){return t.replace(/\/index.html$/,"")}function iX(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function aw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var R1=/\s+/,zj=[],ki=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=zj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(R1):zj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(R1):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(R1).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(L(Xt),L(Eo))},e.\u0275dir=At({type:e,selectors:[["","ngClass",""]],inputs:{klass:[xe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var N1=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ne=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new N1(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),qj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);qj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(wi),L(_o),L(k1))},e.\u0275dir=At({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qj(t,e){t.context.$implicit=e.item}var We=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new F1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Gj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Gj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(wi),L(_o))},e.\u0275dir=At({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),F1=class{constructor(){this.$implicit=null,this.ngIf=null}};function Gj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Wi(e)}'.`)}var fe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Qi({});let t=e;return t})(),Xj="browser",rX="server";function dm(t){return t===rX}var sh=class{};var fm=class{},pm=class{},ra=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var j1=class{encodeKey(e){return Zj(e)}encodeValue(e){return Zj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aX(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var cX=/%(\d[a-f0-9])/gi,lX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zj(t){return encodeURIComponent(t).replace(cX,(e,n)=>lX[n]??e)}function cw(t){return`${t}`}var cc=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new j1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=aX(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(cw):[cw(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(cw(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(cw(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var U1=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function uX(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tU(t){return typeof Blob<"u"&&t instanceof Blob}function nU(t){return typeof FormData<"u"&&t instanceof FormData}function dX(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var hm=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(uX(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ra,this.context??=new U1,!this.params)this.params=new cc,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:eU(this.body)||tU(this.body)||nU(this.body)||dX(this.body)||typeof this.body=="string"?this.body:this.body instanceof cc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nU(this.body)?null:tU(this.body)?this.body.type||null:eU(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),f)),new t(n,i,o,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:a})}},lc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(lc||{}),mm=class{constructor(e,n=vm.Ok,i="OK"){this.headers=e.headers||new ra,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},lw=class t extends mm{constructor(e={}){super(e),this.type=lc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gm=class t extends mm{constructor(e={}){super(e),this.type=lc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class extends mm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},vm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(vm||{});function L1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Pl=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof hm)a=i;else{let f;o.headers instanceof ra?f=o.headers:f=new ra(o.headers);let p;o.params&&(o.params instanceof cc?p=o.params:p=new cc({fromObject:o.params})),a=new hm(i,r,o.body!==void 0?o.body:null,{headers:f,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Fe(a).pipe(Ka(f=>this.handler.handle(f)));if(i instanceof hm||o.observe==="events")return l;let d=l.pipe(ui(f=>f instanceof gm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Le(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(Le(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(Le(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(Le(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new cc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,L1(o,r))}post(i,r,o={}){return this.request("POST",i,L1(o,r))}put(i,r,o={}){return this.request("PUT",i,L1(o,r))}};e.\u0275fac=function(r){return new(r||e)(re(fm))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),hX=/^\)\]\}',?\n/,fX="X-Request-URL";function iU(t){if(t.url)return t.url;let e=fX.toLocaleLowerCase();return t.headers.get(e)}var V1=(()=>{let e=class e{constructor(){this.fetchImpl=ee(B1,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ee(Ct)}handle(i){return new je(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then($1,a=>r.error(new ac({error:a}))),()=>o.abort()})}doRequest(i,r,o){return E(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,ie({signal:r},a));pX(w),o.next({type:lc.Sent}),l=yield w}catch(w){o.error(new ac({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new ra(l.headers),f=l.statusText,p=iU(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new lw({headers:d,status:v,statusText:f,url:p})),l.body){let w=l.headers.get("content-length"),S=[],D=l.body.getReader(),O=0,V,q,A=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:U,value:ae}=yield D.read();if(U)break;if(S.push(ae),O+=ae.length,i.reportProgress){q=i.responseType==="text"?(q??"")+(V??=new TextDecoder).decode(ae,{stream:!0}):void 0;let Ee=()=>o.next({type:lc.DownloadProgress,total:w?+w:void 0,loaded:O,partialText:q});A?A.run(Ee):Ee()}}}));let ne=this.concatChunks(S,O);try{let U=l.headers.get("Content-Type")??"";y=this.parseBody(i,ne,U)}catch(U){o.error(new ac({error:U,headers:new ra(l.headers),status:l.status,statusText:l.statusText,url:iU(l)??i.urlWithParams}));return}}v===0&&(v=y?vm.Ok:0),v>=200&&v<300?(o.next(new gm({body:y,headers:d,status:v,statusText:f,url:p})),o.complete()):o.error(new ac({error:y,headers:d,status:v,statusText:f,url:p}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(hX,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),B1=class{};function $1(){}function pX(t){t.then($1,$1)}function mX(t,e){return e(t)}function gX(t,e,n){return(i,r)=>ea(n,()=>e(i,o=>t(o,r)))}var H1=new we(""),vX=new we(""),sU=new we("");var rU=(()=>{let e=class e extends fm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=ee(Sl);let o=ee(sU,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(H1),...this.injector.get(vX,[])]));this.chain=o.reduceRight((a,l)=>gX(a,l,this.injector),mX)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(hl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(re(pm),re(di))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var yX=/^\)\]\}',?\n/;function _X(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oU=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):Fe(null)).pipe(Mi(()=>new je(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((D,O)=>l.setRequestHeader(D,O.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let D=i.detectContentTypeHeader();D!==null&&l.setRequestHeader("Content-Type",D)}if(i.responseType){let D=i.responseType.toLowerCase();l.responseType=D!=="json"?D:"text"}let d=i.serializeBody(),f=null,p=()=>{if(f!==null)return f;let D=l.statusText||"OK",O=new ra(l.getAllResponseHeaders()),V=_X(l)||i.url;return f=new lw({headers:O,status:l.status,statusText:D,url:V}),f},v=()=>{let{headers:D,status:O,statusText:V,url:q}=p(),A=null;O!==vm.NoContent&&(A=typeof l.response>"u"?l.responseText:l.response),O===0&&(O=A?vm.Ok:0);let ne=O>=200&&O<300;if(i.responseType==="json"&&typeof A=="string"){let U=A;A=A.replace(yX,"");try{A=A!==""?JSON.parse(A):null}catch(ae){A=U,ne&&(ne=!1,A={error:ae,text:A})}}ne?(a.next(new gm({body:A,headers:D,status:O,statusText:V,url:q||void 0})),a.complete()):a.error(new ac({error:A,headers:D,status:O,statusText:V,url:q||void 0}))},y=D=>{let{url:O}=p(),V=new ac({error:D,status:l.status||0,statusText:l.statusText||"Unknown Error",url:O||void 0});a.error(V)},I=!1,w=D=>{I||(a.next(p()),I=!0);let O={type:lc.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(O.total=D.total),i.responseType==="text"&&l.responseText&&(O.partialText=l.responseText),a.next(O)},S=D=>{let O={type:lc.UploadProgress,loaded:D.loaded};D.lengthComputable&&(O.total=D.total),a.next(O)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",S)),l.send(d),a.next({type:lc.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",S)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(re(sh))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),aU=new we(""),wX="XSRF-TOKEN",bX=new we("",{providedIn:"root",factory:()=>wX}),CX="X-XSRF-TOKEN",EX=new we("",{providedIn:"root",factory:()=>CX}),uw=class{},IX=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=aw(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(re(Ci),re(jr),re(bX))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function SX(t,e){let n=t.url.toLowerCase();if(!ee(aU)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=ee(uw).getToken(),r=ee(EX);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var z1=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(z1||{});function cU(t,e){return{\u0275kind:t,\u0275providers:e}}function lU(...t){let e=[Pl,oU,rU,{provide:fm,useExisting:rU},{provide:pm,useExisting:oU},{provide:H1,useValue:SX,multi:!0},{provide:aU,useValue:!0},{provide:uw,useClass:IX}];for(let n of t)e.push(...n.\u0275providers);return rc(e)}function uU(t){return cU(z1.Interceptors,t.map(e=>({provide:H1,useValue:e,multi:!0})))}function dU(){return cU(z1.Fetch,[V1,{provide:pm,useExisting:V1},{provide:sU,useExisting:V1}])}var pD={};RG(pD,{FirebaseError:()=>zn,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>ds,_addComponent:()=>Em,_addOrOverwriteComponent:()=>fD,_apps:()=>hc,_clearComponents:()=>IZ,_components:()=>bm,_getProvider:()=>Fl,_registerComponent:()=>Io,_removeServiceInstance:()=>FU,deleteApp:()=>_w,getApp:()=>Ll,getApps:()=>Im,initializeApp:()=>lh,onLog:()=>ww,registerVersion:()=>cn,setLogLevel:()=>bw});var fU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},TX=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},pU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,f=d?t[r+2]:0,p=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|f>>6,I=f&63;d||(I=64,a||(y=64)),i.push(n[p],n[v],n[y],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let f=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||f==null||v==null)throw new W1;let y=o<<2|l>>4;if(i.push(y),f!==64){let I=l<<4&240|f>>2;if(i.push(I),v!==64){let w=f<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},W1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},DX=function(t){let e=fU(t);return pU.encodeByteArray(e,!0)},ym=function(t){return DX(t).replace(/\./g,"")},Q1=function(t){try{return pU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!xX(n)||(t[n]=_m(t[n],e[n]));return t}function xX(t){return t!=="__proto__"}function AX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MX=()=>AX().__FIREBASE_DEFAULTS__,PX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Q1(t[1]);return e&&JSON.parse(e)},hw=()=>{try{return MX()||PX()||OX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y1=t=>{var e,n;return(n=(e=hw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mU=t=>{let e=Y1(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},J1=()=>{var t;return(t=hw())===null||t===void 0?void 0:t.config},X1=t=>{var e;return(e=hw())===null||e===void 0?void 0:e[`_${t}`]};var dw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function gU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ym(JSON.stringify(n)),ym(JSON.stringify(a)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function fw(){var t;let e=(t=hw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yU(){return typeof self=="object"&&self.self===self}function pw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mw(){let t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _U(){return!fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uc(){try{return typeof indexedDB=="object"}catch{return!1}}function wU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var kX="FirebaseError",zn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kX,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}},Br=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?RX(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new zn(r,l,i)}};function RX(t,e){return t.replace(NX,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var NX=/\{\$([^}]+)}/g;function Z1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ol(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(hU(o)&&hU(a)){if(!Ol(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function hU(t){return t!==null&&typeof t=="object"}function kl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ch(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gw(t,e){let n=new K1(t,e);return n.subscribe.bind(n)}var K1=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");FX(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=G1),r.error===void 0&&(r.error=G1),r.complete===void 0&&(r.complete=G1);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FX(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G1(){}var Zwe=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var Ri=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rl="[DEFAULT]";var eD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new dw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VX(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LX(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LX(t){return t===Rl?void 0:t}function VX(t){return t.instantiationMode==="EAGER"}var vw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new eD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tD=[],ht=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ht||{}),CU={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},jX=ht.INFO,UX={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},BX=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=UX[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ls=class{constructor(e){this.name=e,this._logLevel=jX,this._logHandler=BX,this._userLogHandler=null,tD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}};function EU(t){tD.forEach(e=>{e.setLogLevel(t)})}function IU(t,e){for(let n of tD){let i=null;e&&e.level&&(i=CU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:ht[o].toLowerCase(),message:l,args:a,type:r.name})}}}var $X=(t,e)=>e.some(n=>t instanceof n),SU,TU;function HX(){return SU||(SU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zX(){return TU||(TU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DU=new WeakMap,iD=new WeakMap,xU=new WeakMap,nD=new WeakMap,oD=new WeakMap;function qX(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(us(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&DU.set(n,t)}).catch(()=>{}),oD.set(e,t),e}function GX(t){if(iD.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});iD.set(t,e)}var rD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AU(t){rD=t(rD)}function WX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(yw(this),e,...n);return xU.set(i,e.sort?e.sort():[e]),us(i)}:zX().includes(t)?function(...e){return t.apply(yw(this),e),us(DU.get(this))}:function(...e){return us(t.apply(yw(this),e))}}function KX(t){return typeof t=="function"?WX(t):(t instanceof IDBTransaction&&GX(t),$X(t,HX())?new Proxy(t,rD):t)}function us(t){if(t instanceof IDBRequest)return qX(t);if(nD.has(t))return nD.get(t);let e=KX(t);return e!==t&&(nD.set(t,e),oD.set(e,t)),e}var yw=t=>oD.get(t);function PU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=us(a);return i&&a.addEventListener("upgradeneeded",d=>{i(us(a.result),d.oldVersion,d.newVersion,us(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var QX=["get","getKey","getAll","getAllKeys","count"],YX=["put","add","delete","clear"],sD=new Map;function MU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sD.get(e))return sD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=YX.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||QX.includes(n)))return;let o=function(a,...l){return E(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),f=d.store;return i&&(f=f.index(l.shift())),(yield Promise.all([f[n](...l),r&&d.done]))[0]})};return sD.set(e,o),o}AU(t=>Dt(ie({},t),{get:(e,n,i)=>MU(e,n)||t.get(e,n,i),has:(e,n)=>!!MU(e,n)||t.has(e,n)}));var cD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JX(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function JX(t){let e=t.getComponent();return e?.type==="VERSION"}var lD="@firebase/app",OU="0.9.28";var Nl=new ls("@firebase/app"),XX="@firebase/app-compat",ZX="@firebase/analytics-compat",eZ="@firebase/analytics",tZ="@firebase/app-check-compat",nZ="@firebase/app-check",iZ="@firebase/auth",rZ="@firebase/auth-compat",oZ="@firebase/database",sZ="@firebase/database-compat",aZ="@firebase/functions",cZ="@firebase/functions-compat",lZ="@firebase/installations",uZ="@firebase/installations-compat",dZ="@firebase/messaging",hZ="@firebase/messaging-compat",fZ="@firebase/performance",pZ="@firebase/performance-compat",mZ="@firebase/remote-config",gZ="@firebase/remote-config-compat",vZ="@firebase/storage",yZ="@firebase/storage-compat",_Z="@firebase/firestore",wZ="@firebase/firestore-compat",bZ="firebase",CZ="10.8.1";var ds="[DEFAULT]",EZ={[lD]:"fire-core",[XX]:"fire-core-compat",[eZ]:"fire-analytics",[ZX]:"fire-analytics-compat",[nZ]:"fire-app-check",[tZ]:"fire-app-check-compat",[iZ]:"fire-auth",[rZ]:"fire-auth-compat",[oZ]:"fire-rtdb",[sZ]:"fire-rtdb-compat",[aZ]:"fire-fn",[cZ]:"fire-fn-compat",[lZ]:"fire-iid",[uZ]:"fire-iid-compat",[dZ]:"fire-fcm",[hZ]:"fire-fcm-compat",[fZ]:"fire-perf",[pZ]:"fire-perf-compat",[mZ]:"fire-rc",[gZ]:"fire-rc-compat",[vZ]:"fire-gcs",[yZ]:"fire-gcs-compat",[_Z]:"fire-fst",[wZ]:"fire-fst-compat","fire-js":"fire-js",[bZ]:"fire-js-all"};var hc=new Map,bm=new Map;function Em(t,e){try{t.container.addComponent(e)}catch(n){Nl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fD(t,e){t.container.addOrOverwriteComponent(e)}function Io(t){let e=t.name;if(bm.has(e))return Nl.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(let n of hc.values())Em(n,t);return!0}function Fl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function FU(t,e,n=ds){Fl(t,e).clearInstance(n)}function IZ(){bm.clear()}var SZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oa=new Br("app","Firebase",SZ);var uD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}};var So=CZ;function lh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ds,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw oa.create("bad-app-name",{appName:String(r)});if(n||(n=J1()),!n)throw oa.create("no-options");let o=hc.get(r);if(o){if(Ol(n,o.options)&&Ol(i,o.config))return o;throw oa.create("duplicate-app",{appName:r})}let a=new vw(r);for(let d of bm.values())a.addComponent(d);let l=new uD(n,i,a);return hc.set(r,l),l}function Ll(t=ds){let e=hc.get(t);if(!e&&t===ds&&J1())return lh();if(!e)throw oa.create("no-app",{appName:t});return e}function Im(){return Array.from(hc.values())}function _w(t){return E(this,null,function*(){let e=t.name;hc.has(e)&&(hc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function cn(t,e,n){var i;let r=(i=EZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nl.warn(l.join(" "));return}Io(new Ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function ww(t,e){if(t!==null&&typeof t!="function")throw oa.create("invalid-log-argument");IU(t,e)}function bw(t){EU(t)}var TZ="firebase-heartbeat-database",DZ=1,Cm="firebase-heartbeat-store",aD=null;function LU(){return aD||(aD=PU(TZ,DZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cm)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),aD}function xZ(t){return E(this,null,function*(){try{let n=(yield LU()).transaction(Cm),i=yield n.objectStore(Cm).get(VU(t));return yield n.done,i}catch(e){if(e instanceof zn)Nl.warn(e.message);else{let n=oa.create("idb-get",{originalErrorMessage:e?.message});Nl.warn(n.message)}}})}function kU(t,e){return E(this,null,function*(){try{let i=(yield LU()).transaction(Cm,"readwrite");yield i.objectStore(Cm).put(e,VU(t)),yield i.done}catch(n){if(n instanceof zn)Nl.warn(n.message);else{let i=oa.create("idb-set",{originalErrorMessage:n?.message});Nl.warn(i.message)}}})}function VU(t){return`${t.name}!${t.options.appId}`}var AZ=1024,MZ=30*24*60*60*1e3,dD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=MZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RU(),{heartbeatsToSend:i,unsentEntries:r}=PZ(this._heartbeatsCache.heartbeats),o=ym(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function RU(){return new Date().toISOString().substring(0,10)}function PZ(t,e=AZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),NU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),NU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var hD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return uc()?wU().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield xZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function NU(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function OZ(t){Io(new Ri("platform-logger",e=>new cD(e),"PRIVATE")),Io(new Ri("heartbeat",e=>new dD(e),"PRIVATE")),cn(lD,OU,t),cn(lD,OU,"esm2017"),cn("fire-js","")}OZ("");var kZ="firebase",RZ="10.8.1";cn(kZ,RZ,"app");var jl=new Xs("ANGULARFIRE2_VERSION");function Ew(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sm=(t,e)=>{let n=e?[e]:Im(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},dh=class{constructor(){return Sm(NZ)}},NZ="app-check";function uh(){}var Cw=class{zone;delegate;constructor(e,n=CS){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},mD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh)),n.pipe(Rn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cw(Zone.current)),this.insideAngular=n.run(()=>new Cw(Zone.current,Rd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(re(Ct))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Iw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function FZ(t){return Iw().ngZone.runOutsideAngular(()=>t())}function Vl(t){return Iw().ngZone.run(()=>t())}function LZ(t){return VZ(Iw())(t)}function VZ(t){return function(n){return n=n.lift(new mD(t.ngZone)),n.pipe(Ga(t.outsideAngular),qa(t.insideAngular))}}var jZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vl(()=>t.apply(void 0,i))},To=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Vl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uh,{},uh,uh))),i[o]=jZ(i[o],n));let r=FZ(()=>t.apply(this,i));if(!e)if(r instanceof je){let o=Iw();return r.pipe(Ga(o.outsideAngular),qa(o.insideAngular))}else return Vl(()=>r);return r instanceof je?r.pipe(LZ):r instanceof Promise?Vl(()=>new Promise((o,a)=>r.then(l=>Vl(()=>o(l)),l=>Vl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Vl(()=>r)};var sa=class{constructor(e){return e}},Ul=class{constructor(){return Im()}};function UZ(t){return t&&t.length===1?t[0]:new sa(Ll())}var gD=new we("angularfire2._apps"),BZ={provide:sa,useFactory:UZ,deps:[[new Yi,gD]]},$Z={provide:Ul,deps:[[new Yi,gD]]};function HZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new sa(i)}}var zZ=(()=>{class t{constructor(n){cn("angularfire",jl.full,"core"),cn("angularfire",jl.full,"app"),cn("angular",Nj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(re(jr))};static \u0275mod=Ki({type:t});static \u0275inj=Qi({providers:[BZ,$Z]})}return t})();function jU(t,...e){return{ngModule:zZ,providers:[{provide:gD,useFactory:HZ(t),multi:!0,deps:[Ct,sn,hh,...e]}]}}var UU=To(lh,!0);var gc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ua={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function qZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function nB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Bw=qZ,WD=nB,iB=new Br("auth","Firebase",nB());var xw=new ls("@firebase/auth");function GZ(t,...e){xw.logLevel<=ht.WARN&&xw.warn(`Auth (${So}): ${t}`,...e)}function Tw(t,...e){xw.logLevel<=ht.ERROR&&xw.error(`Auth (${So}): ${t}`,...e)}function Nn(t,...e){throw KD(t,...e)}function hi(t,...e){return KD(t,...e)}function rB(t,e,n){let i=Object.assign(Object.assign({},WD()),{[e]:n});return new Br("auth","Firebase",i).create(e,{appName:t.name})}function yh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Nn(t,"argument-error"),rB(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KD(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return iB.create(t,...e)}function J(t,e,...n){if(!t)throw KD(e,...n)}function hs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Tw(e),new Error(e)}function $r(t,e){t||hs(e)}function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QD(){return BU()==="http:"||BU()==="https:"}function BU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function WZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QD()||pw()||"connection"in navigator)?navigator.onLine:!0}function KZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bl=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=vU()||wm()}get(){return WZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function YD(t,e){$r(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Mm=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var QZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var YZ=new Bl(3e4,6e4);function _n(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wn(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){return oB(t,r,()=>E(this,null,function*(){let f={},p={};i&&(e==="GET"?p=i:f={body:JSON.stringify(i)});let v=kl(Object.assign({key:t.config.apiKey},p)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Mm.fetch()(sB(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},f))}))})}function oB(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},QZ),e);try{let r=new bD(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Tm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,f]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tm(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Tm(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Tm(t,"user-disabled",a);let p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rB(t,p,f);Nn(t,p)}}catch(r){if(r instanceof zn)throw r;Nn(t,"network-request-failed",{message:String(r)})}})}function da(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){let f=yield wn(t,e,n,i,r);return"mfaPendingCredential"in f&&Nn(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function sB(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?YD(t.config,r):`${t.config.apiScheme}://${r}`}function JZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var bD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hi(this.auth,"network-request-failed")),YZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tm(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=hi(t,e,i);return r.customData._tokenResponse=n,r}function $U(t){return t!==void 0&&t.getResponse!==void 0}function HU(t){return t!==void 0&&t.enterprise!==void 0}var CD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function XZ(t){return E(this,null,function*(){return(yield wn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function ZZ(t,e){return E(this,null,function*(){return wn(t,"GET","/v2/recaptchaConfig",_n(t,e))})}function eee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:delete",e)})}function tee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function nee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:lookup",e)})}function Dm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $w(t,e=!1){return E(this,null,function*(){let n=Xe(t),i=yield n.getIdToken(e),r=Hw(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:Dm(vD(r.auth_time)),issuedAtTime:Dm(vD(r.iat)),expirationTime:Dm(vD(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vD(t){return Number(t)*1e3}function Hw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tw("JWT malformed, contained fewer than 3 sections"),null;try{let r=Q1(n);return r?JSON.parse(r):(Tw("Failed to decode base64 JWT payload"),null)}catch(r){return Tw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function iee(t){let e=Hw(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof zn&&ree(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function ree({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ED=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Aw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Pm(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield ca(t,nee(n,{idToken:i}));J(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?see(o.providerUserInfo):[],l=oee(t.providerData,a),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!l?.length,p=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Aw(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)})}function zw(t){return E(this,null,function*(){let e=Xe(t);yield Pm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function oee(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function see(t){return t.map(e=>{var{providerId:n}=e,i=F_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function aee(t,e){return E(this,null,function*(){let n=yield oB(t,{},()=>E(this,null,function*(){let i=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=sB(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Mm.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function cee(t,e){return E(this,null,function*(){return wn(t,"POST","/v2/accounts:revokeToken",_n(t,e))})}var Mw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iee(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield aee(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hs("not implemented")}};function fc(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Aw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $w(this,e)}reload(){return zw(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Pm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield ca(this,eee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,f,p;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,O=(f=n.createdAt)!==null&&f!==void 0?f:void 0,V=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:A,isAnonymous:ne,providerData:U,stsTokenManager:ae}=n;J(q&&ae,e,"internal-error");let Ee=Mw.fromJSON(this.name,ae);J(typeof q=="string",e,"internal-error"),fc(v,e.name),fc(y,e.name),J(typeof A=="boolean",e,"internal-error"),J(typeof ne=="boolean",e,"internal-error"),fc(I,e.name),fc(w,e.name),fc(S,e.name),fc(D,e.name),fc(O,e.name),fc(V,e.name);let qe=new t({uid:q,auth:e,email:y,emailVerified:A,displayName:v,isAnonymous:ne,photoURL:w,phoneNumber:I,tenantId:S,stsTokenManager:Ee,createdAt:O,lastLoginAt:V});return U&&Array.isArray(U)&&(qe.providerData=U.map(et=>Object.assign({},et))),D&&(qe._redirectEventId=D),qe}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new Mw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Pm(o),o})}};var zU=new Map;function Ni(t){$r(t instanceof Function,"Expected a class definition");let e=zU.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zU.set(t,e),e)}var lee=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),la=lee;function fs(t,e,n){return`firebase:${t}:${e}:${n}`}var Pw=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=fs(this.userKey,r.apiKey,o),this.fullPersistenceKey=fs("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Ni(la),e,i);let r=(yield Promise.all(n.map(f=>E(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=r[0]||Ni(la),a=fs(i,e.config.apiKey,e.name),l=null;for(let f of n)try{let p=yield f._get(a);if(p){let v=fh._fromJSON(e,p);f!==o&&(l=v),o=f;break}}catch{}let d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(f=>E(this,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new t(o,e,i))})}};function qU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uB(e))return"Blackberry";if(dB(e))return"Webos";if(JD(e))return"Safari";if((e.includes("chrome/")||cB(e))&&!e.includes("edge/"))return"Chrome";if(_h(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function aB(t=Gt()){return/firefox\//i.test(t)}function JD(t=Gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cB(t=Gt()){return/crios\//i.test(t)}function lB(t=Gt()){return/iemobile/i.test(t)}function _h(t=Gt()){return/android/i.test(t)}function uB(t=Gt()){return/blackberry/i.test(t)}function dB(t=Gt()){return/webos/i.test(t)}function Wl(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hB(t=Gt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function uee(t=Gt()){var e;return Wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dee(){return mw()&&document.documentMode===10}function fB(t=Gt()){return Wl(t)||_h(t)||dB(t)||uB(t)||/windows phone/i.test(t)||lB(t)}function hee(){try{return!!(window&&window!==window.top)}catch{return!1}}function XD(t,e=[]){let n;switch(t){case"Browser":n=qU(Gt());break;case"Worker":n=`${qU(Gt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${i}`}var ID=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function fee(n){return E(this,arguments,function*(t,e={}){return wn(t,"GET","/v2/passwordPolicy",_n(t,e))})}var pee=6,SD=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pee,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ow=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new ID(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Pw.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Pm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KZ()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Xe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Ni(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield fee(this),n=new SD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield cee(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ni(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Pw.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&GZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zt(t){return Xe(t)}var kw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gw(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lm={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mee(t){Lm=t}function ZD(t){return Lm.loadJS(t)}function gee(){return Lm.recaptchaV2Script}function vee(){return Lm.recaptchaEnterpriseScript}function yee(){return Lm.gapiScript}function pB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var _ee="recaptcha-enterprise",wee="NO_RECAPTCHA",TD=class{constructor(e){this.type=_ee,this.auth=Zt(e)}verify(e="verify",n=!1){return E(this,null,function*(){function i(o){return E(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>E(this,null,function*(){ZZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let f=new CD(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;HU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(wee)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&HU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=vee();d.length!==0&&(d+=l),ZD(d).then(()=>{r(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})})}};function GU(t,e,n,i=!1){return E(this,null,function*(){let r=new TD(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Om(t,e,n,i){return E(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield GU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>E(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield GU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function qw(t,e){let n=Fl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Ol(o,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function bee(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function wh(t,e,n){let i=Zt(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=mB(e),{host:a,port:l}=Cee(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Eee()}function mB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cee(t){let e=mB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:WU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:WU(a)}}}function WU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Eee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Do=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}};function gB(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:resetPassword",_n(t,e))})}function Iee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function See(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:signUp",e)})}function Tee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",_n(t,e))})}function Dee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPassword",_n(t,e))})}function Gw(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:sendOobCode",_n(t,e))})}function xee(t,e){return E(this,null,function*(){return Gw(t,e)})}function Aee(t,e){return E(this,null,function*(){return Gw(t,e)})}function Mee(t,e){return E(this,null,function*(){return Gw(t,e)})}function Pee(t,e){return E(this,null,function*(){return Gw(t,e)})}function Oee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}function kee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithEmailLink",_n(t,e))})}var ph=class t extends Do{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",Dee);case"emailLink":return Oee(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,i,"signUpPassword",See);case"emailLink":return kee(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function aa(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithIdp",_n(t,e))})}var Ree="http://localhost",Hr=class t extends Do{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=F_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){let e={requestUri:Ree,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}};function Nee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:sendVerificationCode",_n(t,e))})}function Fee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e))})}function Lee(t,e){return E(this,null,function*(){let n=yield da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,e));if(n.temporaryProof)throw Tm(t,"account-exists-with-different-credential",n);return n})}var Vee={USER_NOT_FOUND:"user-not-found"};function jee(t,e){return E(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return da(t,"POST","/v1/accounts:signInWithPhoneNumber",_n(t,n),Vee)})}var $l=class t extends Do{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Fee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Lee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return jee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Uee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bee(t){let e=dc(ch(t)).link,n=e?dc(ch(e)).deep_link_id:null,i=dc(ch(t)).deep_link_id;return(i?dc(ch(i)).link:null)||i||n||e||t}var mh=class t{constructor(e){var n,i,r,o,a,l;let d=dc(ch(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Uee((r=d.mode)!==null&&r!==void 0?r:null);J(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=Bee(e);try{return new t(n)}catch{return null}}};var bh=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return ph._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=mh.parseLink(i);return J(r,"argument-error"),ph._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),xo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mc=class extends xo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Hl=class t extends mc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return J("providerId"in n&&"signInMethod"in n,"argument-error"),Hr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return J(e.idToken||e.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Vm=(()=>{class t extends mc{constructor(){super("facebook.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Kl=(()=>{class t extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),jm=(()=>{class t extends mc{constructor(){super("github.com")}static credential(n){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),$ee="http://localhost",zl=class t extends Do{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,aa(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:$ee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Hee="saml.",gh=class t extends xo{constructor(e){J(e.startsWith(Hee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=zl.fromJSON(e);return J(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return zl._create(i,n)}catch{return null}}};var Um=(()=>{class t extends mc{constructor(){super("twitter.com")}static credential(n,i){return Hr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function vB(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signUp",_n(t,e))})}var Ao=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return E(this,null,function*(){let o=yield fh._fromIdTokenResponse(e,i,r),a=KU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=KU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function KU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Bm(t){return E(this,null,function*(){var e;let n=Zt(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ao({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield vB(n,{returnSecureToken:!0}),r=yield Ao._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var DD=class t extends zn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function yB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?DD._fromErrorAndOperation(t,o,e,i):o})}function _B(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function $m(t,e){return E(this,null,function*(){let n=Xe(t);yield Ww(!0,n,e);let{providerUserInfo:i}=yield tee(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=_B(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function ex(t,e,n=!1){return E(this,null,function*(){let i=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ao._forOperation(t,"link",i)})}function Ww(t,e,n){return E(this,null,function*(){yield Pm(e);let i=_B(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";J(i.has(n)===t,e.auth,r)})}function wB(t,e,n=!1){return E(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield ca(t,yB(i,r,e,t),n);J(o.idToken,i,"internal-error");let a=Hw(o.idToken);J(a,i,"internal-error");let{sub:l}=a;return J(t.uid===l,i,"user-mismatch"),Ao._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(i,"user-mismatch"),o}})}function bB(t,e,n=!1){return E(this,null,function*(){let i="signIn",r=yield yB(t,i,e),o=yield Ao._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function vc(t,e){return E(this,null,function*(){return bB(Zt(t),e)})}function Ch(t,e){return E(this,null,function*(){let n=Xe(t);return yield Ww(!1,n,e.providerId),ex(n,e)})}function Eh(t,e){return E(this,null,function*(){return wB(Xe(t),e)})}function zee(t,e){return E(this,null,function*(){return da(t,"POST","/v1/accounts:signInWithCustomToken",_n(t,e))})}function Hm(t,e){return E(this,null,function*(){let n=Zt(t),i=yield zee(n,{token:e,returnSecureToken:!0}),r=yield Ao._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var ql=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?xD._fromServerResponse(e,n):"totpInfo"in n?AD._fromServerResponse(e,n):Nn(e,"internal-error")}},xD=class t extends ql{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},AD=class t extends ql{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Kw(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function tx(t){return E(this,null,function*(){let e=Zt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zm(t,e,n){return E(this,null,function*(){let i=Zt(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Kw(i,r,n),yield Om(i,r,"getOobCode",Aee)})}function qm(t,e,n){return E(this,null,function*(){yield gB(Xe(t),{oobCode:e,newPassword:n}).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&tx(t),i}))})}function Gm(t,e){return E(this,null,function*(){yield Tee(Xe(t),{oobCode:e})})}function Ih(t,e){return E(this,null,function*(){let n=Xe(t),i=yield gB(n,{oobCode:e}),r=i.requestType;switch(J(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(i.mfaInfo,n,"internal-error");default:J(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ql._fromServerResponse(Zt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function Wm(t,e){return E(this,null,function*(){let{data:n}=yield Ih(Xe(t),e);return n.email})}function Km(t,e,n){return E(this,null,function*(){let i=Zt(t),a=yield Om(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&tx(t),d}),l=yield Ao._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Qm(t,e,n){return vc(Xe(t),bh.credential(e,n)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&tx(t),i}))}function Ym(t,e,n){return E(this,null,function*(){let i=Zt(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){J(l.handleCodeInApp,i,"argument-error"),l&&Kw(i,a,l)}o(r,n),yield Om(i,r,"getOobCode",Mee)})}function Jm(t,e){let n=mh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Xm(t,e,n){return E(this,null,function*(){let i=Xe(t),r=bh.credentialWithLink(e,n||Am());return J(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),vc(i,r)})}function qee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:createAuthUri",_n(t,e))})}function Zm(t,e){return E(this,null,function*(){let n=QD()?Am():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield qee(Xe(t),i);return r||[]})}function eg(t,e){return E(this,null,function*(){let n=Xe(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Kw(n.auth,r,e);let{email:o}=yield xee(n.auth,r);o!==t.email&&(yield t.reload())})}function tg(t,e,n){return E(this,null,function*(){let i=Xe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Kw(i.auth,o,n);let{email:a}=yield Pee(i.auth,o);a!==t.email&&(yield t.reload())})}function Gee(t,e){return E(this,null,function*(){return wn(t,"POST","/v1/accounts:update",e)})}function ng(i,r){return E(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Xe(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield ca(o,Gee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let f=o.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=o.displayName,f.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function ig(t,e){return CB(Xe(t),e,null)}function rg(t,e){return CB(Xe(t),null,e)}function CB(t,e,n){return E(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield ca(t,Iee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function Wee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Hw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new pc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new MD(o,r);case"github.com":return new PD(o,r);case"google.com":return new OD(o,r);case"twitter.com":return new kD(o,r,t.screenName||null);case"custom":case"anonymous":return new pc(o,null);default:return new pc(o,i,r)}}var pc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Rw=class extends pc{constructor(e,n,i,r){super(e,n,i),this.username=r}},MD=class extends pc{constructor(e,n){super(e,"facebook.com",n)}},PD=class extends Rw{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},OD=class extends pc{constructor(e,n){super(e,"google.com",n)}},kD=class extends Rw{constructor(e,n,i){super(e,"twitter.com",n,i)}};function og(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Wee(n)}function Qw(t,e,n,i){return Xe(t).onIdTokenChanged(e,n,i)}function Yw(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}var Nw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var RD=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=Zt(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>ql._fromServerResponse(i,l));J(r.mfaPendingCredential,i,"internal-error");let a=Nw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>E(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let f=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let p=yield Ao._fromIdTokenResponse(i,n.operationType,f);return yield i._updateCurrentUser(p.user),p;case"reauthenticate":return J(n.user,i,"internal-error"),Ao._forOperation(n.user,n.operationType,f);default:Nn(i,"internal-error")}}))}resolveSignIn(e){return E(this,null,function*(){let n=e;return this.signInResolver(n)})}};function sg(t,e){var n;let i=Xe(t),r=e;return J(e.customData.operationType,i,"argument-error"),J((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),RD._fromError(i,r)}function Kee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:start",_n(t,e))}function Qee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:finalize",_n(t,e))}function Yee(t,e){return wn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(t,e))}var ND=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>ql._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return E(this,null,function*(){return Nw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return E(this,null,function*(){let i=e,r=yield this.getSession(),o=yield ca(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return E(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield ca(this.user,Yee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},yD=new WeakMap;function ag(t){let e=Xe(t);return yD.has(e)||yD.set(e,ND._fromUser(e)),yD.get(e)}var Fw="__sak";var Lw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fw,"1"),this.storage.removeItem(Fw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Jee(){let t=Gt();return JD(t)||Wl(t)}var Xee=1e3,Zee=10,ete=(()=>{class t extends Lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Jee()&&hee(),this.fallbackToPolling=fB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);dee()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Zee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Xee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return E(this,null,function*(){yield $a(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return E(this,null,function*(){let i=yield $a(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return E(this,null,function*(){yield $a(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ps=ete;var tte=(()=>{class t extends Lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),zr=tte;function nte(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ite=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(p=>E(this,null,function*(){return p(i.origin,a)})),f=yield nte(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ql(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var FD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let f=Ql("",20);r.port1.start();let p=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function qn(){return window}function rte(t){qn().location.href=t}function nx(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}function ote(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ste(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ate(){return nx()?self:null}var EB="firebaseLocalStorageDb",cte=1,Vw="firebaseLocalStorage",IB="fbase_key",Gl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Jw(t,e){return t.transaction([Vw],e?"readwrite":"readonly").objectStore(Vw)}function lte(){let t=indexedDB.deleteDatabase(EB);return new Gl(t).toPromise()}function LD(){let t=indexedDB.open(EB,cte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Vw,{keyPath:IB})}catch(r){n(r)}}),t.addEventListener("success",()=>E(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Vw)?e(i):(i.close(),yield lte(),e(yield LD()))}))})}function QU(t,e,n){return E(this,null,function*(){let i=Jw(t,!0).put({[IB]:e,value:n});return new Gl(i).toPromise()})}function ute(t,e){return E(this,null,function*(){let n=Jw(t,!1).get(e),i=yield new Gl(n).toPromise();return i===void 0?null:i.value})}function YU(t,e){let n=Jw(t,!0).delete(e);return new Gl(n).toPromise()}var dte=800,hte=3,fte=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield LD(),this.db)})}_withRetries(n){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>hte)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return nx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=ite._getInstance(ate()),this.receiver._subscribe("keyChanged",(n,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,i;if(this.activeServiceWorker=yield ote(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ste()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield LD();return yield QU(n,Fw,"1"),yield YU(n,Fw),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>QU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let i=yield this._withRetries(r=>ute(r,n));return this.localCache[n]=i,i})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>YU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let a=Jw(o,!1).getAll();return new Gl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),dte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ha=fte;function pte(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:start",_n(t,e))}function mte(t,e){return wn(t,"POST","/v2/accounts/mfaSignIn:finalize",_n(t,e))}var gte=500,vte=6e4,Sw=1e12,VD=class{constructor(e){this.auth=e,this.counter=Sw,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new jD(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||Sw;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||Sw;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return E(this,null,function*(){var n;let i=e||Sw;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},jD=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;J(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=yte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},vte)},gte))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function yte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var _D=pB("rcb"),_te=new Bl(3e4,6e4),UD=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=qn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return J(wte(n),e,"argument-error"),this.shouldResolveImmediately(n)&&$U(qn().grecaptcha)?Promise.resolve(qn().grecaptcha):new Promise((i,r)=>{let o=qn().setTimeout(()=>{r(hi(e,"network-request-failed"))},_te.get());qn()[_D]=()=>{qn().clearTimeout(o),delete qn()[_D];let l=qn().grecaptcha;if(!l||!$U(l)){r(hi(e,"internal-error"));return}let d=l.render;l.render=(f,p)=>{let v=d(f,p);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${gee()}?${kl({onload:_D,render:"explicit",hl:n})}`;ZD(a).catch(()=>{clearTimeout(o),r(hi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=qn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function wte(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var BD=class{load(e){return E(this,null,function*(){return new VD(e)})}clearedOneInstance(){}};var SB="recaptcha",bte={theme:"light",type:"image"},vh=class{constructor(e,n,i=Object.assign({},bte)){this.parameters=i,this.type=SB,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zt(e),this.isInvisible=this.parameters.size==="invisible",J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;J(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new BD:new UD,this.validateStartingState()}verify(){return E(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=qn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return E(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return E(this,null,function*(){J(QD()&&!nx(),this.auth,"internal-error"),yield Cte(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield XZ(this.auth);J(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Cte(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var km=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=$l._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function cg(t,e,n){return E(this,null,function*(){let i=Zt(t),r=yield Xw(i,e,Xe(n));return new km(r,o=>vc(i,o))})}function lg(t,e,n){return E(this,null,function*(){let i=Xe(t);yield Ww(!1,i,"phone");let r=yield Xw(i.auth,e,Xe(n));return new km(r,o=>Ch(i,o))})}function ug(t,e,n){return E(this,null,function*(){let i=Xe(t),r=yield Xw(i.auth,e,Xe(n));return new km(r,o=>Eh(i,o))})}function Xw(t,e,n){return E(this,null,function*(){var i;let r=yield n.verify();try{J(typeof r=="string",t,"argument-error"),J(n.type===SB,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return J(a.type==="enroll",t,"internal-error"),(yield Kee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{J(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return J(l,t,"missing-multi-factor-info"),(yield pte(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield Nee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function dg(t,e){return E(this,null,function*(){yield ex(Xe(t),e)})}var yc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=Zt(n)}verifyPhoneNumber(n,i){return Xw(this.auth,n,Xe(i))}static credential(n,i){return $l._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?$l._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Yl(t,e){return e?Ni(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Rm=class extends Do{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Ete(t){return bB(t.auth,new Rm(t),t.bypassAuthState)}function Ite(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),wB(n,new Rm(t),t.bypassAuthState)}function Ste(t){return E(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),ex(n,new Rm(t),t.bypassAuthState)})}var jw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ete;case"linkViaPopup":case"linkViaRedirect":return Ste;case"reauthViaPopup":case"reauthViaRedirect":return Ite;default:Nn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Tte=new Bl(2e3,1e4);function hg(t,e,n){return E(this,null,function*(){let i=Zt(t);yh(t,e,xo);let r=Yl(i,n);return new ix(i,"signInViaPopup",e,r).executeNotNull()})}function fg(t,e,n){return E(this,null,function*(){let i=Xe(t);yh(i.auth,e,xo);let r=Yl(i.auth,n);return new ix(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function pg(t,e,n){return E(this,null,function*(){let i=Xe(t);yh(i.auth,e,xo);let r=Yl(i.auth,n);return new ix(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var ix=(()=>{class t extends jw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let n=yield this.execute();return J(n,this.auth,"internal-error"),n})}onExecution(){return E(this,null,function*(){$r(this.filter.length===1,"Popup operations only handle one event");let n=Ql();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Tte.get())};n()}}t.currentPopupAction=null;return t})(),Dte="pendingRedirect",xm=new Map,$D=class t extends jw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=xm.get(this.auth._key());if(!e){try{let i=(yield xte(this.resolver,this.auth))?yield $a(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return $a(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$a(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function xte(t,e){return E(this,null,function*(){let n=xB(e),i=DB(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function rx(t,e){return E(this,null,function*(){return DB(t)._set(xB(e),"true")})}function TB(){xm.clear()}function Sh(t,e){xm.set(t._key(),e)}function DB(t){return Ni(t._redirectPersistence)}function xB(t){return fs(Dte,t.config.apiKey,t.name)}function mg(t,e,n){return Ate(t,e,n)}function Ate(t,e,n){return E(this,null,function*(){let i=Zt(t);yh(t,e,xo),yield i._initializationPromise;let r=Yl(i,n);return yield rx(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function gg(t,e,n){return Mte(t,e,n)}function Mte(t,e,n){return E(this,null,function*(){let i=Xe(t);yh(i.auth,e,xo),yield i.auth._initializationPromise;let r=Yl(i.auth,n);yield rx(r,i.auth);let o=yield AB(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function vg(t,e,n){return Pte(t,e,n)}function Pte(t,e,n){return E(this,null,function*(){let i=Xe(t);yh(i.auth,e,xo),yield i.auth._initializationPromise;let r=Yl(i.auth,n);yield Ww(!1,i,e.providerId),yield rx(r,i.auth);let o=yield AB(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function yg(t,e){return E(this,null,function*(){return yield Zt(t)._initializationPromise,Jl(t,e,!1)})}function Jl(t,e,n=!1){return E(this,null,function*(){let i=Zt(t),r=Yl(i,e),a=yield new $D(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function AB(t){return E(this,null,function*(){let e=Ql(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var Ote=10*60*1e3,Nm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!MB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ote&&this.cachedEventUids.clear(),this.cachedEventUids.has(JU(e))}saveEventToCache(e){this.cachedEventUids.add(JU(e)),this.lastProcessedEventTime=Date.now()}};function JU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MB(t);default:return!1}}function ox(n){return E(this,arguments,function*(t,e={}){return wn(t,"GET","/v1/projects",e)})}var Rte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nte=/^https?/;function Fte(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield ox(t);for(let n of e)try{if(Lte(n))return}catch{}Nn(t,"unauthorized-domain")})}function Lte(t){let e=Am(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Nte.test(n))return!1;if(Rte.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Vte=new Bl(3e4,6e4);function XU(){let t=qn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jte(t){return new Promise((e,n)=>{var i,r,o;function a(){XU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XU(),n(hi(t,"network-request-failed"))},timeout:Vte.get()})}if(!((r=(i=qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=qn().gapi)===null||o===void 0)&&o.load)a();else{let l=pB("iframefcb");return qn()[l]=()=>{gapi.load?a():n(hi(t,"network-request-failed"))},ZD(`${yee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw Dw=null,e})}var Dw=null;function Ute(t){return Dw=Dw||jte(t),Dw}var Bte=new Bl(5e3,15e3),$te="__/auth/iframe",Hte="emulator/auth/iframe",zte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gte(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?YD(e,Hte):`https://${t.config.authDomain}/${$te}`,i={apiKey:e.apiKey,appName:t.name,v:So},r=qte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${kl(i).slice(1)}`}function Wte(t){return E(this,null,function*(){let e=yield Ute(t),n=qn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:Gte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zte,dontclear:!0},i=>new Promise((r,o)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=hi(t,"network-request-failed"),l=qn().setTimeout(()=>{o(a)},Bte.get());function d(){qn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Kte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qte=500,Yte=600,Jte="_blank",Xte="http://localhost",Fm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Zte(t,e,n,i=Qte,r=Yte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Kte),{width:i.toString(),height:r.toString(),top:o,left:a}),f=Gt().toLowerCase();n&&(l=cB(f)?Jte:n),aB(f)&&(e=e||Xte,d.scrollbars="yes");let p=Object.entries(d).reduce((y,[I,w])=>`${y}${I}=${w},`,"");if(uee(f)&&l!=="_self")return ene(e||"",l),new Fm(null);let v=window.open(e||"",l,p);J(v,t,"popup-blocked");try{v.focus()}catch{}return new Fm(v)}function ene(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var tne="__/auth/handler",nne="emulator/auth/handler",ine=encodeURIComponent("fac");function Uw(t,e,n,i,r,o){return E(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:So,eventId:r};if(e instanceof xo){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",bU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,v]of Object.entries(o||{}))a[p]=v}if(e instanceof mc){let p=e.getScopes().filter(v=>v!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let p of Object.keys(l))l[p]===void 0&&delete l[p];let d=yield t._getAppCheckToken(),f=d?`#${ine}=${encodeURIComponent(d)}`:"";return`${rne(t)}?${kl(l).slice(1)}${f}`})}function rne({config:t}){return t.emulator?YD(t,nne):`https://${t.authDomain}/${tne}`}var wD="webStorageSupport",HD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=Jl,this._overrideRedirectResult=Sh}_openPopup(e,n,i,r){return E(this,null,function*(){var o;$r((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Uw(e,n,i,Am(),r);return Zte(e,a,Ql())})}_openRedirect(e,n,i,r){return E(this,null,function*(){yield this._originValidation(e);let o=yield Uw(e,n,i,Am(),r);return rte(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):($r(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return E(this,null,function*(){let n=yield Wte(e),i=new Nm(e);return n.register("authEvent",r=>(J(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wD,{type:wD},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[wD];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fB()||JD()||Wl()}},_g=HD,zD=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return hs("unexpected MultiFactorSessionType")}}},qD=class t extends zD{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return Qee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return mte(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Zw=(()=>{class t{constructor(){}static assertion(n){return qD._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var ZU="@firebase/auth",eB="1.6.1";var GD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function one(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sne(t){Io(new Ri("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},f=new Ow(i,r,o,d);return bee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Io(new Ri("auth-internal",e=>{let n=Zt(e.getProvider("auth").getImmediate());return(i=>new GD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(ZU,eB,one(t)),cn(ZU,eB,"esm2017")}var ane=5*60,cne=X1("authIdTokenMaxAge")||ane,tB=null,lne=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>cne)return;let r=n?.token;tB!==r&&(tB=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function eb(t=Ll()){let e=Fl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=qw(t,{popupRedirectResolver:_g,persistence:[ha,ps,zr]}),i=X1("authTokenSyncURL");if(i){let o=lne(i);Yw(n,o,()=>o(n.currentUser)),Qw(n,a=>o(a))}let r=Y1("auth");return r&&wh(n,`http://${r}`),n}function une(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mee({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=hi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",une().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sne("Browser");var $B="auth",Xl=class{constructor(e){return e}},wg=class{constructor(){return Sm($B)}};var sx=new we("angularfire2.auth-instances");function vne(t,e){let n=Ew($B,t,e);return n&&new Xl(n)}function yne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Xl(i)}}var _ne={provide:wg,deps:[[new Yi,sx]]},wne={provide:Xl,useFactory:vne,deps:[[new Yi,sx],sa]},bne=(()=>{class t{constructor(){cn("angularfire",jl.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ki({type:t});static \u0275inj=Qi({providers:[wne,_ne]})}return t})();function HB(t,...e){return{ngModule:bne,providers:[{provide:sx,useFactory:yne(t),multi:!0,deps:[Ct,sn,hh,Ul,[new Yi,dh],...e]}]}}var zB=To(eb,!0);var Ene=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po={},de,xx=xx||{},Ue=Ene||self;function pb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ine(t){return Object.prototype.hasOwnProperty.call(t,ax)&&t[ax]||(t[ax]=++Sne)}var ax="closure_uid_"+(1e9*Math.random()>>>0),Sne=0;function Tne(t,e,n){return t.call.apply(t.bind,arguments)}function Dne(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Fi(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fi=Tne:Fi=Dne,Fi.apply(null,arguments)}function tb(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function pi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function _c(){this.s=this.s,this.o=this.o}var xne=0;_c.prototype.s=!1;_c.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xne!=0)&&Ine(this)};_c.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var i6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ax(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function qB(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(pb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Li(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var Ane=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Ue.addEventListener("test",n,e),Ue.removeEventListener("test",n,e)}catch{}return t}();function Tg(t){return/^[\s\xa0]*$/.test(t)}function mb(){var t=Ue.navigator;return t&&(t=t.userAgent)?t:""}function ms(t){return mb().indexOf(t)!=-1}function Mx(t){return Mx[" "](t),t}Mx[" "]=function(){};function Mne(t,e){var n=yie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Pne=ms("Opera"),Ah=ms("Trident")||ms("MSIE"),r6=ms("Edge"),hx=r6||Ah,o6=ms("Gecko")&&!(mb().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),One=mb().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge");function s6(){var t=Ue.document;return t?t.documentMode:void 0}var fx;e:{if(nb="",ib=function(){var t=mb();if(o6)return/rv:([^\);]+)(\)|;)/.exec(t);if(r6)return/Edge\/([\d\.]+)/.exec(t);if(Ah)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(One)return/WebKit\/(\S+)/.exec(t);if(Pne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ib&&(nb=ib?ib[1]:""),Ah&&(rb=s6(),rb!=null&&rb>parseFloat(nb))){fx=String(rb);break e}fx=nb}var nb,ib,rb,px;Ue.document&&Ah?(cx=s6(),px=cx||parseInt(fx,10)||void 0):px=void 0;var cx,kne=px;function Dg(t,e){if(Li.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(o6){e:{try{Mx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Rne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dg.$.h.call(this)}}pi(Dg,Li);var Rne={2:"touch",3:"pen",4:"mouse"};Dg.prototype.h=function(){Dg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ng="closure_listenable_"+(1e6*Math.random()|0),Nne=0;function Fne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Nne,this.fa=this.ia=!1}function gb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Px(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function Lne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function a6(t){let e={};for(let n in t)e[n]=t[n];return e}var GB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c6(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<GB.length;o++)n=GB[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function vb(t){this.src=t,this.g={},this.h=0}vb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=gx(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new Fne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function mx(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=i6(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(gb(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gx(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Ox="closure_lm_"+(1e6*Math.random()|0),lx={};function l6(t,e,n,i,r){if(i&&i.once)return d6(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)l6(t,e[o],n,i,r);return null}return n=Nx(n),t&&t[Ng]?t.O(e,n,Rg(i)?!!i.capture:!!i,r):u6(t,e,n,!1,i,r)}function u6(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Rg(r)?!!r.capture:!!r,l=Rx(t);if(l||(t[Ox]=l=new vb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=Vne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ane||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(f6(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Vne(){function t(n){return e.call(t.src,t.listener,n)}let e=jne;return t}function d6(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)d6(t,e[o],n,i,r);return null}return n=Nx(n),t&&t[Ng]?t.P(e,n,Rg(i)?!!i.capture:!!i,r):u6(t,e,n,!0,i,r)}function h6(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)h6(t,e[o],n,i,r);else i=Rg(i)?!!i.capture:!!i,n=Nx(n),t&&t[Ng]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=gx(o,n,i,r),-1<n&&(gb(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Rx(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gx(e,n,i,r)),(n=-1<t?e[t]:null)&&kx(n))}function kx(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ng])mx(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(f6(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Rx(e))?(mx(n,t),n.h==0&&(n.src=null,e[Ox]=null)):gb(t)}}}function f6(t){return t in lx?lx[t]:lx[t]="on"+t}function jne(t,e){if(t.fa)t=!0;else{e=new Dg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&kx(t),t=n.call(i,e)}return t}function Rx(t){return t=t[Ox],t instanceof vb?t:null}var ux="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nx(t){return typeof t=="function"?t:(t[ux]||(t[ux]=function(e){return t.handleEvent(e)}),t[ux])}function fi(){_c.call(this),this.i=new vb(this),this.S=this,this.J=null}pi(fi,_c);fi.prototype[Ng]=!0;fi.prototype.removeEventListener=function(t,e,n,i){h6(this,t,e,n,i)};function Ii(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Li(e,t);else if(e instanceof Li)e.target=e.target||t;else{var r=e;e=new Li(i,t),c6(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=ob(a,i,!0,e)&&r}if(a=e.g=t,r=ob(a,i,!0,e)&&r,r=ob(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=ob(a,i,!1,e)&&r}fi.prototype.N=function(){if(fi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)gb(n[i]);delete t.g[e],t.h--}}this.J=null};fi.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};fi.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ob(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&mx(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var Fx=Ue.JSON.stringify,vx=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Une(){var t=Lx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yx=class{constructor(){this.h=this.g=null}add(e,n){let i=p6.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},p6=new vx(()=>new _x,t=>t.reset()),_x=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Bne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $ne(t){Ue.setTimeout(()=>{throw t},0)}var xg,Ag=!1,Lx=new yx,m6=()=>{let t=Ue.Promise.resolve(void 0);xg=()=>{t.then(Hne)}},Hne=()=>{for(var t;t=Une();){try{t.h.call(t.g)}catch(n){$ne(n)}var e=p6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ag=!1};function yb(t,e){fi.call(this),this.h=t||1,this.g=e||Ue,this.j=Fi(this.qb,this),this.l=Date.now()}pi(yb,fi);de=yb.prototype;de.ga=!1;de.T=null;de.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(Vx(this),this.start()))}};de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}de.N=function(){yb.$.N.call(this),Vx(this),delete this.g};function jx(t,e,n){if(typeof t=="function")n&&(t=Fi(t,n));else if(t&&typeof t.handleEvent=="function")t=Fi(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ue.setTimeout(t,e||0)}function g6(t){t.g=jx(()=>{t.g=null,t.i&&(t.i=!1,g6(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var wx=class extends _c{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g6(this)}N(){super.N(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Mg(t){_c.call(this),this.h=t,this.g={}}pi(Mg,_c);var WB=[];function v6(t,e,n,i){Array.isArray(n)||(n&&(WB[0]=n.toString()),n=WB);for(var r=0;r<n.length;r++){var o=l6(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function y6(t){Px(t.g,function(e,n){this.g.hasOwnProperty(n)&&kx(e)},t),t.g={}}Mg.prototype.N=function(){Mg.$.N.call(this),y6(this)};Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _b(){this.g=!0}_b.prototype.Ea=function(){this.g=!1};function zne(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+f+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function qne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function Dh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Wne(t,n)+(i?" "+i:"")})}function Gne(t,e){t.info(function(){return"TIMEOUT: "+e})}_b.prototype.info=function(){};function Wne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return Fx(n)}catch{return e}}var nu={},KB=null;function wb(){return KB=KB||new fi}nu.Ta="serverreachability";function _6(t){Li.call(this,nu.Ta,t)}pi(_6,Li);function Pg(t){let e=wb();Ii(e,new _6(e))}nu.STAT_EVENT="statevent";function w6(t,e){Li.call(this,nu.STAT_EVENT,t),this.stat=e}pi(w6,Li);function Xi(t){let e=wb();Ii(e,new w6(e,t))}nu.Ua="timingevent";function b6(t,e){Li.call(this,nu.Ua,t),this.size=e}pi(b6,Li);function Fg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){t()},e)}var bb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},C6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ux(){}Ux.prototype.h=null;function QB(t){return t.h||(t.h=t.i())}function E6(){}var Lg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bx(){Li.call(this,"d")}pi(Bx,Li);function $x(){Li.call(this,"c")}pi($x,Li);var bx;function Cb(){}pi(Cb,Ux);Cb.prototype.g=function(){return new XMLHttpRequest};Cb.prototype.i=function(){return{}};bx=new Cb;function Vg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Mg(this),this.P=Kne,t=hx?125:void 0,this.V=new yb(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new I6}function I6(){this.i=null,this.g="",this.h=!1}var Kne=45e3,S6={},Cx={};de=Vg.prototype;de.setTimeout=function(t){this.P=t};function Ex(t,e,n){t.L=1,t.A=Ib(pa(e)),t.u=n,t.S=!0,T6(t,null)}function T6(t,e){t.G=Date.now(),jg(t),t.B=pa(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),R6(n.i,"t",i),t.o=0,n=t.l.J,t.h=new I6,t.g=t4(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wx(Fi(t.Pa,t,t.g),t.O)),v6(t.U,t.g,"readystatechange",t.nb),e=t.I?a6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pg(),zne(t.j,t.v,t.B,t.m,t.W,t.u)}de.nb=function(t){t=t.target;let e=this.M;e&&gs(t)==3?e.l():this.Pa(t)};de.Pa=function(t){try{if(t==this.g)e:{let p=gs(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>p)&&(p!=3||hx||this.g&&(this.h.h||this.g.ja()||ZB(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Pg(3):Pg(2)),Eb(this);var n=this.g.da();this.ca=n;t:if(D6(this)){var i=ZB(this.g);t="";var r=i.length,o=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zl(this),Sg(this);var a="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,qne(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tg(l)){var f=l;break t}}f=null}if(n=f)Dh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ix(this,n);else{this.i=!1,this.s=3,Xi(12),Zl(this),Sg(this);break e}}this.S?(x6(this,p,a),hx&&this.i&&p==3&&(v6(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,a,null),Ix(this,a)),p==4&&Zl(this),this.i&&!this.J&&(p==4?J6(this.l,this):(this.i=!1,jg(this)))}else mie(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,Xi(12)):(this.s=0,Xi(13)),Zl(this),Sg(this)}}}catch{}finally{}};function D6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function x6(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=Qne(t,n),r==Cx){e==4&&(t.s=4,Xi(14),i=!1),Dh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==S6){t.s=4,Xi(15),Dh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Dh(t.j,t.m,r,null),Ix(t,r);D6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Xi(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kx(e),e.M=!0,Xi(11))):(Dh(t.j,t.m,n,"[Invalid Chunked Response]"),Zl(t),Sg(t))}de.mb=function(){if(this.g){var t=gs(this.g),e=this.g.ja();this.o<e.length&&(Eb(this),x6(this,t,e),this.i&&t!=4&&jg(this))}};function Qne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Cx:(n=Number(e.substring(n,i)),isNaN(n)?S6:(i+=1,i+n>e.length?Cx:(e=e.slice(i,i+n),t.o=i+n,e)))}de.cancel=function(){this.J=!0,Zl(this)};function jg(t){t.Y=Date.now()+t.P,A6(t,t.P)}function A6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fg(Fi(t.lb,t),e)}function Eb(t){t.C&&(Ue.clearTimeout(t.C),t.C=null)}de.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Gne(this.j,this.B),this.L!=2&&(Pg(),Xi(17)),Zl(this),this.s=2,Sg(this)):A6(this,this.Y-t)};function Sg(t){t.l.H==0||t.J||J6(t.l,t)}function Zl(t){Eb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vx(t.V),y6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ix(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sx(n.i,t))){if(!t.K&&Sx(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ub(n),Db(n);else break e;Wx(n),Xi(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fg(Fi(n.ib,n),6e3));if(1>=L6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else eu(n,11)}else if((t.K||n.g==t)&&ub(n),!Tg(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];let p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));let v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let I=t.g;if(I){let w=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Hx(o,o.h),o.h=null))}if(i.F){let S=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,en(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=e4(i,i.J?i.pa:null,i.Y),a.K){V6(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(Eb(l),jg(l)),i.g=a}else Q6(i);0<n.j.length&&xb(n)}else f[0]!="stop"&&f[0]!="close"||eu(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?eu(n,7):Gx(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Pg(4)}catch{}}function Yne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Jne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function M6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Jne(t),i=Yne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var P6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function tu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof tu){this.h=t.h,cb(this,t.j),this.s=t.s,this.g=t.g,lb(this,t.m),this.l=t.l;var e=t.i,n=new Og;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),YB(this,n),this.o=t.o}else t&&(e=String(t).match(P6))?(this.h=!1,cb(this,e[1]||"",!0),this.s=Eg(e[2]||""),this.g=Eg(e[3]||"",!0),lb(this,e[4]),this.l=Eg(e[5]||"",!0),YB(this,e[6]||"",!0),this.o=Eg(e[7]||"")):(this.h=!1,this.i=new Og(null,this.h))}tu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ig(e,JB,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ig(e,JB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ig(n,n.charAt(0)=="/"?tie:eie,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ig(n,iie)),t.join("")};function pa(t){return new tu(t)}function cb(t,e,n){t.j=n?Eg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lb(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function YB(t,e,n){e instanceof Og?(t.i=e,rie(t.i,t.h)):(n||(e=Ig(e,nie)),t.i=new Og(e,t.h))}function en(t,e,n){t.i.set(e,n)}function Ib(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Eg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ig(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var JB=/[#\/\?@]/g,eie=/[#\?:]/g,tie=/[#\?]/g,nie=/[#\?@]/g,iie=/#/g;function Og(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wc(t){t.g||(t.g=new Map,t.h=0,t.i&&Xne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}de=Og.prototype;de.add=function(t,e){wc(this),this.i=null,t=Mh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function O6(t,e){wc(t),e=Mh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function k6(t,e){return wc(t),e=Mh(t,e),t.g.has(e)}de.forEach=function(t,e){wc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};de.ta=function(){wc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};de.Z=function(t){wc(this);let e=[];if(typeof t=="string")k6(this,t)&&(e=e.concat(this.g.get(Mh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};de.set=function(t,e){return wc(this),this.i=null,t=Mh(this,t),k6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};de.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function R6(t,e,n){O6(t,e),0<n.length&&(t.i=null,t.g.set(Mh(t,e),Ax(n)),t.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function Mh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rie(t,e){e&&!t.j&&(wc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(O6(this,i),R6(this,r,n))},t)),t.j=e}var oie=class{constructor(t,e){this.g=t,this.map=e}};function N6(t){this.l=t||sie,Ue.PerformanceNavigationTiming?(t=Ue.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ue.g&&Ue.g.Ka&&Ue.g.Ka()&&Ue.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sie=10;function F6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function L6(t){return t.h?1:t.g?t.g.size:0}function Sx(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hx(t,e){t.g?t.g.add(e):t.h=e}function V6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}N6.prototype.cancel=function(){if(this.i=j6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function j6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Ax(t.i)}var aie=class{stringify(t){return Ue.JSON.stringify(t,void 0)}parse(t){return Ue.JSON.parse(t,void 0)}};function cie(){this.g=new aie}function lie(t,e,n){let i=n||"";try{M6(t,function(r,o){let a=r;Rg(r)&&(a=Fx(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function uie(t,e){let n=new _b;if(Ue.Image){let i=new Image;i.onload=tb(sb,n,i,"TestLoadImage: loaded",!0,e),i.onerror=tb(sb,n,i,"TestLoadImage: error",!1,e),i.onabort=tb(sb,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=tb(sb,n,i,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function sb(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ug(t){this.l=t.ec||null,this.j=t.ob||!1}pi(Ug,Ux);Ug.prototype.g=function(){return new Sb(this.l,this.j)};Ug.prototype.i=function(t){return function(){return t}}({});function Sb(t,e){fi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi(Sb,fi);var zx=0;de=Sb.prototype;de.open=function(t,e){if(this.readyState!=zx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kg(this)};de.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bg(this)),this.readyState=zx};de.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kg(this)),this.g&&(this.readyState=3,kg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function U6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}de.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bg(this):kg(this),this.readyState==3&&U6(this)}};de.Za=function(t){this.g&&(this.response=this.responseText=t,Bg(this))};de.Ya=function(t){this.g&&(this.response=t,Bg(this))};de.ka=function(){this.g&&Bg(this)};function Bg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kg(t)}de.setRequestHeader=function(t,e){this.v.append(t,e)};de.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var die=Ue.JSON.parse;function bn(t){fi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=B6,this.L=this.M=!1}pi(bn,fi);var B6="",hie=/^https?$/i,fie=["POST","PUT"];de=bn.prototype;de.Oa=function(t){this.M=t};de.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bx.g(),this.C=this.u?QB(this.u):QB(bx),this.g.onreadystatechange=Fi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){XB(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Ue.FormData&&t instanceof Ue.FormData,!(0<=i6(fie,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{z6(this),0<this.B&&((this.L=pie(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.ua,this)):this.A=jx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){XB(this,o)}};function pie(t){return Ah&&typeof t.timeout=="number"&&t.ontimeout!==void 0}de.ua=function(){typeof xx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))};function XB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$6(t),Tb(t)}function $6(t){t.F||(t.F=!0,Ii(t,"complete"),Ii(t,"error"))}de.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ii(this,"complete"),Ii(this,"abort"),Tb(this))};de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tb(this,!0)),bn.$.N.call(this)};de.La=function(){this.s||(this.G||this.v||this.l?H6(this):this.kb())};de.kb=function(){H6(this)};function H6(t){if(t.h&&typeof xx<"u"&&(!t.C[1]||gs(t)!=4||t.da()!=2)){if(t.v&&gs(t)==4)jx(t.La,0,t);else if(Ii(t,"readystatechange"),gs(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(P6)[1]||null;!r&&Ue.self&&Ue.self.location&&(r=Ue.self.location.protocol.slice(0,-1)),i=!hie.test(r?r.toLowerCase():"")}n=i}if(n)Ii(t,"complete"),Ii(t,"success");else{t.m=6;try{var o=2<gs(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$6(t)}}finally{Tb(t)}}}}function Tb(t,e){if(t.g){z6(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ii(t,"ready");try{n.onreadystatechange=i}catch{}}}function z6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ue.clearTimeout(t.A),t.A=null)}de.isActive=function(){return!!this.g};function gs(t){return t.g?t.g.readyState:0}de.da=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}};de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),die(e)}};function ZB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case B6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mie(t){let e={};t=(t.g&&2<=gs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Tg(t[i]))continue;var n=Bne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}Lne(e,function(i){return i.join(", ")})}de.Ia=function(){return this.m};de.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function q6(t){let e="";return Px(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function qx(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=q6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):en(t,e,n))}function bg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function G6(t){this.Ga=0,this.j=[],this.l=new _b,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bg("baseRetryDelayMs",5e3,t),this.hb=bg("retryDelaySeedMs",1e4,t),this.eb=bg("forwardChannelMaxRetries",2,t),this.xa=bg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new N6(t&&t.concurrentRequestLimit),this.Ja=new cie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}de=G6.prototype;de.ra=8;de.H=1;function Gx(t){if(W6(t),t.H==3){var e=t.W++,n=pa(t.I);if(en(n,"SID",t.K),en(n,"RID",e),en(n,"TYPE","terminate"),$g(t,n),e=new Vg(t,t.l,e),e.L=2,e.A=Ib(pa(n)),n=!1,Ue.navigator&&Ue.navigator.sendBeacon)try{n=Ue.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ue.Image&&(new Image().src=e.A,n=!0),n||(e.g=t4(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jg(e)}Z6(t)}function Db(t){t.g&&(Kx(t),t.g.cancel(),t.g=null)}function W6(t){Db(t),t.u&&(Ue.clearTimeout(t.u),t.u=null),ub(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ue.clearTimeout(t.m),t.m=null)}function xb(t){if(!F6(t.i)&&!t.m){t.m=!0;var e=t.Na;xg||m6(),Ag||(xg(),Ag=!0),Lx.add(e,t),t.C=0}}function gie(t,e){return L6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fg(Fi(t.Na,t,e),X6(t,t.C)),t.C++,!0)}de.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Vg(this,this.l,t),o=this.s;if(this.U&&(o?(o=a6(o),c6(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=K6(this,r,e),n=pa(this.I),en(n,"RID",t),en(n,"CVER",22),this.F&&en(n,"X-HTTP-Session-Id",this.F),$g(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(q6(o)))+"&"+e:this.o&&qx(n,this.o,o)),Hx(this.i,r),this.bb&&en(n,"TYPE","init"),this.P?(en(n,"$req",e),en(n,"SID","null"),r.aa=!0,Ex(r,n,null)):Ex(r,n,e),this.H=2}}else this.H==3&&(t?e6(this,t):this.j.length==0||F6(this.i)||e6(this))};function e6(t,e){var n;e?n=e.m:n=t.W++;let i=pa(t.I);en(i,"SID",t.K),en(i,"RID",n),en(i,"AID",t.V),$g(t,i),t.o&&t.s&&qx(i,t.o,t.s),n=new Vg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=K6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hx(t.i,n),Ex(n,i,e)}function $g(t,e){t.na&&Px(t.na,function(n,i){en(e,i,n)}),t.h&&M6({},function(n,i){en(e,i,n)})}function K6(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Fi(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let f=r[d].g,p=r[d].map;if(f-=o,0>f)o=Math.max(0,r[d].g-100),l=!1;else try{lie(p,a,"req"+f+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function Q6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xg||m6(),Ag||(xg(),Ag=!0),Lx.add(e,t),t.A=0}}function Wx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fg(Fi(t.Ma,t),X6(t,t.A)),t.A++,!0)}de.Ma=function(){if(this.u=null,Y6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fg(Fi(this.jb,this),t)}};de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),Db(this),Y6(this))};function Kx(t){t.B!=null&&(Ue.clearTimeout(t.B),t.B=null)}function Y6(t){t.g=new Vg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pa(t.wa);en(e,"RID","rpc"),en(e,"SID",t.K),en(e,"AID",t.V),en(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&en(e,"TO",t.qa),en(e,"TYPE","xmlhttp"),$g(t,e),t.o&&t.s&&qx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ib(pa(e)),n.u=null,n.S=!0,T6(n,t)}de.ib=function(){this.v!=null&&(this.v=null,Db(this),Wx(this),Xi(19))};function ub(t){t.v!=null&&(Ue.clearTimeout(t.v),t.v=null)}function J6(t,e){var n=null;if(t.g==e){ub(t),Kx(t),t.g=null;var i=2}else if(Sx(t.i,e))n=e.F,V6(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=wb(),Ii(i,new b6(i,n)),xb(t)}else Q6(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&gie(t,e)||i==2&&Wx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:eu(t,5);break;case 4:eu(t,10);break;case 3:eu(t,6);break;default:eu(t,2)}}}function X6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function eu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Fi(t.pb,t);n||(n=new tu("//www.google.com/images/cleardot.gif"),Ue.location&&Ue.location.protocol=="http"||cb(n,"https"),Ib(n)),uie(n.toString(),i)}else Xi(2);t.H=0,t.h&&t.h.za(e),Z6(t),W6(t)}de.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))};function Z6(t){if(t.H=0,t.ma=[],t.h){let e=j6(t.i);(e.length!=0||t.j.length!=0)&&(qB(t.ma,e),qB(t.ma,t.j),t.i.i.length=0,Ax(t.j),t.j.length=0),t.h.ya()}}function e4(t,e,n){var i=n instanceof tu?pa(n):new tu(n);if(i.g!="")e&&(i.g=e+"."+i.g),lb(i,i.m);else{var r=Ue.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new tu(null);i&&cb(o,i),e&&(o.g=e),r&&lb(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&en(i,n,e),en(i,"VER",t.ra),$g(t,i),i}function t4(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new bn(new Ug({ob:n})):new bn(t.va),e.Oa(t.J),e}de.isActive=function(){return!!this.h&&this.h.isActive(this)};function n4(){}de=n4.prototype;de.Ba=function(){};de.Aa=function(){};de.za=function(){};de.ya=function(){};de.isActive=function(){return!0};de.Va=function(){};function db(){if(Ah&&!(10<=Number(kne)))throw Error("Environmental error: no available transport.")}db.prototype.g=function(t,e){return new Tr(t,e)};function Tr(t,e){fi.call(this),this.g=new G6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ph(this)}pi(Tr,fi);Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=e4(t,null,t.Y),xb(t)};Tr.prototype.close=function(){Gx(this.g)};Tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fx(t),t=n);e.j.push(new oie(e.fb++,t)),e.H==3&&xb(e)};Tr.prototype.N=function(){this.g.h=null,delete this.j,Gx(this.g),delete this.g,Tr.$.N.call(this)};function i4(t){Bx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pi(i4,Bx);function r4(){$x.call(this),this.status=1}pi(r4,$x);function Ph(t){this.g=t}pi(Ph,n4);Ph.prototype.Ba=function(){Ii(this.g,"a")};Ph.prototype.Aa=function(t){Ii(this.g,new i4(t))};Ph.prototype.za=function(t){Ii(this.g,new r4)};Ph.prototype.ya=function(){Ii(this.g,"b")};function vie(){this.blockSize=-1}function Mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pi(Mo,vie);Mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dx(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Mo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)dx(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){dx(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){dx(this,i),r=0;break}}this.h=r,this.i+=e};Mo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ut(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var yie={};function Qx(t){return-128<=t&&128>t?Mne(t,function(e){return new Ut([e|0],0>e?-1:0)}):new Ut([t|0],0>t?-1:0)}function vs(t){if(isNaN(t)||!isFinite(t))return xh;if(0>t)return Ei(vs(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Tx;return new Ut(e,0)}function o4(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ei(o4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vs(Math.pow(e,8)),i=xh,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=vs(Math.pow(e,o)),i=i.R(o).add(vs(a))):(i=i.R(n),i=i.add(vs(a)))}return i}var Tx=4294967296,xh=Qx(0),Dx=Qx(1),t6=Qx(16777216);de=Ut.prototype;de.ea=function(){if(qr(this))return-Ei(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Tx+i)*e,e*=Tx}return t};de.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fa(this))return"0";if(qr(this))return"-"+Ei(this).toString(t);for(var e=vs(Math.pow(t,6)),n=this,i="";;){var r=fb(n,e).g;n=hb(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,fa(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};de.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fa(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qr(t){return t.h==-1}de.X=function(t){return t=hb(this,t),qr(t)?-1:fa(t)?0:1};function Ei(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ut(n,~t.h).add(Dx)}de.abs=function(){return qr(this)?Ei(this):this};de.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Ut(n,n[n.length-1]&-2147483648?-1:0)};function hb(t,e){return t.add(Ei(e))}de.R=function(t){if(fa(this)||fa(t))return xh;if(qr(this))return qr(t)?Ei(this).R(Ei(t)):Ei(Ei(this).R(t));if(qr(t))return Ei(this.R(Ei(t)));if(0>this.X(t6)&&0>t.X(t6))return vs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,ab(n,2*i+2*r),n[2*i+2*r+1]+=o*d,ab(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,ab(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,ab(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ut(n,0)};function ab(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cg(t,e){this.g=t,this.h=e}function fb(t,e){if(fa(e))throw Error("division by zero");if(fa(t))return new Cg(xh,xh);if(qr(t))return e=fb(Ei(t),e),new Cg(Ei(e.g),Ei(e.h));if(qr(e))return e=fb(t,Ei(e)),new Cg(Ei(e.g),e.h);if(30<t.g.length){if(qr(t)||qr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dx,i=e;0>=i.X(t);)n=n6(n),i=n6(i);var r=Th(n,1),o=Th(i,1);for(i=Th(i,2),n=Th(n,2);!fa(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Th(i,1),n=Th(n,1)}return e=hb(t,r.R(e)),new Cg(r,e)}for(r=xh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=vs(n),a=o.R(e);qr(a)||0<a.X(t);)n-=i,o=vs(n),a=o.R(e);fa(o)&&(o=Dx),r=r.add(o),t=hb(t,a)}return new Cg(r,t)}de.gb=function(t){return fb(this,t).h};de.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ut(n,this.h&t.h)};de.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ut(n,this.h|t.h)};de.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ut(n,this.h^t.h)};function n6(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ut(n,t.h)}function Th(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ut(r,t.h)}db.prototype.createWebChannel=db.prototype.g;Tr.prototype.send=Tr.prototype.u;Tr.prototype.open=Tr.prototype.m;Tr.prototype.close=Tr.prototype.close;bb.NO_ERROR=0;bb.TIMEOUT=8;bb.HTTP_ERROR=6;C6.COMPLETE="complete";E6.EventType=Lg;Lg.OPEN="a";Lg.CLOSE="b";Lg.ERROR="c";Lg.MESSAGE="d";fi.prototype.listen=fi.prototype.O;bn.prototype.listenOnce=bn.prototype.P;bn.prototype.getLastError=bn.prototype.Sa;bn.prototype.getLastErrorCode=bn.prototype.Ia;bn.prototype.getStatus=bn.prototype.da;bn.prototype.getResponseJson=bn.prototype.Wa;bn.prototype.getResponseText=bn.prototype.ja;bn.prototype.send=bn.prototype.ha;bn.prototype.setWithCredentials=bn.prototype.Oa;Mo.prototype.digest=Mo.prototype.l;Mo.prototype.reset=Mo.prototype.reset;Mo.prototype.update=Mo.prototype.j;Ut.prototype.add=Ut.prototype.add;Ut.prototype.multiply=Ut.prototype.R;Ut.prototype.modulo=Ut.prototype.gb;Ut.prototype.compare=Ut.prototype.X;Ut.prototype.toNumber=Ut.prototype.ea;Ut.prototype.toString=Ut.prototype.toString;Ut.prototype.getBits=Ut.prototype.D;Ut.fromNumber=vs;Ut.fromString=o4;var s4=Po.createWebChannelTransport=function(){return new db},a4=Po.getStatEventTarget=function(){return wb()},Ab=Po.ErrorCode=bb,c4=Po.EventType=C6,l4=Po.Event=nu,Yx=Po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eCe=Po.FetchXmlHttpFactory=Ug,Hg=Po.WebChannel=E6,u4=Po.XhrIo=bn,d4=Po.Md5=Mo,iu=Po.Integer=Ut;var h4="@firebase/firestore";var mi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");var ef="10.8.1";var cu=new ls("@firebase/firestore");function zg(){return cu.logLevel}function he(t,...e){if(cu.logLevel<=ht.DEBUG){let n=e.map(FM);cu.debug(`Firestore (${ef}): ${t}`,...n)}}function Es(t,...e){if(cu.logLevel<=ht.ERROR){let n=e.map(FM);cu.error(`Firestore (${ef}): ${t}`,...n)}}function jh(t,...e){if(cu.logLevel<=ht.WARN){let n=e.map(FM);cu.warn(`Firestore (${ef}): ${t}`,...n)}}function FM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ve(t="Unexpected state"){let e=`FIRESTORE (${ef}) INTERNAL ASSERTION FAILED: `+t;throw Es(e),new Error(e)}function Qt(t,e){t||Ve()}function Qe(t,e){return t}var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ce=class extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ko=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Rb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mi.UNAUTHENTICATED))}shutdown(){}},nA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},iA=class{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>E(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string"),new Rb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string"),new mi(e)}},rA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},oA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new rA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},aA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qt(typeof n.token=="string"),this.R=n.token,new sA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _ie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Nb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=_ie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Rt(t,e){return t<e?-1:t>e?1:0}function Uh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Si=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ke=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Si(0,0))}static max(){return new t(new Si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ve(),i===void 0?i=e.length-n:i>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},En=class t extends Fb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ce(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},wie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dr=class t extends Fb{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return wie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new Ce(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ce(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new Ce(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Me=class t{constructor(e){this.path=e}static fromPath(e){return new t(En.fromString(e))}static fromName(e){return new t(En.fromString(e).popFirst(5))}static empty(){return new t(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&En.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return En.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new En(e.slice()))}};var cA=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};cA.UNKNOWN_ID=-1;function bie(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ke.fromTimestamp(i===1e9?new Si(n+1,0):new Si(n,i));return new lu(r,Me.empty(),e)}function Cie(t){return new lu(t.readTime,t.key,-1)}var lu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Ke.min(),Me.empty(),-1)}static max(){return new t(Ke.max(),Me.empty(),-1)}};function Eie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}var Iie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function av(t){return E(this,null,function*(){if(t.code!==K.FAILED_PRECONDITION||t.message!==Iie)throw t;he("LocalStore","Unexpectedly lost primary lease")})}var Q=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let f=d;n(e[f]).next(p=>{a[f]=p,++l,l===o&&i(a)},p=>r(p))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var uA=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ko,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new au(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=LM(i.target.error);this.V.reject(new au(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new au(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new hA(n)}},Lb=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Gt())===12.2&&Es("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return he("SimpleDb","Removing database:",e),ru(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uc())return!1;if(t.C())return!0;let e=Gt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return E(this,null,function*(){return this.db||(he("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Ce(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Ce(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new au(e,a))},r.onupgradeneeded=o=>{he("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{he("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return E(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=uA.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),Q.reject(f))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,f=d.name!=="FirebaseError"&&a<3;if(he("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},dA=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ru(this.k.delete())}},au=class extends Ce{constructor(e,n){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function cv(t){return t.name==="IndexedDbTransactionError"}var hA=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(he("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ru(i)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),ru(this.store.add(e))}get(e){return ru(this.store.get(e)).next(n=>(n===void 0&&(n=null),he("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),ru(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),ru(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new Q((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new Q((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){he("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new Q((i,r)=>{n.onerror=o=>{let a=LM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new Q((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new dA(l),f=n(l.primaryKey,l.value,d);if(f instanceof Q){let p=f.catch(v=>(d.done(),Q.reject(v)));i.push(p)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>Q.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ru(t){return new Q((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=LM(i.target.error);n(r)}})}var f4=!1;function LM(t){let e=Lb.S(Gt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f4||(f4=!0,setTimeout(()=>{throw i},0)),i}}return t}var U4=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function lC(t){return t==null}function Yg(t){return t===0&&1/t==-1/0}function Sie(t){return typeof t=="number"&&Number.isInteger(t)&&!Yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Tie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lCe=[...Tie,"documentOverlays"],Die=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xie=Die,uCe=[...xie,"indexConfiguration","indexState","indexEntries"];function p4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tf(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var In=class t{constructor(e,n){this.comparator=e,this.root=n||ws.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}},Nh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ws=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();let e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}};ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,i,r,o){return this}insert(e,n,i){return new ws(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ji=class t{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _s=class t{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new t([])}unionWith(e){let n=new ji(Dr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var jb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new jb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zi.EMPTY_BYTE_STRING=new Zi("");var Aie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ec(t){if(Qt(!!t),typeof t=="string"){let e=0,n=Aie.exec(t);if(Qt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cn(t.seconds),nanos:Cn(t.nanos)}}function Cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ic(t){return typeof t=="string"?Zi.fromBase64String(t):Zi.fromUint8Array(t)}function VM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jM(t){let e=t.mapValue.fields.__previous_value__;return VM(e)?jM(e):e}function Jg(t){let e=Ec(t.mapValue.fields.__local_write_time__.timestampValue);return new Si(e.seconds,e.nanos)}var fA=class{constructor(e,n,i,r,o,a,l,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=f}},Ub=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?VM(t)?4:$4(t)?9007199254740991:10:Ve()}function Is(t,e){if(t===e)return!0;let n=uu(t);if(n!==uu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jg(t).isEqual(Jg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Ec(r.timestampValue),l=Ec(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ic(r.bytesValue).isEqual(Ic(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Cn(r.geoPointValue.latitude)===Cn(o.geoPointValue.latitude)&&Cn(r.geoPointValue.longitude)===Cn(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Cn(r.integerValue)===Cn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=Cn(r.doubleValue),l=Cn(o.doubleValue);return a===l?Yg(a)===Yg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Uh(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(p4(a)!==p4(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Is(a[d],l[d])))return!1;return!0}(t,e);default:return Ve()}}function Xg(t,e){return(t.values||[]).find(n=>Is(n,e))!==void 0}function Bh(t,e){if(t===e)return 0;let n=uu(t),i=uu(e);if(n!==i)return Rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=Cn(o.integerValue||o.doubleValue),d=Cn(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return m4(t.timestampValue,e.timestampValue);case 4:return m4(Jg(t),Jg(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Ic(o),d=Ic(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let f=0;f<l.length&&f<d.length;f++){let p=Rt(l[f],d[f]);if(p!==0)return p}return Rt(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=Rt(Cn(o.latitude),Cn(a.latitude));return l!==0?l:Rt(Cn(o.longitude),Cn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let f=0;f<l.length&&f<d.length;++f){let p=Bh(l[f],d[f]);if(p)return p}return Rt(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Mb.mapValue&&a===Mb.mapValue)return 0;if(o===Mb.mapValue)return 1;if(a===Mb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),f=a.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){let y=Rt(d[v],p[v]);if(y!==0)return y;let I=Bh(l[d[v]],f[p[v]]);if(I!==0)return I}return Rt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function m4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);let n=Ec(t),i=Ec(e),r=Rt(n.seconds,i.seconds);return r!==0?r:Rt(n.nanos,i.nanos)}function $h(t){return pA(t)}function pA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ec(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ic(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=pA(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${pA(n.fields[a])}`;return r+"}"}(t.mapValue):Ve()}function mA(t){return!!t&&"integerValue"in t}function UM(t){return!!t&&"arrayValue"in t}function g4(t){return!!t&&"nullValue"in t}function v4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ob(t){return!!t&&"mapValue"in t}function Gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return tf(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Gg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Oo=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ob(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(n)}setAll(e){let n=Dr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Gg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Ob(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ob(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){tf(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Gg(this.value))}};function H4(t){let e=[];return tf(t.fields,(n,i)=>{let r=new Dr([n]);if(Ob(i)){let o=H4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new _s(e)}var Ro=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,Ke.min(),Ke.min(),Ke.min(),Oo.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Ke.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Ke.min(),Ke.min(),Oo.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ke.min(),Ke.min(),Oo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hh=class{constructor(e,n){this.position=e,this.inclusive=n}};function y4(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(a.referenceValue),n.key):i=Bh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function _4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}var zh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Mie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Bb=class{},Xn=class t extends Bb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vA(e,n,i):n==="array-contains"?new wA(e,i):n==="in"?new bA(e,i):n==="not-in"?new CA(e,i):n==="array-contains-any"?new EA(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new yA(e,i):new _A(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bh(n,this.value)):n!==null&&uu(this.value)===uu(n)&&this.matchesComparison(Bh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ss=class t extends Bb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return z4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function z4(t){return t.op==="and"}function q4(t){return Pie(t)&&z4(t)}function Pie(t){for(let e of t.filters)if(e instanceof Ss)return!1;return!0}function gA(t){if(t instanceof Xn)return t.field.canonicalString()+t.op.toString()+$h(t.value);if(q4(t))return t.filters.map(e=>gA(e)).join(",");{let e=t.filters.map(n=>gA(n)).join(",");return`${t.op}(${e})`}}function G4(t,e){return t instanceof Xn?function(i,r){return r instanceof Xn&&i.op===r.op&&i.field.isEqual(r.field)&&Is(i.value,r.value)}(t,e):t instanceof Ss?function(i,r){return r instanceof Ss&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&G4(a,r.filters[l]),!0):!1}(t,e):void Ve()}function W4(t){return t instanceof Xn?function(n){return`${n.field.canonicalString()} ${n.op} ${$h(n.value)}`}(t):t instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(W4).join(" ,")+"}"}(t):"Filter"}var vA=class extends Xn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){let n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}},yA=class extends Xn{constructor(e,n){super(e,"in",n),this.keys=K4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},_A=class extends Xn{constructor(e,n){super(e,"not-in",n),this.keys=K4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function K4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Me.fromName(i.referenceValue))}var wA=class extends Xn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return UM(n)&&Xg(n.arrayValue,this.value)}},bA=class extends Xn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Xg(this.value.arrayValue,n)}},CA=class extends Xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Xg(this.value.arrayValue,n)}},EA=class extends Xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!UM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xg(this.value.arrayValue,i))}};var IA=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function w4(t,e=null,n=[],i=[],r=null,o=null,a=null){return new IA(t,e,n,i,r,o,a)}function BM(t){let e=Qe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>gA(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),lC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$h(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$h(i)).join(",")),e.ce=n}return e.ce}function $M(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_4(t.startAt,e.startAt)&&_4(t.endAt,e.endAt)}function SA(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Oie(t,e,n,i,r,o,a,l){return new qh(t,e,n,i,r,o,a,l)}function Q4(t){return new qh(t)}function b4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kie(t){return t.collectionGroup!==null}function Wg(t){let e=Qe(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ji(Dr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new zh(o,i))}),n.has(Dr.keyField().canonicalString())||e.le.push(new zh(Dr.keyField(),i))}return e.le}function bs(t){let e=Qe(t);return e.he||(e.he=Rie(e,Wg(t))),e.he}function Rie(t,e){if(t.limitType==="F")return w4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new zh(r.field,o)});let n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return w4(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function TA(t,e,n){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uC(t,e){return $M(bs(t),bs(e))&&t.limitType===e.limitType}function Y4(t){return`${BM(bs(t))}|lt:${t.limitType}`}function Oh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>W4(r)).join(", ")}]`),lC(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$h(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$h(r)).join(",")),`Target(${i})`}(bs(t))}; limitType=${t.limitType})`}function dC(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Wg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let f=y4(a,l,d);return a.inclusive?f<=0:f<0}(i.startAt,Wg(i),r)||i.endAt&&!function(a,l,d){let f=y4(a,l,d);return a.inclusive?f>=0:f>0}(i.endAt,Wg(i),r))}(t,e)}function Nie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J4(t){return(e,n)=>{let i=!1;for(let r of Wg(t)){let o=Fie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Fie(t,e,n){let i=t.field.isKeyField()?Me.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),f=l.data.field(o);return d!==null&&f!==null?Bh(d,f):Ve()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}var Sc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tf(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return B4(this.inner)}size(){return this.innerSize}};var Lie=new In(Me.comparator);function ma(){return Lie}var X4=new In(Me.comparator);function qg(...t){let e=X4;for(let n of t)e=e.insert(n.key,n);return e}function Z4(t){let e=X4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ou(){return Kg()}function e5(){return Kg()}function Kg(){return new Sc(t=>t.toString(),(t,e)=>t.isEqual(e))}var Vie=new In(Me.comparator),jie=new ji(Me.comparator);function mt(...t){let e=jie;for(let n of t)e=e.add(n);return e}var Uie=new ji(Rt);function Bie(){return Uie}function t5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function n5(t){return{integerValue:""+t}}function $ie(t,e){return Sie(e)?n5(e):t5(t,e)}var Gh=class{constructor(){this._=void 0}};function Hie(t,e,n){return t instanceof Wh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&VM(o)&&(o=jM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof du?r5(t,e):t instanceof hu?o5(t,e):function(r,o){let a=i5(r,o),l=C4(a)+C4(r.Ie);return mA(a)&&mA(r.Ie)?n5(l):t5(r.serializer,l)}(t,e)}function zie(t,e,n){return t instanceof du?r5(t,e):t instanceof hu?o5(t,e):n}function i5(t,e){return t instanceof Kh?function(i){return mA(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Wh=class extends Gh{},du=class extends Gh{constructor(e){super(),this.elements=e}};function r5(t,e){let n=s5(e);for(let i of t.elements)n.some(r=>Is(r,i))||n.push(i);return{arrayValue:{values:n}}}var hu=class extends Gh{constructor(e){super(),this.elements=e}};function o5(t,e){let n=s5(e);for(let i of t.elements)n=n.filter(r=>!Is(r,i));return{arrayValue:{values:n}}}var Kh=class extends Gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function C4(t){return Cn(t.integerValue||t.doubleValue)}function s5(t){return UM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof du&&r instanceof du||i instanceof hu&&r instanceof hu?Uh(i.elements,r.elements,Is):i instanceof Kh&&r instanceof Kh?Is(i.Ie,r.Ie):i instanceof Wh&&r instanceof Wh}(t.transform,e.transform)}var DA=class{constructor(e,n){this.version=e,this.transformResults=n}},bc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qh=class{};function a5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,bc.none()):new fu(t.key,t.data,bc.none());{let n=t.data,i=Oo.empty(),r=new ji(Dr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new ga(t.key,i,new _s(r.toArray()),bc.none())}}function Gie(t,e,n){t instanceof fu?function(r,o,a){let l=r.value.clone(),d=I4(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(r,o,a){if(!kb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=I4(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(c5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qg(t,e,n,i){return t instanceof fu?function(o,a,l,d){if(!kb(o.precondition,a))return l;let f=o.value.clone(),p=S4(o.fieldTransforms,d,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof ga?function(o,a,l,d){if(!kb(o.precondition,a))return l;let f=S4(o.fieldTransforms,d,a),p=a.data;return p.setAll(c5(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return kb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Wie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=i5(i.transform,r||null);o!=null&&(n===null&&(n=Oo.empty()),n.set(i.field,o))}return n||null}function E4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Uh(i,r,(o,a)=>qie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fu=class extends Qh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ga=class extends Qh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function c5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function I4(t,e,n){let i=new Map;Qt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,zie(a,l,n[r]))}return i}function S4(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,Hie(o,a,e))}return i}var Zg=class extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xA=class extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var AA=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Gie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Qg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Qg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=e5();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=a5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&Uh(this.mutations,e.mutations,(n,i)=>E4(n,i))&&Uh(this.baseMutations,e.baseMutations,(n,i)=>E4(n,i))}},MA=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Qt(e.mutations.length===i.length);let r=function(){return Vie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var PA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var OA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Gn,It;function Kie(t){switch(t){default:return Ve();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function l5(t){if(t===void 0)return Es("GRPC error has no .code"),K.UNKNOWN;switch(t){case Gn.OK:return K.OK;case Gn.CANCELLED:return K.CANCELLED;case Gn.UNKNOWN:return K.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return K.INTERNAL;case Gn.UNAVAILABLE:return K.UNAVAILABLE;case Gn.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Gn.NOT_FOUND:return K.NOT_FOUND;case Gn.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Gn.ABORTED:return K.ABORTED;case Gn.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Gn.DATA_LOSS:return K.DATA_LOSS;default:return Ve()}}(It=Gn||(Gn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";var T4=null;function Qie(){return new TextEncoder}var Yie=new iu([4294967295,4294967295],0);function D4(t){let e=Qie().encode(t),n=new d4;return n.update(e),new Uint8Array(n.digest())}function x4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new iu([n,i],0),new iu([r,o],0)]}var kA=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(i<0)throw new su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=iu.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(iu.fromNumber(i)));return r.compare(Yie)===1&&(r=new iu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=D4(e),[i,r]=x4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=D4(e),[i,r]=x4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},su=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $b=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,ev.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Ke.min(),r,new In(Rt),ma(),mt())}},ev=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,mt(),mt(),mt())}};var Lh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Hb=class{constructor(e,n){this.targetId=e,this.fe=n}},zb=class{constructor(e,n,i=Zi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},qb=class{constructor(){this.ge=0,this.pe=M4(),this.ye=Zi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=mt(),n=mt(),i=mt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Ve()}}),new ev(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=M4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Qt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},RA=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ma(),this.Qe=A4(),this.Ke=new In(Rt)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(SA(o))if(i===0){let a=new Me(o.path);this.We(n,a,Ro.newNoDocument(a,Ke.min()))}else Qt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}T4?.tt(function(p,v,y,I,w){var S,D,O,V,q,A;let ne={localCacheCount:p,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},U=v.unchangedNames;return U&&(ne.bloomFilter={applied:w===0,hashCount:(S=U?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(V=(O=(D=U?.bits)===null||D===void 0?void 0:D.bitmap)===null||O===void 0?void 0:O.length)!==null&&V!==void 0?V:0,padding:(A=(q=U?.bits)===null||q===void 0?void 0:q.padding)!==null&&A!==void 0?A:0,mightContain:ae=>{var Ee;return(Ee=I?.mightContain(ae))!==null&&Ee!==void 0&&Ee}}),ne}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Ic(i).toUint8Array()}catch(d){if(d instanceof jb)return jh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new kA(a,r,o)}catch(d){return jh(d instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&SA(l.target)){let d=new Me(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,Ro.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=mt();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new $b(e,n,this.Ke,this.qe,i);return this.qe=ma(),this.Qe=A4(),this.Ke=new In(Rt),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new qb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ji(Rt),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new qb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function A4(){return new In(Me.comparator)}function M4(){return new In(Me.comparator)}var Jie={asc:"ASCENDING",desc:"DESCENDING"},Xie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zie={and:"AND",or:"OR"},NA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function FA(t,e){return t.useProto3Json||lC(e)?e:{value:e}}function Gb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ere(t,e){return Gb(t,e.toTimestamp())}function Cs(t){return Qt(!!t),Ke.fromTimestamp(function(n){let i=Ec(n);return new Si(i.seconds,i.nanos)}(t))}function HM(t,e){return LA(t,e).canonicalString()}function LA(t,e){let n=function(r){return new En(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function d5(t){let e=En.fromString(t);return Qt(g5(e)),e}function VA(t,e){return HM(t.databaseId,e.path)}function Jx(t,e){let n=d5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(f5(n))}function h5(t,e){return HM(t.databaseId,e)}function tre(t){let e=d5(t);return e.length===4?En.emptyPath():f5(e)}function jA(t){return new En(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f5(t){return Qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P4(t,e,n){return{name:VA(t,e),fields:n.value.mapValue.fields}}function nre(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Qt(p===void 0||typeof p=="string"),Zi.fromBase64String(p||"")):(Qt(p===void 0||p instanceof Uint8Array),Zi.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){let p=f.code===void 0?K.UNKNOWN:l5(f.code);return new Ce(p,f.message||"")}(a);n=new zb(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Jx(t,i.document.name),o=Cs(i.document.updateTime),a=i.document.createTime?Cs(i.document.createTime):Ke.min(),l=new Oo({mapValue:{fields:i.document.fields}}),d=Ro.newFoundDocument(r,o,a,l),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Lh(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Jx(t,i.document),o=i.readTime?Cs(i.readTime):Ke.min(),a=Ro.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Lh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Jx(t,i.document),o=i.removedTargetIds||[];n=new Lh([],o,r,null)}else{if(!("filter"in e))return Ve();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new OA(r,o),l=i.targetId;n=new Hb(l,a)}}return n}function ire(t,e){let n;if(e instanceof fu)n={update:P4(t,e.key,e.value)};else if(e instanceof Zg)n={delete:VA(t,e.key)};else if(e instanceof ga)n={update:P4(t,e.key,e.data),updateMask:hre(e.fieldMask)};else{if(!(e instanceof xA))return Ve();n={verify:VA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Wh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof du)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Ve()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:ere(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function rre(t,e){return t&&t.length>0?(Qt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?Cs(r.updateTime):Cs(o);return a.isEqual(Ke.min())&&(a=Cs(o)),new DA(a,r.transformResults||[])}(n,e))):[]}function ore(t,e){return{documents:[h5(t,e.path)]}}function sre(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=h5(t,r);let o=function(f){if(f.length!==0)return m5(Ss.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:kh(y.field),direction:lre(y.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=FA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ut:n,parent:r}}function are(t){let e=tre(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Qt(i===1);let p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){let y=p5(v);return y instanceof Ss&&q4(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new zh(Rh(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,lC(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,I=v.values||[];return new Hh(I,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){let y=!v.before,I=v.values||[];return new Hh(I,y)}(n.endAt)),Oie(e,r,a,o,l,"F",d,f)}function cre(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Rh(n.unaryFilter.field);return Xn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Rh(n.unaryFilter.field);return Xn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Rh(n.unaryFilter.field);return Xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Rh(n.unaryFilter.field);return Xn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Xn.create(Rh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(i=>p5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function lre(t){return Jie[t]}function ure(t){return Xie[t]}function dre(t){return Zie[t]}function kh(t){return{fieldPath:t.canonicalString()}}function Rh(t){return Dr.fromServerFormat(t.fieldPath)}function m5(t){return t instanceof Xn?function(n){if(n.op==="=="){if(v4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NAN"}};if(g4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NAN"}};if(g4(n.value))return{unaryFilter:{field:kh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(n.field),op:ure(n.op),value:n.value}}}(t):t instanceof Ss?function(n){let i=n.getFilters().map(r=>m5(r));return i.length===1?i[0]:{compositeFilter:{op:dre(n.op),filters:i}}}(t):Ve()}function hre(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function g5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var tv=class t{constructor(e,n,i,r,o=Ke.min(),a=Ke.min(),l=Zi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var UA=class{constructor(e){this.ct=e}};function fre(t){let e=are({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?TA(e,e.limit,"L"):e}var Wb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Cn(e.integerValue));else if("doubleValue"in e){let i=Cn(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Yg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ic(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?$4(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Ve()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Me.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Wb.bt=new Wb;var BA=class{constructor(){this._n=new $A}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(lu.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(lu.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}},$A=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ji(En.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ji(En.comparator)).toArray()}};var hCe=new Uint8Array(0);var ys=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);var nv=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var HA=class{constructor(){this.changes=new Sc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zA=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qA=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Qg(i.mutation,r,_s.empty(),Si.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,mt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=mt()){let r=ou();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=qg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=ou();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,mt()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=ma(),a=Kg(),l=function(){return Kg()}();return n.forEach((d,f)=>{let p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof ga)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Qg(p.mutation,f,p.mutation.getFieldMask(),Si.now())):a.set(f.key,_s.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var v;return l.set(f,new zA(p,(v=a.get(f))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=Kg(),r=new In((a,l)=>a-l),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let f=n.get(d);if(f===null)return;let p=i.get(d)||_s.empty();p=l.applyToLocalView(f,p),i.set(d,p);let v=(r.get(l.batchId)||mt()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),f=d.key,p=d.value,v=e5();p.forEach(y=>{if(!o.has(y)){let I=a5(n.get(y),i.get(y));I!==null&&v.set(y,I),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Q.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):Q.resolve(ou()),l=-1,d=o;return a.next(f=>Q.forEach(f,(p,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,mt())).next(p=>({batchId:l,changes:Z4(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(i=>{let r=qg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=qg();return this.indexManager.getCollectionParents(e,o).next(l=>Q.forEach(l,d=>{let f=function(v,y){return new qh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,f)=>{let p=f.getKey();a.get(p)===null&&(a=a.insert(p,Ro.newInvalidDocument(p)))});let l=qg();return a.forEach((d,f)=>{let p=o.get(d);p!==void 0&&Qg(p.mutation,f,_s.empty(),Si.now()),dC(n,f)&&(l=l.insert(d,f))}),l})}};var GA=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Cs(r.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:fre(r.bundledQuery),readTime:Cs(r.readTime)}}(n)),Q.resolve()}};var WA=class{constructor(){this.overlays=new In(Me.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ou();return Q.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){let r=ou(),o=n.length+1,a=new Me(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new In((f,p)=>f-p),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=ou(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}let l=ou(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=r)););return Q.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new PA(n,i));let o=this.hr.get(n);o===void 0&&(o=mt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var iv=class{constructor(){this.Pr=new ji(Wn.Ir),this.Tr=new ji(Wn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Wn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Wn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Me(new En([])),i=new Wn(n,e),r=new Wn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Me(new En([])),i=new Wn(n,e),r=new Wn(n,e+1),o=mt();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Wn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Wn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Me.comparator(e.key,n.key)||Rt(e.pr,n.pr)}static Er(e,n){return Rt(e.pr,n.pr)||Me.comparator(e.key,n.key)}};var KA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ji(Wn.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new AA(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new Wn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Wn(n,0),r=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ji(Rt);return n.forEach(r=>{let o=new Wn(r,0),a=new Wn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),Q.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Me.isDocumentKey(o)||(o=o.child(""));let a=new Wn(new Me(o),0),l=new ji(Rt);return this.wr.forEachWhile(d=>{let f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.pr)),!0)},a),Q.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Qt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return Q.forEach(n.mutations,r=>{let o=new Wn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Wn(n,0),r=this.wr.firstAfterOrEqual(i);return Q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var QA=class{constructor(e){this.vr=e,this.docs=function(){return new In(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():Ro.newInvalidDocument(n))}getEntries(e,n){let i=ma();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ro.newInvalidDocument(r))}),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ma(),a=n.path,l=new Me(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:f,value:{document:p}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||Eie(Cie(p),i)<=0||(r.has(p.key)||dC(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Ve()}Fr(e,n){return Q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new YA(this)}getSize(e){return Q.resolve(this.size)}},YA=class extends HA{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var JA=class{constructor(e){this.persistence=e,this.Mr=new Sc(n=>BM(n),$M),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iv,this.targetCount=0,this.Br=nv.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new nv(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Q.waitFor(o).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}};var XA=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new U4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JA(this),this.indexManager=new BA,this.remoteDocumentCache=function(r){return new QA(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new UA(n),this.$r=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new KA(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);let r=new ZA(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return Q.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},ZA=class extends lA{constructor(e){super(),this.currentSequenceNumber=e}},eM=class t{constructor(e){this.persistence=e,this.zr=new iv,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Ve()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,i=>{let r=Me.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var tM=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=mt(),r=mt();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var nM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iM=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _U()?8:Lb.v(Gt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new nM;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(zg()<=ht.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Oh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(zg()<=ht.DEBUG&&he("QueryEngine","Query:",Oh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(zg()<=ht.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Oh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):Q.resolve())}ji(e,n){if(b4(n))return Q.resolve(null);let i=bs(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=TA(n,null,"F"),i=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=mt(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let f=this.Zi(n,l);return this.Xi(n,f,a,d.readTime)?this.ji(e,TA(n,null,"F")):this.es(e,f,n,d)}))})))}Hi(e,n,i,r){return b4(n)||r.isEqual(Ke.min())?Q.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?Q.resolve(null):(zg()<=ht.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oh(n)),this.es(e,a,n,bie(r,-1)).next(l=>l))})}Zi(e,n){let i=new ji(J4(e));return n.forEach((r,o)=>{dC(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return zg()<=ht.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Oh(n)),this.zi.getDocumentsMatchingQuery(e,n,lu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var rM=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new In(Rt),this.rs=new Sc(o=>BM(o),$M),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qA(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function pre(t,e,n,i){return new rM(t,e,n,i)}function v5(t,e){return E(this,null,function*(){let n=Qe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=mt();for(let f of r){a.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}for(let f of o){l.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(i,d).next(f=>({us:f,removedBatchIds:a,addedBatchIds:l}))})})})}function mre(t,e){let n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,f,p){let v=f.batch,y=v.keys(),I=Q.resolve();return y.forEach(w=>{I=I.next(()=>p.getEntry(d,w)).next(S=>{let D=f.docVersions.get(w);Qt(D!==null),S.version.compareTo(D)<0&&(v.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=mt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function y5(t){let e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function gre(t,e){let n=Qe(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((p,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,v)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Zi.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,i)),r=r.insert(v,I),function(S,D,O){return S.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,I,p)&&l.push(n.Qr.updateTargetData(o,I))});let d=ma(),f=mt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(vre(o,a,e.documentUpdates).next(p=>{d=p.cs,f=p.ls})),!i.isEqual(Ke.min())){let p=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(p)}return Q.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ns=r,o))}function vre(t,e,n){let i=mt(),r=mt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=ma();return n.forEach((l,d)=>{let f=o.get(l);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(Ke.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",d.version)}),{cs:a,ls:r}})}function yre(t,e){let n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _re(t,e){let n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,Q.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new tv(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function oM(t,e,n){return E(this,null,function*(){let i=Qe(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!cv(a))throw a;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function O4(t,e,n){let i=Qe(t),r=Ke.min(),o=mt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,p){let v=Qe(d),y=v.rs.get(p);return y!==void 0?Q.resolve(v.ns.get(y)):v.Qr.getTargetData(f,p)}(i,a,bs(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:Ke.min(),n?o:mt())).next(l=>(wre(i,Nie(e),l),{documents:l,hs:o})))}function wre(t,e,n){let i=t.ss.get(e)||Ke.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Kb=class{constructor(){this.activeTargetIds=Bie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sM=class{constructor(){this.no=new Kb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Kb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aM=class{io(e){}shutdown(){}};var Qb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Pb=null;function Xx(){return Pb===null?Pb=function(){return 268435456+Math.round(2147483648*Math.random())}():Pb++,"0x"+Pb.toString(16)}var bre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Vi="WebChannelConnection",lM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=Xx(),d=this.bo(n,i.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,o,a),this.Co(n,d,f,r).then(p=>(he("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw jh("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ef}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=bre[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=Xx();return new Promise((a,l)=>{let d=new u4;d.setWithCredentials(!0),d.listenOnce(c4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ab.NO_ERROR:let p=d.getResponseJson();he(Vi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Ab.TIMEOUT:he(Vi,`RPC '${e}' ${o} timed out`),l(new Ce(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ab.HTTP_ERROR:let v=d.getStatus();if(he(Vi,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let w=function(D){let O=D.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(O)>=0?O:K.UNKNOWN}(I.status);l(new Ce(w,I.message))}else l(new Ce(K.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ce(K.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{he(Vi,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(r);he(Vi,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,i,15)})}Fo(e,n,i){let r=Xx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=s4(),l=a4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let p=o.join("");he(Vi,`Creating RPC '${e}' stream ${r}: ${p}`,d);let v=a.createWebChannel(p,d),y=!1,I=!1,w=new cM({lo:D=>{I?he(Vi,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(y||(he(Vi,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),he(Vi,`RPC '${e}' stream ${r} sending:`,D),v.send(D))},ho:()=>v.close()}),S=(D,O,V)=>{D.listen(O,q=>{try{V(q)}catch(A){setTimeout(()=>{throw A},0)}})};return S(v,Hg.EventType.OPEN,()=>{I||he(Vi,`RPC '${e}' stream ${r} transport opened.`)}),S(v,Hg.EventType.CLOSE,()=>{I||(I=!0,he(Vi,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),S(v,Hg.EventType.ERROR,D=>{I||(I=!0,jh(Vi,`RPC '${e}' stream ${r} transport errored:`,D),w.Vo(new Ce(K.UNAVAILABLE,"The operation could not be completed")))}),S(v,Hg.EventType.MESSAGE,D=>{var O;if(!I){let V=D.data[0];Qt(!!V);let q=V,A=q.error||((O=q[0])===null||O===void 0?void 0:O.error);if(A){he(Vi,`RPC '${e}' stream ${r} received error:`,A);let ne=A.status,U=function(qe){let et=Gn[qe];if(et!==void 0)return l5(et)}(ne),ae=A.message;U===void 0&&(U=K.INTERNAL,ae="Unknown error status: "+ne+" with message "+A.message),I=!0,w.Vo(new Ce(U,ae)),v.close()}else he(Vi,`RPC '${e}' stream ${r} received:`,V),w.mo(V)}}),S(l,l4.STAT_EVENT,D=>{D.stat===Yx.PROXY?he(Vi,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Yx.NOPROXY&&he(Vi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function Zx(){return typeof document<"u"?document:null}function hC(t){return new NA(t,!0)}var Yb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Jb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Yb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return E(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return E(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return E(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new Ce(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>E(this,null,function*(){this.state=0,this.start()}))}__(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},uM=class extends Jb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=nre(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ke.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Ke.min():a.readTime?Cs(a.readTime):Ke.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=jA(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=SA(d)?{documents:ore(o,d)}:{query:sre(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=u5(o,a.resumeToken);let f=FA(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Gb(o,a.snapshotVersion.toTimestamp());let f=FA(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);let i=cre(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=jA(this.serializer),n.removeTarget=e,this.t_(n)}},dM=class extends Jb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=rre(e.writeResults,e.commitTime),i=Cs(e.commitTime);return this.listener.T_(i,n)}return Qt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=jA(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>ire(this.serializer,i))};this.t_(n)}};var hM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,LA(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(K.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,LA(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(K.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var fM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Es(n),this.g_=!1):he("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var pM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>E(this,null,function*(){pu(this)&&(he("RemoteStore","Restarting streams for network reachability change."),yield function(d){return E(this,null,function*(){let f=Qe(d);f.v_.add(4),yield lv(f),f.x_.set("Unknown"),f.v_.delete(4),yield fC(f)})}(this))}))}),this.x_=new fM(i,r)}};function fC(t){return E(this,null,function*(){if(pu(t))for(let e of t.F_)yield e(!0)})}function lv(t){return E(this,null,function*(){for(let e of t.F_)yield e(!1)})}function _5(t,e){let n=Qe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),GM(n)?qM(n):nf(n).Jo()&&zM(n,e))}function w5(t,e){let n=Qe(t),i=nf(n);n.C_.delete(e),i.Jo()&&b5(n,e),n.C_.size===0&&(i.Jo()?i.Xo():pu(n)&&n.x_.set("Unknown"))}function zM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nf(t).c_(e)}function b5(t,e){t.O_.Oe(e),nf(t).l_(e)}function qM(t){t.O_=new RA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nf(t).start(),t.x_.p_()}function GM(t){return pu(t)&&!nf(t).Ho()&&t.C_.size>0}function pu(t){return Qe(t).v_.size===0}function C5(t){t.O_=void 0}function Cre(t){return E(this,null,function*(){t.C_.forEach((e,n)=>{zM(t,e)})})}function Ere(t,e){return E(this,null,function*(){C5(t),GM(t)?(t.x_.S_(e),qM(t)):t.x_.set("Unknown")})}function Ire(t,e,n){return E(this,null,function*(){if(t.x_.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Xb(t,i)}else if(e instanceof Lh?t.O_.$e(e):e instanceof Hb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ke.min()))try{let i=yield y5(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){let p=o.C_.get(f);p&&o.C_.set(f,p.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,f)=>{let p=o.C_.get(d);if(!p)return;o.C_.set(d,p.withResumeToken(Zi.EMPTY_BYTE_STRING,p.snapshotVersion)),b5(o,d);let v=new tv(p.target,d,f,p.sequenceNumber);zM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){he("RemoteStore","Failed to raise snapshot:",i),yield Xb(t,i)}})}function Xb(t,e,n){return E(this,null,function*(){if(!cv(e))throw e;t.v_.add(1),yield lv(t),t.x_.set("Offline"),n||(n=()=>y5(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){he("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield fC(t)}))})}function E5(t,e){return e().catch(n=>Xb(t,n,e))}function pC(t){return E(this,null,function*(){let e=Qe(t),n=Tc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Sre(e);)try{let r=yield yre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,Tre(e,r)}catch(r){yield Xb(e,r)}I5(e)&&S5(e)})}function Sre(t){return pu(t)&&t.D_.length<10}function Tre(t,e){t.D_.push(e);let n=Tc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function I5(t){return pu(t)&&!Tc(t).Ho()&&t.D_.length>0}function S5(t){Tc(t).start()}function Dre(t){return E(this,null,function*(){Tc(t).d_()})}function xre(t){return E(this,null,function*(){let e=Tc(t);for(let n of t.D_)e.I_(n.mutations)})}function Are(t,e,n){return E(this,null,function*(){let i=t.D_.shift(),r=MA.from(i,e,n);yield E5(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield pC(t)})}function Mre(t,e){return E(this,null,function*(){e&&Tc(t).P_&&(yield function(i,r){return E(this,null,function*(){if(function(a){return Kie(a)&&a!==K.ABORTED}(r.code)){let o=i.D_.shift();Tc(i).Zo(),yield E5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield pC(i)}})}(t,e)),I5(t)&&S5(t)})}function k4(t,e){return E(this,null,function*(){let n=Qe(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");let i=pu(n);n.v_.add(3),yield lv(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield fC(n)})}function Pre(t,e){return E(this,null,function*(){let n=Qe(t);e?(n.v_.delete(2),yield fC(n)):e||(n.v_.add(2),yield lv(n),n.x_.set("Unknown"))})}function nf(t){return t.N_||(t.N_=function(n,i,r){let o=Qe(n);return o.R_(),new uM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Cre.bind(null,t),To:Ere.bind(null,t),u_:Ire.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.N_.Zo(),GM(t)?qM(t):t.x_.set("Unknown")):(yield t.N_.stop(),C5(t))}))),t.N_}function Tc(t){return t.B_||(t.B_=function(n,i,r){let o=Qe(n);return o.R_(),new dM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Dre.bind(null,t),To:Mre.bind(null,t),E_:xre.bind(null,t),T_:Are.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.B_.Zo(),yield pC(t)):(yield t.B_.stop(),t.D_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var mM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WM(t,e){if(Es("AsyncQueue",`${e}: ${t}`),cv(t))return new Ce(K.UNAVAILABLE,`${e}: ${t}`);throw t}var Zb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=qg(),this.sortedSet=new In(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var eC=class{constructor(){this.L_=new In(Me.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ve():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Yh=class t{constructor(e,n,i,r,o,a,l,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Zb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var gM=class{constructor(){this.q_=void 0,this.Q_=[]}},vM=class{constructor(){this.queries=new Sc(e=>Y4(e),uC),this.onlineState="Unknown",this.K_=new Set}};function Ore(t,e){return E(this,null,function*(){let n=Qe(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new gM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=WM(a,`Initialization of query '${Oh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&KM(n)})}function kre(t,e){return E(this,null,function*(){let n=Qe(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function Rre(t,e){let n=Qe(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&KM(n)}function Nre(t,e,n){let i=Qe(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function KM(t){t.K_.forEach(e=>{e.next()})}var yM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Yh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var tC=class{constructor(e){this.key=e}},nC=class{constructor(e){this.key=e}},_M=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=mt(),this.mutatedKeys=mt(),this.ua=J4(e),this.ca=new Zb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new eC,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{let y=r.get(p),I=dC(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),S=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),D=!1;y&&I?y.data.isEqual(I.data)?w!==S&&(i.track({type:3,doc:I}),D=!0):this.Ia(y,I)||(i.track({type:2,doc:I}),D=!0,(d&&this.ua(I,d)>0||f&&this.ua(I,f)<0)&&(l=!0)):!y&&I?(i.track({type:0,doc:I}),D=!0):y&&!I&&(i.track({type:1,doc:y}),D=!0,(d||f)&&(l=!0)),D&&(I?(a=a.add(I),o=S?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((p,v)=>function(I,w){let S=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return S(I)-S(w)}(p.type,v.type)||this.ua(p.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,f=d!==this._a;return this._a=d,a.length!==0||f?{snapshot:new Yh(this.query,e.ca,o,a,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new eC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=mt(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new nC(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new tC(i))}),n}Ra(e){this.oa=e.hs,this.aa=mt();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Yh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},wM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},bM=class{constructor(e){this.key=e,this.ma=!1}},CM=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Sc(l=>Y4(l),uC),this.pa=new Map,this.ya=new Set,this.wa=new In(Me.comparator),this.Sa=new Map,this.ba=new iv,this.Da={},this.Ca=new Map,this.va=nv.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function Fre(t,e){return E(this,null,function*(){let n=Gre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield _re(n.localStore,bs(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Lre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&_5(n.remoteStore,a)}return r})}function Lre(t,e,n,i,r){return E(this,null,function*(){t.Ma=(v,y,I)=>function(S,D,O,V){return E(this,null,function*(){let q=D.view.ha(O);q.Xi&&(q=yield O4(S.localStore,D.query,!1).then(({documents:ae})=>D.view.ha(ae,q)));let A=V&&V.targetChanges.get(D.targetId),ne=V&&V.targetMismatches.get(D.targetId)!=null,U=D.view.applyChanges(q,S.isPrimaryClient,A,ne);return N4(S,D.targetId,U.da),U.snapshot})}(t,v,y,I);let o=yield O4(t.localStore,e,!0),a=new _M(e,o.hs),l=a.ha(o.documents),d=ev.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(l,t.isPrimaryClient,d);N4(t,n,f.da);let p=new wM(e,n,a);return t.ga.set(e,p),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),f.snapshot})}function Vre(t,e){return E(this,null,function*(){let n=Qe(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!uC(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),w5(n.remoteStore,i.targetId),EM(n,i.targetId)}).catch(av))):(EM(n,i.targetId),yield oM(n.localStore,i.targetId,!0))})}function jre(t,e,n){return E(this,null,function*(){let i=Wre(t);try{let r=yield function(a,l){let d=Qe(a),f=Si.now(),p=l.reduce((I,w)=>I.add(w.key),mt()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let w=ma(),S=mt();return d.os.getEntries(I,p).next(D=>{w=D,w.forEach((O,V)=>{V.isValidDocument()||(S=S.add(O))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,w)).next(D=>{v=D;let O=[];for(let V of l){let q=Wie(V,v.get(V.key).overlayedDocument);q!=null&&O.push(new ga(V.key,q,H4(q.value.mapValue),bc.exists(!0)))}return d.mutationQueue.addMutationBatch(I,f,O,l)}).next(D=>{y=D;let O=D.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(I,D.batchId,O)})}).then(()=>({batchId:y.batchId,changes:Z4(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let f=a.Da[a.currentUser.toKey()];f||(f=new In(Rt)),f=f.insert(l,d),a.Da[a.currentUser.toKey()]=f}(i,r.batchId,n),yield uv(i,r.changes),yield pC(i.remoteStore)}catch(r){let o=WM(r,"Failed to persist write");n.reject(o)}})}function T5(t,e){return E(this,null,function*(){let n=Qe(t);try{let i=yield gre(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Qt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Qt(a.ma):r.removedDocuments.size>0&&(Qt(a.ma),a.ma=!1))}),yield uv(n,i,e)}catch(i){yield av(i)}})}function R4(t,e,n){let i=Qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=Qe(a);d.onlineState=l;let f=!1;d.queries.forEach((p,v)=>{for(let y of v.Q_)y.U_(l)&&(f=!0)}),f&&KM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Ure(t,e,n){return E(this,null,function*(){let i=Qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new In(Me.comparator);a=a.insert(o,Ro.newNoDocument(o,Ke.min()));let l=mt().add(o),d=new $b(Ke.min(),new Map,new In(Rt),a,l);yield T5(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),QM(i)}else yield oM(i.localStore,e,!1).then(()=>EM(i,e,n)).catch(av)})}function Bre(t,e){return E(this,null,function*(){let n=Qe(t),i=e.batch.batchId;try{let r=yield mre(n.localStore,e);x5(n,i,null),D5(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield uv(n,r)}catch(r){yield av(r)}})}function $re(t,e,n){return E(this,null,function*(){let i=Qe(t);try{let r=yield function(a,l){let d=Qe(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,l).next(v=>(Qt(v!==null),p=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,e);x5(i,e,n),D5(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield uv(i,r)}catch(r){yield av(r)}})}function D5(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function x5(t,e,n){let i=Qe(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function EM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||A5(t,i)})}function A5(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(w5(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),QM(t))}function N4(t,e,n){for(let i of n)i instanceof tC?(t.ba.addReference(i.key,e),Hre(t,i)):i instanceof nC?(he("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||A5(t,i.key)):Ve()}function Hre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(he("SyncEngine","New document in limbo: "+n),t.ya.add(i),QM(t))}function QM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new Me(En.fromString(e)),i=t.va.next();t.Sa.set(i,new bM(n)),t.wa=t.wa.insert(n,i),_5(t.remoteStore,new tv(bs(Q4(n.path)),i,"TargetPurposeLimboResolution",U4._e))}}function uv(t,e,n){return E(this,null,function*(){let i=Qe(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);let p=tM.Ki(d.targetId,f);o.push(p)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,f){return E(this,null,function*(){let p=Qe(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Q.forEach(f,y=>Q.forEach(y.qi,I=>p.persistence.referenceDelegate.addReference(v,y.targetId,I)).next(()=>Q.forEach(y.Qi,I=>p.persistence.referenceDelegate.removeReference(v,y.targetId,I)))))}catch(v){if(!cv(v))throw v;he("LocalStore","Failed to update sequence numbers: "+v)}for(let v of f){let y=v.targetId;if(!v.fromCache){let I=p.ns.get(y),w=I.snapshotVersion,S=I.withLastLimboFreeSnapshotVersion(w);p.ns=p.ns.insert(y,S)}}})}(i.localStore,o))})}function zre(t,e){return E(this,null,function*(){let n=Qe(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());let i=yield v5(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new Ce(K.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield uv(n,i.us)}})}function qre(t,e){let n=Qe(t),i=n.Sa.get(e);if(i&&i.ma)return mt().add(i.key);{let r=mt(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Gre(t){let e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ure.bind(null,e),e.fa.u_=Rre.bind(null,e.eventManager),e.fa.xa=Nre.bind(null,e.eventManager),e}function Wre(t){let e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$re.bind(null,e),e}var iC=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=hC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pre(this.persistence,new iM,e.initialUser,this.serializer)}createPersistence(e){return new XA(eM.Hr,this.serializer)}createSharedClientState(e){return new sM}terminate(){return E(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var IM=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>R4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zre.bind(null,this.syncEngine),yield Pre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vM}()}createDatastore(e){let n=hC(e.databaseInfo.databaseId),i=function(o){return new lM(o)}(e.databaseInfo);return function(o,a,l,d){return new hM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new pM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>R4(this.syncEngine,n,0),function(){return Qb.D()?new Qb:new aM}())}createSyncEngine(e,n){return function(r,o,a,l,d,f,p){let v=new CM(r,o,a,l,d,f);return p&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return E(this,null,function*(){var e;yield function(i){return E(this,null,function*(){let r=Qe(i);he("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield lv(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var SM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var TM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=mi.UNAUTHENTICATED,this.clientId=Nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){he("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=WM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function eA(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield v5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function F4(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Qre(t);he("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>k4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>k4(e.remoteStore,r)),t._onlineComponents=e})}function Kre(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Qre(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eA(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Kre(n))throw n;jh("Error using user provided cache. Falling back to memory cache: "+n),yield eA(t,new iC)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield eA(t,new iC);return t._offlineComponents})}function M5(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield F4(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield F4(t,new IM))),t._onlineComponents})}function Yre(t){return M5(t).then(e=>e.syncEngine)}function Jre(t){return E(this,null,function*(){let e=yield M5(t),n=e.eventManager;return n.onListen=Fre.bind(null,e.syncEngine),n.onUnlisten=Vre.bind(null,e.syncEngine),n})}function Xre(t,e,n={}){let i=new ko;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,a,l,d,f){let p=new SM({next:y=>{a.enqueueAndForget(()=>kre(o,v)),y.fromCache&&d.source==="server"?f.reject(new Ce(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new yM(l,p,{includeMetadataChanges:!0,Z_:!0});return Ore(o,v)}(yield Jre(t),t.asyncQueue,e,n,i)})),i.promise}function P5(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var L4=new Map;function O5(t,e,n){if(!n)throw new Ce(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zre(t,e,n,i){if(e===!0&&i===!0)throw new Ce(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V4(t){if(!Me.isDocumentKey(t))throw new Ce(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j4(t){if(Me.isDocumentKey(t))throw new Ce(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Jh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=YM(t);throw new Ce(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var rC=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ce(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tA;switch(i.type){case"firstParty":return new oA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=L4.get(n);i&&(he("ComponentProvider","Removing Datastore"),L4.delete(n),i.terminate())}(this),Promise.resolve()}};function k5(t,e,n,i={}){var r;let o=(t=Jh(t,Xh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=mi.MOCK_USER;else{l=gU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ce(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new mi(f)}t._authCredentials=new nA(new Rb(l,d))}}var oC=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Gr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Cc=class t extends oC{constructor(e,n,i){super(e,n,Q4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Me(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function R5(t,e,...n){if(t=Xe(t),O5("collection","path",e),t instanceof Xh){let i=En.fromString(e,...n);return j4(i),new Cc(t,null,i)}{if(!(t instanceof Gr||t instanceof Cc))throw new Ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(En.fromString(e,...n));return j4(i),new Cc(t.firestore,null,i)}}function N5(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Nb.newId()),O5("doc","path",e),t instanceof Xh){let i=En.fromString(e,...n);return V4(i),new Gr(t,null,new Me(i))}{if(!(t instanceof Gr||t instanceof Cc))throw new Ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(En.fromString(e,...n));return V4(i),new Gr(t.firestore,t instanceof Cc?t.converter:null,new Me(i))}}var DM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Yb(this,"async_queue_retry"),this._u=()=>{let n=Zx();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Zx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Zx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new ko;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!cv(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Es("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=mM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Ve()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var Zh=class extends Xh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new DM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||V5(this),this._firestoreClient.terminate()}};function F5(t,e){let n=typeof t=="object"?t:Ll(),i=typeof t=="string"?t:e||"(default)",r=Fl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=mU("firestore");o&&k5(r,...o)}return r}function L5(t){return t._firestoreClient||V5(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function V5(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,f,p){return new fA(l,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,P5(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new TM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var rv=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zi.fromBase64String(e))}catch(n){throw new Ce(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ov=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sC=class{constructor(e){this._methodName=e}};var sv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}};var eoe=/^__.*__$/,xM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}};function j5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}var AM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return aC(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(j5(this.du)&&eoe.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},MM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||hC(e)}Su(e,n,i,r=!1){return new AM({du:e,methodName:n,wu:i,path:Dr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function toe(t){let e=t._freezeSettings(),n=hC(t._databaseId);return new MM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function noe(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);H5("Data must be an object, but it was:",a,i);let l=B5(i,a),d,f;if(o.merge)d=new _s(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){let p=[];for(let v of o.mergeFields){let y=ioe(e,v,n);if(!a.contains(y))throw new Ce(K.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ooe(p,y)||p.push(y)}d=new _s(p),f=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=a.fieldTransforms;return new xM(new Oo(l),d,f)}function U5(t,e){if($5(t=Xe(t)))return H5("Unsupported field value:",e,t),B5(t,e);if(t instanceof sC)return function(i,r){if(!j5(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=U5(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $ie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Si.fromDate(i);return{timestampValue:Gb(r.serializer,o)}}if(i instanceof Si){let o=new Si(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gb(r.serializer,o)}}if(i instanceof sv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof rv)return{bytesValue:u5(r.serializer,i._byteString)};if(i instanceof Gr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${YM(i)}`)}(t,e)}function B5(t,e){let n={};return B4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tf(t,(i,r)=>{let o=U5(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function $5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Si||t instanceof sv||t instanceof rv||t instanceof Gr||t instanceof sC)}function H5(t,e,n){if(!$5(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=YM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function ioe(t,e,n){if((e=Xe(e))instanceof ov)return e._internalPath;if(typeof e=="string")return z5(t,e);throw aC("Field path arguments must be of type string or ",t,!1,void 0,n)}var roe=new RegExp("[~\\*/\\[\\]]");function z5(t,e,n){if(e.search(roe)>=0)throw aC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ov(...e.split("."))._internalPath}catch{throw aC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function aC(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Ce(K.INVALID_ARGUMENT,l+t+d)}function ooe(t,e){return t.some(n=>n.isEqual(e))}var cC=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(q5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},PM=class extends cC{data(){return super.data()}};function q5(t,e){return typeof e=="string"?z5(t,e):e instanceof ov?e._internalPath:e._delegate._internalPath}function soe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OM=class{convertValue(e,n="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ic(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return tf(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new sv(Cn(e.latitude),Cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=jM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Jg(e));default:return null}}convertTimestamp(e){let n=Ec(e);return new Si(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=En.fromString(e);Qt(g5(i));let r=new Ub(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return r.isEqual(n)||Es(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function aoe(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Fh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kM=class extends cC{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(q5("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Vh=class extends kM{data(e={}){return super.data(e)}},RM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Vh(this._firestore,this._userDataWriter,i.key,i,new Fh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Vh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,p=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:coe(l.type),doc:d,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function coe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}var NM=class extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}};function G5(t){t=Jh(t,oC);let e=Jh(t.firestore,Zh),n=L5(e),i=new NM(e);return soe(t._query),Xre(n,t._query).then(r=>new RM(e,i,t,r))}function W5(t,e,n){t=Jh(t,Gr);let i=Jh(t.firestore,Zh),r=aoe(t.converter,e,n);return Q5(i,[noe(toe(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,bc.none())])}function K5(t){return Q5(Jh(t.firestore,Zh),[new Zg(t._key,bc.none())])}function Q5(t,e){return function(i,r){let o=new ko;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return jre(yield Yre(i),r,o)})),o.promise}(L5(t),e)}(function(e,n=!0){(function(r){ef=r})(So),Io(new Ri("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new Zh(new iA(i.getProvider("auth-internal")),new aA(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ce(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ub(f.options.projectId,p)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),cn(h4,"4.4.3",e),cn(h4,"4.4.3","esm2017")})();var mu=class{constructor(e){return e}},Y5="firestore",JM=class{constructor(){return Sm(Y5)}};var XM=new we("angularfire2.firestore-instances");function loe(t,e){let n=Ew(Y5,t,e);return n&&new mu(n)}function uoe(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new mu(i)}}var doe={provide:JM,deps:[[new Yi,XM]]},hoe={provide:mu,useFactory:loe,deps:[[new Yi,XM],sa]},foe=(()=>{class t{constructor(){cn("angularfire",jl.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ki({type:t});static \u0275inj=Qi({providers:[hoe,doe]})}return t})();function J5(t,...e){return{ngModule:foe,providers:[{provide:XM,useFactory:uoe(t),multi:!0,deps:[Ct,sn,hh,Ul,[new Yi,wg],[new Yi,dh],...e]}]}}var X5=To(R5,!0);var Z5=To(K5,!0);var ZM=To(N5,!0);var e$=To(G5,!0);var t$=To(F5,!0);var n$=To(W5,!0);var nP=class extends sw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},iP=class t extends nP{static makeCurrent(){Kj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=moe();return n==null?null:goe(n)}resetBaseElement(){dv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aw(document.cookie,e)}},dv=null;function moe(){return dv=dv||document.querySelector("base"),dv?dv.getAttribute("href"):null}function goe(t){return new URL(t,document.baseURI).pathname}var voe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),rP=new we(""),o$=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(re(rP),re(Ct))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),mC=class{constructor(e){this._doc=e}},eP="ng-app-id",s$=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${eP}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(eP),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(eP,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(re(Ci),re(o1),re(c1,8),re(jr))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),tP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sP=/%COMP%/g,a$="%COMP%",yoe=`_nghost-${a$}`,_oe=`_ngcontent-${a$}`,woe=!0,boe=new we("",{providedIn:"root",factory:()=>woe});function Coe(t){return _oe.replace(sP,t)}function Eoe(t){return yoe.replace(sP,t)}function c$(t,e){return e.map(n=>n.replace(sP,t))}var gC=(()=>{let e=class e{constructor(i,r,o,a,l,d,f,p=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=dm(d),this.defaultRenderer=new hv(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ts.ShadowDom&&(r=Dt(ie({},r),{encapsulation:ts.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof vC?o.applyToHost(i):o instanceof fv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case ts.Emulated:a=new vC(f,p,r,this.appId,v,l,d,y);break;case ts.ShadowDom:return new oP(f,p,i,r,l,d,this.nonce,y);default:a=new fv(f,p,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(re(o$),re(s$),re(o1),re(boe),re(Ci),re(jr),re(Ct),re(c1))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),hv=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tP[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(i$(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(i$(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new te(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=tP[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=tP[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ys.DashCase|Ys.Important)?e.style.setProperty(n,i,r&Ys.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ys.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ia().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function i$(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var oP=class extends hv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=c$(r.id,r.styles);for(let p of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=p,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fv=class extends hv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?c$(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vC=class extends fv{constructor(e,n,i,r,o,a,l,d){let f=r+"-"+i.id;super(e,n,i,o,a,l,d,f),this.contentAttr=Coe(f),this.hostAttr=Eoe(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},Ioe=(()=>{let e=class e extends mC{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(re(Ci))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),r$=["alt","control","meta","shift"],Soe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Toe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Doe=(()=>{let e=class e extends mC{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),r$.forEach(p=>{let v=r.indexOf(p);v>-1&&(r.splice(v,1),l+=p+".")}),l+=a,r.length!=0||a.length===0)return null;let f={};return f.domEventName=o,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let o=Soe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),r$.forEach(l=>{if(l!==o){let d=Toe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(re(Ci))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function l$(t,e){return Bj(ie({rootComponent:t},xoe(e)))}function xoe(t){return{appProviders:[...koe,...t?.providers??[]],platformProviders:Ooe}}function Aoe(){iP.makeCurrent()}function Moe(){return new os}function Poe(){return jV(document),document}var Ooe=[{provide:jr,useValue:Xj},{provide:s1,useValue:Aoe,multi:!0},{provide:Ci,useFactory:Poe,deps:[]}];var koe=[{provide:U0,useValue:"root"},{provide:os,useFactory:Moe,deps:[]},{provide:rP,useClass:Ioe,multi:!0,deps:[Ci,Ct,jr]},{provide:rP,useClass:Doe,multi:!0,deps:[Ci]},gC,s$,o$,{provide:bl,useExisting:gC},{provide:sh,useClass:voe,deps:[]},[]];var u$=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(re(Ci))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=re(Roe),o},providedIn:"root"});let t=e;return t})(),Roe=(()=>{let e=class e extends aP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case as.NONE:return r;case as.HTML:return oc(r,"HTML")?Ur(r):x3(this._doc,String(r)).toString();case as.STYLE:return oc(r,"Style")?Ur(r):r;case as.SCRIPT:if(oc(r,"Script"))return Ur(r);throw new te(5200,!1);case as.URL:return oc(r,"URL")?Ur(r):z0(String(r));case as.RESOURCE_URL:if(oc(r,"ResourceURL"))return Ur(r);throw new te(5201,!1);default:throw new te(5202,!1)}}bypassSecurityTrustHtml(i){return _3(i)}bypassSecurityTrustStyle(i){return w3(i)}bypassSecurityTrustScript(i){return b3(i)}bypassSecurityTrustUrl(i){return C3(i)}bypassSecurityTrustResourceUrl(i){return E3(i)}};e.\u0275fac=function(r){return new(r||e)(re(Ci))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ye=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ye||{}),Ts="*";function Wr(t,e){return{type:Ye.Trigger,name:t,definitions:e,options:{}}}function Zn(t,e=null){return{type:Ye.Animate,styles:e,timings:t}}function h$(t,e=null){return{type:Ye.Sequence,steps:t,options:e}}function it(t){return{type:Ye.Style,styles:t,offset:null}}function f$(t,e,n){return{type:Ye.State,name:t,styles:e,options:n}}function Fn(t,e,n=null){return{type:Ye.Transition,expr:t,animation:e,options:n}}var Dc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},pv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},yC="!";function p$(t){return new te(3e3,!1)}function Noe(){return new te(3100,!1)}function Foe(){return new te(3101,!1)}function Loe(t){return new te(3001,!1)}function Voe(t){return new te(3003,!1)}function joe(t){return new te(3004,!1)}function Uoe(t,e){return new te(3005,!1)}function Boe(){return new te(3006,!1)}function $oe(){return new te(3007,!1)}function Hoe(t,e){return new te(3008,!1)}function zoe(t){return new te(3002,!1)}function qoe(t,e,n,i,r){return new te(3010,!1)}function Goe(){return new te(3011,!1)}function Woe(){return new te(3012,!1)}function Koe(){return new te(3200,!1)}function Qoe(){return new te(3202,!1)}function Yoe(){return new te(3013,!1)}function Joe(t){return new te(3014,!1)}function Xoe(t){return new te(3015,!1)}function Zoe(t){return new te(3016,!1)}function ese(t,e){return new te(3404,!1)}function tse(t){return new te(3502,!1)}function nse(t){return new te(3503,!1)}function ise(){return new te(3300,!1)}function rse(t){return new te(3504,!1)}function ose(t){return new te(3301,!1)}function sse(t,e){return new te(3302,!1)}function ase(t){return new te(3303,!1)}function cse(t,e){return new te(3400,!1)}function lse(t){return new te(3401,!1)}function use(t){return new te(3402,!1)}function dse(t,e){return new te(3505,!1)}function xc(t){switch(t.length){case 0:return new Dc;case 1:return t[0];default:return new pv(t)}}function x$(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let f=d.get("offset"),p=f==a,v=p&&l||new Map;d.forEach((y,I)=>{let w=I,S=y;if(I!=="offset")switch(w=t.normalizePropertyName(w,r),S){case yC:S=n.get(I);break;case Ts:S=i.get(I);break;default:S=t.normalizeStyleValue(I,w,S,r);break}v.set(w,S)}),p||o.push(v),l=v,a=f}),r.length)throw tse(r);return o}function MP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&cP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&cP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&cP(n,"destroy",t)));break}}function cP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=PP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function PP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ar(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function m$(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var hse=typeof document>"u"?null:document.documentElement;function OP(t){let e=t.parentNode||t.host||null;return e===hse?null:e}function fse(t){return t.substring(1,6)=="ebkit"}var gu=null,g$=!1;function pse(t){gu||(gu=mse()||{},g$=gu.style?"WebkitAppearance"in gu.style:!1);let e=!0;return gu.style&&!fse(t)&&(e=t in gu.style,!e&&g$&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gu.style)),e}function mse(){return typeof document<"u"?document.body:null}function A$(t,e){for(;e;){if(e===t)return!0;e=OP(e)}return!1}function M$(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var kP=(()=>{let e=class e{validateStyleProperty(i){return pse(i)}matchesElement(i,r){return!1}containsElement(i,r){return A$(i,r)}getParentElement(i){return OP(i)}query(i,r,o){return M$(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],f){return new Dc(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),LP=class LP{};LP.NOOP=new kP;var _u=LP,wu=class{};var gse=1e3,P$="{{",vse="}}",O$="ng-enter",pP="ng-leave",_C="ng-trigger",IC=".ng-trigger",v$="ng-animating",mP=".ng-animating";function va(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gP(parseFloat(e[1]),e[2])}function gP(t,e){switch(e){case"s":return t*gse;default:return t}}function SC(t,e,n){return t.hasOwnProperty("duration")?t:yse(t,e,n)}function yse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(p$(t)),{duration:0,delay:0,easing:""};r=gP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=gP(parseFloat(d),l[4]));let f=l[5];f&&(a=f)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(Noe()),l=!0),o<0&&(e.push(Foe()),l=!0),l&&e.splice(d,0,p$(t))}return{duration:r,delay:o,easing:a}}function _se(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ds(t,e,n){e.forEach((i,r)=>{let o=RP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function yu(t,e){e.forEach((n,i)=>{let r=RP(i);t.style[r]=""})}function mv(t){return Array.isArray(t)?t.length==1?t[0]:h$(t):t}function wse(t,e,n){let i=e.params||{},r=k$(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(Loe(o))})}var vP=new RegExp(`${P$}\\s*(.+?)\\s*${vse}`,"g");function k$(t){let e=[];if(typeof t=="string"){let n;for(;n=vP.exec(t);)e.push(n[1]);vP.lastIndex=0}return e}function vv(t,e,n){let i=`${t}`,r=i.replace(vP,(o,a)=>{let l=e[a];return l==null&&(n.push(Voe(a)),l=""),l.toString()});return r==i?t:r}var bse=/-+([a-z0-9])/g;function RP(t){return t.replace(bse,(...e)=>e[1].toUpperCase())}function Cse(t,e){return t===0||e===0}function Ese(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,NP(t,l)))}}return e}function xr(t,e,n){switch(e.type){case Ye.Trigger:return t.visitTrigger(e,n);case Ye.State:return t.visitState(e,n);case Ye.Transition:return t.visitTransition(e,n);case Ye.Sequence:return t.visitSequence(e,n);case Ye.Group:return t.visitGroup(e,n);case Ye.Animate:return t.visitAnimate(e,n);case Ye.Keyframes:return t.visitKeyframes(e,n);case Ye.Style:return t.visitStyle(e,n);case Ye.Reference:return t.visitReference(e,n);case Ye.AnimateChild:return t.visitAnimateChild(e,n);case Ye.AnimateRef:return t.visitAnimateRef(e,n);case Ye.Query:return t.visitQuery(e,n);case Ye.Stagger:return t.visitStagger(e,n);default:throw joe(e.type)}}function NP(t,e){return window.getComputedStyle(t)[e]}var Ise=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),TC=class extends wu{normalizePropertyName(e,n){return RP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(Ise.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Uoe(e,i))}return a+o}};var DC="*";function Sse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>Tse(i,n,e)):n.push(t),n}function Tse(t,e,n){if(t[0]==":"){let d=Dse(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Xoe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(y$(r,a));let l=r==DC&&a==DC;o[0]=="<"&&!l&&e.push(y$(a,r))}function Dse(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Zoe(t)),"* => *"}}var wC=new Set(["true","1"]),bC=new Set(["false","0"]);function y$(t,e){let n=wC.has(t)||bC.has(t),i=wC.has(e)||bC.has(e);return(r,o)=>{let a=t==DC||t==r,l=e==DC||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?wC.has(t):bC.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?wC.has(e):bC.has(e)),a&&l}}var R$=":self",xse=new RegExp(`s*${R$}s*,?`,"g");function N$(t,e,n,i){return new yP(t).build(e,n,i)}var _$="",yP=class{constructor(e){this._driver=e}build(e,n,i){let r=new _P(n);return this._resetContextStyleTimingState(r),xr(this,mv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=_$,e.collectedStyles=new Map,e.collectedStyles.set(_$,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Boe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==Ye.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(p=>{d.name=p,o.push(this.visitState(d,n))}),d.name=f}else if(l.type==Ye.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push($oe())}),{type:Ye.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{k$(d).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&n.errors.push(Hoe(e.name,[...o.values()]))}return{type:Ye.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=xr(this,mv(e.animation),n),r=Sse(e.expr,n.errors);return{type:Ye.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:vu(e.options)}}visitSequence(e,n){return{type:Ye.Sequence,steps:e.steps.map(i=>xr(this,i,n)),options:vu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=xr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:Ye.Group,steps:o,options:vu(e.options)}}visitAnimate(e,n){let i=Ose(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:it({});if(o.type==Ye.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let f={};i.easing&&(f.easing=i.easing),a=it(f)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:Ye.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Ts?i.push(l):n.errors.push(zoe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(P$)>=0){o=!0;break}}}),{type:Ye.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let f=n.collectedStyles.get(n.currentQuerySelector),p=f.get(d),v=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(n.errors.push(qoe(d,p.startTime,p.endTime,o,r)),v=!1),o=p.startTime),v&&f.set(d,{startTime:o,endTime:r}),n.options&&wse(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ye.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Goe()),i;let r=1,o=0,a=[],l=!1,d=!1,f=0,p=e.steps.map(O=>{let V=this._makeStyleAst(O,n),q=V.offset!=null?V.offset:Pse(V.styles),A=0;return q!=null&&(o++,A=V.offset=q),d=d||A<0||A>1,l=l||A<f,f=A,a.push(A),V});d&&n.errors.push(Woe()),l&&n.errors.push(Koe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(Qoe()):o==0&&(y=r/(v-1));let I=v-1,w=n.currentTime,S=n.currentAnimateTimings,D=S.duration;return p.forEach((O,V)=>{let q=y>0?V==I?1:y*V:a[V],A=q*D;n.currentTime=w+S.delay+A,S.duration=A,this._validateStyleAst(O,n),O.offset=q,i.styles.push(O)}),i}visitReference(e,n){return{type:Ye.Reference,animation:xr(this,mv(e.animation),n),options:vu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ye.AnimateChild,options:vu(e.options)}}visitAnimateRef(e,n){return{type:Ye.AnimateRef,animation:this.visitReference(e.animation,n),options:vu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=Ase(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Ar(n.collectedStyles,n.currentQuerySelector,new Map);let l=xr(this,mv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ye.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:vu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Yoe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:SC(e.timings,n.errors,!0);return{type:Ye.Stagger,animation:xr(this,mv(e.animation),n),timings:i,options:null}}};function Ase(t){let e=!!t.split(/\s*,\s*/).find(n=>n==R$);return e&&(t=t.replace(xse,"")),t=t.replace(/@\*/g,IC).replace(/@\w+/g,n=>IC+"-"+n.slice(1)).replace(/:animating/g,mP),[t,e]}function Mse(t){return t?ie({},t):null}var _P=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Pse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Ose(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=SC(t,e).duration;return lP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=lP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=SC(n,e);return lP(r.duration,r.delay,r.easing)}function vu(t){return t?(t=ie({},t),t.params&&(t.params=Mse(t.params))):t={},t}function lP(t,e,n){return{duration:t,delay:e,easing:n}}function FP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var yv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},kse=1,Rse=":enter",Nse=new RegExp(Rse,"g"),Fse=":leave",Lse=new RegExp(Fse,"g");function F$(t,e,n,i,r,o=new Map,a=new Map,l,d,f=[]){return new wP().buildKeyframes(t,e,n,i,r,o,a,l,d,f)}var wP=class{buildKeyframes(e,n,i,r,o,a,l,d,f,p=[]){f=f||new yv;let v=new bP(e,n,f,r,o,p,[]);v.options=d;let y=d.delay?va(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),xr(this,i,v);let I=v.timelines.filter(w=>w.containsAnimation());if(I.length&&l.size){let w;for(let S=I.length-1;S>=0;S--){let D=I[S];if(D.element===n){w=D;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return I.length?I.map(w=>w.buildKeyframes()):[FP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:va(vv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?va(i.duration):null,l=i.delay!=null?va(i.delay):null;return a!==0&&e.forEach(d=>{let f=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),xr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xC);let a=va(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>xr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),xr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?vv(i,n.params,n.errors):i;return SC(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ye.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(n.previousNode.type===Ye.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=xC);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((f,p)=>{n.currentQueryIndex=p;let v=n.createSubContext(e.options,f);o&&v.delayNextStep(o),f===n.element&&(d=v.currentTimeline),xr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let p=n.currentTimeline;d&&p.delayNextStep(d);let v=p.currentTime;xr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},xC={},bP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new AC(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=va(i.duration)),i.delay!=null&&(r.delay=va(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=vv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=xC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new CP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(Nse,"."+this._enterClassName),e=e.replace(Lse,"."+this._leaveClassName);let d=i!=1,f=this._driver.query(this.element,e,d);i!==0&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!o&&l.length==0&&a.push(Joe(n)),l}},AC=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=kse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ts),this._currentKeyframe.set(n,Ts);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=Vse(e,this._globalTimelineStyles);for(let[l,d]of a){let f=vv(d,o,i);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ts),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((p,v)=>{p===yC?e.add(v):p===Ts&&n.add(v)}),i||f.set("offset",d/this.duration),r.push(f)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return FP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},CP=class extends AC{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let f=new Map(e[0]);f.set("offset",w$(l)),o.push(f);let p=e.length-1;for(let v=1;v<=p;v++){let y=new Map(e[v]),I=y.get("offset"),w=n+I*i;y.set("offset",w$(w/a)),o.push(y)}i=a,n=0,r="",e=o}return FP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function w$(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Vse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Ts)}else for(let[o,a]of r)n.set(o,a)}),n}function b$(t,e,n,i,r,o,a,l,d,f,p,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:p,totalTime:v,errors:y}}var uP={},MC=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return jse(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,f,p){let v=[],y=this.ast.options&&this.ast.options.params||uP,I=l&&l.params||uP,w=this.buildStyles(i,I,v),S=d&&d.params||uP,D=this.buildStyles(r,S,v),O=new Set,V=new Map,q=new Map,A=r==="void",ne={params:L$(S,y),delay:this.ast.options?.delay},U=p?[]:F$(e,n,this.ast.animation,o,a,w,D,ne,f,v),ae=0;return U.forEach(Ee=>{ae=Math.max(Ee.duration+Ee.delay,ae)}),v.length?b$(n,this._triggerName,i,r,A,w,D,[],[],V,q,ae,v):(U.forEach(Ee=>{let qe=Ee.element,et=Ar(V,qe,new Set);Ee.preStyleProps.forEach(He=>et.add(He));let Ie=Ar(q,qe,new Set);Ee.postStyleProps.forEach(He=>Ie.add(He)),qe!==n&&O.add(qe)}),b$(n,this._triggerName,i,r,A,w,D,U,[...O.values()],V,q,ae))}};function jse(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function L$(t,e){let n=ie({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var EP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=L$(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=vv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Use(t,e,n){return new IP(t,e,n)}var IP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new EP(r.style,o,i))}),C$(this.states,"true","1"),C$(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new MC(e,r,this.states))}),this.fallbackTransition=Bse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Bse(t,e,n){let i=[(a,l)=>!0],r={type:Ye.Sequence,steps:[],options:null},o={type:Ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new MC(t,o,e)}function C$(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var $se=new yv,SP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=N$(this._driver,n,i,r);if(i.length)throw nse(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=x$(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=F$(this._driver,n,o,O$,pP,new Map,new Map,i,$se,r),a.forEach(p=>{let v=Ar(l,p.element,new Map);p.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(ise()),a=[]),r.length)throw rse(r);l.forEach((p,v)=>{p.forEach((y,I)=>{p.set(I,this._driver.computeStyle(v,I,Ts))})});let d=a.map(p=>{let v=l.get(p.element);return this._buildPlayer(p,new Map,v)}),f=xc(d);return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw ose(e);return n}listen(e,n,i,r){let o=PP(n,"","","");return MP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},E$="ng-animate-queued",Hse=".ng-animate-queued",dP="ng-animate-disabled",zse=".ng-animate-disabled",qse="ng-star-inserted",Gse=".ng-star-inserted",Wse=[],V$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed",_v=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Yse(r),i){let o=e,{value:a}=o,l=oS(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},gv="void",hP=new _v(gv),TP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Kr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw sse(i,n);if(i==null||i.length==0)throw ase(n);if(!Jse(i))throw cse(i,n);let o=Ar(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Ar(this._engine.statesByElement,e,new Map);return l.has(n)||(Kr(e,_C),Kr(e,_C+"-"+n),l.set(n,hP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw lse(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new wv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Kr(e,_C),Kr(e,_C+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),f=new _v(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(n,f),d||(d=hP),!(f.value===gv)&&d.value===f.value){if(!eae(d.params,f.params)){let S=[],D=o.matchStyles(d.value,d.params,S),O=o.matchStyles(f.value,f.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{yu(e,D),Ds(e,O)})}return}let y=Ar(this._engine.playersByElement,e,[]);y.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let I=o.matchTransition(d.value,f.value,e,f.params),w=!1;if(!I){if(!r)return;I=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:I,fromState:d,toState:f,player:a,isFallbackTransition:w}),w||(Kr(e,E$),a.onStart(()=>{rf(e,E$)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let D=this._engine.playersByElement.get(e);if(D){let O=D.indexOf(a);O>=0&&D.splice(O,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,IC,!0);i.forEach(r=>{if(r[No])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,f)=>{if(a.set(f,d.value),this._triggers.has(f)){let p=this.trigger(e,f,gv,r);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&xc(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,f=i.get(a)||hP,p=new _v(gv),v=new wv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:f,toState:p,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[No];(!o||o===V$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Kr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=PP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,MP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},DP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new TP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let f=i.indexOf(d);i.splice(f+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(CC(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!CC(n))return;let o=n[No];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Kr(e,dP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rf(e,dP))}removeNode(e,n,i){if(CC(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[No]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return CC(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,IC,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,mP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[No];if(n&&n.setForRemoval){if(e[No]=V$,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(dP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,zse,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Kr(r,qse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?xc(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw use(e)}_flushAnimations(e,n){let i=new yv,r=[],o=new Map,a=[],l=new Map,d=new Map,f=new Map,p=new Set;this.disabledNodes.forEach(z=>{p.add(z);let se=this.driver.query(z,Hse,!0);for(let pe=0;pe<se.length;pe++)p.add(se[pe])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),I=T$(y,this.collectedEnterElements),w=new Map,S=0;I.forEach((z,se)=>{let pe=O$+S++;w.set(se,pe),z.forEach(Oe=>Kr(Oe,pe))});let D=[],O=new Set,V=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){let se=this.collectedLeaveElements[z],pe=se[No];pe&&pe.setForRemoval&&(D.push(se),O.add(se),pe.hasAnimation?this.driver.query(se,Gse,!0).forEach(Oe=>O.add(Oe)):V.add(se))}let q=new Map,A=T$(y,Array.from(O));A.forEach((z,se)=>{let pe=pP+S++;q.set(se,pe),z.forEach(Oe=>Kr(Oe,pe))}),e.push(()=>{I.forEach((z,se)=>{let pe=w.get(se);z.forEach(Oe=>rf(Oe,pe))}),A.forEach((z,se)=>{let pe=q.get(se);z.forEach(Oe=>rf(Oe,pe))}),D.forEach(z=>{this.processLeaveNode(z)})});let ne=[],U=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(n).forEach(pe=>{let Oe=pe.player,rt=pe.element;if(ne.push(Oe),this.collectedEnterElements.length){let ft=rt[No];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(pe.triggerName)){let Vn=ft.previousTriggersValues.get(pe.triggerName),rn=this.statesByElement.get(pe.element);if(rn&&rn.has(pe.triggerName)){let Ui=rn.get(pe.triggerName);Ui.value=Vn,rn.set(pe.triggerName,Ui)}}Oe.destroy();return}}let xn=!v||!this.driver.containsElement(v,rt),Nt=q.get(rt),ni=w.get(rt),gt=this._buildInstruction(pe,i,ni,Nt,xn);if(gt.errors&&gt.errors.length){U.push(gt);return}if(xn){Oe.onStart(()=>yu(rt,gt.fromStyles)),Oe.onDestroy(()=>Ds(rt,gt.toStyles)),r.push(Oe);return}if(pe.isFallbackTransition){Oe.onStart(()=>yu(rt,gt.fromStyles)),Oe.onDestroy(()=>Ds(rt,gt.toStyles)),r.push(Oe);return}let xi=[];gt.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||xi.push(ft)}),gt.timelines=xi,i.append(rt,gt.timelines);let fr={instruction:gt,player:Oe,element:rt};a.push(fr),gt.queriedElements.forEach(ft=>Ar(l,ft,[]).push(Oe)),gt.preStyleProps.forEach((ft,Vn)=>{if(ft.size){let rn=d.get(Vn);rn||d.set(Vn,rn=new Set),ft.forEach((Ui,Rr)=>rn.add(Rr))}}),gt.postStyleProps.forEach((ft,Vn)=>{let rn=f.get(Vn);rn||f.set(Vn,rn=new Set),ft.forEach((Ui,Rr)=>rn.add(Rr))})});if(U.length){let z=[];U.forEach(se=>{z.push(dse(se.triggerName,se.errors))}),ne.forEach(se=>se.destroy()),this.reportError(z)}let ae=new Map,Ee=new Map;a.forEach(z=>{let se=z.element;i.has(se)&&(Ee.set(se,se),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ae))}),r.forEach(z=>{let se=z.element;this._getPreviousPlayers(se,!1,z.namespaceId,z.triggerName,null).forEach(Oe=>{Ar(ae,se,[]).push(Oe),Oe.destroy()})});let qe=D.filter(z=>D$(z,d,f)),et=new Map;S$(et,this.driver,V,f,Ts).forEach(z=>{D$(z,d,f)&&qe.push(z)});let He=new Map;I.forEach((z,se)=>{S$(He,this.driver,new Set(z),d,yC)}),qe.forEach(z=>{let se=et.get(z),pe=He.get(z);et.set(z,new Map([...se?.entries()??[],...pe?.entries()??[]]))});let Te=[],nn=[],Je={};a.forEach(z=>{let{element:se,player:pe,instruction:Oe}=z;if(i.has(se)){if(p.has(se)){pe.onDestroy(()=>Ds(se,Oe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Oe.totalTime),r.push(pe);return}let rt=Je;if(Ee.size>1){let Nt=se,ni=[];for(;Nt=Nt.parentNode;){let gt=Ee.get(Nt);if(gt){rt=gt;break}ni.push(Nt)}ni.forEach(gt=>Ee.set(gt,rt))}let xn=this._buildAnimation(pe.namespaceId,Oe,ae,o,He,et);if(pe.setRealPlayer(xn),rt===Je)Te.push(pe);else{let Nt=this.playersByElement.get(rt);Nt&&Nt.length&&(pe.parentPlayer=xc(Nt)),r.push(pe)}}else yu(se,Oe.fromStyles),pe.onDestroy(()=>Ds(se,Oe.toStyles)),nn.push(pe),p.has(se)&&r.push(pe)}),nn.forEach(z=>{let se=o.get(z.element);if(se&&se.length){let pe=xc(se);z.setRealPlayer(pe)}}),r.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<D.length;z++){let se=D[z],pe=se[No];if(rf(se,pP),pe&&pe.hasAnimation)continue;let Oe=[];if(l.size){let xn=l.get(se);xn&&xn.length&&Oe.push(...xn);let Nt=this.driver.query(se,mP,!0);for(let ni=0;ni<Nt.length;ni++){let gt=l.get(Nt[ni]);gt&&gt.length&&Oe.push(...gt)}}let rt=Oe.filter(xn=>!xn.destroyed);rt.length?Xse(this,se,rt):this.processLeaveNode(se)}return D.length=0,Te.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();let se=this.players.indexOf(z);this.players.splice(se,1)}),z.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==gv;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let f=d.element,p=f!==o,v=Ar(i,f,[]);this._getPreviousPlayers(f,p,a,l,n.toState).forEach(I=>{let w=I.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),I.destroy(),v.push(I)})}yu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,f=[],p=new Set,v=new Set,y=n.timelines.map(w=>{let S=w.element;p.add(S);let D=S[No];if(D&&D.removedBeforeQueried)return new Dc(w.duration,w.delay);let O=S!==d,V=Zse((i.get(S)||Wse).map(ae=>ae.getRealPlayer())).filter(ae=>{let Ee=ae;return Ee.element?Ee.element===S:!1}),q=o.get(S),A=a.get(S),ne=x$(this._normalizer,w.keyframes,q,A),U=this._buildPlayer(w,ne,V);if(w.subTimeline&&r&&v.add(S),O){let ae=new wv(e,l,S);ae.setRealPlayer(U),f.push(ae)}return U});f.forEach(w=>{Ar(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>Qse(this.playersByQueriedElement,w.element,w))}),p.forEach(w=>Kr(w,v$));let I=xc(y);return I.onDestroy(()=>{p.forEach(w=>rf(w,v$)),Ds(d,n.toStyles)}),v.forEach(w=>{Ar(r,w,[]).push(I)}),I}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Dc(e.duration,e.delay)}},wv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Dc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>MP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ar(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Qse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function Yse(t){return t??null}function CC(t){return t&&t.nodeType===1}function Jse(t){return t=="start"||t=="done"}function I$(t,e){let n=t.style.display;return t.style.display=e??"none",n}function S$(t,e,n,i,r){let o=[];n.forEach(d=>o.push(I$(d)));let a=[];i.forEach((d,f)=>{let p=new Map;d.forEach(v=>{let y=e.computeStyle(f,v,r);p.set(v,y),(!y||y.length==0)&&(f[No]=Kse,a.push(f))}),t.set(f,p)});let l=0;return n.forEach(d=>I$(d,o[l++])),a}function T$(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let f=l.parentNode;return n.has(f)?d=f:r.has(f)?d=i:d=a(f),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function Kr(t,e){t.classList?.add(e)}function rf(t,e){t.classList?.remove(e)}function Xse(t,e,n){xc(n).onDone(()=>t.processLeaveNode(e))}function Zse(t){let e=[];return j$(t,e),e}function j$(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof pv?j$(i.players,e):e.push(i)}}function eae(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function D$(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var sf=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new DP(e.body,n,i,r),this._timelineEngine=new SP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],f=[],p=N$(this._driver,o,d,f);if(d.length)throw ese(r,d);f.length&&void 0,l=Use(r,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=m$(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=m$(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function tae(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=fP(e[0]),e.length>1&&(i=fP(e[e.length-1]))):e instanceof Map&&(n=fP(e)),n||i?new xP(t,n,i):null}var of=class of{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=of.initialStylesByElement.get(e);r||of.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ds(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ds(this._element,this._initialStyles),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(of.initialStylesByElement.delete(this._element),this._startStyles&&(yu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yu(this._element,this._endStyles),this._endStyles=null),Ds(this._element,this._initialStyles),this._state=3)}};of.initialStylesByElement=new WeakMap;var xP=of;function fP(t){let e=null;return t.forEach((n,i)=>{nae(i)&&(e=e||new Map,e.set(i,n))}),e}function nae(t){return t==="display"||t==="position"}var PC=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:NP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},OC=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return A$(e,n)}getParentElement(e){return OP(e)}query(e,n,i){return M$(e,n,i)}computeStyle(e,n,i){return NP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let f=new Map,p=a.filter(I=>I instanceof PC);Cse(i,r)&&p.forEach(I=>{I.currentSnapshot.forEach((w,S)=>f.set(S,w))});let v=_se(n).map(I=>new Map(I));v=Ese(e,v,f);let y=tae(e,v);return new PC(e,v,d,y)}};var EC="@",U$="@.disabled",kC=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==EC&&n==U$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},AP=class extends kC{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==EC?n.charAt(1)=="."&&n==U$?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==EC){let r=iae(e),o=n.slice(1),a="";return o.charAt(0)!=EC&&([o,a]=rae(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function iae(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function rae(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var RC=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let f=this._rendererCache,p=f.get(r);if(!p){let v=()=>f.delete(r);p=new kC(i,r,this.engine,v),f.set(r,p)}return p}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return n.data.animation.forEach(l),new AP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var sae=(()=>{let e=class e extends sf{constructor(i,r,o){super(i,r,o,ee(Zp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(re(Ci),re(_u),re(wu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function aae(){return new TC}function cae(t,e,n){return new RC(t,e,n)}var B$=[{provide:wu,useFactory:aae},{provide:sf,useClass:sae},{provide:bl,useFactory:cae,deps:[gC,sf,Ct]}],lae=[{provide:_u,useFactory:()=>new OC},{provide:a1,useValue:"BrowserAnimations"},...B$],lIe=[{provide:_u,useClass:kP},{provide:a1,useValue:"NoopAnimations"},...B$];function $$(){return Il("NgEagerAnimations"),[...lae]}var Ze="primary",Nv=Symbol("RouteTitle"),$P=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function df(t){return new $P(t)}function uae(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function dae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xs(t[n],e[n]))return!1;return!0}function xs(t,e){let n=t?HP(t):void 0,i=e?HP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!K$(t[r],e[r]))return!1;return!0}function HP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function K$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function Q$(t){return t.length>0?t[t.length-1]:null}function Pc(t){return IS(t)?t:xl(t)?Kt(Promise.resolve(t)):Fe(t)}var hae={exact:J$,subset:X$},Y$={exact:fae,subset:pae,ignored:()=>!0};function H$(t,e,n){return hae[n.paths](t.root,e.root,n.matrixParams)&&Y$[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fae(t,e){return xs(t,e)}function J$(t,e,n){if(!Cu(t.segments,e.segments)||!LC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!J$(t.children[i],e.children[i],n))return!1;return!0}function pae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>K$(t[n],e[n]))}function X$(t,e,n){return Z$(t,e,e.segments,n)}function Z$(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Cu(r,n)||e.hasChildren()||!LC(r,n,i))}else if(t.segments.length===n.length){if(!Cu(t.segments,n)||!LC(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!X$(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Cu(t.segments,r)||!LC(t.segments,r,i)||!t.children[Ze]?!1:Z$(t.children[Ze],e,o,i)}}function LC(t,e,n){return e.every((i,r)=>Y$[n](t[r].parameters,i.parameters))}var Ac=class{constructor(e=new Vt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){return vae.serialize(this)}},Vt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return VC(this)}},bu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=df(this.parameters),this._parameterMap}toString(){return t9(this)}};function mae(t,e){return Cu(t,e)&&t.every((n,i)=>xs(n.parameters,e[i].parameters))}function Cu(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function gae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ze&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ze&&(n=n.concat(e(r,i)))}),n}var mO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new UC,providedIn:"root"});let t=e;return t})(),UC=class{parse(e){let n=new qP(e);return new Ac(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bv(e.root,!0)}`,i=wae(e.queryParams),r=typeof e.fragment=="string"?`#${yae(e.fragment)}`:"";return`${n}${i}${r}`}},vae=new UC;function VC(t){return t.segments.map(e=>t9(e)).join("/")}function bv(t,e){if(!t.hasChildren())return VC(t);if(e){let n=t.children[Ze]?bv(t.children[Ze],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Ze&&i.push(`${r}:${bv(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=gae(t,(i,r)=>r===Ze?[bv(t.children[Ze],!1)]:[`${r}:${bv(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ze]!=null?`${VC(t)}/${n[0]}`:`${VC(t)}/(${n.join("//")})`}}function e9(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function NC(t){return e9(t).replace(/%3B/gi,";")}function yae(t){return encodeURI(t)}function zP(t){return e9(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jC(t){return decodeURIComponent(t)}function z$(t){return jC(t.replace(/\+/g,"%20"))}function t9(t){return`${zP(t.path)}${_ae(t.parameters)}`}function _ae(t){return Object.entries(t).map(([e,n])=>`;${zP(e)}=${zP(n)}`).join("")}function wae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${NC(n)}=${NC(r)}`).join("&"):`${NC(n)}=${NC(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var bae=/^[^\/()?;#]+/;function VP(t){let e=t.match(bae);return e?e[0]:""}var Cae=/^[^\/()?;=#]+/;function Eae(t){let e=t.match(Cae);return e?e[0]:""}var Iae=/^[^=?&#]+/;function Sae(t){let e=t.match(Iae);return e?e[0]:""}var Tae=/^[^&#]+/;function Dae(t){let e=t.match(Tae);return e?e[0]:""}var qP=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ze]=new Vt(e,n)),i}parseSegment(){let e=VP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new bu(jC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Eae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=VP(this.remaining);r&&(i=r,this.capture(i))}e[jC(n)]=jC(i)}parseQueryParam(e){let n=Sae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=Dae(this.remaining);a&&(i=a,this.capture(i))}let r=z$(n),o=z$(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=VP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new te(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ze);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Ze]:new Vt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function n9(t){return t.segments.length>0?new Vt([],{[Ze]:t}):t}function i9(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=i9(r);if(i===Ze&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Vt(t.segments,e);return xae(n)}function xae(t){if(t.numberOfChildren===1&&t.children[Ze]){let e=t.children[Ze];return new Vt(t.segments.concat(e.segments),e.children)}return t}function hf(t){return t instanceof Ac}function Aae(t,e,n=null,i=null){let r=r9(t);return o9(r,e,n,i)}function r9(t){let e;function n(o){let a={};for(let d of o.children){let f=n(d);a[d.outlet]=f}let l=new Vt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=n9(i);return e??r}function o9(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return jP(r,r,r,n,i);let o=Mae(e);if(o.toRoot())return jP(r,r,new Vt([],{}),n,i);let a=Pae(o,r,t),l=a.processChildren?Iv(a.segmentGroup,a.index,o.commands):a9(a.segmentGroup,a.index,o.commands);return jP(r,a.segmentGroup,l,n,i)}function BC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Dv(t){return typeof t=="object"&&t!=null&&t.outlets}function jP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,f])=>{o[d]=Array.isArray(f)?f.map(p=>`${p}`):`${f}`});let a;t===e?a=n:a=s9(t,e,n);let l=n9(i9(a));return new Ac(l,o,r)}function s9(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=s9(o,e,n)}),new Vt(t.segments,i)}var $C=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&BC(i[0]))throw new te(4003,!1);let r=i.find(Dv);if(r&&r!==Q$(i))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Mae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $C(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new $C(n,e,i)}var lf=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function Pae(t,e,n){if(t.isAbsolute)return new lf(e,!0,0);if(!n)return new lf(e,!1,NaN);if(n.parent===null)return new lf(n,!0,0);let i=BC(t.commands[0])?0:1,r=n.segments.length-1+i;return Oae(n,r,t.numberOfDoubleDots)}function Oae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new te(4005,!1);r=i.segments.length}return new lf(i,!1,r-o)}function kae(t){return Dv(t[0])?t[0].outlets:{[Ze]:t}}function a9(t,e,n){if(t??=new Vt([],{}),t.segments.length===0&&t.hasChildren())return Iv(t,e,n);let i=Rae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Vt(t.segments.slice(0,i.pathIndex),{});return o.children[Ze]=new Vt(t.segments.slice(i.pathIndex),t.children),Iv(o,0,r)}else return i.match&&r.length===0?new Vt(t.segments,{}):i.match&&!t.hasChildren()?GP(t,e,n):i.match?Iv(t,0,r):GP(t,e,n)}function Iv(t,e,n){if(n.length===0)return new Vt(t.segments,{});{let i=kae(n),r={};if(Object.keys(i).some(o=>o!==Ze)&&t.children[Ze]&&t.numberOfChildren===1&&t.children[Ze].segments.length===0){let o=Iv(t.children[Ze],e,n);return new Vt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=a9(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Vt(t.segments,r)}}function Rae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(Dv(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!G$(d,f,a))return o;i+=2}else{if(!G$(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function GP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Dv(o)){let d=Nae(o.outlets);return new Vt(i,d)}if(r===0&&BC(n[0])){let d=t.segments[e];i.push(new bu(d.path,q$(n[0]))),r++;continue}let a=Dv(o)?o.outlets[Ze]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&BC(l)?(i.push(new bu(a,q$(l))),r+=2):(i.push(new bu(a,{})),r++)}return new Vt(i,{})}function Nae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=GP(new Vt([],{}),0,i))}),e}function q$(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function G$(t,e,n){return t==n.path&&xs(e,n.parameters)}var Sv="imperative",Ti=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ti||{}),Yr=class{constructor(e,n){this.id=e,this.url=n}},xv=class extends Yr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Ti.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ya=class extends Yr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Ti.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qr||{}),WP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(WP||{}),Mc=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ti.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Eu=class extends Yr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Ti.NavigationSkipped}},Av=class extends Yr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Ti.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},HC=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},KP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QP=class extends Yr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ti.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},YP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JP=class extends Yr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Ti.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},XP=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ZP=class{constructor(e){this.route=e,this.type=Ti.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},eO=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tO=class{constructor(e){this.snapshot=e,this.type=Ti.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nO=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iO=class{constructor(e){this.snapshot=e,this.type=Ti.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mv=class{},Pv=class{constructor(e){this.url=e}};var rO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new QC,this.attachRef=null}},QC=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new rO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zC=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=oO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=oO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return sO(e,this._root).map(n=>n.value)}};function oO(t,e){if(t===e.value)return e;for(let n of e.children){let i=oO(t,n);if(i)return i}return null}function sO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=sO(t,n);if(i.length)return i.unshift(e),i}return[]}var Mr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function cf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qC=class extends zC{constructor(e,n){super(e),this.snapshot=n,vO(this,e)}toString(){return this.snapshot.toString()}};function c9(t){let e=Fae(t),n=new Yn([new bu("",{})]),i=new Yn({}),r=new Yn({}),o=new Yn({}),a=new Yn(""),l=new er(n,i,o,a,r,Ze,t,e.root);return l.snapshot=e.root,new qC(new Mr(l,[]),e)}function Fae(t){let e={},n={},i={},r="",o=new Ov([],e,i,r,n,Ze,t,null,{});return new GC("",new Mr(o,[]))}var er=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Le(f=>f[Nv]))??Fe(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>df(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>df(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:ie(ie({},e.params),t.params),data:ie(ie({},e.data),t.data),resolve:ie(ie(ie(ie({},t.data),e.data),r?.data),t._resolvedData)}:i={params:ie({},t.params),data:ie({},t.data),resolve:ie(ie({},t.data),t._resolvedData??{})},r&&u9(r)&&(i.resolve[Nv]=r.title),i}var Ov=class{get title(){return this.data?.[Nv]}constructor(e,n,i,r,o,a,l,d,f){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=df(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},GC=class extends zC{constructor(e,n){super(n),this.url=e,vO(this,n)}toString(){return l9(this._root)}};function vO(t,e){e.value._routerState=t,e.children.forEach(n=>vO(t,n))}function l9(t){let e=t.children.length>0?` { ${t.children.map(l9).join(", ")} } `:"";return`${t.value}${e}`}function UP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xs(e.params,n.params)||t.paramsSubject.next(n.params),dae(e.url,n.url)||t.urlSubject.next(n.url),xs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function aO(t,e){let n=xs(t.params,e.params)&&mae(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||aO(t.parent,e.parent))}function u9(t){return typeof t.title=="string"||t.title===null}var Fv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=ee(QC),this.location=ee(wi),this.changeDetector=ee(na),this.environmentInjector=ee(di),this.inputBinder=ee(yO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new cO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=At({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bo]});let t=e;return t})(),cO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===er?this.route:e===QC?this.childContexts:this.parent.get(e,n)}},yO=new we("");function Lae(t,e,n){let i=kv(t,e._root,n?n._root:void 0);return new qC(i,e)}function kv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Vae(t,e,n);return new Mr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>kv(t,l)),a}}let i=jae(e.value),r=e.children.map(o=>kv(t,o));return new Mr(i,r)}}function Vae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return kv(t,i,r);return kv(t,i)})}function jae(t){return new er(new Yn(t.url),new Yn(t.params),new Yn(t.queryParams),new Yn(t.fragment),new Yn(t.data),t.outlet,t.component,t)}var d9="ngNavigationCancelingError";function h9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=hf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=f9(!1,Qr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function f9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[d9]=!0,n.cancellationCode=e,n}function Uae(t){return p9(t)&&hf(t.url)}function p9(t){return!!t&&t[d9]}var Bae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["ng-component"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(r,o){r&1&&oe(0,"router-outlet")},dependencies:[Fv],encapsulation:2});let t=e;return t})();function $ae(t,e){return t.providers&&!t._injector&&(t._injector=A1(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _O(t){let e=t.children&&t.children.map(_O),n=e?Dt(ie({},t),{children:e}):ie({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=Bae),n}function As(t){return t.outlet||Ze}function Hae(t,e){let n=t.filter(i=>As(i)===e);return n.push(...t.filter(i=>As(i)!==e)),n}function Lv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zae=(t,e,n,i)=>Le(r=>(new lO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),lO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),UP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=cf(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=cf(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new iO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tO(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(UP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),UP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Lv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},WC=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uf=class{constructor(e,n){this.component=e,this.route=n}};function qae(t,e,n){let i=t._root,r=e?e._root:null;return Cv(i,r,n,[i.value])}function Gae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function mf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!UV(t)?t:e.get(t):i}function Cv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=cf(e);return t.children.forEach(a=>{Wae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Tv(l,n.getContext(a),r)),r}function Wae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Kae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new WC(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Cv(t,e,l?l.children:null,i,r):Cv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new uf(l.outlet.component,a))}else a&&Tv(e,l,r),r.canActivateChecks.push(new WC(i)),o.component?Cv(t,null,l?l.children:null,i,r):Cv(t,null,n,i,r);return r}function Kae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cu(t.url,e.url)||!xs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aO(t,e)||!xs(t.queryParams,e.queryParams);case"paramsChange":default:return!aO(t,e)}}function Tv(t,e,n){let i=cf(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?Tv(a,e.children.getContext(o),n):Tv(a,null,n):Tv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new uf(e.outlet.component,r)):n.canDeactivateChecks.push(new uf(null,r)):n.canDeactivateChecks.push(new uf(null,r))}function Vv(t){return typeof t=="function"}function Qae(t){return typeof t=="boolean"}function Yae(t){return t&&Vv(t.canLoad)}function Jae(t){return t&&Vv(t.canActivate)}function Xae(t){return t&&Vv(t.canActivateChild)}function Zae(t){return t&&Vv(t.canDeactivate)}function ece(t){return t&&Vv(t.canMatch)}function m9(t){return t instanceof br||t?.name==="EmptyError"}var FC=Symbol("INITIAL_VALUE");function ff(){return Mi(t=>Q_(t.map(e=>e.pipe(zs(1),PS(FC)))).pipe(Le(e=>{for(let n of e)if(n!==!0){if(n===FC)return FC;if(n===!1||n instanceof Ac)return n}return!0}),ui(e=>e!==FC),zs(1)))}function tce(t,e){return kn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Fe(Dt(ie({},n),{guardsResult:!0})):nce(a,i,r,t).pipe(kn(l=>l&&Qae(l)?ice(i,o,t,e):Fe(l)),Le(l=>Dt(ie({},n),{guardsResult:l})))})}function nce(t,e,n,i){return Kt(t).pipe(kn(r=>cce(r.component,r.route,n,e,i)),Xo(r=>r!==!0,!0))}function ice(t,e,n,i){return Kt(e).pipe(Ka(r=>Vd(oce(r.route.parent,i),rce(r.route,i),ace(t,r.path,n),sce(t,r.route,n))),Xo(r=>r!==!0,!0))}function rce(t,e){return t!==null&&e&&e(new nO(t)),Fe(!0)}function oce(t,e){return t!==null&&e&&e(new eO(t)),Fe(!0)}function sce(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Fe(!0);let r=i.map(o=>Y_(()=>{let a=Lv(e)??n,l=mf(o,a),d=Jae(l)?l.canActivate(e,t):ea(a,()=>l(e,t));return Pc(d).pipe(Xo())}));return Fe(r).pipe(ff())}function ace(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Gae(a)).filter(a=>a!==null).map(a=>Y_(()=>{let l=a.guards.map(d=>{let f=Lv(a.node)??n,p=mf(d,f),v=Xae(p)?p.canActivateChild(i,t):ea(f,()=>p(i,t));return Pc(v).pipe(Xo())});return Fe(l).pipe(ff())}));return Fe(o).pipe(ff())}function cce(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Fe(!0);let a=o.map(l=>{let d=Lv(e)??r,f=mf(l,d),p=Zae(f)?f.canDeactivate(t,e,n,i):ea(d,()=>f(t,e,n,i));return Pc(p).pipe(Xo())});return Fe(a).pipe(ff())}function lce(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Fe(!0);let o=r.map(a=>{let l=mf(a,t),d=Yae(l)?l.canLoad(e,n):ea(t,()=>l(e,n));return Pc(d)});return Fe(o).pipe(ff(),g9(i))}function g9(t){return gS(Rn(e=>{if(hf(e))throw h9(t,e)}),Le(e=>e===!0))}function uce(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Fe(!0);let o=r.map(a=>{let l=mf(a,t),d=ece(l)?l.canMatch(e,n):ea(t,()=>l(e,n));return Pc(d)});return Fe(o).pipe(ff(),g9(i))}var Rv=class{constructor(e){this.segmentGroup=e||null}},KC=class extends Error{constructor(e){super(),this.urlTree=e}};function af(t){return Fd(new Rv(t))}function dce(t){return Fd(new te(4e3,!1))}function hce(t){return Fd(f9(!1,Qr.GuardRejected))}var uO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Fe(i);if(r.numberOfChildren>1||!r.children[Ze])return dce(e.redirectTo);r=r.children[Ze]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new KC(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Ac(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Vt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new te(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},dO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fce(t,e,n,i,r){let o=wO(t,e,n);return o.matched?(i=$ae(e,i),uce(i,e,n,r).pipe(Le(a=>a===!0?o:ie({},dO)))):Fe(o)}function wO(t,e,n){if(e.path==="**")return pce(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?ie({},dO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||uae)(n,t,e);if(!r)return ie({},dO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?ie(ie({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function pce(t){return{matched:!0,parameters:t.length>0?Q$(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function W$(t,e,n,i){return n.length>0&&vce(t,n,i)?{segmentGroup:new Vt(e,gce(i,new Vt(n,t.children))),slicedSegments:[]}:n.length===0&&yce(t,n,i)?{segmentGroup:new Vt(t.segments,mce(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Vt(t.segments,t.children),slicedSegments:n}}function mce(t,e,n,i){let r={};for(let o of n)if(YC(t,e,o)&&!i[As(o)]){let a=new Vt([],{});r[As(o)]=a}return ie(ie({},i),r)}function gce(t,e){let n={};n[Ze]=e;for(let i of t)if(i.path===""&&As(i)!==Ze){let r=new Vt([],{});n[As(i)]=r}return n}function vce(t,e,n){return n.some(i=>YC(t,e,i)&&As(i)!==Ze)}function yce(t,e,n){return n.some(i=>YC(t,e,i))}function YC(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _ce(t,e,n,i){return As(t)!==i&&(i===Ze||!YC(e,n,t))?!1:wO(e,t,n).matched}function wce(t,e,n){return e.length===0&&!t.children[n]}var hO=class{};function bce(t,e,n,i,r,o,a="emptyOnly"){return new fO(t,e,n,i,r,a,o).recognize()}var Cce=31,fO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new uO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=W$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Le(n=>{let i=new Ov([],Object.freeze({}),Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),r=new Mr(i,n),o=new GC("",r),a=Aae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ze).pipe(Jo(i=>{if(i instanceof KC)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Rv?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=gO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Le(o=>o instanceof Mr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Kt(r).pipe(Ka(o=>{let a=i.children[o],l=Hae(n,o);return this.processSegmentGroup(e,l,a,o)}),AS((o,a)=>(o.push(...a),o)),Qa(null),xS(),kn(o=>{if(o===null)return af(i);let a=v9(o);return Ece(a),Fe(a)}))}processSegment(e,n,i,r,o,a){return Kt(n).pipe(Ka(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(Jo(d=>{if(d instanceof Rv)return Fe(null);throw d}))),Xo(l=>!!l),Jo(l=>{if(m9(l))return wce(i,r,o)?Fe(new hO):af(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return _ce(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):af(r):af(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=wO(n,r,o);if(!l)return af(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Cce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(kn(y=>this.processSegment(e,i,n,y.concat(p),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=fce(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Mi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Mi(({routes:d})=>{let f=i._loadedInjector??e,{consumedSegments:p,remainingSegments:v,parameters:y}=l,I=new Ov(p,y,Object.freeze(ie({},this.urlTree.queryParams)),this.urlTree.fragment,Sce(i),As(i),i.component??i._loadedComponent??null,i,Tce(i)),{segmentGroup:w,slicedSegments:S}=W$(n,p,v,d);if(S.length===0&&w.hasChildren())return this.processChildren(f,d,w).pipe(Le(O=>O===null?null:new Mr(I,O)));if(d.length===0&&S.length===0)return Fe(new Mr(I,[]));let D=As(i)===o;return this.processSegment(f,d,w,S,D?Ze:o,!0).pipe(Le(O=>new Mr(I,O instanceof Mr?[O]:[])))}))):af(n)))}getChildConfig(e,n,i){return n.children?Fe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Fe({routes:n._loadedRoutes,injector:n._loadedInjector}):lce(e,n,i,this.urlSerializer).pipe(kn(r=>r?this.configLoader.loadChildren(e,n).pipe(Rn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):hce(n))):Fe({routes:[],injector:e})}};function Ece(t){t.sort((e,n)=>e.value.outlet===Ze?-1:n.value.outlet===Ze?1:e.value.outlet.localeCompare(n.value.outlet))}function Ice(t){let e=t.value.routeConfig;return e&&e.path===""}function v9(t){let e=[],n=new Set;for(let i of t){if(!Ice(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=v9(i.children);e.push(new Mr(i.value,r))}return e.filter(i=>!n.has(i))}function Sce(t){return t.data||{}}function Tce(t){return t.resolve||{}}function Dce(t,e,n,i,r,o){return kn(a=>bce(t,e,n,i,a.extractedUrl,r,o).pipe(Le(({state:l,tree:d})=>Dt(ie({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function xce(t,e){return kn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Fe(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let f of y9(d))a.add(f);let l=0;return Kt(a).pipe(Ka(d=>o.has(d)?Ace(d,i,t,e):(d.data=gO(d,d.parent,t).resolve,Fe(void 0))),Rn(()=>l++),Ud(1),kn(d=>l===a.size?Fe(n):sr))})}function y9(t){let e=t.children.map(n=>y9(n)).flat();return[t,...e]}function Ace(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!u9(r)&&(o[Nv]=r.title),Mce(o,t,e,i).pipe(Le(a=>(t._resolvedData=a,t.data=gO(t,t.parent,n).resolve,null)))}function Mce(t,e,n,i){let r=HP(t);if(r.length===0)return Fe({});let o={};return Kt(r).pipe(kn(a=>Pce(t[a],e,n,i).pipe(Xo(),Rn(l=>{o[a]=l}))),Ud(1),DS(o),Jo(a=>m9(a)?sr:Fd(a)))}function Pce(t,e,n,i){let r=Lv(e)??i,o=mf(t,r),a=o.resolve?o.resolve(e,n):ea(r,()=>o(e,n));return Pc(a)}function BP(t){return Mi(e=>{let n=t(e);return n?Kt(n).pipe(Le(()=>e)):Fe(e)})}var _9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Ze);return r}getResolvedTitleForRoute(i){return i.data[Nv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee(Oce),providedIn:"root"});let t=e;return t})(),Oce=(()=>{let e=class e extends _9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(re(u$))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JC=new we("",{providedIn:"root",factory:()=>({})}),bO=new we(""),kce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(P1)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Fe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Pc(i.loadComponent()).pipe(Le(w9),Rn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),hl(()=>{this.componentLoaders.delete(i)})),o=new Md(r,()=>new li).pipe(Ad());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Fe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=Rce(r,this.compiler,i,this.onLoadEndListener).pipe(hl(()=>{this.childrenLoaders.delete(r)})),l=new Md(a,()=>new li).pipe(Ad());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rce(t,e,n,i){return Pc(t.loadChildren()).pipe(Le(w9),kn(r=>r instanceof em||Array.isArray(r)?Fe(r):Kt(e.compileModuleAsync(r))),Le(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(bO,[],{optional:!0,self:!0}).flat()),{routes:a.map(_O),injector:o}}))}function Nce(t){return t&&typeof t=="object"&&"default"in t}function w9(t){return Nce(t)?t.default:t}var CO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee(Fce),providedIn:"root"});let t=e;return t})(),Fce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lce=new we("");var Vce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new li,this.transitionAbortSubject=new li,this.configLoader=ee(kce),this.environmentInjector=ee(di),this.urlSerializer=ee(mO),this.rootContexts=ee(QC),this.location=ee(um),this.inputBindingEnabled=ee(yO,{optional:!0})!==null,this.titleStrategy=ee(_9),this.options=ee(JC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(CO),this.createViewTransition=ee(Lce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Fe(void 0),this.rootComponentType=null;let i=o=>this.events.next(new XP(o)),r=o=>this.events.next(new ZP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Dt(ie(ie({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Yn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(a=>a.id!==0),Le(a=>Dt(ie({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mi(a=>{this.currentTransition=a;let l=!1,d=!1;return Fe(a).pipe(Rn(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Dt(ie({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mi(f=>{let p=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!p&&v!=="reload"){let y="";return this.events.next(new Eu(f.id,this.urlSerializer.serialize(f.rawUrl),y,WP.IgnoredSameUrlNavigation)),f.resolve(null),sr}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Fe(f).pipe(Mi(y=>{let I=this.transitions?.getValue();return this.events.next(new xv(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),I!==this.transitions?.getValue()?sr:Promise.resolve(y)}),Dce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Dt(ie({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let I=new HC(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:I,source:w,restoredState:S,extras:D}=f,O=new xv(y,this.urlSerializer.serialize(I),w,S);this.events.next(O);let V=c9(this.rootComponentType).snapshot;return this.currentTransition=a=Dt(ie({},f),{targetSnapshot:V,urlAfterRedirects:I,extras:Dt(ie({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,Fe(a)}else{let y="";return this.events.next(new Eu(f.id,this.urlSerializer.serialize(f.extractedUrl),y,WP.IgnoredByUrlHandlingStrategy)),f.resolve(null),sr}}),Rn(f=>{let p=new KP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Le(f=>(this.currentTransition=a=Dt(ie({},f),{guards:qae(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),a)),tce(this.environmentInjector,f=>this.events.next(f)),Rn(f=>{if(a.guardsResult=f.guardsResult,hf(f.guardsResult))throw h9(this.urlSerializer,f.guardsResult);let p=new QP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),ui(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Qr.GuardRejected),!1)),BP(f=>{if(f.guards.canActivateChecks.length)return Fe(f).pipe(Rn(p=>{let v=new YP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),Mi(p=>{let v=!1;return Fe(p).pipe(xce(this.paramsInheritanceStrategy,this.environmentInjector),Rn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(p,"",Qr.NoDataFromResolver)}}))}),Rn(p=>{let v=new JP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),BP(f=>{let p=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Rn(I=>{v.component=I}),Le(()=>{})));for(let I of v.children)y.push(...p(I));return y};return Q_(p(f.targetSnapshot.root)).pipe(Qa(null),zs(1))}),BP(()=>this.afterPreactivation()),Mi(()=>{let{currentSnapshot:f,targetSnapshot:p}=a,v=this.createViewTransition?.(this.environmentInjector,f.root,p.root);return v?Kt(v).pipe(Le(()=>a)):Fe(a)}),Le(f=>{let p=Lae(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=a=Dt(ie({},f),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),Rn(()=>{this.events.next(new Mv)}),zae(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),zs(1),Rn({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ya(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),mo(this.transitionAbortSubject.pipe(Rn(f=>{throw f}))),hl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Qr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jo(f=>{if(d=!0,p9(f))this.events.next(new Mc(a.id,this.urlSerializer.serialize(a.extractedUrl),f.message,f.cancellationCode)),Uae(f)?this.events.next(new Pv(f.url)):a.resolve(!1);else{this.events.next(new Av(a.id,this.urlSerializer.serialize(a.extractedUrl),f,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(f))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return sr}))}))}cancelNavigationTransition(i,r,o){let a=new Mc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jce(t){return t!==Sv}var Uce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee(Bce),providedIn:"root"});let t=e;return t})(),pO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Bce=(()=>{let e=class e extends pO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>ee($ce),providedIn:"root"});let t=e;return t})(),$ce=(()=>{let e=class e extends b9{constructor(){super(...arguments),this.location=ee(um),this.urlSerializer=ee(mO),this.options=ee(JC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(CO),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ac,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=c9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof xv)this.stateMemento=this.createStateMemento();else if(i instanceof Eu)this.rawUrlTree=r.initialUrl;else if(i instanceof HC){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Mv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Mc&&(i.code===Qr.GuardRejected||i.code===Qr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Av?this.restoreHistory(r,!0):i instanceof ya&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=ie(ie({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=ie(ie({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ev=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ev||{});function Hce(t,e){t.events.pipe(ui(n=>n instanceof ya||n instanceof Mc||n instanceof Av||n instanceof Eu),Le(n=>n instanceof ya||n instanceof Eu?Ev.COMPLETE:(n instanceof Mc?n.code===Qr.Redirect||n.code===Qr.SupersededByNewNavigation:!1)?Ev.REDIRECTING:Ev.FAILED),ui(n=>n!==Ev.REDIRECTING),zs(1)).subscribe(()=>{e()})}function zce(t){throw t}var qce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ee(iw),this.stateManager=ee(b9),this.options=ee(JC,{optional:!0})||{},this.pendingTasks=ee(Sl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(Vce),this.urlSerializer=ee(mO),this.location=ee(um),this.urlHandlingStrategy=ee(CO),this._events=new li,this.errorHandler=this.options.errorHandler||zce,this.navigated=!1,this.routeReuseStrategy=ee(Uce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(bO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(yO,{optional:!0}),this.eventsSubscription=new On,this.isNgZoneEnabled=ee(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Mc&&r.code!==Qr.Redirect&&r.code!==Qr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ya)this.navigated=!0;else if(r instanceof Pv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||jce(o.source)};this.scheduleNavigation(l,Sv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Kce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let f=ie({},o);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(a.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(_O),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,p=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=ie(ie({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let I=o?o.snapshot:this.routerState.snapshot.root;y=r9(I)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return o9(y,i,v,p??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=hf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Sv,null,r)}navigate(i,r={skipLocationChange:!1}){return Wce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=ie({},qce):r===!1?o=ie({},Gce):o=r,hf(i))return H$(this.currentUrlTree,i,o);let a=this.parseUrl(i);return H$(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,f,p;l?(d=l.resolve,f=l.reject,p=l.promise):p=new Promise((y,I)=>{d=y,f=I});let v=this.pendingTasks.add();return Hce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new te(4008,!1)}function Kce(t){return!(t instanceof Mv)&&!(t instanceof Pv)}var pf=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new li,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=f==="a"||f==="area",this.isAnchorElement?this.subscription=i.events.subscribe(p=>{p instanceof ya&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let f={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,f),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:A3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(er),f1("tabindex"),L(Eo),L(Xt),L(ah))},e.\u0275dir=At({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&k("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&J0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ji],skipLocationChange:[xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ji],replaceUrl:[xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ji],routerLink:"routerLink"},standalone:!0,features:[lm,bo]});let t=e;return t})(),C9=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new zt,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof ya&&this.update()})}ngAfterContentInit(){Fe(this.links.changes,Fe(null)).pipe(Wa()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Kt(i).pipe(Wa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=Qce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(Xt),L(Eo),L(na),L(pf,8))},e.\u0275dir=At({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&Oj(a,pf,5),r&2){let l;Z0(l=ew())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[bo]});let t=e;return t})();function Qce(t){return!!t.paths}var Yce=new we("");function E9(t,...e){return rc([{provide:bO,multi:!0,useValue:t},[],{provide:er,useFactory:Jce,deps:[Sn]},{provide:rw,multi:!0,useFactory:Zce},e.map(n=>n.\u0275providers)])}function Jce(t){return t.routerState.root}function Xce(t,e){return{\u0275kind:t,\u0275providers:e}}function Zce(){let t=ee(sn);return e=>{let n=t.get(cs);if(e!==n.components[0])return;let i=t.get(Sn),r=t.get(ele);t.get(tle)===1&&i.initialNavigation(),t.get(nle,null,lt.Optional)?.setUpPreloading(),t.get(Yce,null,lt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ele=new we("",{factory:()=>new li}),tle=new we("",{providedIn:"root",factory:()=>1});var nle=new we("");function I9(t){return Xce(5,[{provide:JC,useValue:t}])}var Tn="top",ei="bottom",Kn="right",Ln="left",XC="auto",Oc=[Tn,ei,Kn,Ln],_a="start",Iu="end",S9="clippingParents",ZC="viewport",vf="popper",T9="reference",EO=Oc.reduce(function(t,e){return t.concat([e+"-"+_a,e+"-"+Iu])},[]),eE=[].concat(Oc,[XC]).reduce(function(t,e){return t.concat([e,e+"-"+_a,e+"-"+Iu])},[]),ile="beforeRead",rle="read",ole="afterRead",sle="beforeMain",ale="main",cle="afterMain",lle="beforeWrite",ule="write",dle="afterWrite",D9=[ile,rle,ole,sle,ale,cle,lle,ule,dle];function gi(t){return t?(t.nodeName||"").toLowerCase():null}function ln(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jr(t){var e=ln(t).Element;return t instanceof e||t instanceof Element}function ti(t){var e=ln(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yf(t){if(typeof ShadowRoot>"u")return!1;var e=ln(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hle(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ti(o)||!gi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function fle(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,f){return d[f]="",d},{});!ti(r)||!gi(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var jv={name:"applyStyles",enabled:!0,phase:"write",fn:hle,effect:fle,requires:["computeStyles"]};function vi(t){return t.split("-")[0]}var Fo=Math.max,Su=Math.min,wa=Math.round;function _f(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Uv(){return!/^((?!chrome|android).)*safari/i.test(_f())}function Xr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&ti(t)&&(r=t.offsetWidth>0&&wa(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&wa(i.height)/t.offsetHeight||1);var a=Jr(t)?ln(t):window,l=a.visualViewport,d=!Uv()&&n,f=(i.left+(d&&l?l.offsetLeft:0))/r,p=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:p,right:f+v,bottom:p+y,left:f,x:f,y:p}}function Tu(t){var e=Xr(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Bv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&yf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function tr(t){return ln(t).getComputedStyle(t)}function IO(t){return["table","td","th"].indexOf(gi(t))>=0}function Di(t){return((Jr(t)?t.ownerDocument:t.document)||window.document).documentElement}function ba(t){return gi(t)==="html"?t:t.assignedSlot||t.parentNode||(yf(t)?t.host:null)||Di(t)}function x9(t){return!ti(t)||tr(t).position==="fixed"?null:t.offsetParent}function ple(t){var e=/firefox/i.test(_f()),n=/Trident/i.test(_f());if(n&&ti(t)){var i=tr(t);if(i.position==="fixed")return null}var r=ba(t);for(yf(r)&&(r=r.host);ti(r)&&["html","body"].indexOf(gi(r))<0;){var o=tr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Lo(t){for(var e=ln(t),n=x9(t);n&&IO(n)&&tr(n).position==="static";)n=x9(n);return n&&(gi(n)==="html"||gi(n)==="body"&&tr(n).position==="static")?e:n||ple(t)||e}function Du(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xu(t,e,n){return Fo(t,Su(e,n))}function A9(t,e,n){var i=xu(t,e,n);return i>n?n:i}function $v(){return{top:0,right:0,bottom:0,left:0}}function Hv(t){return Object.assign({},$v(),t)}function zv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var mle=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hv(typeof e!="number"?e:zv(e,Oc))};function gle(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=vi(n.placement),d=Du(l),f=[Ln,Kn].indexOf(l)>=0,p=f?"height":"width";if(!(!o||!a)){var v=mle(r.padding,n),y=Tu(o),I=d==="y"?Tn:Ln,w=d==="y"?ei:Kn,S=n.rects.reference[p]+n.rects.reference[d]-a[d]-n.rects.popper[p],D=a[d]-n.rects.reference[d],O=Lo(o),V=O?d==="y"?O.clientHeight||0:O.clientWidth||0:0,q=S/2-D/2,A=v[I],ne=V-y[p]-v[w],U=V/2-y[p]/2+q,ae=xu(A,U,ne),Ee=d;n.modifiersData[i]=(e={},e[Ee]=ae,e.centerOffset=ae-U,e)}}function vle(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Bv(e.elements.popper,r)&&(e.elements.arrow=r))}var M9={name:"arrow",enabled:!0,phase:"main",fn:gle,effect:vle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zr(t){return t.split("-")[1]}var yle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _le(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:wa(n*r)/r||0,y:wa(i*r)/r||0}}function P9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,v=t.isFixed,y=a.x,I=y===void 0?0:y,w=a.y,S=w===void 0?0:w,D=typeof p=="function"?p({x:I,y:S}):{x:I,y:S};I=D.x,S=D.y;var O=a.hasOwnProperty("x"),V=a.hasOwnProperty("y"),q=Ln,A=Tn,ne=window;if(f){var U=Lo(n),ae="clientHeight",Ee="clientWidth";if(U===ln(n)&&(U=Di(n),tr(U).position!=="static"&&l==="absolute"&&(ae="scrollHeight",Ee="scrollWidth")),U=U,r===Tn||(r===Ln||r===Kn)&&o===Iu){A=ei;var qe=v&&U===ne&&ne.visualViewport?ne.visualViewport.height:U[ae];S-=qe-i.height,S*=d?1:-1}if(r===Ln||(r===Tn||r===ei)&&o===Iu){q=Kn;var et=v&&U===ne&&ne.visualViewport?ne.visualViewport.width:U[Ee];I-=et-i.width,I*=d?1:-1}}var Ie=Object.assign({position:l},f&&yle),He=p===!0?_le({x:I,y:S},ln(n)):{x:I,y:S};if(I=He.x,S=He.y,d){var Te;return Object.assign({},Ie,(Te={},Te[A]=V?"0":"",Te[q]=O?"0":"",Te.transform=(ne.devicePixelRatio||1)<=1?"translate("+I+"px, "+S+"px)":"translate3d("+I+"px, "+S+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[A]=V?S+"px":"",e[q]=O?I+"px":"",e.transform="",e))}function wle(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,f={placement:vi(e.placement),variation:Zr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,P9(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,P9(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var O9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wle,data:{}};var tE={passive:!0};function ble(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=ln(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(p){p.addEventListener("scroll",n.update,tE)}),l&&d.addEventListener("resize",n.update,tE),function(){o&&f.forEach(function(p){p.removeEventListener("scroll",n.update,tE)}),l&&d.removeEventListener("resize",n.update,tE)}}var k9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ble,data:{}};var Cle={left:"right",right:"left",bottom:"top",top:"bottom"};function wf(t){return t.replace(/left|right|bottom|top/g,function(e){return Cle[e]})}var Ele={start:"end",end:"start"};function nE(t){return t.replace(/start|end/g,function(e){return Ele[e]})}function Au(t){var e=ln(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Mu(t){return Xr(Di(t)).left+Au(t).scrollLeft}function SO(t,e){var n=ln(t),i=Di(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var f=Uv();(f||!f&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+Mu(t),y:d}}function TO(t){var e,n=Di(t),i=Au(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Fo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Fo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+Mu(t),d=-i.scrollTop;return tr(r||n).direction==="rtl"&&(l+=Fo(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Pu(t){var e=tr(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function iE(t){return["html","body","#document"].indexOf(gi(t))>=0?t.ownerDocument.body:ti(t)&&Pu(t)?t:iE(ba(t))}function kc(t,e){var n;e===void 0&&(e=[]);var i=iE(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=ln(i),a=r?[o].concat(o.visualViewport||[],Pu(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(kc(ba(a)))}function bf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ile(t,e){var n=Xr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function R9(t,e,n){return e===ZC?bf(SO(t,n)):Jr(e)?Ile(e,n):bf(TO(Di(t)))}function Sle(t){var e=kc(ba(t)),n=["absolute","fixed"].indexOf(tr(t).position)>=0,i=n&&ti(t)?Lo(t):t;return Jr(i)?e.filter(function(r){return Jr(r)&&Bv(r,i)&&gi(r)!=="body"}):[]}function DO(t,e,n,i){var r=e==="clippingParents"?Sle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,f){var p=R9(t,f,i);return d.top=Fo(p.top,d.top),d.right=Su(p.right,d.right),d.bottom=Su(p.bottom,d.bottom),d.left=Fo(p.left,d.left),d},R9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function qv(t){var e=t.reference,n=t.element,i=t.placement,r=i?vi(i):null,o=i?Zr(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case Tn:d={x:a,y:e.y-n.height};break;case ei:d={x:a,y:e.y+e.height};break;case Kn:d={x:e.x+e.width,y:l};break;case Ln:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var f=r?Du(r):null;if(f!=null){var p=f==="y"?"height":"width";switch(o){case _a:d[f]=d[f]-(e[p]/2-n[p]/2);break;case Iu:d[f]=d[f]+(e[p]/2-n[p]/2);break;default:}}return d}function Vo(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?S9:l,f=n.rootBoundary,p=f===void 0?ZC:f,v=n.elementContext,y=v===void 0?vf:v,I=n.altBoundary,w=I===void 0?!1:I,S=n.padding,D=S===void 0?0:S,O=Hv(typeof D!="number"?D:zv(D,Oc)),V=y===vf?T9:vf,q=t.rects.popper,A=t.elements[w?V:y],ne=DO(Jr(A)?A:A.contextElement||Di(t.elements.popper),d,p,a),U=Xr(t.elements.reference),ae=qv({reference:U,element:q,strategy:"absolute",placement:r}),Ee=bf(Object.assign({},q,ae)),qe=y===vf?Ee:U,et={top:ne.top-qe.top+O.top,bottom:qe.bottom-ne.bottom+O.bottom,left:ne.left-qe.left+O.left,right:qe.right-ne.right+O.right},Ie=t.modifiersData.offset;if(y===vf&&Ie){var He=Ie[r];Object.keys(et).forEach(function(Te){var nn=[Kn,ei].indexOf(Te)>=0?1:-1,Je=[Tn,ei].indexOf(Te)>=0?"y":"x";et[Te]+=He[Je]*nn})}return et}function xO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?eE:d,p=Zr(i),v=p?l?EO:EO.filter(function(w){return Zr(w)===p}):Oc,y=v.filter(function(w){return f.indexOf(w)>=0});y.length===0&&(y=v);var I=y.reduce(function(w,S){return w[S]=Vo(t,{placement:S,boundary:r,rootBoundary:o,padding:a})[vi(S)],w},{});return Object.keys(I).sort(function(w,S){return I[w]-I[S]})}function Tle(t){if(vi(t)===XC)return[];var e=wf(t);return[nE(t),e,nE(e)]}function Dle(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,p=n.boundary,v=n.rootBoundary,y=n.altBoundary,I=n.flipVariations,w=I===void 0?!0:I,S=n.allowedAutoPlacements,D=e.options.placement,O=vi(D),V=O===D,q=d||(V||!w?[wf(D)]:Tle(D)),A=[D].concat(q).reduce(function(gt,xi){return gt.concat(vi(xi)===XC?xO(e,{placement:xi,boundary:p,rootBoundary:v,padding:f,flipVariations:w,allowedAutoPlacements:S}):xi)},[]),ne=e.rects.reference,U=e.rects.popper,ae=new Map,Ee=!0,qe=A[0],et=0;et<A.length;et++){var Ie=A[et],He=vi(Ie),Te=Zr(Ie)===_a,nn=[Tn,ei].indexOf(He)>=0,Je=nn?"width":"height",z=Vo(e,{placement:Ie,boundary:p,rootBoundary:v,altBoundary:y,padding:f}),se=nn?Te?Kn:Ln:Te?ei:Tn;ne[Je]>U[Je]&&(se=wf(se));var pe=wf(se),Oe=[];if(o&&Oe.push(z[He]<=0),l&&Oe.push(z[se]<=0,z[pe]<=0),Oe.every(function(gt){return gt})){qe=Ie,Ee=!1;break}ae.set(Ie,Oe)}if(Ee)for(var rt=w?3:1,xn=function(xi){var fr=A.find(function(ft){var Vn=ae.get(ft);if(Vn)return Vn.slice(0,xi).every(function(rn){return rn})});if(fr)return qe=fr,"break"},Nt=rt;Nt>0;Nt--){var ni=xn(Nt);if(ni==="break")break}e.placement!==qe&&(e.modifiersData[i]._skip=!0,e.placement=qe,e.reset=!0)}}var N9={name:"flip",enabled:!0,phase:"main",fn:Dle,requiresIfExists:["offset"],data:{_skip:!1}};function F9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function L9(t){return[Tn,Kn,ei,Ln].some(function(e){return t[e]>=0})}function xle(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Vo(e,{elementContext:"reference"}),l=Vo(e,{altBoundary:!0}),d=F9(a,i),f=F9(l,r,o),p=L9(d),v=L9(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}var V9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xle};function Ale(t,e,n){var i=vi(t),r=[Ln,Tn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Ln,Kn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function Mle(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=eE.reduce(function(p,v){return p[v]=Ale(v,e.rects,o),p},{}),l=a[e.placement],d=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=a}var j9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mle};function Ple(t){var e=t.state,n=t.name;e.modifiersData[n]=qv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var U9={name:"popperOffsets",enabled:!0,phase:"read",fn:Ple,data:{}};function AO(t){return t==="x"?"y":"x"}function Ole(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,v=n.padding,y=n.tether,I=y===void 0?!0:y,w=n.tetherOffset,S=w===void 0?0:w,D=Vo(e,{boundary:d,rootBoundary:f,padding:v,altBoundary:p}),O=vi(e.placement),V=Zr(e.placement),q=!V,A=Du(O),ne=AO(A),U=e.modifiersData.popperOffsets,ae=e.rects.reference,Ee=e.rects.popper,qe=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,et=typeof qe=="number"?{mainAxis:qe,altAxis:qe}:Object.assign({mainAxis:0,altAxis:0},qe),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,He={x:0,y:0};if(U){if(o){var Te,nn=A==="y"?Tn:Ln,Je=A==="y"?ei:Kn,z=A==="y"?"height":"width",se=U[A],pe=se+D[nn],Oe=se-D[Je],rt=I?-Ee[z]/2:0,xn=V===_a?ae[z]:Ee[z],Nt=V===_a?-Ee[z]:-ae[z],ni=e.elements.arrow,gt=I&&ni?Tu(ni):{width:0,height:0},xi=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$v(),fr=xi[nn],ft=xi[Je],Vn=xu(0,ae[z],gt[z]),rn=q?ae[z]/2-rt-Vn-fr-et.mainAxis:xn-Vn-fr-et.mainAxis,Ui=q?-ae[z]/2+rt+Vn+ft+et.mainAxis:Nt+Vn+ft+et.mainAxis,Rr=e.elements.arrow&&Lo(e.elements.arrow),jc=Rr?A==="y"?Rr.clientTop||0:Rr.clientLeft||0:0,Ca=(Te=Ie?.[A])!=null?Te:0,Lu=se+rn-Ca-jc,ii=se+Ui-Ca,Uc=xu(I?Su(pe,Lu):pe,se,I?Fo(Oe,ii):Oe);U[A]=Uc,He[A]=Uc-se}if(l){var Bc,Vu=A==="x"?Tn:Ln,ju=A==="x"?ei:Kn,ro=U[ne],$o=ne==="y"?"height":"width",$c=ro+D[Vu],oo=ro-D[ju],Nr=[Tn,Ln].indexOf(O)!==-1,Hc=(Bc=Ie?.[ne])!=null?Bc:0,Ea=Nr?$c:ro-ae[$o]-Ee[$o]-Hc+et.altAxis,zc=Nr?ro+ae[$o]+Ee[$o]-Hc-et.altAxis:oo,Ns=I&&Nr?A9(Ea,ro,zc):xu(I?Ea:$c,ro,I?zc:oo);U[ne]=Ns,He[ne]=Ns-ro}e.modifiersData[i]=He}}var B9={name:"preventOverflow",enabled:!0,phase:"main",fn:Ole,requiresIfExists:["offset"]};function MO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function PO(t){return t===ln(t)||!ti(t)?Au(t):MO(t)}function kle(t){var e=t.getBoundingClientRect(),n=wa(e.width)/t.offsetWidth||1,i=wa(e.height)/t.offsetHeight||1;return n!==1||i!==1}function OO(t,e,n){n===void 0&&(n=!1);var i=ti(e),r=ti(e)&&kle(e),o=Di(e),a=Xr(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((gi(e)!=="body"||Pu(o))&&(l=PO(e)),ti(e)?(d=Xr(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=Mu(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function Rle(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function kO(t){var e=Rle(t);return D9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function RO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function NO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var $9={placement:"bottom",modifiers:[],strategy:"absolute"};function H9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function z9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?$9:r;return function(l,d,f){f===void 0&&(f=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},$9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,I={state:p,setOptions:function(O){var V=typeof O=="function"?O(p.options):O;S(),p.options=Object.assign({},o,p.options,V),p.scrollParents={reference:Jr(l)?kc(l):l.contextElement?kc(l.contextElement):[],popper:kc(d)};var q=kO(NO([].concat(i,p.options.modifiers)));return p.orderedModifiers=q.filter(function(A){return A.enabled}),w(),I.update()},forceUpdate:function(){if(!y){var O=p.elements,V=O.reference,q=O.popper;if(H9(V,q)){p.rects={reference:OO(V,Lo(q),p.options.strategy==="fixed"),popper:Tu(q)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(et){return p.modifiersData[et.name]=Object.assign({},et.data)});for(var A=0;A<p.orderedModifiers.length;A++){if(p.reset===!0){p.reset=!1,A=-1;continue}var ne=p.orderedModifiers[A],U=ne.fn,ae=ne.options,Ee=ae===void 0?{}:ae,qe=ne.name;typeof U=="function"&&(p=U({state:p,options:Ee,name:qe,instance:I})||p)}}}},update:RO(function(){return new Promise(function(D){I.forceUpdate(),D(p)})}),destroy:function(){S(),y=!0}};if(!H9(l,d))return I;I.setOptions(f).then(function(D){!y&&f.onFirstUpdate&&f.onFirstUpdate(D)});function w(){p.orderedModifiers.forEach(function(D){var O=D.name,V=D.options,q=V===void 0?{}:V,A=D.effect;if(typeof A=="function"){var ne=A({state:p,name:O,instance:I,options:q}),U=function(){};v.push(ne||U)}})}function S(){v.forEach(function(D){return D()}),v=[]}return I}}var Nle=[k9,U9,O9,jv,j9,N9,B9,M9,V9],FO=z9({defaultModifiers:Nle});var Fle="tippy-box",eH="tippy-content",Lle="tippy-backdrop",tH="tippy-arrow",nH="tippy-svg-arrow",Ou={passive:!0,capture:!0},iH=function(){return document.body};function LO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function HO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function rH(t,e){return typeof t=="function"?t.apply(void 0,e):t}function q9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Vle(t){return t.split(/\s+/).filter(Boolean)}function Cf(t){return[].concat(t)}function G9(t,e){t.indexOf(e)===-1&&t.push(e)}function jle(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ule(t){return t.split("-")[0]}function oE(t){return[].slice.call(t)}function W9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Gv(){return document.createElement("div")}function sE(t){return["Element","Fragment"].some(function(e){return HO(t,e)})}function Ble(t){return HO(t,"NodeList")}function $le(t){return HO(t,"MouseEvent")}function Hle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function zle(t){return sE(t)?[t]:Ble(t)?oE(t):Array.isArray(t)?t:oE(document.querySelectorAll(t))}function VO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function K9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function qle(t){var e,n=Cf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Gle(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,f=Ule(a.placement),p=a.modifiersData.offset;if(!p)return!0;var v=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,I=f==="right"?p.left.x:0,w=f==="left"?p.right.x:0,S=o.top-i+v>d,D=i-o.bottom-y>d,O=o.left-n+I>d,V=n-o.right-w>d;return S||D||O||V})}function jO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function Q9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Ms={isTouch:!1},Y9=0;function Wle(){Ms.isTouch||(Ms.isTouch=!0,window.performance&&document.addEventListener("mousemove",oH))}function oH(){var t=performance.now();t-Y9<20&&(Ms.isTouch=!1,document.removeEventListener("mousemove",oH)),Y9=t}function Kle(){var t=document.activeElement;if(Hle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Qle(){document.addEventListener("touchstart",Wle,Ou),window.addEventListener("blur",Kle)}var Yle=typeof window<"u"&&typeof document<"u",Jle=Yle?!!window.msCrypto:!1;var Xle={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Zle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},jo=Object.assign({appendTo:iH,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Xle,Zle),eue=Object.keys(jo),tue=function(e){var n=Object.keys(e);n.forEach(function(i){jo[i]=e[i]})};function sH(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=jo[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function nue(t,e){var n=e?Object.keys(sH(Object.assign({},jo,{plugins:e}))):eue,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function J9(t,e){var n=Object.assign({},e,{content:rH(e.content,[t])},e.ignoreAttributes?{}:nue(t,e.plugins));return n.aria=Object.assign({},jo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var iue=function(){return"innerHTML"};function BO(t,e){t[iue()]=e}function X9(t){var e=Gv();return t===!0?e.className=tH:(e.className=nH,sE(t)?e.appendChild(t):BO(e,t)),e}function Z9(t,e){sE(e.content)?(BO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?BO(t,e.content):t.textContent=e.content)}function $O(t){var e=t.firstElementChild,n=oE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(eH)}),arrow:n.find(function(i){return i.classList.contains(tH)||i.classList.contains(nH)}),backdrop:n.find(function(i){return i.classList.contains(Lle)})}}function aH(t){var e=Gv(),n=Gv();n.className=Fle,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Gv();i.className=eH,i.setAttribute("data-state","hidden"),Z9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=$O(e),d=l.box,f=l.content,p=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Z9(f,t.props),a.arrow?p?o.arrow!==a.arrow&&(d.removeChild(p),d.appendChild(X9(a.arrow))):d.appendChild(X9(a.arrow)):p&&d.removeChild(p)}return{popper:e,onUpdate:r}}aH.$$tippy=!0;var rue=1,rE=[],UO=[];function oue(t,e){var n=J9(t,Object.assign({},jo,sH(W9(e)))),i,r,o,a=!1,l=!1,d=!1,f=!1,p,v,y,I=[],w=q9(Lu,n.interactiveDebounce),S,D=rue++,O=null,V=jle(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:D,reference:t,popper:Gv(),popperInstance:O,props:n,state:q,plugins:V,clearDelayTimeouts:Ea,setProps:zc,setContent:Ns,show:Ia,hide:Fs,hideWithInteractivity:ay,enable:Nr,disable:Hc,unmount:DE,destroy:xE};if(!n.render)return A;var ne=n.render(A),U=ne.popper,ae=ne.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+A.id,A.popper=U,t._tippy=A,U._tippy=A;var Ee=V.map(function($){return $.fn(A)}),qe=t.hasAttribute("aria-expanded");return Rr(),rt(),se(),pe("onCreate",[A]),n.showOnCreate&&$c(),U.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),U.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&nn().addEventListener("mousemove",w)}),A;function et(){var $=A.props.touch;return Array.isArray($)?$:[$,0]}function Ie(){return et()[0]==="hold"}function He(){var $;return!!(($=A.props.render)!=null&&$.$$tippy)}function Te(){return S||t}function nn(){var $=Te().parentNode;return $?qle($):document}function Je(){return $O(U)}function z($){return A.state.isMounted&&!A.state.isVisible||Ms.isTouch||p&&p.type==="focus"?0:LO(A.props.delay,$?0:1,jo.delay)}function se($){$===void 0&&($=!1),U.style.pointerEvents=A.props.interactive&&!$?"":"none",U.style.zIndex=""+A.props.zIndex}function pe($,ve,Se){if(Se===void 0&&(Se=!0),Ee.forEach(function(vt){vt[$]&&vt[$].apply(vt,ve)}),Se){var Mt;(Mt=A.props)[$].apply(Mt,ve)}}function Oe(){var $=A.props.aria;if($.content){var ve="aria-"+$.content,Se=U.id,Mt=Cf(A.props.triggerTarget||t);Mt.forEach(function(vt){var ri=vt.getAttribute(ve);if(A.state.isVisible)vt.setAttribute(ve,ri?ri+" "+Se:Se);else{var Bi=ri&&ri.replace(Se,"").trim();Bi?vt.setAttribute(ve,Bi):vt.removeAttribute(ve)}})}}function rt(){if(!(qe||!A.props.aria.expanded)){var $=Cf(A.props.triggerTarget||t);$.forEach(function(ve){A.props.interactive?ve.setAttribute("aria-expanded",A.state.isVisible&&ve===Te()?"true":"false"):ve.removeAttribute("aria-expanded")})}}function xn(){nn().removeEventListener("mousemove",w),rE=rE.filter(function($){return $!==w})}function Nt($){if(!(Ms.isTouch&&(d||$.type==="mousedown"))){var ve=$.composedPath&&$.composedPath()[0]||$.target;if(!(A.props.interactive&&Q9(U,ve))){if(Cf(A.props.triggerTarget||t).some(function(Se){return Q9(Se,ve)})){if(Ms.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else pe("onClickOutside",[A,$]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),l=!0,setTimeout(function(){l=!1}),A.state.isMounted||fr())}}}function ni(){d=!0}function gt(){d=!1}function xi(){var $=nn();$.addEventListener("mousedown",Nt,!0),$.addEventListener("touchend",Nt,Ou),$.addEventListener("touchstart",gt,Ou),$.addEventListener("touchmove",ni,Ou)}function fr(){var $=nn();$.removeEventListener("mousedown",Nt,!0),$.removeEventListener("touchend",Nt,Ou),$.removeEventListener("touchstart",gt,Ou),$.removeEventListener("touchmove",ni,Ou)}function ft($,ve){rn($,function(){!A.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&ve()})}function Vn($,ve){rn($,ve)}function rn($,ve){var Se=Je().box;function Mt(vt){vt.target===Se&&(jO(Se,"remove",Mt),ve())}if($===0)return ve();jO(Se,"remove",v),jO(Se,"add",Mt),v=Mt}function Ui($,ve,Se){Se===void 0&&(Se=!1);var Mt=Cf(A.props.triggerTarget||t);Mt.forEach(function(vt){vt.addEventListener($,ve,Se),I.push({node:vt,eventType:$,handler:ve,options:Se})})}function Rr(){Ie()&&(Ui("touchstart",Ca,{passive:!0}),Ui("touchend",ii,{passive:!0})),Vle(A.props.trigger).forEach(function($){if($!=="manual")switch(Ui($,Ca),$){case"mouseenter":Ui("mouseleave",ii);break;case"focus":Ui(Jle?"focusout":"blur",Uc);break;case"focusin":Ui("focusout",Uc);break}})}function jc(){I.forEach(function($){var ve=$.node,Se=$.eventType,Mt=$.handler,vt=$.options;ve.removeEventListener(Se,Mt,vt)}),I=[]}function Ca($){var ve,Se=!1;if(!(!A.state.isEnabled||Bc($)||l)){var Mt=((ve=p)==null?void 0:ve.type)==="focus";p=$,S=$.currentTarget,rt(),!A.state.isVisible&&$le($)&&rE.forEach(function(vt){return vt($)}),$.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||a)&&A.props.hideOnClick!==!1&&A.state.isVisible?Se=!0:$c($),$.type==="click"&&(a=!Se),Se&&!Mt&&oo($)}}function Lu($){var ve=$.target,Se=Te().contains(ve)||U.contains(ve);if(!($.type==="mousemove"&&Se)){var Mt=$o().concat(U).map(function(vt){var ri,Bi=vt._tippy,so=(ri=Bi.popperInstance)==null?void 0:ri.state;return so?{popperRect:vt.getBoundingClientRect(),popperState:so,props:n}:null}).filter(Boolean);Gle(Mt,$)&&(xn(),oo($))}}function ii($){var ve=Bc($)||A.props.trigger.indexOf("click")>=0&&a;if(!ve){if(A.props.interactive){A.hideWithInteractivity($);return}oo($)}}function Uc($){A.props.trigger.indexOf("focusin")<0&&$.target!==Te()||A.props.interactive&&$.relatedTarget&&U.contains($.relatedTarget)||oo($)}function Bc($){return Ms.isTouch?Ie()!==$.type.indexOf("touch")>=0:!1}function Vu(){ju();var $=A.props,ve=$.popperOptions,Se=$.placement,Mt=$.offset,vt=$.getReferenceClientRect,ri=$.moveTransition,Bi=He()?$O(U).arrow:null,so=vt?{getBoundingClientRect:vt,contextElement:vt.contextElement||Te()}:t,cy={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Sa){var Ho=Sa.state;if(He()){var Lf=Je(),Ls=Lf.box;["placement","reference-hidden","escaped"].forEach(function(zo){zo==="placement"?Ls.setAttribute("data-placement",Ho.placement):Ho.attributes.popper["data-popper-"+zo]?Ls.setAttribute("data-"+zo,""):Ls.removeAttribute("data-"+zo)}),Ho.attributes.popper={}}}},Ai=[{name:"offset",options:{offset:Mt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ri}},cy];He()&&Bi&&Ai.push({name:"arrow",options:{element:Bi,padding:3}}),Ai.push.apply(Ai,ve?.modifiers||[]),A.popperInstance=FO(so,U,Object.assign({},ve,{placement:Se,onFirstUpdate:y,modifiers:Ai}))}function ju(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function ro(){var $=A.props.appendTo,ve,Se=Te();A.props.interactive&&$===iH||$==="parent"?ve=Se.parentNode:ve=rH($,[Se]),ve.contains(U)||ve.appendChild(U),A.state.isMounted=!0,Vu()}function $o(){return oE(U.querySelectorAll("[data-tippy-root]"))}function $c($){A.clearDelayTimeouts(),$&&pe("onTrigger",[A,$]),xi();var ve=z(!0),Se=et(),Mt=Se[0],vt=Se[1];Ms.isTouch&&Mt==="hold"&&vt&&(ve=vt),ve?i=setTimeout(function(){A.show()},ve):A.show()}function oo($){if(A.clearDelayTimeouts(),pe("onUntrigger",[A,$]),!A.state.isVisible){fr();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf($.type)>=0&&a)){var ve=z(!1);ve?r=setTimeout(function(){A.state.isVisible&&A.hide()},ve):o=requestAnimationFrame(function(){A.hide()})}}function Nr(){A.state.isEnabled=!0}function Hc(){A.hide(),A.state.isEnabled=!1}function Ea(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function zc($){if(!A.state.isDestroyed){pe("onBeforeUpdate",[A,$]),jc();var ve=A.props,Se=J9(t,Object.assign({},ve,W9($),{ignoreAttributes:!0}));A.props=Se,Rr(),ve.interactiveDebounce!==Se.interactiveDebounce&&(xn(),w=q9(Lu,Se.interactiveDebounce)),ve.triggerTarget&&!Se.triggerTarget?Cf(ve.triggerTarget).forEach(function(Mt){Mt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),rt(),se(),ae&&ae(ve,Se),A.popperInstance&&(Vu(),$o().forEach(function(Mt){requestAnimationFrame(Mt._tippy.popperInstance.forceUpdate)})),pe("onAfterUpdate",[A,$])}}function Ns($){A.setProps({content:$})}function Ia(){var $=A.state.isVisible,ve=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=Ms.isTouch&&!A.props.touch,vt=LO(A.props.duration,0,jo.duration);if(!($||ve||Se||Mt)&&!Te().hasAttribute("disabled")&&(pe("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,He()&&(U.style.visibility="visible"),se(),xi(),A.state.isMounted||(U.style.transition="none"),He()){var ri=Je(),Bi=ri.box,so=ri.content;VO([Bi,so],0)}y=function(){var Ai;if(!(!A.state.isVisible||f)){if(f=!0,U.offsetHeight,U.style.transition=A.props.moveTransition,He()&&A.props.animation){var qc=Je(),Sa=qc.box,Ho=qc.content;VO([Sa,Ho],vt),K9([Sa,Ho],"visible")}Oe(),rt(),G9(UO,A),(Ai=A.popperInstance)==null||Ai.forceUpdate(),pe("onMount",[A]),A.props.animation&&He()&&Vn(vt,function(){A.state.isShown=!0,pe("onShown",[A])})}},ro()}}function Fs(){var $=!A.state.isVisible,ve=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=LO(A.props.duration,1,jo.duration);if(!($||ve||Se)&&(pe("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,f=!1,a=!1,He()&&(U.style.visibility="hidden"),xn(),fr(),se(!0),He()){var vt=Je(),ri=vt.box,Bi=vt.content;A.props.animation&&(VO([ri,Bi],Mt),K9([ri,Bi],"hidden"))}Oe(),rt(),A.props.animation?He()&&ft(Mt,A.unmount):A.unmount()}}function ay($){nn().addEventListener("mousemove",w),G9(rE,w),w($)}function DE(){A.state.isVisible&&A.hide(),A.state.isMounted&&(ju(),$o().forEach(function($){$._tippy.unmount()}),U.parentNode&&U.parentNode.removeChild(U),UO=UO.filter(function($){return $!==A}),A.state.isMounted=!1,pe("onHidden",[A]))}function xE(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),jc(),delete t._tippy,A.state.isDestroyed=!0,pe("onDestroy",[A]))}}function Wv(t,e){e===void 0&&(e={});var n=jo.plugins.concat(e.plugins||[]);Qle();var i=Object.assign({},e,{plugins:n}),r=zle(t);if(0)var o,a;var l=r.reduce(function(d,f){var p=f&&oue(f,i);return p&&d.push(p),d},[]);return sE(t)?l[0]:l}Wv.defaultProps=jo;Wv.setDefaultProps=tue;Wv.currentInput=Ms;var MDe=Object.assign({},jv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Wv.setDefaultProps({render:aH});var zO=Wv;var qO=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=ow(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function aE(t){return t instanceof _o}function Kv(t){return typeof t=="function"}function Qv(t){return typeof t=="string"}var GO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},WO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},sue=new we("Component context"),KO=(()=>{let e=class e{constructor(){this.injector=ee(sn),this.appRef=ee(cs),this.environmentInjector=ee(di)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=sc(r.context),o=sn.create({providers:[{provide:sue,useValue:a.asReadonly()}],parent:o})),new qO({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new GO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(aE(i))return this.createTemplate(i,r);if(Kv(i))return this.createComponent(i,r);if(Qv(i))return new WO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lH=!1,uH=!1;typeof window<"u"&&(lH="IntersectionObserver"in window,uH="ResizeObserver"in window);function cH(t,e={root:null,threshold:.3}){let n=pH(t);return new je(i=>{if(!lH){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function dH(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function cue(t){let e=pH(t);return hH(e).pipe(TS(150),Le(()=>dH(e)))}function hH(t){return lue(t)}function lue(t){return new je(e=>{if(!uH){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Yv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function fH(t){return(due(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function uue(t){return hue(t)?"":typeof t=="string"?t:`${t}px`}function due(t){return typeof t=="string"}function hue(t){return t==null}function pH(t){return t instanceof Xt?t.nativeElement:t}var QO,YO=new WeakMap;function fue(t,e){return QO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||YO.get(i.target)()})}),YO.set(t,e),QO.observe(t),()=>{YO.delete(t),QO.unobserve(t)}}var JO=new we("Tippy config",{providedIn:"root",factory(){return{}}}),mH=new we("TIPPY_REF"),Ef=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,f){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=f,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new zt,this.destroyed=new li,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new li,this.contentChanged=new li}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;cE("content",i)&&this.contentChanged.next(),cE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=ie(ie({},this.globalConfig.variations[o]),r)),cE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),cE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?cH(this.host).pipe(Mi(()=>this.isOverflowing$()),mo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):cH(this.host).pipe(mo(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(mo(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(mo(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=fue(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(ie(ie({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(Yv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=zO(this.host,Dt(ie(ie(ie({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Yv(this.globalConfig)),Yv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of fH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Qv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Qv(this.content)){let o=sn.create({providers:[{provide:mH,useValue:this.instance}],parent:this.injector});Kv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):aE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,ie({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Kv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Qv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){jd(this.host,"contextmenu").pipe(mo(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{jd(document.body,"keydown").pipe(ui(({code:i})=>i==="Escape"),mo(zp(this.destroyed,this.visibleInternal.pipe(ui(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){hH(this.host).pipe(mo(zp(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=uue(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return dm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[cue(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Mi(()=>new je(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Le(()=>dH(this.host)))),zp(...i)}};e.\u0275fac=function(r){return new(r||e)(L(jr),L(JO),L(sn),L(KO),L(wi),L(Ct),L(Xt))},e.\u0275dir=At({type:e,selectors:[["","tp",""]],inputs:{appendTo:[xe.None,"tpAppendTo","appendTo"],content:[xe.None,"tp","content"],delay:[xe.None,"tpDelay","delay"],duration:[xe.None,"tpDuration","duration"],hideOnClick:[xe.None,"tpHideOnClick","hideOnClick"],interactive:[xe.None,"tpInteractive","interactive"],interactiveBorder:[xe.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[xe.None,"tpMaxWidth","maxWidth"],offset:[xe.None,"tpOffset","offset"],placement:[xe.None,"tpPlacement","placement"],popperOptions:[xe.None,"tpPopperOptions","popperOptions"],showOnCreate:[xe.None,"tpShowOnCreate","showOnCreate"],trigger:[xe.None,"tpTrigger","trigger"],triggerTarget:[xe.None,"tpTriggerTarget","triggerTarget"],zIndex:[xe.None,"tpZIndex","zIndex"],animation:[xe.None,"tpAnimation","animation"],useTextContent:[xe.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Ji],isLazy:[xe.HasDecoratorInputTransform,"tpIsLazy","isLazy",Ji],variation:[xe.None,"tpVariation","variation"],isEnabled:[xe.None,"tpIsEnabled","isEnabled"],className:[xe.None,"tpClassName","className"],onlyTextOverflow:[xe.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Ji],staticWidthHost:[xe.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Ji],data:[xe.None,"tpData","data"],useHostWidth:[xe.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Ji],hideOnEscape:[xe.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Ji],detectChangesComponent:[xe.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[xe.None,"tpPopperWidth","popperWidth"],customHost:[xe.None,"tpHost","customHost"],isVisible:[xe.HasDecoratorInputTransform,"tpIsVisible","isVisible",Ji]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[lm,bo]});let t=e;return t})();function cE(t,e){return t in e}var gH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=Dt(ie(ie(ie({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let f=sn.create({providers:[{provide:mH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=f,aE(r)?d.$viewOptions.context=ie({$implicit:d.hide.bind(d)},o.context):Kv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,ie(ie({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},Yv(this.globalConfig)),this.globalConfig.variations[a]),Yv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let f of fH(o.className))d.popper.classList.add(f);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return zO(i,l)}};e.\u0275fac=function(r){return new(r||e)(re(JO),re(KO),re(sn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vH(t={}){return rc([{provide:JO,useValue:t}])}var Rc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var mue=500,nr=mue+"ms ease",lE=Wr("skip",[Fn(":enter",[])]),Nc=Wr("fade",[Fn(":enter",[it({opacity:0}),Zn(nr,it({opacity:1}))]),Fn(":leave",[it({opacity:1,"pointer-events":"none"}),Zn(nr,it({opacity:0}))])]),XDe=Wr("scalefade",[Fn(":enter",[it({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Zn(nr,it({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Fn(":leave",[it({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Zn(nr,it({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),uE=Wr("crossfade",[Fn(":enter",[it({opacity:0}),Zn(nr,it({opacity:1}))]),Fn(":leave",[it({opacity:1,"pointer-events":"none",position:"absolute"}),Zn(nr,it({opacity:0}))])]),yH=Wr("enter",[Fn(":enter",[it({opacity:0}),Zn(nr,it({opacity:1}))])]),_H=Wr("leave",[Fn(":leave",[it({opacity:1}),Zn(nr,it({opacity:0}))])]),ZDe=Wr("hidden",[Fn("* => true",[it({opacity:"*"}),Zn(nr,it({opacity:0}))]),Fn("true => *",[it({opacity:0}),Zn(nr,it({opacity:"*"}))])]),dE=Wr("drawer2",[f$("0",it({height:0})),Fn("1 => void",[]),Fn("1 => *",[it({height:"*"}),Zn(nr,it({height:0}))]),Fn("0 => void",[it({height:0}),Zn(nr,it({height:0}))]),Fn("0 => *",[it({height:0}),Zn(nr,it({height:"*"}))])]),wH=Wr("drawer",[Fn(":enter",[it({height:0,opacity:0}),Zn(nr,it({height:"*",opacity:"*"}))]),Fn(":leave",[it({height:"*",opacity:"*"}),Zn(nr,it({height:0,opacity:0}))])]);var H=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(i?e[e.length-1]:void 0)}static findPrevious(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a>0;)if(i(e[--a]))return e[a];if(r){for(a=e.length-1;a>o;)if(i(e[--a]))return e[a]}return}}static getNext(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(i?e[0]:void 0)}static findNext(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a<e.length-1;)if(i(e[++a]))return e[a];if(r){for(a=0;a<o;)if(i(e[++a]))return e[a]}return}}static findClosest(e,n,i){if(!this.isEmpty(e)){let r=e.indexOf(n),o=0,a,l=!0,d=!0;for(;l||d;)if(o++,d&&(a=e[r+o],a||(d=!1),a&&(!i||i(a)))||l&&(a=e[r-o],a||(l=!1),a&&(!i||i(a))))return a;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var Fc=class extends Yn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(MS(1)).subscribe(e,n,i):super.subscribe(e)}};var Dn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new Fc(!1),this.changes=new Fc(!1),this.errors=new Fc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bt=class{};var ir=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function gue(t,e){if(t&1){let n=X();b(0,"i",4),k("mousedown",function(r){N(n);let o=x();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=x();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=x();return F(o.previousState(r))}),C()}if(t&2){let n=x();P("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function vue(t,e){if(t&1){let n=X();b(0,"i",5),k("mousedown",function(r){N(n);let o=x();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=x();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=x();return F(o.previousState(r))}),C()}}function yue(t,e){if(t&1){let n=X();b(0,"i",6),k("mousedown",function(r){N(n);let o=x();return F(o.onMouseDown(r))})("click",function(r){N(n);let o=x();return F(o.nextState(r))})("contextmenu",function(r){N(n);let o=x();return F(o.previousState(r))}),C()}}var bH=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new zt}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<ir.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<ir.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<ir.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<ir.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[ue],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(b(0,"div",0),B(1,gue,1,1,"i",1)(2,vue,1,0,"i",2)(3,yue,1,0,"i",3),C()),r&2&&(Ae("tri",o.tri),T(),P("ngIf",o.state==-1),T(),P("ngIf",o.state==0),T(),P("ngIf",o.state==1))},dependencies:[fe,ki,We],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var hE=class{static openYandexReverseImageSearch(e,n,i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(n.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));e.altKey?(navigator.clipboard.writeText(r),i.create(e.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}};var If=class{constructor(){this.images=[]}};var Sf=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(L(wi))},e.\u0275dir=At({type:e,selectors:[["","dragdrop",""]],inputs:{object:[xe.None,"dragdrop","object"],array:[xe.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function _ue(t,e){if(t&1){let n=X();b(0,"div",4),k("click",function(){let o=N(n).$implicit,a=x();return F(a.target=o)}),oe(1,"img",5),C()}if(t&2){let n=e.$implicit,i=x();Ae("active",n==i.target),P("dragdrop",n)("dragdropParent",i.images),T(),P("src",n.thumbnailLink,Oi)}}var CH=(()=>{let e=class e extends Bt{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.target=H.getFirst(this.images)}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-group-order"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,an)("keydown.escape",function(l){return o.close(l)},!1,an)},inputs:{images:"images"},standalone:!0,features:[wt,ue],decls:4,vars:2,consts:[[1,"image-container"],[1,"image-content",3,"src"],[1,"results"],["class","image-container",3,"active","dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"image",3,"src"]],template:function(r,o){r&1&&(b(0,"div",0),oe(1,"img",1),C(),b(2,"div",2),B(3,_ue,2,5,"div",3),C()),r&2&&(T(),P("src",o.target.contentLink,Oi),T(2),P("ngForOf",o.images))},dependencies:[fe,Ne,Sf],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{min-height:0;display:flex;justify-content:center}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{max-width:100%;padding:.3333333333rem .3333333333rem 0;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:120px;min-height:120px;padding:.3333333333rem;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container.active[_ngcontent-%COMP%]{outline:.1666666667rem solid var(--color-secondary);outline-offset:-.1666666667rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var fE=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){if(this.directlyBetterThan.includes(e))return!0;for(let n of this.directlyBetterThan)if(n.isBetterThan(e))return!0}getBetterThan(e=[]){for(let n of this.directlyBetterThan)H.push(e,n),n.getBetterThan(e);return e}};var Tf=class{constructor(e,n,i){if(this.data=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.currentQueueType="start",this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.data=e.map(r=>new fE(n(r),r)),this.maxHistoryLength=Math.min(10,Math.round(this.data.length/4)),i&&Object.keys(i).length>0){let r;for(let o of this.data)r=i[o.id]?.map(a=>this.data.find(l=>l.id==a)),r?.length>0&&(o.directlyBetterThan=r)}this.queue=H.shuffle(this.data.slice()),this.nextComparison()}nextComparison(){if(this.currentQueueType=="tiebreaker"){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,i,r;do{for(let o of this.data)r=o.directlyBetterThan.filter(a=>!e.includes(a)),r.length>n&&(n=r.length,i=r,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=i[0],a=i[1];o.isBetterThan(a)?(H.remove(this.resolvingTiesFor.directlyBetterThan,a),H.push(o.directlyBetterThan,a),this.nextComparison()):a.isBetterThan(o)?(H.remove(this.resolvingTiesFor.directlyBetterThan,o),H.push(a.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,a],this.history.unshift(o,a),this.updateLeaderboard())}else this.currentComparison=null}else{let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserDecision(e,n):n.isBetterThan(e)?this.handleUserDecision(n,e):(this.currentComparison=[e,n],this.updateLeaderboard())}}updateLeaderboard(){this.leaderboard.length=0;let e=this.first;for(;e;)this.leaderboard.push(e),e.directlyBetterThan.length==1?e=e.directlyBetterThan[0]:e=null;let n=[];this.data.filter(i=>!this.leaderboard.includes(i)).forEach(i=>n.push([i,i.getBetterThan().length])),n.sort((i,r)=>r[1]-i[1]),H.push(this.leaderboard,n.map(i=>i[0]))}handleUserDecision(e,n){switch(this.currentQueueType){case"start":if(H.push(this.winnersQueue,e),H.push(this.losersQueue,n),H.push(e.directlyBetterThan,n),this.queue.length<=1){let i=this.queue.shift();i&&(this.winnersQueue.unshift(i),this.losersQueue.push(i)),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":H.push(this.winnersQueue,e),H.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":H.push(this.losersQueue,n),H.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":H.remove(this.resolvingTiesFor.directlyBetterThan,n),H.push(e.directlyBetterThan,n);break}this.nextComparison()}getQueueLength(){return this.queue?.length}reset(){this.leaderboard.length=0,this.data.forEach(e=>e.directlyBetterThan.length=0),this.queue=H.shuffle(this.data.slice()),this.nextComparison()}};var pE=class{};var mE=class extends pE{};var Pr=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Df=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Cr(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Cr(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Cr(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return Cr(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return Cr(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return Cr(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Cr(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?Cr(this.http.post(e,n).pipe(Le(i=>i?i.files:[]))):Cr(this.http.get(e).pipe(Le(i=>i?i.files:[])))}};var xf=(()=>{let e=class e extends Df{constructor(i){super(i),this.http=i,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let i=sessionStorage.getItem("dataFileId");i&&(this._fileId=i)}return this._fileId}set dataFileId(i){this._fileId=i,sessionStorage.setItem("dataFileId",i)}getData(){return E(this,null,function*(){let i="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield Cr(this.http.get(i,{params:{alt:"media"},responseType:"json"})).catch(r=>r)})}getBase64(i){return E(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(re(Pl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ur=(()=>{let e=class e{constructor(i,r,o,a){this.sanitizer=i,this.applicationService=r,this.googleService=o,this.dialogService=a,this.updateDelay=new Rc(5e3),this.fullscreenVisible=sc(!1),this.filter=sc([]),this.target=sc(null),this.tagCounts={}}processData(){return E(this,null,function*(){let i=yield this.googleService.getData();return this.dataFolderId=i.dataFolderId,this.archiveFolderId=i.archiveFolderId,this.heartsFilter=i.heartsFilter,this.bookmarksFilter=i.bookmarksFilter,this.settings=i.settings,this.groupSizeFilterMin=i.groupSizeFilterMin,this.groupSizeFilterMax=i.groupSizeFilterMax,this.comparison=i.comparison,this.tagGroups=i.tagGroups,this.tagGroups.forEach(r=>r.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase())),i})}processImages(i,r=this.dataFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(f=>Pr.isFolder(f)))this.processImages(i,d.id,o,a);if(H.push(o,l.filter(d=>Pr.isImage(d)||Pr.isVideo(d)).map(d=>this.metaToImage(d,i.imageProperties.find(f=>f.id==d.id),r,this.applicationService.reduceBandwidth))),--a.calls==0){this.images=o,this.groups=i.groupProperties.map(d=>{let f=new If;return f.images=this.images.filter(p=>d.imageIds.includes(p.id)),f.images.sort((p,v)=>d.imageIds.indexOf(p.id)-d.imageIds.indexOf(v.id)),f.images.forEach(p=>p.group=f),f}),this.refreshFilter(),this.target.set(H.getFirst(this.filter()));for(let d of H.difference(i.imageProperties,this.images,(f,p)=>f.id==p.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),H.remove(this.images,this.images.find(f=>f.id==d.id));this.refreshTagCounts(),this.applicationService.loading.next(!1)}})}metaToImage(i,r,o,a){let l=new mE;return l.id=i.id,l.name=i.name,l.mimeType=i.mimeType,l.parentFolderId=o,a?l.thumbnailLink=i.thumbnailLink:l.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),Pr.isImage(l)?(l.imageMediaMetadata=i.imageMediaMetadata,l.aspectRatio=l.imageMediaMetadata.width/l.imageMediaMetadata.height,l.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pr.isVideo(l)&&(l.videoMediaMetadata=i.videoMediaMetadata,l.videoMediaMetadata||(l.videoMediaMetadata={}),(!l.videoMediaMetadata.width||l.videoMediaMetadata.width==0)&&(l.videoMediaMetadata.width=1920),(!l.videoMediaMetadata.height||l.videoMediaMetadata.height==0)&&(l.videoMediaMetadata.height=1080),l.aspectRatio=l.videoMediaMetadata.width/l.videoMediaMetadata.height,l.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+l.id+"/preview")),r?(l.heart=r.heart,l.bookmark=r.bookmark,l.tags=r.tags||[],l.likes=r.likes||0):(this.settings.autoBookmark&&(l.bookmark=!0),l.tags=[],l.likes=0),l}updateData(i=!1){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(r=>({id:r.id,heart:r.heart,bookmark:r.bookmark,tags:r.tags,likes:r.likes})),groupProperties:this.groups.filter(r=>r.images?.length>1).map(r=>({imageIds:r.images.map(o=>o.id)})),tagGroups:this.tagGroups,heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax,comparison:this.comparison}).then(r=>{r||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})}),i&&this.updateDelay.complete()}refreshTagCounts(){if(Object.keys(this.tagCounts).length==0)for(let i of this.tagGroups)for(let r of i.tags)this.tagCounts[r.id]=0;else for(let i in this.tagCounts)this.tagCounts[i]=0;this.tagCounts._heart=this.images.filter(i=>i.heart).length,this.tagCounts._bookmark=this.images.filter(i=>i.bookmark).length;for(let i of this.images)for(let r of i.tags)this.tagCounts[r]++}setRandomTarget(){if(!H.isEmpty(this.filter())){let i,r=this.target();r?r.group?i=H.getRandom(this.filter(),r.group.images):i=H.getRandom(this.filter(),[r]):i=H.getRandom(this.filter()),i&&this.target.set(i)}}setRandomGroupTarget(){let i=this.target();i?.group&&this.target.set(H.getRandom(i.group.images,[i]))}refreshFilter(i){i?this.actuallyRefreshFilter(i):this.images.forEach(r=>this.actuallyRefreshFilter(r)),this.filter.set(this.images.filter(r=>r.passesFilter))}actuallyRefreshFilter(i){i.group?i.group.open?i.passesFilter=this.doesPassFilter(i):i.group.images.forEach(r=>r.passesFilter=this.doesPassFilter(r)):i.passesFilter=this.doesPassFilter(i)}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark||this.settings.showVideos==-1&&Pr.isVideo(i))return!1;let r=i.group?i.group.images.length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;let a;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){i.heart=!i.heart,this.tagCounts._heart=this.images.filter(r=>r.heart).length,this.refreshFilter(i),this.updateData()}toggleBookmark(i){i.bookmark=!i.bookmark,this.tagCounts._bookmark=this.images.filter(r=>r.bookmark).length,this.refreshFilter(i),this.updateData()}addTag(i,r){i.tags.includes(r)||i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}toggleTag(i,r){i.tags.includes(r)?H.remove(i.tags,r):i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}like(i){i.likes++,this.updateData()}dislike(i){i.likes>0&&(i.likes--,this.updateData())}delete(i,r,o=!0){return E(this,null,function*(){if(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(r?"archive":"delete")+" this image?"],"Yes","No")))return;this.applicationService.loading.next(!0);let a;if(i.group?(a=H.getNext(i.group.images,i),a||(a=H.getPrevious(i.group.images,i))):(a=H.getNext(this.masonryImages,this.masonryTargetReference),a||(a=H.getPrevious(this.masonryImages,this.masonryTargetReference))),r?yield this.googleService.move(i.id,i.parentFolderId,this.archiveFolderId):yield this.googleService.trash(i.id),H.remove(this.images,this.images.find(l=>l.id==i.id)),i.group&&(i.group.images.length>2?H.remove(i.group.images,i):(i.group.images.forEach(l=>delete l.group),H.remove(this.groups,i.group))),this.comparison!=null)for(let l of Object.values(this.comparison))l.includes(i.id)&&H.remove(l,i.id);this.refreshFilter(),this.target.set(a),this.refreshTagCounts(),this.updateData(!0),this.applicationService.loading.next(!1)})}};e.\u0275fac=function(r){return new(r||e)(re(aP),re(Dn),re(xf),re($t))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wue(t,e){if(t&1){let n=X();b(0,"div",5)(1,"div",6),k("click",function(){N(n);let r=x();return F(r.onImageClick(r.tournament.currentComparison[0],r.tournament.currentComparison[1]))}),oe(2,"img",7),C(),oe(3,"div",8),b(4,"div",6),k("click",function(){N(n);let r=x();return F(r.onImageClick(r.tournament.currentComparison[1],r.tournament.currentComparison[0]))}),oe(5,"img",7),C()()}if(t&2){let n=x();T(2),P("src",n.tournament.currentComparison[0].object.thumbnailLink,Oi),T(3),P("src",n.tournament.currentComparison[1].object.thumbnailLink,Oi)}}function bue(t,e){if(t&1&&(b(0,"span"),R(1),C()),t&2){let n=x();T(),tw("Approximate comparisons until preliminary results are shown: ",n.tournament.getQueueLength(),".")}}function Cue(t,e){if(t&1&&(b(0,"div",9),oe(1,"img",7),C()),t&2){let n=e.$implicit;T(),P("src",n.object.thumbnailLink,Oi)}}var EH=(()=>{let e=class e extends Bt{constructor(i){super(),this.stateService=i,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new Tf(this.images,i=>i.id,this.stateService.comparison)}onImageClick(i,r){this.tournament.handleUserDecision(i,r)}reset(){this.tournament.reset()}save(){let i={};for(let r of this.tournament.data)i[r.id]=r.directlyBetterThan.map(o=>o.id);this.stateService.comparison=i,this.stateService.updateData(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(L(ur))},e.\u0275cmp=le({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[wt,ue],decls:5,vars:3,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],[4,"ngIf"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(B(0,wue,6,2,"div",0),oe(1,"div",1),b(2,"div",2),B(3,bue,2,1,"span",3)(4,Cue,2,1,"div",4),C()),r&2&&(P("ngIf",o.tournament.currentComparison),T(3),P("ngIf",o.tournament.leaderboard.length==0),T(),P("ngForOf",o.tournament.leaderboard))},dependencies:[fe,Ne,We],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();function Eue(t,e){if(t&1){let n=X();b(0,"span",12),k("click",function(){N(n);let r=x();return F(r.reorderGroup())}),R(1,"Reorder Group"),C()}}var IH=(()=>{let e=class e extends Bt{constructor(i,r,o,a,l){super(),this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){}modifyGroup(){let i,r=this.stateService.target();r.group?(i=r.group.open,r.group.open=!0,this.stateService.modifyingGroup=r.group.images.slice()):this.stateService.modifyingGroup=[r];let o=[{text:()=>"Confirm: "+this.stateService.modifyingGroup?.length+" images",click:()=>null},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(a=>{if(a)if(this.stateService.modifyingGroup.length>1){if(r.group)r.group.images=this.stateService.modifyingGroup,r.group.images.forEach(l=>l.group=r.group);else{let l=new If;l.images=this.stateService.modifyingGroup,l.images.forEach(d=>d.group=l),this.stateService.groups.push(l)}this.stateService.updateData()}else r.group&&(r.group.images.forEach(l=>l.group=null),H.remove(this.stateService.groups,r.group));r.group&&(r.group.open=i),this.stateService.modifyingGroup=null,r.group&&r.group.images.forEach(l=>this.stateService.refreshFilter(l))}),r.group&&r.group.images.forEach(a=>this.stateService.refreshFilter(a)),this.close()}reorderGroup(){this.dialogService.create(CH,{images:this.stateService.target().group.images.slice()}).then(i=>{if(i){let r=new Map;i.forEach((o,a)=>r.set(o.id,a)),this.stateService.target().group.images.sort((o,a)=>r.get(o.id)-r.get(a.id)),this.stateService.refreshFilter(),this.stateService.updateData()}}),this.close()}openYandexReverseImageSearch(i){hE.openYandexReverseImageSearch(i,this.stateService.target(),this.tippyService),this.close()}startImageComparison(){this.dialogService.create(EH,{images:this.stateService.images}),this.close()}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i)),this.close()}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name),this.close()}onShowVideosStateChange(i){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=i.state}onAutoBookmarkStateChange(i){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=i.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.refreshFilter(),this.needsDataUpdate&&this.stateService.updateData()),this.resolve(!0)}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(ur),L(xf),L($t),L(gH))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.close(l)},!1,an)("keydown.escape",function(l){return o.close(l)},!1,an)},standalone:!0,features:[wt,ue],decls:22,vars:3,consts:[["tp","Modify Group",1,"button",3,"click"],["class","button","tp","Reorder Group",3,"click",4,"ngIf"],["tp","Yandex Reverse Image Search",1,"button",3,"click"],["tp","Pairwise Comparison",1,"button",3,"click"],["tp","Toggle Brightness Mode",1,"button",3,"click"],["tp","Copy Base64 Data",1,"button","mobile-display-none",3,"click"],["tp","Open in Google Drive",1,"button","mobile-display-none",3,"click"],[1,"h-separator"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"],["tp","Reorder Group",1,"button",3,"click"]],template:function(r,o){if(r&1&&(b(0,"span",0),k("click",function(){return o.modifyGroup()}),R(1,"Modify Group"),C(),B(2,Eue,2,0,"span",1),b(3,"span",2),k("click",function(l){return o.openYandexReverseImageSearch(l)}),R(4,"Yandex RIS"),C(),b(5,"span",3),k("click",function(){return o.startImageComparison()}),R(6,"Comparison"),C(),b(7,"span",4),k("click",function(){return o.applicationService.toggleTheme()}),R(8,"Theme"),C(),b(9,"span",5),k("click",function(){return o.copyTargetBase64()}),R(10,"Base64"),C(),b(11,"span",6),k("click",function(){return o.openTargetInGoogleDrive()}),R(12,"Google Drive"),C(),oe(13,"div",7),b(14,"div",8)(15,"app-switch",9),k("stateChange",function(l){return o.onShowVideosStateChange(l)}),C(),b(16,"span",10),R(17,"Show Videos"),C()(),b(18,"div",8)(19,"app-switch",11),k("stateChange",function(l){return o.onAutoBookmarkStateChange(l)}),C(),b(20,"span",10),R(21,"Auto Bookmark"),C()()),r&2){let a;T(2),P("ngIf",(a=o.stateService.target())==null?null:a.group),T(13),P("state",o.stateService.settings.showVideos),T(4),P("state",o.stateService.settings.autoBookmark)}},dependencies:[fe,We,bH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var Iue=["content"];function Sue(t,e){if(t&1){let n=X();b(0,"div",4)(1,"span"),R(2),C(),b(3,"i",5),k("click",function(){N(n);let r=x();return F(r.close())}),C()()}if(t&2){let n=x();T(2),ce(n.contentInstance.configuration.title)}}function Tue(t,e){t&1&&(b(0,"div",6),M1(1,null,7),C())}function Due(t,e){if(t&1){let n=X();b(0,"i",11),k("click",function(){N(n);let r=x(2).$implicit;return F(r.click&&r.click())}),C()}if(t&2){let n=x(2).$implicit,i=x();Ej("icon-button "+i.getIconClass(n)),Ae("disabled",i.isDisabled(n))}}function xue(t,e){if(t&1){let n=X();b(0,"div",12),k("click",function(){N(n);let r=x(2).$implicit;return F(r.click&&r.click())}),R(1),C()}if(t&2){let n=x(2).$implicit,i=x();Ae("disabled",i.isDisabled(n)),T(),ce(i.getText(n))}}function Aue(t,e){if(t&1&&(at(0),B(1,Due,1,4,"i",9)(2,xue,2,3,"div",10),ct()),t&2){let n=x().$implicit;T(),P("ngIf",n.iconClass),T(),P("ngIf",n.text)}}function Mue(t,e){if(t&1&&(at(0),B(1,Aue,3,2,"ng-container",8),ct()),t&2){let n=e.$implicit,i=x();T(),P("ngIf",!i.isHidden(n))}}var SH=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){if(this.contentComponentType){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}else{let i=this.inputs.buttons;for(let r of i)if(r.click){let o=r.click;r.click=()=>{o(),this.resolve(!0)}}else r.click=()=>this.resolve(!1);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:i},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let r of i)r.text&&typeof r.text=="function"&&(r.text=r.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(i){return i.hidden&&i.hidden()}isDisabled(i){return i.disabled&&i.disabled()}getText(i){if(i.text)return typeof i.text=="function"?i.text():i.text}getIconClass(i){if(i.iconClass)return typeof i.iconClass=="function"?i.iconClass():i.iconClass}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&kj(Iue,5,wi),r&2){let a;Z0(a=ew())&&(o.containerRef=a.first)}},hostVars:5,hostBindings:function(r,o){r&1&&k("keydown.escape",function(l){return o.close(l)},!1,an),r&2&&(Tl("@overlayFade",o.isVisible),Ae("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[ue],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(r,o){r&1&&(B(0,Sue,4,1,"div",0)(1,Tue,3,0,"div",1),b(2,"div",2),B(3,Mue,2,1,"ng-container",3),C()),r&2&&(P("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),T(),P("ngIf",o.contentComponentType),T(2),P("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[fe,Ne,We],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.3333333333rem;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[Wr("overlayFade",[Fn("* => visible",[it({opacity:0}),Zn("250ms ease",it({opacity:1}))]),Fn("* => hidden",[it({opacity:1}),Zn("250ms ease",it({opacity:0}))])])]}});let t=e;return t})();function Pue(t,e){if(t&1&&(b(0,"span"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}var TH=(()=>{let e=class e extends Bt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,an)("keydown.escape",function(l){return o.close(l)},!1,an)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},standalone:!0,features:[wt,ue],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(b(0,"div",0),B(1,Pue,2,1,"span",1),C()),r&2&&(T(),P("ngForOf",o.messages))},dependencies:[fe,Ne],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();function Oue(t,e){if(t&1&&(b(0,"span"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}var DH=(()=>{let e=class e extends Bt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,an)("keydown.escape",function(l){return o.close(l)},!1,an)},inputs:{title:"title",messages:"messages"},standalone:!0,features:[wt,ue],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(b(0,"div",0),B(1,Oue,2,1,"span",1),C()),r&2&&(T(),P("ngForOf",o.messages))},dependencies:[fe,Ne],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var $t=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}openSettings(){return this.create(IH)}createMessage(i,r){return this.create(DH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(TH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r,o=!0,a="center"){let l=ow(SH,{environmentInjector:this.injector}),d=l.instance;return d.contentComponentType=i,d.inputs=r,d.blurOverlay=o,d.position=a,d.active=()=>H.isLast(this.stack,d),d.result.then(()=>{H.remove(this.stack,d),setTimeout(()=>{this.appRef.detachView(l.hostView),l.destroy()},250)}),this.stack.push(d),this.appRef.attachView(l.hostView),document.body.firstElementChild.appendChild(l.location.nativeElement),l.changeDetectorRef.detectChanges(),d.result}};e.\u0275fac=function(r){return new(r||e)(re(cs),re(di))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kue(t,e){t&1&&oe(0,"div",3),t&2&&P("@fade",void 0)}function Rue(t,e){t&1&&oe(0,"span",4),t&2&&P("@fade",void 0)}var xH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Rc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||H.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L($t))},e.\u0275cmp=le({type:e,selectors:[["app-root"]],standalone:!0,features:[ue],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(B(0,kue,1,1,"div",0),oe(1,"div",1),B(2,Rue,1,1,"span",2),oe(3,"router-outlet")),r&2&&(P("ngIf",o.isBlurOverlayVisible()),T(),Ir("background-color",o.getLoadingBarColor()),T(),P("ngIf",o.applicationService.loading.value))},dependencies:[fe,We,Fv],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Nc]}});let t=e;return t})();var LH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(L(Eo),L(Xt))},e.\u0275dir=At({type:e});let t=e;return t})(),_E=(()=>{let e=class e extends LH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=At({type:e,features:[wt]});let t=e;return t})(),ey=new we("");var Nue={provide:ey,useExisting:ic(()=>Yt),multi:!0};function Fue(){let t=ia()?ia().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Lue=new we(""),Yt=(()=>{let e=class e extends LH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Fue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(L(Eo),L(Xt),L(Lue,8))},e.\u0275dir=At({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[oh([Nue]),wt]});let t=e;return t})();var Vue=new we(""),jue=new we("");function VH(t){return t!=null}function jH(t){return xl(t)?Kt(t):t}function UH(t){let e={};return t.forEach(n=>{e=n!=null?ie(ie({},e),n):e}),Object.keys(e).length===0?null:e}function BH(t,e){return e.map(n=>n(t))}function Uue(t){return!t.validate}function $H(t){return t.map(e=>Uue(e)?e:n=>e.validate(n))}function Bue(t){if(!t)return null;let e=t.filter(VH);return e.length==0?null:function(n){return UH(BH(n,e))}}function HH(t){return t!=null?Bue($H(t)):null}function $ue(t){if(!t)return null;let e=t.filter(VH);return e.length==0?null:function(n){let i=BH(n,e).map(jH);return SS(i).pipe(Le(UH))}}function zH(t){return t!=null?$ue($H(t)):null}function AH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Hue(t){return t._rawValidators}function zue(t){return t._rawAsyncValidators}function ZO(t){return t?Array.isArray(t)?t:[t]:[]}function vE(t,e){return Array.isArray(t)?t.includes(e):t===e}function MH(t,e){let n=ZO(e);return ZO(t).forEach(r=>{vE(n,r)||n.push(r)}),n}function PH(t,e){return ZO(e).filter(n=>!vE(t,n))}var yE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ek=class extends yE{get formDirective(){return null}get path(){return null}},Zv=class extends yE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tk=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},que={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WAe=Dt(ie({},que),{"[class.ng-submitted]":"isSubmitted"}),un=(()=>{let e=class e extends tk{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(Zv,2))},e.\u0275dir=At({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ae("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[wt]});let t=e;return t})();var Jv="VALID",gE="INVALID",Af="PENDING",Xv="DISABLED";function Gue(t){return(wE(t)?t.validators:t)||null}function Wue(t){return Array.isArray(t)?HH(t):t||null}function Kue(t,e){return(wE(e)?e.asyncValidators:t)||null}function Que(t){return Array.isArray(t)?zH(t):t||null}function wE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var nk=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jv}get invalid(){return this.status===gE}get pending(){return this.status==Af}get disabled(){return this.status===Xv}get enabled(){return this.status!==Xv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PH(e,this._rawAsyncValidators))}hasValidator(e){return vE(this._rawValidators,e)}hasAsyncValidator(e){return vE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Af,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xv,this.errors=null,this._forEachChild(i=>{i.disable(Dt(ie({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Dt(ie({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jv,this._forEachChild(i=>{i.enable(Dt(ie({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Dt(ie({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jv||this.status===Af)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xv:Jv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Af,this._hasOwnPendingAsyncValidator=!0;let n=jH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Xv:this.errors?gE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Af)?Af:this._anyControlsHaveStatus(gE)?gE:Jv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Que(this._rawAsyncValidators)}};var qH=new we("CallSetDisabledState",{providedIn:"root",factory:()=>ik}),ik="always";function Yue(t,e){return[...e.path,t]}function Jue(t,e,n=ik){Zue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ede(t,e),nde(t,e),tde(t,e),Xue(t,e)}function OH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zue(t,e){let n=Hue(t);e.validator!==null?t.setValidators(AH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=zue(t);e.asyncValidator!==null?t.setAsyncValidators(AH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();OH(e._rawValidators,r),OH(e._rawAsyncValidators,r)}function ede(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&GH(t,e)})}function tde(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&GH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function GH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nde(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ide(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function rde(t){return Object.getPrototypeOf(t.constructor)===_E}function ode(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Yt?n=o:rde(o)?i=o:r=o}),r||i||n||null}function kH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sde=class extends nk{constructor(e=null,n,i){super(Gue(n),Kue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ade={provide:Zv,useExisting:ic(()=>tn)},NH=Promise.resolve(),tn=(()=>{let e=class e extends Zv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new sde,this._registered=!1,this.name="",this.update=new zt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ode(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),ide(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){NH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Ji(r);NH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Yue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(L(ek,9),L(Vue,10),L(jue,10),L(ey,10),L(na,8),L(qH,8))},e.\u0275dir=At({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[xe.None,"disabled","isDisabled"],model:[xe.None,"ngModel","model"],options:[xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oh([ade]),wt,bo]});let t=e;return t})();var cde={provide:ey,useExisting:ic(()=>Ru),multi:!0},Ru=(()=>{let e=class e extends _E{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[oh([cde]),wt]});let t=e;return t})();var lde={provide:ey,useExisting:ic(()=>eo),multi:!0};function WH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function ude(t){return t.split(":")[0]}var eo=(()=>{let e=class e extends _E{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=WH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=ude(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([lde]),wt]});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(WH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(Xt),L(Eo),L(eo,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),dde={provide:ey,useExisting:ic(()=>KH),multi:!0};function FH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function hde(t){return t.split(":")[0]}var KH=(()=>{let e=class e extends _E{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let f=l[d],p=this._getOptionValue(f.value);o.push(p)}}else{let l=r.options;for(let d=0;d<l.length;d++){let f=l[d];if(f.selected){let p=this._getOptionValue(f.value);o.push(p)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=hde(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=lr(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[oh([dde]),wt]});let t=e;return t})(),Os=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(FH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(FH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(Xt),L(Eo),L(KH,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var fde=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Qi({});let t=e;return t})();var St=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:qH,useValue:i.callSetDisabledState??ik}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ki({type:e}),e.\u0275inj=Qi({imports:[fde]});let t=e;return t})();var Lc=(()=>{let e=class e{constructor(i){this.elementRef=i,this.create=new zt}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(L(Xt))},e.\u0275dir=At({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var QH=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new rk,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(L(wi),L(_o))},e.\u0275dir=At({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),rk=class{};var xt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var Mf=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jt=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(Jt||{});var ty=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var bt=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[],notesVisible:!0}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:ty(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:ty(),logic:[this.createLogic(Jt.ALWAYS)],disabled:this.createCondition(Jt.NEVER),hidden:this.createCondition(Jt.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var Pf=(()=>{let e=class e{constructor(){this.openNotes=[]}openNote(i,r){r||this.openNotes.length==0?H.push(this.openNotes,i):this.openNotes[this.openNotes.indexOf(this.focusNote)]=i,this.focusNote=i}closeNote(i){i==this.focusNote&&(this.focusNote=H.nearestRightFirst(this.openNotes,this.openNotes.indexOf(i))),H.remove(this.openNotes,i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dn=(()=>{let e=class e{constructor(i){this.notesService=i}getCurrentNode(){return this.currentScenario?.currentNode}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);this.notesService.openNote(this.scenarios[0].notes[0],!0);for(let r of this.scenarios){r.currentNode=r.nodes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.notes)o.parentScenario=r,o.wordCount=xt.getWordCount(o.text);for(let o of r.buttons)o.logic||(o.logic=[bt.createLogic(Jt.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({title:r.title,text:r.text}))}))}}};e.\u0275fac=function(r){return new(r||e)(re(Pf))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vc=(()=>{let e=class e extends Df{constructor(i,r,o,a,l){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.dialogService=l,this.delay=new Rc(3e3),this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-",this.FIELDS="id,name,mimeType,appProperties"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(Mf).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.next(!1)}).catch(a=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(a)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(re(Pl),re(sn),re(Dn),re(dn),re($t))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pde(t,e){t&1&&oe(0,"div",8)}function mde(t,e){if(t&1){let n=X();at(0),B(1,pde,1,0,"div",1),b(2,"div",2),k("click",function(){let o=N(n).$implicit,a=x();return F(a.notesService.focusNote=o)}),b(3,"div",3)(4,"div",4)(5,"span"),R(6),C(),b(7,"span"),R(8,"/"),C(),b(9,"input",5),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.title,r)||(a.title=r),F(r)}),k("input",function(){N(n);let r=x();return F(r.googleService.updateAdventure())}),C()(),b(10,"i",6),k("click",function(){let o=N(n).$implicit,a=x();return F(a.notesService.closeNote(o))}),C()(),b(11,"textarea",7),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.text,r)||(a.text=r),F(r)}),k("input",function(){N(n);let r=x();return F(r.onNoteInput())})("create",function(r){N(n);let o=x();return F(o.initTab(r))}),C()(),ct()}if(t&2){let n=e.$implicit,i=e.index,r=x();T(),P("ngIf",i!=0),T(3),Ae("highlight",n==r.notesService.focusNote),T(2),ce(n.parentScenario.label),T(3),Be("ngModel",n.title),T(2),Be("ngModel",n.text)}}var JH=(()=>{let e=class e{constructor(i,r,o,a){this.googleService=i,this.applicationService=r,this.stateService=o,this.notesService=a,this.applicationService.loading.next(!0)}ngOnInit(){}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){this.notesService.focusNote.wordCount=xt.getWordCount(this.notesService.focusNote.text),this.googleService.updateAdventure()}};e.\u0275fac=function(r){return new(r||e)(L(Vc),L(Dn),L(dn),L(Pf))},e.\u0275cmp=le({type:e,selectors:[["app-notes"]],standalone:!0,features:[ue],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","v-separator",4,"ngIf"],[1,"note-container",3,"click"],[1,"note-header"],[1,"note-navigation"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["tp","Close",1,"icon-button","fa-solid","fa-times",3,"click"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","create"],[1,"v-separator"]],template:function(r,o){r&1&&B(0,mde,12,6,"ng-container",0),r&2&&P("ngForOf",o.notesService.openNotes)},dependencies:[fe,Ne,We,St,Yt,un,tn,Lc],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s;gap:.3333333333rem}[_nghost-%COMP%]   .note-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;flex:1}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding:0;flex:1}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0;line-height:1.25rem}"]});let t=e;return t})();var CE=class extends Fc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function gde(t,e){if(t&1){let n=X();at(0),b(1,"div",2)(2,"span",3),R(3,"Weight"),C()(),b(4,"div",4)(5,"input",12),$e("ngModelChange",function(r){N(n);let o=x();return ze(o.action.weight,r)||(o.action.weight=r),F(r)}),k("input",function(r){N(n);let o=x();return F(o.onWeightChange(r))}),C(),b(6,"i",13),k("click",function(){N(n);let r=x();return F(r.onRemoveActionClick())}),C()(),ct()}if(t&2){let n=x();T(5),Be("ngModel",n.action.weight)}}function vde(t,e){t&1&&oe(0,"div",8)}function yde(t,e){if(t&1&&(b(0,"option",14),R(1),C()),t&2){let n=e.$implicit,i=x();P("ngValue",n.id),T(),Sr("(",i.getParentScenario(n).label," ",n.description,")")}}function _de(t,e){if(t&1){let n=X();b(0,"div",4)(1,"input",5),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.value,r)||(a.value=r),F(r)}),C(),b(2,"i",15),k("click",function(){let o=N(n).$implicit,a=x();return F(a.removeStoryChange(o))}),C()()}if(t&2){let n=e.$implicit;T(),Be("ngModel",n.value)}}function wde(t,e){if(t&1&&(b(0,"option",14),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ce(n.id)}}function bde(t,e){if(t&1&&(b(0,"option",14),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ce(n.value)}}function Cde(t,e){if(t&1){let n=X();b(0,"div",4)(1,"select",5),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.id,r)||(a.id=r),F(r)}),B(2,wde,2,2,"option",6),C(),b(3,"select",5),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.value,r)||(a.value=r),F(r)}),B(4,bde,2,2,"option",6),C(),b(5,"i",16),k("click",function(){let o=N(n).$implicit,a=x();return F(a.removeVariableChange(o))}),C()()}if(t&2){let n=e.$implicit,i=x();T(),Be("ngModel",n.id),T(),P("ngForOf",i.getAvailableVariables()),T(),Ae("disabled",!n.id),Be("ngModel",n.value),T(),P("ngForOf",i.getVariableOptions(n))}}var XH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new zt}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){H.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){H.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(bt.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(L(io),L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[ue],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(B(0,gde,7,1,"ng-container",0)(1,vde,1,0,"div",1),b(2,"div",2)(3,"span",3),R(4,"Next Node"),C()(),b(5,"div",4)(6,"select",5),$e("ngModelChange",function(l){return ze(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),B(7,yde,2,3,"option",6),C(),b(8,"i",7),k("click",function(){return o.createNode()}),C()(),oe(9,"div",8),b(10,"div",2)(11,"span",3),R(12,"Story Changes"),C(),b(13,"i",9),k("click",function(){return o.createStoryChange()}),C()(),B(14,_de,3,1,"div",10),oe(15,"div",8),b(16,"div",2)(17,"span",3),R(18,"Variable Changes"),C(),b(19,"i",11),k("click",function(){return o.createVariableChange()}),C()(),B(20,Cde,6,6,"div",10)),r&2&&(P("ngIf",o.weightVisible),T(),P("ngIf",o.weightVisible),T(5),Be("ngModel",o.action.nextNodeId),T(),P("ngForOf",o.getAvailableNodes()),T(7),P("ngForOf",o.action.storyChanges),T(6),P("ngForOf",o.action.variableChanges))},dependencies:[fe,Ne,We,St,Ps,Os,Yt,Ru,eo,un,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Ede(t,e){if(t&1&&(b(0,"option"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}function Ide(t,e){if(t&1){let n=X();b(0,"div")(1,"select",3),$e("ngModelChange",function(r){N(n);let o=x();return ze(o.logic.operator,r)||(o.logic.operator=r),F(r)}),B(2,Ede,2,1,"option",1),C(),b(3,"i",4),k("click",function(){N(n);let r=x();return F(r.onRemoveLogicClick())}),C()()}if(t&2){let n=x();T(),Ae("select-disabled",n.logic.conditions.length==0),Be("ngModel",n.logic.operator),T(),P("ngForOf",n.getLogicalOperators())}}function Sde(t,e){if(t&1&&(b(0,"option",8),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.id)}}function Tde(t,e){if(t&1&&(b(0,"option"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}function Dde(t,e){if(t&1&&(b(0,"option",8),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.value)}}function xde(t,e){if(t&1){let n=X();b(0,"div")(1,"select",5),$e("ngModelChange",function(r){N(n);let o=x().$implicit;return ze(o.variable,r)||(o.variable=r),F(r)}),B(2,Sde,2,2,"option",6),C(),b(3,"select",3),$e("ngModelChange",function(r){N(n);let o=x().$implicit;return ze(o.operator,r)||(o.operator=r),F(r)}),B(4,Tde,2,1,"option",1),C(),b(5,"select",5),$e("ngModelChange",function(r){N(n);let o=x().$implicit;return ze(o.value,r)||(o.value=r),F(r)}),B(6,Dde,2,2,"option",6),C(),b(7,"span",7),k("click",function(){N(n);let r=x().$implicit,o=x();return F(o.onRemoveConditionClick(r))}),C()()}if(t&2){let n=x().$implicit,i=x();T(),Be("ngModel",n.variable),P("compareWith",i.compareVariables),T(),P("ngForOf",i.stateService.getVariables()),T(),Be("ngModel",n.operator),T(),P("ngForOf",i.getComparisonOperators()),T(),Ae("disabled",!n.variable.id),Be("ngModel",n.value),P("compareWith",i.compareOptions),T(),P("ngForOf",n.variable.options)}}function Ade(t,e){if(t&1){let n=X();b(0,"div")(1,"span",9)(2,"input",10),$e("ngModelChange",function(r){N(n);let o=x().$implicit;return ze(o.chance,r)||(o.chance=r),F(r)}),k("input",function(r){N(n);let o=x().$implicit,a=x();return F(a.onChanceChange(o,r))}),C(),R(3,"%"),C(),b(4,"span",7),k("click",function(){N(n);let r=x().$implicit,o=x();return F(o.onRemoveConditionClick(r))}),C()()}if(t&2){let n=x().$implicit;T(2),Be("ngModel",n.chance)}}function Mde(t,e){if(t&1&&(at(0),B(1,xde,8,10,"div",0)(2,Ade,5,1,"div",0),ct()),t&2){let n=e.$implicit,i=x();T(),P("ngIf",i.isVariableCondition(n)),T(),P("ngIf",i.isChanceCondition(n))}}function Pde(t,e){if(t&1){let n=X();b(0,"i",13),k("click",function(){N(n);let r=x(2);return F(r.createChanceCheck())}),C()}}function Ode(t,e){if(t&1){let n=X();b(0,"div")(1,"i",11),k("click",function(){N(n);let r=x();return F(r.createVariableCheck())}),C(),B(2,Pde,1,0,"i",12),C()}if(t&2){let n=x();T(2),P("ngIf",!n.hasChanceCheck())}}function kde(t,e){t&1&&oe(0,"div",14)}function Rde(t,e){if(t&1){let n=X();at(0),b(1,"div",15)(2,"span",16),R(3,"Action"),C(),b(4,"i",17),k("click",function(){N(n);let r=x();return F(r.createAction())}),C()(),b(5,"app-action-editor",18),k("removeAction",function(r){N(n);let o=x();return F(o.onRemoveAction(r))}),C(),ct()}if(t&2){let n=e.$implicit,i=x();T(5),P("action",n)("weightVisible",i.logic.actions.length>1)}}var ZH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new zt}ngOnInit(){}createVariableCheck(){let i=bt.createCondition(Jt.EQ);i.variable=bt.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(bt.createCondition(Jt.CHANCE))}createAction(){this.logic.actions.push(bt.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==Jt.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){H.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){H.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return H.isEmpty(this.logic.conditions)?[Jt.ALWAYS]:[Jt.AND,Jt.OR]}getComparisonOperators(){return[Jt.EQ,Jt.NEQ]}};e.\u0275fac=function(r){return new(r||e)(L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[ue],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&B(0,Ide,4,4,"div",0)(1,Mde,3,2,"ng-container",1)(2,Ode,3,1,"div",0)(3,kde,1,0,"div",2)(4,Rde,6,2,"ng-container",1),r&2&&(P("ngIf",o.removable),T(),P("ngForOf",o.logic.conditions),T(),P("ngIf",o.removable),T(),P("ngIf",o.removable),T(),P("ngForOf",o.logic.actions))},dependencies:[fe,Ne,We,St,Ps,Os,Yt,Ru,eo,un,tn,XH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .3333333333rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.3333333333rem;padding:.3333333333rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Nde(t,e){if(t&1){let n=X();b(0,"app-logic-editor",6),k("removeLogic",function(r){N(n);let o=x();return F(o.onRemoveLogic(r))}),C()}if(t&2){let n=e.$implicit,i=e.index;P("logic",n)("removable",i>0)}}var ez=(()=>{let e=class e extends Bt{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=bt.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(bt.createLogic(Jt.ALWAYS))}onRemoveLogic(i){H.isEmpty(i.conditions)&&i.actions.every(r=>H.isEmpty(r.storyChanges)&&H.isEmpty(r.variableChanges))?H.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&H.remove(this.editableButton.logic,i)})}canSubmit(){return!xt.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!xt.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!xt.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=bt.createCondition(Jt.NEVER),this.sourceButton.disabled=bt.createCondition(Jt.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t))},e.\u0275cmp=le({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[wt,ue],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"Text"),C()(),b(3,"input",2),$e("ngModelChange",function(l){return ze(o.editableButton.text,l)||(o.editableButton.text=l),l}),C(),oe(4,"div",3),b(5,"div",0)(6,"span",1),R(7,"Tooltip"),C()(),b(8,"input",2),$e("ngModelChange",function(l){return ze(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),C(),oe(9,"div",3),b(10,"div",0)(11,"span",1),R(12,"Logic"),C(),b(13,"i",4),k("click",function(){return o.createLogicEntry()}),C()(),B(14,Nde,1,2,"app-logic-editor",5)),r&2&&(T(3),Be("ngModel",o.editableButton.text),T(5),Be("ngModel",o.editableButton.tooltip),T(6),P("ngForOf",o.editableButton.logic))},dependencies:[fe,Ne,St,Yt,un,tn,ZH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var tz=(()=>{let e=class e extends Bt{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=bt.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(xt.isEmpty(this.editableCharacter.id)||xt.isEmpty(this.editableCharacter.name)||xt.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[wt,ue],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"ID"),C()(),b(3,"input",2),$e("ngModelChange",function(l){return ze(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),C(),oe(4,"div",3),b(5,"div",0)(6,"span",1),R(7,"Name"),C()(),b(8,"input",2),$e("ngModelChange",function(l){return ze(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),C(),oe(9,"div",3),b(10,"div",0)(11,"span",1),R(12,"Color"),C()(),b(13,"input",2),$e("ngModelChange",function(l){return ze(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),C()),r&2&&(T(3),Be("ngModel",o.editableCharacter.id),T(5),Be("ngModel",o.editableCharacter.name),T(5),Be("ngModel",o.editableCharacter.color))},dependencies:[fe,St,Yt,un,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function Fde(t,e){if(t&1&&(b(0,"option",6),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),Sr("",n.id," (",n.name,")")}}var nz=(()=>{let e=class e extends Bt{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=bt.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(bt.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(xt.isEmpty(this.editableLine.characterId)||xt.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(io),L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[wt,ue],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"Character"),C(),b(3,"i",2),k("click",function(){return o.openCharacterEditor()}),C()(),b(4,"select",3),$e("ngModelChange",function(l){return ze(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),B(5,Fde,2,3,"option",4),C(),oe(6,"div",5),b(7,"div",0)(8,"span",1),R(9,"Text"),C()(),b(10,"input",3),$e("ngModelChange",function(l){return ze(o.editableLine.text,l)||(o.editableLine.text=l),l}),C()),r&2&&(T(4),Be("ngModel",o.editableLine.characterId),T(),P("ngForOf",o.getCharacters()),T(5),Be("ngModel",o.editableLine.text))},dependencies:[fe,Ne,St,Ps,Os,Yt,eo,un,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Lde(t,e){if(t&1){let n=X();b(0,"div",7)(1,"span",8),R(2),C(),b(3,"div",9)(4,"i",10),k("click",function(){let o=N(n).$implicit,a=x();return F(a.openDialogueLineEditor(o))}),C(),b(5,"i",11),k("click",function(){let o=N(n).$implicit,a=x();return F(a.deleteDialogueLine(o))}),C()()()}if(t&2){let n=e.$implicit,i=x();T(2),Sr("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function Vde(t,e){if(t&1){let n=X();b(0,"div",7)(1,"span",8),R(2),C(),b(3,"div",9)(4,"i",12),k("click",function(){let o=N(n).$implicit,a=x();return F(a.openButtonEditor(o))}),C(),b(5,"i",13),k("click",function(){let o=N(n).$implicit,a=x();return F(a.deleteButton(o))}),C()()()}if(t&2){let n=e.$implicit,i=x();T(2),ce(i.stateService.getButton(n).text)}}var iz=(()=>{let e=class e extends Bt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=bt.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=bt.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&H.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):bt.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&H.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(xt.isEmpty(this.editableNode.description)||H.isEmpty(this.editableNode.lines)||H.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t),L(io),L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[wt,ue],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"Description"),C()(),b(3,"input",2),$e("ngModelChange",function(l){return ze(o.editableNode.description,l)||(o.editableNode.description=l),l}),C(),oe(4,"div",3),b(5,"div",0)(6,"span",1),R(7,"Lines"),C(),b(8,"i",4),k("click",function(){return o.openDialogueLineEditor()}),C()(),B(9,Lde,6,2,"div",5),oe(10,"div",3),b(11,"div",0)(12,"span",1),R(13,"Buttons"),C(),b(14,"i",6),k("click",function(){return o.openButtonEditor()}),C()(),B(15,Vde,6,1,"div",5)),r&2&&(T(3),Be("ngModel",o.editableNode.description),T(6),P("ngForOf",o.editableNode.lines),T(6),P("ngForOf",o.editableNode.buttonIds))},dependencies:[fe,Ne,St,Yt,un,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function jde(t,e){if(t&1){let n=X();b(0,"div",8)(1,"span",9),R(2),C(),b(3,"div",10)(4,"i",11),k("click",function(){let o=N(n).$implicit,a=x();return F(a.openCharacterEditor(o))}),C(),b(5,"i",12),k("click",function(){let o=N(n).$implicit,a=x();return F(a.deleteCharacter(o))}),C()()()}if(t&2){let n=e.$implicit,i=x();P("dragdrop",n)("dragdropParent",i.editableScenario.characters),T(2),Sr("",n.id," (",n.name,")")}}function Ude(t,e){if(t&1){let n=X();b(0,"div",8)(1,"span",9),R(2),C(),b(3,"div",10)(4,"i",13),k("click",function(){let o=N(n).$implicit,a=x();return F(a.openVariableEditor(o))}),C(),b(5,"i",14),k("click",function(){let o=N(n).$implicit,a=x();return F(a.deleteVariable(o))}),C()()()}if(t&2){let n=e.$implicit,i=x();P("dragdrop",n)("dragdropParent",i.editableScenario.variables),T(2),ce(n.id)}}function Bde(t,e){if(t&1){let n=X();b(0,"div",8)(1,"span",9),R(2),C(),b(3,"div",10)(4,"i",15),k("click",function(){let o=N(n).$implicit,a=x();return F(a.openNodeEditor(o))}),C(),b(5,"i",16),k("click",function(){let o=N(n).$implicit,a=x();return F(a.deleteNode(o))}),C()()()}if(t&2){let n=e.$implicit,i=x();P("dragdrop",n)("dragdropParent",i.editableScenario.nodes),T(2),ce(n.description)}}var rz=(()=>{let e=class e extends Bt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=bt.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=bt.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&H.remove(this.editableScenario.characters,i)})}openVariableEditor(i=bt.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}H.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=bt.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&H.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=bt.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>H.remove(o.buttonIds,i.id)),H.remove(this.editableScenario.buttons,i))})}canSubmit(){return!xt.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t),L(io),L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[wt,ue],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"Label"),C()(),b(3,"input",2),$e("ngModelChange",function(l){return ze(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),C(),oe(4,"div",3),b(5,"div",0)(6,"span",1),R(7,"Characters"),C(),b(8,"i",4),k("click",function(){return o.openCharacterEditor()}),C()(),B(9,jde,6,4,"div",5),oe(10,"div",3),b(11,"div",0)(12,"span",1),R(13,"Variables"),C(),b(14,"i",6),k("click",function(){return o.openVariableEditor()}),C()(),B(15,Ude,6,3,"div",5),oe(16,"div",3),b(17,"div",0)(18,"span",1),R(19,"Nodes"),C(),b(20,"i",7),k("click",function(){return o.openNodeEditor()}),C()(),B(21,Bde,6,3,"div",5)),r&2&&(T(3),Be("ngModel",o.editableScenario.label),T(6),P("ngForOf",o.editableScenario.characters),T(6),P("ngForOf",o.editableScenario.variables),T(6),P("ngForOf",o.editableScenario.nodes))},dependencies:[fe,Ne,St,Yt,un,tn,Sf],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem;cursor:grab;border-radius:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var Or=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(Or||{});function $de(t,e){if(t&1&&(b(0,"option"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}function Hde(t,e){if(t&1){let n=X();b(0,"div",9)(1,"input",2),$e("ngModelChange",function(r){let a=N(n).$implicit;return ze(a.value,r)||(a.value=r),F(r)}),C(),b(2,"i",10),k("click",function(){let o=N(n).$implicit,a=x(2);return F(a.removeOption(o))}),C()()}if(t&2){let n=e.$implicit;T(),Be("ngModel",n.value)}}function zde(t,e){if(t&1){let n=X();at(0),oe(1,"div",3),b(2,"div",6)(3,"div",0)(4,"span",1),R(5,"Options"),C(),b(6,"i",7),k("click",function(){N(n);let r=x();return F(r.createOption())}),C()(),B(7,Hde,3,1,"div",8),C(),ct()}if(t&2){let n=x();T(7),P("ngForOf",n.editableVariable.options)}}function qde(t,e){if(t&1){let n=X();at(0),b(1,"select",2),$e("ngModelChange",function(r){N(n);let o=x();return ze(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),b(2,"option",11),R(3,"True"),C(),b(4,"option",12),R(5,"False"),C()(),ct()}if(t&2){let n=x();T(),Be("ngModel",n.editableVariable.initialValue)}}function Gde(t,e){if(t&1){let n=X();at(0),b(1,"input",13),$e("ngModelChange",function(r){N(n);let o=x();return ze(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),C(),ct()}if(t&2){let n=x();T(),Be("ngModel",n.editableVariable.initialValue)}}function Wde(t,e){if(t&1&&(b(0,"option",16),R(1),C()),t&2){let n=e.$implicit;P("value",n.value),T(),ce(n.value)}}function Kde(t,e){if(t&1){let n=X();at(0),b(1,"select",2),$e("ngModelChange",function(r){N(n);let o=x();return ze(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),F(r)}),oe(2,"option",14),B(3,Wde,2,2,"option",15),C(),ct()}if(t&2){let n=x();T(),Be("ngModel",n.editableVariable.initialValue),T(2),P("ngForOf",n.editableVariable.options)}}var oz=(()=>{let e=class e extends Bt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=bt.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=Or.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){xt.isEmpty(i.value)?H.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&H.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(Or)}onVariableTypeChange(i){switch(i){case Or.BOOLEAN:this.editableVariable.initialValue="false";break;case Or.NUMBER:this.editableVariable.initialValue="0";break;case Or.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(xt.isEmpty(this.editableVariable.id)||xt.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case Or.BOOLEAN:if(xt.isEmpty(this.editableVariable.initialValue))return!1;break;case Or.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case Or.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case Or.BOOLEAN:case Or.NUMBER:this.sourceVariable.options.length=0;break;case Or.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!xt.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t),L(dn))},e.\u0275cmp=le({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[wt,ue],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),R(2,"ID"),C()(),b(3,"input",2),$e("ngModelChange",function(l){return ze(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),C(),oe(4,"div",3),b(5,"div",0)(6,"span",1),R(7,"Type"),C()(),b(8,"select",2),$e("ngModelChange",function(l){return ze(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),k("ngModelChange",function(l){return o.onVariableTypeChange(l)}),B(9,$de,2,1,"option",4),C(),B(10,zde,8,1,"ng-container",5),oe(11,"div",3),b(12,"div",0)(13,"span",1),R(14,"Initial Value"),C()(),B(15,qde,6,1,"ng-container",5)(16,Gde,2,1,"ng-container",5)(17,Kde,4,2,"ng-container",5)),r&2&&(T(3),Be("ngModel",o.editableVariable.id),T(5),Be("ngModel",o.editableVariable.type),T(),P("ngForOf",o.getVariableTypes()),T(),P("ngIf",o.editableVariable.type=="Enum"),T(5),P("ngIf",o.editableVariable.type=="Boolean"),T(),P("ngIf",o.editableVariable.type=="Number"),T(),P("ngIf",o.editableVariable.type=="Enum"))},dependencies:[fe,Ne,We,St,Ps,Os,Yt,Ru,eo,un,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var io=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new CE(!0),this.storyVisible=!1,this.flowchartVisible=!1,this.focusMode=!1}openScenarioEditor(i){return E(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create(rz,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(tz,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(oz,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(iz,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return E(this,null,function*(){let o=yield this.dialogService.create(nz,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return E(this,null,function*(){let a=yield this.dialogService.create(ez,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(re(Vc),re(dn),re($t))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qde(t,e){if(t&1){let n=X();b(0,"i",25),k("click",function(){N(n);let r=x().$implicit,o=x(3);return F(o.notesService.openNote(r,!0))}),C()}}function Yde(t,e){if(t&1){let n=X();b(0,"div",18),k("click",function(){let o=N(n).$implicit,a=x(2).$implicit,l=x();return F(l.setCurrentNote(a,o))})("dragend",function(){N(n);let r=x(3);return F(r.googleService.updateAdventure())}),b(1,"span",19),R(2),C(),b(3,"div",20)(4,"span",21),R(5),C(),b(6,"div",22),B(7,Qde,1,0,"i",23),b(8,"i",24),k("click",function(){let o=N(n).$implicit,a=x(2).$implicit,l=x();return F(l.removeNote(a,o))}),C()()()()}if(t&2){let n=e.$implicit,i=x(2).$implicit,r=x();P("dragdrop",n)("dragdropParent",i.notes),T(),Ae("highlight",n==r.notesService.focusNote),T(),ce(n.title),T(3),ce(n.wordCount),T(2),P("ngIf",!r.notesService.openNotes.includes(n))}}function Jde(t,e){if(t&1&&(b(0,"div",16),B(1,Yde,9,7,"div",17),C()),t&2){let n=x().$implicit;P("@drawer",void 0),T(),P("ngForOf",n.notes)}}function Xde(t,e){if(t&1){let n=X();b(0,"div",6)(1,"div",7),k("click",function(){let o=N(n).$implicit;return x().setCurrentScenario(o),F(o.notesVisible=!o.notesVisible)})("dragend",function(){N(n);let r=x();return F(r.googleService.updateAdventure())}),b(2,"span",8),R(3),C(),b(4,"div",9)(5,"span",10),R(6),C(),b(7,"div",11)(8,"i",12),k("click",function(r){let a=N(n).$implicit;return x().createNote(a),F(r.stopPropagation())}),C(),b(9,"i",13),k("click",function(r){let a=N(n).$implicit;return x().openScenarioEditor(a),F(r.stopPropagation())}),C(),b(10,"i",14),k("click",function(r){let a=N(n).$implicit;return x().removeScenario(a),F(r.stopPropagation())}),C()()()(),B(11,Jde,2,2,"div",15),C()}if(t&2){let n=e.$implicit,i=x();T(),P("dragdrop",n)("dragdropParent",i.stateService.scenarios),T(),Ae("highlight",n==(i.notesService.focusNote==null?null:i.notesService.focusNote.parentScenario)),T(),ce(n.label),T(3),ce(i.getNotesWordCount(n)),T(5),P("ngIf",n.notesVisible)}}var sz=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l,this.notesService=d}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.notesService.openNote(r,!1)}setCurrentScenario(i){this.stateService.currentScenario=i,ir.isLargeScreen()||this.editorService.sidebarVisible.next(!1),H.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=H.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=H.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(H.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),H.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=bt.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={title:"New Note",text:"",wordCount:0,parentScenario:i};i.notes.push(r),this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.title+'"?'],"Yes","No").then(a=>{a&&(this.notesService.closeNote(r),H.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(L(io),L(Mf),L($t),L(Vc),L(dn),L(Pf))},e.\u0275cmp=le({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[ue],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["class","icon-button fa-solid fa-arrow-up-right-from-square","tp","Open Note in Separate View",3,"click",4,"ngIf"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Open Note in Separate View",1,"icon-button","fa-solid","fa-arrow-up-right-from-square",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),B(1,Xde,12,7,"div",1),C(),oe(2,"div",2),b(3,"div",3)(4,"i",4),k("click",function(){return o.openScenarioEditor()}),C(),b(5,"i",5),k("click",function(){return o.setRandom()}),C()()),r&2&&(T(),P("ngForOf",o.stateService.scenarios))},dependencies:[fe,Ne,We,Sf],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{margin:0 .3333333333rem;padding-left:.9999999999rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[wH]}});let t=e;return t})();var Bo=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(i=>!n.includes(i)):e=e.filter(i=>i!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),f,p,v;switch(r%6){case 0:f=i,p=d,v=a;break;case 1:f=l,p=i,v=a;break;case 2:f=a,p=i,v=d;break;case 3:f=a,p=l,v=i;break;case 4:f=d,p=a,v=i;break;case 5:f=i,p=a,v=l;break}return"#"+Math.round(f*255).toString(16)+Math.round(p*255).toString(16)+Math.round(v*255).toString(16)}};var az=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}H.isEmpty(i.storyChanges)||H.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)H.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(Bo.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=Bo.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case Jt.ALWAYS:return!0;case Jt.NEVER:return!1;case Jt.EQ:return i.variable.value==i.value;case Jt.NEQ:return i.variable.value!=i.value;case Jt.CHANCE:return Bo.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(re(dn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ehe(t,e){if(t&1&&(b(0,"span"),R(1),C()),t&2){let n=e.$implicit;T(),ce(n)}}function the(t,e){if(t&1){let n=X();b(0,"span",21),k("click",function(){N(n);let r=x().$implicit,o=x(2);return F(o.actionService.executeButton(r))}),R(1),C()}if(t&2){let n=x().$implicit;P("tp",n.tooltip),T(),ce(n.text)}}function nhe(t,e){if(t&1&&(at(0),B(1,the,2,2,"span",20),ct()),t&2){let n=e.$implicit,i=x(2);T(),P("ngIf",!i.actionService.evaluate(n.hidden))}}function ihe(t,e){if(t&1&&(at(0),oe(1,"div",17),b(2,"div",18)(3,"span"),R(4),C(),b(5,"div",19),B(6,nhe,2,1,"ng-container",15),C()(),ct()),t&2){let n=x();T(4),ce(n.stateService.getCurrentNode().description),T(2),P("ngForOf",n.stateService.getButtonsForNode())}}var cz=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}onCountdownInputChange(i){i.value.replace(/\W/g,"").match(this.countdownInputRegex)?i.classList.remove("error"):i.classList.add("error")}onCountdownInputSubmit(i,r){if(i.key==="Enter"){let o=r.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){r.readOnly=!0;let a=l=>l&&l.map(d=>d.replace(/\D/g,"")).reduce((d,f)=>d+Number.parseInt(f),0);this.countdown.hours=a(o.match(/\d+h/gi)),this.countdown.minutes=a(o.match(/\d+m/gi)),this.countdown.seconds=a(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?r.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?r.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":r.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(i){i.readOnly&&(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(r){return new(r||e)(L(Vc),L(Mf),L(io),L(Dn),L(dn),L(az))},e.\u0275cmp=le({type:e,selectors:[["app-adventure"]],standalone:!0,features:[ue],decls:19,vars:18,consts:[[1,"header"],[1,"header-start"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"icon-button","fa-solid","mobile-display-none",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-display-none"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){if(r&1){let a=X();b(0,"div",0)(1,"div",1)(2,"i",2),k("click",function(){return o.editorService.sidebarVisible.toggle()}),C(),b(3,"i",3),k("click",function(){return o.editorService.focusMode=!o.editorService.focusMode}),C()(),b(4,"div",4)(5,"input",5,6),k("click",function(){N(a);let d=bi(6);return F(o.onCountdownInputClick(d))})("input",function(){N(a);let d=bi(6);return F(o.onCountdownInputChange(d))})("keypress",function(d){N(a);let f=bi(6);return F(o.onCountdownInputSubmit(d,f))})("focus",function(){N(a);let d=bi(6);return F(d.select())}),C()(),b(7,"div",7)(8,"i",8),k("click",function(){return o.applicationService.toggleTheme()}),C()()(),b(9,"div",9),oe(10,"app-scenario-browser")(11,"div",10),b(12,"div",11),oe(13,"app-notes")(14,"pre",12),b(15,"div",13)(16,"div",14),B(17,ehe,2,1,"span",15),C(),B(18,ihe,7,2,"ng-container",16),C()()()}if(r&2){let a=bi(6);T(3),P("ngClass",o.editorService.focusMode?"fa-up-right-and-down-left-from-center":"fa-down-left-and-up-right-to-center"),T(2),Ae("user-select-none",a.readOnly),T(3),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),T(2),Ae("display-none",!o.editorService.sidebarVisible.value),T(),Ae("desktop-display-none",!o.editorService.sidebarVisible.value),T(),Ae("mobile-display-none",o.editorService.sidebarVisible.value)("focus-mode",o.editorService.focusMode),T(2),Ae("hidden",!o.editorService.flowchartVisible),T(),Ir("display",o.editorService.storyVisible?"":"none"),T(2),P("ngForOf",o.stateService.story),T(),P("ngIf",o.stateService.getCurrentNode())}},dependencies:[fe,ki,Ne,We,sz,JH,Ef],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%] > app-notes[_ngcontent-%COMP%]{max-width:50%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var lz=[{text:"Vyr\xE1\u017Eame spolu v dohodnut\xFD \u010Das",description:"Na ka\u017Ed\xFD de\u0148 si dopredu zvol\xEDme \u010Das, po ktorom ak bude v\xE4\u010D\u0161ina \xFA\u010Dastn\xEDkov pripraven\xE1 splavova\u0165, vyr\xE1\u017Eame. Zvy\u0161ok bude takto ma\u0165 priestor da\u0165 sa dokopy vlastn\xFDm tempom, zavola\u0165 si tax\xEDk a do ve\u010Dera sa zab\xE1va\u0165 v cie\u013Eovom kempe."},{text:"Splavujeme spolu a \u010Dak\xE1me sa",description:"Ide\xE1lne sa dr\u017E\xEDme pokope tak, aby sme na ostatn\xE9 rafty vedeli aspo\u0148 kri\u010Da\u0165 a dohodn\xFA\u0165 sa, \u010Do a ako. Bezd\xF4vodne nezastavujeme. Ak v\u0161ak pos\xE1dka prv\xE9ho raftu t\xFDch za nimi u\u017E ani nevid\xED, spomalia alebo zastavia a po\u010Dkaj\xFA."}];var kf=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return E(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield e$(X5(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return n$(ZM(this.firestore,i,r),o)}delete(i,r){return Z5(ZM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(re(mu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ks=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ak=class{constructor(e,n){this._delegate=e,this.firebase=n,Em(e,new Ri("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),_w(this._delegate)))}_getService(e,n=ds){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ds){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Em(this._delegate,e)}_addOrOverwriteComponent(e){fD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var rhe={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},uz=new Br("app-compat","Firebase",rhe);function ohe(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:cn,setLogLevel:bw,onLog:ww,apps:null,SDK_VERSION:So,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:pD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(f){delete e[f]}function r(f){if(f=f||ds,!Z1(e,f))throw uz.create("no-app",{appName:f});return e[f]}r.App=t;function o(f,p={}){let v=lh(f,p);if(Z1(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(f=>e[f])}function l(f){let p=f.name,v=p.replace("-compat","");if(Io(f)&&f.type==="PUBLIC"){let y=(I=r())=>{if(typeof I[v]!="function")throw uz.create("invalid-app-argument",{appName:p});return I[v]()};f.serviceProps!==void 0&&_m(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...I){return this._getService.bind(this,p).apply(this,f.multipleInstances?I:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,p){return p==="serverAuth"?null:p}return n}function hz(){let t=ohe(ak);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:hz,extendNamespace:e,createSubscribe:gw,ErrorFactory:Br,deepExtend:_m});function e(n){_m(t,n)}return t}var she=hz();var dz=new ls("@firebase/app-compat"),ahe="@firebase/app-compat",che="0.2.28";function lhe(t){cn(ahe,che,t)}if(yU()&&self.firebase!==void 0){dz.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&dz.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var be=she;lhe();var uhe="firebase",dhe="10.8.1";be.registerVersion(uhe,dhe,"app-compat");function Nu(){return window}var hhe=2e3;function fhe(t,e,n){return E(this,null,function*(){var i;let{BuildInfo:r}=Nu();$r(e.sessionId,"AuthEvent did not contain a session ID");let o=yield yhe(e.sessionId),a={};return Wl()?a.ibi=r.packageName:_h()?a.apn=r.packageName:Nn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Uw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function phe(t){return E(this,null,function*(){let{BuildInfo:e}=Nu(),n={};Wl()?n.iosBundleId=e.packageName:_h()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),yield ox(t,n)})}function mhe(t){let{cordova:e}=Nu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,hB()?"_blank":"_system","location=yes"),n(r)})})}function ghe(t,e,n){return E(this,null,function*(){let{cordova:i}=Nu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function f(){l||(l=window.setTimeout(()=>{a(hi(t,"redirect-cancelled-by-user"))},hhe))}function p(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),_h()&&document.addEventListener("visibilitychange",p,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function vhe(t){var e,n,i,r,o,a,l,d,f,p;let v=Nu();J(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((p=(f=v?.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function yhe(t){return E(this,null,function*(){let e=_he(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function _he(t){if($r(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var whe=20,ck=class extends Nm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return E(this,null,function*(){yield this.initPromise})}};function bhe(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Ihe(),postBody:null,tenantId:t.tenantId,error:hi(t,"no-auth-event")}}function Che(t,e){return lk()._set(uk(t),e)}function fz(t){return E(this,null,function*(){let e=yield lk()._get(uk(t));return e&&(yield lk()._remove(uk(t))),e})}function Ehe(t,e){var n,i;let r=The(e);if(r.includes("/__/auth/callback")){let o=EE(r),a=o.firebaseError?She(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?hi(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function Ihe(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<whe;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function lk(){return Ni(ps)}function uk(t){return fs("authEvent",t.config.apiKey,t.name)}function She(t){try{return JSON.parse(t)}catch{return null}}function The(t){let e=EE(t),n=e.link?decodeURIComponent(e.link):void 0,i=EE(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return EE(r).link||r||i||n||t}function EE(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return dc(n.join("?"))}var Dhe=500,dk=class{constructor(){this._redirectPersistence=zr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jl,this._overrideRedirectResult=Sh}_initialize(e){return E(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new ck(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return E(this,null,function*(){vhe(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),TB(),yield this._originValidation(e);let a=bhe(e,i,r);yield Che(e,a);let l=yield fhe(e,a,n),d=yield mhe(l);return ghe(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=phe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Nu(),a=setTimeout(()=>E(this,null,function*(){yield fz(e),n.onEvent(pz())}),Dhe),l=p=>E(this,null,function*(){clearTimeout(a);let v=yield fz(e),y=null;v&&p?.url&&(y=Ehe(v,p.url)),n.onEvent(y||pz())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,f=`${o.packageName.toLowerCase()}://`;Nu().handleOpenURL=p=>E(this,null,function*(){if(p.toLowerCase().startsWith(f)&&l({url:p}),typeof d=="function")try{d(p)}catch(v){console.error(v)}})}},mz=dk;function pz(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hi("no-auth-event")}}function gz(t,e){Zt(t)._logFramework(e)}var Ahe="@firebase/auth-compat",Mhe="0.5.3";var Phe=1e3;function oy(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function Ohe(){return oy()==="http:"||oy()==="https:"}function _z(t=Gt()){return!!((oy()==="file:"||oy()==="ionic:"||oy()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function khe(){return wm()||fw()}function Rhe(){return mw()&&document?.documentMode===11}function Nhe(t=Gt()){return/Edge\/\d+/.test(t)}function Fhe(t=Gt()){return Rhe()||Nhe(t)}function wz(){try{let t=self.localStorage,e=Ql();if(t)return t.setItem(e,"1"),t.removeItem(e),Fhe()?uc():!0}catch{return vk()&&uc()}return!1}function vk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hk(){return(Ohe()||pw()||_z())&&!khe()&&wz()&&!vk()}function bz(){return _z()&&typeof document<"u"}function Lhe(){return E(this,null,function*(){return bz()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},Phe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function Vhe(){return typeof window<"u"?window:null}var kr={LOCAL:"local",NONE:"none",SESSION:"session"},iy=J,Cz="persistence";function jhe(t,e){if(iy(Object.values(kr).includes(e),t,"invalid-persistence-type"),wm()){iy(e!==kr.SESSION,t,"unsupported-persistence-type");return}if(fw()){iy(e===kr.NONE,t,"unsupported-persistence-type");return}if(vk()){iy(e===kr.NONE||e===kr.LOCAL&&uc(),t,"unsupported-persistence-type");return}iy(e===kr.NONE||wz(),t,"unsupported-persistence-type")}function fk(t){return E(this,null,function*(){yield t._initializationPromise;let e=Ez(),n=fs(Cz,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function Uhe(t,e){let n=Ez();if(!n)return[];let i=fs(Cz,t,e);switch(n.getItem(i)){case kr.NONE:return[la];case kr.LOCAL:return[ha,zr];case kr.SESSION:return[zr];default:return[]}}function Ez(){var t;try{return((t=Vhe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var Bhe=J,Rs=class{constructor(){this.browserResolver=Ni(_g),this.cordovaResolver=Ni(mz),this.underlyingResolver=null,this._redirectPersistence=zr,this._completeRedirectFn=Jl,this._overrideRedirectResult=Sh}_initialize(e){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return bz()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bhe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return E(this,null,function*(){if(this.underlyingResolver)return;let e=yield Lhe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function Iz(t){return t.unwrap()}function $he(t){return t.wrapped()}function Hhe(t){return Sz(t)}function zhe(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new mk(t,sg(t,e))}else if(i){let r=Sz(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Sz(t){let{_tokenResponse:e}=t instanceof zn?t.customData:t;if(!e)return null;if(!(t instanceof zn)&&"temporaryProof"in e&&"phoneNumber"in e)return yc.credentialFromResult(t);let n=e.providerId;if(!n||n===gc.PASSWORD)return null;let i;switch(n){case gc.GOOGLE:i=Kl;break;case gc.FACEBOOK:i=Vm;break;case gc.GITHUB:i=jm;break;case gc.TWITTER:i=Um;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?zl._create(n,l):Hr._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new Hl(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof zn?i.credentialFromError(t):i.credentialFromResult(t)}function hr(t,e){return e.catch(n=>{throw n instanceof zn&&zhe(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:Hhe(n),additionalUserInfo:og(n),user:Rf.getOrCreate(r)}})}function pk(t,e){return E(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>hr(t,n.confirm(i))}})}var mk=class{constructor(e,n){this.resolver=n,this.auth=$he(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return hr(Iz(this.auth),this.resolver.resolveSignIn(e))}};var Rf=class t{constructor(e){this._delegate=e,this.multiFactor=ag(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return E(this,null,function*(){return hr(this.auth,Ch(this._delegate,e))})}linkWithPhoneNumber(e,n){return E(this,null,function*(){return pk(this.auth,lg(this._delegate,e,n))})}linkWithPopup(e){return E(this,null,function*(){return hr(this.auth,pg(this._delegate,e,Rs))})}linkWithRedirect(e){return E(this,null,function*(){return yield fk(Zt(this.auth)),vg(this._delegate,e,Rs)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return E(this,null,function*(){return hr(this.auth,Eh(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return pk(this.auth,ug(this._delegate,e,n))}reauthenticateWithPopup(e){return hr(this.auth,fg(this._delegate,e,Rs))}reauthenticateWithRedirect(e){return E(this,null,function*(){return yield fk(Zt(this.auth)),gg(this._delegate,e,Rs)})}sendEmailVerification(e){return eg(this._delegate,e)}unlink(e){return E(this,null,function*(){return yield $m(this._delegate,e),this})}updateEmail(e){return ig(this._delegate,e)}updatePassword(e){return rg(this._delegate,e)}updatePhoneNumber(e){return dg(this._delegate,e)}updateProfile(e){return ng(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return tg(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Rf.USER_MAP=new WeakMap;var ry=J,vz=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;ry(r,"invalid-api-key",{appName:n.name}),ry(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Rs:void 0;this._delegate=i.initialize({options:{persistence:qhe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Bw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){wh(this._delegate,n,i)}applyActionCode(n){return Gm(this._delegate,n)}checkActionCode(n){return Ih(this._delegate,n)}confirmPasswordReset(n,i){return qm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return E(this,null,function*(){return hr(this._delegate,Km(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Zm(this._delegate,n)}isSignInWithEmailLink(n){return Jm(this._delegate,n)}getRedirectResult(){return E(this,null,function*(){ry(hk(),this._delegate,"operation-not-supported-in-this-environment");let n=yield yg(this._delegate,Rs);return n?hr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){gz(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=yz(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=yz(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return Ym(this._delegate,n,i)}sendPasswordResetEmail(n,i){return zm(this._delegate,n,i||void 0)}setPersistence(n){return E(this,null,function*(){jhe(this._delegate,n);let i;switch(n){case kr.SESSION:i=zr;break;case kr.LOCAL:i=(yield Ni(ha)._isAvailable())?ha:ps;break;case kr.NONE:i=la;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return hr(this._delegate,Bm(this._delegate))}signInWithCredential(n){return hr(this._delegate,vc(this._delegate,n))}signInWithCustomToken(n){return hr(this._delegate,Hm(this._delegate,n))}signInWithEmailAndPassword(n,i){return hr(this._delegate,Qm(this._delegate,n,i))}signInWithEmailLink(n,i){return hr(this._delegate,Xm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return pk(this._delegate,cg(this._delegate,n,i))}signInWithPopup(n){return E(this,null,function*(){return ry(hk(),this._delegate,"operation-not-supported-in-this-environment"),hr(this._delegate,hg(this._delegate,n,Rs))})}signInWithRedirect(n){return E(this,null,function*(){return ry(hk(),this._delegate,"operation-not-supported-in-this-environment"),yield fk(this._delegate),mg(this._delegate,n,Rs)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return Wm(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=kr,t})();function yz(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&Rf.getOrCreate(a)),error:e,complete:n}}function qhe(t,e){let n=Uhe(t,e);if(typeof self<"u"&&!n.includes(ha)&&n.push(ha),typeof window<"u")for(let i of[ps,zr])n.includes(i)||n.push(i);return n.includes(la)||n.push(la),n}var sy=class{constructor(){this.providerId="phone",this._delegate=new yc(Iz(be.auth()))}static credential(e,n){return yc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};sy.PHONE_SIGN_IN_METHOD=yc.PHONE_SIGN_IN_METHOD;sy.PROVIDER_ID=yc.PROVIDER_ID;var Ghe=J,gk=class{constructor(e,n,i=be.app()){var r;Ghe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vh(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Whe="auth-compat";function Khe(t){t.INTERNAL.registerComponent(new Ri(Whe,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new vz(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ua.EMAIL_SIGNIN,PASSWORD_RESET:ua.PASSWORD_RESET,RECOVER_EMAIL:ua.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ua.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ua.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ua.VERIFY_EMAIL}},EmailAuthProvider:bh,FacebookAuthProvider:Vm,GithubAuthProvider:jm,GoogleAuthProvider:Kl,OAuthProvider:Hl,SAMLAuthProvider:gh,PhoneAuthProvider:sy,PhoneMultiFactorGenerator:Zw,RecaptchaVerifier:gk,TwitterAuthProvider:Um,Auth:vz,AuthCredential:Do,Error:zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Ahe,Mhe)}Khe(be);var Dz=FG(Tz());var fn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};fn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(S,D){for(var O=0;O<t.length;O++)if(t[O].className===S)return typeof D<"u"&&(t[O]=D),t[O];return!1}function r(S){var D=S.getAttribute("data-upgraded");return D===null?[""]:D.split(",")}function o(S,D){var O=r(S);return O.indexOf(D)!==-1}function a(S,D,O){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(S,{bubbles:D,cancelable:O});var V=document.createEvent("Events");return V.initEvent(S,D,O),V}function l(S,D){if(typeof S>"u"&&typeof D>"u")for(var O=0;O<t.length;O++)l(t[O].className,t[O].cssClass);else{var V=S;if(typeof D>"u"){var q=i(V);q&&(D=q.cssClass)}for(var A=document.querySelectorAll("."+D),ne=0;ne<A.length;ne++)d(A[ne],V)}}function d(S,D){if(!(typeof S=="object"&&S instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var O=a("mdl-componentupgrading",!0,!0);if(S.dispatchEvent(O),!O.defaultPrevented){var V=r(S),q=[];if(D)o(S,D)||q.push(i(D));else{var A=S.classList;t.forEach(function(He){A.contains(He.cssClass)&&q.indexOf(He)===-1&&!o(S,He.className)&&q.push(He)})}for(var ne=0,U=q.length,ae;ne<U;ne++){if(ae=q[ne],ae){V.push(ae.className),S.setAttribute("data-upgraded",V.join(","));var Ee=new ae.classConstructor(S);Ee[n]=ae,e.push(Ee);for(var qe=0,et=ae.callbacks.length;qe<et;qe++)ae.callbacks[qe](S);ae.widget&&(S[ae.className]=Ee)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);S.dispatchEvent(Ie)}}}function f(S){Array.isArray(S)||(S instanceof Element?S=[S]:S=Array.prototype.slice.call(S));for(var D=0,O=S.length,V;D<O;D++)V=S[D],V instanceof HTMLElement&&(d(V),V.children.length>0&&f(V.children))}function p(S){var D=typeof S.widget>"u"&&typeof S.widget>"u",O=!0;D||(O=S.widget||S.widget);var V={classConstructor:S.constructor||S.constructor,className:S.classAsString||S.classAsString,cssClass:S.cssClass||S.cssClass,widget:O,callbacks:[]};if(t.forEach(function(A){if(A.cssClass===V.cssClass)throw new Error("The provided cssClass has already been registered: "+A.cssClass);if(A.className===V.className)throw new Error("The provided className has already been registered")}),S.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var q=i(S.classAsString,V);q||t.push(V)}function v(S,D){var O=i(S);O&&O.callbacks.push(D)}function y(){for(var S=0;S<t.length;S++)l(t[S].className)}function I(S){if(S){var D=e.indexOf(S);e.splice(D,1);var O=S.element_.getAttribute("data-upgraded").split(","),V=O.indexOf(S[n].classAsString);O.splice(V,1),S.element_.setAttribute("data-upgraded",O.join(","));var q=a("mdl-componentdowngraded",!0,!1);S.element_.dispatchEvent(q)}}function w(S){var D=function(V){e.filter(function(q){return q.element_===V}).forEach(I)};if(S instanceof Array||S instanceof NodeList)for(var O=0;O<S.length;O++)D(S[O]);else if(S instanceof Node)D(S);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:w}}();fn.ComponentConfigPublic;fn.ComponentConfig;fn.Component;fn.upgradeDom=fn.upgradeDom;fn.upgradeElement=fn.upgradeElement;fn.upgradeElements=fn.upgradeElements;fn.upgradeAllRegistered=fn.upgradeAllRegistered;fn.registerUpgradedCallback=fn.registerUpgradedCallback;fn.register=fn.register;fn.downgradeElements=fn.downgradeElements;window.componentHandler=fn;window.componentHandler=fn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),fn.upgradeAllRegistered()):(fn.upgradeElement=function(){},fn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(c,u);h&&Object.defineProperty(s,u,h)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(s,c){if(c){var u=f;s=s.split(".");for(var h=0;h<s.length-1;h++){var m=s[h];m in u||(u[m]={}),u=u[m]}s=s[s.length-1],h=u[s],c=c(h),c!=h&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}p("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),p("Array.prototype.includes",function(s){return s||function(c,u){var h=this;h instanceof String&&(h=String(h));var m=h.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=h[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function I(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,S=null;function D(){}function O(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function V(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function q(s){return V(s)=="array"}function A(s){var c=V(s);return c=="array"||c=="object"&&typeof s.length=="number"}function ne(s){return V(s)=="function"}function U(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var ae="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function qe(s,c,u){return s.call.apply(s.bind,arguments)}function et(s,c,u){if(!s)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),s.apply(c,m)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=qe:Ie=et,Ie.apply(null,arguments)}function He(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),s.apply(this,h)}}function Te(s,c){for(var u in c)s[u]=c[u]}var nn=Date.now||function(){return+new Date};function Je(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var h;s.length&&(h=s.shift());)!s.length&&y(c)?u[h]=c:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function z(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(h,m,g){for(var _=Array(arguments.length-2),M=2;M<arguments.length;M++)_[M-2]=arguments[M];return c.prototype[m].apply(h,_)}}function se(s){if(Error.captureStackTrace)Error.captureStackTrace(this,se);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}z(se,Error),se.prototype.name="CustomError";var pe;function Oe(s,c){s=s.split("%s");for(var u="",h=s.length-1,m=0;m<h;m++)u+=s[m]+(m<c.length?c[m]:"%s");se.call(this,u+s[h])}z(Oe,se),Oe.prototype.name="AssertionError";function rt(s,c){throw new Oe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var xn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(I(s))return I(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Nt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var h=s.length,m=I(s)?s.split(""):s,g=0;g<h;g++)g in m&&c.call(u,m[g],g,s)};function ni(s,c){for(var u=I(s)?s.split(""):s,h=s.length-1;0<=h;--h)h in u&&c.call(void 0,u[h],h,s)}var gt=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=[],m=0,g=I(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var M=g[_];c.call(void 0,M,_,s)&&(h[m++]=M)}return h},xi=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=Array(u),m=I(s)?s.split(""):s,g=0;g<u;g++)g in m&&(h[g]=c.call(void 0,m[g],g,s));return h},fr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=I(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s))return!0;return!1};function ft(s,c){return 0<=xn(s,c)}function Vn(s,c){c=xn(s,c);var u;return(u=0<=c)&&rn(s,c),u}function rn(s,c){return Array.prototype.splice.call(s,c,1).length==1}function Ui(s,c){e:{for(var u=s.length,h=I(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s)){c=m;break e}c=-1}0<=c&&rn(s,c)}function Rr(s,c){var u=0;ni(s,function(h,m){c.call(void 0,h,m,s)&&rn(s,m)&&u++})}function jc(s){return Array.prototype.concat.apply([],arguments)}function Ca(s){var c=s.length;if(0<c){for(var u=Array(c),h=0;h<c;h++)u[h]=s[h];return u}return[]}function Lu(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var ii=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Uc=/&/g,Bc=/</g,Vu=/>/g,ju=/"/g,ro=/'/g,$o=/\x00/g,$c=/[\x00&<>"']/;function oo(s,c){return s<c?-1:s>c?1:0}function Nr(s){return $c.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Uc,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Bc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Vu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(ju,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(ro,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace($o,"&#0;"))),s}function Hc(s,c,u){for(var h in s)c.call(u,s[h],h,s)}function Ea(s){var c={},u;for(u in s)c[u]=s[u];return c}var zc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ns(s,c){for(var u,h,m=1;m<arguments.length;m++){h=arguments[m];for(u in h)s[u]=h[u];for(var g=0;g<zc.length;g++)u=zc[g],Object.prototype.hasOwnProperty.call(h,u)&&(s[u]=h[u])}}var Ia="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Fs(){}Fs.prototype.next=function(){throw Ia},Fs.prototype.ha=function(){return this};function ay(s){if(s instanceof Fs)return s;if(typeof s.ha=="function")return s.ha(!1);if(A(s)){var c=0,u=new Fs;return u.next=function(){for(;;){if(c>=s.length)throw Ia;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function DE(s,c){if(A(s))try{Nt(s,c,void 0)}catch(u){if(u!==Ia)throw u}else{s=ay(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Ia)throw u}}}function xE(s){if(A(s))return Ca(s);s=ay(s);var c=[];return DE(s,function(u){c.push(u)}),c}function $(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(s)if(s instanceof $)for(u=s.ja(),h=0;h<u.length;h++)this.set(u[h],s.get(u[h]));else for(h in s)this.set(h,s[h])}t=$.prototype,t.la=function(){ve(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return ve(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function ve(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var h=s.a[c];Se(s.g,h)&&(s.a[u++]=h),c++}s.a.length=u}if(s.h!=s.a.length){var m={};for(u=c=0;c<s.a.length;)h=s.a[c],Se(m,h)||(s.a[u++]=h,m[h]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),h=0;h<u.length;h++){var m=u[h],g=this.get(m);s.call(c,g,m,this)}},t.ha=function(s){ve(this);var c=0,u=this.j,h=this,m=new Fs;return m.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(c>=h.a.length)throw Ia;var g=h.a[c++];return s?g:h.g[g]},m};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vt(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var h=s[u].indexOf("="),m=null;if(0<=h){var g=s[u].substring(0,h);m=s[u].substring(h+1)}else g=s[u];c(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function ri(s,c,u,h){for(var m=u.length;0<=(c=s.indexOf(u,c))&&c<h;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+m),!g||g==61||g==38||g==35))return c;c+=m+1}return-1}var Bi=/#|$/;function so(s,c){var u=s.search(Bi),h=ri(s,0,c,u);if(0>h)return null;var m=s.indexOf("&",h);return(0>m||m>u)&&(m=u),h+=c.length+1,decodeURIComponent(s.substr(h,m-h).replace(/\+/g," "))}var cy=/[?&]($|#)/;function Ai(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Ai?(this.i=y(c)?c:s.i,qc(this,s.j),this.A=s.A,this.h=s.h,Sa(this,s.C),this.g=s.g,Ho(this,Ik(s.a)),this.s=s.s):s&&(u=String(s).match(Mt))?(this.i=!!c,qc(this,u[1]||"",!0),this.A=Ls(u[2]||""),this.h=Ls(u[3]||"",!0),Sa(this,u[4]),this.g=Ls(u[5]||"",!0),Ho(this,u[6]||"",!0),this.s=Ls(u[7]||"")):(this.i=!!c,this.a=new Vf(null,this.i))}Ai.prototype.toString=function(){var s=[],c=this.j;c&&s.push(zo(c,Ck,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(zo(c,Ck,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(zo(u,u.charAt(0)=="/"?aq:sq,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",zo(u,lq)),s.join("")};function qc(s,c,u){s.j=u?Ls(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Sa(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Ho(s,c,u){c instanceof Vf?(s.a=c,uq(s.a,s.i)):(u||(c=zo(c,cq)),s.a=new Vf(c,s.i))}function Lf(s){return s instanceof Ai?new Ai(s):new Ai(s,void 0)}function Ls(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function zo(s,c,u){return I(s)?(s=encodeURI(s).replace(c,oq),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function oq(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Ck=/[#\/\?@]/g,sq=/[#\?:]/g,aq=/[#\?]/g,cq=/[#\?@]/g,lq=/#/g;function Vf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function Ta(s){s.a||(s.a=new $,s.g=0,s.h&&vt(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Vf.prototype,t.add=function(s,c){Ta(this),this.h=null,s=Uu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Gc(s,c){Ta(s),c=Uu(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&ve(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function Ek(s,c){return Ta(s),c=Uu(s,c),Se(s.a.g,c)}t.forEach=function(s,c){Ta(this),this.a.forEach(function(u,h){Nt(u,function(m){s.call(c,m,h,this)},this)},this)},t.ja=function(){Ta(this);for(var s=this.a.la(),c=this.a.ja(),u=[],h=0;h<c.length;h++)for(var m=s[h],g=0;g<m.length;g++)u.push(c[h]);return u},t.la=function(s){Ta(this);var c=[];if(I(s))Ek(this,s)&&(c=jc(c,this.a.get(Uu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=jc(c,s[u])}return c},t.set=function(s,c){return Ta(this),this.h=null,s=Uu(this,s),Ek(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var h=c[u],m=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var _=m;h[g]!==""&&(_+="="+encodeURIComponent(String(h[g]))),s.push(_)}}return this.h=s.join("&")};function Ik(s){var c=new Vf;return c.h=s.h,s.a&&(c.a=new $(s.a),c.g=s.g),c}function Uu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function uq(s,c){c&&!s.j&&(Ta(s),s.h=null,s.a.forEach(function(u,h){var m=h.toLowerCase();h!=m&&(Gc(this,h),Gc(this,m),0<u.length&&(this.h=null,this.a.set(Uu(this,m),Ca(u)),this.g+=u.length))},s)),s.j=c}function Wc(s){this.a=Lf(s)}function dq(s,c){c?s.a.a.set(jn.Sa,c):Gc(s.a.a,jn.Sa)}function hq(s,c){c!==null?s.a.a.set(jn.Qa,c?"1":"0"):Gc(s.a.a,jn.Qa)}function Sk(s){return s.a.a.get(jn.Pa)||null}function Tk(s,c){c?s.a.a.set(jn.PROVIDER_ID,c):Gc(s.a.a,jn.PROVIDER_ID)}Wc.prototype.toString=function(){return this.a.toString()};var jn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Bu;e:{var Dk=v.navigator;if(Dk){var xk=Dk.userAgent;if(xk){Bu=xk;break e}}Bu=""}function ut(s){return Bu.indexOf(s)!=-1}function Ak(){return(ut("Chrome")||ut("CriOS"))&&!ut("Edge")}function AE(s){return AE[" "](s),s}AE[" "]=D;function fq(s,c){var u=gq;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var Mk=ut("Opera"),pn=ut("Trident")||ut("MSIE"),Da=ut("Edge"),pq=Da||pn,ao=ut("Gecko")&&!(Bu.toLowerCase().indexOf("webkit")!=-1&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),$i=Bu.toLowerCase().indexOf("webkit")!=-1&&!ut("Edge"),mq=$i&&ut("Mobile"),xa=ut("Macintosh");function Pk(){var s=v.document;return s?s.documentMode:void 0}var ly;e:{var ME="",PE=function(){var s=Bu;if(ao)return/rv:([^\);]+)(\)|;)/.exec(s);if(Da)return/Edge\/([\d\.]+)/.exec(s);if(pn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if($i)return/WebKit\/(\S+)/.exec(s);if(Mk)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(PE&&(ME=PE?PE[1]:""),pn){var OE=Pk();if(OE!=null&&OE>parseFloat(ME)){ly=String(OE);break e}}ly=ME}var gq={};function Kc(s){return fq(s,function(){for(var c=0,u=ii(String(ly)).split("."),h=ii(String(s)).split("."),m=Math.max(u.length,h.length),g=0;c==0&&g<m;g++){var _=u[g]||"",M=h[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],_[0].length==0&&M[0].length==0)break;c=oo(_[1].length==0?0:parseInt(_[1],10),M[1].length==0?0:parseInt(M[1],10))||oo(_[2].length==0,M[2].length==0)||oo(_[2],M[2]),_=_[3],M=M[3]}while(c==0)}return 0<=c})}var jf,Ok=v.document;jf=Ok&&pn?Pk()||(Ok.compatMode=="CSS1Compat"?parseInt(ly,10):5):void 0;function $u(s,c){this.a=s===Rk&&c||"",this.g=kk}$u.prototype.ma=!0,$u.prototype.ka=function(){return this.a},$u.prototype.toString=function(){return"Const{"+this.a+"}"};var kk={},Rk={};function Qc(){this.a="",this.h=Fk}Qc.prototype.ma=!0,Qc.prototype.ka=function(){return this.a.toString()},Qc.prototype.g=function(){return 1},Qc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Nk(s){return s instanceof Qc&&s.constructor===Qc&&s.h===Fk?s.a:(rt("expected object of type TrustedResourceUrl, got '"+s+"' of type "+V(s)),"type_error:TrustedResourceUrl")}function vq(){var s=a8;s instanceof $u&&s.constructor===$u&&s.g===kk?s=s.a:(rt("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Qc;return c.a=s,c}var Fk={};function pr(){this.a="",this.h=jk}pr.prototype.ma=!0,pr.prototype.ka=function(){return this.a.toString()},pr.prototype.g=function(){return 1},pr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Aa(s){return s instanceof pr&&s.constructor===pr&&s.h===jk?s.a:(rt("expected object of type SafeUrl, got '"+s+"' of type "+V(s)),"type_error:SafeUrl")}var Lk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uy(s){return s instanceof pr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Lk.test(s)||(s="about:invalid#zClosurez"),kE(s))}function Vk(s){return s instanceof pr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Lk.test(s)||(s="about:invalid#zClosurez"),kE(s))}var jk={};function kE(s){var c=new pr;return c.a=s,c}kE("about:blank");function Hu(){this.a="",this.g=Uk}Hu.prototype.ma=!0;var Uk={};Hu.prototype.ka=function(){return this.a},Hu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Ma(){this.a="",this.j=Bk,this.h=null}Ma.prototype.g=function(){return this.h},Ma.prototype.ma=!0,Ma.prototype.ka=function(){return this.a.toString()},Ma.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function dy(s){return s instanceof Ma&&s.constructor===Ma&&s.j===Bk?s.a:(rt("expected object of type SafeHtml, got '"+s+"' of type "+V(s)),"type_error:SafeHtml")}var Bk={};function Uf(s,c){var u=new Ma;return u.a=s,u.h=c,u}Uf("<!DOCTYPE html>",0);var yq=Uf("",0);Uf("<br>",0);var _q=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=dy(yq),!c.parentElement):!1});function wq(s,c){if(s.src=Nk(c),S===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){S=c;break e}S=""}c=S,c&&s.setAttribute("nonce",c)}function zu(s,c){c=c instanceof pr?c:Vk(c),s.assign(Aa(c))}function Pa(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Pa.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Pa.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Pa.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Pa.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function RE(s,c){this.width=s,this.height=c}t=RE.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function hy(s){return s?new VE(Bf(s)):pe||(pe=new VE)}function NE(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):$k(document,s,c)}function FE(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var h=c||u;s=h.querySelectorAll&&h.querySelector&&s?h.querySelector(s?"."+s:""):$k(u,s,c)[0]||null}return s||null}function $k(s,c,u){var h;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var m=s.getElementsByClassName(c);return m}if(m=s.getElementsByTagName("*"),c){var g={};for(u=h=0;s=m[u];u++){var _=s.className;typeof _.split=="function"&&ft(_.split(/\s+/),c)&&(g[h++]=s)}return g.length=h,g}return m}function bq(s,c){Hc(c,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?s.style.cssText=u:h=="class"?s.className=u:h=="for"?s.htmlFor=u:Hk.hasOwnProperty(h)?s.setAttribute(Hk[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?s.setAttribute(h,u):s[h]=u})}var Hk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fy(s){return s.scrollingElement?s.scrollingElement:($i||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function Yc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Bf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function LE(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(Bf(s).createTextNode(String(c)))}}function zk(s,c){return c?Cq(s,function(u){return!c||I(u.className)&&ft(u.className.split(/\s+/),c)}):null}function Cq(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function VE(s){this.a=s||v.document||document}VE.prototype.N=function(){return I(void 0)?this.a.getElementById(void 0):void 0};var py={Fc:!0},qk={Hc:!0},Eq={Ec:!0},Gk={Gc:!0};function Oa(){throw Error("Do not instantiate directly")}Oa.prototype.va=null,Oa.prototype.toString=function(){return this.content};function $f(s,c,u,h){if(s=s(c||Tq,void 0,u),h=(h||hy()).a.createElement("DIV"),s=Iq(s),s.match(Sq),s=Uf(s,null),_q())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=dy(s),h.childNodes.length==1&&(s=h.firstChild,s.nodeType==1&&(h=s)),h}function Iq(s){if(!U(s))return Nr(String(s));if(s instanceof Oa){if(s.fa===py)return s.content;if(s.fa===Gk)return Nr(s.content)}return rt("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var Sq=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Tq={};function Dq(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function my(){Oa.call(this)}z(my,Oa),my.prototype.fa=py;function ke(s){return s!=null&&s.fa===py?s:s instanceof Ma?ge(dy(s).toString(),s.g()):ge(Nr(String(String(s))),Dq(s))}function gy(){Oa.call(this)}z(gy,Oa),gy.prototype.fa=qk,gy.prototype.va=1;function vy(s,c){this.content=String(s),this.va=c??null}z(vy,Oa),vy.prototype.fa=Gk;function Tt(s){return new vy(s,void 0)}var ge=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=new c(String(u)),h!==void 0&&(u.va=h),u}}(my),xq=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(gy);function Aq(s){function c(){}var u={label:mn("New password")};c.prototype=s,s=new c;for(var h in u)s[h]=u[h];return s}function mn(s){return(s=String(s))?new vy(s,void 0):""}var Wk=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=String(u),u?(u=new c(u),h!==void 0&&(u.va=h),u):""}}(my);function Hi(s){return s!=null&&s.fa===py?String(String(s.content).replace(Fq,"").replace(Lq,"&lt;")).replace(kq,Pq):Nr(String(s))}function Jc(s){return s!=null&&s.fa===qk?s=String(s).replace(UE,jE):s instanceof pr?s=String(Aa(s).toString()).replace(UE,jE):(s=String(s),Nq.test(s)?s=s.replace(UE,jE):(rt("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function Kk(s){return s!=null&&s.fa===Eq?s=s.content:s==null?s="":s instanceof Hu?s instanceof Hu&&s.constructor===Hu&&s.g===Uk?s=s.a:(rt("expected object of type SafeStyle, got '"+s+"' of type "+V(s)),s="type_error:SafeStyle"):(s=String(s),Rq.test(s)||(rt("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var Mq={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Pq(s){return Mq[s]}var Oq={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function jE(s){return Oq[s]}var kq=/[\x00\x22\x27\x3c\x3e]/g,UE=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Rq=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Nq=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Fq=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Lq=/</g;function BE(){return Tt("Enter a valid phone number")}function Qk(){return Tt("Unable to send password reset code to specified email")}function Yk(){return Tt("Something went wrong. Please try again.")}function Jk(){return Tt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Xk(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return Tt(c)}function Zk(){return Tt("Please login again to perform this operation")}function Hf(s,c,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=Vq+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=Yk()}s=Tt(s).toString()}this.message=s||"",this.credential=u||null}l(Hf,Error),Hf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Vq="firebaseui/";function Xc(){$E!=0&&(eR[this[ae]||(this[ae]=++Ee)]=this),this.T=this.T,this.C=this.C}var $E=0,eR={};Xc.prototype.T=!1,Xc.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),$E!=0)){var s=this[ae]||(this[ae]=++Ee);if($E!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete eR[s]}};function zf(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ie(c,void 0):c))}Xc.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qf(s){s&&typeof s.m=="function"&&s.m()}var jq=Object.freeze||function(s){return s},tR=!pn||9<=Number(jf),Uq=pn&&!Kc("9"),Bq=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",D,c),v.removeEventListener("test",D,c)}catch{}return s}();function Vs(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}Vs.prototype.stopPropagation=function(){this.h=!0},Vs.prototype.preventDefault=function(){this.qb=!1};function zi(s,c){if(Vs.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,h=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(ao){e:{try{AE(c.nodeName);var m=!0;break e}catch{}m=!1}m||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=I(s.pointerType)?s.pointerType:$q[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}z(zi,Vs);var $q=jq({2:"touch",3:"pen",4:"mouse"});zi.prototype.stopPropagation=function(){zi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},zi.prototype.preventDefault=function(){zi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Uq)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Gf="closure_listenable_"+(1e6*Math.random()|0),Hq=0;function zq(s,c,u,h,m){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!h,this.La=m,this.key=++Hq,this.sa=this.Ia=!1}function yy(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function _y(s){this.src=s,this.a={},this.g=0}_y.prototype.add=function(s,c,u,h,m){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=zE(s,c,h,m);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new zq(c,this.src,g,!!h,m),c.Ia=u,s.push(c)),c};function HE(s,c){var u=c.type;u in s.a&&Vn(s.a[u],c)&&(yy(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function zE(s,c,u,h){for(var m=0;m<s.length;++m){var g=s[m];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==h)return m}return-1}var qE="closure_lm_"+(1e6*Math.random()|0),GE={},nR=0;function co(s,c,u,h,m){if(h&&h.once)return Wf(s,c,u,h,m);if(q(c)){for(var g=0;g<c.length;g++)co(s,c[g],u,h,m);return null}return u=KE(u),s&&s[Gf]?s.J.add(String(c),u,!1,U(h)?!!h.capture:!!h,m):iR(s,c,u,!1,h,m)}function iR(s,c,u,h,m,g){if(!c)throw Error("Invalid event type");var _=U(m)?!!m.capture:!!m,M=wy(s);if(M||(s[qE]=M=new _y(s)),u=M.add(c,u,h,_,g),u.proxy)return u;if(h=qq(),u.proxy=h,h.src=s,h.listener=u,s.addEventListener)Bq||(m=_),m===void 0&&(m=!1),s.addEventListener(c.toString(),h,m);else if(s.attachEvent)s.attachEvent(rR(c.toString()),h);else if(s.addListener&&s.removeListener)s.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return nR++,u}function qq(){var s=Gq,c=tR?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function Wf(s,c,u,h,m){if(q(c)){for(var g=0;g<c.length;g++)Wf(s,c[g],u,h,m);return null}return u=KE(u),s&&s[Gf]?s.J.add(String(c),u,!0,U(h)?!!h.capture:!!h,m):iR(s,c,u,!0,h,m)}function Zc(s,c,u,h,m){if(q(c))for(var g=0;g<c.length;g++)Zc(s,c[g],u,h,m);else h=U(h)?!!h.capture:!!h,u=KE(u),s&&s[Gf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=zE(g,u,h,m),-1<u&&(yy(g[u]),rn(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=wy(s))&&(c=s.a[c.toString()],s=-1,c&&(s=zE(c,u,h,m)),(u=-1<s?c[s]:null)&&ka(u))}function ka(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Gf])HE(c.J,s);else{var u=s.type,h=s.proxy;c.removeEventListener?c.removeEventListener(u,h,s.capture):c.detachEvent?c.detachEvent(rR(u),h):c.addListener&&c.removeListener&&c.removeListener(h),nR--,(u=wy(c))?(HE(u,s),u.g==0&&(u.src=null,c[qE]=null)):yy(s)}}}function rR(s){return s in GE?GE[s]:GE[s]="on"+s}function oR(s,c,u,h){var m=!0;if((s=wy(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=sR(g,h),m=m&&g!==!1)}return m}function sR(s,c){var u=s.listener,h=s.La||s.src;return s.Ia&&ka(s),u.call(h,c)}function Gq(s,c){if(s.sa)return!0;if(!tR){if(!c)e:{c=["window","event"];for(var u=v,h=0;h<c.length;h++)if(u=u[c[h]],u==null){c=null;break e}c=u}if(h=c,c=new zi(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=c.g;m;m=m.parentNode)h.push(m);for(s=s.type,m=h.length-1;!c.h&&0<=m;m--){c.g=h[m];var g=oR(h[m],s,!0,c);u=u&&g}for(m=0;!c.h&&m<h.length;m++)c.g=h[m],g=oR(h[m],s,!1,c),u=u&&g}return u}return sR(s,new zi(c,this))}function wy(s){return s=s[qE],s instanceof _y?s:null}var WE="__closure_events_fn_"+(1e9*Math.random()>>>0);function KE(s){return ne(s)?s:(s[WE]||(s[WE]=function(c){return s.handleEvent(c)}),s[WE])}function Un(){Xc.call(this),this.J=new _y(this),this.wb=this,this.Ha=null}z(Un,Xc),Un.prototype[Gf]=!0,Un.prototype.Za=function(s){this.Ha=s},Un.prototype.removeEventListener=function(s,c,u,h){Zc(this,s,c,u,h)};function Ra(s,c){var u,h=s.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(s=s.wb,h=c.type||c,I(c))c=new Vs(c,s);else if(c instanceof Vs)c.target=c.target||s;else{var m=c;c=new Vs(h,s),Ns(c,m)}if(m=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];m=by(_,h,!0,c)&&m}if(c.h||(_=c.g=s,m=by(_,h,!0,c)&&m,c.h||(m=by(_,h,!1,c)&&m)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],m=by(_,h,!1,c)&&m;return m}Un.prototype.o=function(){if(Un.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var h=s.a[u],m=0;m<h.length;m++)++c,yy(h[m]);delete s.a[u],s.g--}}this.Ha=null};function by(s,c,u,h){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var m=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var M=_.listener,j=_.La||_.src;_.Ia&&HE(s.J,_),m=M.call(j,h)!==!1&&m}}return m&&h.qb!=0}var mr={},aR=0;function cR(s,c){if(!s)throw Error("Event target element must be provided!");if(s=QE(s),mr[s]&&mr[s].length)for(var u=0;u<mr[s].length;u++)Ra(mr[s][u],c)}function Wq(s){var c=QE(s.N());mr[c]&&mr[c].length&&(Ui(mr[c],function(u){return u==s}),mr[c].length||delete mr[c])}function QE(s){return typeof s.a>"u"&&(s.a=aR,aR++),s.a}function Cy(s){if(!s)throw Error("Event target element must be provided!");Un.call(this),this.a=s}l(Cy,Un),Cy.prototype.N=function(){return this.a},Cy.prototype.register=function(){var s=QE(this.N());mr[s]?ft(mr[s],this)||mr[s].push(this):mr[s]=[this]};function lR(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function YE(s,c){this.h=s,this.j=c,this.g=0,this.a=null}YE.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function uR(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function dR(){this.g=this.a=null}var hR=new YE(function(){return new JE},function(s){s.reset()});dR.prototype.add=function(s,c){var u=hR.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function Kq(){var s=pR,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function JE(){this.next=this.g=this.a=null}JE.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},JE.prototype.reset=function(){this.next=this.g=this.a=null};function fR(s){v.setTimeout(function(){throw s},0)}var XE;function Qq(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(s=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var _="callImmediate"+Math.random(),M=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=Ie(function(j){(M=="*"||j.origin==M)&&j.data==_&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,M)}}}),typeof s<"u"&&!ut("Trident")&&!ut("MSIE")){var c=new s,u={},h=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){h.next={gb:m},h=h.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function ZE(s,c){Ey||Yq(),eI||(Ey(),eI=!0),pR.add(s,c)}var Ey;function Yq(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);Ey=function(){s.then(mR)}}else Ey=function(){var c=mR;!ne(v.setImmediate)||v.Window&&v.Window.prototype&&!ut("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(XE||(XE=Qq()),XE(c)):v.setImmediate(c)}}var eI=!1,pR=new dR;function mR(){for(var s;s=Kq();){try{s.a.call(s.g)}catch(c){fR(c)}uR(hR,s)}eI=!1}function Bn(s){if(this.a=el,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=D)try{var c=this;s.call(void 0,function(u){tl(c,Kf,u)},function(u){if(!(u instanceof Gu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}tl(c,js,u)})}catch(u){tl(this,js,u)}}var el=0,Kf=2,js=3;function gR(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}gR.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var vR=new YE(function(){return new gR},function(s){s.reset()});function tI(s,c,u){var h=vR.get();return h.s=s,h.g=c,h.j=u,h}function gn(s){if(s instanceof Bn)return s;var c=new Bn(D);return tl(c,Kf,s),c}function qu(s){return new Bn(function(c,u){u(s)})}Bn.prototype.then=function(s,c,u){return _R(this,ne(s)?s:null,ne(c)?c:null,u)},Bn.prototype.$goog_Thenable=!0,t=Bn.prototype,t.fc=function(s,c){return s=tI(s,s,c),s.h=!0,nI(this,s),this},t.Ca=function(s,c){return _R(this,null,s,c)},t.cancel=function(s){this.a==el&&ZE(function(){var c=new Gu(s);yR(this,c)},this)};function yR(s,c){if(s.a==el)if(s.h){var u=s.h;if(u.g){for(var h=0,m=null,g=null,_=u.g;_&&(_.h||(h++,_.a==s&&(m=_),!(m&&1<h)));_=_.next)m||(g=_);m&&(u.a==el&&h==1?yR(u,c):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):bR(u),CR(u,m,js,c)))}s.h=null}else tl(s,js,c)}function nI(s,c){s.g||s.a!=Kf&&s.a!=js||wR(s),s.j?s.j.next=c:s.g=c,s.j=c}function _R(s,c,u,h){var m=tI(null,null,null);return m.a=new Bn(function(g,_){m.s=c?function(M){try{var j=c.call(h,M);g(j)}catch(Y){_(Y)}}:g,m.g=u?function(M){try{var j=u.call(h,M);!y(j)&&M instanceof Gu?_(M):g(j)}catch(Y){_(Y)}}:_}),m.a.h=s,nI(s,m),m.a}t.hc=function(s){this.a=el,tl(this,Kf,s)},t.ic=function(s){this.a=el,tl(this,js,s)};function tl(s,c,u){if(s.a==el){s===u&&(c=js,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var h=u,m=s.hc,g=s.ic;if(h instanceof Bn){nI(h,tI(m||D,g||null,s));var _=!0}else if(lR(h))h.then(m,g,s),_=!0;else{if(U(h))try{var M=h.then;if(ne(M)){Jq(h,M,m,g,s),_=!0;break e}}catch(j){g.call(s,j),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,wR(s),c!=js||u instanceof Gu||Xq(s,u))}}function Jq(s,c,u,h,m){function g(j){M||(M=!0,h.call(m,j))}function _(j){M||(M=!0,u.call(m,j))}var M=!1;try{c.call(s,_,g)}catch(j){g(j)}}function wR(s){s.i||(s.i=!0,ZE(s.Hb,s))}function bR(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=bR(this);)CR(this,s,this.a,this.A);this.i=!1};function CR(s,c,u,h){if(u==js&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,ER(c,u,h);else try{c.h?c.s.call(c.j):ER(c,u,h)}catch(m){IR.call(null,m)}uR(vR,c)}function ER(s,c,u){c==Kf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function Xq(s,c){s.s=!0,ZE(function(){s.s&&IR.call(null,c)})}var IR=fR;function Gu(s){se.call(this,s)}z(Gu,se),Gu.prototype.name="cancel";function SR(s,c,u){c||(c={}),u=u||window;var h=s instanceof pr?s:uy(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var m=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(c[g]?1:0))}var g=m.join(",");return(ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),h=h instanceof pr?h:Vk(h),g.href=Aa(h),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=Aa(h).toString(),u&&(pq&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Uf('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Nr(c)+'">',null),u.document.write(dy(c)),u.document.close())):(u=u.open(Aa(h).toString(),s,g))&&c.noopener&&(u.opener=null),u}function TR(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Wu(s){SR(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Iy(s,c){if(s=U(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function Us(){return window.location.href}function Zq(){var s=null;return new Bn(function(c){v.document.readyState=="complete"?c():(s=function(){c()},Wf(window,"load",s))}).Ca(function(c){throw Zc(window,"load",s),c})}function e8(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function t8(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(h){return c.includes(h)}).reduce(function(h,m){return h[m]=s[m],h},u)}function Na(s){var c=r8;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Na.prototype.cancel=function(s){if(this.a)this.h instanceof Na&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new Yf(this),Sy(this),Qf(this,!1,s))}},Na.prototype.L=function(s,c){this.A=!1,Qf(this,s,c)};function Qf(s,c,u){s.a=!0,s.h=u,s.j=!c,AR(s)}function Sy(s){if(s.a){if(!s.J)throw new Ty(s);s.J=!1}}Na.prototype.callback=function(s){Sy(this),Qf(this,!0,s)};function DR(s,c,u){s.s.push([c,u,void 0]),s.a&&AR(s)}Na.prototype.then=function(s,c,u){var h,m,g=new Bn(function(_,M){h=_,m=M});return DR(this,h,function(_){_ instanceof Yf?g.cancel():m(_)}),g.then(s,c,u)},Na.prototype.$goog_Thenable=!0;function xR(s){return fr(s.s,function(c){return ne(c[1])})}function AR(s){if(s.i&&s.a&&xR(s)){var c=s.i,u=Dy[c];u&&(v.clearTimeout(u.a),delete Dy[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var h=u=!1;s.s.length&&!s.A;){var m=s.s.shift(),g=m[0],_=m[1];if(m=m[2],g=s.j?_:g)try{var M=g.call(m||s.O,c);y(M)&&(s.j=s.j&&(M==c||M instanceof Error),s.h=c=M),(lR(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(h=!0,s.A=!0)}catch(j){c=j,s.j=!0,xR(s)||(u=!0)}}s.h=c,h&&(M=Ie(s.L,s,!0),h=Ie(s.L,s,!1),c instanceof Na?(DR(c,M,h),c.l=!0):c.then(M,h)),u&&(c=new MR(c),Dy[c.a]=c,s.i=c.a)}function Ty(){se.call(this)}z(Ty,se),Ty.prototype.message="Deferred has already fired",Ty.prototype.name="AlreadyCalledError";function Yf(){se.call(this)}z(Yf,se),Yf.prototype.message="Deferred was canceled",Yf.prototype.name="CanceledError";function MR(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}MR.prototype.h=function(){throw delete Dy[this.a],this.g};var Dy={};function n8(s){var c={},u=c.document||document,h=Nk(s).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},_=new Na(g),M=null,j=c.timeout!=null?c.timeout:5e3;return 0<j&&(M=window.setTimeout(function(){xy(m,!0);var Y=new iI(s8,"Timeout reached for loading script "+h);Sy(_),Qf(_,!1,Y)},j),g.sb=M),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(xy(m,c.xc||!1,M),_.callback(null))},m.onerror=function(){xy(m,!0,M);var Y=new iI(o8,"Error while loading script "+h);Sy(_),Qf(_,!1,Y)},g=c.attributes||{},Ns(g,{type:"text/javascript",charset:"UTF-8"}),bq(m,g),wq(m,s),i8(u).appendChild(m),_}function i8(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function r8(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&xy(s,!0,this.sb)}}function xy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=D,s.onerror=D,s.onreadystatechange=D,c&&window.setTimeout(function(){Yc(s)},0)}var o8=0,s8=1;function iI(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),se.call(this,u),this.code=s}z(iI,se);function Jf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function rI(s){this.a=s||Jf(),this.h=!1,this.g=null}rI.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function PR(s,c,u){if(s.a&&c)return function(){return s.h=!0,new Bn(function(m){s.g=m,s.a.initialize({client_id:c,callback:m,auto_select:!u}),s.a.prompt()})}();if(c){var h=oI.Xa().load().then(function(){return s.a=Jf(),PR(s,c,u)}).Ca(function(){return null});return gn(h)}return gn(null)}O(rI);var a8=new $u(Rk,"https://accounts.google.com/gsi/client");function oI(){this.a=null}oI.prototype.load=function(){var s=this;if(this.a)return this.a;var c=vq();return Jf()?gn():this.a=Zq().then(function(){if(!Jf())return new Bn(function(u,h){var m=setTimeout(function(){s.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},gn(n8(c)).then(function(){Jf()&&u()}).Ca(function(g){clearTimeout(m),s.a=null,h(g)})})})},O(oI);function sI(s,c){this.a=s,this.g=c||function(u){throw u}}sI.prototype.confirm=function(s){return gn(this.a.confirm(s)).Ca(this.g)};function aI(s,c,u){this.reset(s,c,u,void 0,void 0)}aI.prototype.a=null;var c8=0;aI.prototype.reset=function(s,c,u,h,m){typeof m=="number"||c8++,this.h=h||nn(),this.j=s,this.s=c,this.g=u,delete this.a};function cI(s){this.s=s,this.a=this.h=this.j=this.g=null}function Ay(s,c){this.name=s,this.value=c}Ay.prototype.toString=function(){return this.name};var OR=new Ay("SEVERE",1e3),kR=new Ay("WARNING",900),RR=new Ay("CONFIG",700);function NR(s){return s.j?s.j:s.g?NR(s.g):(rt("Root logger has no level set."),null)}cI.prototype.log=function(s,c,u){if(s.value>=NR(this).value)for(ne(c)&&(c=c()),s=new aI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var h=u,m=s;if(h.a)for(var g=0;c=h.a[g];g++)c(m);u=u.g}};var lI={},Xf=null;function FR(){Xf||(Xf=new cI(""),lI[""]=Xf,Xf.j=RR)}function LR(s){FR();var c;if(!(c=lI[s])){c=new cI(s);var u=s.lastIndexOf("."),h=s.substr(u+1);u=LR(s.substr(0,u)),u.h||(u.h={}),u.h[h]=c,c.g=u,lI[s]=c}return c}function My(){this.a=nn()}var uI=null;My.prototype.set=function(s){this.a=s},My.prototype.reset=function(){this.set(nn())},My.prototype.get=function(){return this.a};function Zf(s){this.j=s||"",uI||(uI=new My),this.s=uI}Zf.prototype.a=!0,Zf.prototype.g=!0,Zf.prototype.h=!1;function nl(s){return 10>s?"0"+s:String(s)}function l8(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function VR(s){Zf.call(this,s)}z(VR,Zf);function u8(s,c){var u=[];if(u.push(s.j," "),s.g){var h=new Date(c.h);u.push("[",nl(h.getFullYear()-2e3)+nl(h.getMonth()+1)+nl(h.getDate())+" "+nl(h.getHours())+":"+nl(h.getMinutes())+":"+nl(h.getSeconds())+"."+nl(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",l8(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function jR(){this.s=Ie(this.h,this),this.a=new VR,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}jR.prototype.h=function(s){function c(g){if(g){if(g.value>=OR.value)return"error";if(g.value>=kR.value)return"warn";if(g.value>=RR.value)return"log"}return"debug"}if(!this.j[s.g]){var u=u8(this.a,s),h=d8;if(h){var m=c(s.j);h8(h,m,u,s.a)}}};var d8=v.console;function h8(s,c,u,h){s[c]?s[c](u,h||""):s.log(u,h||"")}function gr(s,c){var u=dI;u&&u.log(OR,s,c)}var dI;dI=LR("firebaseui");var hI=new jR;if(hI.g!=1){var Py;FR(),Py=Xf;var f8=hI.s;Py.a||(Py.a=[]),Py.a.push(f8),hI.g=!0}function Fa(s){var c=dI;c&&c.log(kR,s,void 0)}function UR(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=UR.prototype,t.set=function(s,c,u,h,m,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),m=m?";domain="+m:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(nn()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+m+h+u+g},t.get=function(s,c){for(var u=s+"=",h=(this.a.cookie||"").split(";"),m=0,g;m<h.length;m++){if(g=ii(h[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return fI(this).keys},t.la=function(){return fI(this).values},t.clear=function(){for(var s=fI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function fI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],h,m,g=0;g<s.length;g++)m=ii(s[g]),h=m.indexOf("="),h==-1?(c.push(""),u.push(m)):(c.push(m.substring(0,h)),u.push(m.substring(h+1)));return{keys:c,values:u}}var Oy=new UR;function BR(){}function Ku(s,c,u,h){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!h}l(Ku,BR),Ku.prototype.set=function(s,c){Oy.set(s,c,this.h,this.g,this.a,this.j)},Ku.prototype.get=function(s){return Oy.get(s)||null},Ku.prototype.ra=function(s){var c=this.g,u=this.a;Oy.get(s),Oy.set(s,"",0,c,u)};function pI(s,c){this.g=s,this.a=c||null}function $R(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function HR(s){if(s&&s.email){var c=s.credential&&be.auth.AuthCredential.fromJSON(s.credential);return new pI(s.email,c)}return null}function zR(s){this.a=s||null}function qR(s){for(var c=[],u=0,h=0;h<s.length;h++){var m=s.charCodeAt(h);255<m&&(c[u++]=m&255,m>>=8),c[u++]=m}return c}function p8(s){return xi(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function ky(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Qu*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Qu*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,YR(c),c[0]^=Ny[s/this.g][0],c[1]^=Ny[s/this.g][1],c[2]^=Ny[s/this.g][2],c[3]^=Ny[s/this.g][3]}else 6<this.g&&s%this.g==4&&YR(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}ky.prototype.A=16;var Qu=ky.prototype.A/4;function GR(s,c){for(var u,h=0;h<Qu;h++)for(var m=0;4>m;m++)u=4*m+h,u=c[u],s.h[h][m]=u}function WR(s){for(var c=[],u=0;u<Qu;u++)for(var h=0;4>h;h++)c[4*h+u]=s.h[u][h];return c}function Yu(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]^=s.a[4*c+h][u]}function Ry(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]=c[s.h[u][h]]}function KR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Qu]}function QR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Qu]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function YR(s){s[0]=Ju[s[0]],s[1]=Ju[s[1]],s[2]=Ju[s[2]],s[3]=Ju[s[3]]}var Ju=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],JR=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ny=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Fy=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ly=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Vy=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],jy=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Uy=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],By=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function XR(s,c){s=new ky(eN(s)),c=qR(c);for(var u=c.splice(0,16),h="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=s,GR(m,u),Yu(m,0),u=1;u<m.j;++u){Ry(m,Ju),KR(m),g=m.h;for(var _=m.s[0],M=0;4>M;M++)_[0]=g[0][M],_[1]=g[1][M],_[2]=g[2][M],_[3]=g[3][M],g[0][M]=Fy[_[0]]^Ly[_[1]]^_[2]^_[3],g[1][M]=_[0]^Fy[_[1]]^Ly[_[2]]^_[3],g[2][M]=_[0]^_[1]^Fy[_[2]]^Ly[_[3]],g[3][M]=Ly[_[0]]^_[1]^_[2]^Fy[_[3]];Yu(m,u)}Ry(m,Ju),KR(m),Yu(m,m.j),h+=p8(WR(m)),u=c.splice(0,16)}return h}function ZR(s,c){s=new ky(eN(s));for(var u=[],h=0;h<c.length;h+=2)u.push(parseInt(c.substring(h,h+2),16));var m=u.splice(0,16);for(c="";m.length;){for(h=s,GR(h,m),Yu(h,h.j),m=1;m<h.j;++m){QR(h),Ry(h,JR),Yu(h,h.j-m);for(var g=h.h,_=h.s[0],M=0;4>M;M++)_[0]=g[0][M],_[1]=g[1][M],_[2]=g[2][M],_[3]=g[3][M],g[0][M]=By[_[0]]^jy[_[1]]^Uy[_[2]]^Vy[_[3]],g[1][M]=Vy[_[0]]^By[_[1]]^jy[_[2]]^Uy[_[3]],g[2][M]=Uy[_[0]]^Vy[_[1]]^By[_[2]]^jy[_[3]],g[3][M]=jy[_[0]]^Uy[_[1]]^Vy[_[2]]^By[_[3]]}if(QR(h),Ry(h,JR),Yu(h,0),h=WR(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(m="",g=0;g<h.length;g+=8192)m+=String.fromCharCode.apply(null,Lu(h,g,g+8192));h=m}c+=h,m=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function eN(s){s=qR(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function tN(s){var c=[];return mI(new m8,s,c),c.join("")}function m8(){}function mI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if(q(c)){var h=c;c=h.length,u.push("[");for(var m="",g=0;g<c;g++)u.push(m),mI(s,h[g],u),m=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),m="";for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(g=c[h],typeof g!="function"&&(u.push(m),iN(h,u),u.push(":"),mI(s,g,u),m=","));u.push("}");return}}switch(typeof c){case"string":iN(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var nN={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},g8=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function iN(s,c){c.push('"',s.replace(g8,function(u){var h=nN[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),nN[u]=h),h}),'"')}function ep(s){this.a=s}ep.prototype.set=function(s,c){y(c)?this.a.set(s,tN(c)):this.a.ra(s)},ep.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function $y(){}z($y,BR),$y.prototype.clear=function(){var s=xE(this.ha(!0)),c=this;Nt(s,function(u){c.ra(u)})};function Hy(s){this.a=s}z(Hy,$y);function zy(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Hy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!I(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,h=new Fs;return h.next=function(){if(c>=u.length)throw Ia;var m=u.key(c++);if(s)return m;if(m=u.getItem(m),!I(m))throw"Storage mechanism: Invalid value was encountered";return m},h},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function gI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}z(gI,Hy);function vI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}z(vI,Hy);function Xu(s,c){this.g=s,this.a=c+"::"}z(Xu,$y),Xu.prototype.set=function(s,c){this.g.set(this.a+s,c)},Xu.prototype.get=function(s){return this.g.get(this.a+s)},Xu.prototype.ra=function(s){this.g.ra(this.a+s)},Xu.prototype.ha=function(s){var c=this.g.ha(!0),u=this,h=new Fs;return h.next=function(){for(var m=c.next();m.substr(0,u.a.length)!=u.a;)m=c.next();return s?m.substr(u.a.length):u.g.get(m)},h},zy(new gI);var rN,oN=new vI;rN=zy(oN)?new Xu(oN,"firebaseui"):null;var yI=new ep(rN),_I={name:"pendingEmailCredential",storage:yI},il={name:"redirectStatus",storage:yI},tp={name:"redirectUrl",storage:yI},Zu={name:"emailForSignIn",storage:new ep(new Ku(3600,"/"))},np={name:"pendingEncryptedCredential",storage:new ep(new Ku(3600,"/"))};function ed(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function rr(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function td(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function sN(s){return ed(tp,s)||null}function qo(s){return s=ed(_I,s)||null,HR(s)}function Go(s){rr(_I,s)}function aN(s,c){td(_I,$R(s),c)}function wI(s){return(s=ed(il,s)||null)&&typeof s.tenantId<"u"?new zR(s.tenantId):null}function v8(s,c){td(il,{tenantId:s.a},c)}function y8(s,c){c=ed(Zu,c);var u=null;if(c)try{var h=ZR(s,c),m=JSON.parse(h);u=m&&m.email||null}catch{}return u}function _8(s,c){c=ed(np,c);var u=null;if(c)try{var h=ZR(s,c);u=JSON.parse(h)}catch{}return HR(u||null)}function w8(s,c,u){td(np,XR(s,JSON.stringify($R(c))),u)}function bI(){this.W={}}function An(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function CI(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}bI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function EI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function II(){this.g=void 0,this.a={}}t=II.prototype,t.set=function(s,c){cN(this,s,c,!1)},t.add=function(s,c){cN(this,s,c,!0)};function cN(s,c,u,h){for(var m=0;m<c.length;m++){var g=c.charAt(m);s.a[g]||(s.a[g]=new II),s=s.a[g]}if(h&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return lN(this,s),s};function lN(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)lN(s.a[u],c)}t.ja=function(){var s=[];return uN(this,"",s),s};function uN(s,c,u){s.g!==void 0&&u.push(c);for(var h in s.a)uN(s.a[h],c+h,u)}t.clear=function(){this.a={},this.g=void 0};function dN(s){for(this.a=s,this.g=new II,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function qy(s,c){s=s.g;var u={},h=0;for(s.g!==void 0&&(u[h]=s.g);h<c.length;h++){var m=c.charAt(h);if(!(m in s.a))break;s=s.a[m],s.g!==void 0&&(u[h]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function rl(s){for(var c=0;c<qi.length;c++)if(qi[c].c===s)return qi[c];return null}function hN(s){s=s.toUpperCase();for(var c=[],u=0;u<qi.length;u++)qi[u].f===s&&c.push(qi[u]);return c}function fN(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<qi.length;u++)qi[u].b==s&&c.push(qi[u]);s=c}else s=hN(s);return s}function pN(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var qi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];pN(qi);var ip=new dN(qi);function mN(s,c){this.a=s,this.Aa=c}function gN(s){s=ii(s);var c=qy(ip,s);return 0<c.length?new mN(c[0].b=="1"?"1-US-0":c[0].c,ii(s.substr(c[0].b.length+1))):null}function SI(s){var c=rl(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function vN(s,c){for(var u=0;u<s.length;u++)if(!ft(yN,s[u])&&(nd!==null&&s[u]in nd||ft(c,s[u])))return s[u];return null}var yN=["emailLink","password","phone"],nd={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function b8(){this.a=new bI,An(this.a,"autoUpgradeAnonymousUsers"),An(this.a,"callbacks"),An(this.a,"credentialHelper",Ky),An(this.a,"immediateFederatedRedirect",!1),An(this.a,"popupMode",!1),An(this.a,"privacyPolicyUrl"),An(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),An(this.a,"queryParameterForWidgetMode","mode"),An(this.a,"signInFlow"),An(this.a,"signInOptions"),An(this.a,"signInSuccessUrl"),An(this.a,"siteName"),An(this.a,"tosUrl"),An(this.a,"widgetUrl"),An(this.a,"adminRestrictedOperation")}function Gy(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!xN(s)&&gr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function Wy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var h=s[u];h=U(h)?h:{provider:h},h.provider&&c.push(h)}return c}function vr(s,c){s=Wy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function id(s){return Wy(s).map(function(c){return c.provider})}function rp(s,c){s=_N(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function _N(s){return Wy(s).map(function(c){if(nd[c.provider]||ft(P8,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(uy(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Aa(uy(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function wN(s){var c=vr(s,be.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in s=s.a.get("credentialHelper"),MI)if(MI[h]===s){var h=MI[h];break e}}h=Ky}u=h===AI}return u&&c.clientId||null}function bN(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function ol(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function C8(s){var c=null;if(Wy(s).forEach(function(h){h.provider==be.auth.PhoneAuthProvider.PROVIDER_ID&&U(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(c=Ea(h.recaptchaParameters))}),c){var u=[];O8.forEach(function(h){typeof c[h]<"u"&&(u.push(h),delete c[h])}),u.length&&Fa('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function E8(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function I8(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function S8(s){return(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function T8(s){if((s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Wu(c)}}return null}function CN(s,c){return s=(s=vr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function EN(s,c){return s=(s=vr(s,c))&&s.customParameters,U(s)?(s=Ea(s),c===be.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===be.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function D8(s){s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=gN(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function x8(s){var c=(s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&hN(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=gN(s.loginHint)),c&&c[0]||u&&rl(u.a)||null}function TI(s){if(s=vr(s,be.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return qi;if(s=[],c){u={};for(var h=0;h<c.length;h++)for(var m=fN(c[h]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(m=fN(u[c]),h=0;h<m.length;h++)_[m[h].c]=m[h];for(m=0;m<qi.length;m++)_!==null&&qi[m].c in _||s.push(qi[m])}return s}function IN(s){return EI(s.a,"queryParameterForWidgetMode")}function Mn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function Pn(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function SN(s){return(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function rd(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function A8(s){return s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function M8(s){if(rd(s)){var c={url:Us(),handleCodeInApp:!0};(s=vr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Ns(c,s.emailLinkSignIn()),s=c.url;var u=Us();u instanceof Ai||(u=Lf(u)),s instanceof Ai||(s=Lf(s));var h=u;u=new Ai(h);var m=!!s.j;m?qc(u,s.j):m=!!s.A,m?u.A=s.A:m=!!s.h,m?u.h=s.h:m=s.C!=null;var g=s.g;if(m)Sa(u,s.C);else if(m=!!s.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],M=0;M<g.length;){var j=g[M++];j=="."?h&&M==g.length&&_.push(""):j==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),h&&M==g.length&&_.push("")):(_.push(j),h=!0)}g=_.join("/")}}return m?u.g=g:m=s.a.toString()!=="",m?Ho(u,Ik(s.a)):m=!!s.s,m&&(u.s=s.s),c.url=u.toString(),c}return null}function DI(s){var c=!!s.a.get("immediateFederatedRedirect"),u=id(s);return s=TN(s),c&&u.length==1&&!ft(yN,u[0])&&s==Qy}function TN(s){s=s.a.get("signInFlow");for(var c in PI)if(PI[c]==s)return PI[c];return Qy}function xI(s){return op(s).signInSuccess||null}function DN(s){return op(s).signInSuccessWithAuthResult||null}function xN(s){return op(s).signInFailure||null}function op(s){return s.a.get("callbacks")||{}}var AI="googleyolo",Ky="none",MI={nc:AI,NONE:Ky},Qy="redirect",PI={qc:"popup",rc:Qy},OI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},P8=["anonymous"],O8=["sitekey","tabindex","callback","expired-callback"],sp,od,kI,AN,Pt={};function ye(s,c,u,h){Pt[s].apply(null,Array.prototype.slice.call(arguments,1))}function MN(s){return s.classList?s.classList:(s=s.className,I(s)&&s.match(/\S+/g)||[])}function ap(s,c){return s.classList?s.classList.contains(c):ft(MN(s),c)}function Wo(s,c){s.classList?s.classList.add(c):ap(s,c)||(s.className+=0<s.className.length?" "+c:c)}function Ko(s,c){s.classList?s.classList.remove(c):ap(s,c)&&(s.className=gt(MN(s),function(u){return u!=c}).join(" "))}function oi(s){var c=s.type;switch(I(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,h=0;u=s.options[h];h++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function PN(s,c){var u=s.type;switch(I(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,I(c)){for(var h=0;u=s.options[h];h++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(I(c)&&(c=[c]),h=0;u=s.options[h];h++)if(u.selected=!1,c)for(var m,g=0;m=c[g];g++)u.value==m&&(u.selected=!0);break;default:s.value=c??""}}function k8(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(cp(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ao;default:return 166>s.keyCode||183<s.keyCode}}function ON(s,c,u,h,m,g){if($i&&!Kc("525"))return!0;if(xa&&m)return cp(s);if(m&&!h)return!1;if(!ao){typeof c=="number"&&(c=RI(c));var _=c==17||c==18||xa&&c==91;if((!u||xa)&&_||xa&&c==16&&(h||g))return!1}if(($i||Da)&&h&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(pn&&h&&c==s)return!1;switch(s){case 13:return ao?g||m?!1:!(u&&h):!0;case 27:return!($i||Da||ao)}return ao&&(h||m||g)?!1:cp(s)}function cp(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||($i||Da)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ao;default:return!1}}function RI(s){if(ao)s=R8(s);else if(xa&&$i)switch(s){case 93:s=91}return s}function R8(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function sd(s){Un.call(this),this.a=s,co(s,"keydown",this.g,!1,this),co(s,"click",this.h,!1,this)}z(sd,Un),sd.prototype.g=function(s){(s.keyCode==13||$i&&s.keyCode==3)&&kN(this,s)},sd.prototype.h=function(s){kN(this,s)};function kN(s,c){var u=new NN(c);if(Ra(s,u)){u=new RN(c);try{Ra(s,u)}finally{c.stopPropagation()}}}sd.prototype.o=function(){sd.K.o.call(this),Zc(this.a,"keydown",this.g,!1,this),Zc(this.a,"click",this.h,!1,this),delete this.a};function RN(s){zi.call(this,s.a),this.type="action"}z(RN,zi);function NN(s){zi.call(this,s.a),this.type="beforeaction"}z(NN,zi);function ad(s){Un.call(this),this.a=s,s=pn?"focusout":"blur",this.g=co(this.a,pn?"focusin":"focus",this,!pn),this.h=co(this.a,s,this,!pn)}z(ad,Un),ad.prototype.handleEvent=function(s){var c=new zi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Ra(this,c)},ad.prototype.o=function(){ad.K.o.call(this),ka(this.g),ka(this.h),delete this.a};function Yy(s,c){Un.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=nn()}z(Yy,Un),t=Yy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=nn()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Ra(this,"tick"),this.Ka&&(Jy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=nn())};function Jy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Yy.K.o.call(this),Jy(this),delete this.a};function N8(s,c){if(ne(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function cd(s){Xc.call(this),this.g=s,this.a={}}z(cd,Xc);var FN=[];function ld(s,c,u,h){q(u)||(u&&(FN[0]=u.toString()),u=FN);for(var m=0;m<u.length;m++){var g=co(c,u[m],h||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function LN(s){Hc(s.a,function(c,u){this.a.hasOwnProperty(u)&&ka(c)},s),s.a={}}cd.prototype.o=function(){cd.K.o.call(this),LN(this)},cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lp(s){Un.call(this),this.a=null,this.g=s,s=pn||Da||$i&&!Kc("531")&&s.tagName=="TEXTAREA",this.h=new cd(this),ld(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}z(lp,Un),lp.prototype.handleEvent=function(s){if(s.type=="input")pn&&Kc(10)&&s.keyCode==0&&s.j==0||(NI(this),Ra(this,VN(s)));else if(s.type!="keydown"||k8(s)){var c=s.type=="keydown"?this.g.value:null;pn&&s.keyCode==229&&(c=null);var u=VN(s);NI(this),this.a=N8(function(){this.a=null,this.g.value!=c&&Ra(this,u)},this)}};function NI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function VN(s){return s=new zi(s.a),s.type="input",s}lp.prototype.o=function(){lp.K.o.call(this),this.h.m(),NI(this),delete this.g};function up(s,c){Un.call(this),s&&(this.Oa&&HN(this),this.qa=s,this.Na=co(this.qa,"keypress",this,c),this.Ya=co(this.qa,"keydown",this.Jb,c,this),this.Oa=co(this.qa,"keyup",this.Kb,c,this))}z(up,Un),t=up.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var jN={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},UN={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},BN=!$i||Kc("525"),$N=xa&&ao;t=up.prototype,t.Jb=function(s){($i||Da)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||xa&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),BN&&!ON(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=RI(s.keyCode),$N&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(pn&&s.type=="keypress")var h=this.X,m=h!=13&&h!=27?c.keyCode:0;else($i||Da)&&s.type=="keypress"?(h=this.X,m=0<=c.charCode&&63232>c.charCode&&cp(h)?c.charCode:0):Mk&&!$i?(h=this.X,m=cp(h)?c.keyCode:0):(s.type=="keypress"?($N&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(h=c.keyCode,m=0):(h=this.X,m=c.charCode):(h=c.keyCode||this.X,m=c.charCode||0)):(h=c.keyCode||this.X,m=c.charCode||0),xa&&m==63&&h==224&&(h=191));var g=h=RI(h);h?63232<=h&&h in jN?g=jN[h]:h==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in UN&&(g=UN[c.keyIdentifier]),ao&&BN&&s.type=="keypress"&&!ON(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new zN(g,m,s,c),c.altKey=u,Ra(this,c))},t.N=function(){return this.qa};function HN(s){s.Na&&(ka(s.Na),ka(s.Ya),ka(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){up.K.o.call(this),HN(this)};function zN(s,c,u,h){zi.call(this,h),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}z(zN,zi);function ud(s,c,u,h){this.top=s,this.right=c,this.bottom=u,this.left=h}ud.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ud.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ud.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ud.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Xy(s,c){var u=Bf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function qN(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return pn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function F8(s,c){c=c||fy(document);var u=c||fy(document),h=GN(s),m=GN(u);if(!pn||9<=Number(jf)){_=Xy(u,"borderLeftWidth");var g=Xy(u,"borderRightWidth");M=Xy(u,"borderTopWidth"),j=Xy(u,"borderBottomWidth"),g=new ud(parseFloat(M),parseFloat(g),parseFloat(j),parseFloat(_))}else{var _=Zy(u,"borderLeft");g=Zy(u,"borderRight");var M=Zy(u,"borderTop"),j=Zy(u,"borderBottom");g=new ud(M,g,j,_)}u==fy(document)?(_=h.a-u.scrollLeft,h=h.g-u.scrollTop,!pn||10<=Number(jf)||(_+=g.left,h+=g.top)):(_=h.a-m.a-g.left,h=h.g-m.g-g.top),m=s.offsetWidth,g=s.offsetHeight,M=$i&&!m&&!g,y(m)&&!M||!s.getBoundingClientRect?s=new RE(m,g):(s=qN(s),s=new RE(s.right-s.left,s.bottom-s.top)),m=u.clientHeight-s.height,g=u.scrollLeft,M=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),M+=Math.min(h,Math.max(h-m,0)),u=new Pa(g,M),c.scrollLeft=u.a,c.scrollTop=u.g}function GN(s){var c=Bf(s),u=new Pa(0,0),h=c?Bf(c):document;return h=!pn||9<=Number(jf)||hy(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,s==h||(s=qN(s),h=hy(c).a,c=fy(h),h=h.parentWindow||h.defaultView,c=pn&&Kc("10")&&h.pageYOffset!=c.scrollTop?new Pa(c.scrollLeft,c.scrollTop):new Pa(h.pageXOffset||c.scrollLeft,h.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var WN={thin:2,medium:4,thick:6};function Zy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in WN)s=WN[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var h=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=h,s=+u}return s}function FI(){}O(FI),FI.prototype.a=0;function sl(s){Un.call(this),this.s=s||hy(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}z(sl,Un),t=sl.prototype,t.Lb=FI.Xa(),t.N=function(){return this.g};function yt(s,c){return s.g?FE(c,s.g||s.s.a):null}function dp(s){return s.L||(s.L=new cd(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");sl.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,LI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){LI(this,function(s){s.na&&s.ya()}),this.L&&LN(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),LI(this,function(s){s.m()}),this.g&&Yc(this.g),this.Y=this.g=this.oa=this.Ea=null,sl.K.o.call(this)};function LI(s,c){s.Ea&&Nt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=I(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var h=this.oa;if(u in h&&delete h[u],Vn(this.Ea,s),c&&(s.ya(),s.g&&Yc(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,sl.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function vn(s,c){var u=zk(s,"firebaseui-textfield");c?(Ko(s,"firebaseui-input-invalid"),Wo(s,"firebaseui-input"),u&&Ko(u,"firebaseui-textfield-invalid")):(Ko(s,"firebaseui-input"),Wo(s,"firebaseui-input-invalid"),u&&Wo(u,"firebaseui-textfield-invalid"))}function dd(s,c,u){c=new lp(c),zf(s,He(qf,c)),ld(dp(s),c,"input",u)}function hp(s,c,u){c=new up(c),zf(s,He(qf,c)),ld(dp(s),c,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function L8(s,c,u){c=new ad(c),zf(s,He(qf,c)),ld(dp(s),c,"focusin",u)}function V8(s,c,u){c=new ad(c),zf(s,He(qf,c)),ld(dp(s),c,"focusout",u)}function hn(s,c,u){c=new sd(c),zf(s,He(qf,c)),ld(dp(s),c,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function yr(s){Wo(s,"firebaseui-hidden")}function si(s,c){c&&LE(s,c),Ko(s,"firebaseui-hidden")}function hd(s){return!ap(s,"firebaseui-hidden")&&s.style.display!="none"}function fd(s){s=s||{};var c=s.email,u=s.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=s.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Hi(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ge(h)}function or(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+ke(s):c+"Next",ge(c+"</button>")}function VI(){var s=""+or({label:mn("Sign In")});return ge(s)}function KN(){var s=""+or({label:mn("Save")});return ge(s)}function lo(){var s=""+or({label:mn("Continue")});return ge(s)}function QN(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+ke(s):c+"Choose password",ge(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function YN(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",ge(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function JN(){return ge('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function _r(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+ke(s):c+"Cancel",ge(c+"</button>")}function yi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ge(c)}function pd(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ge(c)}function XN(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+ke(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ge(s)}XN.a="firebaseui.auth.soy2.element.infoBar";function ZN(s){var c=s.content;return s=s.Ab,ge('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+Hi(s):"")+'">'+ke(c)+"</dialog>")}function eF(s){var c=s.message;return ge(ZN({content:Wk('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Hi(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+ke(c)+"</div>")}))}eF.a="firebaseui.auth.soy2.element.progressDialog";function tF(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,h=0;h<u;h++){var m=s[h];c+='<button type="button" data-listboxid="'+Hi(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Hi(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+ke(m.label)+"</div></button>"}return c=""+ZN({Ab:mn("firebaseui-list-box-dialog"),content:Wk(c+"</div>")}),ge(c)}tF.a="firebaseui.auth.soy2.element.listBoxDialog";function e_(s){return s=s||{},ge(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}e_.a="firebaseui.auth.soy2.element.busyIndicator";function La(s,c){return s=s||{},s=s.ga,Tt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function jI(s){nF(s,"upgradeElement")}function UI(s){nF(s,"downgradeElements")}var j8=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function nF(s,c){s&&window.componentHandler&&window.componentHandler[c]&&j8.forEach(function(u){ap(s,u)&&window.componentHandler[c](s),Nt(NE(u,s),function(h){window.componentHandler[c](h)})})}function iF(s,c,u){if(t_.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),jI(s),c&&hn(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&t_.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var m=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=h.getBoundingClientRect().height,M=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,j=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=s.getBoundingClientRect().width,_e=h.getBoundingClientRect().width;s.style.top=(M+(_-g)/2).toString()+"px",g=j+(_e-Y)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function t_(){var s=BI.call(this);s&&(UI(s),s.open&&s.close(),Yc(s),this.da&&window.removeEventListener("resize",this.da))}function BI(){return FE("firebaseui-id-dialog")}function rF(){Yc(oF.call(this))}function oF(){return yt(this,"firebaseui-id-info-bar")}function sF(){return yt(this,"firebaseui-id-dismiss-info-bar")}var U8={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function $I(s,c,u){Vs.call(this,s,c);for(var h in u)this[h]=u[h]}z($I,Vs);function G(s,c,u,h,m){sl.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Ea(U8),Ns(this.Z,m||{})}z(G,sl),t=G.prototype,t.kb=function(){var s=$f(this.fb,this.eb,this.Z,this.s);jI(s),this.g=s},t.v=function(){if(G.K.v.call(this),cR(on(this),new $I("pageEnter",on(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;hn(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;hn(this,this.ab(),function(){c()})}},t.ya=function(){cR(on(this),new $I("pageExit",on(this),{pageId:this.Ga})),G.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,UI(this.N()),G.K.o.call(this)};function B8(s){s.Fa=!0;var c=ap(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=$f(e_,{tb:c},null,s.s),s.N().appendChild(s.A),jI(s.A))},500)}t.I=function(s,c,u,h){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(UI(g.A),Yc(g.A),g.A=null)}var g=this;return g.Fa?null:(B8(g),s.apply(null,c).then(u,h).then(m,m))};function on(s){return s.N().parentElement||s.N().parentNode}function fp(s,c,u){hp(s,c,function(){u.focus()})}function md(s,c,u){hp(s,c,function(){u()})}Te(G.prototype,{a:function(s){rF.call(this);var c=$f(XN,{message:s},null,this.s);this.N().appendChild(c),hn(this,sF.call(this),function(){Yc(c)})},yc:rF,Ac:oF,zc:sF,$:function(s,c){s=$f(eF,{Ma:s,message:c},null,this.s),iF.call(this,s)},h:t_,Cb:BI,Cc:function(){return yt(this,"firebaseui-tos")},bb:function(){return yt(this,"firebaseui-tos-link")},ab:function(){return yt(this,"firebaseui-pp-link")},Dc:function(){return yt(this,"firebaseui-tos-list")}});function aF(s,c,u){s=s||{},c=s.Va;var h=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+or(null)+'</div></div><div class="firebaseui-card-footer">'+(h?pd(u):yi(u))+"</div></form></div>",ge(s)}aF.a="firebaseui.auth.soy2.page.signIn";function cF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+fd(s)+YN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+JN()+'</div><div class="firebaseui-form-actions">'+VI()+'</div></div><div class="firebaseui-card-footer">'+(c?pd(u):yi(u))+"</div></form></div>",ge(s)}cF.a="firebaseui.auth.soy2.page.passwordSignIn";function lF(s,c,u){s=s||{};var h=s.Tb;c=s.Ta;var m=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+fd(s);return h?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Hi(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=ge(s)):s="",u=g+s+QN(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+KN()+'</div></div><div class="firebaseui-card-footer">'+(m?pd(u):yi(u))+"</div></form></div>",ge(u)}lF.a="firebaseui.auth.soy2.page.passwordSignUp";function uF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+fd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?_r(null):"")+or({label:mn("Send")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(s)}uF.a="firebaseui.auth.soy2.page.passwordRecovery";function dF(s,c,u){c=s.G;var h="";return s="Follow the instructions sent to <strong>"+(ke(s.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(h+='<div class="firebaseui-form-actions">'+or({label:mn("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+yi(u)+"</div></div>",ge(h)}dF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function hF(s,c,u){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+e_(null,null,u)+"</div></div>")}hF.a="firebaseui.auth.soy2.page.callback";function fF(s,c,u){return ge('<div class="firebaseui-container firebaseui-id-page-spinner">'+e_({tb:!0},null,u)+"</div>")}fF.a="firebaseui.auth.soy2.page.spinner";function pF(){return ge('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}pF.a="firebaseui.auth.soy2.page.blank";function mF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(ke(s.email)+"</strong>. Check your email to complete sign-in.");var h=ge('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+_r({label:mn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}mF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function gF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ge('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+_r({label:mn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(s)}gF.a="firebaseui.auth.soy2.page.emailNotReceived";function vF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+fd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or(null)+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(s)}vF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function yF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r({label:mn("Dismiss")})+"</div></div></div>";return ge(s)}yF.a="firebaseui.auth.soy2.page.differentDeviceError";function _F(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r({label:mn("Dismiss")})+"</div></div></div>";return ge(s)}_F.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function wF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(ke(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+YN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+JN()+'</div><div class="firebaseui-form-actions">'+VI()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}wF.a="firebaseui.auth.soy2.page.passwordLinking";function bF(s,c,u){var h=s.email;return c="",s=""+La(s,u),s=mn(s),h="You\u2019ve already used <strong>"+(ke(h)+("</strong>. You can connect your <strong>"+(ke(s)+("</strong> account with <strong>"+(ke(h)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(ke(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+VI()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}bF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function CF(s,c,u){c="";var h=""+La(s,u);return h=mn(h),s="You originally intended to connect <strong>"+(ke(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(ke(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+lo()+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}CF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function EF(s,c,u){var h=s.email;return c="",s=""+La(s,u),s=mn(s),h="You\u2019ve already used <strong>"+(ke(h)+("</strong>. Sign in with "+(ke(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+or({label:mn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}EF.a="firebaseui.auth.soy2.page.federatedLinking";function IF(s,c,u){s=s||{};var h=s.kc;c=s.yb,s=s.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(ke(h)+"</strong> is not authorized to view the requested page."),m+=h):m+="User is not authorized to view the requested page.",m+="</p>",c&&(c="Please contact <strong>"+(ke(c)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+_r({label:mn("Back")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(m)}IF.a="firebaseui.auth.soy2.page.unauthorizedUser";function SF(s,c,u){return c="",s="To continue sign in with <strong>"+(ke(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:mn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}SF.a="firebaseui.auth.soy2.page.unsupportedProvider";function TF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(ke(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+QN(Aq(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+KN()+"</div></div></form></div>",ge(c)}TF.a="firebaseui.auth.soy2.page.passwordReset";function DF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}DF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function xF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}xF.a="firebaseui.auth.soy2.page.passwordResetFailure";function AF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(ke(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></form></div>",ge(u)}AF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function MF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}MF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function PF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}PF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function OF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}OF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function kF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(ke(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(u)}kF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function RF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}RF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function NF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(ke(c)+(" "+(ke(u)+"</strong> was removed as a second authentication step."))),h+=c;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></form></div>",ge(h)}NF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function FF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+lo()+"</div>":"")+"</div></div>",ge(s)}FF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function LF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ke(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=or({label:mn("Retry")})),ge(s+"</div></div></div>")}LF.a="firebaseui.auth.soy2.page.recoverableError";function VF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ke(s.errorMessage)+"</p></div></div>",ge(s)}VF.a="firebaseui.auth.soy2.page.unrecoverableError";function jF(s,c,u){var h=s.Qb;return c="",s="Continue with "+(ke(s.jc)+"?"),h="You originally wanted to sign in with "+ke(h),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:mn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form></div>",ge(c)}jF.a="firebaseui.auth.soy2.page.emailMismatch";function UF(s,c,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var m=0;m<c;m++){var g={ga:s[m]},_=u;g=g||{};var M=g.ga,j=g;j=j||{};var Y="";switch(j.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}j='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Hi(Tt(Y))+' firebaseui-id-idp-button" data-provider-id="'+Hi(M.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,j=j+Hi(Kk(Tt(Y.ta?Y.ta:_.wa[Y.providerId]?""+_.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+_.wa.saml:Y.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var _e=g;Y=_,_e=_e||{},_e=_e.ga,Y=xq(_e.za?Jc(_e.za):Y.xa[_e.providerId]?Jc(Y.xa[_e.providerId]):_e.providerId.indexOf("saml.")==0?Jc(Y.xa.saml):_e.providerId.indexOf("oidc.")==0?Jc(Y.xa.oidc):Jc(Y.xa.password)),j=j+Hi(Jc(Y))+'"></span>',M.providerId=="password"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(La(g,_)),j+=g):j+="Sign in with email",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Email",j+="</span>"):M.providerId=="phone"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(La(g,_)),j+=g):j+="Sign in with phone",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Phone",j+="</span>"):M.providerId=="anonymous"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(La(g,_)),j+=g):j+="Continue as guest",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Guest",j+="</span>"):(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):(Y="Sign in with "+ke(La(g,_)),j+=Y),j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(M.S?ke(M.S):ke(La(g,_)))+"</span>"),M=ge(j+"</button>"),h+='<li class="firebaseui-list-item">'+M+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",ge(h)}UF.a="firebaseui.auth.soy2.page.providerSignIn";function BF(s,c,u){s=s||{};var h=s.Gb,m=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Hi(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ge(s);var g;return h?g=ge('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?_r(null):"")+or({label:mn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ge(c+"</p>")):u=ge('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+yi(u),ge(g+u+"</div></form></div>")}BF.a="firebaseui.auth.soy2.page.phoneSignInStart";function $F(s,c,u){s=s||{},c=s.phoneNumber;var h="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(ke(c)+"</a>"),ke(c),c=h,h=ge('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_r(null)+or({label:mn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yi(u)+"</div></form>",s=ge('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ge(c+(u+s+"</div>"))}$F.a="firebaseui.auth.soy2.page.phoneSignInFinish";function HF(){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}HF.a="firebaseui.auth.soy2.page.signOut";function zF(s,c,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var m=0;m<c;m++){var g=s[m],_="",M=ke(g.displayName),j=g.tenantId?g.tenantId:"top-level-project";j=mn(j),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Hi(j)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Hi(g.tenantId)+'"':"")+'style="background-color:'+Hi(Kk(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Hi(Jc(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=ke(g.V):(g="Sign in to "+ke(g.displayName),_+=g),_=ge(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+M+"</span></button>")),h+='<li class="firebaseui-list-item">'+_+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+pd(u)+"</div></div>",ge(h)}zF.a="firebaseui.auth.soy2.page.selectTenant";function qF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+or(null)+'</div></div><div class="firebaseui-card-footer">'+pd(u)+"</div></form></div>",ge(s)}qF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qn(){return yt(this,"firebaseui-id-submit")}function $n(){return yt(this,"firebaseui-id-secondary-link")}function ai(s,c){hn(this,Qn.call(this),function(h){s(h)});var u=$n.call(this);u&&c&&hn(this,u,function(h){c(h)})}function n_(){return yt(this,"firebaseui-id-password")}function i_(){return yt(this,"firebaseui-id-password-error")}function GF(){var s=n_.call(this),c=i_.call(this);dd(this,s,function(){hd(c)&&(vn(s,!0),yr(c))})}function WF(){var s=n_.call(this),c=i_.call(this);return oi(s)?(vn(s,!0),yr(c),c=!0):(vn(s,!1),si(c,Tt("Enter your password").toString()),c=!1),c?oi(s):null}function gd(s,c,u,h,m,g){G.call(this,wF,{email:s},g,"passwordLinking",{F:h,D:m}),this.w=c,this.H=u}l(gd,G),gd.prototype.v=function(){this.P(),this.M(this.w,this.H),md(this,this.i(),this.w),this.i().focus(),G.prototype.v.call(this)},gd.prototype.o=function(){this.w=null,G.prototype.o.call(this)},gd.prototype.j=function(){return oi(yt(this,"firebaseui-id-email"))},Te(gd.prototype,{i:n_,B:i_,P:GF,u:WF,ea:Qn,ba:$n,M:ai});var $8=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Bs(){return yt(this,"firebaseui-id-email")}function Va(){return yt(this,"firebaseui-id-email-error")}function vd(s){var c=Bs.call(this),u=Va.call(this);dd(this,c,function(){hd(u)&&(vn(c,!0),yr(u))}),s&&hp(this,c,function(){s()})}function yd(){return ii(oi(Bs.call(this))||"")}function _d(){var s=Bs.call(this),c=Va.call(this),u=oi(s)||"";return u?$8.test(u)?(vn(s,!0),yr(c),c=!0):(vn(s,!1),si(c,Tt("That email address isn't correct").toString()),c=!1):(vn(s,!1),si(c,Tt("Enter your email address to continue").toString()),c=!1),c?ii(oi(s)):null}function pp(s,c,u,h,m,g,_){G.call(this,cF,{email:u,ia:!!g},_,"passwordSignIn",{F:h,D:m}),this.w=s,this.H=c}l(pp,G),pp.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),fp(this,this.l(),this.i()),md(this,this.i(),this.w),oi(this.l())?this.i().focus():this.l().focus(),G.prototype.v.call(this)},pp.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Te(pp.prototype,{l:Bs,U:Va,P:vd,M:yd,j:_d,i:n_,B:i_,ea:GF,u:WF,ua:Qn,pa:$n,ba:ai});function Ft(s,c,u,h,m,g){G.call(this,s,c,h,m||"notice",g),this.i=u||null}z(Ft,G),Ft.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Ft.K.v.call(this)},Ft.prototype.o=function(){this.i=null,Ft.K.o.call(this)},Te(Ft.prototype,{l:Qn,w:$n,u:ai});function r_(s,c,u,h,m){Ft.call(this,dF,{email:s,G:!!c},c,m,"passwordRecoveryEmailSent",{F:u,D:h})}z(r_,Ft);function KF(s,c){Ft.call(this,PF,{G:!!s},s,c,"emailVerificationSuccess")}z(KF,Ft);function QF(s,c){Ft.call(this,OF,{G:!!s},s,c,"emailVerificationFailure")}z(QF,Ft);function YF(s,c,u){Ft.call(this,kF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}z(YF,Ft);function JF(s,c){Ft.call(this,RF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}z(JF,Ft);function XF(s,c){Ft.call(this,FF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}z(XF,Ft);function ZF(s){Ft.call(this,HF,void 0,void 0,s,"signOut")}z(ZF,Ft);function e2(s,c){Ft.call(this,DF,{G:!!s},s,c,"passwordResetSuccess")}z(e2,Ft);function t2(s,c){Ft.call(this,xF,{G:!!s},s,c,"passwordResetFailure")}z(t2,Ft);function n2(s,c){Ft.call(this,MF,{G:!!s},s,c,"emailChangeRevokeFailure")}z(n2,Ft);function i2(s,c,u){Ft.call(this,LF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}z(i2,Ft);function r2(s,c){Ft.call(this,VF,{errorMessage:s},void 0,c,"unrecoverableError")}z(r2,Ft);function mp(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function $s(s,c,u,h){function m(_){if(!_.name||_.name!="cancel"){e:{var M=_.message;try{var j=((JSON.parse(M).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(j&&j.length){var Y=!0;break e}}catch{}Y=!1}if(Y)_=on(c),c.m(),Ht(s,_,void 0,Tt("Your sign-in session has expired. Please try again.").toString());else{if(Y=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Y=jt(_)}c.a(Y)}}}if(T2(s),h)return o2(s,u),gn();if(!u.credential)throw Error("No credential found!");if(!dt(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=wG(s,u)}catch(_){return gr(_.code||_.message,_),c.a(_.code||_.message),gn()}return u=g.then(function(_){o2(s,_)},m).then(void 0,m),Ge(s,g),gn(u)}function o2(s,c){if(!c.user)throw Error("No user found");var u=DN(W(s));if(xI(W(s))&&u&&Fa("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=DN(W(s));var h=sN(Pe(s))||void 0;rr(tp,Pe(s));var m=!1;TR()?((!u||u(c,h))&&(m=!0,zu(window.opener.location,o_(s,h))),u||window.close()):(!u||u(c,h))&&(m=!0,zu(window.location,o_(s,h))),m||s.reset()}else{u=c.user,c=c.credential,h=xI(W(s)),m=sN(Pe(s))||void 0,rr(tp,Pe(s));var g=!1;TR()?((!h||h(u,c,m))&&(g=!0,zu(window.opener.location,o_(s,m))),h||window.close()):(!h||h(u,c,m))&&(g=!0,zu(window.location,o_(s,m))),g||s.reset()}}function o_(s,c){if(s=c||W(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function jt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Zk();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Zk();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=BE();break;case"auth/invalid-verification-code":u+=Tt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=Tt(u).toString())return c;try{return JSON.parse(s.message),gr("Internal error: "+s.message,void 0),Yk().toString()}catch{return s.message}}function H8(s,c,u){var h=nd[c]&&be.auth[nd[c]]?new be.auth[nd[c]]:c.indexOf("saml.")==0?new be.auth.SAMLAuthProvider(c):new be.auth.OAuthProvider(c);if(!h)throw Error("Invalid Firebase Auth provider!");var m=CN(W(s),c);if(h.addScope)for(var g=0;g<m.length;g++)h.addScope(m[g]);return m=EN(W(s),c)||{},u&&(c==be.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==be.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=rp(W(s),c))&&s.Ob,s&&(m[s]=u)),h.setCustomParameters&&h.setCustomParameters(m),h}function gp(s,c,u,h){function m(){v8(new zR(s.h.tenantId||null),Pe(s)),Ge(s,c.I(Ie(s.dc,s),[j],function(){if((window.location&&window.location.protocol)==="file:")return Ge(s,b2(s).then(function(Y){c.m(),rr(il,Pe(s)),ye("callback",s,M,gn(Y))},g))},_))}function g(Y){if(rr(il,Pe(s)),!Y.name||Y.name!="cancel")switch(Y=mp(Y),Y.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(jt(Y));break;case"auth/admin-restricted-operation":c.m(),ol(W(s))?ye("handleUnauthorizedUser",s,M,null,u):ye("callback",s,M,qu(Y));break;default:c.m(),ye("callback",s,M,qu(Y))}}function _(Y){rr(il,Pe(s)),Y.name&&Y.name=="cancel"||(gr("signInWithRedirect: "+Y.code,void 0),Y=jt(Y),c.Ga=="blank"&&DI(W(s))?(c.m(),ye("providerSignIn",s,M,Y)):c.a(Y))}var M=on(c),j=H8(s,u,h);TN(W(s))==Qy?m():Ge(s,_G(s,j).then(function(Y){c.m(),ye("callback",s,M,gn(Y))},g))}function z8(s,c){Ge(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),$s(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(gr("ContinueAsGuest: "+u.code,void 0),u=jt(u),c.a(u))}))}function q8(s,c,u){function h(g){var _=!1;return g=c.I(Ie(s.ac,s),[g],function(M){var j=on(c);c.m(),ye("callback",s,j,gn(M)),_=!0},function(M){if((!M.name||M.name!="cancel")&&(!M||M.code!="auth/credential-already-in-use"))if(M&&M.code=="auth/email-already-in-use"&&M.email&&M.credential){var j=on(c);c.m(),ye("callback",s,j,qu(M))}else M&&M.code=="auth/admin-restricted-operation"&&ol(W(s))?(M=on(c),c.m(),ye("handleUnauthorizedUser",s,M,null,be.auth.GoogleAuthProvider.PROVIDER_ID)):(M=jt(M),c.a(M))}),Ge(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===wN(W(s))){if(CN(W(s),be.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return gp(s,c,be.auth.GoogleAuthProvider.PROVIDER_ID,m),gn(!0)}return h(be.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(Tt("The selected credential for the authentication provider is not supported!").toString()),gn(!1)}function G8(s,c){var u=c.j(),h=c.u();if(u)if(h){var m=be.auth.EmailAuthProvider.credential(u,h);Ge(s,c.I(Ie(s.bc,s),[u,h],function(g){return $s(s,c,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":vn(c.l(),!1),si(c.U(),jt(g));break;case"auth/too-many-requests":case"auth/wrong-password":vn(c.i(),!1),si(c.B(),jt(g));break;default:gr("verifyPassword: "+g.message,void 0),c.a(jt(g))}}))}else c.i().focus();else c.l().focus()}function s_(s){return s=id(W(s)),s.length==1&&s[0]==be.auth.EmailAuthProvider.PROVIDER_ID}function s2(s){return s=id(W(s)),s.length==1&&s[0]==be.auth.PhoneAuthProvider.PROVIDER_ID}function Ht(s,c,u,h){s_(s)?h?ye("signIn",s,c,u,h):zI(s,c,u):s&&s2(s)&&!h?ye("phoneSignInStart",s,c):s&&DI(W(s))&&!h?ye("federatedRedirect",s,c,u):ye("providerSignIn",s,c,h,u)}function a2(s,c,u,h){var m=on(c);Ge(s,c.I(Ie(dt(s).fetchSignInMethodsForEmail,dt(s)),[u],function(g){c.m(),c2(s,m,g,u,h)},function(g){g=jt(g),c.a(g)}))}function c2(s,c,u,h,m,g){u.length||rd(W(s))&&!rd(W(s))?ft(u,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordSignIn",s,c,h,g):u.length==1&&u[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?rd(W(s))?ye("sendEmailLinkForSignIn",s,c,h,function(){ye("signIn",s,c)}):ye("unsupportedProvider",s,c,h):(u=vN(u,id(W(s))))?(aN(new pI(h),Pe(s)),ye("federatedSignIn",s,c,h,u,m)):ye("unsupportedProvider",s,c,h):bN(W(s))?ye("handleUnauthorizedUser",s,c,h,be.auth.EmailAuthProvider.PROVIDER_ID):rd(W(s))?ye("sendEmailLinkForSignIn",s,c,h,function(){ye("signIn",s,c)}):ye("passwordSignUp",s,c,h,void 0,void 0,g)}function HI(s,c,u,h,m,g){var _=on(c);Ge(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),ye("emailLinkSignInSent",s,_,u,h,g)},m))}function zI(s,c,u){u?ye("prefilledEmailSignIn",s,c,u):ye("signIn",s,c)}function vp(){return so(Us(),"oobCode")}function qI(){var s=so(Us(),"continueUrl");return s?function(){zu(window.location,s)}:null}function yp(s,c){G.call(this,_F,void 0,c,"anonymousUserMismatch"),this.i=s}l(yp,G),yp.prototype.v=function(){var s=this;hn(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},yp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(yp.prototype,{l:$n}),Pt.anonymousUserMismatch=function(s,c){var u=new yp(function(){u.m(),Ht(s,c)});u.render(c),tt(s,u)};function a_(s){G.call(this,hF,void 0,s,"callback")}l(a_,G),a_.prototype.I=function(s,c,u,h){return s.apply(null,c).then(u,h)};function l2(s,c,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=qo(Pe(s)),g=m&&m.g;if(g&&!K8(u.user,g))W8(s,c,h);else{var _=m&&m.a;_?Ge(s,u.user.linkWithCredential(_).then(function(M){h={user:M.user,credential:_,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo},u2(s,c,h)},function(M){c_(s,c,M)})):u2(s,c,h)}}else u=on(c),c.m(),Go(Pe(s)),Ht(s,u)}function u2(s,c,u){Go(Pe(s)),$s(s,c,u)}function c_(s,c,u){var h=on(c);Go(Pe(s)),u=jt(u),c.m(),Ht(s,h,void 0,u)}function d2(s,c,u,h){var m=on(c);Ge(s,dt(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?ft(g,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordLinking",s,m,u):g.length==1&&g[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ye("emailLinkSignInLinking",s,m,u):(g=vN(g,id(W(s))))?ye("federatedLinking",s,m,u,g,h):(Go(Pe(s)),ye("unsupportedProvider",s,m,u)):(Go(Pe(s)),ye("passwordRecovery",s,m,u,!1,Jk().toString()))},function(g){c_(s,c,g)}))}function W8(s,c,u){var h=on(c);Ge(s,ja(s).then(function(){c.m(),ye("emailMismatch",s,h,u)},function(m){m.name&&m.name=="cancel"||(m=jt(m.code),c.a(m))}))}function K8(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}Pt.callback=function(s,c,u){var h=new a_;h.render(c),tt(s,h),u=u||b2(s),Ge(s,u.then(function(m){l2(s,h,m)},function(m){if((m=mp(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)aN(new pI(m.email,m.credential),Pe(s)),d2(s,h,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=qo(Pe(s)),_=jt(m);g&&g.a?d2(s,h,g.g,_):g?a2(s,h,g.g,_):c_(s,h,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&s_(s)?l2(s,h,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&ol(W(s))?(h.m(),Go(Pe(s)),ye("handleUnauthorizedUser",s,c,null,null)):c_(s,h,m))}))};function _p(s,c){G.call(this,yF,void 0,c,"differentDeviceError"),this.i=s}l(_p,G),_p.prototype.v=function(){var s=this;hn(this,this.l(),function(){s.i()}),this.l().focus(),G.prototype.v.call(this)},_p.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(_p.prototype,{l:$n}),Pt.differentDeviceError=function(s,c){var u=new _p(function(){u.m(),Ht(s,c)});u.render(c),tt(s,u)};function wp(s,c,u,h){G.call(this,AF,{email:s,G:!!u},h,"emailChangeRevoke"),this.l=c,this.i=u||null}l(wp,G),wp.prototype.v=function(){var s=this;hn(this,yt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},wp.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Te(wp.prototype,{u:Qn,B:$n,w:ai});function bp(){return yt(this,"firebaseui-id-new-password")}function l_(){return yt(this,"firebaseui-id-password-toggle")}function Q8(){this.Ra=!this.Ra;var s=l_.call(this),c=bp.call(this);this.Ra?(c.type="text",Wo(s,"firebaseui-input-toggle-off"),Ko(s,"firebaseui-input-toggle-on")):(c.type="password",Wo(s,"firebaseui-input-toggle-on"),Ko(s,"firebaseui-input-toggle-off")),c.focus()}function u_(){return yt(this,"firebaseui-id-new-password-error")}function h2(){this.Ra=!1;var s=bp.call(this);s.type="password";var c=u_.call(this);dd(this,s,function(){hd(c)&&(vn(s,!0),yr(c))});var u=l_.call(this);Wo(u,"firebaseui-input-toggle-on"),Ko(u,"firebaseui-input-toggle-off"),L8(this,s,function(){Wo(u,"firebaseui-input-toggle-focus"),Ko(u,"firebaseui-input-toggle-blur")}),V8(this,s,function(){Wo(u,"firebaseui-input-toggle-blur"),Ko(u,"firebaseui-input-toggle-focus")}),hn(this,u,Ie(Q8,this))}function f2(){var s=bp.call(this),c=u_.call(this);return oi(s)?(vn(s,!0),yr(c),c=!0):(vn(s,!1),si(c,Tt("Enter your password").toString()),c=!1),c?oi(s):null}function Cp(s,c,u){G.call(this,TF,{email:s},u,"passwordReset"),this.l=c}l(Cp,G),Cp.prototype.v=function(){this.H(),this.B(this.l),md(this,this.i(),this.l),this.i().focus(),G.prototype.v.call(this)},Cp.prototype.o=function(){this.l=null,G.prototype.o.call(this)},Te(Cp.prototype,{i:bp,w:u_,M:l_,H:h2,u:f2,U:Qn,P:$n,B:ai});function Ep(s,c,u,h,m){G.call(this,NF,{factorId:s,phoneNumber:u||null,G:!!h},m,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=h||null}l(Ep,G),Ep.prototype.v=function(){var s=this;hn(this,yt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),G.prototype.v.call(this)},Ep.prototype.o=function(){this.l=this.i=null,G.prototype.o.call(this)},Te(Ep.prototype,{u:Qn,B:$n,w:ai});function Y8(s,c,u,h,m){var g=u.u();g&&Ge(s,u.I(Ie(dt(s).confirmPasswordReset,dt(s)),[h,g],function(){u.m();var _=new e2(m);_.render(c),tt(s,_)},function(_){p2(s,c,u,_)}))}function p2(s,c,u,h){(h&&h.code)=="auth/weak-password"?(s=jt(h),vn(u.i(),!1),si(u.w(),s),u.i().focus()):(u&&u.m(),u=new t2,u.render(c),tt(s,u))}function J8(s,c,u){var h=new wp(u,function(){Ge(s,h.I(Ie(dt(s).sendPasswordResetEmail,dt(s)),[u],function(){h.m(),h=new r_(u,void 0,Mn(W(s)),Pn(W(s))),h.render(c),tt(s,h)},function(){h.a(Qk().toString())}))});h.render(c),tt(s,h)}function X8(s,c,u,h){var m=new Ep(h.factorId,function(){m.I(Ie(dt(s).sendPasswordResetEmail,dt(s)),[u],function(){m.m(),m=new r_(u,void 0,Mn(W(s)),Pn(W(s))),m.render(c),tt(s,m)},function(){m.a(Qk().toString())})},h.phoneNumber);m.render(c),tt(s,m)}Pt.passwordReset=function(s,c,u,h){Ge(s,dt(s).verifyPasswordResetCode(u).then(function(m){var g=new Cp(m,function(){Y8(s,c,g,u,h)});g.render(c),tt(s,g)},function(){p2(s,c)}))},Pt.emailChangeRevocation=function(s,c,u){var h=null;Ge(s,dt(s).checkActionCode(u).then(function(m){return h=m.data.email,dt(s).applyActionCode(u)}).then(function(){J8(s,c,h)},function(){var m=new n2;m.render(c),tt(s,m)}))},Pt.emailVerification=function(s,c,u,h){Ge(s,dt(s).applyActionCode(u).then(function(){var m=new KF(h);m.render(c),tt(s,m)},function(){var m=new QF;m.render(c),tt(s,m)}))},Pt.revertSecondFactorAddition=function(s,c,u){var h=null,m=null;Ge(s,dt(s).checkActionCode(u).then(function(g){return h=g.data.email,m=g.data.multiFactorInfo,dt(s).applyActionCode(u)}).then(function(){X8(s,c,h,m)},function(){var g=new XF;g.render(c),tt(s,g)}))},Pt.verifyAndChangeEmail=function(s,c,u,h){var m=null;Ge(s,dt(s).checkActionCode(u).then(function(g){return m=g.data.email,dt(s).applyActionCode(u)}).then(function(){var g=new YF(m,h);g.render(c),tt(s,g)},function(){var g=new JF;g.render(c),tt(s,g)}))};function d_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):pn&&!Kc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function Ip(s,c,u,h,m,g){G.call(this,vF,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:m}),this.l=s,this.u=c}l(Ip,G),Ip.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),d_(this.i(),(this.i().value||"").length),G.prototype.v.call(this)},Ip.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Te(Ip.prototype,{i:Bs,M:Va,w:vd,H:yd,j:_d,U:Qn,P:$n,B:ai}),Pt.emailLinkConfirmation=function(s,c,u,h,m,g){var _=new Ip(function(){var M=_.j();M?(_.m(),h(s,c,M,u)):_.i().focus()},function(){_.m(),Ht(s,c,m||void 0)},m||void 0,Mn(W(s)),Pn(W(s)));_.render(c),tt(s,_),g&&_.a(g)};function Sp(s,c,u,h,m){G.call(this,CF,{ga:s},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=c}l(Sp,G),Sp.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Sp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(Sp.prototype,{l:Qn,u:ai}),Pt.emailLinkNewDeviceLinking=function(s,c,u,h){var m=new Wc(u);if(u=m.a.a.get(jn.PROVIDER_ID)||null,Tk(m,null),u){var g=new Sp(rp(W(s),u),function(){g.m(),h(s,c,m.toString())},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g)}else Ht(s,c)};function h_(s){G.call(this,pF,void 0,s,"blank")}l(h_,G);function GI(s,c,u,h,m){var g=new h_,_=new Wc(u),M=_.a.a.get(jn.$a)||"",j=_.a.a.get(jn.Sa)||"",Y=_.a.a.get(jn.Qa)==="1",_e=Sk(_),Lt=_.a.a.get(jn.PROVIDER_ID)||null;_=_.a.a.get(jn.vb)||null,D2(s,_);var fo=!ed(Zu,Pe(s)),O2=h||y8(j,Pe(s)),Vp=(h=_8(j,Pe(s)))&&h.a;Lt&&Vp&&Vp.providerId!==Lt&&(Vp=null),g.render(c),tt(s,g),Ge(s,g.I(function(){var Fr=gn(null);Fr=_e&&fo||fo&&Y?qu(Error("anonymous-user-not-found")):gG(s,u).then(function(iS){if(Lt&&!Vp)throw Error("pending-credential-not-found");return iS});var jp=null;return Fr.then(function(iS){return jp=iS,m?null:dt(s).checkActionCode(M)}).then(function(){return jp})},[],function(Fr){O2?eG(s,g,O2,u,Vp,Fr):Y?(g.m(),ye("differentDeviceError",s,c)):(g.m(),ye("emailLinkConfirmation",s,c,u,m2))},function(Fr){var jp=void 0;if(!Fr||!Fr.name||Fr.name!="cancel")switch(g.m(),Fr&&Fr.message){case"anonymous-user-not-found":ye("differentDeviceError",s,c);break;case"anonymous-user-mismatch":ye("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":ye("emailLinkNewDeviceLinking",s,c,u,Z8);break;default:Fr&&(jp=jt(Fr)),Ht(s,c,void 0,jp)}}))}function m2(s,c,u,h){GI(s,c,h,u,!0)}function Z8(s,c,u){GI(s,c,u)}function eG(s,c,u,h,m,g){var _=on(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Signing in...").toString());var M=null;m=(g?vG(s,g,u,h,m):yG(s,u,h,m)).then(function(j){rr(np,Pe(s)),rr(Zu,Pe(s)),c.h(),c.$("firebaseui-icon-done",Tt("Signed in!").toString()),M=setTimeout(function(){c.h(),$s(s,c,j,!0)},1e3),Ge(s,function(){c&&(c.h(),c.m()),clearTimeout(M)})},function(j){if(c.h(),c.m(),!j.name||j.name!="cancel"){j=mp(j);var Y=jt(j);j.code=="auth/email-already-in-use"||j.code=="auth/credential-already-in-use"?(rr(np,Pe(s)),rr(Zu,Pe(s))):j.code=="auth/invalid-email"?(Y=Tt("The email provided does not match the current sign-in session.").toString(),ye("emailLinkConfirmation",s,_,h,m2,null,Y)):Ht(s,_,u,Y)}}),Ge(s,m)}Pt.emailLinkSignInCallback=GI;function Tp(s,c,u,h,m,g){G.call(this,bF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:h,D:m}),this.i=u}l(Tp,G),Tp.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},Tp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(Tp.prototype,{l:Qn,u:ai});function tG(s,c,u,h){var m=on(c);HI(s,c,u,function(){Ht(s,m,u)},function(g){if(!g.name||g.name!="cancel"){var _=jt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Ht(s,m,u,_))}},h)}Pt.emailLinkSignInLinking=function(s,c,u){var h=qo(Pe(s));if(Go(Pe(s)),h){var m=h.a.providerId,g=new Tp(u,rp(W(s),m),function(){tG(s,g,u,h)},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g)}else Ht(s,c)};function Dp(s,c,u,h,m,g){G.call(this,mF,{email:s},g,"emailLinkSignInSent",{F:h,D:m}),this.u=c,this.i=u}l(Dp,G),Dp.prototype.v=function(){var s=this;hn(this,this.l(),function(){s.i()}),hn(this,yt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),G.prototype.v.call(this)},Dp.prototype.o=function(){this.i=this.u=null,G.prototype.o.call(this)},Te(Dp.prototype,{l:$n}),Pt.emailLinkSignInSent=function(s,c,u,h,m){var g=new Dp(u,function(){g.m(),ye("emailNotReceived",s,c,u,h,m)},function(){g.m(),h()},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g)};function xp(s,c,u,h,m,g,_){G.call(this,jF,{jc:s,Qb:c},_,"emailMismatch",{F:m,D:g}),this.l=u,this.i=h}l(xp,G),xp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},xp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(xp.prototype,{u:Qn,B:$n,w:ai}),Pt.emailMismatch=function(s,c,u){var h=qo(Pe(s));if(h){var m=new xp(u.user.email,h.g,function(){var g=m;Go(Pe(s)),$s(s,g,u)},function(){var g=u.credential.providerId,_=on(m);m.m(),h.a?ye("federatedLinking",s,_,h.g,g):ye("federatedSignIn",s,_,h.g,g)},Mn(W(s)),Pn(W(s)));m.render(c),tt(s,m)}else Ht(s,c)};function wd(s,c,u,h,m){G.call(this,gF,void 0,m,"emailNotReceived",{F:u,D:h}),this.l=s,this.i=c}l(wd,G),wd.prototype.v=function(){var s=this;hn(this,this.u(),function(){s.i()}),hn(this,this.Da(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},wd.prototype.Da=function(){return yt(this,"firebaseui-id-resend-email-link")},wd.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(wd.prototype,{u:$n}),Pt.emailNotReceived=function(s,c,u,h,m){var g=new wd(function(){HI(s,g,u,h,function(_){_=jt(_),g.a(_)},m)},function(){g.m(),Ht(s,c,u)},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g)};function bd(s,c,u,h,m,g){G.call(this,EF,{email:s,ga:c},g,"federatedLinking",{F:h,D:m}),this.i=u}l(bd,G),bd.prototype.v=function(){this.u(this.i),this.l().focus(),G.prototype.v.call(this)},bd.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(bd.prototype,{l:Qn,u:ai}),Pt.federatedLinking=function(s,c,u,h,m){var g=qo(Pe(s));if(g&&g.a){var _=new bd(u,rp(W(s),h),function(){gp(s,_,h,u)},Mn(W(s)),Pn(W(s)));_.render(c),tt(s,_),m&&_.a(m)}else Ht(s,c)},Pt.federatedRedirect=function(s,c,u){var h=new h_;h.render(c),tt(s,h),c=id(W(s))[0],gp(s,h,c,u)},Pt.federatedSignIn=function(s,c,u,h,m){var g=new bd(u,rp(W(s),h),function(){gp(s,g,h,u)},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g),m&&g.a(m)};function nG(s,c,u,h){var m=c.u();m?Ge(s,c.I(Ie(s.Xb,s),[u,m],function(g){return g=g.user.linkWithCredential(h).then(function(_){return $s(s,c,{user:_.user,credential:h,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),Ge(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":vn(c.i(),!1),si(c.B(),jt(g));break;case"auth/too-many-requests":c.a(jt(g));break;default:gr("signInWithEmailAndPassword: "+g.message,void 0),c.a(jt(g))}})):c.i().focus()}Pt.passwordLinking=function(s,c,u){var h=qo(Pe(s));Go(Pe(s));var m=h&&h.a;if(m){var g=new gd(u,function(){nG(s,g,u,m)},function(){g.m(),ye("passwordRecovery",s,c,u)},Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g)}else Ht(s,c)};function Ap(s,c,u,h,m,g){G.call(this,uF,{email:u,Ta:!!c},g,"passwordRecovery",{F:h,D:m}),this.l=s,this.u=c}l(Ap,G),Ap.prototype.v=function(){this.B(),this.H(this.l,this.u),oi(this.i())||this.i().focus(),md(this,this.i(),this.l),G.prototype.v.call(this)},Ap.prototype.o=function(){this.u=this.l=null,G.prototype.o.call(this)},Te(Ap.prototype,{i:Bs,w:Va,B:vd,M:yd,j:_d,U:Qn,P:$n,H:ai});function iG(s,c){var u=c.j();if(u){var h=on(c);Ge(s,c.I(Ie(dt(s).sendPasswordResetEmail,dt(s)),[u],function(){c.m();var m=new r_(u,function(){m.m(),Ht(s,h)},Mn(W(s)),Pn(W(s)));m.render(h),tt(s,m)},function(m){vn(c.i(),!1),si(c.w(),jt(m))}))}else c.i().focus()}Pt.passwordRecovery=function(s,c,u,h,m){var g=new Ap(function(){iG(s,g)},h?void 0:function(){g.m(),Ht(s,c)},u,Mn(W(s)),Pn(W(s)));g.render(c),tt(s,g),m&&g.a(m)},Pt.passwordSignIn=function(s,c,u,h){var m=new pp(function(){G8(s,m)},function(){var g=m.M();m.m(),ye("passwordRecovery",s,c,g)},u,Mn(W(s)),Pn(W(s)),h);m.render(c),tt(s,m)};function WI(){return yt(this,"firebaseui-id-name")}function KI(){return yt(this,"firebaseui-id-name-error")}function Mp(s,c,u,h,m,g,_,M,j){G.call(this,lF,{email:h,Tb:s,name:m,Ta:!!u,ia:!!M},j,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(Mp,G),Mp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(fp(this,this.i(),this.u()),fp(this,this.u(),this.l())):fp(this,this.i(),this.l()),this.w&&md(this,this.l(),this.w),oi(this.i())?this.B&&!oi(this.u())?this.u().focus():this.l().focus():this.i().focus(),G.prototype.v.call(this)},Mp.prototype.o=function(){this.H=this.w=null,G.prototype.o.call(this)},Te(Mp.prototype,{i:Bs,U:Va,ea:vd,jb:yd,j:_d,u:WI,Bc:KI,Ja:function(){var s=WI.call(this),c=KI.call(this);dd(this,s,function(){hd(c)&&(vn(s,!0),yr(c))})},M:function(){var s=WI.call(this),c=KI.call(this),u=oi(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),vn(s,u),u?(yr(c),c=!0):(si(c,Tt("Enter your account name").toString()),c=!1),c?ii(oi(s)):null},l:bp,ba:u_,lb:l_,ua:h2,P:f2,Nb:Qn,Mb:$n,pa:ai});function rG(s,c){var u=SN(W(s)),h=c.j(),m=null;u&&(m=c.M());var g=c.P();if(h){if(u)if(m)m=Nr(m);else{c.u().focus();return}if(g){var _=be.auth.EmailAuthProvider.credential(h,g);Ge(s,c.I(Ie(s.Yb,s),[h,g],function(M){var j={user:M.user,credential:_,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo};return u?(M=M.user.updateProfile({displayName:m}).then(function(){return $s(s,c,j)}),Ge(s,M),M):$s(s,c,j)},function(M){if(!M.name||M.name!="cancel"){var j=mp(M);switch(M=jt(j),j.code){case"auth/email-already-in-use":return oG(s,c,h,j);case"auth/too-many-requests":M=Tt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":vn(c.l(),!1),si(c.ba(),M);break;case"auth/admin-restricted-operation":ol(W(s))?(M=on(c),c.m(),ye("handleUnauthorizedUser",s,M,h,be.auth.EmailAuthProvider.PROVIDER_ID)):c.a(M);break;default:j="setAccountInfo: "+tN(j),gr(j,void 0),c.a(M)}}}))}else c.l().focus()}else c.i().focus()}function oG(s,c,u,h){function m(){var _=jt(h);vn(c.i(),!1),si(c.U(),_),c.i().focus()}var g=dt(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?m():(_=on(c),c.m(),ye("passwordRecovery",s,_,u,!1,Jk().toString()))},function(){m()});return Ge(s,g),g}Pt.passwordSignUp=function(s,c,u,h,m,g){function _(){M.m(),Ht(s,c)}var M=new Mp(SN(W(s)),function(){rG(s,M)},m?void 0:_,u,h,Mn(W(s)),Pn(W(s)),g);M.render(c),tt(s,M)};function QI(){return yt(this,"firebaseui-id-phone-confirmation-code")}function g2(){return yt(this,"firebaseui-id-phone-confirmation-code-error")}function v2(){return yt(this,"firebaseui-id-resend-countdown")}function Cd(s,c,u,h,m,g,_,M,j){G.call(this,$F,{phoneNumber:m},j,"phoneSignInFinish",{F:_,D:M}),this.jb=g,this.i=new Yy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=h}l(Cd,G),Cd.prototype.v=function(){var s=this;this.U(this.jb),co(this.i,"tick",this.w,!1,this),this.i.start(),hn(this,yt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),hn(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),G.prototype.v.call(this)},Cd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Jy(this.i),Zc(this.i,"tick",this.w),this.i=null,G.prototype.o.call(this)},Cd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Jy(this.i),Zc(this.i,"tick",this.w),this.ua(),this.lb())},Te(Cd.prototype,{u:QI,pa:g2,Ja:function(s){var c=QI.call(this),u=g2.call(this);dd(this,c,function(){hd(u)&&(vn(c,!0),yr(u))}),s&&hp(this,c,function(){s()})},ba:function(){var s=ii(oi(QI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:v2,U:function(s){LE(v2.call(this),Tt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){yr(this.Fb())},Da:function(){return yt(this,"firebaseui-id-resend-link")},lb:function(){si(this.Da())},Nb:Qn,Mb:$n,ea:ai});function sG(s,c,u,h){function m(_){c.u().focus(),vn(c.u(),!1),si(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Verifying...").toString()),Ge(s,c.I(Ie(h.confirm,h),[g],function(_){c.h(),c.$("firebaseui-icon-done",Tt("Verified!").toString());var M=setTimeout(function(){c.h(),c.m();var j={user:uo(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};$s(s,c,j,!0)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(M)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var M=mp(_);switch(_=jt(M),M.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":M=on(c),c.h(),c.m(),ye("phoneSignInStart",s,M,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),m(_);break;default:c.h(),c.a(_)}}}))):m(Tt("Wrong code. Try again.").toString())}Pt.phoneSignInFinish=function(s,c,u,h,m,g){var _=new Cd(function(){_.m(),ye("phoneSignInStart",s,c,u)},function(){sG(s,_,u,m)},function(){_.m(),Ht(s,c)},function(){_.m(),ye("phoneSignInStart",s,c,u)},SI(u),h,Mn(W(s)),Pn(W(s)));_.render(c),tt(s,_),g&&_.a(g)};var aG=!pn&&!(ut("Safari")&&!(Ak()||ut("Coast")||ut("Opera")||ut("Edge")||ut("Firefox")||ut("FxiOS")||ut("Silk")||ut("Android")));function f_(s,c){return/-[a-z]/.test(c)?null:aG&&s.dataset?!ut("Android")||Ak()||ut("Firefox")||ut("FxiOS")||ut("Opera")||ut("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function cG(s,c,u){var h=this;s=$f(tF,{items:s},null,this.s),iF.call(this,s,!0,!0),u&&(u=lG(s,u))&&(u.focus(),F8(u,s)),hn(this,s,function(m){(m=(m=zk(m.target,"firebaseui-id-list-box-dialog-button"))&&f_(m,"listboxid"))&&(t_.call(h),c(m))})}function lG(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(f_(s[u],"listboxid")===c)return s[u];return null}function al(){return yt(this,"firebaseui-id-phone-number")}function y2(){return yt(this,"firebaseui-id-country-selector")}function YI(){return yt(this,"firebaseui-id-phone-number-error")}function uG(s,c){var u=s.a,h=JI("1-US-0",u),m=null;if(c&&JI(c,u)?m=c:h?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");p_.call(this,m,s)}function JI(s,c){return s=rl(s),!(!s||!ft(c,s))}function dG(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+XI(c),label:c.name+" "+("\u200E+"+c.b)}})}function XI(s){return"firebaseui-flag-"+s.f}function hG(s){var c=this;cG.call(this,dG(s.a),function(u){p_.call(c,u,s,!0),c.O().focus()},this.Ba)}function p_(s,c,u){var h=rl(s);h&&(u&&(u=ii(oi(al.call(this))||""),c=qy(c,u),c.length&&c[0].b!=h.b&&(u="+"+h.b+u.substr(c[0].b.length+1),PN(al.call(this),u))),c=rl(this.Ba),this.Ba=s,s=yt(this,"firebaseui-id-country-selector-flag"),c&&Ko(s,XI(c)),Wo(s,XI(h)),LE(yt(this,"firebaseui-id-country-selector-code"),"\u200E+"+h.b))}function Pp(s,c,u,h,m,g,_,M,j,Y){G.call(this,BF,{Gb:c,Aa:j||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:h,D:m}),this.H=M||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(Pp,G),Pp.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||fp(this,this.O(),this.i()),md(this,this.i(),this.l),this.O().focus(),d_(this.O(),(this.O().value||"").length),G.prototype.v.call(this)},Pp.prototype.o=function(){this.w=this.l=null,G.prototype.o.call(this)},Te(Pp.prototype,{Cb:BI,O:al,B:YI,ea:function(s,c,u){var h=this,m=al.call(this),g=y2.call(this),_=YI.call(this),M=s||ip,j=M.a;if(j.length==0)throw Error("No available countries provided.");uG.call(h,M,c),hn(this,g,function(){hG.call(h,M)}),dd(this,m,function(){hd(_)&&(vn(m,!0),yr(_));var Y=ii(oi(m)||""),_e=rl(this.Ba),Lt=qy(M,Y);Y=JI("1-US-0",j),Lt.length&&Lt[0].b!=_e.b&&(_e=Lt[0],p_.call(h,_e.b=="1"&&Y?"1-US-0":_e.c,M))}),u&&hp(this,m,function(){u()})},U:function(s){var c=ii(oi(al.call(this))||"");s=s||ip;var u=s.a,h=qy(ip,c);if(h.length&&!ft(u,h[0]))throw PN(al.call(this)),al.call(this).focus(),si(YI.call(this),Tt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=rl(this.Ba),h.length&&h[0].b!=u.b&&p_.call(this,h[0].c,s),h.length&&(c=c.substr(h[0].b.length+1)),c?new mN(this.Ba,c):null},Ja:y2,ba:function(){return yt(this,"firebaseui-recaptcha-container")},u:function(){return yt(this,"firebaseui-id-recaptcha-error")},i:Qn,ua:$n,P:ai});function _2(s,c,u,h){try{var m=c.U(kI)}catch{return}m?sp?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Tt("Verifying...").toString()),Ge(s,c.I(Ie(s.cc,s),[SI(m),u],function(g){var _=on(c);c.$("firebaseui-icon-done",Tt("Code sent!").toString());var M=setTimeout(function(){c.h(),c.m(),ye("phoneSignInFinish",s,_,m,15,g)},1e3);Ge(s,function(){c&&c.h(),clearTimeout(M)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(AN),sp=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=Tt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),si(c.B(),BE().toString());return;case"auth/admin-restricted-operation":if(ol(W(s))){g=on(c),c.m(),ye("handleUnauthorizedUser",s,g,SI(m),be.auth.PhoneAuthProvider.PROVIDER_ID);return}_=jt(g);break;default:_=jt(g)}c.a(_)}}))):od?si(c.u(),Tt("Solve the reCAPTCHA").toString()):!od&&h&&c.i().click():(c.O().focus(),si(c.B(),BE().toString()))}Pt.phoneSignInStart=function(s,c,u,h){var m=C8(W(s))||{};sp=null,od=!(m&&m.size==="invisible");var g=s2(s),_=x8(W(s)),M=g?D8(W(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||M,(M=TI(W(s)))&&pN(M),kI=M?new dN(TI(W(s))):ip;var j=new Pp(function(_e){_2(s,j,Y,!(!_e||!_e.keyCode))},od,g?null:function(){Y.clear(),j.m(),Ht(s,c)},Mn(W(s)),Pn(W(s)),g,kI,_,u);j.render(c),tt(s,j),h&&j.a(h),m.callback=function(_e){j.u()&&yr(j.u()),sp=_e,od||_2(s,j,Y)},m["expired-callback"]=function(){sp=null};var Y=new be.auth.RecaptchaVerifier(od?j.ba():j.i(),m,uo(s).app);Ge(s,j.I(Ie(Y.render,Y),[],function(_e){AN=_e},function(_e){_e.name&&_e.name=="cancel"||(_e=jt(_e),j.m(),Ht(s,c,void 0,_e))}))},Pt.prefilledEmailSignIn=function(s,c,u){var h=new h_;h.render(c),tt(s,h),Ge(s,h.I(Ie(dt(s).fetchSignInMethodsForEmail,dt(s)),[u],function(m){h.m();var g=!(!s_(s)||!C2(s));c2(s,c,m,u,void 0,g)},function(m){m=jt(m),h.m(),ye("signIn",s,c,u,m)}))};function Op(s,c,u,h,m){G.call(this,UF,{Sb:c},m,"providerSignIn",{F:u,D:h}),this.i=s}l(Op,G),Op.prototype.v=function(){this.l(this.i),G.prototype.v.call(this)},Op.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(Op.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?NE("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var m=u[h],g=f_(m,"providerId");hn(this,m,He(c,g))}}}),Pt.providerSignIn=function(s,c,u,h){var m=new Op(function(g){g==be.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),zI(s,c,h)):g==be.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ye("phoneSignInStart",s,c)):g=="anonymous"?z8(s,m):gp(s,m,g,h),_t(s),s.l.cancel()},_N(W(s)),Mn(W(s)),Pn(W(s)));m.render(c),tt(s,m),u&&m.a(u),mG(s)},Pt.sendEmailLinkForSignIn=function(s,c,u,h){var m=new a_;m.render(c),tt(s,m),HI(s,m,u,h,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&ol(W(s))?ye("handleUnauthorizedUser",s,c,u,be.auth.EmailAuthProvider.PROVIDER_ID):(g=jt(g),ye("signIn",s,c,u,g))})};function kp(s,c,u,h,m,g,_){G.call(this,aF,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:h,D:m}),this.i=s,this.u=c}l(kp,G),kp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),d_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},kp.prototype.o=function(){this.u=this.i=null,G.prototype.o.call(this)},Te(kp.prototype,{l:Bs,M:Va,w:vd,H:yd,j:_d,U:Qn,P:$n,B:ai}),Pt.signIn=function(s,c,u,h){var m=s_(s),g=new kp(function(){var _=g,M=_.j()||"";M&&a2(s,_,M)},m?null:function(){g.m(),Ht(s,c,u)},u,Mn(W(s)),Pn(W(s)),m);g.render(c),tt(s,g),h&&g.a(h)};function Rp(s,c,u,h,m,g,_){G.call(this,IF,{kc:s,yb:u,Eb:!!h},_,"unauthorizedUser",{F:m,D:g}),this.l=c,this.i=h}l(Rp,G),Rp.prototype.v=function(){var s=this,c=yt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&hn(this,c,function(){s.i()}),hn(this,this.u(),function(){s.l()}),this.u().focus(),G.prototype.v.call(this)},Rp.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(Rp.prototype,{u:$n}),Pt.handleUnauthorizedUser=function(s,c,u,h){function m(){Ht(s,c)}h===be.auth.EmailAuthProvider.PROVIDER_ID?m=function(){zI(s,c)}:h===be.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ye("phoneSignInStart",s,c)});var g=null,_=null;h===be.auth.EmailAuthProvider.PROVIDER_ID&&bN(W(s))?(g=S8(W(s)),_=T8(W(s))):ol(W(s))&&(g=E8(W(s)),_=I8(W(s)));var M=new Rp(u,function(){M.m(),m()},g,_,Mn(W(s)),Pn(W(s)));M.render(c),tt(s,M)};function Np(s,c,u,h,m,g){G.call(this,SF,{email:s},g,"unsupportedProvider",{F:h,D:m}),this.l=c,this.i=u}l(Np,G),Np.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),G.prototype.v.call(this)},Np.prototype.o=function(){this.i=this.l=null,G.prototype.o.call(this)},Te(Np.prototype,{u:Qn,B:$n,w:ai}),Pt.unsupportedProvider=function(s,c,u){var h=new Np(u,function(){h.m(),ye("passwordRecovery",s,c,u)},function(){h.m(),Ht(s,c,u)},Mn(W(s)),Pn(W(s)));h.render(c),tt(s,h)};function Qo(s,c){this.$=!1;var u=ZI(c);if(Fp[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Fp[u]=this,this.a=s,this.u=null,this.Y=!1,w2(this.a),this.h=be.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),w2(this.h),this.h.setPersistence&&this.h.setPersistence(be.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new b8,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=rI.Xa(),this.j=this.C=null,this.da=this.A=!1}function w2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Fp={};function ZI(s){return s||"[DEFAULT]"}function b2(s){return _t(s),s.i||(s.i=Hs(s,function(c){return c&&!qo(Pe(s))?gn(uo(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Ua(s,u)})):gn(dt(s).getRedirectResult().then(function(u){return Gy(W(s))&&!u.user&&s.j&&!s.j.isAnonymous?uo(s).getRedirectResult():u}))})),s.i}function tt(s,c){_t(s),s.g=c}var Ed=null;function dt(s){return _t(s),s.h}function uo(s){return _t(s),s.a}function Pe(s){return _t(s),s.oa}function C2(s){return _t(s),s.O?s.O.emailHint:void 0}t=Qo.prototype,t.nb=function(){return _t(this),!!wI(Pe(this))||E2(Us())};function E2(s){return s=new Wc(s),(s.a.a.get(jn.ub)||null)==="signIn"&&!!s.a.a.get(jn.$a)}t.start=function(s,c){I2(this,s,c)};function I2(s,c,u,h){_t(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var m="en".replace(/_/g,"-");s.a.languageCode=m,s.h.languageCode=m,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=h||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?m_(s,c):Wf(window,"load",function(){m_(s,c)})}):g.readyState=="complete"?m_(s,c):Wf(window,"load",function(){m_(s,c)})}function m_(s,c){var u=Iy(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ed){var h=Ed;_t(h),qo(Pe(h))&&Fa("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ed.reset()}if(Ed=s,s.T=u,pG(s,u),zy(new gI)&&zy(new vI)){c=Iy(c,"Could not find the FirebaseUI widget element on the page."),u=Us(),h=EI(W(s).a,"queryParameterForSignInSuccessUrl"),u=(u=so(u,h))?Aa(uy(u)).toString():null;e:{h=Us();var m=IN(W(s));h=so(h,m)||"";for(g in OI)if(OI[g].toLowerCase()==h.toLowerCase()){var g=OI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Pe(s),td(tp,u,g)),s.nb()?ye("callback",s,c):Ht(s,c,C2(s));break;case"resetPassword":ye("passwordReset",s,c,vp(),qI());break;case"recoverEmail":ye("emailChangeRevocation",s,c,vp());break;case"revertSecondFactorAddition":ye("revertSecondFactorAddition",s,c,vp());break;case"verifyEmail":ye("emailVerification",s,c,vp(),qI());break;case"verifyAndChangeEmail":ye("verifyAndChangeEmail",s,c,vp(),qI());break;case"signIn":ye("emailLinkSignInCallback",s,c,Us()),x2();break;case"select":u&&(g=Pe(s),td(tp,u,g)),Ht(s,c);break;default:throw Error("Unhandled widget operation.")}c=W(s),(c=op(c).uiShown||null)&&c()}else c=Iy(c,"Could not find the FirebaseUI widget element on the page."),g=new r2(Tt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),tt(s,g);c=s.g&&s.g.Ga=="blank"&&DI(W(s)),wI(Pe(s))&&!c&&(c=wI(Pe(s)),D2(s,c.a),rr(il,Pe(s)))}function Hs(s,c){if(s.A)return c(S2(s));if(Ge(s,function(){s.A=!1}),Gy(W(s))){var u=new Bn(function(h){Ge(s,s.a.onAuthStateChanged(function(m){s.j=m,s.A||(s.A=!0,h(c(S2(s))))}))});return Ge(s,u),u}return s.A=!0,c(null)}function S2(s){return _t(s),Gy(W(s))&&s.j&&s.j.isAnonymous?s.j:null}function Ge(s,c){if(_t(s),c){s.s.push(c);var u=function(){Rr(s.s,function(h){return h==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){_t(this),this.Z=!0};function fG(s){_t(s);var c;return(c=s.Z)||(s=W(s),s=EN(s,be.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function T2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function D2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){_t(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&Wq(this.J),T2(this),this.O=null,x2(),rr(il,Pe(this)),_t(this),this.l.cancel(),this.i=gn({user:null,credential:null}),Ed==this&&(Ed=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Go(Pe(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ja(this).then(function(){s.C=null},function(){s.C=null}))};function pG(s,c){s.L=null,s.J=new Cy(c),s.J.register(),co(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var h=W(s);(h=op(h).uiChanged||null)&&h(s.L,u),s.L=u}})}t.ib=function(s){_t(this);var c=this.ca,u;for(u in s)try{CI(c.a,u,s[u])}catch{gr('Invalid config: "'+u+'"',void 0)}mq&&CI(c.a,"popupMode",!1),TI(c),!this.da&&xI(W(this))&&(Fa("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function W(s){return _t(s),s.ca}t.Wb=function(){_t(this);var s=W(this),c=EI(s.a,"widgetUrl");s=IN(s);for(var u=c.search(Bi),h=0,m,g=[];0<=(m=ri(c,h,s,u));)g.push(c.substring(h,m)),h=Math.min(c.indexOf("&",m)+1||u,u);g.push(c.substr(h)),c=g.join("").replace(cy,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),h=c.indexOf("?"),0>h||h>u?(h=u,m=""):m=c.substring(h+1,u),c=[c.substr(0,h),m,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,W(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=SR(u,s))&&s.focus()):zu(window.location,u)};function _t(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return _t(this),this.h.app.delete().then(function(){var c=ZI(Pe(s));delete Fp[c],s.reset(),s.$=!0})};function mG(s){_t(s);try{PR(s.l,wN(W(s)),fG(s)).then(function(c){return s.g?q8(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){_t(this);var u=this,h=e8();if(!rd(W(this)))return qu(Error("Email link sign-in should be enabled to trigger email sending."));var m=M8(W(this)),g=new Wc(m.url);return dq(g,h),c&&c.a&&(w8(h,c,Pe(this)),Tk(g,c.a.providerId)),hq(g,A8(W(this))),Hs(this,function(_){return _&&((_=_.uid)?g.a.a.set(jn.Pa,_):Gc(g.a.a,jn.Pa)),m.url=g.toString(),dt(u).sendSignInLinkToEmail(s,m)}).then(function(){var _=Pe(u),M={};M.email=s,td(Zu,XR(h,JSON.stringify(M)),_)},function(_){throw rr(np,Pe(u)),rr(Zu,Pe(u)),_})};function gG(s,c){var u=Sk(new Wc(c));return u?(c=new Bn(function(h,m){var g=uo(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?h(_):_&&_.isAnonymous&&_.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Ge(s,g)}),Ge(s,c),c):gn(null)}function vG(s,c,u,h,m){_t(s);var g=m||null,_=be.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?dt(s).signInWithEmailLink(u,h).then(function(M){return M.user.linkWithCredential(g)}).then(function(){return ja(s)}).then(function(){return Ua(s,{code:"auth/email-already-in-use"},g)}):dt(s).fetchSignInMethodsForEmail(u).then(function(M){return M.length?Ua(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),Ge(s,u),u}function yG(s,c,u,h){_t(s);var m=h||null,g;return c=dt(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},m)return _.user.linkWithCredential(m).then(function(M){g={user:M.user,credential:m,operationType:g.operationType,additionalUserInfo:M.additionalUserInfo}})}).then(function(){ja(s)}).then(function(){return uo(s).updateCurrentUser(g.user)}).then(function(){return g.user=uo(s).currentUser,g}),Ge(s,c),c}function x2(){var s=Us();if(E2(s)){s=new Wc(s);for(var c in jn)jn.hasOwnProperty(c)&&Gc(s.a.a,jn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){_t(this);var u=this;return dt(this).signInWithEmailAndPassword(s,c).then(function(h){return Hs(u,function(m){return m?ja(u).then(function(){return Ua(u,{code:"auth/email-already-in-use"},be.auth.EmailAuthProvider.credential(s,c))}):h})})},t.Yb=function(s,c){_t(this);var u=this;return Hs(this,function(h){if(h){var m=be.auth.EmailAuthProvider.credential(s,c);return h.linkWithCredential(m)}return dt(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){_t(this);var c=this;return Hs(this,function(u){return u?u.linkWithCredential(s).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Ua(c,h,s)}):dt(c).signInWithCredential(s)})};function _G(s,c){return _t(s),Hs(s,function(u){return u&&!qo(Pe(s))?u.linkWithPopup(c).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Ua(s,h)}):dt(s).signInWithPopup(c)})}t.dc=function(s){_t(this);var c=this,u=this.i;return this.i=null,Hs(this,function(h){return h&&!qo(Pe(c))?h.linkWithRedirect(s):dt(c).signInWithRedirect(s)}).then(function(){},function(h){throw c.i=u,h})},t.cc=function(s,c){_t(this);var u=this;return Hs(this,function(h){return h?h.linkWithPhoneNumber(s,c).then(function(m){return new sI(m,function(g){if(g.code=="auth/credential-already-in-use")return Ua(u,g);throw g})}):uo(u).signInWithPhoneNumber(s,c).then(function(m){return new sI(m)})})},t.$b=function(){return _t(this),uo(this).signInAnonymously()};function wG(s,c){return _t(s),Hs(s,function(u){if(s.j&&!s.j.isAnonymous&&Gy(W(s))&&!dt(s).currentUser)return ja(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return ja(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(h){return c.user=h.user,c.credential=h.credential,c.operationType=h.operationType,c.additionalUserInfo=h.additionalUserInfo,c},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Ua(s,h,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ja(s).then(function(){return uo(s).updateCurrentUser(c.user)}).then(function(){return c.user=uo(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return _t(this),dt(this).signInWithEmailAndPassword(s,c)};function ja(s){return _t(s),dt(s).signOut()}function Ua(s,c,u){if(_t(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var h=xN(W(s));return gn().then(function(){return h(new Hf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return qu(c)}function Lp(s,c,u,h){G.call(this,qF,void 0,h,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Lp,G),Lp.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),d_(this.l(),(this.l().value||"").length),G.prototype.v.call(this)},Lp.prototype.o=function(){this.i=null,G.prototype.o.call(this)},Te(Lp.prototype,{l:Bs,H:Va,u:vd,B:yd,j:_d,M:Qn,w:ai});function g_(s,c,u,h,m){G.call(this,zF,{ec:c},m,"selectTenant",{F:u,D:h}),this.i=s}l(g_,G),g_.prototype.v=function(){bG(this,this.i),G.prototype.v.call(this)},g_.prototype.o=function(){this.i=null,G.prototype.o.call(this)};function bG(s,c){function u(M){c(M)}for(var h=s.g?NE("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],m=0;m<h.length;m++){var g=h[m],_=f_(g,"tenantId");hn(s,g,He(u,_))}}function eS(s){G.call(this,fF,void 0,s,"spinner")}l(eS,G);function CG(s){this.a=new bI,An(this.a,"authDomain"),An(this.a,"displayMode",y_),An(this.a,"tenants"),An(this.a,"callbacks"),An(this.a,"tosUrl"),An(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{CI(this.a,c,s[c])}catch{gr('Invalid config: "'+c+'"',void 0)}}function EG(s){s=s.a.get("displayMode");for(var c in nS)if(nS[c]===s)return nS[c];return y_}function v_(s){return s.a.get("callbacks")||{}}function A2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Fa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Wu(c)}}return null}function M2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Fa("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Wu(u)}}return null}function tS(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(__))throw Error("Invalid tenant configuration!")}function P2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var h=[];if(s=s[c]||s[__],!s)return gr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),h;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(m){if(typeof m=="string")h.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(m.provider):h.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),gr(m,void 0)}),h}function IG(s,c,u){return s=SG(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),s.signInOptions=c),s}function SG(s,c){var u=TG,h=h===void 0?{}:h;return tS(s,c),s=s.a.get("tenants"),t8(s[c]||s[__],u,h)}var TG=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],y_="optionFirst",nS={pc:y_,oc:"identifierFirst"},__="*";function ho(s,c){var u=this;this.s=Iy(s),this.a={},Object.keys(c).forEach(function(h){u.a[h]=new CG(c[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=ho.prototype,t.Ub=function(s,c){var u=this;Ba(this);var h=s.apiKey;return new Bn(function(m,g){if(u.a.hasOwnProperty(h)){var _=v_(u.a[h]).selectTenantUiHidden||null;if(EG(u.a[h])===y_){var M=[];c.forEach(function(_e){_e=_e||"_";var Lt=u.a[h].a.get("tenants");if(!Lt)throw Error("Invalid tenant configuration!");(Lt=Lt[_e]||Lt[__])?_e={tenantId:_e!=="_"?_e:null,V:Lt.fullLabel||null,displayName:Lt.displayName,za:Lt.iconUrl,ta:Lt.buttonColor}:(gr("Invalid tenant configuration: "+(_e+" is not configured!"),void 0),_e=null),_e&&M.push(_e)});var j=function(_e){_e={tenantId:_e,providerIds:P2(u.a[h],_e||"_")},m(_e)};if(M.length===1){j(M[0].tenantId);return}u.g=new g_(function(_e){Ba(u),_&&_(),j(_e)},M,A2(u.a[h]),M2(u.a[h]))}else u.g=new Lp(function(){var _e=u.g.j();if(_e){for(var Lt=0;Lt<c.length;Lt++){var fo=P2(u.a[h],c[Lt]||"_",_e);if(fo.length!==0){_e={tenantId:c[Lt],providerIds:fo,email:_e},Ba(u),_&&_(),m(_e);return}}u.g.a(Xk({code:"no-matching-tenant-for-email"}).toString())}},A2(u.a[h]),M2(u.a[h]));u.g.render(u.s),(g=v_(u.a[h]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;tS(this.a[s],c||"_");try{this.i=be.app(u).auth()}catch{var h=this.a[s].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");s=be.initializeApp({apiKey:s,authDomain:h},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new Bn(function(h,m){function g(Lt,fo){u.j=new Qo(s),I2(u.j,u.s,Lt,fo)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||m(Error("Invalid project configuration: API key is invalid!"));var M=IG(u.a[_],s.tenantId||"_",c&&c.providerIds);Ba(u),m={signInSuccessWithAuthResult:function(Lt){return h(Lt),!1}};var j=v_(u.a[_]).signInUiShown||null,Y=!1;m.uiChanged=function(Lt,fo){Lt===null&&fo==="callback"?((Lt=FE("firebaseui-id-page-callback",u.s))&&yr(Lt),u.h=new eS,u.h.render(u.s)):Y||Lt===null&&fo==="spinner"||fo==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,j&&j(s.tenantId))},M.callbacks=m,M.credentialHelper="none";var _e;c&&c.email&&(_e={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(M,_e)}):g(M,_e)})},t.reset=function(){var s=this;return gn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,Ba(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){Ba(s),s.h=new eS,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ba(this),this.g=new ZF,this.g.render(this.s),gn()};function Ba(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=Xk({code:s.code}).toString()||s.message;Ba(this);var h;s.retry&&typeof s.retry=="function"&&(h=function(){c.reset(),s.retry()}),this.g=new i2(u,h),this.g.render(this.s)},t.Rb=function(s){var c=this;return gn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(tS(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=v_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Je("firebaseui.auth.FirebaseUiHandler",ho),Je("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ho.prototype.Ub),Je("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ho.prototype.Pb),Je("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ho.prototype.Zb),Je("firebaseui.auth.FirebaseUiHandler.prototype.reset",ho.prototype.reset),Je("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ho.prototype.Vb),Je("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ho.prototype.mb),Je("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ho.prototype.Bb),Je("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ho.prototype.pb),Je("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ho.prototype.Rb),Je("firebaseui.auth.AuthUI",Qo),Je("firebaseui.auth.AuthUI.getInstance",function(s){return s=ZI(s),Fp[s]?Fp[s]:null}),Je("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Qo.prototype.Db),Je("firebaseui.auth.AuthUI.prototype.start",Qo.prototype.start),Je("firebaseui.auth.AuthUI.prototype.setConfig",Qo.prototype.ib),Je("firebaseui.auth.AuthUI.prototype.signIn",Qo.prototype.Wb),Je("firebaseui.auth.AuthUI.prototype.reset",Qo.prototype.reset),Je("firebaseui.auth.AuthUI.prototype.delete",Qo.prototype.Wa),Je("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Qo.prototype.nb),Je("firebaseui.auth.AuthUIError",Hf),Je("firebaseui.auth.AuthUIError.prototype.toJSON",Hf.prototype.toJSON),Je("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",AI),Je("firebaseui.auth.CredentialHelper.NONE",Ky),Je("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Bn.prototype.catch=Bn.prototype.Ca,Bn.prototype.finally=Bn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=Dz.default);var yk=firebaseui.auth;var Nf=(()=>{let e=class e{constructor(i){this.auth=i,this.localStorageKeyUser="firebase-user",this.userS=sc(JSON.parse(localStorage.getItem(this.localStorageKeyUser))),this.auth.setPersistence(ps),this.auth.onAuthStateChanged(r=>this.userS.set(r))}logout(){localStorage.removeItem(this.localStorageKeyUser),this.auth.signOut()}createButton(i,r,o,a){(yk.AuthUI.getInstance()||new yk.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(localStorage.setItem(this.localStorageKeyUser,JSON.stringify(l.user)),o&&o(l),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Kl.PROVIDER_ID]})}awaitUser(){return E(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}};e.\u0275fac=function(r){return new(r||e)(re(Xl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yhe(t,e){if(t&1){let n=X();b(0,"div",6),k("create",function(r){N(n);let o=x();return F(o.createAuthButton(r))}),C()}}function Jhe(t,e){if(t&1&&(b(0,"div",13)(1,"span",14),R(2),C(),b(3,"span",15),R(4),C()()),t&2){let n=e.$implicit,i=e.index;T(2),ce(i+1+". "+n.text),T(2),ce(n.description)}}function Xhe(t,e){if(t&1){let n=X();at(0),oe(1,"div",7),b(2,"span"),R(3,"Pravidl\xE1"),C(),B(4,Jhe,5,2,"div",8),oe(5,"div",7),b(6,"div",9),k("click",function(){N(n);let r=x();return F(r.consent=!r.consent)}),oe(7,"i",10),b(8,"span",11),R(9,"S\xFAhlas\xEDm s pravidlami a budem ich dodr\u017Eiava\u0165"),C()(),b(10,"div",9),k("click",function(){N(n);let r=x();return F(r.agreeToPay=!r.agreeToPay)}),oe(11,"i",10),b(12,"span",11),R(13,"Rozumiem, \u017Ee prihl\xE1\u0161ka je platn\xE1 a\u017E po zaplaten\xED"),C()(),oe(14,"div",7),b(15,"div",12),k("click",function(){N(n);let r=x();return F(r.apply())}),R(16,"Potvrdi\u0165"),C(),ct()}if(t&2){let n=x();T(4),P("ngForOf",n.rules),T(3),P("ngClass",n.consent?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),P("ngClass",n.agreeToPay?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),Ae("disabled",!n.consent)}}var xz=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.rules=lz,this.consent=!1,this.agreeToPay=!1}ngOnInit(){this.event=this.eventManagerService.event}createAuthButton(i){this.authService.createButton(i.nativeElement)}apply(){this.consent&&console.log("applied")}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(kf),L(ks),L(er),L(Nf))},e.\u0275cmp=le({type:e,selectors:[["app-event-application"]],standalone:!0,features:[ue],decls:8,vars:3,consts:[[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"user-name"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],[4,"ngIf"],[1,"auth-button","auth-ui-button",3,"create"],[1,"h-separator"],["class","rules-container",4,"ngFor","ngForOf"],[1,"consent-checkbox-container",3,"click"],[1,"consent-checkbox-icon",3,"ngClass"],[1,"consent-checkbox-label"],[1,"button","button-apply",3,"click"],[1,"rules-container"],[1,"rule-text"],[1,"rule-description"]],template:function(r,o){if(r&1&&(b(0,"div",0)(1,"div",1)(2,"span",2),R(3,"Prihl\xE1\u0161ka"),C(),b(4,"span",3),R(5),C()(),B(6,Yhe,1,0,"div",4)(7,Xhe,17,5,"ng-container",5),C()),r&2){let a;T(5),ce((a=o.authService.userS())==null?null:a.displayName),T(),P("ngIf",!o.authService.userS()),T(),P("ngIf",o.authService.userS())}},dependencies:[fe,ki,Ne,We,Lc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (min-width: 1000px){[_nghost-%COMP%]{max-width:50%}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-text[_ngcontent-%COMP%]{padding-left:1rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-description[_ngcontent-%COMP%]{font-size:14px;text-align:justify}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .consent-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;cursor:pointer;align-self:flex-start}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}"]});let t=e;return t})();var Az=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(L(Xt))},e.\u0275dir=At({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,an)},standalone:!0});let t=e;return t})();var Mz=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(L(Xt))},e.\u0275dir=At({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,an)},standalone:!0});let t=e;return t})();var Pz={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"nocivkempoch",active:!0,title:"Ko\u013Eko noc\xED chce\u0161 by\u0165 v kempoch?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"3noci",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme na ubytov\u0148u, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"2noci",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme na ubytov\u0148u, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]},{id:"splavovatajposlednyden",active:!0,title:"Chce\u0161 aj v Nede\u013Eu e\u0161te splavova\u0165?",description:"Posledn\xFD de\u0148 b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"ano",text:"\xC1no",description:"Jasn\xE9, pohodi\u010Dka."},{id:"nie",text:"Nie",description:"Posledn\xFD de\u0148 si chcem sadn\xFA\u0165 do auta a \xEDs\u0165 domov."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var Oz=[Pz];function Zhe(t,e){if(t&1&&(b(0,"a",17),R(1),C()),t&2){let n=e.$implicit;P("routerLink",n.urlTree),T(),ce(n.text)}}function efe(t,e){if(t&1){let n=X();at(0),b(1,"span",18),k("click",function(){N(n);let r=x(2);return F(r.authService.logout())}),R(2,"Odhl\xE1si\u0165 sa"),C(),ct()}}function tfe(t,e){if(t&1){let n=X();b(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),R(4),C()(),b(5,"div",2)(6,"i",12),k("click",function(){N(n);let r=x();return F(r.sidebarVisible=!1)}),C()()(),b(7,"div",13)(8,"div",14),k("click",function(){N(n);let r=x();return F(r.sidebarVisible=!1)}),B(9,Zhe,2,2,"a",15),C(),b(10,"div",16),k("click",function(){N(n);let r=x();return F(r.sidebarVisible=!1)}),B(11,efe,3,0,"ng-container",8),C()()()}if(t&2){let n=x();P("@fade",void 0),T(4),ce(n.event.title),T(5),P("ngForOf",n.getActiveMenus()),T(2),P("ngIf",n.authService.userS())}}var nfe=()=>["currentRoute"],ife=()=>({exact:!0});function rfe(t,e){if(t&1&&(b(0,"a",19),R(1),C()),t&2){let n=e.$implicit;P("routerLink",n.urlTree)("routerLinkActive",Dl(4,nfe))("routerLinkActiveOptions",Dl(5,ife)),T(),ce(n.text)}}function ofe(t,e){if(t&1){let n=X();at(0),b(1,"div",20)(2,"span",21),k("click",function(){N(n);let r=x();return F(r.authService.logout())}),R(3,"Odhl\xE1si\u0165 sa"),C(),b(4,"span",22),R(5),C()(),ct()}if(t&2){let n=x();T(5),ce(n.authService.userS().displayName)}}var kz=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.skip=!0,this.sidebarVisible=window.innerWidth<=1e3,this.menus=[{text:"Prihl\xE1\u0161ka",urlTree:["prihlaska"],active:!1},{text:"Hlasovanie",urlTree:["hlasovanie"],active:!0},{text:"V\xFDsledky",urlTree:["hlasovanie","vysledky"],active:!0}]}ngOnInit(){this.route.params.subscribe(i=>{this.event=JSON.parse(JSON.stringify(Oz.find(r=>r.id==i.id))),this.eventManagerService.event=this.event})}getActiveMenus(){return this.menus.filter(i=>i.active)}};e.\u0275fac=function(r){return new(r||e)(L(er),L(Nf),L(ks))},e.\u0275cmp=le({type:e,selectors:[["app-event-manager"]],hostVars:1,hostBindings:function(r,o){r&2&&Tl("@skip",o.skip)},standalone:!0,features:[ue],decls:17,vars:5,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],["class","header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],["class","sidebar-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-item",3,"click"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"span"),R(3),C()(),b(4,"div",2)(5,"i",3),k("click",function(){return o.sidebarVisible=!0}),C()()(),B(6,tfe,12,4,"div",4),b(7,"div",5)(8,"div",1)(9,"span"),R(10),C(),oe(11,"div",6),B(12,rfe,2,6,"a",7),C(),b(13,"div",2),B(14,ofe,6,1,"ng-container",8),C()(),b(15,"div",9),oe(16,"router-outlet"),C()),r&2&&(T(3),ce(o.event.title),T(3),P("ngIf",o.sidebarVisible),T(4),ce(o.event.title),T(2),P("ngForOf",o.getActiveMenus()),T(2),P("ngIf",o.authService.userS()))},dependencies:[fe,Ne,We,St,pf,C9,Fv,Az,Mz],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.currentRoute[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.6666666665rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.6666666666rem;display:flex;flex-direction:column;gap:.6666666666rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[Nc,lE]}});let t=e;return t})();var Rz=(()=>{let e=class e{constructor(i){this.eventManagerService=i}ngOnInit(){this.event=this.eventManagerService.event}};e.\u0275fac=function(r){return new(r||e)(L(ks))},e.\u0275cmp=le({type:e,selectors:[["app-rules"]],standalone:!0,features:[ue],decls:8,vars:0,template:function(r,o){r&1&&(b(0,"span"),R(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),C(),b(2,"span"),R(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),C(),b(4,"span"),R(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),C(),b(6,"span"),R(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),C())},dependencies:[fe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}"]});let t=e;return t})();function sfe(t,e){if(t&1&&(b(0,"td",9)(1,"span"),R(2),C()()),t&2){let n=e.$implicit,i=x().$implicit;Ir("width",100/i.options.length,"%"),T(2),ce(n.text)}}function afe(t,e){t&1&&oe(0,"i",12)}function cfe(t,e){if(t&1&&(b(0,"td"),B(1,afe,1,0,"i",11),C()),t&2){let n=e.$implicit,i=x().$implicit;T(),P("ngIf",n.people.includes(i.userDisplayName))}}function lfe(t,e){if(t&1&&(b(0,"tr")(1,"td",10),R(2),C(),B(3,cfe,2,1,"td",8),C()),t&2){let n=e.$implicit,i=x().$implicit,r=x(2);T(2),ce(r.getShortName(n.userDisplayName)),T(),P("ngForOf",i.options)}}function ufe(t,e){if(t&1){let n=X();b(0,"div",3),k("click",function(){let o=N(n).$implicit,a=x(2);return F(a.open(o))}),b(1,"span",4),R(2),C(),b(3,"div",5)(4,"table")(5,"tr"),oe(6,"td",6),B(7,sfe,3,3,"td",7),C(),B(8,lfe,4,2,"tr",8),C()()()}if(t&2){let n=e.$implicit,i=x(2);Ae("closed",!n.open),T(2),ce(n.title),T(),Ae("closed",!n.open),P("@drawer2",n.open),T(4),P("ngForOf",n.options),T(),P("ngForOf",i.userEntries)}}function dfe(t,e){if(t&1&&(b(0,"div",1),B(1,ufe,9,8,"div",2),C()),t&2){let n=x();T(),P("ngForOf",n.statistics)}}var Nz=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i.sort((r,o)=>o.submitDate.localeCompare(r.submitDate)),this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id]?.includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id]?.includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id]?.includes("dontcare")&&a.choices[r.id]?.includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(L(kf),L(ks))},e.\u0275cmp=le({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[ue],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&B(0,dfe,2,1,"div",0),r&2&&P("ngIf",o.statistics)},dependencies:[fe,Ne,We,St],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.3333333332rem);max-width:calc(100vw - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.6666666666rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.6666666666rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;background-color:var(--color-background-secondary)}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{position:sticky;left:0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[dE]}});let t=e;return t})();var wk=()=>["vysledky"];function hfe(t,e){t&1&&(at(0),b(1,"div",2)(2,"span"),R(3,"Hlasovanie teraz nie je akt\xEDvne"),C(),b(4,"a",3),oe(5,"i",4),R(6,"V\xFDsledky"),C()(),ct()),t&2&&(T(4),P("routerLink",Dl(1,wk)))}function ffe(t,e){if(t&1){let n=X();b(0,"div",17),k("create",function(r){N(n);let o=x(4);return F(o.createAuthButton(r))}),C()}}function pfe(t,e){if(t&1){let n=X();b(0,"div",18),k("click",function(){N(n);let r=x(4);return F(r.updateVote())}),R(1,"Zmeni\u0165 hlasovanie"),C()}}function mfe(t,e){if(t&1&&(b(0,"div",9)(1,"div",10)(2,"span",11),R(3,"Hlasovanie"),C()(),b(4,"div",12),B(5,ffe,1,0,"div",13)(6,pfe,2,0,"div",14),b(7,"span",15),R(8,"alebo"),C(),b(9,"a",16),oe(10,"i",4),R(11,"V\xFDsledky"),C()()()),t&2){let n=x(3);T(5),P("ngIf",!n.authService.userS()),T(),P("ngIf",n.authService.userS()&&!n.canVote),T(3),P("routerLink",Dl(3,wk))}}function gfe(t,e){if(t&1&&(b(0,"span",33),R(1),C()),t&2){let n=x().$implicit;T(),ce(n.description)}}function vfe(t,e){if(t&1&&oe(0,"i",41),t&2){let n=x().$implicit;P("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function yfe(t,e){if(t&1&&oe(0,"i",41),t&2){let n=x().$implicit;P("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function _fe(t,e){if(t&1&&(at(0),oe(1,"div",42),b(2,"a",43),k("click",function(i){return i.stopImmediatePropagation()}),oe(3,"i",44),C(),ct()),t&2){let n=x().$implicit;T(2),P("href",n.hyperlink,Oi)}}function wfe(t,e){if(t&1&&(at(0),oe(1,"div",42),b(2,"span",45),R(3),C(),ct()),t&2){let n=x().$implicit;T(3),ce(n.description)}}function bfe(t,e){if(t&1){let n=X();b(0,"div",36),k("click",function(){let o=N(n).$implicit,a=x(2).$implicit,l=x(4);return F(l.onChoiceClick(a,o))}),B(1,vfe,1,1,"i",37)(2,yfe,1,1,"i",37),b(3,"div",38)(4,"span",39),R(5),C(),B(6,_fe,4,1,"ng-container",40)(7,wfe,4,1,"ng-container",40),C()()}if(t&2){let n=e.$implicit,i=x(2).$implicit;Ae("disabled",n.disabled)("selected",n.selected),T(),P("ngIf",i.type=="checkbox"),T(),P("ngIf",i.type=="radio"),T(3),ce(n.text),T(),P("ngIf",n.hyperlink),T(),P("ngIf",n.description)}}function Cfe(t,e){if(t&1&&(b(0,"div",34),B(1,bfe,8,9,"div",35),C()),t&2){let n=x().$implicit;T(),P("ngForOf",n.choices)}}function Efe(t,e){if(t&1&&(b(0,"div",29)(1,"span",30),R(2),C(),B(3,gfe,2,1,"span",31)(4,Cfe,2,1,"div",32),C()),t&2){let n=e.$implicit,i=e.index,r=x(4);P("@drawer2",i==r.questionIndex),T(2),ce(n.title),T(),P("ngIf",n.description),T(),P("ngIf",n.choices)}}function Ife(t,e){t&1&&(b(0,"a",3),oe(1,"i",4),R(2,"V\xFDsledky"),C()),t&2&&P("@crossfade",void 0)("routerLink",Dl(2,wk))}function Sfe(t,e){if(t&1){let n=X();b(0,"div",46),k("click",function(){N(n);let r=x(4);return F(r.back())}),R(1,"Sp\xE4\u0165"),C()}t&2&&P("@crossfade",void 0)}function Tfe(t,e){if(t&1){let n=X();b(0,"div",46),k("click",function(){N(n);let r=x(4);return F(r.next())}),R(1,"\u010Ealej"),C()}t&2&&P("@crossfade",void 0)}function Dfe(t,e){if(t&1){let n=X();b(0,"div",46),k("click",function(){N(n);let r=x(4);return F(r.submit())}),R(1,"Hlasova\u0165"),C()}if(t&2){let n=x(4);Ae("disabled",!n.authService.userS()),P("@crossfade",void 0)}}function xfe(t,e){if(t&1&&(b(0,"div",19)(1,"div",20),B(2,Efe,5,4,"div",21),C(),b(3,"div",22)(4,"div",23),B(5,Ife,3,3,"a",24)(6,Sfe,2,1,"div",25),C(),b(7,"div",23)(8,"div",26),R(9,"\xA0"),C()(),b(10,"div",23),B(11,Tfe,2,1,"div",25)(12,Dfe,2,3,"div",27),C()(),b(13,"span",28),R(14),C()()),t&2){let n=x(3);T(),P("@skip",void 0),T(),P("ngForOf",n.activeQuestions),T(2),P("@skip",void 0),T(),P("ngIf",n.questionIndex==0),T(),P("ngIf",n.questionIndex!=0),T(4),P("@skip",void 0),T(),P("ngIf",n.questionIndex<n.activeQuestions.length-1),T(),P("ngIf",n.questionIndex==n.activeQuestions.length-1),T(2),ce(n.questionIndex+1+" / "+n.activeQuestions.length)}}function Afe(t,e){if(t&1&&(b(0,"div",6),B(1,mfe,12,4,"div",7)(2,xfe,15,9,"div",8),C()),t&2){let n=x(2);T(),P("ngIf",!n.authService.userS()||!n.canVote),T(),P("ngIf",n.authService.userS()&&n.canVote)}}function Mfe(t,e){if(t&1&&B(0,Afe,3,2,"div",5),t&2){let n=x();P("ngIf",!n.loading)}}var Fz=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event,this.activeQuestions=this.event.questions.filter(o=>o.active);let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.canVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.userS();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.userS().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.canVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.canVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(kf),L(ks),L(er),L(Nf))},e.\u0275cmp=le({type:e,selectors:[["app-survey"]],standalone:!0,features:[ue],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"create"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&B(0,hfe,7,2,"ng-container",0)(1,Mfe,1,1,"ng-template",null,1,nw),r&2){let a=bi(2);P("ngIf",o.activeQuestions.length==0)("ngIfElse",a)}},dependencies:[fe,ki,Ne,We,St,pf,Lc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.3333333332rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.3333333333rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.6666666666rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.3333333333rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.1666666667rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.6666666666rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border:1px solid var(--color-border);border-radius:.3333333333rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.6666666666rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.6666666666rem;font-size:12px}"],data:{animation:[uE,dE,Nc,lE]}});let t=e;return t})();function Pfe(t,e){if(t&1){let n=X();b(0,"span",6),k("click",function(){let o=N(n).$implicit,a=x(2);return F(a.onDataFileClick(o))}),R(1),C()}if(t&2){let n=e.$implicit;T(),ce(n.name.substring(0,n.name.length-10))}}function Ofe(t,e){if(t&1){let n=X();b(0,"span",6),k("click",function(){let o=N(n).$implicit,a=x(2);return F(a.onFolderClick(o))}),R(1),C()}if(t&2){let n=e.$implicit;T(),ce(n.name)}}function kfe(t,e){if(t&1&&(b(0,"div",4),B(1,Pfe,2,1,"span",5)(2,Ofe,2,1,"span",5),C()),t&2){let n=x();T(),P("ngForOf",n.dataFiles),T(),P("ngForOf",n.folders)}}var Lz=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.next(!0)}ngOnInit(){return E(this,null,function*(){let i=yield this.googleService.getFolderMetadata();this.dataFolder=i.find(a=>a.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let r=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=r.filter(a=>a.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(a=>a.name.substring(0,a.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=i.filter(a=>Pr.isFolder(a)&&!o.includes(a.name)&&a.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),this.googleService.dataFileId=i.id,this.router.navigate(["/gallery"])}onFolderClick(i){return E(this,null,function*(){this.applicationService.loading.next(!0);let r=yield this.googleService.createFile(i.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(i.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=r.id,this.googleService.updateContent(r.id,{dataFolderId:i.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(xf),L(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[ue],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),B(1,kfe,3,2,"div",1),b(2,"div",2)(3,"i",3),k("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),C()()()),r&2&&(Ae("opacity-1",!o.applicationService.loading.value),T(),P("ngIf",!0),T(2),P("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[fe,ki,Ne,We],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var Vz=(()=>{let e=class e extends Bt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)H.remove(o.tags,r);H.remove(this.stateService.tagGroups,this.group),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return xt.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t),L(ur))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,an)},inputs:{group:"group"},standalone:!0,features:[wt,ue],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(b(0,"span",0),R(1,"Group Name"),C(),b(2,"input",1),$e("ngModelChange",function(l){return ze(o.groupName,l)||(o.groupName=l),l}),C()),r&2&&(T(2),Be("ngModel",o.groupName))},dependencies:[fe,St,Yt,un,tn],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Rfe(t,e){if(t&1&&(b(0,"option",7),R(1),C()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.name)}}var SE=(()=>{let e=class e extends Bt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.currentGroup=this.group,this.canDelete=this.currentGroup!=null,this.tag&&(this.tagName=this.tag.name)}editGroup(i){this.dialogService.create(Vz,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)H.remove(r.tags,this.tag.id);H.remove(this.group.tags,this.tag),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return xt.isEmpty(this.tagName)?!1:this.tag&&this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag||(this.tag={id:ty(),name:"",state:0,lowerCaseName:""}),this.tag.name=this.tagName,this.tag.lowerCaseName=this.tagName.toLowerCase(),this.group&&this.group!=this.currentGroup&&H.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L($t),L(ur))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,an)},inputs:{group:"group",tag:"tag",tagName:"tagName"},standalone:!0,features:[wt,ue],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(b(0,"span",0),R(1,"Group"),C(),b(2,"div",1)(3,"select",2),$e("ngModelChange",function(l){return ze(o.currentGroup,l)||(o.currentGroup=l),l}),B(4,Rfe,2,2,"option",3),C(),b(5,"div",4)(6,"i",5),k("click",function(){return o.editGroup(o.currentGroup)}),C(),b(7,"i",6),k("click",function(){return o.editGroup()}),C()()(),b(8,"span",0),R(9,"Name"),C(),b(10,"div",1)(11,"input",2),$e("ngModelChange",function(l){return ze(o.tagName,l)||(o.tagName=l),l}),C()()),r&2&&(T(3),Be("ngModel",o.currentGroup),T(),P("ngForOf",o.stateService.tagGroups),T(2),Ae("disabled",!o.currentGroup),T(5),Be("ngModel",o.tagName))},dependencies:[fe,Ne,St,Ps,Os,Yt,eo,un,tn],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Nfe(t,e){if(t&1&&(b(0,"div",27)(1,"span"),R(2),C()()),t&2){let n=e.$implicit,i=x(2),r=bi(2);P("tp",r)("tpData",n),T(2),ce(i.getTag(n).name)}}function Ffe(t,e){if(t&1){let n=X();b(0,"div",28)(1,"i",3),k("click",function(){N(n);let r=x().ngVar,o=x();return F(o.moveTargetGroupLeft(r))}),C(),b(2,"i",29),k("click",function(){N(n);let r=x().ngVar,o=x();return F(o.moveTargetGroupRight(r))}),C()()}if(t&2){let n=x().ngVar,i=x();T(),Ae("disabled",i.isFirstGroupImage(n)),T(),Ae("disabled",i.isLastGroupImage(n))}}function Lfe(t,e){if(t&1){let n=X();b(0,"i",30),k("click",function(){N(n);let r=x(2);return F(r.stateService.setRandomGroupTarget())}),C()}}function Vfe(t,e){if(t&1&&oe(0,"iframe",34),t&2){let n=x().$implicit;X0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),P("src",n.contentLink,p1)}}function jfe(t,e){if(t&1){let n=X();b(0,"img",36),k("load",function(){N(n);let r=x(4);return F(r.loadingC=!1)}),C()}if(t&2){let n=x(2).$implicit;P("src",n.contentLink,Oi)}}function Ufe(t,e){if(t&1){let n=X();at(0),b(1,"img",35),k("click",function(){N(n);let r=x().$implicit,o=x(2);return F(o.onImageClick(r))}),C(),b(2,"img",36),k("load",function(){N(n);let r=x(3);return F(r.loadingT=!1)}),C(),B(3,jfe,1,1,"img",37),ct()}if(t&2){let n=x().$implicit,i=x(2);T(),P("src",i.getSrc(n),Oi),T(),P("src",n.thumbnailLink,Oi),T(),P("ngIf",n.contentLink)}}function Bfe(t,e){if(t&1&&(b(0,"div",31),B(1,Vfe,1,3,"iframe",32)(2,Ufe,4,3,"ng-container",33),C()),t&2){let n=x(2);P("@fade",void 0),T(),P("ngIf",n.video),T(),P("ngIf",!n.video)}}function $fe(t,e){if(t&1){let n=X();at(0),b(1,"div",2)(2,"div")(3,"i",3),k("click",function(){N(n);let r=x();return F(r.stateService.fullscreenVisible.set(!1))}),C(),b(4,"i",4),k("click",function(){N(n);let r=x();return F(r.dialogService.openSettings())}),C()(),b(5,"div")(6,"i",5),k("click",function(){let o=N(n).ngVar,a=x();return F(a.stateService.toggleHeart(o))}),C(),b(7,"i",6),k("click",function(){let o=N(n).ngVar,a=x();return F(a.stateService.toggleBookmark(o))}),C(),b(8,"span",7),k("click",function(){let o=N(n).ngVar,a=x();return F(a.stateService.like(o))})("contextmenu",function(r){let a=N(n).ngVar,l=x();return r.preventDefault(),F(l.stateService.dislike(a))}),R(9),C()()(),b(10,"div",8)(11,"div",9)(12,"div",10)(13,"i",11),k("click",function(){let o=N(n).ngVar,a=x();return F(a.stateService.delete(o,!0))}),C(),b(14,"i",12),k("click",function(){let o=N(n).ngVar,a=x();return F(a.stateService.delete(o,!1))}),C()(),b(15,"div",13)(16,"div",14),B(17,Nfe,3,3,"div",15),b(18,"div",16)(19,"div",17),oe(20,"input",18),b(21,"input",19,20),k("input",function(r){N(n);let o=x();return F(o.onTagInput(r))})("keypress",function(r){N(n);let o=x();return F(o.onTagInputSubmit(r))}),C()(),b(23,"i",21),k("click",function(){N(n);let r=x();return F(r.onTagInputSubmit())}),C()()(),B(24,Ffe,3,4,"div",22),C(),b(25,"div",23),B(26,Lfe,1,0,"i",24),b(27,"i",25),k("click",function(){N(n);let r=x();return F(r.stateService.setRandomTarget())}),C()()()(),B(28,Bfe,3,3,"div",26),ct()}if(t&2){let n=e.ngVar,i=bi(22),r=x();T(6),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),T(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),T(2),ce(n==null?null:n.likes),T(8),P("ngForOf",n==null?null:n.tags),T(3),P("placeholder",(r.tagMatch==null?null:r.tagMatch.name)||(i.value.length>0?"":"Tag Search")),T(4),P("ngIf",n==null?null:n.group),T(2),P("ngIf",n==null?null:n.group),T(2),P("ngForOf",r.crossfadeHelper)}}function Hfe(t,e){if(t&1){let n=X();b(0,"div",38)(1,"span",39),k("click",function(){let o=N(n).data,a=x();return F(a.editTag(o))}),R(2,"Edit"),C(),b(3,"span",39),k("click",function(){let o=N(n).data,a=x();return F(a.removeTag(o))}),R(4,"Remove"),C()()}}var jz=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,Al(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){i&&this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,Pr.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(i){return H.isFirst(i.group.images.filter(r=>r.passesFilter),i)}isLastGroupImage(i){return H.isLast(i.group.images.filter(r=>r.passesFilter),i)}moveTargetGroupLeft(i){this.stateService.target.set(H.getPrevious(i.group.images.filter(r=>r.passesFilter),i,!0))}moveTargetGroupRight(i){this.stateService.target.set(H.getNext(i.group.images.filter(r=>r.passesFilter),i,!0))}getTag(i){for(let r of this.stateService.tagGroups)for(let o of r.tags)if(o.id==i)return o}editTag(i){let r=this.getTag(i);this.dialogService.create(SE,{group:this.stateService.tagGroups.find(o=>o.tags.includes(r)),tag:r})}removeTag(i){this.stateService.toggleTag(this.stateService.target(),i)}createTag(){this.dialogService.create(SE)}onTagInput(i){let r=i.target.value.toLowerCase();if(r.length>0){for(let o of this.stateService.tagGroups)for(let a of o.tags)if(a.lowerCaseName.startsWith(r)){this.tagMatch=a,i.target.value=a.name.substring(0,r.length);return}}this.tagMatch=null}onTagInputSubmit(i){return E(this,null,function*(){if(!i||i.key==="Enter"){let r=document.getElementById("tag-input");this.tagMatch||(this.tagMatch=yield this.dialogService.create(SE,{tagName:r.value})),this.tagMatch&&(this.stateService.addTag(this.stateService.target(),this.tagMatch.id),this.tagMatch=null,r.value="")}})}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(ur),L($t))},e.\u0275cmp=le({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[ue],decls:3,vars:1,consts:[[4,"ngVar"],["contextmenu",""],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[1,"buttons"],[2,"justify-content","start"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"flex","column","center"],[1,"tags"],["class","tag-bubble","tpVariation","contextmenu",3,"tp","tpData",4,"ngFor","ngForOf"],[1,"tag-bubble",2,"display","flex","position","relative","padding-right","0"],[2,"width","100%"],[2,"position","absolute","width","100%","border","0","padding","0","user-select","none","pointer-events","none",3,"placeholder"],["id","tag-input","autocomplete","off",2,"position","relative","width","100%","border","0","padding","0",3,"input","keypress"],["tagInput",""],[1,"icon-button","fa-solid","fa-plus",3,"click"],["class","flex",4,"ngIf"],[2,"justify-content","end"],["class","icon-button fa-solid fa-arrows-spin",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],["tpVariation","contextmenu",1,"tag-bubble",3,"tp","tpData"],[1,"flex"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"],[1,"tippy-hover-menu-container"],[1,"tippy-hover-menu-button",3,"click"]],template:function(r,o){r&1&&B(0,$fe,29,8,"ng-container",0)(1,Hfe,5,0,"ng-template",null,1,nw),r&2&&P("ngVar",o.stateService.target())},dependencies:[fe,ki,Ne,We,QH,Ef],styles:['[_nghost-%COMP%]{z-index:20;background-color:#000000e6;transition:.5s}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;top:0;right:0;left:0;display:flex;justify-content:space-between;pointer-events:none}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;right:0;bottom:0;left:0;pointer-events:none;display:flex;flex-direction:column}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:.3333333333rem}}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag-bubble[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;padding:0 .3333333333rem;background-color:var(--color-overlay);cursor:default}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Nc]}});let t=e;return t})();var Fu=class{static getNearestImageUp(e,n){let i=e.indexOf(n);for(;i>0;)if(e[--i].left==n.left)return e[i];return H.getLast(e.filter(r=>r.left==n.left))}static getNearestImageRight(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==r.length-1?0:o+1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||H.getLast(d)}static getNearestImageDown(e,n){let i=e.indexOf(n);for(;i<e.length-1;)if(e[++i].left==n.left)return e[i];return H.getFirst(e.filter(r=>r.left==n.left))}static getNearestImageLeft(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==0?r.length-1:o-1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||H.getLast(d)}};function zfe(t,e){if(t&1){let n=X();at(0),b(1,"i",13),k("click",function(r){N(n);let o=x(2).$implicit,a=x(2);return F(a.onGroupToggleClick(r,o))}),C(),ct()}if(t&2){let n=x(2).$implicit,i=x(2);T(),Ae("disabled",i.shouldDisableGroupToggleButton(n)),P("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group")}}function qfe(t,e){if(t&1){let n=X();b(0,"div",9)(1,"i",10),k("click",function(r){N(n);let o=x().$implicit,a=x(2);return F(a.onHeartClick(r,o))}),C(),b(2,"i",11),k("click",function(r){N(n);let o=x().$implicit,a=x(2);return F(a.onBookmarkClick(r,o))}),C(),b(3,"span",12),k("click",function(r){N(n);let o=x().$implicit,a=x(2);return F(a.onLikeClick(r,o))})("contextmenu",function(r){N(n);let o=x().$implicit,a=x(2);return F(a.onDislikeClick(r,o))}),R(4),C(),B(5,zfe,2,4,"ng-container",0),C()}if(t&2){let n=x().$implicit;T(),P("ngClass",n.heart?"fa-solid active":"fa-regular"),T(),P("ngClass",n.bookmark?"fa-solid active":"fa-regular"),T(2),ce(n.likes),T(),P("ngIf",n.group)}}function Gfe(t,e){if(t&1){let n=X();b(0,"div",4),k("click",function(){let o=N(n).$implicit,a=x(2);return F(a.onImageClick(o))}),b(1,"div",5)(2,"img",6,7),k("create",function(r){let a=N(n).$implicit,l=x(2);return F(l.onBrickCreate(r,a))})("load",function(){N(n);let r=bi(3);return F(r.style.opacity="1")}),C()(),B(4,qfe,6,4,"div",8),C()}if(t&2){let n=e.$implicit,i=x(2);X0("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ae("modifying-group",i.stateService.modifyingGroup==null?null:i.stateService.modifyingGroup.includes(n)),P("@leave",void 0),T(2),P("src",n.thumbnailLink,Oi),T(2),P("ngIf",!i.stateService.modifyingGroup)}}function Wfe(t,e){if(t&1){let n=X();at(0),b(1,"div",1)(2,"div",2),k("create",function(r){N(n);let o=x();return F(o.onMasonryContainerCreate(r))}),B(3,Gfe,5,7,"div",3),C()(),ct()}if(t&2){let n=x();T(3),P("ngForOf",n.stateService.masonryImages)}}var Uz=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.stateService=r,this.bricks={},Al(()=>this.updateLayout()),Al(()=>this.scrollToTarget()),Al(()=>this.updateMasonryTargetReference())}updateLayout(){if(this.masonryContainer){if(this.stateService.masonryImages=this.stateService.filter().filter(p=>p.group?p.group.open?!0:p==p.group.images.filter(v=>v.passesFilter)[0]:!0),this.stateService.masonryImages.length==0)return;let i=ir.isLargeScreen()?200:150,r=6,o=this.masonryContainer.clientWidth,a=Math.floor(o/i),l=(o-r*(a-1))/a,d=[],f=[];for(let p=0;p<a;p++)d[p]=0,f[p]=p*(l+r);for(let p of this.stateService.masonryImages)p.width!=l&&(p.width=l,p.height=l/p.aspectRatio);for(let p of this.stateService.masonryImages)if(p.group?.open){if(p==p.group.images.filter(v=>v.passesFilter)[0]){let v=[this.getShortestColumnIndex(d)],y=[];for(let I=0;I<a;I++)y.push({top:0,bottom:0});for(let I of p.group.images.filter(w=>w.passesFilter)){let w=[...v],S=Math.min(...v);if(S>0){let V=d[S-1]+I.height*.5;V>y[S].top&&V<y[S].bottom&&w.push(S-1)}let D=Math.max(...v);if(D<a-1){let V=d[D+1]+I.height*.5;V>y[D].top&&V<y[D].bottom&&w.push(D+1)}let O=this.getShortestColumnIndex(d.map((V,q)=>w.includes(q)?V:999999999));H.push(v,O),I.top=d[O],I.left=f[O],d[O]+=I.height+r,y[O].top==0?(y[O].top=I.top,y[O].bottom=I.top+I.height):y[O].bottom+=r+I.height}}}else{let v=this.getShortestColumnIndex(d);p.top=d[v],p.left=f[v],d[v]=d[v]+p.height+r}}}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.group?i.group.images.find(a=>a.passesFilter):i,o=this.bricks[r?.id];if(o&&!ir.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateMasonryTargetReference(){let i=this.stateService.target();i&&this.stateService.masonryImages&&(this.stateService.masonryImages.includes(i)?this.stateService.masonryTargetReference=i:i.group&&i.group.images.some(r=>this.stateService.masonryImages.includes(r))&&(this.stateService.masonryTargetReference=H.findClosest(i.group.images,i,r=>this.stateService.masonryImages.includes(r))))}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){if(this.stateService.modifyingGroup){let r=this.stateService.target();if(i.group&&r.group&&!r.group.images.includes(i))return;H.toggle(this.stateService.modifyingGroup,i);return}this.stateService.target.set(i),this.stateService.fullscreenVisible.set(!0)}onHeartClick(i,r){ir.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){ir.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onLikeClick(i,r){ir.isLargeScreen()&&(i.stopPropagation(),this.stateService.like(r))}onDislikeClick(i,r){ir.isLargeScreen()&&(i.preventDefault(),this.stateService.dislike(r))}onGroupToggleClick(i,r){ir.isLargeScreen()&&(i.stopPropagation(),r.group&&(r.group.open=!r.group.open,this.stateService.refreshFilter()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryContainerCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}shouldDisableGroupToggleButton(i){return i.group&&i.group.images.filter(r=>r.passesFilter).length<2}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(ur))},e.\u0275cmp=le({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&k("resize",function(){return o.onResize()},!1,an)},standalone:!0,features:[ue],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],["class","brick-header",4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"icon-button","fa-solid","active",3,"ngClass","tp","click"]],template:function(r,o){r&1&&B(0,Wfe,4,1,"ng-container",0),r&2&&P("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[fe,ki,Ne,We,Lc,Ef],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);width:100%;padding:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border);background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[_H]}});let t=e;return t})();var Bz=(()=>{let e=class e{constructor(i,r,o){this.dialogService=i,this.applicationService=r,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.stateService.processData().then(i=>E(this,null,function*(){i.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(i)}))}initKeybinds(i){if(["BODY","VIDEO"].includes(document.activeElement.nodeName)){let r=this.stateService.target();switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(o=>!o);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(Fu.getNearestImageUp(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyA":case"ArrowLeft":i.shiftKey?this.stateService.target.set(H.getPrevious(r.group.images,r,!0)):this.stateService.target.set(Fu.getNearestImageLeft(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyS":case"ArrowDown":this.stateService.target.set(Fu.getNearestImageDown(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyD":case"ArrowRight":i.shiftKey?this.stateService.target.set(H.getNext(r.group.images,r,!0)):this.stateService.target.set(Fu.getNearestImageRight(this.stateService.masonryImages,this.stateService.masonryTargetReference));break}}}};e.\u0275fac=function(r){return new(r||e)(L($t),L(Dn),L(ur))},e.\u0275cmp=le({type:e,selectors:[["app-gallery"]],hostBindings:function(r,o){r&1&&k("keydown",function(l){return o.initKeybinds(l)},!1,O3)},standalone:!0,features:[ue],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(r,o){r&1&&(b(0,"div",0),oe(1,"app-masonry")(2,"app-fullscreen"),C()),r&2&&(T(),P("@enter",void 0),T(),Ae("transparent",!o.stateService.fullscreenVisible()))},dependencies:[fe,Uz,jz],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[yH]}});let t=e;return t})();function Kfe(t,e){if(t&1){let n=X();b(0,"div",5)(1,"div",6)(2,"span"),R(3,"po\u010Det t\xEDmov"),C(),b(4,"input",7,8),k("input",function(){N(n);let r=bi(5),o=x();return F(o.onTeamCountChange(r))}),C()(),b(6,"div",6)(7,"span"),R(8,"trvanie kola"),C(),b(9,"input",7,9),k("input",function(){N(n);let r=bi(10),o=x();return F(o.onRoundDurationChange(r))}),C()(),b(11,"span",10),k("click",function(){N(n);let r=x();return F(r.settingsDone())}),R(12,"\u0161tart"),C()()}if(t&2){let n=x();T(4),P("value",4),T(5),P("value",60),T(2),Ae("disabled",!n.validateSettings())}}function Qfe(t,e){t&1&&(b(0,"span"),R(1,"pre v\u0161etk\xFDch"),C())}function Yfe(t,e){if(t&1){let n=X();b(0,"div",11),B(1,Qfe,2,0,"span",12),b(2,"span"),R(3),C(),b(4,"span"),R(5),C(),b(6,"span",10),k("click",function(){N(n);let r=x();return F(r.startRound())}),R(7,"\u0161tart"),C()()}if(t&2){let n=x();T(),P("ngIf",n.isCurrentRoundForEveryone()),T(2),ce(n.getCurrentDiscipline()),T(2),ce(n.availablePhrases[0])}}function Jfe(t,e){if(t&1){let n=X();b(0,"span",10),k("click",function(){N(n);let r=x(2);return F(r.endRoundEarly())}),R(1,"hotovo"),C()}}function Xfe(t,e){if(t&1&&(b(0,"div",13)(1,"span"),R(2),C(),B(3,Jfe,2,0,"span",14),C()),t&2){let n=x();T(2),ce(n.timeLeft),T(),P("ngIf",n.showEndRoundEarlyButton)}}function Zfe(t,e){t&1&&(b(0,"span"),R(1,"pre v\u0161etk\xFDch"),C())}function epe(t,e){if(t&1){let n=X();b(0,"input",18,19),k("input",function(){N(n);let r=bi(1),o=x(2);return F(o.onForEveryoneWinnerChange(r))}),C()}}function tpe(t,e){if(t&1){let n=X();b(0,"div",15),B(1,Zfe,2,0,"span",12),b(2,"span"),R(3),C(),b(4,"span"),R(5),C(),b(6,"div",16),B(7,epe,2,0,"input",17),b(8,"span",10),k("click",function(){N(n);let r=x();return F(r.roundOver(!0))}),R(9,"uh\xE1dli"),C()(),b(10,"span",10),k("click",function(){N(n);let r=x();return F(r.roundOver(!1))}),R(11,"neuh\xE1dli"),C()()}if(t&2){let n=x();T(),P("ngIf",n.isCurrentRoundForEveryone()),T(2),ce(n.getCurrentDiscipline()),T(2),ce(n.availablePhrases[0]),T(),Ir("gap","2rem"),T(),P("ngIf",n.isCurrentRoundForEveryone()),T(),Ir("width",100,"%"),Ae("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function npe(t,e){if(t&1&&(b(0,"span"),R(1),C()),t&2){let n=e.$implicit,i=e.index;T(),Sr("",i+1,". t\xEDm: ",n.wins,"")}}function ipe(t,e){if(t&1){let n=X();b(0,"div",20)(1,"span"),R(2,"sk\xF3re"),C(),B(3,npe,2,2,"span",21),b(4,"span",10),k("click",function(){N(n);let r=x();return F(r.currentView="instructions")}),R(5,"\u010Fa\u013E\u0161ie kolo"),C()()}if(t&2){let n=x();T(3),P("ngForOf",n.teams)}}var $z=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(i){let r=Number.parseInt(i.value);r>=2?(this.teamCount=r,this.teamCountValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,i.style.borderColor="red")}onRoundDurationChange(i){let r=Number.parseInt(i.value);r>0?(this.roundDuration=r,this.roundDurationValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,i.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=H.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let i=Math.floor(this.phrases.length/3);for(let o=0;o<i;o++)this.teams.forEach(a=>H.push(a.roundDisciplines,H.shuffle(["hovorenie","kreslenie","ukazovanie"])));let r=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<r;o++)this.teams.forEach(a=>a.roundsForEveryone.push(Math.floor(Bo.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let i=this.teams[this.currentTeamIndex];return i.roundDisciplines[i.wins]}isCurrentRoundForEveryone(){let i=this.teams[this.currentTeamIndex];return i.roundsForEveryone.includes(i.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(i){let r=Number.parseInt(i.value);r>0&&r<=this.teams.length?(this.forEveryoneWinnerTeamIndex=r-1,this.forEveryoneWinnerTeamIndexValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,i.style.borderColor="red")}roundOver(i){this.availablePhrases.shift(),i&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-activity"]],standalone:!0,features:[ue],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&B(0,Kfe,13,4,"div",0)(1,Yfe,8,3,"div",1)(2,Xfe,4,2,"div",2)(3,tpe,12,10,"div",3)(4,ipe,6,1,"div",4),r&2&&(P("ngIf",o.currentView=="settings"),T(),P("ngIf",o.currentView=="instructions"),T(),P("ngIf",o.currentView=="countdown"),T(),P("ngIf",o.currentView=="result"),T(),P("ngIf",o.currentView=="score"))},dependencies:[fe,Ne,We,St],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var Hz=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],zz=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],qz=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var Gz=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,H.push(this.availableQuestions,Hz),H.push(this.availableQuestions,zz),H.push(this.availableQuestions,qz),H.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[ue],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),k("click",function(){return o.next()}),b(1,"span"),R(2),C()()),r&2&&(T(2),ce(o.currentQuestion))},dependencies:[fe],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var Wz=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=Bo.from(this.limbs,this.limb),[this.color,this.backgroundColor]=Bo.from(this.colors)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-twister"]],standalone:!0,features:[ue],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0),k("click",function(){return o.spin()}),b(1,"span"),R(2),C()()),r&2&&(Ir("background-color",o.backgroundColor),T(2),Sr("",o.limb," ",o.color,""))},dependencies:[fe],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function rpe(t,e){if(t&1){let n=X();at(0),b(1,"span",1),k("click",function(){N(n);let r=x();return F(r.navigate("gallery"))}),R(2,"Gallery"),C(),b(3,"span",1),k("click",function(){N(n);let r=x();return F(r.navigate("adventure"))}),R(4,"CYOA"),C(),b(5,"span",1),k("click",function(){N(n);let r=x();return F(r.navigate("tournament"))}),R(6,"Tournament"),C(),ct()}}var Kz=(()=>{let e=class e{constructor(i,r){this.router=i,this.applicationService=r,this.dev=0}ngOnInit(){}navigate(i){sessionStorage.setItem("appId",i),this.router.navigate([i])}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(Dn))},e.\u0275cmp=le({type:e,selectors:[["app-landing"]],standalone:!0,features:[ue],decls:14,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"span",1),k("click",function(){return o.navigate("event/2024-splav")}),R(2,"Splav 2024"),C(),b(3,"span",1),k("click",function(){return o.navigate("games/activity")}),R(4,"Activity"),C(),b(5,"span",1),k("click",function(){return o.navigate("games/twister")}),R(6,"Twister"),C(),b(7,"span",1),k("click",function(){return o.navigate("games/nikdy-som")}),R(8,"Nikdy som"),C(),B(9,rpe,7,0,"ng-container",2),C(),oe(10,"div",3),b(11,"div",0)(12,"i",4),k("click",function(){return o.applicationService.toggleTheme()}),C()(),b(13,"div",5),k("click",function(){return o.dev=o.dev+1}),C()),r&2&&(T(9),P("ngIf",o.dev>4),T(3),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[fe,ki,We],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var Qz="https://mazacik.github.io",bk={production:!0,baseUrl:Qz,redirectUrl:Qz+"/login"};var Ff=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+bk.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:bk.redirectUrl,plugin_name:"TagalleryWeb"};yield G_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield G_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(re(Pl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yz=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(L(er),L(Sn),L(Ff))},e.\u0275cmp=le({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(b(0,"div",0),k("click",function(){return o.signIn()}),oe(1,"img",1),b(2,"span",2),R(3,"Sign in with Google"),C()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var TE=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=ee(Sn),i=ee(Ff);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var Jz=(t,e)=>{let n=ee(Sn),i=sessionStorage.getItem("dataFileId");return xt.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var Xz=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return ee(Sn).createUrlTree(["/messenger-browser"]);return!0};var Zz=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return ee(Sn).createUrlTree([""])};var eq=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&Tl("@crossfade",o.crossfade)},standalone:!0,features:[ue],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(b(0,"span",0),R(1),C(),b(2,"span"),R(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),C(),b(4,"span"),R(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),C(),oe(6,"img",1)),r&2&&(T(),ce(o.userAgent))},dependencies:[fe,St],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[uE]}});let t=e;return t})();function spe(t,e){if(t&1){let n=X();b(0,"span",4),k("click",function(){N(n);let r=x();return F(r.parseText())}),R(1,"Parse"),C()}}function ape(t,e){if(t&1){let n=X();b(0,"div",6)(1,"span",4),k("click",function(){N(n);let r=x(2);return F(r.onEntryClick(r.tournament.currentComparison[0],r.tournament.currentComparison[1]))}),R(2),C(),b(3,"span",4),k("click",function(){N(n);let r=x(2);return F(r.onEntryClick(r.tournament.currentComparison[1],r.tournament.currentComparison[0]))}),R(4),C()()}if(t&2){let n=x(2);T(2),ce(n.tournament.currentComparison[0].id),T(2),ce(n.tournament.currentComparison[1].id)}}function cpe(t,e){if(t&1&&(at(0),B(1,ape,5,2,"div",5),ct()),t&2){let n=x();T(),P("ngIf",n.tournament.currentComparison)}}var tq=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Tf(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.handleUserDecision(i,r),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-tournament"]],standalone:!0,features:[ue],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"textarea",1),$e("ngModelChange",function(l){return ze(o.text,l)||(o.text=l),l}),C(),B(2,spe,2,0,"span",2),C(),B(3,cpe,2,1,"ng-container",3)),r&2&&(T(),P("placeholder",o.tournament?"Leaderboard":"Entries"),Be("ngModel",o.text),P("readOnly",o.tournament),T(),P("ngIf",!o.tournament),T(),P("ngIf",o.tournament))},dependencies:[fe,We,St,Yt,un,tn],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var nq=[{path:"messenger-browser",canActivate:[Zz],component:eq},{path:"login",component:Yz},{path:"adventure",canActivate:[TE],component:cz},{path:"folder-picker",canActivate:[TE],component:Lz},{path:"gallery",canActivate:[TE,Jz],component:Bz},{path:"tournament",component:tq},{path:"event/:id",component:kz,children:[{path:"hlasovanie/vysledky",component:Nz},{path:"hlasovanie",canActivate:[Xz],component:Fz},{path:"prihlaska",component:xz},{path:"pravidla",component:Rz},{path:"**",redirectTo:"hlasovanie"}]},{path:"home",component:Kz},{path:"games",children:[{path:"activity",component:$z},{path:"twister",component:Wz},{path:"nikdy-som",component:Gz},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var iq=(t,e)=>{let n=ee(Ff);return e(rq(n,t)).pipe(Jo(i=>lpe(n,i,t,e)))},rq=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,lpe=(t,e,n,i)=>E(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i(rq(t,n))});l$(xH,{providers:[$$(),E9(nq,I9({paramsInheritanceStrategy:"always"})),lU(dU(),uU([iq])),sm(jU(()=>UU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),sm(J5(()=>t$())),sm(HB(()=>zB())),vH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
