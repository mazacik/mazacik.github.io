var lP=Object.defineProperty,uP=Object.defineProperties;var dP=Object.getOwnPropertyDescriptors;var au=Object.getOwnPropertySymbols,hP=Object.getPrototypeOf,Pw=Object.prototype.hasOwnProperty,Ow=Object.prototype.propertyIsEnumerable,fP=Reflect.get;var Mw=(t,e,n)=>e in t?lP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})Pw.call(e,n)&&Mw(t,n,e[n]);if(au)for(var n of au(e))Ow.call(e,n)&&Mw(t,n,e[n]);return t},Ae=(t,e)=>uP(t,dP(e));var cp=(t,e)=>{var n={};for(var r in t)Pw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&au)for(var r of au(t))e.indexOf(r)<0&&Ow.call(t,r)&&(n[r]=t[r]);return n};var Ci=(t,e,n)=>fP(hP(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function pP(t,e){return Object.is(t,e)}var Et=null,za=!1,cu=1,Ii=Symbol("SIGNAL");function Pe(t){let e=Et;return Et=t,e}function mP(){return za}var lu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rw(t){if(za)throw new Error("");if(Et===null)return;Et.consumerOnSignalRead(t);let e=Et.nextProducerIndex++;if(Es(Et),e<Et.producerNode.length&&Et.producerNode[e]!==t&&qa(Et)){let n=Et.producerNode[e];du(n,Et.producerIndexOfThis[e])}Et.producerNode[e]!==t&&(Et.producerNode[e]=t,Et.producerIndexOfThis[e]=qa(Et)?Vw(t,Et,e):0),Et.producerLastReadVersion[e]=t.version}function gP(){cu++}function vP(t){if(!(qa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cu)){if(!t.producerMustRecompute(t)&&!uu(t)){t.dirty=!1,t.lastCleanEpoch=cu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cu}}function Nw(t){if(t.liveConsumerNode===void 0)return;let e=za;za=!0;try{for(let n of t.liveConsumerNode)n.dirty||Fw(n)}finally{za=e}}function kw(){return Et?.consumerAllowSignalWrites!==!1}function Fw(t){t.dirty=!0,Nw(t),t.consumerMarkedDirty?.(t)}function up(t){return t&&(t.nextProducerIndex=0),Pe(t)}function dp(t,e){if(Pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)du(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function uu(t){Es(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(vP(n),r!==n.version))return!0}return!1}function hp(t){if(Es(t),qa(t))for(let e=0;e<t.producerNode.length;e++)du(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vw(t,e,n){if(Lw(t),Es(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Vw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function du(t,e){if(Lw(t),Es(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)du(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Es(i),i.producerIndexOfThis[r]=e}}function qa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Es(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Lw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yP(){throw new Error}var jw=yP;function Uw(){jw()}function Bw(t){jw=t}var _P=null;function $w(t){let e=Object.create(zw);e.value=t;let n=()=>(Rw(e),e.value);return n[Ii]=e,n}function fp(t,e){kw()||Uw(),t.equal(t.value,e)||(t.value=e,wP(t))}function Hw(t,e){kw()||Uw(),fp(t,e(t.value))}var zw=Ae(k({},lu),{equal:pP,value:void 0});function wP(t){t.version++,gP(),Nw(t),_P?.()}function qw(t,e,n){let r=Object.create(EP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(hp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=lp)}let a=()=>{if(r.fn===null)return;if(mP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!uu(r))return;r.hasRun=!0;let c=up(r);try{r.cleanupFn(),r.cleanupFn=lp,r.fn(i)}finally{dp(r,c)}};return r.ref={notify:()=>Fw(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Ii]:r},r.ref}var lp=()=>{},EP=Ae(k({},lu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:lp});function te(t){return typeof t=="function"}function Cs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hu=Cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function po(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ot=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gw(o)}catch(s){e=e??[],s instanceof hu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&po(n,e)}remove(e){let{_finalizers:n}=this;n&&po(n,e),e instanceof t&&e._removeParent(this)}};ot.EMPTY=(()=>{let t=new ot;return t.closed=!0,t})();var pp=ot.EMPTY;function fu(t){return t instanceof ot||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Gw(t){te(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...n){let{delegate:r}=Is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pu(t){Is.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function Ga(){}var Ww=mp("C",void 0,void 0);function Kw(t){return mp("E",void 0,t)}function Qw(t){return mp("N",t,void 0)}function mp(t,e,n){return{kind:t,value:e,error:n}}var mo=null;function bs(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!mo;if(e&&(mo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=mo;if(mo=null,n)throw r}}else t()}function Yw(t){qn.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=t)}var go=class extends ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fu(e)&&e.add(this)):this.destination=bP}static create(e,n,r){return new bi(e,n,r)}next(e){this.isStopped?vp(Qw(e),this):this._next(e)}error(e){this.isStopped?vp(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vp(Ww,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CP=Function.prototype.bind;function gp(t,e){return CP.call(t,e)}var yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){mu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){mu(r)}else mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){mu(n)}}},bi=class extends go{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gp(e.next,o),error:e.error&&gp(e.error,o),complete:e.complete&&gp(e.complete,o)}):i=e}this.destination=new yp(i)}};function mu(t){qn.useDeprecatedSynchronousErrorHandling?Yw(t):pu(t)}function IP(t){throw t}function vp(t,e){let{onStoppedNotification:n}=qn;n&&Is.setTimeout(()=>n(t,e))}var bP={closed:!0,next:Ga,error:IP,complete:Ga};var Ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function _p(...t){return wp(t)}function wp(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=DP(n)?n:new bi(n,r,i);return bs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Xw(r),new r((i,o)=>{let s=new bi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ts](){return this}pipe(...n){return wp(n)(this)}toPromise(n){return n=Xw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Xw(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function TP(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function DP(t){return t&&t instanceof go||TP(t)&&fu(t)}function Ep(t){return te(t?.lift)}function we(t){return e=>{if(Ep(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Cp(t,e,n,r,i)}var Cp=class extends go{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ds(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ss=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ep(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ot;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ot.EMPTY)}return e}refCount(){return Ds()(this)}};var Jw=Cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Jw}next(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pp:(this.currentObservers=null,o.push(n),new ot(()=>{this.currentObservers=null,po(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new gu(e,n),t})(),gu=class extends kt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pp}};var Ft=class extends kt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ip={now(){return(Ip.delegate||Date).now()},delegate:void 0};var vu=class extends ot{constructor(e,n){super()}schedule(e,n=0){return this}};var Wa={setInterval(t,e,...n){let{delegate:r}=Wa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Wa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var As=class extends vu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Wa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Wa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,po(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var xs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};xs.now=Ip.now;var Ms=class extends xs{constructor(e,n=xs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ps=new Ms(As),bp=Ps;var yu=class extends As{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _u=class extends Ms{};var Tp=new _u(yu);var un=new ae(t=>t.complete());function wu(t){return t&&te(t.schedule)}function Dp(t){return t[t.length-1]}function Eu(t){return te(Dp(t))?t.pop():void 0}function hr(t){return wu(Dp(t))?t.pop():void 0}function Zw(t,e){return typeof Dp(t)=="number"?t.pop():e}function Sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function eE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(t){return this instanceof vo?(this.v=t,this):new vo(t)}function nE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(y,C){o.push([h,p,y,C])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(y){d(o[0][3],y)}}function c(h){h.value instanceof vo?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function rE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eE=="function"?eE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Os=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cu(t){return te(t?.then)}function Iu(t){return te(t[Ts])}function bu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Tu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Du=SP();function Su(t){return te(t?.[Du])}function Au(t){return nE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield vo(n.read());if(i)return yield vo(void 0);yield yield vo(r)}}finally{n.releaseLock()}})}function xu(t){return te(t?.getReader)}function Be(t){if(t instanceof ae)return t;if(t!=null){if(Iu(t))return AP(t);if(Os(t))return xP(t);if(Cu(t))return MP(t);if(bu(t))return iE(t);if(Su(t))return PP(t);if(xu(t))return OP(t)}throw Tu(t)}function AP(t){return new ae(e=>{let n=t[Ts]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xP(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MP(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pu)})}function PP(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iE(t){return new ae(e=>{RP(t,e).catch(n=>e.error(n))})}function OP(t){return iE(Au(t))}function RP(t,e){var n,r,i,o;return tE(this,void 0,void 0,function*(){try{for(n=rE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function dn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ti(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>dn(r,t,()=>r.next(i),e),()=>dn(r,t,()=>r.complete(),e),i=>dn(r,t,()=>r.error(i),e)))})}function Di(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oE(t,e){return Be(t).pipe(Di(e),Ti(e))}function sE(t,e){return Be(t).pipe(Di(e),Ti(e))}function aE(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cE(t,e){return new ae(n=>{let r;return dn(n,e,()=>{r=t[Du](),dn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Mu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{dn(n,e,()=>{let r=t[Symbol.asyncIterator]();dn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lE(t,e){return Mu(Au(t),e)}function uE(t,e){if(t!=null){if(Iu(t))return oE(t,e);if(Os(t))return aE(t,e);if(Cu(t))return sE(t,e);if(bu(t))return Mu(t,e);if(Su(t))return cE(t,e);if(xu(t))return lE(t,e)}throw Tu(t)}function je(t,e){return e?uE(t,e):Be(t)}function ce(...t){let e=hr(t);return je(t,e)}function Si(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Ap(t){return!!t&&(t instanceof ae||te(t.lift)&&te(t.subscribe))}var En=Cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new En)}})})}function Pu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new bi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new En)}});t.subscribe(o)})}function dE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:NP}=Array;function kP(t,e){return NP(e)?t(...e):t(e)}function Rs(t){return ie(e=>kP(t,e))}var{isArray:FP}=Array,{getPrototypeOf:VP,prototype:LP,keys:jP}=Object;function Ou(t){if(t.length===1){let e=t[0];if(FP(e))return{args:e,keys:null};if(UP(e)){let n=jP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function UP(t){return t&&typeof t=="object"&&VP(t)===LP}function Ru(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Nu(...t){let e=hr(t),n=Eu(t),{args:r,keys:i}=Ou(t);if(r.length===0)return je([],e);let o=new ae(BP(r,e,i?s=>Ru(i,s):wn));return n?o.pipe(Rs(n)):o}function BP(t,e,n=wn){return r=>{hE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)hE(e,()=>{let l=je(t[c],e),u=!1;l.subscribe(ge(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hE(t,e,n){t?dn(n,t,e):e()}function fE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},p=C=>l<r?y(C):c.push(C),y=C=>{o&&e.next(C),l++;let S=!1;Be(n(C,u++)).subscribe(ge(e,A=>{i?.(A),o?p(A):e.next(A)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let A=c.shift();s?dn(e,s,()=>y(A)):y(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(ge(e,p,()=>{d=!0,h()})),()=>{a?.()}}function st(t,e,n=1/0){return te(e)?st((r,i)=>ie((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>fE(r,i,t,n)))}function Ka(t=1/0){return st(wn,t)}function pE(){return Ka(1)}function Ns(...t){return pE()(je(t,hr(t)))}function ku(t){return new ae(e=>{Be(t()).subscribe(e)})}function xp(...t){let e=Eu(t),{args:n,keys:r}=Ou(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(ge(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ru(r,a):a),o.complete())}))}});return e?i.pipe(Rs(e)):i}var $P=["addListener","removeListener"],HP=["addEventListener","removeEventListener"],zP=["on","off"];function ks(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return ks(t,e,n).pipe(Rs(r));let[i,o]=WP(t)?HP.map(s=>a=>t[s](e,a,n)):qP(t)?$P.map(mE(t,e)):GP(t)?zP.map(mE(t,e)):[];if(!i&&Os(t))return st(s=>ks(s,e,n))(Be(t));if(!i)throw new TypeError("Invalid event target");return new ae(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function mE(t,e){return n=>r=>t[n](e,r)}function qP(t){return te(t.addListener)&&te(t.removeListener)}function GP(t){return te(t.on)&&te(t.off)}function WP(t){return te(t.addEventListener)&&te(t.removeEventListener)}function gE(t=0,e,n=bp){let r=-1;return e!=null&&(wu(e)?n=e:r=e),new ae(i=>{let o=dE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Qa(...t){let e=hr(t),n=Zw(t,1/0),r=t;return r.length?r.length===1?Be(r[0]):Ka(n)(je(r,e)):un}function Qt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function vE(t){return we((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ge(n,l=>{r=!0,i=l,o||Be(t(l)).subscribe(o=ge(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Mp(t,e=Ps){return vE(()=>gE(t,e))}function Gn(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=Be(t(s,Gn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ge(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ai(t,e){return te(e)?st(t,e,1):st(t,1)}function xi(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gr(t){return t<=0?()=>un:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pp(t){return ie(()=>t)}function Fu(t=KP){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function KP(){return new En}function yo(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):wn,Gr(1),n?xi(e):Fu(()=>new En))}function Fs(t){return t<=0?()=>un:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Op(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):wn,Fs(1),n?xi(e):Fu(()=>new En))}function Rp(t,e){return we(yE(t,e,arguments.length>=2,!0))}function Np(...t){let e=hr(t);return we((n,r)=>{(e?Ns(t,n,e):Ns(t,n)).subscribe(r)})}function Ct(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,c=>{i?.unsubscribe();let l=0,u=o++;Be(t(c,u)).subscribe(i=ge(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wn(t){return we((e,n)=>{Be(t).subscribe(ge(n,()=>n.complete(),Ga)),!n.closed&&e.subscribe(n)})}function at(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wn}var rC="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(fd(e,n)),this.code=e}};function fd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Yp=class extends kt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Pe(null);try{super.next(e)}finally{Pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=kp(o),i&&(i=kp(i)),s&&(s=kp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ot&&e.add(a),a}};function kp(t){return e=>{setTimeout(t,void 0,e)}}var Je=Yp;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Xp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var iC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iC||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{});function cc(t){return{toString:t}.toString()}var _o=globalThis;var $s={},fn=[];function Ue(t){for(let e in t)if(t[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function QP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var YP=Ue({\u0275cmp:Ue}),XP=Ue({\u0275dir:Ue}),JP=Ue({\u0275pipe:Ue}),ZP=Ue({\u0275mod:Ue}),Qu=Ue({\u0275fac:Ue}),Ya=Ue({__NG_ELEMENT_ID__:Ue}),_E=Ue({__NG_ENV_ID__:Ue}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function oC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Jp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];tO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eO(t){return t===3||t===4||t===6}function tO(t){return t.charCodeAt(0)===64}function Xa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wE(t,n,i,null,e[++r]):wE(t,n,i,null,null))}}return t}function wE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var sC="ng-template";function nO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&oC(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function aC(t){return t.type===4&&t.value!==sC}function rO(t,e,n){let r=t.type===4&&!n?sC:t.value;return e===r}function iO(t,e,n){let r=4,i=t.attrs||[],o=aO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Kn(r)&&!Kn(c))return!1;if(s&&Kn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!rO(t,c,n)||c===""&&e.length===1){if(Kn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!nO(t.attrs,l,n)){if(Kn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=oO(u,i,aC(t),n);if(d===-1){if(Kn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&oC(p,l,0)!==-1||r&2&&l!==h){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(t){return(t&1)===0}function oO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cO(e,t)}function sO(t,e,n=!1){for(let r=0;r<e.length;r++)if(iO(t,e[r],n))return!0;return!1}function aO(t){for(let e=0;e<t.length;e++){let n=t[e];if(eO(n))return e}return t.length}function cO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EE(t,e){return t?":not("+e.trim()+")":e}function lO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=EE(o,i),i=""),r=s,o=o||!Kn(r);n++}return i!==""&&(e+=EE(o,i)),e}function uO(t){return t.map(lO).join(",")}function dO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kn(i))break;i=o}r++}return{attrs:e,classes:n}}function Y(t){return cc(()=>{let e=hC(t),n=Ae(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""});fC(n);let r=t.dependencies;return n.directiveDefs=IE(r,!1),n.pipeDefs=IE(r,!0),n.id=pO(n),n})}function hO(t){return Oi(t)||cC(t)}function fO(t){return t!==null}function rn(t){return cc(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function CE(t,e){if(t==null)return $s;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function lt(t){return cc(()=>{let e=hC(t);return fC(e),e})}function Oi(t){return t[YP]||null}function cC(t){return t[XP]||null}function lC(t){return t[JP]||null}function uC(t){let e=Oi(t)||cC(t)||lC(t);return e!==null?e.standalone:!1}function dC(t,e){let n=t[ZP]||null;if(!n&&e===!0)throw new Error(`Type ${nn(t)} does not have '\u0275mod' property.`);return n}function hC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CE(t.inputs,e),outputs:CE(t.outputs),debugInfo:null}}function fC(t){t.features?.forEach(e=>e(t))}function IE(t,e){if(!t)return null;let n=e?lC:hO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(fO)}function pO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Er=0,ve=1,ne=2,Vt=3,Yn=4,Zn=5,Yu=6,Ja=7,Xn=8,Hs=9,Wr=10,ct=11,Za=12,bE=13,Xs=14,vr=15,lc=16,Vs=17,Kr=18,pd=19,pC=20,Pi=21,$u=22,Co=23,yr=25,Jm=1;var Io=7,Xu=8,zs=9,Cn=10,Zm=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Zm||{});function wo(t){return Array.isArray(t)&&typeof t[Jm]=="object"}function ei(t){return Array.isArray(t)&&t[Jm]===!0}function eg(t){return(t.flags&4)!==0}function md(t){return t.componentOffset>-1}function gd(t){return(t.flags&1)===1}function Qr(t){return!!t.template}function mO(t){return(t[ne]&512)!==0}var gO="svg",vO="math",yO=!1;function _O(){return yO}function _r(t){for(;Array.isArray(t);)t=t[Er];return t}function wO(t){for(;Array.isArray(t);){if(typeof t[Jm]=="object")return t;t=t[Er]}return null}function mC(t,e){return _r(e[t])}function er(t,e){return _r(e[t.index])}function gC(t,e){return t.data[e]}function EO(t,e){return t[e]}function ki(t,e){let n=e[t];return wo(n)?n:n[Er]}function CO(t){return(t[ne]&4)===4}function tg(t){return(t[ne]&128)===128}function IO(t){return ei(t[Vt])}function qs(t,e){return e==null?null:t[e]}function vC(t){t[Vs]=0}function bO(t){t[ne]&1024||(t[ne]|=1024,tg(t)&&ec(t))}function TO(t,e){for(;t>0;)e=e[Xs],t--;return e}function ng(t){return!!(t[ne]&9216||t[Co]?.dirty)}function Zp(t){ng(t)?ec(t):t[ne]&64&&(_O()?(t[ne]|=1024,ec(t)):t[Wr].changeDetectionScheduler?.notify())}function ec(t){t[Wr].changeDetectionScheduler?.notify();let e=tc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!tg(e)));)e=tc(e)}function yC(t,e){if((t[ne]&256)===256)throw new O(911,!1);t[Pi]===null&&(t[Pi]=[]),t[Pi].push(e)}function DO(t,e){if(t[Pi]===null)return;let n=t[Pi].indexOf(e);n!==-1&&t[Pi].splice(n,1)}function tc(t){let e=t[Vt];return ei(e)?e[Vt]:e}var me={lFrame:DC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function SO(){return me.lFrame.elementDepthCount}function AO(){me.lFrame.elementDepthCount++}function xO(){me.lFrame.elementDepthCount--}function _C(){return me.bindingsEnabled}function MO(){return me.skipHydrationRootTNode!==null}function PO(t){return me.skipHydrationRootTNode===t}function OO(){me.skipHydrationRootTNode=null}function xe(){return me.lFrame.lView}function bt(){return me.lFrame.tView}function T(t){return me.lFrame.contextLView=t,t[Xn]}function D(t){return me.lFrame.contextLView=null,t}function pn(){let t=wC();for(;t!==null&&t.type===64;)t=t.parent;return t}function wC(){return me.lFrame.currentTNode}function RO(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Mo(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function rg(){return me.lFrame.isParent}function EC(){me.lFrame.isParent=!1}function NO(){return me.lFrame.contextLView}function kO(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FO(){return me.lFrame.bindingIndex}function VO(t){return me.lFrame.bindingIndex=t}function vd(){return me.lFrame.bindingIndex++}function ig(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function LO(){return me.lFrame.inI18n}function jO(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,em(e)}function UO(){return me.lFrame.currentDirectiveIndex}function em(t){me.lFrame.currentDirectiveIndex=t}function CC(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function IC(){return me.lFrame.currentQueryIndex}function og(t){me.lFrame.currentQueryIndex=t}function BO(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[Zn]:null}function bC(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=BO(o),i===null||(o=o[Xs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=TC();return r.currentTNode=e,r.lView=t,!0}function sg(t){let e=TC(),n=t[ve];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TC(){let t=me.lFrame,e=t===null?null:t.child;return e===null?DC(t):e}function DC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function SC(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AC=SC;function ag(){let t=SC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $O(t){return(me.lFrame.contextLView=TO(t,me.lFrame.contextLView))[Xn]}function Fi(){return me.lFrame.selectedIndex}function bo(t){me.lFrame.selectedIndex=t}function cg(){let t=me.lFrame;return gC(t.tView,t.selectedIndex)}function HO(){return me.lFrame.currentNamespace}var xC=!0;function yd(){return xC}function _d(t){xC=t}function zO(){return Js(pn(),xe())}function Js(t,e){return new ut(er(t,e))}var ut=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=zO;let t=e;return t})();function qO(t){return t instanceof ut?t.nativeElement:t}function GO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function WO(t){return t.flat(Number.POSITIVE_INFINITY)}function lg(t,e){t.forEach(n=>Array.isArray(n)?lg(n,e):e(n))}function MC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ug(t,e,n){let r=uc(t,e);return r>=0?t[r|1]=n:(r=~r,KO(t,r,e,n)),r}function Fp(t,e){let n=uc(t,e);if(n>=0)return t[n|1]}function uc(t,e){return QO(t,e,1)}function QO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function YO(){return this._results[Symbol.iterator]()}var tm=class t{get changes(){return this._changes??=new Je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=YO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=WO(e);(this._changesDetected=!GO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function PC(t){return(t.flags&128)===128}var nm;function OC(t){nm=t}function XO(){if(nm!==void 0)return nm;if(typeof document<"u")return document;throw new O(210,!1)}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function wd(t){return TE(t,NC)||TE(t,kC)}function RC(t){return wd(t)!==null}function TE(t,e){return t.hasOwnProperty(e)?t[e]:null}function JO(t){let e=t&&(t[NC]||t[kC]);return e||null}function DE(t){return t&&(t.hasOwnProperty(SE)||t.hasOwnProperty(ZO))?t[SE]:null}var NC=Ue({\u0275prov:Ue}),SE=Ue({\u0275inj:Ue}),kC=Ue({ngInjectableDef:Ue}),ZO=Ue({ngInjectorDef:Ue}),K=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},dg=new K("",{providedIn:"root",factory:()=>eR}),eR="ng",hg=new K(""),Nn=new K("",{providedIn:"platform",factory:()=>"unknown"});var fg=new K(""),pg=new K("",{providedIn:"root",factory:()=>XO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tR=Ue({__forward_ref__:Ue});function dc(t){return t.__forward_ref__=dc,t.toString=function(){return nn(this())},t}function tn(t){return FC(t)?t():t}function FC(t){return typeof t=="function"&&t.hasOwnProperty(tR)&&t.__forward_ref__===dc}function VC(t){return t&&!!t.\u0275providers}function nc(t){return typeof t=="string"?t:t==null?"":String(t)}function nR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():nc(t)}function rR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,t)}function mg(t,e){throw new O(-201,!1)}var rm;function LC(){return rm}function Rn(t){let e=rm;return rm=t,e}function jC(t,e,n){let r=wd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;mg(t,"Injector")}var iR={},rc=iR,im="__NG_DI_FLAG__",Zu="ngTempTokenPath",oR="ngTokenPath",sR=/\n/gm,aR="\u0275",AE="__source",Us;function cR(){return Us}function Mi(t){let e=Us;return Us=t,e}function lR(t,e=_e.Default){if(Us===void 0)throw new O(-203,!1);return Us===null?jC(t,void 0,e):Us.get(t,e&_e.Optional?null:void 0,e)}function j(t,e=_e.Default){return(LC()||lR)(tn(t),e)}function R(t,e=_e.Default){return j(t,Ed(e))}function Ed(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function om(t){let e=[];for(let n=0;n<t.length;n++){let r=tn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=uR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(j(i,o))}else e.push(j(r))}return e}function UC(t,e){return t[im]=e,t.prototype[im]=e,t}function uR(t){return t[im]}function dR(t,e,n,r){let i=t[Zu];throw e[AE]&&i.unshift(e[AE]),t.message=hR(`
`+t.message,i,n,r),t[oR]=i,t[Zu]=null,t}function hR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aR?t.slice(2):t;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sR,`
  `)}`}var fR="h",pR="b";var mR=()=>null;function gg(t,e,n=!1){return mR(t,e,n)}var Vu="__parameters__";function gR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function BC(t,e,n){return cc(()=>{let r=gR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Vu)?c[Vu]:Object.defineProperty(c,Vu,{value:[]})[Vu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var sn=UC(BC("Optional"),8);var $C=UC(BC("SkipSelf"),4);function Gs(t,e){let n=t.hasOwnProperty(Qu);return n?t[Qu]:null}var Ws=new K(""),HC=new K("",-1),zC=new K(""),ed=class{get(e,n=rc){if(n===rc){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Vi(t){return{\u0275providers:t}}function hc(...t){return{\u0275providers:qC(!0,t),\u0275fromNgModule:!0}}function qC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return lg(e,s=>{let a=s;sm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GC(i,o),n}function GC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];vg(i,o=>{e(o,r)})}}function sm(t,e,n,r){if(t=tn(t),!t)return!1;let i=null,o=DE(t),s=!o&&Oi(t);if(!o&&!s){let c=t.ngModule;if(o=DE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)sm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{lg(o.imports,u=>{sm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&GC(l,e)}if(!a){let l=Gs(i)||(()=>new i);e({provide:i,useFactory:l,deps:fn},i),e({provide:zC,useValue:i,multi:!0},i),e({provide:Ws,useValue:()=>j(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;vg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function vg(t,e){for(let n of t)VC(n)&&(n=n.\u0275providers),Array.isArray(n)?vg(n,e):e(n)}var vR=Ue({provide:String,useValue:Ue});function WC(t){return t!==null&&typeof t=="object"&&vR in t}function yR(t){return!!(t&&t.useExisting)}function _R(t){return!!(t&&t.useFactory)}function Ks(t){return typeof t=="function"}function wR(t){return!!t.useClass}var Cd=new K(""),Hu={},ER={},Vp;function Id(){return Vp===void 0&&(Vp=new ed),Vp}var It=class{},ic=class extends It{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cm(e,s=>this.processProvider(s)),this.records.set(HC,Ls(void 0,this)),i.has("environment")&&this.records.set(It,Ls(void 0,this));let o=this.records.get(Cd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zC,fn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mi(this),r=Rn(void 0),i;try{return e()}finally{Mi(n),Rn(r)}}get(e,n=rc,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_E))return e[_E](this);r=Ed(r);let i,o=Mi(this),s=Rn(void 0);try{if(!(r&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=DR(e)&&wd(e);l&&this.injectableDefInScope(l)?c=Ls(am(e),Hu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&_e.Self?Id():this.parent;return n=r&_e.Optional&&n===rc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zu]=a[Zu]||[]).unshift(nn(e)),o)throw a;return dR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rn(s),Mi(o)}}resolveInjectorInitializers(){let e=Pe(null),n=Mi(this),r=Rn(void 0),i;try{let o=this.get(Ws,fn,_e.Self);for(let s of o)s()}finally{Mi(n),Rn(r),Pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=tn(e);let n=Ks(e)?e:tn(e&&e.provide),r=IR(e);if(!Ks(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ls(void 0,Hu,!0),i.factory=()=>om(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Pe(null);try{return n.value===Hu&&(n.value=ER,n.value=n.factory()),typeof n.value=="object"&&n.value&&TR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function am(t){let e=wd(t),n=e!==null?e.factory:Gs(t);if(n!==null)return n;if(t instanceof K)throw new O(204,!1);if(t instanceof Function)return CR(t);throw new O(204,!1)}function CR(t){if(t.length>0)throw new O(204,!1);let n=JO(t);return n!==null?()=>n.factory(t):()=>new t}function IR(t){if(WC(t))return Ls(void 0,t.useValue);{let e=KC(t);return Ls(e,Hu)}}function KC(t,e,n){let r;if(Ks(t)){let i=tn(t);return Gs(i)||am(i)}else if(WC(t))r=()=>tn(t.useValue);else if(_R(t))r=()=>t.useFactory(...om(t.deps||[]));else if(yR(t))r=()=>j(tn(t.useExisting));else{let i=tn(t&&(t.useClass||t.provide));if(bR(t))r=()=>new i(...om(t.deps));else return Gs(i)||am(i)}return r}function Ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bR(t){return!!t.deps}function TR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DR(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function cm(t,e){for(let n of t)Array.isArray(n)?cm(n,e):n&&VC(n)?cm(n.\u0275providers,e):e(n)}function ti(t,e){t instanceof ic&&t.assertNotDestroyed();let n,r=Mi(t),i=Rn(void 0);try{return e()}finally{Mi(r),Rn(i)}}function SR(t){if(!LC()&&!cR())throw new O(-203,!1)}function AR(t){return typeof t=="function"}var lm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ni(){return YC}function YC(t){return t.type.prototype.ngOnChanges&&(t.setInput=MR),xR}ni.ngInherit=!0;function xR(){let t=JC(this),e=t?.current;if(e){let n=t.previous;if(n===$s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function MR(t,e,n,r,i){let o=this.declaredInputs[r],s=JC(t)||PR(t,{previous:$s,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new lm(l&&l.currentValue,n,c===$s),QC(t,e,i,n)}var XC="__ngSimpleChanges__";function JC(t){return t[XC]||null}function PR(t,e){return t[XC]=e}var xE=null;var pr=function(t,e,n){xE?.(t,e,n)};function OR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function zu(t,e,n){ZC(t,e,3,n)}function qu(t,e,n,r){(t[ne]&3)===n&&ZC(t,e,n,r)}function Lp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function ZC(t,e,n,r){let i=r!==void 0?t[Vs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vs]+=65536),(a<o||o==-1)&&(RR(t,n,e,c),t[Vs]=(t[Vs]&4294901760)+c+2),c++}function ME(t,e){pr(4,t,e);let n=Pe(null);try{e.call(t)}finally{Pe(n),pr(5,t,e)}}function RR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Vs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,ME(a,o)):ME(a,o)}var Bs=-1,To=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function NR(t){return t instanceof To}function kR(t){return(t.flags&8)!==0}function FR(t){return(t.flags&16)!==0}function eI(t){return t!==Bs}function td(t){return t&32767}function VR(t){return t>>16}function nd(t,e){let n=VR(t),r=e;for(;n>0;)r=r[Xs],n--;return r}var um=!0;function PE(t){let e=um;return um=t,e}var LR=256,tI=LR-1,nI=5,jR=0,mr={};function UR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),r==null&&(r=n[Ya]=jR++);let i=r&tI,o=1<<i;e.data[t+(i>>nI)]|=o}function rd(t,e){let n=rI(t,e);if(n!==-1)return n;let r=e[ve];r.firstCreatePass&&(t.injectorIndex=e.length,jp(r.data,t),jp(e,null),jp(r.blueprint,null));let i=yg(t,e),o=t.injectorIndex;if(eI(i)){let s=td(i),a=nd(i,e),c=a[ve].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function jp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cI(i),r===null)return Bs;if(n++,i=i[Xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bs}function dm(t,e,n){UR(t,e,n)}function iI(t,e,n){if(n&_e.Optional||t!==void 0)return t;mg(e,"NodeInjector")}function oI(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[Hs],o=Rn(void 0);try{return i?i.get(e,r,n&_e.Optional):jC(e,r,n&_e.Optional)}finally{Rn(o)}}return iI(r,e,n)}function sI(t,e,n,r=_e.Default,i){if(t!==null){if(e[ne]&2048&&!(r&_e.Self)){let s=zR(t,e,n,r,mr);if(s!==mr)return s}let o=aI(t,e,n,r,mr);if(o!==mr)return o}return oI(e,n,r,i)}function aI(t,e,n,r,i){let o=$R(n);if(typeof o=="function"){if(!bC(e,t,r))return r&_e.Host?iI(i,n,r):oI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))mg(n);else return s}finally{AC()}}else if(typeof o=="number"){let s=null,a=rI(t,e),c=Bs,l=r&_e.Host?e[vr][Zn]:null;for((a===-1||r&_e.SkipSelf)&&(c=a===-1?yg(t,e):e[a+8],c===Bs||!RE(r,!1)?a=-1:(s=e[ve],a=td(c),e=nd(c,e)));a!==-1;){let u=e[ve];if(OE(o,a,u.data)){let d=BR(a,e,n,s,r,l);if(d!==mr)return d}c=e[a+8],c!==Bs&&RE(r,e[ve].data[a+8]===l)&&OE(o,a,e)?(s=u,a=td(c),e=nd(c,e)):a=-1}}return i}function BR(t,e,n,r,i,o){let s=e[ve],a=s.data[t+8],c=r==null?md(a)&&um:r!=s&&(a.type&3)!==0,l=i&_e.Host&&o===a,u=Gu(a,s,n,c,l);return u!==null?Do(e,s,u,a):mr}function Gu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let p=d;p<h;p++){let y=s[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(i){let p=s[c];if(p&&Qr(p)&&p.type===n)return c}return null}function Do(t,e,n,r){let i=t[n],o=e.data;if(NR(i)){let s=i;s.resolving&&rR(nR(o[n]));let a=PE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Rn(s.injectImpl):null,u=bC(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&OR(n,o[n],e)}finally{l!==null&&Rn(l),PE(a),s.resolving=!1,AC()}}return i}function $R(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return typeof e=="number"?e>=0?e&tI:HR:e}function OE(t,e,n){let r=1<<t;return!!(n[e+(t>>nI)]&r)}function RE(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var Eo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sI(this._tNode,this._lView,e,Ed(r),n)}};function HR(){return new Eo(pn(),xe())}function tr(t){return cc(()=>{let e=t.prototype.constructor,n=e[Qu]||hm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qu]||hm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hm(t){return FC(t)?()=>{let e=hm(tn(t));return e&&e()}:Gs(t)}function zR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=aI(o,s,n,r|_e.Self,mr);if(a!==mr)return a;let c=o.parent;if(!c){let l=s[pC];if(l){let u=l.get(n,mr,r);if(u!==mr)return u}c=cI(s),s=s[Xs]}o=c}return i}function cI(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[Zn]:null}function NE(t,e=null,n=null,r){let i=lI(t,e,n,r);return i.resolveInjectorInitializers(),i}function lI(t,e=null,n=null,r,i=new Set){let o=[n||fn,hc(t)];return r=r||(typeof t=="object"?void 0:nn(t)),new ic(o,e||Id(),r||null,i)}var Ze=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return NE({name:""},i,r,"");{let o=r.name??"";return NE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=rc,e.NULL=new ed,e.\u0275prov=L({token:e,providedIn:"any",factory:()=>j(HC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),qR="ngOriginalError";function Up(t){return t[qR]}var wr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Up(e);for(;n&&Up(n);)n=Up(n);return n||null}},uI=new K("",{providedIn:"root",factory:()=>R(wr).handleError.bind(void 0)});var dI=!1,GR=new K("",{providedIn:"root",factory:()=>dI}),Lu;function WR(){if(Lu===void 0&&(Lu=null,_o.trustedTypes))try{Lu=_o.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lu}function Td(t){return WR()?.createHTML(t)||t}var Yr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rC})`}},fm=class extends Yr{getTypeName(){return"HTML"}},pm=class extends Yr{getTypeName(){return"Style"}},mm=class extends Yr{getTypeName(){return"Script"}},gm=class extends Yr{getTypeName(){return"URL"}},vm=class extends Yr{getTypeName(){return"ResourceURL"}};function Cr(t){return t instanceof Yr?t.changingThisBreaksApplicationSecurity:t}function Po(t,e){let n=KR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${rC})`)}return n===e}function KR(t){return t instanceof Yr&&t.getTypeName()||null}function hI(t){return new fm(t)}function fI(t){return new pm(t)}function pI(t){return new mm(t)}function mI(t){return new gm(t)}function gI(t){return new vm(t)}function QR(t){let e=new _m(t);return YR()?new ym(e):e}var ym=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Td(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},_m=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Td(e),n}};function YR(){try{return!!new window.DOMParser().parseFromString(Td(""),"text/html")}catch{return!1}}var XR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(t){return t=String(t),t.match(XR)?t:"unsafe:"+t}function ri(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function fc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var vI=ri("area,br,col,hr,img,wbr"),yI=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_I=ri("rp,rt"),JR=fc(_I,yI),ZR=fc(yI,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eN=fc(_I,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kE=fc(vI,ZR,eN,JR),wI=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tN=ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nN=ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rN=fc(wI,tN,nN),iN=ri("script,style,template"),wm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!kE.hasOwnProperty(n))return this.sanitizedSomething=!0,!iN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!rN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;wI[a]&&(c=Dd(c)),this.buf.push(" ",s,'="',FE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();kE.hasOwnProperty(n)&&!vI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(FE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},oN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sN=/([^\#-~ |!])/g;function FE(t){return t.replace(/&/g,"&amp;").replace(oN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(sN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ju;function EI(t,e){let n=null;try{ju=ju||QR(t);let r=e?String(e):"";n=ju.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ju.getInertBodyElement(r)}while(r!==o);let a=new wm().sanitizeChildren(VE(n)||n);return Td(a)}finally{if(n){let r=VE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function VE(t){return"content"in t&&aN(t)?t.content:null}function aN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ii=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ii||{});function mn(t){let e=cN();return e?e.sanitize(ii.URL,t)||"":Po(t,"URL")?Cr(t):Dd(nc(t))}function cN(){let t=xe();return t&&t[Wr].sanitizer}var lN=/^>|^->|<!--|-->|--!>|<!-$/g,uN=/(<|>)/g,dN="\u200B$1\u200B";function hN(t){return t.replace(lN,e=>e.replace(uN,dN))}var CI=new Map,fN=0;function pN(){return fN++}function mN(t){CI.set(t[pd],t)}function gN(t){CI.delete(t[pd])}var LE="__ngContext__";function Ri(t,e){wo(e)?(t[LE]=e[pd],mN(e)):t[LE]=e}function II(t){return t.ownerDocument.defaultView}function pc(t){return t.ownerDocument}function bI(t){return t instanceof Function?t():t}var Xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xr||{}),vN;function _g(t,e){return vN(t,e)}function js(t,e,n,r,i){if(r!=null){let o,s=!1;ei(r)?o=r:wo(r)&&(s=!0,r=r[Er]);let a=_r(r);t===0&&n!==null?i==null?xI(e,n,a):id(e,n,a,i||null,!0):t===1&&n!==null?id(e,n,a,i||null,!0):t===2?kN(e,a,s):t===3&&e.destroyNode(a),o!=null&&VN(e,t,o,n,i)}}function yN(t,e){return t.createText(e)}function _N(t,e,n){t.setValue(e,n)}function wN(t,e){return t.createComment(hN(e))}function TI(t,e,n){return t.createElement(e,n)}function EN(t,e){DI(t,e),e[Er]=null,e[Zn]=null}function CN(t,e,n,r,i,o){r[Er]=i,r[Zn]=e,Ad(t,r,n,1,i,o)}function DI(t,e){Ad(t,e,e[ct],2,null,null)}function IN(t){let e=t[Za];if(!e)return Bp(t[ve],t);for(;e;){let n=null;if(wo(e))n=e[Za];else{let r=e[Cn];r&&(n=r)}if(!n){for(;e&&!e[Yn]&&e!==t;)wo(e)&&Bp(e[ve],e),e=e[Vt];e===null&&(e=t),wo(e)&&Bp(e[ve],e),n=e&&e[Yn]}e=n}}function bN(t,e,n,r){let i=Cn+r,o=n.length;r>0&&(n[i-1][Yn]=e),r<o-Cn?(e[Yn]=n[i],MC(n,Cn+r,e)):(n.push(e),e[Yn]=null),e[Vt]=n;let s=e[lc];s!==null&&n!==s&&TN(s,e);let a=e[Kr];a!==null&&a.insertView(t),Zp(e),e[ne]|=128}function TN(t,e){let n=t[zs],i=e[Vt][Vt][vr];e[vr]!==i&&(t[ne]|=Zm.HasTransplantedViews),n===null?t[zs]=[e]:n.push(e)}function SI(t,e){let n=t[zs],r=n.indexOf(e);n.splice(r,1)}function Em(t,e){if(t.length<=Cn)return;let n=Cn+e,r=t[n];if(r){let i=r[lc];i!==null&&i!==t&&SI(i,r),e>0&&(t[n-1][Yn]=r[Yn]);let o=Ju(t,Cn+e);EN(r[ve],r);let s=o[Kr];s!==null&&s.detachView(o[ve]),r[Vt]=null,r[Yn]=null,r[ne]&=-129}return r}function AI(t,e){if(!(e[ne]&256)){let n=e[ct];n.destroyNode&&Ad(t,e,n,3,null,null),IN(e)}}function Bp(t,e){if(e[ne]&256)return;let n=Pe(null);try{e[ne]&=-129,e[ne]|=256,e[Co]&&hp(e[Co]),SN(t,e),DN(t,e),e[ve].type===1&&e[ct].destroy();let r=e[lc];if(r!==null&&ei(e[Vt])){r!==e[Vt]&&SI(r,e);let i=e[Kr];i!==null&&i.detachView(t)}gN(e)}finally{Pe(n)}}function DN(t,e){let n=t.cleanup,r=e[Ja];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ja]=null);let i=e[Pi];if(i!==null){e[Pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function SN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof To)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];pr(4,a,c);try{c.call(a)}finally{pr(5,a,c)}}else{pr(4,i,o);try{o.call(i)}finally{pr(5,i,o)}}}}}function AN(t,e,n){return xN(t,e.parent,n)}function xN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===gr.None||o===gr.Emulated)return null}return er(r,n)}}function id(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xI(t,e,n){t.appendChild(e,n)}function jE(t,e,n,r,i){r!==null?id(t,e,n,r,i):xI(t,e,n)}function MN(t,e,n,r){t.removeChild(e,n,r)}function wg(t,e){return t.parentNode(e)}function PN(t,e){return t.nextSibling(e)}function ON(t,e,n){return NN(t,e,n)}function RN(t,e,n){return t.type&40?er(t,n):null}var NN=RN,UE;function Sd(t,e,n,r){let i=AN(t,r,e),o=e[ct],s=r.parent||e[Zn],a=ON(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)jE(o,i,n[c],a,!1);else jE(o,i,n,a,!1);UE!==void 0&&UE(o,r,e,n,i)}function Wu(t,e){if(e!==null){let n=e.type;if(n&3)return er(e,t);if(n&4)return Cm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wu(t,r);{let i=t[e.index];return ei(i)?Cm(-1,i):_r(i)}}else{if(n&32)return _g(e,t)()||_r(t[e.index]);{let r=MI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=tc(t[vr]);return Wu(i,r)}else return Wu(t,e.next)}}}return null}function MI(t,e){if(e!==null){let r=t[vr][Zn],i=e.projection;return r.projection[i]}return null}function Cm(t,e){let n=Cn+t+1;if(n<e.length){let r=e[n],i=r[ve].firstChild;if(i!==null)return Wu(r,i)}return e[Io]}function kN(t,e,n){let r=wg(t,e);r&&MN(t,r,e,n)}function Eg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Ri(_r(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Eg(t,e,n.child,r,i,o,!1),js(e,t,i,a,o);else if(c&32){let l=_g(n,r),u;for(;u=l();)js(e,t,i,u,o);js(e,t,i,a,o)}else c&16?FN(t,e,r,n,i,o):js(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ad(t,e,n,r,i,o){Eg(n,r,t.firstChild,e,i,o,!1)}function FN(t,e,n,r,i,o){let s=n[vr],c=s[Zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];js(e,t,i,u,o)}else{let l=c,u=s[Vt];PC(r)&&(l.flags|=128),Eg(t,e,l,u,i,o,!0)}}function VN(t,e,n,r,i){let o=n[Io],s=_r(n);o!==s&&js(e,t,r,o,i);for(let a=Cn;a<n.length;a++){let c=n[a];Ad(c[ve],c,t,e,r,o)}}function LN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xr.Important),t.setStyle(n,r,i,o))}}function jN(t,e,n){t.setAttribute(e,"style",n)}function PI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OI(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Jp(t,e,r),i!==null&&PI(t,e,i),o!==null&&jN(t,e,o)}var nr={};function v(t=1){RI(bt(),xe(),Fi()+t,!1)}function RI(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&zu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&qu(e,o,0,n)}bo(n)}function x(t,e=_e.Default){let n=xe();if(n===null)return j(t,e);let r=pn();return sI(r,n,tn(t),e)}function NI(t,e,n,r,i,o){let s=Pe(null);try{let a=null;i&re.SignalBased&&(a=e[r][Ii]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):QC(e,a,r,o)}finally{Pe(s)}}function UN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bo(~i);else{let o=i,s=n[++r],a=n[++r];jO(s,o);let c=e[o];a(2,c)}}}finally{bo(-1)}}function xd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Er]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),vC(d),d[Vt]=d[Xs]=t,d[Xn]=n,d[Wr]=s||t&&t[Wr],d[ct]=a||t&&t[ct],d[Hs]=c||t&&t[Hs]||null,d[Zn]=o,d[pd]=pN(),d[Yu]=u,d[pC]=l,d[vr]=e.type==2?t[vr]:d,d}function mc(t,e,n,r,i){let o=t.data[e];if(o===null)o=BN(t,e,n,r,i),LO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=RO();o.injectorIndex=s===null?-1:s.injectorIndex}return Mo(o,!0),o}function BN(t,e,n,r,i){let o=wC(),s=rg(),a=s?o:o&&o.parent,c=t.data[e]=WN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function kI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FI(t,e,n,r,i){let o=Fi(),s=r&2;try{bo(-1),s&&e.length>yr&&RI(t,e,yr,!1),pr(s?2:0,i),n(r,i)}finally{bo(o),pr(s?3:1,i)}}function Cg(t,e,n){if(eg(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Pe(r)}}}function Ig(t,e,n){_C()&&(ZN(t,e,n,er(n,e)),(n.flags&64)===64&&jI(t,e,n))}function bg(t,e,n=er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function VI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tg(t,e,n,r,i,o,s,a,c,l,u){let d=yr+r,h=d+i,p=$N(d,h),y=typeof l=="function"?l():l;return p[ve]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function $N(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nr);return n}function HN(t,e,n,r){let o=r.get(GR,dI)||n===gr.ShadowDom,s=t.selectRootElement(e,o);return zN(s),s}function zN(t){qN(t)}var qN=()=>null;function GN(t,e,n,r){let i=$I(e);i.push(n),t.firstCreatePass&&HI(t).push(r,i.length-1)}function WN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return MO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function BE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?$E(r,n,l,a,c):$E(r,n,l,a)}return r}function $E(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function KN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,p=h?h.inputs:null,y=h?h.outputs:null;c=BE(0,d.inputs,u,c,p),l=BE(1,d.outputs,u,l,y);let C=c!==null&&s!==null&&!aC(e)?ck(c,u,s):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function QN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Dg(t,e,n,r,i,o,s,a){let c=er(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Ag(t,n,u,r,i),md(e)&&YN(n,e.index)):e.type&3?(r=QN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function YN(t,e){let n=ki(e,t);n[ne]&16||(n[ne]|=64)}function Sg(t,e,n,r){if(_C()){let i=r===null?null:{"":-1},o=tk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&LI(t,e,n,s,i,a),i&&nk(n,r,i)}n.mergedAttrs=Xa(n.mergedAttrs,n.attrs)}function LI(t,e,n,r,i,o){for(let l=0;l<r.length;l++)dm(rd(n,e),t,r[l].type);ik(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=kI(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Xa(n.mergedAttrs,u.hostAttrs),ok(t,n,e,c,u),rk(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}KN(t,n,o)}function XN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;JN(s)!=a&&s.push(a),s.push(n,r,o)}}function JN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ZN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;md(n)&&sk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rd(n,e),Ri(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Do(e,t,a,n);if(Ri(l,e),s!==null&&ak(e,a-i,l,c,n,s),Qr(c)){let u=ki(n.index,e);u[Xn]=Do(e,t,a,n)}}}function jI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=UO();try{bo(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];em(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ek(c,l)}}finally{bo(-1),em(s)}}function ek(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(sO(e,s.selectors,!1))if(r||(r=[]),Qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Im(t,e,c)}else r.unshift(s),Im(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Im(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function nk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}}function rk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qr(e)&&(n[""]=t)}}function ik(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ok(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gs(i.type,!0)),s=new To(o,Qr(i),x);t.blueprint[r]=s,n[r]=s,XN(t,e,r,kI(t,n,i.hostVars,nr),i)}function sk(t,e,n){let r=er(e,t),i=VI(n),o=t[Wr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Md(t,xd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function ak(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];NI(r,n,c,l,u,d)}}function ck(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function UI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function BI(t,e){let n=t.contentQueries;if(n!==null){let r=Pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];og(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function Md(t,e){return t[Za]?t[bE][Yn]=e:t[Za]=e,t[bE]=e,e}function bm(t,e,n){og(0);let r=Pe(null);try{e(t,n)}finally{Pe(r)}}function $I(t){return t[Ja]||(t[Ja]=[])}function HI(t){return t.cleanup||(t.cleanup=[])}function lk(t,e,n){return(t===null||Qr(t))&&(n=wO(n[e.index])),n[ct]}function zI(t,e){let n=t[Hs],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Ag(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];NI(u,l,r,a,c,i)}}function qI(t,e,n){let r=mC(e,t);_N(t[ct],r,n)}function uk(t,e){let n=ki(e,t),r=n[ve];dk(r,n);let i=n[Er];i!==null&&n[Yu]===null&&(n[Yu]=gg(i,n[Hs])),xg(r,n,n[Xn])}function dk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xg(t,e,n){sg(e);try{let r=t.viewQuery;r!==null&&bm(1,r,n);let i=t.template;i!==null&&FI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Kr]?.finishViewCreation(t),t.staticContentQueries&&BI(t,e),t.staticViewQueries&&bm(2,t.viewQuery,n);let o=t.components;o!==null&&hk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,ag()}}function hk(t,e){for(let n=0;n<e.length;n++)uk(t,e[n])}function fk(t,e,n,r){let i=Pe(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=xd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[lc]=l;let u=t[Kr];return u!==null&&(c[Kr]=u.createEmbeddedView(o)),xg(o,c,n),c}finally{Pe(i)}}function HE(t,e){return!e||e.firstChild===null||PC(t)}function pk(t,e,n,r=!0){let i=e[ve];if(bN(i,e,t,n),r){let s=Cm(n,t),a=e[ct],c=wg(a,t[Io]);c!==null&&CN(i,t[Zn],a,e,c,s)}let o=e[Yu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function od(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(_r(o)),ei(o)&&mk(o,r);let s=n.type;if(s&8)od(t,e,n.child,r);else if(s&32){let a=_g(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=MI(e,n);if(Array.isArray(a))r.push(...a);else{let c=tc(e[vr]);od(c[ve],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mk(t,e){for(let n=Cn;n<t.length;n++){let r=t[n],i=r[ve].firstChild;i!==null&&od(r[ve],r,i,e)}t[Io]!==t[Er]&&e.push(t[Io])}var GI=[];function gk(t){return t[Co]??vk(t)}function vk(t){let e=GI.pop()??Object.create(_k);return e.lView=t,e}function yk(t){t.lView[Co]!==t&&(t.lView=null,GI.push(t))}var _k=Ae(k({},lu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ec(t.lView)},consumerOnSignalRead(){this.lView[Co]=this}});function WI(t){return QI(t[Za])}function KI(t){return QI(t[Yn])}function QI(t){for(;t!==null&&!ei(t);)t=t[Yn];return t}var YI=100;function XI(t,e=!0,n=0){let r=t[Wr],i=r.rendererFactory,o=!1;o||i.begin?.();try{wk(t,n)}catch(s){throw e&&zI(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function wk(t,e){Tm(t,e);let n=0;for(;ng(t);){if(n===YI)throw new O(103,!1);n++,Tm(t,1)}}function Ek(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[Wr].inlineEffectRunner?.flush(),sg(e);let s=null,a=null;!o&&Ck(t)&&(a=gk(e),s=up(a));try{vC(e),VO(t.bindingStartIndex),n!==null&&FI(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&zu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&qu(e,d,0,null),Lp(e,0)}if(Ik(e),JI(e,0),t.contentQueries!==null&&BI(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&zu(e,d)}else{let d=t.contentHooks;d!==null&&qu(e,d,1),Lp(e,1)}UN(t,e);let l=t.components;l!==null&&eb(e,l,0);let u=t.viewQuery;if(u!==null&&bm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&zu(e,d)}else{let d=t.viewHooks;d!==null&&qu(e,d,2),Lp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$u]){for(let d of e[$u])d();e[$u]=null}o||(e[ne]&=-73)}catch(c){throw ec(e),c}finally{a!==null&&(dp(a,s),yk(a)),ag()}}function Ck(t){return t.type!==2}function JI(t,e){for(let n=WI(t);n!==null;n=KI(n))for(let r=Cn;r<n.length;r++){let i=n[r];ZI(i,e)}}function Ik(t){for(let e=WI(t);e!==null;e=KI(e)){if(!(e[ne]&Zm.HasTransplantedViews))continue;let n=e[zs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Vt];bO(i)}}}function bk(t,e,n){let r=ki(e,t);ZI(r,n)}function ZI(t,e){tg(t)&&Tm(t,e)}function Tm(t,e){let r=t[ve],i=t[ne],o=t[Co],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&uu(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)Ek(r,t,r.template,t[Xn]);else if(i&8192){JI(t,1);let a=r.components;a!==null&&eb(t,a,1)}}function eb(t,e,n){for(let r=0;r<e.length;r++)bk(t,e[r],n)}function Mg(t){for(t[Wr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=tc(t);if(mO(t)&&!e)return t;t=e}return null}var So=class{get rootNodes(){let e=this._lView,n=e[ve];return od(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(e){this._lView[Xn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vt];if(ei(e)){let n=e[Xu],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),Ju(n,r))}this._attachedToViewContainer=!1}AI(this._lView[ve],this._lView)}onDestroy(e){yC(this._lView,e)}markForCheck(){Mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Zp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,XI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,DI(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,Zp(this._lView)}},Jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Sk;let t=e;return t})(),Tk=Jn,Dk=class extends Tk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=fk(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new So(i)}};function Sk(){return Pg(pn(),xe())}function Pg(t,e){return t.type&4?new Dk(e,t,Js(t,e)):null}var w7=new RegExp(`^(\\d+)*(${pR}|${fR})*(.*)`);var Ak=()=>null;function zE(t,e){return Ak(t,e)}var oc=class{},Dm=class{},sd=class{};function xk(t){let e=Error(`No component factory found for ${nn(t)}.`);return e[Mk]=t,e}var Mk="ngComponent";var Sm=class{resolveComponentFactory(e){throw xk(e)}},Pd=(()=>{let e=class e{};e.NULL=new Sm;let t=e;return t})(),Ao=class{},Oo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Pk();let t=e;return t})();function Pk(){let t=xe(),e=pn(),n=ki(e.index,t);return(wo(n)?n:t)[ct]}var Ok=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),$p={},tb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Rk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Am=class extends tb{constructor(e){super(),this._lView=e}onDestroy(e){return yC(this._lView,e),()=>DO(this._lView,e)}};function Rk(){return new Am(xe())}var qE=new Set;function Ro(t){qE.has(t)||(qE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function GE(...t){}function Nk(){let t=typeof _o.requestAnimationFrame=="function",e=_o[t?"requestAnimationFrame":"setTimeout"],n=_o[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Nk().nativeRequestAnimationFrame,Vk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kk,GE,GE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kk={};function Og(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_o,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xm(t),t.isCheckStableRunning=!0,Og(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xm(t))}function Vk(t){let e=()=>{Fk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Lk(a))return n.invokeTask(i,o,s,a);try{return WE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),KE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return WE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),KE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xm(t),Og(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KE(t){t._nesting--,Og(t)}function Lk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var nb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ad(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Xp(i,a);else if(o==2){let c=a,l=e[++s];r=Xp(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var cd=class extends Pd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Oi(e);return new Qs(n,this.ngModule)}};function QE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function jk(t){let e=t.toLowerCase();return e==="svg"?gO:e==="math"?vO:null}var Mm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ed(r);let i=this.injector.get(e,$p,r);return i!==$p||n===$p?i:this.parentInjector.get(e,n,r)}},Qs=class extends sd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=QE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return QE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=uO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof It?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mm(e,s):e,c=a.get(Ao,null);if(c===null)throw new O(407,!1);let l=a.get(Ok,null),u=a.get(nb,null),d=a.get(oc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?HN(p,r,this.componentDef.encapsulation,a):TI(p,y,jk(y)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let A=null;C!==null&&(A=gg(C,a,!0));let H=Tg(0,null,null,1,0,null,null,null,null,null,null),q=xd(null,H,null,S,null,null,h,p,a,null,A);sg(q);let m,J;try{let P=this.componentDef,Q,de=null;P.findHostDirectiveDefs?(Q=[],de=new Map,P.findHostDirectiveDefs(P,Q,de),Q.push(P)):Q=[P];let Ce=Uk(q,C),Te=Bk(Ce,C,P,Q,q,h,p);J=gC(H,yr),C&&zk(p,P,C,r),n!==void 0&&qk(J,this.ngContentSelectors,n),m=Hk(Te,P,Q,de,q,[Gk]),xg(H,q,null)}finally{ag()}return new Pm(this.componentType,m,Js(J,q),q,J)}finally{Pe(o)}}},Pm=class extends Dm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new So(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ag(o[ve],o,i,e,n),this.previousInputValues.set(e,n);let s=ki(this._tNode.index,o);Mg(s)}}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Uk(t,e){let n=t[ve],r=yr;return t[r]=e,mc(n,r,2,"#host",null)}function Bk(t,e,n,r,i,o,s){let a=i[ve];$k(r,t,e,s);let c=null;e!==null&&(c=gg(e,i[Hs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=xd(i,VI(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Im(a,t,r.length-1),Md(i,d),i[t.index]=d}function $k(t,e,n,r){for(let i of t)e.mergedAttrs=Xa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ad(e,e.mergedAttrs,!0),n!==null&&OI(r,n,e))}function Hk(t,e,n,r,i,o){let s=pn(),a=i[ve],c=er(s,i);LI(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Do(i,a,d,s);Ri(h,i)}jI(a,i,s),c&&Ri(c,i);let l=Do(i,a,s.directiveStart+s.componentOffset,s);if(t[Xn]=i[Xn]=l,o!==null)for(let u of o)u(l,e);return Cg(a,s,i),l}function zk(t,e,n,r){if(r)Jp(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=dO(e.selectors[0]);i&&Jp(t,n,i),o&&o.length>0&&PI(t,n,o.join(" "))}}function qk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Gk(){let t=pn();bd(xe()[ve],t)}var Lt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wk;let t=e;return t})();function Wk(){let t=pn();return ib(t,xe())}var Kk=Lt,rb=class extends Kk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=yg(this._hostTNode,this._hostLView);if(eI(e)){let n=nd(e,this._hostLView),r=td(e),i=n[ve].data[r+8];return new Eo(i,n)}else return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,HE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!AR(e),a;if(s)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new Qs(Oi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?l:this.parentInjector).get(It,null);C&&(o=C)}let u=Oi(c.componentType??{}),d=zE(this._lContainer,u?.id??null),h=d?.firstChild??null,p=c.create(l,i,h,o);return this.insertImpl(p.hostView,a,HE(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(IO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Vt],l=new rb(c,c[Zn],c[Vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return pk(s,i,o,r),e.attachToViewContainerRef(),MC(Hp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(Ju(Hp(this._lContainer),n),AI(r[ve],r))}detach(e){let n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&Ju(Hp(this._lContainer),n)!=null?new So(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function YE(t){return t[Xu]}function Hp(t){return t[Xu]||(t[Xu]=[])}function ib(t,e){let n,r=e[t.index];return ei(r)?n=r:(n=UI(r,e,null,t),e[t.index]=n,Md(e,n)),Yk(n,e,t,r),new rb(n,t,e)}function Qk(t,e){let n=t[ct],r=n.createComment(""),i=er(e,t),o=wg(n,i);return id(n,o,r,PN(n,i),!1),r}var Yk=Zk,Xk=()=>!1;function Jk(t,e,n){return Xk(t,e,n)}function Zk(t,e,n,r){if(t[Io])return;let i;n.type&8?i=_r(r):i=Qk(e,n),t[Io]=i}var Om=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Rm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Rg(e,n).matches!==null&&this.queries[n].setDirty()}},Nm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=a1(e):this.predicate=e}},km=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,e1(n,o)),this.matchTNodeWithReadOption(e,n,Gu(n,e,o,!1,!1))}else r===Jn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ut||i===Lt||i===Jn&&n.type&4)this.addMatch(n.index,-2);else{let o=Gu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function e1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function t1(t,e){return t.type&11?Js(t,e):t.type&4?Pg(t,e):null}function n1(t,e,n,r){return n===-1?t1(e,t):n===-2?r1(t,e,r):Do(t,t[ve],n,e)}function r1(t,e,n){if(n===ut)return Js(e,t);if(n===Jn)return Pg(e,t);if(n===Lt)return ib(e,t)}function ob(t,e,n,r){let i=e[Kr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(n1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Vm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=ob(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Cn;d<u.length;d++){let h=u[d];h[lc]===h[Vt]&&Vm(h[ve],h,l,r)}if(u[zs]!==null){let d=u[zs];for(let h=0;h<d.length;h++){let p=d[h];Vm(p[ve],p,l,r)}}}}}return r}function i1(t,e){return t[Kr].queries[e].queryList}function o1(t,e,n){let r=new tm((n&4)===4);return GN(t,e,r,r.destroy),(e[Kr]??=new Rm).queries.push(new Om(r))-1}function s1(t,e,n){let r=bt();return r.firstCreatePass&&(c1(r,new Nm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),o1(r,xe(),e)}function a1(t){return t.split(",").map(e=>e.trim())}function c1(t,e,n){t.queries===null&&(t.queries=new km),t.queries.track(new Fm(e,n))}function Rg(t,e){return t.queries.getByIndex(e)}function l1(t,e){let n=t[ve],r=Rg(n,e);return r.crossesNgTemplate?Vm(n,t,e,[]):ob(n,t,r,e)}function u1(t){return typeof t=="function"&&t[Ii]!==void 0}function oi(t,e){Ro("NgSignals");let n=$w(t),r=n[Ii];return e?.equal&&(r.equal=e.equal),n.set=i=>fp(r,i),n.update=i=>Hw(r,i),n.asReadonly=d1.bind(n),n}function d1(){let t=this[Ii];if(t.readonlyFn===void 0){let e=()=>this();e[Ii]=t,t.readonlyFn=e}return t.readonlyFn}function sb(t){return u1(t)&&typeof t.set=="function"}function h1(t){return Object.getPrototypeOf(t.prototype).constructor}function et(t){let e=h1(t.type),n=!0,r=[t];for(;e;){let i;if(Qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Uu(t.inputs),s.inputTransforms=Uu(t.inputTransforms),s.declaredInputs=Uu(t.declaredInputs),s.outputs=Uu(t.outputs);let a=i.hostBindings;a&&v1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&m1(t,c),l&&g1(t,l),f1(t,i),QP(t.outputs,i.outputs),Qr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===et&&(n=!1)}}e=Object.getPrototypeOf(e)}p1(r)}function f1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function p1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xa(i.hostAttrs,n=Xa(n,i.hostAttrs))}}function Uu(t){return t===$s?{}:t===fn?[]:t}function m1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function g1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function v1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Od(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ni=class{},sc=class{};var Lm=class extends Ni{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cd(this);let i=dC(e);this._bootstrapComponents=bI(i.bootstrap),this._r3Injector=lI(e,n,[{provide:Ni,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jm=class extends sc{constructor(e){super(),this.moduleType=e}create(e){return new Lm(this.moduleType,e,[])}};var ld=class extends Ni{constructor(e){super(),this.componentFactoryResolver=new cd(this),this.instance=null;let n=new ic([...e.providers,{provide:Ni,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],e.parent||Id(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ng(t,e,n=null){return new ld({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var No=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ab(t){return _1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function y1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function _1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function w1(t,e,n){return t[e]=n}function Jr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function E1(t,e,n,r){let i=Jr(t,e,n);return Jr(t,e+1,r)||i}function C1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=mc(e,t,4,s||null,qs(l,a));Sg(e,n,u,qs(l,c)),bd(e,u);let d=u.tView=Tg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function F(t,e,n,r,i,o,s,a){let c=xe(),l=bt(),u=t+yr,d=l.firstCreatePass?C1(u,l,c,e,n,r,i,o,s):l.data[u];Mo(d,!1);let h=I1(l,c,d,t);yd()&&Sd(l,c,h,d),Ri(h,c);let p=UI(h,c,h,d);return c[u]=p,Md(c,p),Jk(p,d,c),gd(d)&&Ig(l,c,d),s!=null&&bg(c,d,a),F}var I1=b1;function b1(t,e,n,r){return _d(!0),e[ct].createComment("")}function T1(t,e,n,r){return Jr(t,vd(),n)?e+nc(n)+r:nr}function D1(t,e,n,r,i,o){let s=FO(),a=E1(t,s,n,i);return ig(2),a?e+nc(n)+r+nc(i)+o:nr}function Bu(t,e){return t<<17|e<<2}function xo(t){return t>>17&32767}function S1(t){return(t&2)==2}function A1(t,e){return t&131071|e<<17}function Um(t){return t|2}function Ys(t){return(t&131068)>>2}function zp(t,e){return t&-131069|e<<2}function x1(t){return(t&1)===1}function Bm(t){return t|1}function M1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xo(s),c=Ys(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||uc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=xo(t[a+1]);t[r+1]=Bu(h,a),h!==0&&(t[h+1]=zp(t[h+1],r)),t[a+1]=A1(t[a+1],r)}else t[r+1]=Bu(a,0),a!==0&&(t[a+1]=zp(t[a+1],r)),a=r;else t[r+1]=Bu(c,0),a===0?a=r:t[c+1]=zp(t[c+1],r),c=r;l&&(t[r+1]=Um(t[r+1])),XE(t,u,r,!0),XE(t,u,r,!1),P1(e,u,t,r,o),s=Bu(a,c),o?e.classBindings=s:e.styleBindings=s}function P1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&uc(o,e)>=0&&(n[r+1]=Bm(n[r+1]))}function XE(t,e,n,r){let i=t[n+1],o=e===null,s=r?xo(i):Ys(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];O1(c,e)&&(a=!0,t[s+1]=r?Bm(l):Um(l)),s=r?xo(l):Ys(l)}a&&(t[n+1]=r?Um(i):Bm(i))}function O1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?uc(t,e)>=0:!1}var Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R1(t){return t.substring(Qn.key,Qn.keyEnd)}function N1(t){return k1(t),cb(t,lb(t,0,Qn.textEnd))}function cb(t,e){let n=Qn.textEnd;return n===e?-1:(e=Qn.keyEnd=F1(t,Qn.key=e,n),lb(t,e,n))}function k1(t){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=t.length}function lb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function F1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function w(t,e,n){let r=xe(),i=vd();if(Jr(r,i,e)){let o=bt(),s=cg();Dg(o,s,r,t,e,r[ct],n,!1)}return w}function $m(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ag(t,n,o[s],s,r)}function jt(t,e,n){return db(t,e,n,!1),jt}function oe(t,e){return db(t,e,null,!0),oe}function ub(t){L1(z1,V1,t,!0)}function V1(t,e){for(let n=N1(e);n>=0;n=cb(e,n))ug(t,R1(e),!0)}function db(t,e,n,r){let i=xe(),o=bt(),s=ig(2);if(o.firstUpdatePass&&fb(o,t,s,r),e!==nr&&Jr(i,s,e)){let a=o.data[Fi()];pb(o,a,i,i[ct],t,i[s+1]=G1(e,n),r,s)}}function L1(t,e,n,r){let i=bt(),o=ig(2);i.firstUpdatePass&&fb(i,null,o,r);let s=xe();if(n!==nr&&Jr(s,o,n)){let a=i.data[Fi()];if(mb(a,r)&&!hb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Xp(c,n||"")),$m(i,a,s,n,r)}else q1(i,a,s,s[ct],s[o+1],s[o+1]=H1(t,e,n),r,o)}}function hb(t,e){return e>=t.expandoStartIndex}function fb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Fi()],s=hb(t,n);mb(o,r)&&e===null&&!s&&(e=!1),e=j1(i,o,e,r),M1(i,o,e,n,s,r)}}function j1(t,e,n,r){let i=CC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qp(null,t,e,n,r),n=ac(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=qp(i,t,e,n,r),o===null){let c=U1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=qp(null,t,e,c[1],r),c=ac(c,e.attrs,r),B1(t,e,r,c))}else o=$1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function U1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ys(r)!==0)return t[xo(r)]}function B1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[xo(i)]=r}function $1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ac(r,s,n)}return ac(r,e.attrs,n)}function qp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ac(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ug(t,s,n?!0:e[++o]))}return t===void 0?null:t}function H1(t,e,n){if(n==null||n==="")return fn;let r=[],i=Cr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function z1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ug(t,r,n)}function q1(t,e,n,r,i,o,s,a){i===nr&&(i=fn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,y=null,C;u===d?(c+=2,l+=2,h!==p&&(y=d,C=p)):d===null||u!==null&&u<d?(c+=2,y=u):(l+=2,y=d,C=p),y!==null&&pb(t,e,n,r,y,C,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function pb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=x1(l)?JE(c,e,n,i,Ys(l),s):void 0;if(!ud(u)){ud(o)||S1(l)&&(o=JE(c,null,n,i,a,s));let d=mC(Fi(),n);LN(r,s,d,i,o)}}function JE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===nr&&(h=d?fn:void 0);let p=d?Fp(h,r):u===r?h:void 0;if(l&&!ud(p)&&(p=Fp(c,r)),ud(p)&&(a=p,s))return a;let y=t[i+1];i=s?xo(y):Ys(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Fp(c,r))}return a}function ud(t){return t!==void 0}function G1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nn(Cr(t)))),t}function mb(t,e){return(t.flags&(e?8:16))!==0}function W1(t,e,n,r,i,o){let s=e.consts,a=qs(s,i),c=mc(e,t,2,r,a);return Sg(e,n,c,qs(s,o)),c.attrs!==null&&ad(c,c.attrs,!1),c.mergedAttrs!==null&&ad(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=xe(),o=bt(),s=yr+t,a=i[ct],c=o.firstCreatePass?W1(s,o,i,e,n,r):o.data[s],l=K1(o,i,c,a,e,t);i[s]=l;let u=gd(c);return Mo(c,!0),OI(a,l,c),(c.flags&32)!==32&&yd()&&Sd(o,i,l,c),SO()===0&&Ri(l,i),AO(),u&&(Ig(o,i,c),Cg(o,c,i)),r!==null&&bg(i,c),f}function g(){let t=pn();rg()?EC():(t=t.parent,Mo(t,!1));let e=t;PO(e)&&OO(),xO();let n=bt();return n.firstCreatePass&&(bd(n,t),eg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&kR(e)&&$m(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FR(e)&&$m(n,e,xe(),e.stylesWithoutHost,!1),g}function B(t,e,n,r){return f(t,e,n,r),g(),B}var K1=(t,e,n,r,i,o)=>(_d(!0),TI(r,i,HO()));function Q1(t,e,n,r,i){let o=e.consts,s=qs(o,r),a=mc(e,t,8,"ng-container",s);s!==null&&ad(a,s,!0);let c=qs(o,i);return Sg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function He(t,e,n){let r=xe(),i=bt(),o=t+yr,s=i.firstCreatePass?Q1(o,i,r,e,n):i.data[o];Mo(s,!0);let a=Y1(i,r,s,t);return r[o]=a,yd()&&Sd(i,r,a,s),Ri(a,r),gd(s)&&(Ig(i,r,s),Cg(i,s,r)),n!=null&&bg(r,s),He}function ze(){let t=pn(),e=bt();return rg()?EC():(t=t.parent,Mo(t,!1)),e.firstCreatePass&&(bd(e,t),eg(t)&&e.queries.elementEnd(t)),ze}function kg(t,e,n){return He(t,e,n),ze(),kg}var Y1=(t,e,n,r)=>(_d(!0),wN(e[ct],""));function G(){return xe()}function Fg(t,e,n){let r=xe(),i=vd();if(Jr(r,i,e)){let o=bt(),s=cg(),a=CC(o.data),c=lk(a,s,r);Dg(o,s,r,t,e,c,n,!0)}return Fg}var dd="en-US";var X1=dd;function J1(t){typeof t=="string"&&(X1=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,r){let i=xe(),o=bt(),s=pn();return gb(o,i,i[ct],s,t,e,r),I}function Z1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ja],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function gb(t,e,n,r,i,o,s){let a=gd(r),l=t.firstCreatePass&&HI(t),u=e[Xn],d=$I(e),h=!0;if(r.type&3||s){let C=er(r,e),S=s?s(C):C,A=d.length,H=s?m=>s(_r(m[r.index])):r.index,q=null;if(!s&&a&&(q=Z1(t,e,i,r.index)),q!==null){let m=q.__ngLastListenerFn__||q;m.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,h=!1}else{o=eC(r,e,u,o,!1);let m=n.listen(S,i,o);d.push(o,m),l&&l.push(i,H,A,A+1)}}else o=eC(r,e,u,o,!1);let p=r.outputs,y;if(h&&p!==null&&(y=p[i])){let C=y.length;if(C)for(let S=0;S<C;S+=2){let A=y[S],H=y[S+1],J=e[A][H].subscribe(o),P=d.length;if(d.push(o,J),l){let Q=typeof J=="function"?P+1:-(P+1);l.push(i,r.index,P,Q)}}}}function ZE(t,e,n,r){let i=Pe(null);try{return pr(6,e,n),n(r)!==!1}catch(o){return zI(t,o),!1}finally{pr(7,e,n),Pe(i)}}function eC(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?ki(t.index,e):e;Mg(a);let c=ZE(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=ZE(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _(t=1){return $O(t)}function vb(t,e,n){s1(t,e,n)}function Vg(t){let e=xe(),n=bt(),r=IC();og(r+1);let i=Rg(n,r);if(t.dirty&&CO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=l1(e,r);t.reset(o,qO),t.notifyOnChanges()}return!0}return!1}function Lg(){return i1(xe(),IC())}function Ye(t){let e=NO();return EO(e,yr+t)}function N(t,e=""){let n=xe(),r=bt(),i=t+yr,o=r.firstCreatePass?mc(r,i,1,e,null):r.data[i],s=eF(r,n,o,e,t);n[i]=s,yd()&&Sd(r,n,s,o),Mo(o,!1)}var eF=(t,e,n,r,i)=>(_d(!0),yN(e[ct],r));function ye(t){return Rd("",t,""),ye}function Rd(t,e,n){let r=xe(),i=T1(r,t,e,n);return i!==nr&&qI(r,Fi(),i),Rd}function ko(t,e,n,r,i){let o=xe(),s=D1(o,t,e,n,r,i);return s!==nr&&qI(o,Fi(),s),ko}function Ir(t,e,n){sb(e)&&(e=e());let r=xe(),i=vd();if(Jr(r,i,e)){let o=bt(),s=cg();Dg(o,s,r,t,e,r[ct],n,!1)}return Ir}function si(t,e){let n=sb(t);return n&&t.set(e),n}function br(t,e){let n=xe(),r=bt(),i=pn();return gb(r,n,n[ct],i,t,e),br}function tF(t,e,n){let r=bt();if(r.firstCreatePass){let i=Qr(t);Hm(n,r.data,r.blueprint,i,!0),Hm(e,r.data,r.blueprint,i,!1)}}function Hm(t,e,n,r,i){if(t=tn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Hm(t[o],e,n,r,i);else{let o=bt(),s=xe(),a=pn(),c=Ks(t)?t:tn(t.provide),l=KC(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ks(t)||!t.multi){let p=new To(l,i,x),y=Wp(c,e,i?u:u+h,d);y===-1?(dm(rd(a,s),o,c),Gp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[y]=p,s[y]=p)}else{let p=Wp(c,e,u+h,d),y=Wp(c,e,u,u+h),C=p>=0&&n[p],S=y>=0&&n[y];if(i&&!S||!i&&!C){dm(rd(a,s),o,c);let A=iF(i?rF:nF,n.length,i,r,l);!i&&S&&(n[y].providerFactory=A),Gp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=yb(n[i?y:p],l,!i&&r);Gp(o,t,p>-1?p:y,A)}!i&&r&&S&&n[y].componentProviders++}}}function Gp(t,e,n,r){let i=Ks(e),o=wR(e);if(i||o){let c=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function yb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nF(t,e,n,r){return zm(this.multi,[])}function rF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Do(n,n[ve],this.providerFactory.index,r);o=a.slice(0,s),zm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],zm(i,o);return o}function zm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function iF(t,e,n,r,i){let o=new To(t,n,x);return o.multi=[],o.index=e,o.componentProviders=0,yb(o,i,r&&!n),o}function jg(t,e=[]){return n=>{n.providersResolver=(r,i)=>tF(r,i?i(t):t,e)}}var oF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=qC(!1,r.type),o=i.length>0?Ng([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(j(It))});let t=e;return t})();function X(t){Ro("NgStandalone"),t.getStandaloneInjector=e=>e.get(oF).getOrCreateStandaloneInjector(t)}function Nd(t,e,n,r){return aF(xe(),kO(),t,e,n,r)}function sF(t,e){let n=t[e];return n===nr?void 0:n}function aF(t,e,n,r,i,o){let s=e+n;return Jr(t,s,i)?w1(t,s+1,o?r.call(o,i):r(i)):sF(t,s+1)}var Zr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_b=new Zr("17.2.4"),kd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var wb=new K("");function Fo(t){return!!t&&typeof t.then=="function"}function Eb(t){return!!t&&typeof t.subscribe=="function"}var Cb=new K(""),Ib=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(Cb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Fo(s))r.push(s);else if(Eb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fd=new K("");function cF(){Bw(()=>{throw new O(600,!1)})}function lF(t){return t.isBoundToModule}function uF(t,e,n){try{let r=n();return Fo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(uI),this.afterRenderEffectManager=R(nb),this.componentTypes=[],this.components=[],this.isStable=R(No).hasPendingTasks.pipe(ie(r=>!r)),this._injector=R(It)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof sd;if(!this._injector.get(Ib).done){let p=!o&&uC(r),y=!1;throw new O(405,y)}let a;o?a=r:a=this._injector.get(Pd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=lF(a)?void 0:this._injector.get(Ni),l=i||a.selector,u=a.create(Ze.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(wb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Kp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);let r=Pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Pe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===YI)throw new O(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Qp(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Qp(s))&&(i.execute(),!this._views.some(({_lView:s})=>Qp(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,XI(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Kp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Fd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Kp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qp(t){return ng(t)}var qm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ug=(()=>{let e=class e{compileModuleSync(r){return new jm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=dC(r),s=bI(o.declarations).reduce((a,c)=>{let l=Oi(c);return l&&a.push(new Qs(l)),a},[]);return new qm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dF=(()=>{let e=class e{constructor(){this.zone=R(Ie),this.applicationRef=R(Tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hF(t){return[{provide:Ie,useFactory:t},{provide:Ws,multi:!0,useFactory:()=>{let e=R(dF,{optional:!0});return()=>e.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let e=R(gF);return()=>{e.initialize()}}},{provide:uI,useFactory:fF}]}function fF(){let t=R(Ie),e=R(wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function pF(t){let e=hF(()=>new Ie(mF(t)));return Vi([[],e])}function mF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var gF=(()=>{let e=class e{constructor(){this.subscription=new ot,this.initialized=!1,this.zone=R(Ie),this.pendingTasks=R(No)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vF(){return typeof $localize<"u"&&$localize.locale||dd}var Bg=new K("",{providedIn:"root",factory:()=>R(Bg,_e.Optional|_e.SkipSelf)||vF()});var bb=new K("");var Ku=null;function yF(t=[],e){return Ze.create({name:e,providers:[{provide:Cd,useValue:"platform"},{provide:bb,useValue:new Set([()=>Ku=null])},...t]})}function _F(t=[]){if(Ku)return Ku;let e=yF(t);return Ku=e,cF(),wF(e),e}function wF(t){t.get(hg,null)?.forEach(n=>n())}var Dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EF;let t=e;return t})();function EF(t){return CF(pn(),xe(),(t&16)===16)}function CF(t,e,n){if(md(t)&&!n){let r=ki(t.index,e);return new So(r,r)}else if(t.type&47){let r=e[vr];return new So(r,e)}return null}var Gm=class{constructor(){}supports(e){return ab(e)}create(e){return new Wm(e)}},IF=(t,e)=>e,Wm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tC(r,i,o)?n:r,a=tC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let p=h<o.length?o[h]:o[h]=0,y=p+h;u<=y&&y<l&&(o[h]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ab(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,y1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Km(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Km=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Qm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nC(){return new $g([new Gm])}var $g=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||nC()),deps:[[e,new $C,new sn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new O(901,!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:nC});let t=e;return t})();function Tb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=_F(r),o=[pF(),...n||[]],a=new ld({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(wr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),h=i.get(bb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),uF(l,c,()=>{let p=a.get(Ib);return p.runInitializers(),p.donePromise.then(()=>{let y=a.get(Bg,dd);J1(y||dd);let C=a.get(Tr);return e!==void 0&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}function kn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var bF=new K("",{providedIn:"root",factory:()=>R(TF)}),TF=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new Ym});let t=e;return t})(),Ym=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=R(No),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Xm=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=qw(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ai(t,e){Ro("NgSignals"),!e?.injector&&SR(ai);let n=e?.injector??R(Ze),r=e?.manualCleanup!==!0?n.get(tb):null,i=new Xm(n.get(bF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Dr,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[$u]??=[]).push(i.watcher.notify),i}function Vd(t,e){let n=Oi(t),r=e.elementInjector||Id();return new Qs(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Pb=null;function ci(){return Pb}function Ob(t){Pb??=t}var Ld=class{};var Ut=new K(""),Rb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(SF),providedIn:"platform"});let t=e;return t})();var SF=(()=>{let e=class e extends Rb{constructor(){super(),this._doc=R(Ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ci().getBaseHref(this._doc)}onPopState(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Nb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Db(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vo(t){return t&&t[0]!=="?"?"?"+t:t}var jd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(kb),providedIn:"root"});let t=e;return t})(),AF=new K(""),kb=(()=>{let e=class e extends jd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Vo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Vo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Vo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(j(Rb),j(AF,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gc=(()=>{let e=class e{constructor(r){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=PF(Db(Sb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Vo(i))}normalize(r){return e.stripTrailingSlash(MF(this._basePath,Sb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Vo,e.joinWithSlash=Nb,e.stripTrailingSlash=Db,e.\u0275fac=function(i){return new(i||e)(j(jd))},e.\u0275prov=L({token:e,factory:()=>xF(),providedIn:"root"});let t=e;return t})();function xF(){return new gc(j(jd))}function MF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Sb(t){return t.replace(/\/index.html$/,"")}function PF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ud(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hg=/\s+/,Ab=[],Tt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Ab,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Hg):Ab}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Hg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Hg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(x(ut),x(Oo))},e.\u0275dir=lt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var zg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$e=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new zg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),xb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);xb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(Lt),x(Jn),x($g))},e.\u0275dir=lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function xb(t,e){t.context.$implicit=e.item}var Me=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Mb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Mb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(x(Lt),x(Jn))},e.\u0275dir=lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Mb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nn(e)}'.`)}var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})(),Fb="browser",OF="server";function vc(t){return t===OF}var Zs=class{};var _c=class{},wc=class{},li=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Kg=class{encodeKey(e){return Vb(e)}encodeValue(e){return Vb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function kF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var FF=/%(\d[a-f0-9])/gi,VF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vb(t){return encodeURIComponent(t).replace(FF,(e,n)=>VF[n]??e)}function Bd(t){return`${t}`}var ji=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Kg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=kF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Bd):[Bd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Bd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Bd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Lb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function jb(t){return typeof Blob<"u"&&t instanceof Blob}function Ub(t){return typeof FormData<"u"&&t instanceof FormData}function jF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var yc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(LF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new li,this.context??=new Qg,!this.params)this.params=new ji,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Lb(this.body)||jb(this.body)||Ub(this.body)||jF(this.body)||typeof this.body=="string"?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ub(this.body)?null:jb(this.body)?this.body.type||null:Lb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Ui=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ui||{}),Ec=class{constructor(e,n=Ic.Ok,r="OK"){this.headers=e.headers||new li,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},$d=class t extends Ec{constructor(e={}){super(e),this.type=Ui.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cc=class t extends Ec{constructor(e={}){super(e),this.type=Ui.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Li=class extends Ec{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ic=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ic||{});function Gg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Lo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof yc)s=r;else{let l;o.headers instanceof li?l=o.headers:l=new li(o.headers);let u;o.params&&(o.params instanceof ji?u=o.params:u=new ji({fromObject:o.params})),s=new yc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ce(s).pipe(Ai(l=>this.handler.handle(l)));if(r instanceof yc||o.observe==="events")return a;let c=a.pipe(Qt(l=>l instanceof Cc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ji().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Gg(o,i))}post(r,i,o={}){return this.request("POST",r,Gg(o,i))}put(r,i,o={}){return this.request("PUT",r,Gg(o,i))}};e.\u0275fac=function(i){return new(i||e)(j(_c))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),UF=/^\)\]\}',?\n/,BF="X-Request-URL";function Bb(t){if(t.url)return t.url;let e=BF.toLocaleLowerCase();return t.headers.get(e)}var Wg=(()=>{let e=class e{constructor(){this.fetchImpl=R(Yg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=R(Ie)}handle(r){return new ae(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Xg,s=>i.error(new Li({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let y=this.fetchImpl(r.urlWithParams,k({signal:i},s));$F(y),o.next({type:Ui.Sent}),a=yield y}catch(y){o.error(new Li({error:y,status:y.status??0,statusText:y.statusText,url:r.urlWithParams,headers:y.headers}));return}let c=new li(a.headers),l=a.statusText,u=Bb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new $d({headers:c,status:d,statusText:l,url:u})),a.body){let y=a.headers.get("content-length"),C=[],S=a.body.getReader(),A=0,H,q,m=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:P,value:Q}=yield S.read();if(P)break;if(C.push(Q),A+=Q.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(H??=new TextDecoder).decode(Q,{stream:!0}):void 0;let de=()=>o.next({type:Ui.DownloadProgress,total:y?+y:void 0,loaded:A,partialText:q});m?m.run(de):de()}}}));let J=this.concatChunks(C,A);try{let P=a.headers.get("Content-Type")??"";h=this.parseBody(r,J,P)}catch(P){o.error(new Li({error:P,headers:new li(a.headers),status:a.status,statusText:a.statusText,url:Bb(a)??r.urlWithParams}));return}}d===0&&(d=h?Ic.Ok:0),d>=200&&d<300?(o.next(new Cc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Li({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(UF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Yg=class{};function Xg(){}function $F(t){t.then(Xg,Xg)}function HF(t,e){return e(t)}function zF(t,e,n){return(r,i)=>ti(n,()=>e(r,o=>t(o,i)))}var Jg=new K(""),qF=new K(""),zb=new K("");var $b=(()=>{let e=class e extends _c{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=R(No);let o=R(zb,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Jg),...this.injector.get(qF,[])]));this.chain=o.reduceRight((s,a)=>zF(s,a,this.injector),HF)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(yo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(j(wc),j(It))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var GF=/^\)\]\}',?\n/;function WF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Hb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?je(i.\u0275loadImpl()):ce(null)).pipe(Ct(()=>new ae(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((S,A)=>a.setRequestHeader(S,A.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let S=r.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(r.responseType){let S=r.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let S=a.statusText||"OK",A=new li(a.getAllResponseHeaders()),H=WF(a)||r.url;return l=new $d({headers:A,status:a.status,statusText:S,url:H}),l},d=()=>{let{headers:S,status:A,statusText:H,url:q}=u(),m=null;A!==Ic.NoContent&&(m=typeof a.response>"u"?a.responseText:a.response),A===0&&(A=m?Ic.Ok:0);let J=A>=200&&A<300;if(r.responseType==="json"&&typeof m=="string"){let P=m;m=m.replace(GF,"");try{m=m!==""?JSON.parse(m):null}catch(Q){m=P,J&&(J=!1,m={error:Q,text:m})}}J?(s.next(new Cc({body:m,headers:S,status:A,statusText:H,url:q||void 0})),s.complete()):s.error(new Li({error:m,headers:S,status:A,statusText:H,url:q||void 0}))},h=S=>{let{url:A}=u(),H=new Li({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:A||void 0});s.error(H)},p=!1,y=S=>{p||(s.next(u()),p=!0);let A={type:Ui.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),r.responseType==="text"&&a.responseText&&(A.partialText=a.responseText),s.next(A)},C=S=>{let A={type:Ui.UploadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),s.next(A)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",C)),a.send(c),s.next({type:Ui.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",C)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(j(Zs))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),qb=new K(""),KF="XSRF-TOKEN",QF=new K("",{providedIn:"root",factory:()=>KF}),YF="X-XSRF-TOKEN",XF=new K("",{providedIn:"root",factory:()=>YF}),Hd=class{},JF=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ud(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(j(Ut),j(Nn),j(QF))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function ZF(t,e){let n=t.url.toLowerCase();if(!R(qb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Hd).getToken(),i=R(XF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Zg=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Zg||{});function Gb(t,e){return{\u0275kind:t,\u0275providers:e}}function Wb(...t){let e=[Lo,Hb,$b,{provide:_c,useExisting:$b},{provide:wc,useExisting:Hb},{provide:Jg,useValue:ZF,multi:!0},{provide:qb,useValue:!0},{provide:Hd,useClass:JF}];for(let n of t)e.push(...n.\u0275providers);return Vi(e)}function Kb(t){return Gb(Zg.Interceptors,t.map(e=>({provide:Jg,useValue:e,multi:!0})))}function Qb(){return Gb(Zg.Fetch,[Wg,{provide:wc,useExisting:Wg},{provide:zb,useExisting:Wg}])}var Xb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new nv;let h=o<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tV=function(t){let e=Xb(t);return Jb.encodeByteArray(e,!0)},bc=function(t){return tV(t).replace(/\./g,"")},iv=function(t){try{return Jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rV=()=>nV().__FIREBASE_DEFAULTS__,iV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&iv(t[1]);return e&&JSON.parse(e)},ov=()=>{try{return rV()||iV()||oV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sv=t=>{var e,n;return(n=(e=ov())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zb=t=>{let e=sv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},av=()=>{var t;return(t=ov())===null||t===void 0?void 0:t.config},cv=t=>{var e;return(e=ov())===null||e===void 0?void 0:e[`_${t}`]};var zd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bc(JSON.stringify(n)),bc(JSON.stringify(s)),""].join(".")}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function nT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iT(){let t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lv(){try{return typeof indexedDB=="object"}catch{return!1}}function oT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var sV="FirebaseError",In=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?aV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new In(i,a,r)}};function aV(t,e){return t.replace(cV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var cV=/\{\$([^}]+)}/g;function sT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Yb(o)&&Yb(s)){if(!jo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Yb(t){return t!==null&&typeof t=="object"}function Tc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aT(t,e){let n=new rv(t,e);return n.subscribe.bind(n)}var rv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tv),i.error===void 0&&(i.error=tv),i.complete===void 0&&(i.complete=tv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function lV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tv(){}var oQ=4*60*60*1e3;function Bi(t){return t&&t._delegate?t._delegate:t}var Fn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Uo="[DEFAULT]";var uv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new zd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dV(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uV(t){return t===Uo?void 0:t}function dV(t){return t.instantiationMode==="EAGER"}var qd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hV=[],Oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Oe||{}),fV={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},pV=Oe.INFO,mV={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},gV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=mV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=pV,this._logHandler=gV,this._userLogHandler=null,hV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var vV=(t,e)=>e.some(n=>t instanceof n),cT,lT;function yV(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _V(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uT=new WeakMap,hv=new WeakMap,dT=new WeakMap,dv=new WeakMap,pv=new WeakMap;function wV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Sr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),pv.set(e,t),e}function EV(t){if(hv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});hv.set(t,e)}var fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hT(t){fv=t(fv)}function CV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Gd(this),e,...n);return dT.set(r,e.sort?e.sort():[e]),Sr(r)}:_V().includes(t)?function(...e){return t.apply(Gd(this),e),Sr(uT.get(this))}:function(...e){return Sr(t.apply(Gd(this),e))}}function IV(t){return typeof t=="function"?CV(t):(t instanceof IDBTransaction&&EV(t),vV(t,yV())?new Proxy(t,fv):t)}function Sr(t){if(t instanceof IDBRequest)return wV(t);if(dv.has(t))return dv.get(t);let e=IV(t);return e!==t&&(dv.set(t,e),pv.set(e,t)),e}var Gd=t=>pv.get(t);function pT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Sr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Sr(s.result),c.oldVersion,c.newVersion,Sr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var bV=["get","getKey","getAll","getAllKeys","count"],TV=["put","add","delete","clear"],mv=new Map;function fT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mv.get(e))return mv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=TV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bV.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return mv.set(e,o),o}hT(t=>Ae(k({},t),{get:(e,n,r)=>fT(e,n)||t.get(e,n,r),has:(e,n)=>!!fT(e,n)||t.has(e,n)}));var vv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DV(t){let e=t.getComponent();return e?.type==="VERSION"}var yv="@firebase/app",mT="0.9.28";var Bo=new $i("@firebase/app"),SV="@firebase/app-compat",AV="@firebase/analytics-compat",xV="@firebase/analytics",MV="@firebase/app-check-compat",PV="@firebase/app-check",OV="@firebase/auth",RV="@firebase/auth-compat",NV="@firebase/database",kV="@firebase/database-compat",FV="@firebase/functions",VV="@firebase/functions-compat",LV="@firebase/installations",jV="@firebase/installations-compat",UV="@firebase/messaging",BV="@firebase/messaging-compat",$V="@firebase/performance",HV="@firebase/performance-compat",zV="@firebase/remote-config",qV="@firebase/remote-config-compat",GV="@firebase/storage",WV="@firebase/storage-compat",KV="@firebase/firestore",QV="@firebase/firestore-compat",YV="firebase",XV="10.8.1";var _v="[DEFAULT]",JV={[yv]:"fire-core",[SV]:"fire-core-compat",[xV]:"fire-analytics",[AV]:"fire-analytics-compat",[PV]:"fire-app-check",[MV]:"fire-app-check-compat",[OV]:"fire-auth",[RV]:"fire-auth-compat",[NV]:"fire-rtdb",[kV]:"fire-rtdb-compat",[FV]:"fire-fn",[VV]:"fire-fn-compat",[LV]:"fire-iid",[jV]:"fire-iid-compat",[UV]:"fire-fcm",[BV]:"fire-fcm-compat",[$V]:"fire-perf",[HV]:"fire-perf-compat",[zV]:"fire-rc",[qV]:"fire-rc-compat",[GV]:"fire-gcs",[WV]:"fire-gcs-compat",[KV]:"fire-fst",[QV]:"fire-fst-compat","fire-js":"fire-js",[YV]:"fire-js-all"};var Dc=new Map,wv=new Map;function ZV(t,e){try{t.container.addComponent(e)}catch(n){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){let e=t.name;if(wv.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(let n of Dc.values())ZV(n,t);return!0}function Ac(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var eL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new ui("app","Firebase",eL);var Ev=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var qi=XV;function bv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=av()),!n)throw Hi.create("no-options");let o=Dc.get(i);if(o){if(jo(n,o.options)&&jo(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}let s=new qd(i);for(let c of wv.values())s.addComponent(c);let a=new Ev(n,r,s);return Dc.set(i,a),a}function ea(t=_v){let e=Dc.get(t);if(!e&&t===_v&&av())return bv();if(!e)throw Hi.create("no-app",{appName:t});return e}function Wd(){return Array.from(Dc.values())}function gt(t,e,n){var r;let i=(r=JV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(a.join(" "));return}zi(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tL="firebase-heartbeat-database",nL=1,Sc="firebase-heartbeat-store",gv=null;function _T(){return gv||(gv=pT(tL,nL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),gv}function rL(t){return E(this,null,function*(){try{let n=(yield _T()).transaction(Sc),r=yield n.objectStore(Sc).get(wT(t));return yield n.done,r}catch(e){if(e instanceof In)Bo.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});Bo.warn(n.message)}}})}function gT(t,e){return E(this,null,function*(){try{let r=(yield _T()).transaction(Sc,"readwrite");yield r.objectStore(Sc).put(e,wT(t)),yield r.done}catch(n){if(n instanceof In)Bo.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});Bo.warn(r.message)}}})}function wT(t){return`${t.name}!${t.options.appId}`}var iL=1024,oL=30*24*60*60*1e3,Cv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Iv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=oL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vT(),{heartbeatsToSend:r,unsentEntries:i}=sL(this._heartbeatsCache.heartbeats),o=bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function vT(){return new Date().toISOString().substring(0,10)}function sL(t,e=iL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Iv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return lv()?oT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield rL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return gT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yT(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}function aL(t){zi(new Fn("platform-logger",e=>new vv(e),"PRIVATE")),zi(new Fn("heartbeat",e=>new Cv(e),"PRIVATE")),gt(yv,mT,t),gt(yv,mT,"esm2017"),gt("fire-js","")}aL("");var cL="firebase",lL="10.8.1";gt(cL,lL,"app");var Ho=new Zr("ANGULARFIRE2_VERSION");function Qd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var xc=(t,e)=>{let n=e?[e]:Wd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},na=class{constructor(){return xc(uL)}},uL="app-check";function ta(){}var Kd=class{zone;delegate;constructor(e,n=Tp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Tv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta)),n.pipe(at({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ra=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Kd(Zone.current)),this.insideAngular=n.run(()=>new Kd(Zone.current,Ps)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(j(Ie))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function dL(t){return Yd().ngZone.runOutsideAngular(()=>t())}function $o(t){return Yd().ngZone.run(()=>t())}function hL(t){return fL(Yd())(t)}function fL(t){return function(n){return n=n.lift(new Tv(t.ngZone)),n.pipe(Di(t.outsideAngular),Ti(t.insideAngular))}}var pL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$o(()=>t.apply(void 0,r))},ia=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ta,{},ta,ta))),r[o]=pL(r[o],n));let i=dL(()=>t.apply(this,r));if(!e)if(i instanceof ae){let o=Yd();return i.pipe(Di(o.outsideAngular),Ti(o.insideAngular))}else return $o(()=>i);return i instanceof ae?i.pipe(hL):i instanceof Promise?$o(()=>new Promise((o,s)=>i.then(a=>$o(()=>o(a)),a=>$o(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:$o(()=>i)};var di=class{constructor(e){return e}},zo=class{constructor(){return Wd()}};function mL(t){return t&&t.length===1?t[0]:new di(ea())}var Dv=new K("angularfire2._apps"),gL={provide:di,useFactory:mL,deps:[[new sn,Dv]]},vL={provide:zo,deps:[[new sn,Dv]]};function yL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new di(r)}}var _L=(()=>{class t{constructor(n){gt("angularfire",Ho.full,"core"),gt("angularfire",Ho.full,"app"),gt("angular",_b.full,n.toString())}static \u0275fac=function(r){return new(r||t)(j(Nn))};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[gL,vL]})}return t})();function ET(t,...e){return{ngModule:_L,providers:[{provide:Dv,useFactory:yL(t),multi:!0,deps:[Ie,Ze,ra,...e]}]}}var CT=ia(bv,!0);function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VT=FT,LT=new ui("auth","Firebase",FT());var nh=new $i("@firebase/auth");function wL(t,...e){nh.logLevel<=Oe.WARN&&nh.warn(`Auth (${qi}): ${t}`,...e)}function Jd(t,...e){nh.logLevel<=Oe.ERROR&&nh.error(`Auth (${qi}): ${t}`,...e)}function Wi(t,...e){throw Gv(t,...e)}function qo(t,...e){return Gv(t,...e)}function EL(t,e,n){let r=Object.assign(Object.assign({},VT()),{[e]:n});return new ui("auth","Firebase",r).create(e,{appName:t.name})}function Gv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LT.create(t,...e)}function he(t,e,...n){if(!t)throw Gv(e,...n)}function hi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function Ki(t,e){t||hi(e)}function Mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CL(){return IT()==="http:"||IT()==="https:"}function IT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function IL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CL()||nT()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Go=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=tT()||rT()}get(){return IL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wv(t,e){Ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var rh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var DL=new Go(3e4,6e4);function Kv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function oa(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){return jT(t,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Tc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),rh.fetch()(UT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function jT(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},TL),e);try{let i=new Pv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Xd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Xd(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw EL(t,u,l);Wi(t,u)}}catch(i){if(i instanceof In)throw i;Wi(t,"network-request-failed",{message:String(i)})}})}function SL(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield oa(t,e,n,r,i);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function UT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Wv(t.config,i):`${t.config.apiScheme}://${i}`}var Pv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qo(this.auth,"network-request-failed")),DL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qo(t,e,r);return i.customData._tokenResponse=n,i}function AL(t,e){return E(this,null,function*(){return oa(t,"POST","/v1/accounts:delete",e)})}function xL(t,e){return E(this,null,function*(){return oa(t,"POST","/v1/accounts:lookup",e)})}function Mc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qv(t,e=!1){return E(this,null,function*(){let n=Bi(t),r=yield n.getIdToken(e),i=Yv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(Sv(i.auth_time)),issuedAtTime:Mc(Sv(i.iat)),expirationTime:Mc(Sv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Sv(t){return Number(t)*1e3}function Yv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{let i=iv(n);return i?JSON.parse(i):(Jd("Failed to decode base64 JWT payload"),null)}catch(i){return Jd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ML(t){let e=Yv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof In&&PL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function PL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ov=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ih=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function oh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Pc(t,xL(n,{idToken:r}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RL(o.providerUserInfo):[],a=OL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ih(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Xv(t){return E(this,null,function*(){let e=Bi(t);yield oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RL(t){return t.map(e=>{var{providerId:n}=e,r=Sp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function NL(t,e){return E(this,null,function*(){let n=yield jT(t,{},()=>E(this,null,function*(){let r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=UT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function kL(t,e){return E(this,null,function*(){return oa(t,"POST","/v2/accounts:revokeToken",Kv(t,e))})}var sh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ML(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield NL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hi("not implemented")}};function Gi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Oc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ov(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ih(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Pc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qv(this,e)}reload(){return Xv(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield oh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield Pc(this,AL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:m,isAnonymous:J,providerData:P,stsTokenManager:Q}=n;he(q&&Q,e,"internal-error");let de=sh.fromJSON(this.name,Q);he(typeof q=="string",e,"internal-error"),Gi(d,e.name),Gi(h,e.name),he(typeof m=="boolean",e,"internal-error"),he(typeof J=="boolean",e,"internal-error"),Gi(p,e.name),Gi(y,e.name),Gi(C,e.name),Gi(S,e.name),Gi(A,e.name),Gi(H,e.name);let Ce=new t({uid:q,auth:e,email:h,emailVerified:m,displayName:d,isAnonymous:J,photoURL:y,phoneNumber:p,tenantId:C,stsTokenManager:de,createdAt:A,lastLoginAt:H});return P&&Array.isArray(P)&&(Ce.providerData=P.map(Te=>Object.assign({},Te))),S&&(Ce._redirectEventId=S),Ce}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new sh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oh(o),o})}};var bT=new Map;function fi(t){Ki(t instanceof Function,"Expected a class definition");let e=bT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bT.set(t,e),e)}var FL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Rv=FL;function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}var ah=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Oc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(fi(Rv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||fi(Rv),s=Zd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Oc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function TT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(GT(e))return"Webos";if(Jv(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function BT(t=Dt()){return/firefox\//i.test(t)}function Jv(t=Dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(t=Dt()){return/crios\//i.test(t)}function HT(t=Dt()){return/iemobile/i.test(t)}function zT(t=Dt()){return/android/i.test(t)}function qT(t=Dt()){return/blackberry/i.test(t)}function GT(t=Dt()){return/webos/i.test(t)}function mh(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VL(t=Dt()){var e;return mh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LL(){return iT()&&document.documentMode===10}function WT(t=Dt()){return mh(t)||zT(t)||GT(t)||qT(t)||/windows phone/i.test(t)||HT(t)}function jL(){try{return!!(window&&window!==window.top)}catch{return!1}}function KT(t,e=[]){let n;switch(t){case"Browser":n=TT(Dt());break;case"Worker":n=`${TT(Dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}var Nv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UL(n){return E(this,arguments,function*(t,e={}){return oa(t,"GET","/v2/passwordPolicy",Kv(t,e))})}var BL=6,kv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:BL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ch(this),this.idTokenSubscription=new ch(this),this.beforeStateQueue=new Nv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ah.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Bi(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield UL(this),n=new kv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fi(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield ah.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&wL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Zv(t){return Bi(t)}var ch=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aT(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ey={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $L(t){ey=t}function HL(t){return ey.loadJS(t)}function zL(){return ey.gapiScript}function QT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ty(t,e){let n=Ac(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(jo(o,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function qL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ny(t,e,n){let r=Zv(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=YT(e),{host:s,port:a}=GL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WL()}function YT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GL(t){let e=YT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:DT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:DT(s)}}}function DT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function WL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var lh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}};function Av(t,e){return E(this,null,function*(){return SL(t,"POST","/v1/accounts:signInWithIdp",Kv(t,e))})}var uh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vv=class extends uh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Rc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield Oc._fromIdTokenResponse(e,r,i),s=ST(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ST(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lv=class t extends In{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function XT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lv._fromErrorAndOperation(t,o,e,r):o})}function KL(t,e,n=!1){return E(this,null,function*(){let r=yield Pc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Rc._forOperation(t,"link",r)})}function QL(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Pc(t,XT(r,i,e,t),n);he(o.idToken,r,"internal-error");let s=Yv(o.idToken);he(s,r,"internal-error");let{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Rc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),o}})}function YL(t,e,n=!1){return E(this,null,function*(){let r="signIn",i=yield XT(t,r,e),o=yield Rc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function ry(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}function iy(t,e,n){return Bi(t).beforeAuthStateChanged(e,n)}var dh="__sak";var hh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function XL(){let t=Dt();return Jv(t)||mh(t)}var JL=1e3,ZL=10,e2=(()=>{class t extends hh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=XL()&&jL(),this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);LL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,ZL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Ci(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Ci(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Ci(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),JT=e2;var t2=(()=>{class t extends hh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),oy=t2;function n2(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var r2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,s)})),l=yield n2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ZT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=ZT("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ar(){return window}function i2(t){Ar().location.href=t}function eD(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}function o2(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function s2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a2(){return eD()?self:null}var tD="firebaseLocalStorageDb",c2=1,fh="firebaseLocalStorage",nD="fbase_key",Wo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function gh(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function l2(){let t=indexedDB.deleteDatabase(tD);return new Wo(t).toPromise()}function Uv(){let t=indexedDB.open(tD,c2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(fh,{keyPath:nD})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),yield l2(),e(yield Uv()))}))})}function AT(t,e,n){return E(this,null,function*(){let r=gh(t,!0).put({[nD]:e,value:n});return new Wo(r).toPromise()})}function u2(t,e){return E(this,null,function*(){let n=gh(t,!1).get(e),r=yield new Wo(n).toPromise();return r===void 0?null:r.value})}function xT(t,e){let n=gh(t,!0).delete(e);return new Wo(n).toPromise()}var d2=800,h2=3,f2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Uv(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>h2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return eD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=r2._getInstance(a2()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield o2(),!this.activeServiceWorker)return;this.sender=new jv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||s2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Uv();return yield AT(n,dh,"1"),yield xT(n,dh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>AT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>u2(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>xT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=gh(o,!1).getAll();return new Wo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),rD=f2;var XQ=QT("rcb"),JQ=new Go(3e4,6e4);function p2(t,e){return e?fi(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Nc=class extends lh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Av(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Av(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Av(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function m2(t){return YL(t.auth,new Nc(t),t.bypassAuthState)}function g2(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),QL(n,new Nc(t),t.bypassAuthState)}function v2(t){return E(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),KL(n,new Nc(t),t.bypassAuthState)})}var Bv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m2;case"linkViaPopup":case"linkViaRedirect":return v2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:Wi(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ZQ=new Go(2e3,1e4);var y2="pendingRedirect",eh=new Map,$v=class t extends Bv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=eh.get(this.auth._key());if(!e){try{let r=(yield _2(this.resolver,this.auth))?yield Ci(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Ci(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ci(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function _2(t,e){return E(this,null,function*(){let n=C2(e),r=E2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function w2(t,e){eh.set(t._key(),e)}function E2(t){return fi(t._redirectPersistence)}function C2(t){return Zd(y2,t.config.apiKey,t.name)}function I2(t,e,n=!1){return E(this,null,function*(){let r=Zv(t),i=p2(r,e),s=yield new $v(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var b2=10*60*1e3,Hv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(e))}saveEventToCache(e){this.cachedEventUids.add(MT(e)),this.lastProcessedEventTime=Date.now()}};function MT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function T2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iD(t);default:return!1}}function D2(n){return E(this,arguments,function*(t,e={}){return oa(t,"GET","/v1/projects",e)})}var S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;function x2(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield D2(t);for(let n of e)try{if(M2(n))return}catch{}Wi(t,"unauthorized-domain")})}function M2(t){let e=Mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!A2.test(n))return!1;if(S2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var P2=new Go(3e4,6e4);function PT(){let t=Ar().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var r,i,o;function s(){PT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PT(),n(qo(t,"network-request-failed"))},timeout:P2.get()})}if(!((i=(r=Ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)s();else{let a=QT("iframefcb");return Ar()[a]=()=>{gapi.load?s():n(qo(t,"network-request-failed"))},HL(`${zL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw th=null,e})}var th=null;function R2(t){return th=th||O2(t),th}var N2=new Go(5e3,15e3),k2="__/auth/iframe",F2="emulator/auth/iframe",V2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j2(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Wv(e,F2):`https://${t.config.authDomain}/${k2}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=L2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tc(r).slice(1)}`}function U2(t){return E(this,null,function*(){let e=yield R2(t),n=Ar().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:j2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V2,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=qo(t,"network-request-failed"),a=Ar().setTimeout(()=>{o(s)},N2.get());function c(){Ar().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var B2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$2=500,H2=600,z2="_blank",q2="http://localhost",ph=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function G2(t,e,n,r=$2,i=H2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},B2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Dt().toLowerCase();n&&(a=$T(l)?z2:n),BT(l)&&(e=e||q2,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(VL(l)&&a!=="_self")return W2(e||"",a),new ph(null);let d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new ph(d)}function W2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var K2="__/auth/handler",Q2="emulator/auth/handler",Y2=encodeURIComponent("fac");function OT(t,e,n,r,i,o){return E(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof uh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Vv){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${Y2}=${encodeURIComponent(c)}`:"";return`${X2(t)}?${Tc(a).slice(1)}${l}`})}function X2({config:t}){return t.emulator?Wv(t,Q2):`https://${t.authDomain}/${K2}`}var xv="webStorageSupport",zv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oy,this._completeRedirectFn=I2,this._overrideRedirectResult=w2}_openPopup(e,n,r,i){return E(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield OT(e,n,r,Mv(),i);return G2(e,s,ZT())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield OT(e,n,r,Mv(),i);return i2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield U2(e),r=new Hv(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xv,{type:xv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[xv];s!==void 0&&n(!!s),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||Jv()||mh()}},oD=zv;var RT="@firebase/auth",NT="1.6.1";var qv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function J2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(t){zi(new Fn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(t)},l=new Fv(r,i,o,c);return qL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Fn("auth-internal",e=>{let n=Zv(e.getProvider("auth").getImmediate());return(r=>new qv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(RT,NT,J2(t)),gt(RT,NT,"esm2017")}var e3=5*60,t3=cv("authIdTokenMaxAge")||e3,kT=null,n3=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t3)return;let i=n?.token;kT!==i&&(kT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function sy(t=ea()){let e=Ac(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ty(t,{popupRedirectResolver:oD,persistence:[rD,JT,oy]}),r=cv("authTokenSyncURL");if(r){let o=n3(r);iy(n,o,()=>o(n.currentUser)),ry(n,s=>o(s))}let i=sv("auth");return i&&ny(n,`http://${i}`),n}function r3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$L({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=qo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",r3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var sD="auth",kc=class{constructor(e){return e}},Fc=class{constructor(){return xc(sD)}};var ay=new K("angularfire2.auth-instances");function X3(t,e){let n=Qd(sD,t,e);return n&&new kc(n)}function J3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new kc(r)}}var Z3={provide:Fc,deps:[[new sn,ay]]},ej={provide:kc,useFactory:X3,deps:[[new sn,ay],di]},tj=(()=>{class t{constructor(){gt("angularfire",Ho.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[ej,Z3]})}return t})();function aD(t,...e){return{ngModule:tj,providers:[{provide:ay,useFactory:J3(t),multi:!0,deps:[Ie,Ze,ra,zo,[new sn,na],...e]}]}}var cD=ia(sy,!0);var nj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={},U,xy=xy||{},le=nj||self;function Mh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Yc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function rj(t){return Object.prototype.hasOwnProperty.call(t,cy)&&t[cy]||(t[cy]=++ij)}var cy="closure_uid_"+(1e9*Math.random()>>>0),ij=0;function oj(t,e,n){return t.call.apply(t.bind,arguments)}function sj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=oj:Yt=sj,Yt.apply(null,arguments)}function vh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qi(){this.s=this.s,this.o=this.o}var aj=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),aj!=0)&&rj(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ED=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function My(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Mh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var cj=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function $c(t){return/^[\s\xa0]*$/.test(t)}function Ph(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return Ph().indexOf(t)!=-1}function Py(t){return Py[" "](t),t}Py[" "]=function(){};function lj(t,e){var n=Xj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var uj=xr("Opera"),la=xr("Trident")||xr("MSIE"),CD=xr("Edge"),fy=CD||la,ID=xr("Gecko")&&!(Ph().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),dj=Ph().toLowerCase().indexOf("webkit")!=-1&&!xr("Edge");function bD(){var t=le.document;return t?t.documentMode:void 0}var py;e:{if(yh="",_h=function(){var t=Ph();if(ID)return/rv:([^\);]+)(\)|;)/.exec(t);if(CD)return/Edge\/([\d\.]+)/.exec(t);if(la)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dj)return/WebKit\/(\S+)/.exec(t);if(uj)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),_h&&(yh=_h?_h[1]:""),la&&(wh=bD(),wh!=null&&wh>parseFloat(yh))){py=String(wh);break e}py=yh}var yh,_h,wh,my;le.document&&la?(ly=bD(),my=ly||parseInt(py,10)||void 0):my=void 0;var ly,hj=my;function Hc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ID){e:{try{Py(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hc.$.h.call(this)}}At(Hc,Xt);var fj={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xc="closure_listenable_"+(1e6*Math.random()|0),pj=0;function mj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++pj,this.fa=this.ia=!1}function Oh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Oy(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function gj(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function TD(t){let e={};for(let n in t)e[n]=t[n];return e}var uD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<uD.length;o++)n=uD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rh(t){this.src=t,this.g={},this.h=0}Rh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=vy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new mj(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function gy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ED(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Oh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ry="closure_lm_"+(1e6*Math.random()|0),uy={};function SD(t,e,n,r,i){if(r&&r.once)return xD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)SD(t,e[o],n,r,i);return null}return n=Fy(n),t&&t[Xc]?t.O(e,n,Yc(r)?!!r.capture:!!r,i):AD(t,e,n,!1,r,i)}function AD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Yc(i)?!!i.capture:!!i,a=ky(t);if(a||(t[Ry]=a=new Rh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=vj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)cj||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(PD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function vj(){function t(n){return e.call(t.src,t.listener,n)}let e=yj;return t}function xD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xD(t,e[o],n,r,i);return null}return n=Fy(n),t&&t[Xc]?t.P(e,n,Yc(r)?!!r.capture:!!r,i):AD(t,e,n,!0,r,i)}function MD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)MD(t,e[o],n,r,i);else r=Yc(r)?!!r.capture:!!r,n=Fy(n),t&&t[Xc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=vy(o,n,r,i),-1<n&&(Oh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ky(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vy(e,n,r,i)),(n=-1<t?e[t]:null)&&Ny(n))}function Ny(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xc])gy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(PD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ky(e))?(gy(n,t),n.h==0&&(n.src=null,e[Ry]=null)):Oh(t)}}}function PD(t){return t in uy?uy[t]:uy[t]="on"+t}function yj(t,e){if(t.fa)t=!0;else{e=new Hc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ny(t),t=n.call(r,e)}return t}function ky(t){return t=t[Ry],t instanceof Rh?t:null}var dy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fy(t){return typeof t=="function"?t:(t[dy]||(t[dy]=function(e){return t.handleEvent(e)}),t[dy])}function St(){Qi.call(this),this.i=new Rh(this),this.S=this,this.J=null}At(St,Qi);St.prototype[Xc]=!0;St.prototype.removeEventListener=function(t,e,n,r){MD(this,t,e,n,r)};function $t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var i=e;e=new Xt(r,t),DD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Eh(s,r,!0,e)&&i}if(s=e.g=t,i=Eh(s,r,!0,e)&&i,i=Eh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Eh(s,r,!1,e)&&i}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oh(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&gy(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vy=le.JSON.stringify,yy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function _j(){var t=Ly;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _y=class{constructor(){this.h=this.g=null}add(e,n){let r=OD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},OD=new yy(()=>new wy,t=>t.reset()),wy=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function wj(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ej(t){le.setTimeout(()=>{throw t},0)}var zc,qc=!1,Ly=new _y,RD=()=>{let t=le.Promise.resolve(void 0);zc=()=>{t.then(Cj)}},Cj=()=>{for(var t;t=_j();){try{t.h.call(t.g)}catch(n){Ej(n)}var e=OD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qc=!1};function Nh(t,e){St.call(this),this.h=t||1,this.g=e||le,this.j=Yt(this.qb,this),this.l=Date.now()}At(Nh,St);U=Nh.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(jy(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Nh.$.N.call(this),jy(this),delete this.g};function Uy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function ND(t){t.g=Uy(()=>{t.g=null,t.i&&(t.i=!1,ND(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Ey=class extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ND(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Gc(t){Qi.call(this),this.h=t,this.g={}}At(Gc,Qi);var dD=[];function kD(t,e,n,r){Array.isArray(n)||(n&&(dD[0]=n.toString()),n=dD);for(var i=0;i<n.length;i++){var o=SD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function FD(t){Oy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ny(e)},t),t.g={}}Gc.prototype.N=function(){Gc.$.N.call(this),FD(this)};Gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kh(){this.g=!0}kh.prototype.Ea=function(){this.g=!1};function Ij(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function bj(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function aa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Dj(t,n)+(r?" "+r:"")})}function Tj(t,e){t.info(function(){return"TIMEOUT: "+e})}kh.prototype.info=function(){};function Dj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Vy(n)}catch{return e}}var Xo={},hD=null;function Fh(){return hD=hD||new St}Xo.Ta="serverreachability";function VD(t){Xt.call(this,Xo.Ta,t)}At(VD,Xt);function Wc(t){let e=Fh();$t(e,new VD(e))}Xo.STAT_EVENT="statevent";function LD(t,e){Xt.call(this,Xo.STAT_EVENT,t),this.stat=e}At(LD,Xt);function an(t){let e=Fh();$t(e,new LD(e,t))}Xo.Ua="timingevent";function jD(t,e){Xt.call(this,Xo.Ua,t),this.size=e}At(jD,Xt);function Jc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Vh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function By(){}By.prototype.h=null;function fD(t){return t.h||(t.h=t.i())}function BD(){}var Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $y(){Xt.call(this,"d")}At($y,Xt);function Hy(){Xt.call(this,"c")}At(Hy,Xt);var Cy;function Lh(){}At(Lh,By);Lh.prototype.g=function(){return new XMLHttpRequest};Lh.prototype.i=function(){return{}};Cy=new Lh;function el(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gc(this),this.P=Sj,t=fy?125:void 0,this.V=new Nh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $D}function $D(){this.i=null,this.g="",this.h=!1}var Sj=45e3,HD={},Iy={};U=el.prototype;U.setTimeout=function(t){this.P=t};function by(t,e,n){t.L=1,t.A=Uh(mi(e)),t.u=n,t.S=!0,zD(t,null)}function zD(t,e){t.G=Date.now(),tl(t),t.B=mi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),JD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new $D,t.g=_S(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Ey(Yt(t.Pa,t,t.g),t.O)),kD(t.U,t.g,"readystatechange",t.nb),e=t.I?TD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wc(),Ij(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&Mr(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let u=Mr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||fy||this.g&&(this.h.h||this.g.ja()||vD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wc(3):Wc(2)),jh(this);var n=this.g.da();this.ca=n;t:if(qD(this)){var r=vD(this.g);t="";var i=r.length,o=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Bc(this);var s="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,bj(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(a)){var l=a;break t}}l=null}if(n=l)aa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ty(this,n);else{this.i=!1,this.s=3,an(12),Ko(this),Bc(this);break e}}this.S?(GD(this,u,s),fy&&this.i&&u==3&&(kD(this.U,this.V,"tick",this.mb),this.V.start())):(aa(this.j,this.m,s,null),Ty(this,s)),u==4&&Ko(this),this.i&&!this.J&&(u==4?mS(this.l,this):(this.i=!1,tl(this)))}else Kj(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ko(this),Bc(this)}}}catch{}finally{}};function qD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function GD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Aj(t,n),i==Iy){e==4&&(t.s=4,an(14),r=!1),aa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==HD){t.s=4,an(15),aa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else aa(t.j,t.m,i,null),Ty(t,i);qD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qy(e),e.M=!0,an(11))):(aa(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),Bc(t))}U.mb=function(){if(this.g){var t=Mr(this.g),e=this.g.ja();this.o<e.length&&(jh(this),GD(this,t,e),this.i&&t!=4&&tl(this))}};function Aj(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Iy:(n=Number(e.substring(n,r)),isNaN(n)?HD:(r+=1,r+n>e.length?Iy:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,Ko(this)};function tl(t){t.Y=Date.now()+t.P,WD(t,t.P)}function WD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Jc(Yt(t.lb,t),e)}function jh(t){t.C&&(le.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Tj(this.j,this.B),this.L!=2&&(Wc(),an(17)),Ko(this),this.s=2,Bc(this)):WD(this,this.Y-t)};function Bc(t){t.l.H==0||t.J||mS(t.l,t)}function Ko(t){jh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jy(t.V),FD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ty(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dy(n.i,t))){if(!t.K&&Dy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Dh(n),Hh(n);else break e;Ky(n),an(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Jc(Yt(n.ib,n),6e3));if(1>=tS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qo(n,11)}else if((t.K||n.g==t)&&Dh(n),!$c(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(zy(o,o.h),o.h=null))}if(r.F){let C=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,qe(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=yS(r,r.J?r.pa:null,r.Y),s.K){nS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(jh(a),tl(a)),r.g=s}else fS(r);0<n.j.length&&zh(n)}else l[0]!="stop"&&l[0]!="close"||Qo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Qo(n,7):Wy(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Wc(4)}catch{}}function xj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Mj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function KD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Mj(t),r=xj(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var QD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yo){this.h=t.h,bh(this,t.j),this.s=t.s,this.g=t.g,Th(this,t.m),this.l=t.l;var e=t.i,n=new Kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pD(this,n),this.o=t.o}else t&&(e=String(t).match(QD))?(this.h=!1,bh(this,e[1]||"",!0),this.s=jc(e[2]||""),this.g=jc(e[3]||"",!0),Th(this,e[4]),this.l=jc(e[5]||"",!0),pD(this,e[6]||"",!0),this.o=jc(e[7]||"")):(this.h=!1,this.i=new Kc(null,this.h))}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uc(e,mD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uc(e,mD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Uc(n,n.charAt(0)=="/"?Nj:Rj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uc(n,Fj)),t.join("")};function mi(t){return new Yo(t)}function bh(t,e,n){t.j=n?jc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Th(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pD(t,e,n){e instanceof Kc?(t.i=e,Vj(t.i,t.h)):(n||(e=Uc(e,kj)),t.i=new Kc(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Uh(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Oj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mD=/[#\/\?@]/g,Rj=/[#\?:]/g,Nj=/[#\?]/g,kj=/[#\?@]/g,Fj=/#/g;function Kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&Pj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=Kc.prototype;U.add=function(t,e){Yi(this),this.i=null,t=ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YD(t,e){Yi(t),e=ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function XD(t,e){return Yi(t),e=ua(t,e),t.g.has(e)}U.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};U.Z=function(t){Yi(this);let e=[];if(typeof t=="string")XD(this,t)&&(e=e.concat(this.g.get(ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Yi(this),this.i=null,t=ua(this,t),XD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function JD(t,e,n){YD(t,e),0<n.length&&(t.i=null,t.g.set(ua(t,e),My(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Vj(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YD(this,r),JD(this,i,n))},t)),t.j=e}var Lj=class{constructor(t,e){this.g=t,this.map=e}};function ZD(t){this.l=t||jj,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jj=10;function eS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tS(t){return t.h?1:t.g?t.g.size:0}function Dy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zy(t,e){t.g?t.g.add(e):t.h=e}function nS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZD.prototype.cancel=function(){if(this.i=rS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function rS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return My(t.i)}var Uj=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function Bj(){this.g=new Uj}function $j(t,e,n){let r=n||"";try{KD(t,function(i,o){let s=i;Yc(i)&&(s=Vy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hj(t,e){let n=new kh;if(le.Image){let r=new Image;r.onload=vh(Ch,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vh(Ch,n,r,"TestLoadImage: error",!1,e),r.onabort=vh(Ch,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vh(Ch,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ch(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nl(t){this.l=t.ec||null,this.j=t.ob||!1}At(nl,By);nl.prototype.g=function(){return new Bh(this.l,this.j)};nl.prototype.i=function(t){return function(){return t}}({});function Bh(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Bh,St);var qy=0;U=Bh.prototype;U.open=function(t,e){if(this.readyState!=qy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qc(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=qy};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?rl(this):Qc(this),this.readyState==3&&iS(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,rl(this))};U.Ya=function(t){this.g&&(this.response=t,rl(this))};U.ka=function(){this.g&&rl(this)};function rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qc(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zj=le.JSON.parse;function tt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oS,this.L=this.M=!1}At(tt,St);var oS="",qj=/^https?$/i,Gj=["POST","PUT"];U=tt.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cy.g(),this.C=this.u?fD(this.u):fD(Cy),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){gD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=ED(Gj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cS(this),0<this.B&&((this.L=Wj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=Uy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gD(this,o)}};function Wj(t){return la&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))};function gD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sS(t),$h(t)}function sS(t){t.F||(t.F=!0,$t(t,"complete"),$t(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$t(this,"complete"),$t(this,"abort"),$h(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$h(this,!0)),tt.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?aS(this):this.kb())};U.kb=function(){aS(this)};function aS(t){if(t.h&&typeof xy<"u"&&(!t.C[1]||Mr(t)!=4||t.da()!=2)){if(t.v&&Mr(t)==4)Uy(t.La,0,t);else if($t(t,"readystatechange"),Mr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(QD)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!qj.test(i?i.toLowerCase():"")}n=r}if(n)$t(t,"complete"),$t(t,"success");else{t.m=6;try{var o=2<Mr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",sS(t)}}finally{$h(t)}}}}function $h(t,e){if(t.g){cS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch{}}}function cS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Mr(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zj(e)}};function vD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Kj(t){let e={};t=(t.g&&2<=Mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if($c(t[r]))continue;var n=wj(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}gj(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function lS(t){let e="";return Oy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Vc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uS(t){this.Ga=0,this.j=[],this.l=new kh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vc("baseRetryDelayMs",5e3,t),this.hb=Vc("retryDelaySeedMs",1e4,t),this.eb=Vc("forwardChannelMaxRetries",2,t),this.xa=Vc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZD(t&&t.concurrentRequestLimit),this.Ja=new Bj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=uS.prototype;U.ra=8;U.H=1;function Wy(t){if(dS(t),t.H==3){var e=t.W++,n=mi(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),il(t,n),e=new el(t,t.l,e),e.L=2,e.A=Uh(mi(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=_S(e.l,null),e.g.ha(e.A)),e.G=Date.now(),tl(e)}vS(t)}function Hh(t){t.g&&(Qy(t),t.g.cancel(),t.g=null)}function dS(t){Hh(t),t.u&&(le.clearTimeout(t.u),t.u=null),Dh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function zh(t){if(!eS(t.i)&&!t.m){t.m=!0;var e=t.Na;zc||RD(),qc||(zc(),qc=!0),Ly.add(e,t),t.C=0}}function Qj(t,e){return tS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Jc(Yt(t.Na,t,e),gS(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new el(this,this.l,t),o=this.s;if(this.U&&(o?(o=TD(o),DD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hS(this,i,e),n=mi(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),il(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(lS(o)))+"&"+e:this.o&&Gy(n,this.o,o)),zy(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,by(i,n,null)):by(i,n,e),this.H=2}}else this.H==3&&(t?yD(this,t):this.j.length==0||eS(this.i)||yD(this))};function yD(t,e){var n;e?n=e.m:n=t.W++;let r=mi(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),il(t,r),t.o&&t.s&&Gy(r,t.o,t.s),n=new el(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zy(t.i,n),by(n,r,e)}function il(t,e){t.na&&Oy(t.na,function(n,r){qe(e,r,n)}),t.h&&KD({},function(n,r){qe(e,r,n)})}function hS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{$j(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zc||RD(),qc||(zc(),qc=!0),Ly.add(e,t),t.A=0}}function Ky(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Jc(Yt(t.Ma,t),gS(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,pS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jc(Yt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),Hh(this),pS(this))};function Qy(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function pS(t){t.g=new el(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mi(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),il(t,e),t.o&&t.s&&Gy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Uh(mi(e)),n.u=null,n.S=!0,zD(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Hh(this),Ky(this),an(19))};function Dh(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function mS(t,e){var n=null;if(t.g==e){Dh(t),Qy(t),t.g=null;var r=2}else if(Dy(t.i,e))n=e.F,nS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Fh(),$t(r,new jD(r,n)),zh(t)}else fS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Qj(t,e)||r==2&&Ky(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qo(t,5);break;case 4:Qo(t,10);break;case 3:Qo(t,6);break;default:Qo(t,2)}}}function gS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||bh(n,"https"),Uh(n)),Hj(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),vS(t),dS(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function vS(t){if(t.H=0,t.ma=[],t.h){let e=rS(t.i);(e.length!=0||t.j.length!=0)&&(lD(t.ma,e),lD(t.ma,t.j),t.i.i.length=0,My(t.j),t.j.length=0),t.h.ya()}}function yS(t,e,n){var r=n instanceof Yo?mi(n):new Yo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Th(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Yo(null);r&&bh(o,r),e&&(o.g=e),i&&Th(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),il(t,r),r}function _S(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new tt(new nl({ob:n})):new tt(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function wS(){}U=wS.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function Sh(){if(la&&!(10<=Number(hj)))throw Error("Environmental error: no available transport.")}Sh.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){St.call(this),this.g=new uS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$c(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new da(this)}At(bn,St);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yS(t,null,t.Y),zh(t)};bn.prototype.close=function(){Wy(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vy(t),t=n);e.j.push(new Lj(e.fb++,t)),e.H==3&&zh(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,Wy(this.g),delete this.g,bn.$.N.call(this)};function ES(t){$y.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(ES,$y);function CS(){Hy.call(this),this.status=1}At(CS,Hy);function da(t){this.g=t}At(da,wS);da.prototype.Ba=function(){$t(this.g,"a")};da.prototype.Aa=function(t){$t(this.g,new ES(t))};da.prototype.za=function(t){$t(this.g,new CS)};da.prototype.ya=function(){$t(this.g,"b")};function Yj(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(rr,Yj);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)hy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){hy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){hy(this,r),i=0;break}}this.h=i,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var Xj={};function Yy(t){return-128<=t&&128>t?lj(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function Pr(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return Bt(Pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Sy;return new Ve(e,0)}function IS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bt(IS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pr(Math.pow(e,8)),r=ca,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Pr(Math.pow(e,o)),r=r.R(o).add(Pr(s))):(r=r.R(n),r=r.add(Pr(s)))}return r}var Sy=4294967296,ca=Yy(0),Ay=Yy(1),_D=Yy(16777216);U=Ve.prototype;U.ea=function(){if(Vn(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Sy+r)*e,e*=Sy}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pi(this))return"0";if(Vn(this))return"-"+Bt(this).toString(t);for(var e=Pr(Math.pow(t,6)),n=this,r="";;){var i=xh(n,e).g;n=Ah(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}U.X=function(t){return t=Ah(this,t),Vn(t)?-1:pi(t)?0:1};function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(Ay)}U.abs=function(){return Vn(this)?Bt(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Ah(t,e){return t.add(Bt(e))}U.R=function(t){if(pi(this)||pi(t))return ca;if(Vn(this))return Vn(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if(Vn(t))return Bt(this.R(Bt(t)));if(0>this.X(_D)&&0>t.X(_D))return Pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Ih(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Ih(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Ih(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Ih(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function Ih(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lc(t,e){this.g=t,this.h=e}function xh(t,e){if(pi(e))throw Error("division by zero");if(pi(t))return new Lc(ca,ca);if(Vn(t))return e=xh(Bt(t),e),new Lc(Bt(e.g),Bt(e.h));if(Vn(e))return e=xh(t,Bt(e)),new Lc(Bt(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ay,r=e;0>=r.X(t);)n=wD(n),r=wD(r);var i=sa(n,1),o=sa(r,1);for(r=sa(r,2),n=sa(n,2);!pi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=sa(r,1),n=sa(n,1)}return e=Ah(t,i.R(e)),new Lc(i,e)}for(i=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Pr(n),s=o.R(e);Vn(s)||0<s.X(t);)n-=r,o=Pr(n),s=o.R(e);pi(o)&&(o=Ay),i=i.add(o),t=Ah(t,s)}return new Lc(i,t)}U.gb=function(t){return xh(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function wD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function sa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ve(i,t.h)}Sh.prototype.createWebChannel=Sh.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Vh.NO_ERROR=0;Vh.TIMEOUT=8;Vh.HTTP_ERROR=6;UD.COMPLETE="complete";BD.EventType=Zc;Zc.OPEN="a";Zc.CLOSE="b";Zc.ERROR="c";Zc.MESSAGE="d";St.prototype.listen=St.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=Pr;Ve.fromString=IS;var Jj=ir.createWebChannelTransport=function(){return new Sh},Zj=ir.getStatEventTarget=function(){return Fh()},eU=ir.ErrorCode=Vh,tU=ir.EventType=UD,nU=ir.Event=Xo,rU=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BY=ir.FetchXmlHttpFactory=nl,iU=ir.WebChannel=BD,oU=ir.XhrIo=tt,sU=ir.Md5=rr,bS=ir.Integer=Ve;var TS="@firebase/firestore";var xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");var ol="10.8.1";var fa=new $i("@firebase/firestore");function Tn(t,...e){if(fa.logLevel<=Oe.DEBUG){let n=e.map(y_);fa.debug(`Firestore (${ol}): ${t}`,...n)}}function v_(t,...e){if(fa.logLevel<=Oe.ERROR){let n=e.map(y_);fa.error(`Firestore (${ol}): ${t}`,...n)}}function aU(t,...e){if(fa.logLevel<=Oe.WARN){let n=e.map(y_);fa.warn(`Firestore (${ol}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function gn(t="Unexpected state"){let e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw v_(e),new Error(e)}function Jy(t,e){t||gn()}var Ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vt=class extends In{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ji=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var qh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}},e_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},t_=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ji)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jy(typeof r.accessToken=="string"),new qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Jy(e===null||typeof e=="string"),new xt(e)}},n_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},r_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new n_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},i_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},o_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Tn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jy(typeof n.token=="string"),this.R=n.token,new i_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function cU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var s_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=cU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function xS(t,e){return t<e?-1:t>e?1:0}var a_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&gn(),r===void 0?r=e.length-n:r>e.length-n&&gn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xi=class t extends a_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new vt(Ht.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Jo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xi.fromString(e))}static fromName(e){return new t(Xi.fromString(e).popFirst(5))}static empty(){return new t(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xi(e.slice()))}};var c_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};c_.UNKNOWN_ID=-1;function MS(t){return t.name==="IndexedDbTransactionError"}function lU(t){return t===0&&1/t==-1/0}var uU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JY=[...uU,"documentOverlays"],dU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hU=dU,ZY=[...hU,"indexConfiguration","indexState","indexEntries"];var pa=class t{constructor(e,n){this.comparator=e,this.root=n||Rr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}},ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();let e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}};Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gh=class t{constructor(e){this.comparator=e,this.data=new pa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wh(this.data.getIterator())}getIteratorFrom(e){return new Wh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Wh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var l_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ma=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new l_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ma.EMPTY_BYTE_STRING=new ma("");var tX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function DS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fU(t){return typeof t=="string"?ma.fromBase64String(t):ma.fromUint8Array(t)}var u_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},d_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function pU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nX=new pa(Jo.comparator);var rX=new pa(Jo.comparator);var iX=new pa(Jo.comparator),oX=new Gh(Jo.comparator);var sX=new Gh(xS);var SS,be;(be=SS||(SS={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var aX=new bS([4294967295,4294967295],0);var Kh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(DS(e.integerValue));else if("doubleValue"in e){let r=DS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),lU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(fU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?pU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):gn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Jo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Kh.bt=new Kh;var cX=new Uint8Array(0);var Or=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(41943040,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);function Xy(){return typeof document<"u"?document:null}var h_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var f_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(Ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mU(t,e){if(v_("AsyncQueue",`${e}: ${t}`),MS(t))return new vt(Ht.UNAVAILABLE,`${e}: ${t}`);throw t}var p_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>E(this,null,function*(){Tn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Tn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(Ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function PS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var AS=new Map;function gU(t,e,n,r){if(e===!0&&r===!0)throw new vt(Ht.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":gn()}function yU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vt(Ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vU(t);throw new vt(Ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Qh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(Ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new vt(Ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new vt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vt(Ht.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yh=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(Ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new vt(Ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zy;switch(r.type){case"firstParty":return new r_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(Ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=AS.get(n);r&&(Tn("ComponentProvider","Removing Datastore"),AS.delete(n),r.terminate())}(this),Promise.resolve()}};function OS(t,e,n,r={}){var i;let o=(t=yU(t,Yh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&aU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=xt.MOCK_USER;else{a=eT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new vt(Ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xt(l)}t._authCredentials=new e_(new qh(a,c))}}var m_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new h_(this,"async_queue_retry"),this._u=()=>{let n=Xy();n&&Tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Xy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ji;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!MS(e))throw e;Tn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw v_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=f_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&gn()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var g_=class extends Yh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new m_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_U(this),this._firestoreClient.terminate()}};function RS(t,e){let n=typeof t=="object"?t:ea(),r=typeof t=="string"?t:e||"(default)",i=Ac(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Zb("firestore");o&&OS(i,...o)}return i}function _U(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new u_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new p_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var lX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ol=i})(qi),zi(new Fn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new g_(new t_(r.getProvider("auth-internal")),new o_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new vt(Ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new d_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gt(TS,"4.4.3",e),gt(TS,"4.4.3","esm2017")})();var sl=class{constructor(e){return e}},NS="firestore",__=class{constructor(){return xc(NS)}};var w_=new K("angularfire2.firestore-instances");function wU(t,e){let n=Qd(NS,t,e);return n&&new sl(n)}function EU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new sl(r)}}var CU={provide:__,deps:[[new sn,w_]]},IU={provide:sl,useFactory:wU,deps:[[new sn,w_],di]},bU=(()=>{class t{constructor(){gt("angularfire",Ho.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[IU,CU]})}return t})();function kS(t,...e){return{ngModule:bU,providers:[{provide:w_,useFactory:EU(t),multi:!0,deps:[Ie,Ze,ra,zo,[new sn,Fc],[new sn,na],...e]}]}}var FS=ia(RS,!0);var I_=class extends Ld{constructor(){super(...arguments),this.supportsDOMEvents=!0}},b_=class t extends I_{static makeCurrent(){Ob(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TU();return n==null?null:DU(n)}resetBaseElement(){al=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ud(document.cookie,e)}},al=null;function TU(){return al=al||document.querySelector("base"),al?al.getAttribute("href"):null}function DU(t){return new URL(t,document.baseURI).pathname}var SU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),T_=new K(""),jS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(j(T_),j(Ie))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Xh=class{constructor(e){this._doc=e}},E_="ng-app-id",US=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=vc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${E_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(E_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(E_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(j(Ut),j(dg),j(pg,8),j(Nn))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),C_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S_=/%COMP%/g,BS="%COMP%",AU=`_nghost-${BS}`,xU=`_ngcontent-${BS}`,MU=!0,PU=new K("",{providedIn:"root",factory:()=>MU});function OU(t){return xU.replace(S_,t)}function RU(t){return AU.replace(S_,t)}function $S(t,e){return e.map(n=>n.replace(S_,t))}var Jh=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=vc(c),this.defaultRenderer=new cl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gr.ShadowDom&&(i=Ae(k({},i),{encapsulation:gr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Zh?o.applyToHost(r):o instanceof ll&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gr.Emulated:s=new Zh(l,u,i,this.appId,d,a,c,h);break;case gr.ShadowDom:return new D_(l,u,r,i,a,c,this.nonce,h);default:s=new ll(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(j(jS),j(US),j(dg),j(PU),j(Ut),j(Nn),j(Ie),j(pg))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),cl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(C_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=C_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=C_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(n,r,i&Xr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ci().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var D_=class extends cl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$S(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ll=class extends cl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?$S(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zh=class extends ll{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=OU(l),this.hostAttr=RU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},NU=(()=>{let e=class e extends Xh{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(j(Ut))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),LS=["alt","control","meta","shift"],kU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VU=(()=>{let e=class e extends Xh{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ci().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),LS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=kU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),LS.forEach(a=>{if(a!==o){let c=FU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(j(Ut))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function HS(t,e){return Tb(k({rootComponent:t},LU(e)))}function LU(t){return{appProviders:[...HU,...t?.providers??[]],platformProviders:$U}}function jU(){b_.makeCurrent()}function UU(){return new wr}function BU(){return OC(document),document}var $U=[{provide:Nn,useValue:Fb},{provide:hg,useValue:jU,multi:!0},{provide:Ut,useFactory:BU,deps:[]}];var HU=[{provide:Cd,useValue:"root"},{provide:wr,useFactory:UU,deps:[]},{provide:T_,useClass:NU,multi:!0,deps:[Ut,Ie,Nn]},{provide:T_,useClass:VU,multi:!0,deps:[Ut]},Jh,US,jS,{provide:Ao,useExisting:Jh},{provide:Zs,useClass:SU,deps:[]},[]];var zS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(j(Ut))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=j(zU),o},providedIn:"root"});let t=e;return t})(),zU=(()=>{let e=class e extends A_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ii.NONE:return i;case ii.HTML:return Po(i,"HTML")?Cr(i):EI(this._doc,String(i)).toString();case ii.STYLE:return Po(i,"Style")?Cr(i):i;case ii.SCRIPT:if(Po(i,"Script"))return Cr(i);throw new O(5200,!1);case ii.URL:return Po(i,"URL")?Cr(i):Dd(String(i));case ii.RESOURCE_URL:if(Po(i,"ResourceURL"))return Cr(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(r){return hI(r)}bypassSecurityTrustStyle(r){return fI(r)}bypassSecurityTrustScript(r){return pI(r)}bypassSecurityTrustUrl(r){return mI(r)}bypassSecurityTrustResourceUrl(r){return gI(r)}};e.\u0275fac=function(i){return new(i||e)(j(Ut))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(fe||{}),Nr="*";function kr(t,e){return{type:fe.Trigger,name:t,definitions:e,options:{}}}function Jt(t,e=null){return{type:fe.Animate,styles:e,timings:t}}function GS(t,e=null){return{type:fe.Sequence,steps:t,options:e}}function Ee(t){return{type:fe.Style,styles:t,offset:null}}function WS(t,e,n){return{type:fe.State,name:t,styles:e,options:n}}function Mt(t,e,n=null){return{type:fe.Transition,expr:t,animation:e,options:n}}var Zi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ul=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ef="!";function KS(t){return new O(3e3,!1)}function qU(){return new O(3100,!1)}function GU(){return new O(3101,!1)}function WU(t){return new O(3001,!1)}function KU(t){return new O(3003,!1)}function QU(t){return new O(3004,!1)}function YU(t,e){return new O(3005,!1)}function XU(){return new O(3006,!1)}function JU(){return new O(3007,!1)}function ZU(t,e){return new O(3008,!1)}function eB(t){return new O(3002,!1)}function tB(t,e,n,r,i){return new O(3010,!1)}function nB(){return new O(3011,!1)}function rB(){return new O(3012,!1)}function iB(){return new O(3200,!1)}function oB(){return new O(3202,!1)}function sB(){return new O(3013,!1)}function aB(t){return new O(3014,!1)}function cB(t){return new O(3015,!1)}function lB(t){return new O(3016,!1)}function uB(t,e){return new O(3404,!1)}function dB(t){return new O(3502,!1)}function hB(t){return new O(3503,!1)}function fB(){return new O(3300,!1)}function pB(t){return new O(3504,!1)}function mB(t){return new O(3301,!1)}function gB(t,e){return new O(3302,!1)}function vB(t){return new O(3303,!1)}function yB(t,e){return new O(3400,!1)}function _B(t){return new O(3401,!1)}function wB(t){return new O(3402,!1)}function EB(t,e){return new O(3505,!1)}function eo(t){switch(t.length){case 0:return new Zi;case 1:return t[0];default:return new ul(t)}}function cA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,p)=>{let y=p,C=h;if(p!=="offset")switch(y=t.normalizePropertyName(y,i),C){case ef:C=n.get(p);break;case Nr:C=r.get(p);break;default:C=t.normalizeStyleValue(p,y,C,i);break}d.set(y,C)}),u||o.push(d),a=d,s=l}),i.length)throw dB(i);return o}function X_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&x_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&x_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&x_(n,"destroy",t)));break}}function x_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=J_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function J_(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Sn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function QS(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var CB=typeof document>"u"?null:document.documentElement;function Z_(t){let e=t.parentNode||t.host||null;return e===CB?null:e}function IB(t){return t.substring(1,6)=="ebkit"}var Zo=null,YS=!1;function bB(t){Zo||(Zo=TB()||{},YS=Zo.style?"WebkitAppearance"in Zo.style:!1);let e=!0;return Zo.style&&!IB(t)&&(e=t in Zo.style,!e&&YS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Zo.style)),e}function TB(){return typeof document<"u"?document.body:null}function lA(t,e){for(;e;){if(e===t)return!0;e=Z_(e)}return!1}function uA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var e0=(()=>{let e=class e{validateStyleProperty(r){return bB(r)}matchesElement(r,i){return!1}containsElement(r,i){return lA(r,i)}getParentElement(r){return Z_(r)}query(r,i,o){return uA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Zi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),i0=class i0{};i0.NOOP=new e0;var ns=i0,rs=class{};var DB=1e3,dA="{{",SB="}}",hA="ng-enter",k_="ng-leave",tf="ng-trigger",af=".ng-trigger",XS="ng-animating",F_=".ng-animating";function gi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:V_(parseFloat(e[1]),e[2])}function V_(t,e){switch(e){case"s":return t*DB;default:return t}}function cf(t,e,n){return t.hasOwnProperty("duration")?t:AB(t,e,n)}function AB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(KS(t)),{duration:0,delay:0,easing:""};i=V_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=V_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(qU()),a=!0),o<0&&(e.push(GU()),a=!0),a&&e.splice(c,0,KS(t))}return{duration:i,delay:o,easing:s}}function xB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Fr(t,e,n){e.forEach((r,i)=>{let o=t0(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ts(t,e){e.forEach((n,r)=>{let i=t0(r);t.style[i]=""})}function dl(t){return Array.isArray(t)?t.length==1?t[0]:GS(t):t}function MB(t,e,n){let r=e.params||{},i=fA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(WU(o))})}var L_=new RegExp(`${dA}\\s*(.+?)\\s*${SB}`,"g");function fA(t){let e=[];if(typeof t=="string"){let n;for(;n=L_.exec(t);)e.push(n[1]);L_.lastIndex=0}return e}function fl(t,e,n){let r=`${t}`,i=r.replace(L_,(o,s)=>{let a=e[s];return a==null&&(n.push(KU(s)),a=""),a.toString()});return i==r?t:i}var PB=/-+([a-z0-9])/g;function t0(t){return t.replace(PB,(...e)=>e[1].toUpperCase())}function OB(t,e){return t===0||e===0}function RB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,n0(t,a)))}}return e}function Dn(t,e,n){switch(e.type){case fe.Trigger:return t.visitTrigger(e,n);case fe.State:return t.visitState(e,n);case fe.Transition:return t.visitTransition(e,n);case fe.Sequence:return t.visitSequence(e,n);case fe.Group:return t.visitGroup(e,n);case fe.Animate:return t.visitAnimate(e,n);case fe.Keyframes:return t.visitKeyframes(e,n);case fe.Style:return t.visitStyle(e,n);case fe.Reference:return t.visitReference(e,n);case fe.AnimateChild:return t.visitAnimateChild(e,n);case fe.AnimateRef:return t.visitAnimateRef(e,n);case fe.Query:return t.visitQuery(e,n);case fe.Stagger:return t.visitStagger(e,n);default:throw QU(e.type)}}function n0(t,e){return window.getComputedStyle(t)[e]}var NB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lf=class extends rs{normalizePropertyName(e,n){return t0(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(NB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(YU(e,r))}return s+o}};var uf="*";function kB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>FB(r,n,e)):n.push(t),n}function FB(t,e,n){if(t[0]==":"){let c=VB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(cB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(JS(i,s));let a=i==uf&&s==uf;o[0]=="<"&&!a&&e.push(JS(s,i))}function VB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(lB(t)),"* => *"}}var nf=new Set(["true","1"]),rf=new Set(["false","0"]);function JS(t,e){let n=nf.has(t)||rf.has(t),r=nf.has(e)||rf.has(e);return(i,o)=>{let s=t==uf||t==i,a=e==uf||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?nf.has(t):rf.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?nf.has(e):rf.has(e)),s&&a}}var pA=":self",LB=new RegExp(`s*${pA}s*,?`,"g");function mA(t,e,n,r){return new j_(t).build(e,n,r)}var ZS="",j_=class{constructor(e){this._driver=e}build(e,n,r){let i=new U_(n);return this._resetContextStyleTimingState(i),Dn(this,dl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=ZS,e.collectedStyles=new Map,e.collectedStyles.set(ZS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(XU()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==fe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==fe.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(JU())}),{type:fe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{fA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(ZU(e.name,[...o.values()]))}return{type:fe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Dn(this,dl(e.animation),n),i=kB(e.expr,n.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:es(e.options)}}visitSequence(e,n){return{type:fe.Sequence,steps:e.steps.map(r=>Dn(this,r,n)),options:es(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Dn(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:fe.Group,steps:o,options:es(e.options)}}visitAnimate(e,n){let r=$B(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:Ee({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=Ee(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Nr?r.push(a):n.errors.push(eB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(dA)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(tB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&MB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:fe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(nB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(A=>{let H=this._makeStyleAst(A,n),q=H.offset!=null?H.offset:BB(H.styles),m=0;return q!=null&&(o++,m=H.offset=q),c=c||m<0||m>1,a=a||m<l,l=m,s.push(m),H});c&&n.errors.push(rB()),a&&n.errors.push(iB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(oB()):o==0&&(h=i/(d-1));let p=d-1,y=n.currentTime,C=n.currentAnimateTimings,S=C.duration;return u.forEach((A,H)=>{let q=h>0?H==p?1:h*H:s[H],m=q*S;n.currentTime=y+C.delay+m,C.duration=m,this._validateStyleAst(A,n),A.offset=q,r.styles.push(A)}),r}visitReference(e,n){return{type:fe.Reference,animation:Dn(this,dl(e.animation),n),options:es(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:fe.AnimateChild,options:es(e.options)}}visitAnimateRef(e,n){return{type:fe.AnimateRef,animation:this.visitReference(e.animation,n),options:es(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=jB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Sn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Dn(this,dl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:es(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(sB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:cf(e.timings,n.errors,!0);return{type:fe.Stagger,animation:Dn(this,dl(e.animation),n),timings:r,options:null}}};function jB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==pA);return e&&(t=t.replace(LB,"")),t=t.replace(/@\*/g,af).replace(/@\w+/g,n=>af+"-"+n.slice(1)).replace(/:animating/g,F_),[t,e]}function UB(t){return t?k({},t):null}var U_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function BB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function $B(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=cf(t,e).duration;return M_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=M_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=cf(n,e);return M_(i.duration,i.delay,i.easing)}function es(t){return t?(t=k({},t),t.params&&(t.params=UB(t.params))):t={},t}function M_(t,e,n){return{duration:t,delay:e,easing:n}}function r0(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var pl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},HB=1,zB=":enter",qB=new RegExp(zB,"g"),GB=":leave",WB=new RegExp(GB,"g");function gA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new B_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var B_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new pl;let d=new $_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?gi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Dn(this,r,d);let p=d.timelines.filter(y=>y.containsAnimation());if(p.length&&a.size){let y;for(let C=p.length-1;C>=0;C--){let S=p[C];if(S.element===n){y=S;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return p.length?p.map(y=>y.buildKeyframes()):[r0(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:gi(fl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?gi(r.duration):null,a=r.delay!=null?gi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Dn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=df);let s=gi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?gi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?fl(r,n.params,n.errors):r;return cf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==fe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?gi(i.delay):0;o&&(n.previousNode.type===fe.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=df);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Dn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},df={},$_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=df,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new hf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=gi(r.duration)),r.delay!=null&&(i.delay=gi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=fl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=df,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new H_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(qB,"."+this._enterClassName),e=e.replace(WB,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(aB(n)),a}},hf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=HB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Nr),this._currentKeyframe.set(n,Nr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=KB(e,this._globalTimelineStyles);for(let[a,c]of s){let l=fl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Nr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===ef?e.add(d):u===Nr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return r0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},H_=class extends hf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",eA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),p=h.get("offset"),y=n+p*r;h.set("offset",eA(y/s)),o.push(h)}r=s,n=0,i="",e=o}return r0(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function eA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function KB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Nr)}else for(let[o,s]of i)n.set(o,s)}),n}function tA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var P_={},ff=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return QB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||P_,p=a&&a.params||P_,y=this.buildStyles(r,p,d),C=c&&c.params||P_,S=this.buildStyles(i,C,d),A=new Set,H=new Map,q=new Map,m=i==="void",J={params:vA(C,h),delay:this.ast.options?.delay},P=u?[]:gA(e,n,this.ast.animation,o,s,y,S,J,l,d),Q=0;return P.forEach(de=>{Q=Math.max(de.duration+de.delay,Q)}),d.length?tA(n,this._triggerName,r,i,m,y,S,[],[],H,q,Q,d):(P.forEach(de=>{let Ce=de.element,Te=Sn(H,Ce,new Set);de.preStyleProps.forEach(Re=>Te.add(Re));let Xe=Sn(q,Ce,new Set);de.postStyleProps.forEach(Re=>Xe.add(Re)),Ce!==n&&A.add(Ce)}),tA(n,this._triggerName,r,i,m,y,S,P,[...A.values()],H,q,Q))}};function QB(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function vA(t,e){let n=k({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var z_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=vA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=fl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function YB(t,e,n){return new q_(t,e,n)}var q_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new z_(i.style,o,r))}),nA(this.states,"true","1"),nA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new ff(e,i,this.states))}),this.fallbackTransition=XB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function XB(t,e,n){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ff(t,o,e)}function nA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var JB=new pl,G_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=mA(this._driver,n,r,i);if(r.length)throw hB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=cA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=gA(this._driver,n,o,hA,k_,new Map,new Map,r,JB,i),s.forEach(u=>{let d=Sn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(fB()),s=[]),i.length)throw pB(i);a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Nr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=eo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw mB(e);return n}listen(e,n,r,i){let o=J_(n,"","","");return X_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},rA="ng-animate-queued",ZB=".ng-animate-queued",O_="ng-animate-disabled",e$=".ng-animate-disabled",t$="ng-star-inserted",n$=".ng-star-inserted",r$=[],yA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},i$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed",ml=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=s$(i),r){let o=e,{value:s}=o,a=cp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},hl="void",R_=new ml(hl),W_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ln(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw gB(r,n);if(r==null||r.length==0)throw vB(n);if(!a$(r))throw yB(r,n);let o=Sn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Sn(this._engine.statesByElement,e,new Map);return a.has(n)||(Ln(e,tf),Ln(e,tf+"-"+n),a.set(n,R_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw _B(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new gl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ln(e,tf),Ln(e,tf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new ml(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=R_),!(l.value===hl)&&c.value===l.value){if(!u$(c.params,l.params)){let C=[],S=o.matchStyles(c.value,c.params,C),A=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{ts(e,S),Fr(e,A)})}return}let h=Sn(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let p=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!p){if(!i)return;p=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:p,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(Ln(e,rA),s.onStart(()=>{ga(e,rA)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);let S=this._engine.playersByElement.get(e);if(S){let A=S.indexOf(s);A>=0&&S.splice(A,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,af,!0);r.forEach(i=>{if(i[or])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,hl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||R_,u=new ml(hl),d=new gl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[or];(!o||o===yA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ln(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=J_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,X_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},K_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new W_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(of(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!of(n))return;let o=n[or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ln(e,O_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ga(e,O_))}removeNode(e,n,r){if(of(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[or]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return of(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,af,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,F_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[or];if(n&&n.setForRemoval){if(e[or]=yA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(O_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,e$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ln(i,t$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?eo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw wB(e)}_flushAnimations(e,n){let r=new pl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let $=this.driver.query(V,ZB,!0);for(let z=0;z<$.length;z++)u.add($[z])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=sA(h,this.collectedEnterElements),y=new Map,C=0;p.forEach((V,$)=>{let z=hA+C++;y.set($,z),V.forEach(ue=>Ln(ue,z))});let S=[],A=new Set,H=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let $=this.collectedLeaveElements[V],z=$[or];z&&z.setForRemoval&&(S.push($),A.add($),z.hasAnimation?this.driver.query($,n$,!0).forEach(ue=>A.add(ue)):H.add($))}let q=new Map,m=sA(h,Array.from(A));m.forEach((V,$)=>{let z=k_+C++;q.set($,z),V.forEach(ue=>Ln(ue,z))}),e.push(()=>{p.forEach((V,$)=>{let z=y.get($);V.forEach(ue=>ga(ue,z))}),m.forEach((V,$)=>{let z=q.get($);V.forEach(ue=>ga(ue,z))}),S.forEach(V=>{this.processLeaveNode(V)})});let J=[],P=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach(z=>{let ue=z.player,ke=z.element;if(J.push(ue),this.collectedEnterElements.length){let Qe=ke[or];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(z.triggerName)){let Nt=Qe.previousTriggersValues.get(z.triggerName),mt=this.statesByElement.get(z.element);if(mt&&mt.has(z.triggerName)){let _n=mt.get(z.triggerName);_n.value=Nt,mt.set(z.triggerName,_n)}}ue.destroy();return}}let wt=!d||!this.driver.containsElement(d,ke),Ge=q.get(ke),Kt=y.get(ke),De=this._buildInstruction(z,r,Kt,Ge,wt);if(De.errors&&De.errors.length){P.push(De);return}if(wt){ue.onStart(()=>ts(ke,De.fromStyles)),ue.onDestroy(()=>Fr(ke,De.toStyles)),i.push(ue);return}if(z.isFallbackTransition){ue.onStart(()=>ts(ke,De.fromStyles)),ue.onDestroy(()=>Fr(ke,De.toStyles)),i.push(ue);return}let ln=[];De.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||ln.push(Qe)}),De.timelines=ln,r.append(ke,De.timelines);let zn={instruction:De,player:ue,element:ke};s.push(zn),De.queriedElements.forEach(Qe=>Sn(a,Qe,[]).push(ue)),De.preStyleProps.forEach((Qe,Nt)=>{if(Qe.size){let mt=c.get(Nt);mt||c.set(Nt,mt=new Set),Qe.forEach((_n,dr)=>mt.add(dr))}}),De.postStyleProps.forEach((Qe,Nt)=>{let mt=l.get(Nt);mt||l.set(Nt,mt=new Set),Qe.forEach((_n,dr)=>mt.add(dr))})});if(P.length){let V=[];P.forEach($=>{V.push(EB($.triggerName,$.errors))}),J.forEach($=>$.destroy()),this.reportError(V)}let Q=new Map,de=new Map;s.forEach(V=>{let $=V.element;r.has($)&&(de.set($,$),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Q))}),i.forEach(V=>{let $=V.element;this._getPreviousPlayers($,!1,V.namespaceId,V.triggerName,null).forEach(ue=>{Sn(Q,$,[]).push(ue),ue.destroy()})});let Ce=S.filter(V=>aA(V,c,l)),Te=new Map;oA(Te,this.driver,H,l,Nr).forEach(V=>{aA(V,c,l)&&Ce.push(V)});let Re=new Map;p.forEach((V,$)=>{oA(Re,this.driver,new Set(V),c,ef)}),Ce.forEach(V=>{let $=Te.get(V),z=Re.get(V);Te.set(V,new Map([...$?.entries()??[],...z?.entries()??[]]))});let Le=[],Gt=[],Wt={};s.forEach(V=>{let{element:$,player:z,instruction:ue}=V;if(r.has($)){if(u.has($)){z.onDestroy(()=>Fr($,ue.toStyles)),z.disabled=!0,z.overrideTotalTime(ue.totalTime),i.push(z);return}let ke=Wt;if(de.size>1){let Ge=$,Kt=[];for(;Ge=Ge.parentNode;){let De=de.get(Ge);if(De){ke=De;break}Kt.push(Ge)}Kt.forEach(De=>de.set(De,ke))}let wt=this._buildAnimation(z.namespaceId,ue,Q,o,Re,Te);if(z.setRealPlayer(wt),ke===Wt)Le.push(z);else{let Ge=this.playersByElement.get(ke);Ge&&Ge.length&&(z.parentPlayer=eo(Ge)),i.push(z)}}else ts($,ue.fromStyles),z.onDestroy(()=>Fr($,ue.toStyles)),Gt.push(z),u.has($)&&i.push(z)}),Gt.forEach(V=>{let $=o.get(V.element);if($&&$.length){let z=eo($);V.setRealPlayer(z)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<S.length;V++){let $=S[V],z=$[or];if(ga($,k_),z&&z.hasAnimation)continue;let ue=[];if(a.size){let wt=a.get($);wt&&wt.length&&ue.push(...wt);let Ge=this.driver.query($,F_,!0);for(let Kt=0;Kt<Ge.length;Kt++){let De=a.get(Ge[Kt]);De&&De.length&&ue.push(...De)}}let ke=ue.filter(wt=>!wt.destroyed);ke.length?c$(this,$,ke):this.processLeaveNode($)}return S.length=0,Le.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let $=this.players.indexOf(V);this.players.splice($,1)}),V.play()}),Le}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==hl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=Sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(p=>{let y=p.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),p.destroy(),d.push(p)})}ts(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(y=>{let C=y.element;u.add(C);let S=C[or];if(S&&S.removedBeforeQueried)return new Zi(y.duration,y.delay);let A=C!==c,H=l$((r.get(C)||r$).map(Q=>Q.getRealPlayer())).filter(Q=>{let de=Q;return de.element?de.element===C:!1}),q=o.get(C),m=s.get(C),J=cA(this._normalizer,y.keyframes,q,m),P=this._buildPlayer(y,J,H);if(y.subTimeline&&i&&d.add(C),A){let Q=new gl(e,a,C);Q.setRealPlayer(P),l.push(Q)}return P});l.forEach(y=>{Sn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>o$(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Ln(y,XS));let p=eo(h);return p.onDestroy(()=>{u.forEach(y=>ga(y,XS)),Fr(c,n.toStyles)}),d.forEach(y=>{Sn(i,y,[]).push(p)}),p}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Zi(e.duration,e.delay)}},gl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>X_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Sn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function o$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function s$(t){return t??null}function of(t){return t&&t.nodeType===1}function a$(t){return t=="start"||t=="done"}function iA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function oA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(iA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[or]=i$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>iA(c,o[a++])),s}function sA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Ln(t,e){t.classList?.add(e)}function ga(t,e){t.classList?.remove(e)}function c$(t,e,n){eo(n).onDone(()=>t.processLeaveNode(e))}function l$(t){let e=[];return _A(t,e),e}function _A(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ul?_A(r.players,e):e.push(r)}}function u$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function aA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var ya=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new K_(e.body,n,r,i),this._timelineEngine=new G_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=mA(this._driver,o,c,l);if(c.length)throw uB(i,c);l.length&&void 0,a=YB(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=QS(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=QS(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function d$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=N_(e[0]),e.length>1&&(r=N_(e[e.length-1]))):e instanceof Map&&(n=N_(e)),n||r?new Q_(t,n,r):null}var va=class va{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=va.initialStylesByElement.get(e);i||va.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Fr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fr(this._element,this._initialStyles),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(va.initialStylesByElement.delete(this._element),this._startStyles&&(ts(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ts(this._element,this._endStyles),this._endStyles=null),Fr(this._element,this._initialStyles),this._state=3)}};va.initialStylesByElement=new WeakMap;var Q_=va;function N_(t){let e=null;return t.forEach((n,r)=>{h$(r)&&(e=e||new Map,e.set(r,n))}),e}function h$(t){return t==="display"||t==="position"}var pf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:n0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},mf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return lA(e,n)}getParentElement(e){return Z_(e)}query(e,n,r){return uA(e,n,r)}computeStyle(e,n,r){return n0(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(p=>p instanceof pf);OB(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((y,C)=>l.set(C,y))});let d=xB(n).map(p=>new Map(p));d=RB(e,d,l);let h=d$(e,d);return new pf(e,d,c,h)}};var sf="@",wA="@.disabled",gf=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==sf&&n==wA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Y_=class extends gf{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==sf?n.charAt(1)=="."&&n==wA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==sf){let i=f$(e),o=n.slice(1),s="";return o.charAt(0)!=sf&&([o,s]=p$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function f$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function p$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var vf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new gf(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new Y_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var g$=(()=>{let e=class e extends ya{constructor(r,i,o){super(r,i,o,R(oc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(j(Ut),j(ns),j(rs))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function v$(){return new lf}function y$(t,e,n){return new vf(t,e,n)}var EA=[{provide:rs,useFactory:v$},{provide:ya,useClass:g$},{provide:Ao,useFactory:y$,deps:[Jh,ya,Ie]}],_$=[{provide:ns,useFactory:()=>new mf},{provide:fg,useValue:"BrowserAnimations"},...EA],uZ=[{provide:ns,useClass:e0},{provide:fg,useValue:"NoopAnimations"},...EA];function CA(){return Ro("NgEagerAnimations"),[..._$]}var pe="primary",Pl=Symbol("RouteTitle"),l0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ia(t){return new l0(t)}function E$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function C$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}function Vr(t,e){let n=t?u0(t):void 0,r=e?u0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!AA(t[i],e[i]))return!1;return!0}function u0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function xA(t){return t.length>0?t[t.length-1]:null}function io(t){return Ap(t)?t:Fo(t)?je(Promise.resolve(t)):ce(t)}var I$={exact:PA,subset:OA},MA={exact:b$,subset:T$,ignored:()=>!0};function IA(t,e,n){return I$[n.paths](t.root,e.root,n.matrixParams)&&MA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function b$(t,e){return Vr(t,e)}function PA(t,e,n){if(!os(t.segments,e.segments)||!wf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!PA(t.children[r],e.children[r],n))return!1;return!0}function T$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AA(t[n],e[n]))}function OA(t,e,n){return RA(t,e,e.segments,n)}function RA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!os(i,n)||e.hasChildren()||!wf(i,n,r))}else if(t.segments.length===n.length){if(!os(t.segments,n)||!wf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!OA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!os(t.segments,i)||!wf(t.segments,i,r)||!t.children[pe]?!1:RA(t.children[pe],e,o,r)}}function wf(t,e,n){return e.every((r,i)=>MA[n](t[i].parameters,r.parameters))}var to=class{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ia(this.queryParams),this._queryParamMap}toString(){return A$.serialize(this)}},Ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ef(this)}},is=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ia(this.parameters),this._parameterMap}toString(){return kA(this)}};function D$(t,e){return os(t,e)&&t.every((n,r)=>Vr(n.parameters,e[r].parameters))}function os(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function S$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var F0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new If,providedIn:"root"});let t=e;return t})(),If=class{parse(e){let n=new h0(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${vl(e.root,!0)}`,r=P$(e.queryParams),i=typeof e.fragment=="string"?`#${x$(e.fragment)}`:"";return`${n}${r}${i}`}},A$=new If;function Ef(t){return t.segments.map(e=>kA(e)).join("/")}function vl(t,e){if(!t.hasChildren())return Ef(t);if(e){let n=t.children[pe]?vl(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${vl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=S$(t,(r,i)=>i===pe?[vl(t.children[pe],!1)]:[`${i}:${vl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${Ef(t)}/${n[0]}`:`${Ef(t)}/(${n.join("//")})`}}function NA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(t){return NA(t).replace(/%3B/gi,";")}function x$(t){return encodeURI(t)}function d0(t){return NA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(t){return decodeURIComponent(t)}function bA(t){return Cf(t.replace(/\+/g,"%20"))}function kA(t){return`${d0(t.path)}${M$(t.parameters)}`}function M$(t){return Object.entries(t).map(([e,n])=>`;${d0(e)}=${d0(n)}`).join("")}function P$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${yf(n)}=${yf(i)}`).join("&"):`${yf(n)}=${yf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var O$=/^[^\/()?;#]+/;function o0(t){let e=t.match(O$);return e?e[0]:""}var R$=/^[^\/()?;=#]+/;function N$(t){let e=t.match(R$);return e?e[0]:""}var k$=/^[^=?&#]+/;function F$(t){let e=t.match(k$);return e?e[0]:""}var V$=/^[^&#]+/;function L$(t){let e=t.match(V$);return e?e[0]:""}var h0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new Ne(e,n)),r}parseSegment(){let e=o0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new is(Cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=N$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=o0(this.remaining);i&&(r=i,this.capture(r))}e[Cf(n)]=Cf(r)}parseQueryParam(e){let n=F$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=L$(this.remaining);s&&(r=s,this.capture(r))}let i=bA(n),o=bA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=o0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new Ne([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function FA(t){return t.segments.length>0?new Ne([],{[pe]:t}):t}function VA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=VA(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ne(t.segments,e);return j$(n)}function j$(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Ne(t.segments.concat(e.segments),e.children)}return t}function ba(t){return t instanceof to}function U$(t,e,n=null,r=null){let i=LA(t);return jA(i,e,n,r)}function LA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ne(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=FA(r);return e??i}function jA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return s0(i,i,i,n,r);let o=B$(e);if(o.toRoot())return s0(i,i,new Ne([],{}),n,r);let s=$$(o,i,t),a=s.processChildren?wl(s.segmentGroup,s.index,o.commands):BA(s.segmentGroup,s.index,o.commands);return s0(i,s.segmentGroup,a,n,r)}function bf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Il(t){return typeof t=="object"&&t!=null&&t.outlets}function s0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=UA(t,e,n);let a=FA(VA(s));return new to(a,o,i)}function UA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=UA(o,e,n)}),new Ne(t.segments,r)}var Tf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bf(r[0]))throw new O(4003,!1);let i=r.find(Il);if(i&&i!==xA(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function B$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Tf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Tf(n,e,r)}var Ea=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $$(t,e,n){if(t.isAbsolute)return new Ea(e,!0,0);if(!n)return new Ea(e,!1,NaN);if(n.parent===null)return new Ea(n,!0,0);let r=bf(t.commands[0])?0:1,i=n.segments.length-1+r;return H$(n,i,t.numberOfDoubleDots)}function H$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Ea(r,!1,i-o)}function z$(t){return Il(t[0])?t[0].outlets:{[pe]:t}}function BA(t,e,n){if(t??=new Ne([],{}),t.segments.length===0&&t.hasChildren())return wl(t,e,n);let r=q$(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ne(t.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ne(t.segments.slice(r.pathIndex),t.children),wl(o,0,i)}else return r.match&&i.length===0?new Ne(t.segments,{}):r.match&&!t.hasChildren()?f0(t,e,n):r.match?wl(t,0,i):f0(t,e,n)}function wl(t,e,n){if(n.length===0)return new Ne(t.segments,{});{let r=z$(n),i={};if(Object.keys(r).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=wl(t.children[pe],e,n);return new Ne(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(t.segments,i)}}function q$(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Il(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!DA(c,l,s))return o;r+=2}else{if(!DA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function f0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Il(o)){let c=G$(o.outlets);return new Ne(r,c)}if(i===0&&bf(n[0])){let c=t.segments[e];r.push(new is(c.path,TA(n[0]))),i++;continue}let s=Il(o)?o.outlets[pe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bf(a)?(r.push(new is(s,TA(a))),i+=2):(r.push(new is(s,{})),i++)}return new Ne(r,{})}function G$(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=f0(new Ne([],{}),0,r))}),e}function TA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function DA(t,e,n){return t==n.path&&Vr(e,n.parameters)}var El="imperative",zt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(zt||{}),Un=class{constructor(e,n){this.id=e,this.url=n}},bl=class extends Un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=zt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ss=class extends Un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jn||{}),p0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(p0||{}),no=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},as=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=zt.NavigationSkipped}},Tl=class extends Un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Df=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m0=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g0=class extends Un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},v0=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y0=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_0=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},w0=class{constructor(e){this.route=e,this.type=zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},E0=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C0=class{constructor(e){this.snapshot=e,this.type=zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I0=class{constructor(e){this.snapshot=e,this.type=zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},b0=class{constructor(e){this.snapshot=e,this.type=zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Dl=class{},Sl=class{constructor(e){this.url=e}};var T0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Of,this.attachRef=null}},Of=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new T0,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=D0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=D0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=S0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return S0(e,this._root).map(n=>n.value)}};function D0(t,e){if(t===e.value)return e;for(let n of e.children){let r=D0(t,n);if(r)return r}return null}function S0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=S0(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Af=class extends Sf{constructor(e,n){super(e),this.snapshot=n,L0(this,e)}toString(){return this.snapshot.toString()}};function $A(t){let e=W$(t),n=new Ft([new is("",{})]),r=new Ft({}),i=new Ft({}),o=new Ft({}),s=new Ft(""),a=new ro(n,r,o,s,i,pe,t,e.root);return a.snapshot=e.root,new Af(new An(a,[]),e)}function W$(t){let e={},n={},r={},i="",o=new Al([],e,r,i,n,pe,t,null,{});return new xf("",new An(o,[]))}var ro=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Pl]))??ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ia(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ia(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function V0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&zA(i)&&(r.resolve[Pl]=i.title),r}var Al=class{get title(){return this.data?.[Pl]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ia(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ia(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},xf=class extends Sf{constructor(e,n){super(n),this.url=e,L0(this,n)}toString(){return HA(this._root)}};function L0(t,e){e.value._routerState=t,e.children.forEach(n=>L0(t,n))}function HA(t){let e=t.children.length>0?` { ${t.children.map(HA).join(", ")} } `:"";return`${t.value}${e}`}function a0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vr(e.params,n.params)||t.paramsSubject.next(n.params),C$(e.url,n.url)||t.urlSubject.next(n.url),Vr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function A0(t,e){let n=Vr(t.params,e.params)&&D$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||A0(t.parent,e.parent))}function zA(t){return typeof t.title=="string"||t.title===null}var j0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=R(Of),this.location=R(Lt),this.changeDetector=R(Dr),this.environmentInjector=R(It),this.inputBinder=R(U0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new x0(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]});let t=e;return t})(),x0=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ro?this.route:e===Of?this.childContexts:this.parent.get(e,n)}},U0=new K("");function K$(t,e,n){let r=xl(t,e._root,n?n._root:void 0);return new Af(r,e)}function xl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Q$(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xl(t,a)),s}}let r=Y$(e.value),i=e.children.map(o=>xl(t,o));return new An(r,i)}}function Q$(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xl(t,r,i);return xl(t,r)})}function Y$(t){return new ro(new Ft(t.url),new Ft(t.params),new Ft(t.queryParams),new Ft(t.fragment),new Ft(t.data),t.outlet,t.component,t)}var qA="ngNavigationCancelingError";function GA(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ba(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WA(!1,jn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[qA]=!0,n.cancellationCode=e,n}function X$(t){return KA(t)&&ba(t.url)}function KA(t){return!!t&&t[qA]}var J$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["ng-component"]],standalone:!0,features:[X],decls:1,vars:0,template:function(i,o){i&1&&B(0,"router-outlet")},dependencies:[j0],encapsulation:2});let t=e;return t})();function Z$(t,e){return t.providers&&!t._injector&&(t._injector=Ng(t.providers,e,`Route: ${t.path}`)),t._injector??e}function B0(t){let e=t.children&&t.children.map(B0),n=e?Ae(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=J$),n}function Lr(t){return t.outlet||pe}function e4(t,e){let n=t.filter(r=>Lr(r)===e);return n.push(...t.filter(r=>Lr(r)!==e)),n}function Ol(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var t4=(t,e,n,r)=>ie(i=>(new M0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),M0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),a0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new b0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new C0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(a0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),a0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ol(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Mf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ca=class{constructor(e,n){this.component=e,this.route=n}};function n4(t,e,n){let r=t._root,i=e?e._root:null;return yl(r,i,n,[r.value])}function r4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Da(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!RC(t)?t:e.get(t):r}function yl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wa(e);return t.children.forEach(s=>{i4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cl(a,n.getContext(s),i)),i}function i4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=o4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Mf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yl(t,e,a?a.children:null,r,i):yl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ca(a.outlet.component,s))}else s&&Cl(e,a,i),i.canActivateChecks.push(new Mf(r)),o.component?yl(t,null,a?a.children:null,r,i):yl(t,null,n,r,i);return i}function o4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A0(t,e)||!Vr(t.queryParams,e.queryParams);case"paramsChange":default:return!A0(t,e)}}function Cl(t,e,n){let r=wa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cl(s,e.children.getContext(o),n):Cl(s,null,n):Cl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ca(e.outlet.component,i)):n.canDeactivateChecks.push(new Ca(null,i)):n.canDeactivateChecks.push(new Ca(null,i))}function Rl(t){return typeof t=="function"}function s4(t){return typeof t=="boolean"}function a4(t){return t&&Rl(t.canLoad)}function c4(t){return t&&Rl(t.canActivate)}function l4(t){return t&&Rl(t.canActivateChild)}function u4(t){return t&&Rl(t.canDeactivate)}function d4(t){return t&&Rl(t.canMatch)}function QA(t){return t instanceof En||t?.name==="EmptyError"}var _f=Symbol("INITIAL_VALUE");function Ta(){return Ct(t=>Nu(t.map(e=>e.pipe(Gr(1),Np(_f)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===_f)return _f;if(n===!1||n instanceof to)return n}return!0}),Qt(e=>e!==_f),Gr(1)))}function h4(t,e){return st(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Ae(k({},n),{guardsResult:!0})):f4(s,r,i,t).pipe(st(a=>a&&s4(a)?p4(r,o,t,e):ce(a)),ie(a=>Ae(k({},n),{guardsResult:a})))})}function f4(t,e,n,r){return je(t).pipe(st(i=>_4(i.component,i.route,n,e,r)),fr(i=>i!==!0,!0))}function p4(t,e,n,r){return je(e).pipe(Ai(i=>Ns(g4(i.route.parent,r),m4(i.route,r),y4(t,i.path,n),v4(t,i.route,n))),fr(i=>i!==!0,!0))}function m4(t,e){return t!==null&&e&&e(new I0(t)),ce(!0)}function g4(t,e){return t!==null&&e&&e(new E0(t)),ce(!0)}function v4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>ku(()=>{let s=Ol(e)??n,a=Da(o,s),c=c4(a)?a.canActivate(e,t):ti(s,()=>a(e,t));return io(c).pipe(fr())}));return ce(i).pipe(Ta())}function y4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>r4(s)).filter(s=>s!==null).map(s=>ku(()=>{let a=s.guards.map(c=>{let l=Ol(s.node)??n,u=Da(c,l),d=l4(u)?u.canActivateChild(r,t):ti(l,()=>u(r,t));return io(d).pipe(fr())});return ce(a).pipe(Ta())}));return ce(o).pipe(Ta())}function _4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let c=Ol(e)??i,l=Da(a,c),u=u4(l)?l.canDeactivate(t,e,n,r):ti(c,()=>l(t,e,n,r));return io(u).pipe(fr())});return ce(s).pipe(Ta())}function w4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=Da(s,t),c=a4(a)?a.canLoad(e,n):ti(t,()=>a(e,n));return io(c)});return ce(o).pipe(Ta(),YA(r))}function YA(t){return _p(at(e=>{if(ba(e))throw GA(t,e)}),ie(e=>e===!0))}function E4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=Da(s,t),c=d4(a)?a.canMatch(e,n):ti(t,()=>a(e,n));return io(c)});return ce(o).pipe(Ta(),YA(r))}var Ml=class{constructor(e){this.segmentGroup=e||null}},Pf=class extends Error{constructor(e){super(),this.urlTree=e}};function _a(t){return Si(new Ml(t))}function C4(t){return Si(new O(4e3,!1))}function I4(t){return Si(WA(!1,jn.GuardRejected))}var P0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[pe])return C4(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Pf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new to(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},O0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b4(t,e,n,r,i){let o=$0(t,e,n);return o.matched?(r=Z$(e,r),E4(r,e,n,i).pipe(ie(s=>s===!0?o:k({},O0)))):ce(o)}function $0(t,e,n){if(e.path==="**")return T4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},O0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||E$)(n,t,e);if(!i)return k({},O0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function T4(t){return{matched:!0,parameters:t.length>0?xA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SA(t,e,n,r){return n.length>0&&A4(t,n,r)?{segmentGroup:new Ne(e,S4(r,new Ne(n,t.children))),slicedSegments:[]}:n.length===0&&x4(t,n,r)?{segmentGroup:new Ne(t.segments,D4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function D4(t,e,n,r){let i={};for(let o of n)if(Rf(t,e,o)&&!r[Lr(o)]){let s=new Ne([],{});i[Lr(o)]=s}return k(k({},r),i)}function S4(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&Lr(r)!==pe){let i=new Ne([],{});n[Lr(r)]=i}return n}function A4(t,e,n){return n.some(r=>Rf(t,e,r)&&Lr(r)!==pe)}function x4(t,e,n){return n.some(r=>Rf(t,e,r))}function Rf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function M4(t,e,n,r){return Lr(t)!==r&&(r===pe||!Rf(e,n,t))?!1:$0(e,t,n).matched}function P4(t,e,n){return e.length===0&&!t.children[n]}var R0=class{};function O4(t,e,n,r,i,o,s="emptyOnly"){return new N0(t,e,n,r,i,s,o).recognize()}var R4=31,N0=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new P0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=SA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Al([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),i=new An(r,n),o=new xf("",i),s=U$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(Gn(r=>{if(r instanceof Pf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ml?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=V0(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof An?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return je(i).pipe(Ai(o=>{let s=r.children[o],a=e4(n,o);return this.processSegmentGroup(e,a,s,o)}),Rp((o,s)=>(o.push(...s),o)),xi(null),Op(),st(o=>{if(o===null)return _a(r);let s=XA(o);return N4(s),ce(s)}))}processSegment(e,n,r,i,o,s){return je(n).pipe(Ai(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Gn(c=>{if(c instanceof Ml)return ce(null);throw c}))),fr(a=>!!a),Gn(a=>{if(QA(a))return P4(r,i,o)?ce(new R0):_a(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return M4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):_a(i):_a(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=$0(n,i,o);if(!a)return _a(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>R4&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(st(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=b4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ct(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,p=new Al(u,h,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,F4(r),Lr(r),r.component??r._loadedComponent??null,r,V4(r)),{segmentGroup:y,slicedSegments:C}=SA(n,u,d,c);if(C.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(ie(A=>A===null?null:new An(p,A)));if(c.length===0&&C.length===0)return ce(new An(p,[]));let S=Lr(r)===o;return this.processSegment(l,c,y,C,S?pe:o,!0).pipe(ie(A=>new An(p,A instanceof An?[A]:[])))}))):_a(n)))}getChildConfig(e,n,r){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):w4(e,n,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,n).pipe(at(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):I4(n))):ce({routes:[],injector:e})}};function N4(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function k4(t){let e=t.value.routeConfig;return e&&e.path===""}function XA(t){let e=[],n=new Set;for(let r of t){if(!k4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XA(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function F4(t){return t.data||{}}function V4(t){return t.resolve||{}}function L4(t,e,n,r,i,o){return st(s=>O4(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Ae(k({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function j4(t,e){return st(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ce(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of JA(c))s.add(l);let a=0;return je(s).pipe(Ai(c=>o.has(c)?U4(c,r,t,e):(c.data=V0(c,c.parent,t).resolve,ce(void 0))),at(()=>a++),Fs(1),st(c=>a===s.size?ce(n):un))})}function JA(t){let e=t.children.map(n=>JA(n)).flat();return[t,...e]}function U4(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!zA(i)&&(o[Pl]=i.title),B4(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=V0(t,t.parent,n).resolve,null)))}function B4(t,e,n,r){let i=u0(t);if(i.length===0)return ce({});let o={};return je(i).pipe(st(s=>$4(t[s],e,n,r).pipe(fr(),at(a=>{o[s]=a}))),Fs(1),Pp(o),Gn(s=>QA(s)?un:Si(s)))}function $4(t,e,n,r){let i=Ol(e)??r,o=Da(t,i),s=o.resolve?o.resolve(e,n):ti(i,()=>o(e,n));return io(s)}function c0(t){return Ct(e=>{let n=t(e);return n?je(n).pipe(ie(()=>e)):ce(e)})}var ZA=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===pe);return i}getResolvedTitleForRoute(r){return r.data[Pl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(H4),providedIn:"root"});let t=e;return t})(),H4=(()=>{let e=class e extends ZA{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(j(zS))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nf=new K("",{providedIn:"root",factory:()=>({})}),H0=new K(""),z4=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Ug)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(r.loadComponent()).pipe(ie(ex),at(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),yo(()=>{this.componentLoaders.delete(r)})),o=new Ss(i,()=>new kt).pipe(Ds());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=q4(i,this.compiler,r,this.onLoadEndListener).pipe(yo(()=>{this.childrenLoaders.delete(i)})),a=new Ss(s,()=>new kt).pipe(Ds());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q4(t,e,n,r){return io(t.loadChildren()).pipe(ie(ex),st(i=>i instanceof sc||Array.isArray(i)?ce(i):je(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(H0,[],{optional:!0,self:!0}).flat()),{routes:s.map(B0),injector:o}}))}function G4(t){return t&&typeof t=="object"&&"default"in t}function ex(t){return G4(t)?t.default:t}var z0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(W4),providedIn:"root"});let t=e;return t})(),W4=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K4=new K("");var Q4=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kt,this.transitionAbortSubject=new kt,this.configLoader=R(z4),this.environmentInjector=R(It),this.urlSerializer=R(F0),this.rootContexts=R(Of),this.location=R(gc),this.inputBindingEnabled=R(U0,{optional:!0})!==null,this.titleStrategy=R(ZA),this.options=R(Nf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(z0),this.createViewTransition=R(K4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let r=o=>this.events.next(new _0(o)),i=o=>this.events.next(new w0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ft({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:El,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(s=>s.id!==0),ie(s=>Ae(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ct(s=>{this.currentTransition=s;let a=!1,c=!1;return ce(s).pipe(at(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ct(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new as(l.id,this.urlSerializer.serialize(l.rawUrl),h,p0.IgnoredSameUrlNavigation)),l.resolve(null),un}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(Ct(h=>{let p=this.transitions?.getValue();return this.events.next(new bl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?un:Promise.resolve(h)}),L4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),at(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ae(k({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Df(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:C,extras:S}=l,A=new bl(h,this.urlSerializer.serialize(p),y,C);this.events.next(A);let H=$A(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(k({},l),{targetSnapshot:H,urlAfterRedirects:p,extras:Ae(k({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ce(s)}else{let h="";return this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),h,p0.IgnoredByUrlHandlingStrategy)),l.resolve(null),un}}),at(l=>{let u=new m0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Ae(k({},l),{guards:n4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),h4(this.environmentInjector,l=>this.events.next(l)),at(l=>{if(s.guardsResult=l.guardsResult,ba(l.guardsResult))throw GA(this.urlSerializer,l.guardsResult);let u=new g0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Qt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jn.GuardRejected),!1)),c0(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(at(u=>{let d=new v0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ct(u=>{let d=!1;return ce(u).pipe(j4(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",jn.NoDataFromResolver)}}))}),at(u=>{let d=new y0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),c0(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(at(p=>{d.component=p}),ie(()=>{})));for(let p of d.children)h.push(...u(p));return h};return Nu(u(l.targetSnapshot.root)).pipe(xi(null),Gr(1))}),c0(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?je(d).pipe(ie(()=>s)):ce(s)}),ie(l=>{let u=K$(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(k({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),at(()=>{this.events.next(new Dl)}),t4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gr(1),at({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ss(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wn(this.transitionAbortSubject.pipe(at(l=>{throw l}))),yo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",jn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(l=>{if(c=!0,KA(l))this.events.next(new no(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),X$(l)?this.events.next(new Sl(l.url)):s.resolve(!1);else{this.events.next(new Tl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return un}))}))}cancelNavigationTransition(r,i,o){let s=new no(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y4(t){return t!==El}var X4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(J4),providedIn:"root"});let t=e;return t})(),k0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},J4=(()=>{let e=class e extends k0{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>R(Z4),providedIn:"root"});let t=e;return t})(),Z4=(()=>{let e=class e extends tx{constructor(){super(...arguments),this.location=R(gc),this.urlSerializer=R(F0),this.options=R(Nf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(z0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$A(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof bl)this.stateMemento=this.createStateMemento();else if(r instanceof as)this.rawUrlTree=i.initialUrl;else if(r instanceof Df){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Dl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof no&&(r.code===jn.GuardRejected||r.code===jn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Tl?this.restoreHistory(i,!0):r instanceof ss&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_l=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_l||{});function eH(t,e){t.events.pipe(Qt(n=>n instanceof ss||n instanceof no||n instanceof Tl||n instanceof as),ie(n=>n instanceof ss||n instanceof as?_l.COMPLETE:(n instanceof no?n.code===jn.Redirect||n.code===jn.SupersededByNewNavigation:!1)?_l.REDIRECTING:_l.FAILED),Qt(n=>n!==_l.REDIRECTING),Gr(1)).subscribe(()=>{e()})}function tH(t){throw t}var nH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(kd),this.stateManager=R(tx),this.options=R(Nf,{optional:!0})||{},this.pendingTasks=R(No),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(Q4),this.urlSerializer=R(F0),this.location=R(gc),this.urlHandlingStrategy=R(z0),this._events=new kt,this.errorHandler=this.options.errorHandler||tH,this.navigated=!1,this.routeReuseStrategy=R(X4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(H0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(U0,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=R(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof no&&i.code!==jn.Redirect&&i.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ss)this.navigated=!0;else if(i instanceof Sl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Y4(o.source)};this.scheduleNavigation(a,El,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}oH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),El,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=k({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(B0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=LA(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return jA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ba(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,El,null,i)}navigate(r,i={skipLocationChange:!1}){return iH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=k({},nH):i===!1?o=k({},rH):o=i,ba(r))return IA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return IA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,p)=>{c=h,l=p});let d=this.pendingTasks.add();return eH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function oH(t){return!(t instanceof Dl)&&!(t instanceof Sl)}var sH=new K("");function nx(t,...e){return Vi([{provide:H0,multi:!0,useValue:t},[],{provide:ro,useFactory:aH,deps:[vn]},{provide:Fd,multi:!0,useFactory:lH},e.map(n=>n.\u0275providers)])}function aH(t){return t.routerState.root}function cH(t,e){return{\u0275kind:t,\u0275providers:e}}function lH(){let t=R(Ze);return e=>{let n=t.get(Tr);if(e!==n.components[0])return;let r=t.get(vn),i=t.get(uH);t.get(dH)===1&&r.initialNavigation(),t.get(hH,null,_e.Optional)?.setUpPreloading(),t.get(sH,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var uH=new K("",{factory:()=>new kt}),dH=new K("",{providedIn:"root",factory:()=>1});var hH=new K("");function rx(t){return cH(5,[{provide:Nf,useValue:t}])}var nt="top",yt="bottom",ht="right",dt="left",kf="auto",oo=[nt,yt,ht,dt],vi="start",cs="end",ix="clippingParents",Ff="viewport",Sa="popper",ox="reference",G0=oo.reduce(function(t,e){return t.concat([e+"-"+vi,e+"-"+cs])},[]),Vf=[].concat(oo,[kf]).reduce(function(t,e){return t.concat([e,e+"-"+vi,e+"-"+cs])},[]),fH="beforeRead",pH="read",mH="afterRead",gH="beforeMain",vH="main",yH="afterMain",_H="beforeWrite",wH="write",EH="afterWrite",sx=[fH,pH,mH,gH,vH,yH,_H,wH,EH];function Pt(t){return t?(t.nodeName||"").toLowerCase():null}function Ke(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Bn(t){var e=Ke(t).Element;return t instanceof e||t instanceof Element}function _t(t){var e=Ke(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Aa(t){if(typeof ShadowRoot>"u")return!1;var e=Ke(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function CH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!_t(o)||!Pt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function IH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!_t(i)||!Pt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Nl={name:"applyStyles",enabled:!0,phase:"write",fn:CH,effect:IH,requires:["computeStyles"]};function Ot(t){return t.split("-")[0]}var sr=Math.max,ls=Math.min,yi=Math.round;function xa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kl(){return!/^((?!chrome|android).)*safari/i.test(xa())}function $n(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&_t(t)&&(i=t.offsetWidth>0&&yi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&yi(r.height)/t.offsetHeight||1);var s=Bn(t)?Ke(t):window,a=s.visualViewport,c=!kl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function us(t){var e=$n(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Fl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Aa(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cn(t){return Ke(t).getComputedStyle(t)}function W0(t){return["table","td","th"].indexOf(Pt(t))>=0}function qt(t){return((Bn(t)?t.ownerDocument:t.document)||window.document).documentElement}function _i(t){return Pt(t)==="html"?t:t.assignedSlot||t.parentNode||(Aa(t)?t.host:null)||qt(t)}function ax(t){return!_t(t)||cn(t).position==="fixed"?null:t.offsetParent}function bH(t){var e=/firefox/i.test(xa()),n=/Trident/i.test(xa());if(n&&_t(t)){var r=cn(t);if(r.position==="fixed")return null}var i=_i(t);for(Aa(i)&&(i=i.host);_t(i)&&["html","body"].indexOf(Pt(i))<0;){var o=cn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ar(t){for(var e=Ke(t),n=ax(t);n&&W0(n)&&cn(n).position==="static";)n=ax(n);return n&&(Pt(n)==="html"||Pt(n)==="body"&&cn(n).position==="static")?e:n||bH(t)||e}function ds(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hs(t,e,n){return sr(t,ls(e,n))}function cx(t,e,n){var r=hs(t,e,n);return r>n?n:r}function Vl(){return{top:0,right:0,bottom:0,left:0}}function Ll(t){return Object.assign({},Vl(),t)}function jl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var TH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ll(typeof e!="number"?e:jl(e,oo))};function DH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ot(n.placement),c=ds(a),l=[dt,ht].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=TH(i.padding,n),h=us(o),p=c==="y"?nt:dt,y=c==="y"?yt:ht,C=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],S=s[c]-n.rects.reference[c],A=ar(o),H=A?c==="y"?A.clientHeight||0:A.clientWidth||0:0,q=C/2-S/2,m=d[p],J=H-h[u]-d[y],P=H/2-h[u]/2+q,Q=hs(m,P,J),de=c;n.modifiersData[r]=(e={},e[de]=Q,e.centerOffset=Q-P,e)}}function SH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Fl(e.elements.popper,i)&&(e.elements.arrow=i))}var lx={name:"arrow",enabled:!0,phase:"main",fn:DH,effect:SH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hn(t){return t.split("-")[1]}var AH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xH(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:yi(n*i)/i||0,y:yi(r*i)/i||0}}function ux(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,y=s.y,C=y===void 0?0:y,S=typeof u=="function"?u({x:p,y:C}):{x:p,y:C};p=S.x,C=S.y;var A=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),q=dt,m=nt,J=window;if(l){var P=ar(n),Q="clientHeight",de="clientWidth";if(P===Ke(n)&&(P=qt(n),cn(P).position!=="static"&&a==="absolute"&&(Q="scrollHeight",de="scrollWidth")),P=P,i===nt||(i===dt||i===ht)&&o===cs){m=yt;var Ce=d&&P===J&&J.visualViewport?J.visualViewport.height:P[Q];C-=Ce-r.height,C*=c?1:-1}if(i===dt||(i===nt||i===yt)&&o===cs){q=ht;var Te=d&&P===J&&J.visualViewport?J.visualViewport.width:P[de];p-=Te-r.width,p*=c?1:-1}}var Xe=Object.assign({position:a},l&&AH),Re=u===!0?xH({x:p,y:C},Ke(n)):{x:p,y:C};if(p=Re.x,C=Re.y,c){var Le;return Object.assign({},Xe,(Le={},Le[m]=H?"0":"",Le[q]=A?"0":"",Le.transform=(J.devicePixelRatio||1)<=1?"translate("+p+"px, "+C+"px)":"translate3d("+p+"px, "+C+"px, 0)",Le))}return Object.assign({},Xe,(e={},e[m]=H?C+"px":"",e[q]=A?p+"px":"",e.transform="",e))}function MH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Ot(e.placement),variation:Hn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ux(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ux(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var dx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:MH,data:{}};var Lf={passive:!0};function PH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ke(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,Lf)}),a&&c.addEventListener("resize",n.update,Lf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Lf)}),a&&c.removeEventListener("resize",n.update,Lf)}}var hx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PH,data:{}};var OH={left:"right",right:"left",bottom:"top",top:"bottom"};function Ma(t){return t.replace(/left|right|bottom|top/g,function(e){return OH[e]})}var RH={start:"end",end:"start"};function jf(t){return t.replace(/start|end/g,function(e){return RH[e]})}function fs(t){var e=Ke(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ps(t){return $n(qt(t)).left+fs(t).scrollLeft}function K0(t,e){var n=Ke(t),r=qt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=kl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+ps(t),y:c}}function Q0(t){var e,n=qt(t),r=fs(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=sr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=sr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ps(t),c=-r.scrollTop;return cn(i||n).direction==="rtl"&&(a+=sr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ms(t){var e=cn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Uf(t){return["html","body","#document"].indexOf(Pt(t))>=0?t.ownerDocument.body:_t(t)&&ms(t)?t:Uf(_i(t))}function so(t,e){var n;e===void 0&&(e=[]);var r=Uf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ke(r),s=i?[o].concat(o.visualViewport||[],ms(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(so(_i(s)))}function Pa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function NH(t,e){var n=$n(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function fx(t,e,n){return e===Ff?Pa(K0(t,n)):Bn(e)?NH(e,n):Pa(Q0(qt(t)))}function kH(t){var e=so(_i(t)),n=["absolute","fixed"].indexOf(cn(t).position)>=0,r=n&&_t(t)?ar(t):t;return Bn(r)?e.filter(function(i){return Bn(i)&&Fl(i,r)&&Pt(i)!=="body"}):[]}function Y0(t,e,n,r){var i=e==="clippingParents"?kH(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=fx(t,l,r);return c.top=sr(u.top,c.top),c.right=ls(u.right,c.right),c.bottom=ls(u.bottom,c.bottom),c.left=sr(u.left,c.left),c},fx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ul(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ot(r):null,o=r?Hn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case nt:c={x:s,y:e.y-n.height};break;case yt:c={x:s,y:e.y+e.height};break;case ht:c={x:e.x+e.width,y:a};break;case dt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?ds(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case vi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case cs:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function cr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?ix:a,l=n.rootBoundary,u=l===void 0?Ff:l,d=n.elementContext,h=d===void 0?Sa:d,p=n.altBoundary,y=p===void 0?!1:p,C=n.padding,S=C===void 0?0:C,A=Ll(typeof S!="number"?S:jl(S,oo)),H=h===Sa?ox:Sa,q=t.rects.popper,m=t.elements[y?H:h],J=Y0(Bn(m)?m:m.contextElement||qt(t.elements.popper),c,u,s),P=$n(t.elements.reference),Q=Ul({reference:P,element:q,strategy:"absolute",placement:i}),de=Pa(Object.assign({},q,Q)),Ce=h===Sa?de:P,Te={top:J.top-Ce.top+A.top,bottom:Ce.bottom-J.bottom+A.bottom,left:J.left-Ce.left+A.left,right:Ce.right-J.right+A.right},Xe=t.modifiersData.offset;if(h===Sa&&Xe){var Re=Xe[i];Object.keys(Te).forEach(function(Le){var Gt=[ht,yt].indexOf(Le)>=0?1:-1,Wt=[nt,yt].indexOf(Le)>=0?"y":"x";Te[Le]+=Re[Wt]*Gt})}return Te}function X0(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Vf:c,u=Hn(r),d=u?a?G0:G0.filter(function(y){return Hn(y)===u}):oo,h=d.filter(function(y){return l.indexOf(y)>=0});h.length===0&&(h=d);var p=h.reduce(function(y,C){return y[C]=cr(t,{placement:C,boundary:i,rootBoundary:o,padding:s})[Ot(C)],y},{});return Object.keys(p).sort(function(y,C){return p[y]-p[C]})}function FH(t){if(Ot(t)===kf)return[];var e=Ma(t);return[jf(t),e,jf(e)]}function VH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,y=p===void 0?!0:p,C=n.allowedAutoPlacements,S=e.options.placement,A=Ot(S),H=A===S,q=c||(H||!y?[Ma(S)]:FH(S)),m=[S].concat(q).reduce(function(De,ln){return De.concat(Ot(ln)===kf?X0(e,{placement:ln,boundary:u,rootBoundary:d,padding:l,flipVariations:y,allowedAutoPlacements:C}):ln)},[]),J=e.rects.reference,P=e.rects.popper,Q=new Map,de=!0,Ce=m[0],Te=0;Te<m.length;Te++){var Xe=m[Te],Re=Ot(Xe),Le=Hn(Xe)===vi,Gt=[nt,yt].indexOf(Re)>=0,Wt=Gt?"width":"height",V=cr(e,{placement:Xe,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),$=Gt?Le?ht:dt:Le?yt:nt;J[Wt]>P[Wt]&&($=Ma($));var z=Ma($),ue=[];if(o&&ue.push(V[Re]<=0),a&&ue.push(V[$]<=0,V[z]<=0),ue.every(function(De){return De})){Ce=Xe,de=!1;break}Q.set(Xe,ue)}if(de)for(var ke=y?3:1,wt=function(ln){var zn=m.find(function(Qe){var Nt=Q.get(Qe);if(Nt)return Nt.slice(0,ln).every(function(mt){return mt})});if(zn)return Ce=zn,"break"},Ge=ke;Ge>0;Ge--){var Kt=wt(Ge);if(Kt==="break")break}e.placement!==Ce&&(e.modifiersData[r]._skip=!0,e.placement=Ce,e.reset=!0)}}var px={name:"flip",enabled:!0,phase:"main",fn:VH,requiresIfExists:["offset"],data:{_skip:!1}};function mx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gx(t){return[nt,ht,yt,dt].some(function(e){return t[e]>=0})}function LH(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),c=mx(s,r),l=mx(a,i,o),u=gx(c),d=gx(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var vx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:LH};function jH(t,e,n){var r=Ot(t),i=[dt,nt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[dt,ht].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function UH(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Vf.reduce(function(u,d){return u[d]=jH(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var yx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UH};function BH(t){var e=t.state,n=t.name;e.modifiersData[n]=Ul({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var _x={name:"popperOffsets",enabled:!0,phase:"read",fn:BH,data:{}};function J0(t){return t==="x"?"y":"x"}function $H(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,y=n.tetherOffset,C=y===void 0?0:y,S=cr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),A=Ot(e.placement),H=Hn(e.placement),q=!H,m=ds(A),J=J0(m),P=e.modifiersData.popperOffsets,Q=e.rects.reference,de=e.rects.popper,Ce=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,Te=typeof Ce=="number"?{mainAxis:Ce,altAxis:Ce}:Object.assign({mainAxis:0,altAxis:0},Ce),Xe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Re={x:0,y:0};if(P){if(o){var Le,Gt=m==="y"?nt:dt,Wt=m==="y"?yt:ht,V=m==="y"?"height":"width",$=P[m],z=$+S[Gt],ue=$-S[Wt],ke=p?-de[V]/2:0,wt=H===vi?Q[V]:de[V],Ge=H===vi?-de[V]:-Q[V],Kt=e.elements.arrow,De=p&&Kt?us(Kt):{width:0,height:0},ln=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Vl(),zn=ln[Gt],Qe=ln[Wt],Nt=hs(0,Q[V],De[V]),mt=q?Q[V]/2-ke-Nt-zn-Te.mainAxis:wt-Nt-zn-Te.mainAxis,_n=q?-Q[V]/2+ke+Nt+Qe+Te.mainAxis:Ge+Nt+Qe+Te.mainAxis,dr=e.elements.arrow&&ar(e.elements.arrow),Yl=dr?m==="y"?dr.clientTop||0:dr.clientLeft||0:0,ja=(Le=Xe?.[m])!=null?Le:0,Xl=$+mt-ja-Yl,Jl=$+_n-ja,Ua=hs(p?ls(z,Xl):z,$,p?sr(ue,Jl):ue);P[m]=Ua,Re[m]=Ua-$}if(a){var Ba,Zl=m==="x"?nt:dt,eu=m==="x"?yt:ht,qr=P[J],Ei=J==="y"?"height":"width",$a=qr+S[Zl],ho=qr-S[eu],Ha=[nt,dt].indexOf(A)!==-1,tu=(Ba=Xe?.[J])!=null?Ba:0,nu=Ha?$a:qr-Q[Ei]-de[Ei]-tu+Te.altAxis,ru=Ha?qr+Q[Ei]+de[Ei]-tu-Te.altAxis:ho,iu=p&&Ha?cx(nu,qr,ru):hs(p?nu:$a,qr,p?ru:ho);P[J]=iu,Re[J]=iu-qr}e.modifiersData[r]=Re}}var wx={name:"preventOverflow",enabled:!0,phase:"main",fn:$H,requiresIfExists:["offset"]};function Z0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ew(t){return t===Ke(t)||!_t(t)?fs(t):Z0(t)}function HH(t){var e=t.getBoundingClientRect(),n=yi(e.width)/t.offsetWidth||1,r=yi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function tw(t,e,n){n===void 0&&(n=!1);var r=_t(e),i=_t(e)&&HH(e),o=qt(e),s=$n(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Pt(e)!=="body"||ms(o))&&(a=ew(e)),_t(e)?(c=$n(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=ps(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function zH(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function nw(t){var e=zH(t);return sx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function rw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function iw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Ex={placement:"bottom",modifiers:[],strategy:"absolute"};function Cx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ix(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Ex:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ex,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(A){var H=typeof A=="function"?A(u.options):A;C(),u.options=Object.assign({},o,u.options,H),u.scrollParents={reference:Bn(a)?so(a):a.contextElement?so(a.contextElement):[],popper:so(c)};var q=nw(iw([].concat(r,u.options.modifiers)));return u.orderedModifiers=q.filter(function(m){return m.enabled}),y(),p.update()},forceUpdate:function(){if(!h){var A=u.elements,H=A.reference,q=A.popper;if(Cx(H,q)){u.rects={reference:tw(H,ar(q),u.options.strategy==="fixed"),popper:us(q)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Te){return u.modifiersData[Te.name]=Object.assign({},Te.data)});for(var m=0;m<u.orderedModifiers.length;m++){if(u.reset===!0){u.reset=!1,m=-1;continue}var J=u.orderedModifiers[m],P=J.fn,Q=J.options,de=Q===void 0?{}:Q,Ce=J.name;typeof P=="function"&&(u=P({state:u,options:de,name:Ce,instance:p})||u)}}}},update:rw(function(){return new Promise(function(S){p.forceUpdate(),S(u)})}),destroy:function(){C(),h=!0}};if(!Cx(a,c))return p;p.setOptions(l).then(function(S){!h&&l.onFirstUpdate&&l.onFirstUpdate(S)});function y(){u.orderedModifiers.forEach(function(S){var A=S.name,H=S.options,q=H===void 0?{}:H,m=S.effect;if(typeof m=="function"){var J=m({state:u,name:A,instance:p,options:q}),P=function(){};d.push(J||P)}})}function C(){d.forEach(function(S){return S()}),d=[]}return p}}var qH=[hx,_x,dx,Nl,yx,px,wx,lx,vx],ow=Ix({defaultModifiers:qH});var GH="tippy-box",Rx="tippy-content",WH="tippy-backdrop",Nx="tippy-arrow",kx="tippy-svg-arrow",gs={passive:!0,capture:!0},Fx=function(){return document.body};function sw(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function hw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Vx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function bx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function KH(t){return t.split(/\s+/).filter(Boolean)}function Oa(t){return[].concat(t)}function Tx(t,e){t.indexOf(e)===-1&&t.push(e)}function QH(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function YH(t){return t.split("-")[0]}function $f(t){return[].slice.call(t)}function Dx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Bl(){return document.createElement("div")}function Hf(t){return["Element","Fragment"].some(function(e){return hw(t,e)})}function XH(t){return hw(t,"NodeList")}function JH(t){return hw(t,"MouseEvent")}function ZH(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function ez(t){return Hf(t)?[t]:XH(t)?$f(t):Array.isArray(t)?t:$f(document.querySelectorAll(t))}function aw(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Sx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function tz(t){var e,n=Oa(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function nz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=YH(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,p=l==="right"?u.left.x:0,y=l==="left"?u.right.x:0,C=o.top-r+d>c,S=r-o.bottom-h>c,A=o.left-n+p>c,H=n-o.right-y>c;return C||S||A||H})}function cw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Ax(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var jr={isTouch:!1},xx=0;function rz(){jr.isTouch||(jr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Lx))}function Lx(){var t=performance.now();t-xx<20&&(jr.isTouch=!1,document.removeEventListener("mousemove",Lx)),xx=t}function iz(){var t=document.activeElement;if(ZH(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function oz(){document.addEventListener("touchstart",rz,gs),window.addEventListener("blur",iz)}var sz=typeof window<"u"&&typeof document<"u",az=sz?!!window.msCrypto:!1;var cz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},lz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},lr=Object.assign({appendTo:Fx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},cz,lz),uz=Object.keys(lr),dz=function(e){var n=Object.keys(e);n.forEach(function(r){lr[r]=e[r]})};function jx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=lr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function hz(t,e){var n=e?Object.keys(jx(Object.assign({},lr,{plugins:e}))):uz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Mx(t,e){var n=Object.assign({},e,{content:Vx(e.content,[t])},e.ignoreAttributes?{}:hz(t,e.plugins));return n.aria=Object.assign({},lr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var fz=function(){return"innerHTML"};function uw(t,e){t[fz()]=e}function Px(t){var e=Bl();return t===!0?e.className=Nx:(e.className=kx,Hf(t)?e.appendChild(t):uw(e,t)),e}function Ox(t,e){Hf(e.content)?(uw(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?uw(t,e.content):t.textContent=e.content)}function dw(t){var e=t.firstElementChild,n=$f(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Rx)}),arrow:n.find(function(r){return r.classList.contains(Nx)||r.classList.contains(kx)}),backdrop:n.find(function(r){return r.classList.contains(WH)})}}function Ux(t){var e=Bl(),n=Bl();n.className=GH,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Bl();r.className=Rx,r.setAttribute("data-state","hidden"),Ox(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=dw(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Ox(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Px(s.arrow))):c.appendChild(Px(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}Ux.$$tippy=!0;var pz=1,Bf=[],lw=[];function mz(t,e){var n=Mx(t,Object.assign({},lr,jx(Dx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,p=[],y=bx(Xl,n.interactiveDebounce),C,S=pz++,A=null,H=QH(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:S,reference:t,popper:Bl(),popperInstance:A,props:n,state:q,plugins:H,clearDelayTimeouts:nu,setProps:ru,setContent:iu,show:rP,hide:iP,hideWithInteractivity:oP,enable:Ha,disable:tu,unmount:sP,destroy:aP};if(!n.render)return m;var J=n.render(m),P=J.popper,Q=J.onUpdate;P.setAttribute("data-tippy-root",""),P.id="tippy-"+m.id,m.popper=P,t._tippy=m,P._tippy=m;var de=H.map(function(b){return b.fn(m)}),Ce=t.hasAttribute("aria-expanded");return dr(),ke(),$(),z("onCreate",[m]),n.showOnCreate&&$a(),P.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),P.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&Gt().addEventListener("mousemove",y)}),m;function Te(){var b=m.props.touch;return Array.isArray(b)?b:[b,0]}function Xe(){return Te()[0]==="hold"}function Re(){var b;return!!((b=m.props.render)!=null&&b.$$tippy)}function Le(){return C||t}function Gt(){var b=Le().parentNode;return b?tz(b):document}function Wt(){return dw(P)}function V(b){return m.state.isMounted&&!m.state.isVisible||jr.isTouch||u&&u.type==="focus"?0:sw(m.props.delay,b?0:1,lr.delay)}function $(b){b===void 0&&(b=!1),P.style.pointerEvents=m.props.interactive&&!b?"":"none",P.style.zIndex=""+m.props.zIndex}function z(b,W,se){if(se===void 0&&(se=!0),de.forEach(function(Se){Se[b]&&Se[b].apply(Se,W)}),se){var Fe;(Fe=m.props)[b].apply(Fe,W)}}function ue(){var b=m.props.aria;if(b.content){var W="aria-"+b.content,se=P.id,Fe=Oa(m.props.triggerTarget||t);Fe.forEach(function(Se){var en=Se.getAttribute(W);if(m.state.isVisible)Se.setAttribute(W,en?en+" "+se:se);else{var On=en&&en.replace(se,"").trim();On?Se.setAttribute(W,On):Se.removeAttribute(W)}})}}function ke(){if(!(Ce||!m.props.aria.expanded)){var b=Oa(m.props.triggerTarget||t);b.forEach(function(W){m.props.interactive?W.setAttribute("aria-expanded",m.state.isVisible&&W===Le()?"true":"false"):W.removeAttribute("aria-expanded")})}}function wt(){Gt().removeEventListener("mousemove",y),Bf=Bf.filter(function(b){return b!==y})}function Ge(b){if(!(jr.isTouch&&(c||b.type==="mousedown"))){var W=b.composedPath&&b.composedPath()[0]||b.target;if(!(m.props.interactive&&Ax(P,W))){if(Oa(m.props.triggerTarget||t).some(function(se){return Ax(se,W)})){if(jr.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[m,b]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),a=!0,setTimeout(function(){a=!1}),m.state.isMounted||zn())}}}function Kt(){c=!0}function De(){c=!1}function ln(){var b=Gt();b.addEventListener("mousedown",Ge,!0),b.addEventListener("touchend",Ge,gs),b.addEventListener("touchstart",De,gs),b.addEventListener("touchmove",Kt,gs)}function zn(){var b=Gt();b.removeEventListener("mousedown",Ge,!0),b.removeEventListener("touchend",Ge,gs),b.removeEventListener("touchstart",De,gs),b.removeEventListener("touchmove",Kt,gs)}function Qe(b,W){mt(b,function(){!m.state.isVisible&&P.parentNode&&P.parentNode.contains(P)&&W()})}function Nt(b,W){mt(b,W)}function mt(b,W){var se=Wt().box;function Fe(Se){Se.target===se&&(cw(se,"remove",Fe),W())}if(b===0)return W();cw(se,"remove",d),cw(se,"add",Fe),d=Fe}function _n(b,W,se){se===void 0&&(se=!1);var Fe=Oa(m.props.triggerTarget||t);Fe.forEach(function(Se){Se.addEventListener(b,W,se),p.push({node:Se,eventType:b,handler:W,options:se})})}function dr(){Xe()&&(_n("touchstart",ja,{passive:!0}),_n("touchend",Jl,{passive:!0})),KH(m.props.trigger).forEach(function(b){if(b!=="manual")switch(_n(b,ja),b){case"mouseenter":_n("mouseleave",Jl);break;case"focus":_n(az?"focusout":"blur",Ua);break;case"focusin":_n("focusout",Ua);break}})}function Yl(){p.forEach(function(b){var W=b.node,se=b.eventType,Fe=b.handler,Se=b.options;W.removeEventListener(se,Fe,Se)}),p=[]}function ja(b){var W,se=!1;if(!(!m.state.isEnabled||Ba(b)||a)){var Fe=((W=u)==null?void 0:W.type)==="focus";u=b,C=b.currentTarget,ke(),!m.state.isVisible&&JH(b)&&Bf.forEach(function(Se){return Se(b)}),b.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||s)&&m.props.hideOnClick!==!1&&m.state.isVisible?se=!0:$a(b),b.type==="click"&&(s=!se),se&&!Fe&&ho(b)}}function Xl(b){var W=b.target,se=Le().contains(W)||P.contains(W);if(!(b.type==="mousemove"&&se)){var Fe=Ei().concat(P).map(function(Se){var en,On=Se._tippy,_s=(en=On.popperInstance)==null?void 0:en.state;return _s?{popperRect:Se.getBoundingClientRect(),popperState:_s,props:n}:null}).filter(Boolean);nz(Fe,b)&&(wt(),ho(b))}}function Jl(b){var W=Ba(b)||m.props.trigger.indexOf("click")>=0&&s;if(!W){if(m.props.interactive){m.hideWithInteractivity(b);return}ho(b)}}function Ua(b){m.props.trigger.indexOf("focusin")<0&&b.target!==Le()||m.props.interactive&&b.relatedTarget&&P.contains(b.relatedTarget)||ho(b)}function Ba(b){return jr.isTouch?Xe()!==b.type.indexOf("touch")>=0:!1}function Zl(){eu();var b=m.props,W=b.popperOptions,se=b.placement,Fe=b.offset,Se=b.getReferenceClientRect,en=b.moveTransition,On=Re()?dw(P).arrow:null,_s=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Le()}:t,xw={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ou){var ws=ou.state;if(Re()){var cP=Wt(),ap=cP.box;["placement","reference-hidden","escaped"].forEach(function(su){su==="placement"?ap.setAttribute("data-placement",ws.placement):ws.attributes.popper["data-popper-"+su]?ap.setAttribute("data-"+su,""):ap.removeAttribute("data-"+su)}),ws.attributes.popper={}}}},fo=[{name:"offset",options:{offset:Fe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!en}},xw];Re()&&On&&fo.push({name:"arrow",options:{element:On,padding:3}}),fo.push.apply(fo,W?.modifiers||[]),m.popperInstance=ow(_s,P,Object.assign({},W,{placement:se,onFirstUpdate:h,modifiers:fo}))}function eu(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function qr(){var b=m.props.appendTo,W,se=Le();m.props.interactive&&b===Fx||b==="parent"?W=se.parentNode:W=Vx(b,[se]),W.contains(P)||W.appendChild(P),m.state.isMounted=!0,Zl()}function Ei(){return $f(P.querySelectorAll("[data-tippy-root]"))}function $a(b){m.clearDelayTimeouts(),b&&z("onTrigger",[m,b]),ln();var W=V(!0),se=Te(),Fe=se[0],Se=se[1];jr.isTouch&&Fe==="hold"&&Se&&(W=Se),W?r=setTimeout(function(){m.show()},W):m.show()}function ho(b){if(m.clearDelayTimeouts(),z("onUntrigger",[m,b]),!m.state.isVisible){zn();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var W=V(!1);W?i=setTimeout(function(){m.state.isVisible&&m.hide()},W):o=requestAnimationFrame(function(){m.hide()})}}function Ha(){m.state.isEnabled=!0}function tu(){m.hide(),m.state.isEnabled=!1}function nu(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function ru(b){if(!m.state.isDestroyed){z("onBeforeUpdate",[m,b]),Yl();var W=m.props,se=Mx(t,Object.assign({},W,Dx(b),{ignoreAttributes:!0}));m.props=se,dr(),W.interactiveDebounce!==se.interactiveDebounce&&(wt(),y=bx(Xl,se.interactiveDebounce)),W.triggerTarget&&!se.triggerTarget?Oa(W.triggerTarget).forEach(function(Fe){Fe.removeAttribute("aria-expanded")}):se.triggerTarget&&t.removeAttribute("aria-expanded"),ke(),$(),Q&&Q(W,se),m.popperInstance&&(Zl(),Ei().forEach(function(Fe){requestAnimationFrame(Fe._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[m,b])}}function iu(b){m.setProps({content:b})}function rP(){var b=m.state.isVisible,W=m.state.isDestroyed,se=!m.state.isEnabled,Fe=jr.isTouch&&!m.props.touch,Se=sw(m.props.duration,0,lr.duration);if(!(b||W||se||Fe)&&!Le().hasAttribute("disabled")&&(z("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,Re()&&(P.style.visibility="visible"),$(),ln(),m.state.isMounted||(P.style.transition="none"),Re()){var en=Wt(),On=en.box,_s=en.content;aw([On,_s],0)}h=function(){var fo;if(!(!m.state.isVisible||l)){if(l=!0,P.offsetHeight,P.style.transition=m.props.moveTransition,Re()&&m.props.animation){var sp=Wt(),ou=sp.box,ws=sp.content;aw([ou,ws],Se),Sx([ou,ws],"visible")}ue(),ke(),Tx(lw,m),(fo=m.popperInstance)==null||fo.forceUpdate(),z("onMount",[m]),m.props.animation&&Re()&&Nt(Se,function(){m.state.isShown=!0,z("onShown",[m])})}},qr()}}function iP(){var b=!m.state.isVisible,W=m.state.isDestroyed,se=!m.state.isEnabled,Fe=sw(m.props.duration,1,lr.duration);if(!(b||W||se)&&(z("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,l=!1,s=!1,Re()&&(P.style.visibility="hidden"),wt(),zn(),$(!0),Re()){var Se=Wt(),en=Se.box,On=Se.content;m.props.animation&&(aw([en,On],Fe),Sx([en,On],"hidden"))}ue(),ke(),m.props.animation?Re()&&Qe(Fe,m.unmount):m.unmount()}}function oP(b){Gt().addEventListener("mousemove",y),Tx(Bf,y),y(b)}function sP(){m.state.isVisible&&m.hide(),m.state.isMounted&&(eu(),Ei().forEach(function(b){b._tippy.unmount()}),P.parentNode&&P.parentNode.removeChild(P),lw=lw.filter(function(b){return b!==m}),m.state.isMounted=!1,z("onHidden",[m]))}function aP(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),Yl(),delete t._tippy,m.state.isDestroyed=!0,z("onDestroy",[m]))}}function $l(t,e){e===void 0&&(e={});var n=lr.plugins.concat(e.plugins||[]);oz();var r=Object.assign({},e,{plugins:n}),i=ez(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&mz(l,r);return u&&c.push(u),c},[]);return Hf(t)?a[0]:a}$l.defaultProps=lr;$l.setDefaultProps=dz;$l.currentInput=jr;var Rre=Object.assign({},Nl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});$l.setDefaultProps({render:Ux});var fw=$l;var pw=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Vd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function zf(t){return t instanceof Jn}function Hl(t){return typeof t=="function"}function zl(t){return typeof t=="string"}var mw=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},gw=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},gz=new K("Component context"),vw=(()=>{let e=class e{constructor(){this.injector=R(Ze),this.appRef=R(Tr),this.environmentInjector=R(It)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=oi(i.context),o=Ze.create({providers:[{provide:gz,useValue:s.asReadonly()}],parent:o})),new pw({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new mw({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(zf(r))return this.createTemplate(r,i);if(Hl(r))return this.createComponent(r,i);if(zl(r))return new gw(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $x=!1,Hx=!1;typeof window<"u"&&($x="IntersectionObserver"in window,Hx="ResizeObserver"in window);function Bx(t,e={root:null,threshold:.3}){let n=Wx(t);return new ae(r=>{if(!$x){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function zx(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function yz(t){let e=Wx(t);return qx(e).pipe(Mp(150),ie(()=>zx(e)))}function qx(t){return _z(t)}function _z(t){return new ae(e=>{if(!Hx){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function ql(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function Gx(t){return(Ez(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function wz(t){return Cz(t)?"":typeof t=="string"?t:`${t}px`}function Ez(t){return typeof t=="string"}function Cz(t){return t==null}function Wx(t){return t instanceof ut?t.nativeElement:t}var yw,_w=new WeakMap;function Iz(t,e){return yw??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||_w.get(r.target)()})}),_w.set(t,e),yw.observe(t),()=>{_w.delete(t),yw.unobserve(t)}}var ww=new K("Tippy config",{providedIn:"root",factory(){return{}}}),Kx=new K("TIPPY_REF"),Zt=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Je,this.destroyed=new kt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new kt,this.contentChanged=new kt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;qf("content",r)&&this.contentChanged.next(),qf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=k(k({},this.globalConfig.variations[o]),i)),qf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),qf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Bx(this.host).pipe(Ct(()=>this.isOverflowing$()),Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):Bx(this.host).pipe(Wn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Wn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Iz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(k(k({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(ql(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=fw(this.host,Ae(k(k(k({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),ql(this.globalConfig)),ql(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of Gx(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);zl(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!zl(this.content)){let o=Ze.create({providers:[{provide:Kx,useValue:this.instance}],parent:this.injector});Hl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):zf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,k({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Hl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),zl(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){ks(this.host,"contextmenu").pipe(Wn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{ks(document.body,"keydown").pipe(Qt(({code:r})=>r==="Escape"),Wn(Qa(this.destroyed,this.visibleInternal.pipe(Qt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){qx(this.host).pipe(Wn(Qa(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=wz(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return vc(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[yz(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(Ct(()=>new ae(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>zx(this.host)))),Qa(...r)}};e.\u0275fac=function(i){return new(i||e)(x(Nn),x(ww),x(Ze),x(vw),x(Lt),x(Ie),x(ut))},e.\u0275dir=lt({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",kn],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",kn],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",kn],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",kn],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",kn],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",kn],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",kn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Od,ni]});let t=e;return t})();function qf(t,e){return t in e}var Qx=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Ae(k(k(k({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Ze.create({providers:[{provide:Kx,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,zf(i)?c.$viewOptions.context=k({$implicit:c.hide.bind(c)},o.context):Hl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,k(k({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},ql(this.globalConfig)),this.globalConfig.variations[s]),ql(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of Gx(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return fw(r,a)}};e.\u0275fac=function(i){return new(i||e)(j(ww),j(vw),j(Ze))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yx(t={}){return Vi([{provide:ww,useValue:t}])}var Ur=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}abort(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.abort(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Tz=500,xn=Tz+"ms ease",tie=kr("skip",[Mt(":enter",[])]),Ra=kr("fade",[Mt(":enter",[Ee({opacity:0}),Jt("333ms ease",Ee({opacity:1}))]),Mt(":leave",[Ee({opacity:1,"pointer-events":"none","z-index":-1}),Jt("333ms 333ms ease",Ee({opacity:0}))])]),nie=kr("scalefade",[Mt(":enter",[Ee({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Jt(xn,Ee({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Mt(":leave",[Ee({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Jt(xn,Ee({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),Xx=kr("crossfade",[Mt(":enter",[Ee({opacity:0}),Jt(xn,Ee({opacity:1}))]),Mt(":leave",[Ee({opacity:1,"pointer-events":"none",position:"absolute"}),Jt(xn,Ee({opacity:0}))])]),Jx=kr("enter",[Mt(":enter",[Ee({opacity:0}),Jt(xn,Ee({opacity:1}))])]),rie=kr("leave",[Mt(":leave",[Ee({opacity:1}),Jt(xn,Ee({opacity:0}))])]),iie=kr("hidden",[Mt("* => true",[Ee({opacity:"*"}),Jt(xn,Ee({opacity:0}))]),Mt("true => *",[Ee({opacity:0}),Jt(xn,Ee({opacity:"*"}))])]),oie=kr("drawer2",[WS("0",Ee({height:0})),Mt("1 => void",[]),Mt("1 => *",[Ee({height:"*"}),Jt(xn,Ee({height:0}))]),Mt("0 => void",[Ee({height:0}),Jt(xn,Ee({height:0}))]),Mt("0 => *",[Ee({height:0}),Jt(xn,Ee({height:"*"}))])]),Zx=kr("drawer",[Mt(":enter",[Ee({height:0,opacity:0}),Jt(xn,Ee({height:"*",opacity:"*"}))]),Mt(":leave",[Ee({height:"*",opacity:"*"}),Jt(xn,Ee({height:0,opacity:0}))])]);var rt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=oi(void 0),this.changes=oi(void 0),this.errors=oi(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mn=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};var Dz=["content"];function Sz(t,e){if(t&1){let n=G();f(0,"div",6,7),I("click",function(){T(n);let i=_(2);return D(i.overlayClick())}),g()}}function Az(t,e){if(t&1){let n=G();f(0,"i",12),I("click",function(){T(n);let i=_(3);return D(i.contentComponentInstance.close())}),g()}}function xz(t,e){if(t&1){let n=G();f(0,"div",8,9),I("mousedown",function(i){T(n);let o=Ye(1),s=_(2);return D(s.onHeaderMouseDown(i,o))}),f(2,"span",10),N(3),g(),F(4,Az,1,0,"i",11),g()}if(t&2){let n=_(2);v(3),ye(n.contentComponentInstance.configuration.title),v(),w("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function Mz(t,e){if(t&1&&(He(0),B(1,"div",3),F(2,Sz,2,0,"div",4)(3,xz,5,2,"div",5),ze()),t&2){let n=_();v(2),w("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),v(),w("ngIf",n.contentComponentInstance.configuration.title)}}function Pz(t,e){t&1&&(f(0,"div",13),kg(1,null,14),g())}function Oz(t,e){if(t&1){let n=G();f(0,"i",19),I("click",function(){T(n);let i=_(2).$implicit;return D(i.click&&i.click())}),g()}if(t&2){let n=_(2).$implicit,r=_(2);ub("icon-button "+r.getIconClass(n)),oe("disabled",r.isDisabled(n))}}function Rz(t,e){if(t&1){let n=G();f(0,"div",20),I("click",function(){T(n);let i=_(2).$implicit;return D(i.click&&i.click())}),N(1),g()}if(t&2){let n=_(2).$implicit,r=_(2);oe("disabled",r.isDisabled(n)),v(),ye(r.getText(n))}}function Nz(t,e){if(t&1&&(He(0),F(1,Oz,1,4,"i",17)(2,Rz,2,3,"div",18),ze()),t&2){let n=_().$implicit;v(),w("ngIf",n.iconClass),v(),w("ngIf",n.text)}}function kz(t,e){if(t&1&&(He(0),F(1,Nz,3,2,"ng-container",0),ze()),t&2){let n=e.$implicit,r=_(2);v(),w("ngIf",!r.isHidden(n))}}function Fz(t,e){if(t&1&&(f(0,"div",15),F(1,kz,2,1,"ng-container",16),g()),t&2){let n=_();v(),w("ngForOf",n.contentComponentInstance.configuration.buttons)}}var eM=(()=>{let e=class e{constructor(r,i){this.elementRef=r,this.dialogService=i,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(o=>this.resolve=o)}ngAfterViewInit(){Mn.isLargeScreen()&&(this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"))));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.result.finally(()=>r.destroy()),r.changeDetectorRef.detectChanges()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,this.top!==void 0&&localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),this.left!==void 0&&localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.dialogs.findIndex(i=>i==this);for(let i=r;i<this.dialogService.dialogs.length;i++){let o=this.dialogService.dialogs[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}onScreenResize(r){Mn.isLargeScreen()||(this.top=null,this.left=null)}};e.\u0275fac=function(i){return new(i||e)(x(ut),x(ft))},e.\u0275cmp=Y({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&vb(Dz,5,Lt),i&2){let s;Vg(s=Lg())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&I("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,pc)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,pc)("resize",function(a){return o.onScreenResize(a)},!1,II),i&2&&(jt("top",o.top,"px")("left",o.left,"px"),oe("border-warning",o.borderWarning))},standalone:!0,features:[X],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&F(0,Mz,4,2,"ng-container",0)(1,Pz,3,0,"div",1)(2,Fz,2,1,"div",2),i&2&&(w("ngIf",o.contentComponentInstance),v(),w("ngIf",o.contentComponentType),v(),w("ngIf",o.contentComponentInstance))},dependencies:[Z,$e,Me],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - .9999999999rem);max-height:calc(100% - .9999999999rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:var(--color-dialog-background);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var Rt=class{submit(){this.close()}};function Vz(t,e){if(t&1&&(f(0,"span"),N(1),g()),t&2){let n=e.$implicit;v(),ye(n)}}var tM=(()=>{let e=class e extends Rt{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText,click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[et,X],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),F(1,Vz,2,1,"span",1),g()),i&2&&(v(),w("ngForOf",o.inputs.messages))},dependencies:[Z,$e],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var lM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(x(Oo),x(ut))},e.\u0275dir=lt({type:e});let t=e;return t})(),Lz=(()=>{let e=class e extends lM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=lt({type:e,features:[et]});let t=e;return t})(),uM=new K("");var jz={provide:uM,useExisting:dc(()=>$r),multi:!0};function Uz(){let t=ci()?ci().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Bz=new K(""),$r=(()=>{let e=class e extends lM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Uz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(x(Oo),x(ut),x(Bz,8))},e.\u0275dir=lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[jg([jz]),et]});let t=e;return t})();var $z=new K(""),Hz=new K("");function dM(t){return t!=null}function hM(t){return Fo(t)?je(t):t}function fM(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function pM(t,e){return e.map(n=>n(t))}function zz(t){return!t.validate}function mM(t){return t.map(e=>zz(e)?e:n=>e.validate(n))}function qz(t){if(!t)return null;let e=t.filter(dM);return e.length==0?null:function(n){return fM(pM(n,e))}}function gM(t){return t!=null?qz(mM(t)):null}function Gz(t){if(!t)return null;let e=t.filter(dM);return e.length==0?null:function(n){let r=pM(n,e).map(hM);return xp(r).pipe(ie(fM))}}function vM(t){return t!=null?Gz(mM(t)):null}function nM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wz(t){return t._rawValidators}function Kz(t){return t._rawAsyncValidators}function Ew(t){return t?Array.isArray(t)?t:[t]:[]}function Wf(t,e){return Array.isArray(t)?t.includes(e):t===e}function rM(t,e){let n=Ew(e);return Ew(t).forEach(i=>{Wf(n,i)||n.push(i)}),n}function iM(t,e){return Ew(e).filter(n=>!Wf(t,n))}var Kf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Cw=class extends Kf{get formDirective(){return null}get path(){return null}},Kl=class extends Kf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Iw=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Qz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vie=Ae(k({},Qz),{"[class.ng-submitted]":"isSubmitted"}),ao=(()=>{let e=class e extends Iw{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(x(Kl,2))},e.\u0275dir=lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[et]});let t=e;return t})();var Gl="VALID",Gf="INVALID",Na="PENDING",Wl="DISABLED";function Yz(t){return(Qf(t)?t.validators:t)||null}function Xz(t){return Array.isArray(t)?gM(t):t||null}function Jz(t,e){return(Qf(e)?e.asyncValidators:t)||null}function Zz(t){return Array.isArray(t)?vM(t):t||null}function Qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var bw=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gl}get invalid(){return this.status===Gf}get pending(){return this.status==Na}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iM(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Na,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(r=>{r.disable(Ae(k({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gl,this._forEachChild(r=>{r.enable(Ae(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(k({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gl||this.status===Na)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:Gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Na,this._hasOwnPendingAsyncValidator=!0;let n=hM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Na)?Na:this._anyControlsHaveStatus(Gf)?Gf:Gl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Xz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Zz(this._rawAsyncValidators)}};var yM=new K("CallSetDisabledState",{providedIn:"root",factory:()=>Tw}),Tw="always";function eq(t,e){return[...e.path,t]}function tq(t,e,n=Tw){rq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iq(t,e),sq(t,e),oq(t,e),nq(t,e)}function oM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function rq(t,e){let n=Wz(t);e.validator!==null?t.setValidators(nM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Kz(t);e.asyncValidator!==null?t.setAsyncValidators(nM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();oM(e._rawValidators,i),oM(e._rawAsyncValidators,i)}function iq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&_M(t,e)})}function oq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&_M(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function _M(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cq(t){return Object.getPrototypeOf(t.constructor)===Lz}function lq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$r?n=o:cq(o)?r=o:i=o}),i||r||n||null}function sM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uq=class extends bw{constructor(e=null,n,r){super(Yz(n),Jz(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dq={provide:Kl,useExisting:dc(()=>wi)},cM=Promise.resolve(),wi=(()=>{let e=class e extends Kl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new uq,this._registered=!1,this.name="",this.update=new Je,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=lq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),aq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){cM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&kn(i);cM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?eq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(x(Cw,9),x($z,10),x(Hz,10),x(uM,10),x(Dr,8),x(yM,8))},e.\u0275dir=lt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jg([dq]),et,ni]});let t=e;return t})();var hq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})();var yn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:yM,useValue:r.callSetDisabledState??Tw}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({imports:[hq]});let t=e;return t})();var it=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var wM=(()=>{let e=class e extends Rt{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!it.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[et,X],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(f(0,"input",0),br("ngModelChange",function(a){return si(o.value,a)||(o.value=a),a}),g()),i&2&&(Ir("ngModel",o.value),w("placeholder",o.inputs.placeholder))},dependencies:[Z,yn,$r,ao,wi],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function fq(t,e){if(t&1&&(f(0,"span"),N(1),g()),t&2){let n=e.$implicit;v(),ye(n)}}var EM=(()=>{let e=class e extends Rt{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[et,X],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),F(1,fq,2,1,"span",1),g()),i&2&&(v(),w("ngForOf",o.inputs.messages))},dependencies:[Z,$e],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem}"]});let t=e;return t})();var M=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var ft=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.dialogs=[]}createMessage(r,i){return this.create(EM,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(tM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(wM,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i){let o=M.getLast(this.dialogs.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=Vd(eM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{M.remove(this.dialogs,this.dialogs.find(c=>c==a)),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.dialogs.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(j(Tr),j(It))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pq(t,e){t&1&&B(0,"div",3),t&2&&w("@fade",void 0)}function mq(t,e){t&1&&B(0,"span",4),t&2&&w("@fade",void 0)}var CM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new Ur(1500),ai(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(ft))},e.\u0275cmp=Y({type:e,selectors:[["app-root"]],standalone:!0,features:[X],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(F(0,pq,1,1,"div",0),B(1,"div",1),F(2,mq,1,1,"span",2),B(3,"router-outlet")),i&2&&(w("ngIf",o.isBlurOverlayVisible()),v(),jt("background-color",o.getLoadingBarColor()),v(),w("ngIf",o.applicationService.loading()))},dependencies:[Z,Me,j0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Ra]}});let t=e;return t})();var Pn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var ka=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return hn(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return hn(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return hn(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return hn(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return hn(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return hn(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}download(e){return E(this,null,function*(){let n="https://www.googleapis.com/drive/v3/files/"+e.id,r=yield hn(this.http.get(n,{params:{alt:"media"},responseType:"blob"})),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return hn(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?hn(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):hn(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var co=(()=>{let e=class e extends ka{constructor(r){super(r),this.http=r,this.FIELDS="id,name,mimeType,thumbnailLink,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return E(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield hn(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return E(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(j(Lo))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gq(t,e){if(t&1){let n=G();f(0,"span",6),I("click",function(){let o=T(n).$implicit,s=_(2);return D(s.onDataFileClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;v(),ye(n.name.substring(0,n.name.length-10))}}function vq(t,e){if(t&1){let n=G();f(0,"span",6),I("click",function(){let o=T(n).$implicit,s=_(2);return D(s.onFolderClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;v(),ye(n.name)}}function yq(t,e){if(t&1&&(f(0,"div",4),F(1,gq,2,1,"span",5)(2,vq,2,1,"span",5),g()),t&2){let n=_();v(),w("ngForOf",n.dataFiles),v(),w("ngForOf",n.folders)}}var IM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return E(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Pn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return E(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(x(vn),x(co),x(rt))},e.\u0275cmp=Y({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[X],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),F(1,yq,3,2,"div",1),f(2,"div",2)(3,"i",3),I("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),g()()()),i&2&&(oe("opacity-100",!o.applicationService.loading()),v(),w("ngIf",!0),v(2),w("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Z,Tt,$e,Me],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var bM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Jf=class{};var Zf=class{};var ep=class extends Zf{};function _q(t,e){if(t&1){let n=G();f(0,"i",4),I("mousedown",function(i){T(n);let o=_();return D(o.onMouseDown(i))})("click",function(i){T(n);let o=_();return D(o.nextState(i))})("contextmenu",function(i){T(n);let o=_();return D(o.previousState(i))}),g()}if(t&2){let n=_();w("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function wq(t,e){if(t&1){let n=G();f(0,"i",5),I("mousedown",function(i){T(n);let o=_();return D(o.onMouseDown(i))})("click",function(i){T(n);let o=_();return D(o.nextState(i))})("contextmenu",function(i){T(n);let o=_();return D(o.previousState(i))}),g()}}function Eq(t,e){if(t&1){let n=G();f(0,"i",6),I("mousedown",function(i){T(n);let o=_();return D(o.onMouseDown(i))})("click",function(i){T(n);let o=_();return D(o.nextState(i))})("contextmenu",function(i){T(n);let o=_();return D(o.previousState(i))}),g()}}var TM=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Je}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}previousState(r){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[X],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(i,o){i&1&&(f(0,"div",0),F(1,_q,1,1,"i",1)(2,wq,1,0,"i",2)(3,Eq,1,0,"i",3),g()),i&2&&(oe("tri",o.tri),v(),w("ngIf",o.state==-1),v(),w("ngIf",o.state==0),v(),w("ngIf",o.state==1))},dependencies:[Z,Tt,Me],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();function Cq(t,e){if(t&1){let n=G();He(0),f(1,"div",1)(2,"app-switch",2),I("stateChange",function(i){T(n);let o=_();return D(o.onShowVideosStateChange(i))}),g(),f(3,"span",3),N(4,"Show Videos"),g()(),f(5,"div",1)(6,"app-switch",4),I("stateChange",function(i){T(n);let o=_();return D(o.onAutoBookmarkStateChange(i))}),g(),f(7,"span",3),N(8,"Auto Bookmark"),g()(),ze()}if(t&2){let n=_();v(2),w("state",n.stateService.settings.showVideos),v(4),w("state",n.stateService.settings.autoBookmark)}}var tp=(()=>{let e=class e extends Rt{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"OK",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[et,X],decls:1,vars:1,consts:[[4,"ngIf"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(i,o){i&1&&F(0,Cq,9,2,"ng-container",0),i&2&&w("ngIf",o.stateService.settings)},dependencies:[Z,Me,TM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var pt=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new Ur(5e3),this.images=[],this.filter=oi([]),this.target=oi(null),this.filterFavorite={},this.filterBookmark={},this.filterGroups={}}processData(){return E(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter||0,this.filterBookmark.state=r.bookmarksFilter||0,this.filterGroups.state=r.filterGroups||0,this.comparison=r.comparison,this.tagGroups=r.tagGroups||[],this.openTagGroup=r.tagGroups[0],this.tags=r.tagGroups.flatMap(o=>o.tags),r.imageProperties||(r.imageProperties=[]),r.groupProperties||(r.groupProperties=[]),r.settings?this.settings=r.settings:yield this.dialogService.create(tp);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),M.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new Jf;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s.tags=o.tagIds?.map(a=>this.tags.find(c=>c.id==a))||[],s}),this.updateFilters(),this.applicationService.loading.set(!1),r.settings||this.save()})}processImages(r,i,o,s){return E(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>Pn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));M.push(o,a.filter(c=>Pn.isImage(c)||Pn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new ep;if(a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Pn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),a.tags=[],i){a.heart=i.heart,a.bookmark=i.bookmark;let c;for(let l of i.tagIds)c=this.tags.find(u=>u.id==l),c&&a.tags.push(c)}else this.settings.autoBookmark&&(a.bookmark=!0);return a}save(r=!1){this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{let i={};i.dataFolderId=this.dataFolderId,i.archiveFolderId=this.archiveFolderId,i.heartsFilter=this.filterFavorite.state,i.bookmarksFilter=this.filterBookmark.state,i.filterGroups=this.filterGroups.state,i.settings=this.settings,i.comparison=this.comparison,i.imageProperties=this.images.map(o=>this.serializeImage(o)),i.groupProperties=this.groups.filter(o=>!M.isEmpty(o.images)).map(o=>this.serializeGroup(o)),i.tagGroups=this.tagGroups,this.googleService.updateContent(this.googleService.dataFileId,i).then(o=>{o||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete()}serializeImage(r){let i={};return i.id=r.id,i.heart=r.heart,i.bookmark=r.bookmark,i.tagIds=r.tags.map(o=>o.id),i}serializeGroup(r){let i={};return i.imageIds=r.images.map(o=>o.id),i.tagIds=r.tags.map(o=>o.id),i}updateFilters(r){r?r.passesFilter=this.doesPassFilter(r):this.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}doesPassFilter(r){if(!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.filterGroups.state==-1&&r.group||this.filterGroups.state==1&&!r.group||this.settings.showVideos==-1&&Pn.isVideo(r))return!1;let i;for(let o of this.tags)if(i=r.tags.includes(o)||r.group?.tags.includes(o),o.state==-1&&i||o.state==1&&!i)return!1;return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return E(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))){if(this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),M.remove(this.images,this.images.find(s=>s.id==r.id)),r.group)if(r.group.images.length>2)M.remove(r.group.images,r);else{M.remove(this.groups,r.group);for(let s of r.group.images)M.push(s.tags,r.group.tags),delete s.group}if(this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&M.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.target.set(null),this.save(!0),this.applicationService.loading.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)(j(A_),j(rt),j(co),j(ft))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iq(t,e){if(t&1){let n=G();He(0),f(1,"div",0)(2,"span"),N(3,"Tag Name"),g(),f(4,"input",1),br("ngModelChange",function(i){T(n);let o=_();return si(o.tagName,i)||(o.tagName=i),D(i)}),g()(),ze()}if(t&2){let n=_();v(4),Ir("ngModel",n.tagName)}}var DM=(()=>{let e=class e extends Rt{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>"Delete",hidden:()=>this.inputs.mode=="create",click:()=>this.deleteTag()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>this.inputs.mode=="create"?"Create":"Save",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}ngOnInit(){this.inputs.group&&(this.groupName=this.inputs.group.name),this.inputs.tag&&(this.tagName=this.inputs.tag.name)}deleteTag(){this.inputs.mode=="edit"&&(this.inputs.tag==null?this.dialogService.createConfirmation("Delete Tag Group",['Delete tag group "'+this.inputs.group.name+'"?'],"Yes","No").then(r=>{if(r){M.remove(this.stateService.tags,this.inputs.group.tags),M.remove(this.stateService.tagGroups,this.inputs.group);for(let i of this.stateService.images)M.remove(i.tags,this.inputs.group.tags);this.stateService.save(),this.resolve(null)}}):this.dialogService.createConfirmation("Delete Tag",['Delete tag "'+this.inputs.group.name+" - "+this.inputs.tag.name+'"?'],"Yes","No").then(r=>{if(r){M.remove(this.stateService.tags,this.inputs.tag),M.remove(this.inputs.group.tags,this.inputs.tag),M.isEmpty(this.inputs.group.tags)&&M.remove(this.stateService.tagGroups,this.inputs.group);for(let i of this.stateService.images)M.remove(i.tags,this.inputs.tag);this.stateService.save(),this.resolve(null)}}))}canSubmit(){if(this.inputs.mode=="create"){if(it.isEmpty(this.groupName)||it.isEmpty(this.tagName))return!1;for(let r of this.stateService.tagGroups)for(let i of r.tags)if(r.name==this.groupName&&i.name==this.tagName)return!1}else if(this.inputs.tag==null){if(it.isEmpty(this.groupName)||this.groupName==this.inputs.group.name)return!1;for(let r of this.stateService.tagGroups)if(r.name==this.groupName)return!1}else{if(it.isEmpty(this.groupName)||it.isEmpty(this.tagName)||this.inputs.group&&this.inputs.tag&&this.groupName==this.inputs.group.name&&this.tagName==this.inputs.tag.name)return!1;for(let r of this.stateService.tagGroups)for(let i of r.tags)if(r.name==this.groupName&&i.name==this.tagName)return!1}return!0}submit(){if(this.canSubmit()){if(this.inputs.mode=="create"){let r=this.stateService.tagGroups.find(o=>o.name==this.groupName);r||(r={name:this.groupName,tags:[]},this.stateService.tagGroups.push(r),this.stateService.tagGroups.sort((o,s)=>o.name.localeCompare(s.name)));let i={id:bM(),name:this.tagName,state:0};r.tags.push(i),r.tags.sort((o,s)=>o.name.localeCompare(s.name)),this.stateService.tags.push(i),this.stateService.tags.sort((o,s)=>o.name.localeCompare(s.name))}else if(this.inputs.tag==null)this.inputs.group.name=this.groupName,this.stateService.tagGroups.sort((r,i)=>r.name.localeCompare(i.name));else{let r=this.inputs.group;this.groupName!=r.name&&(M.remove(r.tags,this.inputs.tag),M.isEmpty(r.tags)&&M.remove(this.stateService.tagGroups,r),r=this.stateService.tagGroups.find(i=>i.name==this.groupName),r==null&&(r={name:this.groupName,tags:[]},this.stateService.tagGroups.push(r),this.stateService.tagGroups.sort((i,o)=>i.name.localeCompare(o.name))),r.tags.push(this.inputs.tag),r.tags.sort((i,o)=>i.name.localeCompare(o.name))),this.tagName!=this.inputs.tag.name&&(this.inputs.tag.name=this.tagName,r.tags.sort((i,o)=>i.name.localeCompare(o.name)),this.stateService.tags.sort((i,o)=>i.name.localeCompare(o.name)))}this.stateService.save(),this.resolve(this.inputs.tag)}}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery-tag-editor"]],standalone:!0,features:[et,X],decls:5,vars:2,consts:[[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[4,"ngIf"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span"),N(2,"Group Name"),g(),f(3,"input",1),br("ngModelChange",function(a){return si(o.groupName,a)||(o.groupName=a),a}),g()(),F(4,Iq,5,1,"ng-container",2)),i&2&&(v(3),Ir("ngModel",o.groupName),v(),w("ngIf",o.inputs.mode=="create"||o.inputs.tag))},dependencies:[Z,Me,yn,$r,ao,wi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;gap:.9999999999rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:3rem;box-sizing:border-box}"]});let t=e;return t})();var Fa=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(x(Lt))},e.\u0275dir=lt({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function bq(t,e){t&1&&(f(0,"span"),N(1,"No Images"),g())}function Tq(t,e){if(t&1){let n=G();f(0,"div",4),I("click",function(){let o=T(n).$implicit,s=_(3);return D(s.stateService.target.set(o))}),f(1,"i",5),I("click",function(i){let s=T(n).$implicit,a=_(3);return i.stopPropagation(),D(a.removeImage(s))}),g(),f(2,"img",6,7),I("load",function(){T(n);let i=Ye(3);return D(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=_(3);w("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),v(2),jt("width",120*n.aspectRatio,"px"),w("src",n.thumbnailLink,mn)}}function Dq(t,e){if(t&1&&(f(0,"div",2),F(1,Tq,4,5,"div",3),g()),t&2){let n=_(2);v(),w("ngForOf",n.stateService.groupEditorGroup.images)}}function Sq(t,e){if(t&1&&(He(0),F(1,bq,2,0,"span",0)(2,Dq,2,1,"div",1),ze()),t&2){let n=_();v(),w("ngIf",n.stateService.groupEditorGroup.images.length==0),v(),w("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var SM=(()=>{let e=class e extends Rt{constructor(r,i){super(),this.stateService=r,this.dialogService=i,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation("Confirmation",["Are you sure you want to disband this group of images?"],"Yes","No").then(o=>{o&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length<2,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[],tags:[]},this.stateService.updateFilters()}removeImage(r){M.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){M.remove(this.stateService.groups,r);for(let i of r.images)delete i.group;this.stateService.save(!0),this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(!0),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(x(pt),x(ft))},e.\u0275cmp=Y({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[et,X],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&F(0,Sq,3,2,"ng-container",0),i&2&&w("ngIf",o.stateService.groupEditorGroup)},dependencies:[Z,$e,Me,Fa,Zt],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();var vs=class t{static getBetterThan(e,n,r,i=[]){for(let o of r[e])M.push(i,o),t.getBetterThan(o,n,r,i);return i}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let r=[],i=e;for(;i;)r.push(i),i.directlyBetterThan.length==1?i=i.directlyBetterThan[0]:i=null;let o=[];return n.filter(s=>!r.includes(s)).forEach(s=>o.push([s,s.getBetterThan().length])),o.sort((s,a)=>a[1]-s[1]),M.push(r,o.map(s=>s[0])),r}};var np=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)M.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var Va=class{constructor(e,n,r){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(i=>new np(n(i),i)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),r&&Object.keys(r).length>0)for(let i of this.contenders)i.directlyBetterThan=r[i.id]?.map(o=>this.contenders.find(s=>s.id==o))||[];this.first=vs.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=vs.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=vs.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,r,i;do{for(let o of this.contenders)i=o.directlyBetterThan.filter(s=>!e.includes(s)),i.length>n&&(n=i.length,r=i,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=r[0],s=r[1];o.isBetterThan(s)?(M.remove(this.resolvingTiesFor.directlyBetterThan,s),M.push(o.directlyBetterThan,s),this.nextComparison()):s.isBetterThan(o)?(M.remove(this.resolvingTiesFor.directlyBetterThan,o),M.push(s.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,s],this.history.unshift(o,s),this.leaderboard=vs.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(M.push(this.winnersQueue,e),M.push(this.losersQueue,n),M.push(e.directlyBetterThan,n),this.queue.length<=1){let r=this.queue.shift();r&&this.winnersQueue.unshift(r),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":M.push(this.winnersQueue,e),M.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":M.push(this.losersQueue,n),M.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":M.remove(this.resolvingTiesFor.directlyBetterThan,n),M.push(e.directlyBetterThan,n);break}this.contenders.forEach(r=>r.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Aq(t,e){if(t&1){let n=G();f(0,"div",4)(1,"div",5),I("click",function(){T(n);let i=_();return D(i.onImageClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),B(2,"img",6),g(),B(3,"div",7),f(4,"div",5),I("click",function(){T(n);let i=_();return D(i.onImageClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),B(5,"img",6),g()()}if(t&2){let n=_();v(2),w("src",n.tournament.currentComparison[0].object.thumbnailLink,mn),v(3),w("src",n.tournament.currentComparison[1].object.thumbnailLink,mn)}}function xq(t,e){if(t&1&&(f(0,"div",8),B(1,"img",6),g()),t&2){let n=e.$implicit;v(),w("src",n.object.thumbnailLink,mn)}}var AM=(()=>{let e=class e extends Rt{constructor(r){super(),this.stateService=r,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new Va(this.inputs.images,r=>r.id,this.stateService.comparison)}onImageClick(r,i){this.tournament.handleUserInput(r,i)}reset(){this.tournament.reset()}save(){let r={};for(let i of this.tournament.contenders)r[i.id]=i.directlyBetterThan.map(o=>o.id);this.stateService.comparison=r,this.stateService.save(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(i){return new(i||e)(x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-image-comparison"]],standalone:!0,features:[et,X],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(i,o){i&1&&(F(0,Aq,6,2,"div",0),B(1,"div",1),f(2,"div",2),F(3,xq,2,1,"div",3),g()),i&2&&(w("ngIf",o.tournament.currentComparison),v(3),w("ngForOf",o.tournament.leaderboard))},dependencies:[Z,$e,Me],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var zr=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.stateService=i,this.tippyService=o}openFileInformation(r){this.dialogService.createMessage("File Information",["File Name: "+r.name,"File Type: "+r.mimeType,"Resolution: "+r.imageMediaMetadata.width+"\xD7"+r.imageMediaMetadata.height])}openImageComparison(){this.dialogService.create(AM,{images:M.shuffle(this.stateService.images.slice())})}openImageGroupEditor(r){this.dialogService.create(SM,{sourceGroup:r})}openSettings(){this.dialogService.create(tp)}openTagEditor(r,i,o){this.dialogService.create(DM,{mode:r,group:i,tag:o})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(j(ft),j(pt),j(Qx))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mq(t,e){if(t&1){let n=G();f(0,"div",22),I("click",function(){let o=T(n).$implicit,s=_();return D(s.stateService.openTagGroup=o)})("contextmenu",function(i){let s=T(n).$implicit,a=_();return i.preventDefault(),D(a.galleryService.openTagEditor("edit",s))}),f(1,"span"),N(2),g(),B(3,"div",23),g()}if(t&2){let n=e.$implicit,r=_();v(),oe("highlight",r.isSomeTagInGroupActive(n)),v(),ye(n.name),v(),oe("transparent",n!=r.stateService.openTagGroup)}}function Pq(t,e){if(t&1){let n=G();f(0,"span",26),I("click",function(){let o=T(n).$implicit,s=_(2);return D(s.toggleFilter(o))})("contextmenu",function(i){let s=T(n).$implicit,a=_().$implicit,c=_();return i.preventDefault(),D(c.galleryService.openTagEditor("edit",a,s))}),N(1),g()}if(t&2){let n=e.$implicit,r=_(2);w("ngClass",r.getFilterClass(n)),v(),ye(n.name)}}function Oq(t,e){if(t&1&&(f(0,"div",24),F(1,Pq,2,2,"span",25),g()),t&2){let n=e.$implicit,r=_();oe("transparent",n!=r.stateService.openTagGroup),v(),w("ngForOf",n.tags)}}var xM=(()=>{let e=class e{constructor(r,i){this.galleryService=r,this.stateService=i,this.collapsed=!1}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters(),this.stateService.save()}canClear(){return this.stateService.tags?.some(r=>r.state!=0)}isSomeTagInGroupActive(r){return r.tags.some(i=>i.state!=0)}getFilterClass(r,i=!1){switch(r.state){case 1:return"positive "+(i?"fa-solid":"");case-1:return"negative "+(i?"fa-solid":"");default:return i?"fa-regular":""}}};e.\u0275fac=function(i){return new(i||e)(x(zr),x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-filter"]],hostVars:2,hostBindings:function(i,o){i&2&&oe("collapsed",o.collapsed)},standalone:!0,features:[X],decls:35,vars:14,consts:[[1,"stack-container"],["tpPlacement","right",1,"icon-button","fa-solid",2,"z-index","1",3,"ngClass","tp","click"],[1,"animation-container"],[1,"header"],[1,"icon-button","transparent"],[1,"h-separator"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-heart",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",3,"ngClass"],[1,"fa-solid","fa-object-group",3,"ngClass"],[1,"filters-container","margins-2-h","margins-3-v"],[1,"groups-container"],["class","group-container hover-brighten white-space-nowrap",3,"click","contextmenu",4,"ngFor","ngForOf"],[1,"v-separator"],[1,"stack-container","width-auto","height-auto"],["class","tags-container",3,"transparent",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"group-container","hover-brighten","white-space-nowrap",3,"click","contextmenu"],[1,"group-active-indicator"],[1,"tags-container"],["class","cursor-pointer hover-brighten white-space-nowrap",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover-brighten","white-space-nowrap",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"i",1),I("click",function(){return o.collapsed=!o.collapsed}),g(),f(2,"div",2)(3,"div",3),B(4,"i",4),f(5,"span"),N(6,"Filter Configuration"),g()(),B(7,"div",5),f(8,"div",6)(9,"div",7),I("click",function(){return o.toggleFilter(o.stateService.filterFavorite)}),B(10,"i",8),f(11,"span",9),N(12,"Favorites"),g()(),f(13,"div",7),I("click",function(){return o.toggleFilter(o.stateService.filterBookmark)}),B(14,"i",10),f(15,"span",9),N(16,"Bookmarks"),g()(),f(17,"div",7),I("click",function(){return o.toggleFilter(o.stateService.filterGroups)}),B(18,"i",11),f(19,"span",9),N(20,"Groups"),g()()(),B(21,"div",5),f(22,"div",12)(23,"div",13),F(24,Mq,4,5,"div",14),g(),B(25,"div",15),f(26,"div",16),F(27,Oq,2,3,"div",17),g()(),f(28,"div",18)(29,"div",19),I("click",function(){return o.galleryService.openTagEditor("create",o.stateService.openTagGroup)}),B(30,"i",20),N(31,"Create"),g(),f(32,"div",19),I("click",function(){return o.clearFilters()}),B(33,"i",21),N(34,"Clear"),g()()()()),i&2&&(v(),w("ngClass",o.collapsed?"fa-filter":"fa-caret-left")("tp",o.collapsed?"Filter Configuration":"Collapse"),v(),oe("collapsed",o.collapsed),v(8),w("ngClass",o.getFilterClass(o.stateService.filterFavorite,!0)),v(),w("ngClass",o.getFilterClass(o.stateService.filterFavorite)),v(3),w("ngClass",o.getFilterClass(o.stateService.filterBookmark,!0)),v(),w("ngClass",o.getFilterClass(o.stateService.filterBookmark)),v(3),w("ngClass",o.getFilterClass(o.stateService.filterGroups)),v(),w("ngClass",o.getFilterClass(o.stateService.filterGroups)),v(5),w("ngForOf",o.stateService.tagGroups),v(3),w("ngForOf",o.stateService.tagGroups),v(5),oe("disabled",!o.canClear()))},dependencies:[Z,Tt,$e,Zt],styles:["[_nghost-%COMP%]{width:300px;padding:.3333333333rem;-webkit-user-select:none;user-select:none;transition:.5s}.collapsed[_nghost-%COMP%]{width:42px}[_nghost-%COMP%]   .animation-container[_ngcontent-%COMP%]{width:300px;display:flex;flex-direction:column;transition:.5s}[_nghost-%COMP%]   .animation-container.collapsed[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transform:translate(calc(-100% + 42px))}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-active-indicator[_ngcontent-%COMP%]{width:100%;min-width:.6666666666rem;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible;margin-left:1rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"]});let t=e;return t})();function Rq(t,e){if(t&1){let n=G();f(0,"div",20),I("click",function(){let o=T(n).$implicit,s=_();return D(s.stateService.openTagGroup=o)})("contextmenu",function(i){let s=T(n).$implicit,a=_();return i.preventDefault(),D(a.galleryService.openTagEditor("edit",s))}),f(1,"span"),N(2),g(),B(3,"div",21),g()}if(t&2){let n=e.$implicit,r=_();v(),oe("highlight",r.isSomeTagActiveInGroup(n)),v(),ye(n.name),v(),oe("transparent",n!=r.stateService.openTagGroup)}}function Nq(t,e){if(t&1){let n=G();f(0,"span",24),I("click",function(){let o=T(n).$implicit,s=_(2);return D(s.toggleTag(s.target,o))})("contextmenu",function(i){let s=T(n).$implicit,a=_().$implicit,c=_();return i.preventDefault(),D(c.galleryService.openTagEditor("edit",a,s))}),N(1),g()}if(t&2){let n=e.$implicit,r=_(2);w("ngClass",r.getTagClass(n)),v(),ye(n.name)}}function kq(t,e){if(t&1&&(f(0,"div",22),F(1,Nq,2,2,"span",23),g()),t&2){let n=e.$implicit,r=_();oe("transparent",n!=r.stateService.openTagGroup),v(),w("ngForOf",n.tags)}}var MM=(()=>{let e=class e{constructor(r,i){this.galleryService=r,this.stateService=i,this.collapsed=!1,this.groupMode=!1,ai(()=>{this.target=this.stateService.target(),this.target==null&&(this.groupMode=!1)})}toggleTag(r,i){r.group?this.groupMode?r.group.tags.includes(i)?M.remove(r.group.tags,i):(r.group.tags.push(i),r.group.images.forEach(o=>M.remove(o.tags,i))):r.group.tags.includes(i)||M.toggle(r.tags,i):M.toggle(r.tags,i),this.stateService.save(),this.stateService.updateFilters()}isSomeTagActiveInGroup(r){if(this.target){if(this.target.group&&r.tags.some(i=>this.target.group.tags.some(o=>i==o)))return!0;if(!this.groupMode)return r.tags.some(i=>this.target.tags.some(o=>i==o))}}getTagClass(r){let i=[];return this.target&&(this.target.group?this.groupMode?(i.push("cursor-pointer"),i.push("hover-brighten"),this.target.group.tags.includes(r)&&i.push("positive")):(this.target.group.tags.includes(r)?(i.push("positive"),i.push("underline"),i.push("opacity-075"),i.push("pointer-events-none")):(i.push("cursor-pointer"),i.push("hover-brighten")),this.target.tags.includes(r)&&i.push("positive")):(i.push("cursor-pointer"),i.push("hover-brighten"),this.target.tags.includes(r)&&i.push("positive"))),i.join(" ")}};e.\u0275fac=function(i){return new(i||e)(x(zr),x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-tag-manager"]],hostVars:2,hostBindings:function(i,o){i&2&&oe("collapsed",o.collapsed)},standalone:!0,features:[X],decls:31,vars:26,consts:[[1,"stack-container"],["tpPlacement","left",1,"icon-button","fa-solid",2,"position","absolute","justify-self","end",3,"ngClass","tp","click"],[1,"animation-container"],[1,"header"],[1,"icon-button","transparent"],[1,"h-separator"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-regular","fa-heart"],[1,"fa-regular","fa-bookmark"],[1,"filters-container","margins-2-h","margins-3-v"],[1,"groups-container"],["class","group-container hover-brighten white-space-nowrap",3,"click","contextmenu",4,"ngFor","ngForOf"],[1,"v-separator"],[1,"stack-container","width-auto","height-auto"],["class","tags-container",3,"transparent",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid",3,"ngClass"],[1,"group-container","hover-brighten","white-space-nowrap",3,"click","contextmenu"],[1,"group-active-indicator"],[1,"tags-container"],["class","white-space-nowrap",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"white-space-nowrap",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"i",1),I("click",function(){return o.collapsed=!o.collapsed}),g(),f(2,"div",2)(3,"div",3),B(4,"i",4),f(5,"span"),N(6,"Tag Manager"),g()(),B(7,"div",5),f(8,"div",6)(9,"div",7),I("click",function(){return o.stateService.toggleFavorite(o.target,!0)}),B(10,"i",8),f(11,"span"),N(12,"Favorite"),g()(),f(13,"div",7),I("click",function(){return o.stateService.toggleBookmark(o.target,!0)}),B(14,"i",9),f(15,"span"),N(16,"Bookmark"),g()()(),B(17,"div",5),f(18,"div",10)(19,"div",11),F(20,Rq,4,5,"div",12),g(),B(21,"div",13),f(22,"div",14),F(23,kq,2,3,"div",15),g()(),f(24,"div",16)(25,"div",17),I("click",function(){return o.galleryService.openTagEditor("create",o.stateService.openTagGroup)}),B(26,"i",18),N(27,"Create"),g(),f(28,"div",17),I("click",function(){return o.groupMode=!o.groupMode}),B(29,"i",19),N(30),g()()()()),i&2&&(v(),w("ngClass",o.collapsed?"fa-tags":"fa-caret-right")("tp",o.collapsed?"Tag Manager":"Collapse"),v(),oe("collapsed",o.collapsed),v(6),oe("disabled",!o.target),v(),oe("disabled",o.groupMode)("positive",o.target==null?null:o.target.heart),v(),oe("fa-solid",o.target==null?null:o.target.heart),v(3),oe("disabled",o.groupMode)("positive",o.target==null?null:o.target.bookmark),v(),oe("fa-solid",o.target==null?null:o.target.bookmark),v(4),oe("disabled",!o.target),v(2),w("ngForOf",o.stateService.tagGroups),v(3),w("ngForOf",o.stateService.tagGroups),v(5),oe("disabled",(o.target==null?null:o.target.group)==null),v(),w("ngClass",o.groupMode?"fa-images":"fa-image"),v(),Rd("Mode: ",o.groupMode?"Group":"Image",""))},dependencies:[Z,Tt,$e,Zt],styles:["[_nghost-%COMP%]{width:300px;padding:.3333333333rem;-webkit-user-select:none;user-select:none;transition:.5s}.collapsed[_nghost-%COMP%]{width:42px}[_nghost-%COMP%]   .animation-container[_ngcontent-%COMP%]{width:300px;display:flex;flex-direction:column;transition:.5s}[_nghost-%COMP%]   .animation-container.collapsed[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-active-indicator[_ngcontent-%COMP%]{width:100%;min-width:.6666666666rem;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible;margin-left:1rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"]});let t=e;return t})();var PM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new Dw,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(x(Lt),x(Jn))},e.\u0275dir=lt({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),Dw=class{};function Fq(t,e){if(t&1){let n=G();f(0,"i",21),I("click",function(){T(n);let i=_(2);return D(i.setRandomGroupTarget())}),g()}}function Vq(t,e){if(t&1){let n=G();He(0),f(1,"i",22),I("click",function(){T(n);let i=_().ngVar,o=_();return D(o.googleService.download(i))}),g(),B(2,"div",6),f(3,"i",23),I("click",function(i){T(n);let o=_().ngVar,s=_();return i.stopPropagation(),D(s.googleService.openSearch(o.name))}),g(),f(4,"i",24),I("click",function(i){T(n);let o=_().ngVar,s=_();return i.stopPropagation(),D(s.galleryService.openYandexReverseImageSearch(i,o))}),g(),B(5,"div",6),ze()}}function Lq(t,e){if(t&1){let n=G();f(0,"div",30)(1,"img",31,32),I("click",function(){let o=T(n).$implicit,s=_(4);return D(s.onImageClick(o))})("load",function(){T(n);let i=Ye(2);return D(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=_(4);w("@fade",void 0),v(),w("src",r.getSrc(n),mn)}}var Sw=t=>[t];function jq(t,e){if(t&1&&(f(0,"div",28),F(1,Lq,3,2,"div",29),g()),t&2){let n=_(2).ngVar;w("@fade",void 0),v(),w("ngForOf",Nd(2,Sw,n))}}function Uq(t,e){if(t&1){let n=G();f(0,"div",30)(1,"img",31,32),I("click",function(){let o=T(n).$implicit,s=_(4);return D(s.onImageClick(o))})("load",function(){T(n);let i=Ye(2);return D(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=_(4);w("@fade",void 0),v(),w("src",r.getSrc(n),mn)}}function Bq(t,e){if(t&1){let n=G();f(0,"img",31,39),I("click",function(){let o=T(n).$implicit,s=_(5);return D(s.stateService.target.set(o))})("load",function(){T(n);let i=Ye(1);return D(i.style.opacity="1")}),g()}if(t&2){let n=e.$implicit;jt("height",120,"px")("width",120*n.aspectRatio,"px"),w("src",n.thumbnailLink,mn)}}function $q(t,e){if(t&1&&(f(0,"div",37),F(1,Bq,2,5,"img",38),g()),t&2){let n=e.$implicit;w("@fade",void 0),v(),w("ngForOf",n.images)}}function Hq(t,e){if(t&1&&(f(0,"div",33)(1,"div",34),F(2,Uq,3,2,"div",29),g(),f(3,"div",35),F(4,$q,2,2,"div",36),g()()),t&2){let n=_(2).ngVar;w("@fade",void 0),v(2),w("ngForOf",Nd(3,Sw,n)),v(2),w("ngForOf",Nd(5,Sw,n.group))}}function zq(t,e){if(t&1&&(f(0,"div",25),F(1,jq,2,4,"div",26)(2,Hq,5,7,"div",27),g()),t&2){let n=_().ngVar;w("@fade",void 0),v(),w("ngIf",!n.group),v(),w("ngIf",n.group)}}function qq(t,e){if(t&1){let n=G();f(0,"i",40),I("click",function(){T(n);let i=_().ngVar,o=_();return D(o.galleryService.openImageGroupEditor(i.group))}),g()}}function Gq(t,e){if(t&1){let n=G();He(0),f(1,"img",1),I("load",function(){T(n);let i=_();return D(i.loadingT=!1)}),g(),f(2,"img",1),I("load",function(){T(n);let i=_();return D(i.loadingC=!1)}),g(),f(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),I("click",function(){T(n);let i=_();return D(i.stateService.target.set(null))}),g(),B(7,"div",6),f(8,"i",7),I("click",function(){T(n);let i=_();return D(i.setRandomTarget())}),g(),F(9,Fq,1,0,"i",8),g(),B(10,"div",9),f(11,"div",10),F(12,Vq,6,0,"ng-container",11),f(13,"i",12),I("click",function(){let o=T(n).ngVar,s=_();return D(s.stateService.delete(o,!0))}),g(),f(14,"i",13),I("click",function(){let o=T(n).ngVar,s=_();return D(s.stateService.delete(o,!1))}),g()()(),F(15,zq,3,3,"div",14),f(16,"div",15)(17,"div",4)(18,"i",16),I("click",function(){T(n);let i=_();return D(i.stateService.target.set(null))}),g(),B(19,"div",6),f(20,"i",17),I("click",function(){let o=T(n).ngVar,s=_();return D(s.stateService.toggleFavorite(o,!0))}),g(),f(21,"i",18),I("click",function(){let o=T(n).ngVar,s=_();return D(s.stateService.toggleBookmark(o,!0))}),g()(),B(22,"div",9),f(23,"div",10),F(24,qq,1,0,"i",19),f(25,"i",20),I("click",function(){let o=T(n).ngVar,s=_();return D(s.galleryService.openFileInformation(o))}),g()()()(),ze()}if(t&2){let n=e.ngVar,r=_();v(),w("src",n==null?null:n.thumbnailLink,mn),v(),w("src",n==null?null:n.contentLink,mn),v(7),w("ngIf",n==null?null:n.group),v(3),w("ngIf",r.ScreenUtils.isLargeScreen()),v(3),w("ngIf",n),v(5),w("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),v(),w("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),v(3),w("ngIf",n==null?null:n.group)}}var OM=(()=>{let e=class e{constructor(r,i,o,s,a){this.applicationService=r,this.googleService=i,this.stateService=o,this.dialogService=s,this.galleryService=a,this.ScreenUtils=Mn,this.loadingT=!0,this.loadingC=!0,this.video=!1,ai(()=>{let c=this.stateService.target();c&&(Pn.isVideo(c)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))})}initKeybinds(r){if(["BODY","VIDEO"].includes(r.target.nodeName)&&this.stateService.target())switch(r.code){case"Escape":this.stateService.target.set(null);return;case"KeyR":this.setRandomTarget();return;case"KeyG":this.setRandomGroupTarget();return}}setRandomTarget(){if(!M.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=M.getRandom(this.stateService.filter(),i.group.images):r=M.getRandom(this.stateService.filter(),[i]):r=M.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(M.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return M.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return M.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(M.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(M.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(co),x(pt),x(ft),x(zr))},e.\u0275cmp=Y({type:e,selectors:[["app-fullscreen"]],hostBindings:function(i,o){i&1&&I("keydown",function(a){return o.initKeybinds(a)},!1,pc)},standalone:!0,features:[X],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"h-separator","gap"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],[4,"ngIf"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Close","tpPlacement","left",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager","tpPlacement","left",3,"click",4,"ngIf"],["tp","File Information","tpPlacement","left",1,"icon-button","fa-solid","fa-circle-info",3,"click"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tp","Download","tpPlacement","right",1,"icon-button","fa-solid","fa-download",3,"click"],["tp","Google Drive","tpPlacement","right",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Yandex RIS","tpPlacement","right",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","has-group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"has-group-container"],[1,"another-container","stack-container"],[1,"group-images-container","stack-container"],["class","group-image-container",4,"ngFor","ngForOf"],[1,"group-image-container"],[3,"height","width","src","click","load",4,"ngFor","ngForOf"],["groupImageElement",""],["tp","Group Manager","tpPlacement","left",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&F(0,Gq,26,8,"ng-container",0),i&2&&w("ngVar",o.stateService.target())},dependencies:[Z,Tt,$e,Me,PM,Zt],styles:["[_nghost-%COMP%]{width:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0;justify-content:flex-end}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{height:auto}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:hidden;padding:0;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;cursor:pointer}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[Ra]}});let t=e;return t})();var RM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Je}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(x(ut))},e.\u0275dir=lt({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var NM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.galleryService=i}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(zr))},e.\u0275cmp=Y({type:e,selectors:[["app-header"]],standalone:!0,features:[X],decls:7,vars:1,consts:[[1,"header-start"],["tp","Open Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"i",1),I("click",function(){return o.galleryService.openImageComparison()}),g(),f(2,"i",2),I("click",function(){return o.galleryService.openImageGroupEditor()}),g()(),B(3,"div",3),f(4,"div",4)(5,"i",5),I("click",function(){return o.applicationService.toggleTheme()}),g(),f(6,"i",6),I("click",function(){return o.galleryService.openSettings()}),g()()),i&2&&(v(5),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,Tt,Zt],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:1fr auto 1fr}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Wq(t,e){if(t&1){let n=G();f(0,"i",13),I("click",function(i){T(n);let o=_(2).$implicit;return _().galleryService.openImageGroupEditor(o.group),D(i.stopPropagation())}),g()}}function Kq(t,e){if(t&1){let n=G();He(0),f(1,"div",8)(2,"i",9),I("click",function(i){T(n);let o=_().$implicit,s=_();return i.stopPropagation(),D(s.stateService.toggleFavorite(o,!0))}),g(),f(3,"i",10),I("click",function(i){T(n);let o=_().$implicit,s=_();return i.stopPropagation(),D(s.stateService.toggleBookmark(o,!0))}),g()(),f(4,"div",11),F(5,Wq,1,0,"i",12),g(),ze()}if(t&2){let n=_().$implicit;v(2),w("ngClass",n.heart?"fa-solid active":"fa-regular"),v(),w("ngClass",n.bookmark?"fa-solid active":"fa-regular"),v(2),w("ngIf",n.group)}}function Qq(t,e){if(t&1){let n=G();f(0,"div",3),I("click",function(){let o=T(n).$implicit,s=_();return D(s.onImageClick(o))}),f(1,"div",4)(2,"img",5,6),I("create",function(i){let s=T(n).$implicit,a=_();return D(a.bricks[s.id]=i.nativeElement)})("load",function(){T(n);let i=Ye(3);return D(i.style.opacity="1")}),g()(),F(4,Kq,6,3,"ng-container",7),g()}if(t&2){let n=e.$implicit,r=_();jt("width",n.masonryWidth,"px")("height",n.masonryHeight,"px")("top",n.masonryTop,"px")("left",n.masonryLeft,"px")("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),w("@fade",void 0),v(2),w("src",n.thumbnailLink,mn),v(2),w("ngIf",r.areBrickButtonsVisible())}}var kM=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.cdr=i,this.applicationService=o,this.stateService=s,this.googleService=a,this.galleryService=c,this.bricks={},this.layoutUpdateDelay=new Ur(100),ai(()=>this.updateLayout()),new ResizeObserver(()=>this.requestLayoutUpdate()).observe(r.nativeElement)}requestLayoutUpdate(){this.layoutUpdateDelay.restart(()=>{let r=this.masonryScrollContainer.scrollTop/(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight);this.updateLayout();let i=(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight)*r;setTimeout(()=>this.masonryScrollContainer.scrollTo({top:i,behavior:"smooth"}),500),this.cdr.detectChanges()})}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilter):!0),this.masonryImages.length==0)return;let r=Mn.isLargeScreen()?250:200,i=Mn.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.masonryWidth!=a&&(u.masonryWidth=a,u.masonryHeight=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.masonryTop=c[d],u.masonryLeft=l[d],c[d]=c[d]+u.masonryHeight+i}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r;this.bricks[i?.id].scrollIntoView()}}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;M.toggle(i.images,r);return}this.stateService.target.set(r)}areBrickButtonsVisible(){return Mn.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(x(ut),x(Dr),x(rt),x(pt),x(co),x(zr))},e.\u0275cmp=Y({type:e,selectors:[["app-masonry"]],standalone:!0,features:[X],decls:4,vars:1,consts:[[1,"masonry-scroll-container",3,"create"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"width","height","top","left","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager",3,"click",4,"ngIf"],["tp","Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&(B(0,"app-header"),f(1,"div",0),I("create",function(a){return o.masonryScrollContainer=a.nativeElement}),f(2,"div",1),I("create",function(a){return o.masonryContainer=a.nativeElement,o.updateLayout()}),F(3,Qq,5,13,"div",2),g()()),i&2&&(v(3),w("ngForOf",o.masonryImages))},dependencies:[Z,Tt,$e,Me,RM,Zt,NM],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left,width,height,opacity;transition-duration:.5s;padding-bottom:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[Ra]}});let t=e;return t})();function Yq(t,e){if(t&1&&(f(0,"div",1)(1,"div",2),B(2,"app-filter")(3,"div",3)(4,"app-masonry"),g(),f(5,"div",4),B(6,"app-fullscreen")(7,"div",3)(8,"app-tag-manager"),g()()),t&2){let n=_();w("@enter",void 0),v(5),oe("transparent",!n.stateService.target())}}var FM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.loading=!0,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData().then(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(x(rt),x(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery"]],standalone:!0,features:[X],decls:1,vars:1,consts:[["class","stack-container",4,"ngIf"],[1,"stack-container"],[1,"flex"],[1,"v-separator","gaps"],[1,"fullscreen-container"]],template:function(i,o){i&1&&F(0,Yq,9,3,"div",0),i&2&&w("ngIf",!o.loading)},dependencies:[Z,Me,xM,kM,OM,MM],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background);z-index:1;transition:.5s}"],data:{animation:[Jx]}});let t=e;return t})();var ys=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function Xq(t,e){if(t&1){let n=G();f(0,"div",5)(1,"div",6)(2,"span"),N(3,"po\u010Det t\xEDmov"),g(),f(4,"input",7,8),I("input",function(){T(n);let i=Ye(5),o=_();return D(o.onTeamCountChange(i))}),g()(),f(6,"div",6)(7,"span"),N(8,"trvanie kola"),g(),f(9,"input",7,9),I("input",function(){T(n);let i=Ye(10),o=_();return D(o.onRoundDurationChange(i))}),g()(),f(11,"span",10),I("click",function(){T(n);let i=_();return D(i.settingsDone())}),N(12,"\u0161tart"),g()()}if(t&2){let n=_();v(4),w("value",4),v(5),w("value",60),v(2),oe("disabled",!n.validateSettings())}}function Jq(t,e){t&1&&(f(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function Zq(t,e){if(t&1){let n=G();f(0,"div",11),F(1,Jq,2,0,"span",12),f(2,"span"),N(3),g(),f(4,"span"),N(5),g(),f(6,"span",10),I("click",function(){T(n);let i=_();return D(i.startRound())}),N(7,"\u0161tart"),g()()}if(t&2){let n=_();v(),w("ngIf",n.isCurrentRoundForEveryone()),v(2),ye(n.getCurrentDiscipline()),v(2),ye(n.availablePhrases[0])}}function eG(t,e){if(t&1){let n=G();f(0,"span",10),I("click",function(){T(n);let i=_(2);return D(i.endRoundEarly())}),N(1,"hotovo"),g()}}function tG(t,e){if(t&1&&(f(0,"div",13)(1,"span"),N(2),g(),F(3,eG,2,0,"span",14),g()),t&2){let n=_();v(2),ye(n.timeLeft),v(),w("ngIf",n.showEndRoundEarlyButton)}}function nG(t,e){t&1&&(f(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function rG(t,e){if(t&1){let n=G();f(0,"input",18,19),I("input",function(){T(n);let i=Ye(1),o=_(2);return D(o.onForEveryoneWinnerChange(i))}),g()}}function iG(t,e){if(t&1){let n=G();f(0,"div",15),F(1,nG,2,0,"span",12),f(2,"span"),N(3),g(),f(4,"span"),N(5),g(),f(6,"div",16),F(7,rG,2,0,"input",17),f(8,"span",10),I("click",function(){T(n);let i=_();return D(i.roundOver(!0))}),N(9,"uh\xE1dli"),g()(),f(10,"span",10),I("click",function(){T(n);let i=_();return D(i.roundOver(!1))}),N(11,"neuh\xE1dli"),g()()}if(t&2){let n=_();v(),w("ngIf",n.isCurrentRoundForEveryone()),v(2),ye(n.getCurrentDiscipline()),v(2),ye(n.availablePhrases[0]),v(),jt("gap","2rem"),v(),w("ngIf",n.isCurrentRoundForEveryone()),v(),jt("width",100,"%"),oe("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function oG(t,e){if(t&1&&(f(0,"span"),N(1),g()),t&2){let n=e.$implicit,r=e.index;v(),ko("",r+1,". t\xEDm: ",n.wins,"")}}function sG(t,e){if(t&1){let n=G();f(0,"div",20)(1,"span"),N(2,"sk\xF3re"),g(),F(3,oG,2,2,"span",21),f(4,"span",10),I("click",function(){T(n);let i=_();return D(i.currentView="instructions")}),N(5,"\u010Fa\u013E\u0161ie kolo"),g()()}if(t&2){let n=_();v(3),w("ngForOf",n.teams)}}var VM=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=M.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>M.push(s.roundDisciplines,M.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(ys.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-activity"]],standalone:!0,features:[X],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&F(0,Xq,13,4,"div",0)(1,Zq,8,3,"div",1)(2,tG,4,2,"div",2)(3,iG,12,10,"div",3)(4,sG,6,1,"div",4),i&2&&(w("ngIf",o.currentView=="settings"),v(),w("ngIf",o.currentView=="instructions"),v(),w("ngIf",o.currentView=="countdown"),v(),w("ngIf",o.currentView=="result"),v(),w("ngIf",o.currentView=="score"))},dependencies:[Z,$e,Me,yn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var LM=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],jM=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],UM=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var BM=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,M.push(this.availableQuestions,LM),M.push(this.availableQuestions,jM),M.push(this.availableQuestions,UM),M.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[X],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.next()}),f(1,"span"),N(2),g()()),i&2&&(v(2),ye(o.currentQuestion))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var $M=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=ys.from(this.limbs,this.limb),[this.color,this.backgroundColor]=ys.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-twister"]],standalone:!0,features:[X],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.spin()}),f(1,"span"),N(2),g()()),i&2&&(jt("background-color",o.backgroundColor),v(2),ko("",o.limb," ",o.color,""))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function aG(t,e){if(t&1){let n=G();He(0),f(1,"span",1),I("click",function(){T(n);let i=_();return D(i.navigate("gallery"))}),N(2,"Gallery"),g(),f(3,"span",1),I("click",function(){T(n);let i=_();return D(i.navigate("story-manager"))}),N(4,"Story Manager"),g(),f(5,"span",1),I("click",function(){T(n);let i=_();return D(i.navigate("comparison"))}),N(6,"Comparison"),g(),ze()}}var HM=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(x(vn),x(rt))},e.\u0275cmp=Y({type:e,selectors:[["app-landing"]],standalone:!0,features:[X],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span",1),I("click",function(){return o.navigate("games/activity")}),N(2,"Activity"),g(),f(3,"span",1),I("click",function(){return o.navigate("games/twister")}),N(4,"Twister"),g(),f(5,"span",1),I("click",function(){return o.navigate("games/nikdy-som")}),N(6,"Nikdy som"),g(),F(7,aG,7,0,"ng-container",2),g(),B(8,"div",3),f(9,"div",0)(10,"i",4),I("click",function(){return o.applicationService.toggleTheme()}),g()(),f(11,"div",5),I("click",function(){return o.dev=o.dev+1}),g()),i&2&&(v(7),w("ngIf",o.dev>4),v(3),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,Tt,Me],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var zM="https://mazacik.github.io",Aw={production:!0,baseUrl:zM,redirectUrl:zM+"/login"};var La=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+Aw.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:Aw.redirectUrl,plugin_name:"TagalleryWeb"};yield Pu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Pu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(j(Lo))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qM=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(x(ro),x(vn),x(La))},e.\u0275cmp=Y({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.signIn()}),B(1,"img",1),f(2,"span",2),N(3,"Sign in with Google"),g()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var rp=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=R(vn),r=R(La);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var GM=(t,e)=>{let n=R(vn),r=sessionStorage.getItem("dataFileId");return it.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var WM=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return R(vn).createUrlTree([""])};var KM=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&Fg("@crossfade",o.crossfade)},standalone:!0,features:[X],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(f(0,"span",0),N(1),g(),f(2,"span"),N(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),g(),f(4,"span"),N(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),g(),B(6,"img",1)),i&2&&(v(),ye(o.userAgent))},dependencies:[Z,yn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[Xx]}});let t=e;return t})();var lo=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!M.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],M.isEmpty(this.currentStory.notes)||(this.currentNote=M.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=it.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uo=(()=>{let e=class e extends ka{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new Ur(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.abort(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(j(Lo),j(rt),j(lo),j(ft))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lG(t,e){if(t&1){let n=G();f(0,"div",6),I("click",function(){let o=T(n).$implicit,s=_();return D(s.remove(o))}),f(1,"i",7),I("click",function(i){let s=T(n).$implicit;return _().editTag(s),D(i.stopPropagation())}),g(),f(2,"span"),N(3),g(),B(4,"i",8),g()}if(t&2){let n=e.$implicit,r=_();w("dragdrop",n)("dragdropParent",r.currentTags),v(3),ye(n)}}function uG(t,e){if(t&1){let n=G();f(0,"div",9),I("click",function(){let o=T(n).$implicit,s=_();return D(s.add(o))}),B(1,"i",10),f(2,"span"),N(3),g(),f(4,"div",11)(5,"i",7),I("click",function(i){let s=T(n).$implicit;return _().editTag(s),D(i.stopPropagation())}),g(),f(6,"i",12),I("click",function(i){let s=T(n).$implicit;return _().deleteTag(s),D(i.stopPropagation())}),g()()()}if(t&2){let n=e.$implicit;v(3),ye(n)}}var QM=(()=>{let e=class e extends Rt{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),M.remove(this.availableTags,r)}remove(r){M.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!it.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(M.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(M.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),M.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?M.remove(this.currentTags,r):M.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>M.remove(o.tags,r)),M.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(uo))},e.\u0275cmp=Y({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[et,X],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span"),N(2,"Tags"),g(),B(3,"div",1),F(4,lG,5,3,"div",2),g(),B(5,"div",3),f(6,"div",0)(7,"span"),N(8,"Available Tags"),g(),B(9,"div",1),F(10,uG,7,1,"div",4),f(11,"i",5),I("click",function(){return o.editTag()}),g()()),i&2&&(v(4),w("ngForOf",o.currentTags),v(6),w("ngForOf",o.availableTags))},dependencies:[Z,$e,Fa],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function dG(t,e){t&1&&B(0,"div",31)}function hG(t,e){if(t&1&&(He(0),F(1,dG,1,0,"div",29),f(2,"span",30),N(3),g(),ze()),t&2){let n=e.$implicit,r=e.index;v(),w("ngIf",r!=0),v(2),ye(n)}}function fG(t,e){if(t&1){let n=G();f(0,"div",20),I("click",function(){let o=T(n).$implicit,s=_(3);return D(s.setCurrentNote(o))})("dragend",function(){T(n);let i=_(3);return D(i.googleService.update())}),f(1,"div",21)(2,"span",22),N(3),g(),f(4,"div",23),F(5,hG,4,2,"ng-container",24),g()(),f(6,"div",25)(7,"span",26),N(8),g(),f(9,"div",27)(10,"i",28),I("click",function(i){let s=T(n).$implicit;return _(3).editTags(s),D(i.stopPropagation())}),g(),f(11,"i",13),I("click",function(i){let s=T(n).$implicit;return _(3).renameNote(s),D(i.stopPropagation())}),g(),f(12,"i",14),I("click",function(i){let s=T(n).$implicit,a=_(2).$implicit;return _().deleteNote(a,s),D(i.stopPropagation())}),g()()()()}if(t&2){let n=e.$implicit,r=_(2).$implicit,i=_();w("dragdrop",n)("dragdropParent",r.notes),v(2),oe("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),v(),ye(n.title),v(2),w("ngForOf",n.tags),v(3),ye(n.wordCount)}}function pG(t,e){if(t&1){let n=G();f(0,"div",16),F(1,fG,13,9,"div",17),f(2,"div",18)(3,"i",19),I("click",function(i){T(n);let o=_().$implicit;return _().createNote(o),D(i.stopPropagation())}),g()()()}if(t&2){let n=_().$implicit;w("@drawer",void 0),v(),w("ngForOf",n.notes)}}function mG(t,e){if(t&1){let n=G();f(0,"div",7)(1,"div",8),I("click",function(){let o=T(n).$implicit,s=_();return D(s.setCurrentStory(o))})("dragend",function(){T(n);let i=_();return D(i.googleService.update())}),f(2,"span",9),N(3),g(),f(4,"div",10)(5,"span",11),N(6),g(),f(7,"div",12)(8,"i",13),I("click",function(i){let s=T(n).$implicit;return _().renameStory(s),D(i.stopPropagation())}),g(),f(9,"i",14),I("click",function(i){let s=T(n).$implicit;return _().deleteStory(s),D(i.stopPropagation())}),g()()()(),F(10,pG,4,2,"div",15),g()}if(t&2){let n=e.$implicit,r=_();v(),w("dragdrop",n)("dragdropParent",r.stateService.stories),v(),oe("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),v(),ye(n.title),v(3),ye(r.getNotesWordCount(n)),v(4),w("ngIf",n==r.stateService.currentStory)}}var YM=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,Mn.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r){this.stateService.currentStory=r}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{it.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(M.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),M.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(QM,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{it.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),M.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!it.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(M.push(this.searchStories,i),M.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(x(ft),x(uo),x(lo))},e.\u0275cmp=Y({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[X],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=G();f(0,"input",0,1),I("input",function(){T(s);let c=Ye(1);return D(o.onSearchInputChange(c))})("focus",function(){T(s);let c=Ye(1);return D(c.select())}),g(),B(2,"div",2),f(3,"div",3),F(4,mG,11,9,"div",4),g(),B(5,"div",2),f(6,"div",5)(7,"i",6),I("click",function(){return o.createStory()}),g()()}i&2&&(v(4),w("ngForOf",o.stateService.stories))},dependencies:[Z,$e,Me,yn,Fa,Zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[Zx]}});let t=e;return t})();function gG(t,e){if(t&1){let n=G();He(0),f(1,"div",1)(2,"span",2),N(3),g()(),f(4,"div",3)(5,"textarea",4),br("ngModelChange",function(i){T(n);let o=_();return si(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),D(i)}),I("ngModelChange",function(){T(n);let i=_();return D(i.onChange())}),g()(),ze()}if(t&2){let n=_();v(),oe("focus-mode",!n.stateService.sidebarVisible),v(2),ko("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),v(2),oe("focus-mode",!n.stateService.sidebarVisible),Ir("ngModel",n.stateService.currentNote.text)}}var XM=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=it.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(x(uo),x(rt),x(lo))},e.\u0275cmp=Y({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[X],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&F(0,gG,6,7,"ng-container",0),i&2&&w("ngIf",o.stateService.currentNote)},dependencies:[Z,Me,yn,$r,ao,wi],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.25rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var JM=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(x(uo),x(rt),x(lo))},e.\u0275cmp=Y({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[X],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=G();f(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g(),f(3,"i",3),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g()(),f(4,"div",4)(5,"input",5,6),I("click",function(){T(s);let c=Ye(6);return D(o.onCountdownInputClick(c))})("input",function(){T(s);let c=Ye(6);return D(o.onCountdownInputChange(c))})("keypress",function(c){T(s);let l=Ye(6);return D(o.onCountdownInputSubmit(c,l))})("focus",function(){T(s);let c=Ye(6);return D(c.select())}),g()(),f(7,"div",7)(8,"i",8),I("click",function(){return o.applicationService.toggleTheme()}),g()()(),f(9,"div",9),B(10,"app-sidebar")(11,"div",10),f(12,"div",11),B(13,"app-note-editor"),g()()}if(i&2){let s=Ye(6);v(3),w("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),v(2),oe("user-select-none",s.readOnly),v(3),w("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),v(2),oe("display-none",!o.stateService.sidebarVisible),v(),oe("mobile-only",!o.stateService.sidebarVisible),v(),oe("desktop-only",o.stateService.sidebarVisible)}},dependencies:[Z,Tt,YM,XM,Zt],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function vG(t,e){if(t&1){let n=G();f(0,"span",4),I("click",function(){T(n);let i=_();return D(i.parseText())}),N(1,"Parse"),g()}}function yG(t,e){if(t&1){let n=G();f(0,"div",6)(1,"span",4),I("click",function(){T(n);let i=_(2);return D(i.onEntryClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),N(2),g(),f(3,"span",4),I("click",function(){T(n);let i=_(2);return D(i.onEntryClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),N(4),g()()}if(t&2){let n=_(2);v(2),ye(n.tournament.currentComparison[0].id),v(2),ye(n.tournament.currentComparison[1].id)}}function _G(t,e){if(t&1&&(He(0),F(1,yG,5,2,"div",5),ze()),t&2){let n=_();v(),w("ngIf",n.tournament.currentComparison)}}var ZM=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(r=>r?.length>0),this.tournament=new Va(this.entries,r=>r),this.text=""}onEntryClick(r,i){this.tournament.handleUserInput(r,i),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-tournament"]],standalone:!0,features:[X],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"textarea",1),br("ngModelChange",function(a){return si(o.text,a)||(o.text=a),a}),g(),F(2,vG,2,0,"span",2),g(),F(3,_G,2,1,"ng-container",3)),i&2&&(v(),w("placeholder",o.tournament?"Leaderboard":"Entries"),Ir("ngModel",o.text),w("readOnly",o.tournament),v(),w("ngIf",!o.tournament),v(),w("ngIf",o.tournament))},dependencies:[Z,Me,yn,$r,ao,wi],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var eP=[{path:"messenger-browser",canActivate:[WM],component:KM},{path:"login",component:qM},{path:"story-manager",canActivate:[rp],component:JM},{path:"folder-picker",canActivate:[rp],component:IM},{path:"gallery",canActivate:[rp,GM],component:FM},{path:"comparison",component:ZM},{path:"home",component:HM},{path:"games",children:[{path:"activity",component:VM},{path:"twister",component:$M},{path:"nikdy-som",component:BM},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var nP=(t,e)=>{let n=R(La);return e(tP(n,t)).pipe(Gn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),je(n.requestAccessToken()).pipe(Ct(()=>e(tP(n,t))),Gn(i=>Si(()=>i)))}))},tP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;HS(CM,{providers:[CA(),nx(eP,rx({paramsInheritanceStrategy:"always"})),Wb(Qb(),Kb([nP])),hc(ET(()=>CT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),hc(kS(()=>FS())),hc(aD(()=>cD())),Yx({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
