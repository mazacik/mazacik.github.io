var d8=Object.create;var u_=Object.defineProperty,h8=Object.defineProperties,f8=Object.getOwnPropertyDescriptor,p8=Object.getOwnPropertyDescriptors,m8=Object.getOwnPropertyNames,l_=Object.getOwnPropertySymbols,b2=Object.getPrototypeOf,qI=Object.prototype.hasOwnProperty,E2=Object.prototype.propertyIsEnumerable,g8=Reflect.get;var w2=(t,e,n)=>e in t?u_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||={})qI.call(e,n)&&w2(t,n,e[n]);if(l_)for(var n of l_(e))E2.call(e,n)&&w2(t,n,e[n]);return t},vt=(t,e)=>h8(t,p8(e));var GI=(t,e)=>{var n={};for(var i in t)qI.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&l_)for(var i of l_(t))e.indexOf(i)<0&&E2.call(t,i)&&(n[i]=t[i]);return n};var v8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),y8=(t,e)=>{for(var n in e)u_(t,n,{get:e[n],enumerable:!0})},_8=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of m8(e))!qI.call(t,r)&&r!==n&&u_(t,r,{get:()=>e[r],enumerable:!(i=f8(e,r))||i.enumerable});return t};var w8=(t,e,n)=>(n=t!=null?d8(b2(t)):{},_8(e||!t||!t.__esModule?u_(n,"default",{value:t,enumerable:!0}):n,t));var Ra=(t,e,n)=>g8(b2(t),n,e);var E=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(f){r(f)}},a=d=>{try{l(n.throw(d))}catch(f){r(f)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var ez=v8((lxe,cC)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(C,I){I=I||{};var x=document.createEvent("CustomEvent");return x.initCustomEvent(C,!!I.bubbles,!!I.cancelable,I.detail||null),x},t.prototype=window.Event.prototype);function e(w){for(;w&&w!==document.body;){var C=window.getComputedStyle(w),I=function(x,R){return!(C[x]===void 0||C[x]===R)};if(C.opacity<1||I("zIndex","auto")||I("transform","none")||I("mixBlendMode","normal")||I("filter","none")||I("perspective","none")||C.isolation==="isolate"||C.position==="fixed"||C.webkitOverflowScrolling==="touch")return!0;w=w.parentElement}return!1}function n(w){for(;w;){if(w.localName==="dialog")return w;w=w.parentElement}return null}function i(w){w&&w.blur&&w!==document.body&&w.blur()}function r(w,C){for(var I=0;I<w.length;++I)if(w[I]===C)return!0;return!1}function o(w){return!w||!w.hasAttribute("method")?!1:w.getAttribute("method").toLowerCase()==="dialog"}function a(w){if(this.dialog_=w,this.replacedStyleTop_=!1,this.openAsModal_=!1,w.hasAttribute("role")||w.setAttribute("role","dialog"),w.show=this.show.bind(this),w.showModal=this.showModal.bind(this),w.close=this.close.bind(this),"returnValue"in w||(w.returnValue=""),"MutationObserver"in window){var C=new MutationObserver(this.maybeHideModal.bind(this));C.observe(w,{attributes:!0,attributeFilter:["open"]})}else{var I=!1,x=(function(){I?this.downgradeModal():this.maybeHideModal(),I=!1}).bind(this),R,H=function(D){if(D.target===w){var ee="DOMNodeRemoved";I|=D.type.substr(0,ee.length)===ee,window.clearTimeout(R),R=window.setTimeout(x,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){w.addEventListener(D,H)})}Object.defineProperty(w,"open",{set:this.setOpen.bind(this),get:w.hasAttribute.bind(w,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(w){w?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(w){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var C=document.createElement("div");this.dialog_.insertBefore(C,this.dialog_.firstChild),C.tabIndex=-1,C.focus(),this.dialog_.removeChild(C)}var I=document.createEvent("MouseEvents");I.initMouseEvent(w.type,w.bubbles,w.cancelable,window,w.detail,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget),this.dialog_.dispatchEvent(I),w.stopPropagation()},focus_:function(){var w=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!w&&this.dialog_.tabIndex>=0&&(w=this.dialog_),!w){var C=["button","input","keygen","select","textarea"],I=C.map(function(x){return x+":not([disabled])"});I.push('[tabindex]:not([disabled]):not([tabindex=""])'),w=this.dialog_.querySelector(I.join(", "))}i(document.activeElement),w&&w.focus()},updateZIndex:function(w,C){if(w<C)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=w,this.backdrop_.style.zIndex=C},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(w){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),w!==void 0&&(this.dialog_.returnValue=w);var C=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(C)}};var l={};if(l.reposition=function(w){var C=document.body.scrollTop||document.documentElement.scrollTop,I=C+(window.innerHeight-w.offsetHeight)/2;w.style.top=Math.max(C,I)+"px"},l.isInlinePositionSetByStylesheet=function(w){for(var C=0;C<document.styleSheets.length;++C){var I=document.styleSheets[C],x=null;try{x=I.cssRules}catch{}if(x)for(var R=0;R<x.length;++R){var H=x[R],D=null;try{D=document.querySelectorAll(H.selectorText)}catch{}if(!(!D||!r(D,w))){var ee=H.style.getPropertyValue("top"),L=H.style.getPropertyValue("bottom");if(ee&&ee!=="auto"||L&&L!=="auto")return!0}}}return!1},l.needsCentering=function(w){var C=window.getComputedStyle(w);return C.position!=="absolute"||w.style.top!=="auto"&&w.style.top!==""||w.style.bottom!=="auto"&&w.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(w)},l.forceRegisterDialog=function(w){if((window.HTMLDialogElement||w.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",w),w.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(w)},l.registerDialog=function(w){w.showModal||l.forceRegisterDialog(w)},l.DialogManager=function(){this.pendingDialogStack=[];var w=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(C){this.forwardTab_=void 0,C.stopPropagation(),w([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(C){var I=[];C.forEach(function(x){for(var R=0,H;H=x.removedNodes[R];++R){if(H instanceof Element)H.localName==="dialog"&&I.push(H);else continue;I=I.concat(H.querySelectorAll("dialog"))}}),I.length&&w(I)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var w=this.zIndexHigh_,C=0,I;I=this.pendingDialogStack[C];++C)I.updateZIndex(--w,--w),C===0&&(this.overlay.style.zIndex=--w);var x=this.pendingDialogStack[0];if(x){var R=x.dialog.parentNode||document.body;R.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(w){for(;w=n(w);){for(var C=0,I;I=this.pendingDialogStack[C];++C)if(I.dialog===w)return C===0;w=w.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(w){if(!this.containedByTopDialog_(w.target)&&(w.preventDefault(),w.stopPropagation(),i(w.target),this.forwardTab_!==void 0)){var C=this.pendingDialogStack[0],I=C.dialog,x=I.compareDocumentPosition(w.target);return x&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?C.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(w){if(this.forwardTab_=void 0,w.keyCode===27){w.preventDefault(),w.stopPropagation();var C=new t("cancel",{bubbles:!1,cancelable:!0}),I=this.pendingDialogStack[0];I&&I.dialog.dispatchEvent(C)&&I.dialog.close()}else w.keyCode===9&&(this.forwardTab_=!w.shiftKey)},l.DialogManager.prototype.checkDOM_=function(w){var C=this.pendingDialogStack.slice();C.forEach(function(I){w.indexOf(I.dialog)!==-1?I.downgradeModal():I.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(w){var C=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=C?!1:(this.pendingDialogStack.unshift(w)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(w){var C=this.pendingDialogStack.indexOf(w);C!==-1&&(this.pendingDialogStack.splice(C,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var p=f.get;f.get=function(){return o(this)?"dialog":p.call(this)};var v=f.set;f.set=function(w){return typeof w=="string"&&w.toLowerCase()==="dialog"?this.setAttribute("method",w):v.call(this,w)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(w){if(l.formSubmitter=null,l.useValue=null,!w.defaultPrevented){var C=w.target;if(!(!C||!o(C.form))){var I=C.type==="submit"&&["button","input"].indexOf(C.localName)>-1;if(!I){if(!(C.localName==="input"&&C.type==="image"))return;l.useValue=w.offsetX+","+w.offsetY}var x=n(C);x&&(l.formSubmitter=C)}}},!1);var y=HTMLFormElement.prototype.submit,b=function(){if(!o(this))return y.call(this);var w=n(this);w&&w.close()};HTMLFormElement.prototype.submit=b,document.addEventListener("submit",function(w){var C=w.target;if(o(C)){w.preventDefault();var I=n(C);if(I){var x=l.formSubmitter;x&&x.form===C?I.close(l.useValue||x.value):I.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof cC=="object"&&typeof cC.exports=="object"?cC.exports=l:window.dialogPolyfill=l})()});function b8(t,e){return Object.is(t,e)}var Zn=null,Ap=!1,d_=1,Na=Symbol("SIGNAL");function Et(t){let e=Zn;return Zn=t,e}function E8(){return Ap}var h_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function C2(t){if(Ap)throw new Error("");if(Zn===null)return;Zn.consumerOnSignalRead(t);let e=Zn.nextProducerIndex++;if(md(Zn),e<Zn.producerNode.length&&Zn.producerNode[e]!==t&&xp(Zn)){let n=Zn.producerNode[e];p_(n,Zn.producerIndexOfThis[e])}Zn.producerNode[e]!==t&&(Zn.producerNode[e]=t,Zn.producerIndexOfThis[e]=xp(Zn)?D2(t,Zn,e):0),Zn.producerLastReadVersion[e]=t.version}function C8(){d_++}function I8(t){if(!(xp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===d_)){if(!t.producerMustRecompute(t)&&!f_(t)){t.dirty=!1,t.lastCleanEpoch=d_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=d_}}function I2(t){if(t.liveConsumerNode===void 0)return;let e=Ap;Ap=!0;try{for(let n of t.liveConsumerNode)n.dirty||T2(n)}finally{Ap=e}}function S2(){return Zn?.consumerAllowSignalWrites!==!1}function T2(t){t.dirty=!0,I2(t),t.consumerMarkedDirty?.(t)}function KI(t){return t&&(t.nextProducerIndex=0),Et(t)}function QI(t,e){if(Et(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)p_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function f_(t){md(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(I8(n),i!==n.version))return!0}return!1}function YI(t){if(md(t),xp(t))for(let e=0;e<t.producerNode.length;e++)p_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function D2(t,e,n){if(A2(t),md(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=D2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function p_(t,e){if(A2(t),md(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)p_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];md(r),r.producerIndexOfThis[i]=e}}function xp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function md(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function A2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function S8(){throw new Error}var x2=S8;function M2(){x2()}function P2(t){x2=t}var T8=null;function O2(t){let e=Object.create(R2);e.value=t;let n=()=>(C2(e),e.value);return n[Na]=e,n}function JI(t,e){S2()||M2(),t.equal(t.value,e)||(t.value=e,D8(t))}function k2(t,e){S2()||M2(),JI(t,e(t.value))}var R2=vt(te({},h_),{equal:b8,value:void 0});function D8(t){t.version++,C8(),I2(t),T8?.()}function N2(t,e,n){let i=Object.create(A8);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(YI(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=WI)}let l=()=>{if(i.fn===null)return;if(E8())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!f_(i))return;i.hasRun=!0;let d=KI(i);try{i.cleanupFn(),i.cleanupFn=WI,i.fn(r)}finally{QI(i,d)}};return i.ref={notify:()=>T2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[Na]:i},i.ref}var WI=()=>{},A8=vt(te({},h_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:WI});function De(t){return typeof t=="function"}function gd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var m_=gd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jc(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var wn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof m_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{F2(o)}catch(a){e=e??[],a instanceof m_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new m_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jc(n,e)}remove(e){let{_finalizers:n}=this;n&&Jc(n,e),e instanceof t&&e._removeParent(this)}};wn.EMPTY=(()=>{let t=new wn;return t.closed=!0,t})();var XI=wn.EMPTY;function g_(t){return t instanceof wn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function F2(t){De(t)?t():t.unsubscribe()}var Xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vd={setTimeout(t,e,...n){let{delegate:i}=vd;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function v_(t){vd.setTimeout(()=>{let{onUnhandledError:e}=Xr;if(e)e(t);else throw t})}function Mp(){}var L2=ZI("C",void 0,void 0);function V2(t){return ZI("E",void 0,t)}function j2(t){return ZI("N",t,void 0)}function ZI(t,e,n){return{kind:t,value:e,error:n}}var Xc=null;function yd(t){if(Xr.useDeprecatedSynchronousErrorHandling){let e=!Xc;if(e&&(Xc={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Xc;if(Xc=null,n)throw i}}else t()}function U2(t){Xr.useDeprecatedSynchronousErrorHandling&&Xc&&(Xc.errorThrown=!0,Xc.error=t)}var Zc=class extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,g_(e)&&e.add(this)):this.destination=P8}static create(e,n,i){return new Fa(e,n,i)}next(e){this.isStopped?tS(j2(e),this):this._next(e)}error(e){this.isStopped?tS(V2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tS(L2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},x8=Function.prototype.bind;function eS(t,e){return x8.call(t,e)}var nS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){y_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){y_(i)}else y_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){y_(n)}}},Fa=class extends Zc{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Xr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&eS(e.next,o),error:e.error&&eS(e.error,o),complete:e.complete&&eS(e.complete,o)}):r=e}this.destination=new nS(r)}};function y_(t){Xr.useDeprecatedSynchronousErrorHandling?U2(t):v_(t)}function M8(t){throw t}function tS(t,e){let{onStoppedNotification:n}=Xr;n&&vd.setTimeout(()=>n(t,e))}var P8={closed:!0,next:Mp,error:M8,complete:Mp};var _d=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lr(t){return t}function iS(...t){return rS(t)}function rS(t){return t.length===0?lr:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=k8(n)?n:new Fa(n,i,r);return yd(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=B2(i),new i((r,o)=>{let a=new Fa({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[_d](){return this}pipe(...n){return rS(n)(this)}toPromise(n){return n=B2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function B2(t){var e;return(e=t??Xr.Promise)!==null&&e!==void 0?e:Promise}function O8(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function k8(t){return t&&t instanceof Zc||O8(t)&&g_(t)}function oS(t){return De(t?.lift)}function at(t){return e=>{if(oS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,e,n,i,r){return new sS(t,e,n,i,r)}var sS=class extends Zc{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wd(){return at((t,e)=>{let n=null;t._refCount++;let i=et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var bd=class extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;let n=this.getSubject();e.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return wd()(this)}};var $2=gd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ei=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new __(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new $2}next(n){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){yd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?XI:(this.currentObservers=null,o.push(n),new wn(()=>{this.currentObservers=null,Jc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Le;return n.source=this,n}}return t.create=(e,n)=>new __(e,n),t})(),__=class extends ei{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:XI}};var Un=class extends ei{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var aS={now(){return(aS.delegate||Date).now()},delegate:void 0};var w_=class extends wn{constructor(e,n){super()}schedule(e,n=0){return this}};var Pp={setInterval(t,e,...n){let{delegate:i}=Pp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Pp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ed=class extends w_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Pp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Pp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jc(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Cd=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Cd.now=aS.now;var Id=class extends Cd{constructor(e,n=Cd.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Sd=new Id(Ed),cS=Sd;var b_=class extends Ed{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var E_=class extends Id{};var lS=new E_(b_);var Xi=new Le(t=>t.complete());function C_(t){return t&&De(t.schedule)}function uS(t){return t[t.length-1]}function I_(t){return De(uS(t))?t.pop():void 0}function Vo(t){return C_(uS(t))?t.pop():void 0}function H2(t,e){return typeof uS(t)=="number"?t.pop():e}function S_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function q2(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(p){try{f(i.next(p))}catch(v){a(v)}}function d(p){try{f(i.throw(p))}catch(v){a(v)}}function f(p){p.done?o(p.value):r(p.value).then(l,d)}f((i=i.apply(t,e||[])).next())})}function z2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function el(t){return this instanceof el?(this.v=t,this):new el(t)}function G2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(b){return new Promise(function(w,C){o.push([y,b,w,C])>1||l(y,b)})})}function l(y,b){try{d(i[y](b))}catch(w){v(o[0][3],w)}}function d(y){y.value instanceof el?Promise.resolve(y.value.v).then(f,p):v(o[0][2],y)}function f(y){l("next",y)}function p(y){l("throw",y)}function v(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function W2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof z2=="function"?z2(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},a)}}var Td=t=>t&&typeof t.length=="number"&&typeof t!="function";function T_(t){return De(t?.then)}function D_(t){return De(t[_d])}function A_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function x_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function R8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var M_=R8();function P_(t){return De(t?.[M_])}function O_(t){return G2(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield el(n.read());if(r)return yield el(void 0);yield yield el(i)}}finally{n.releaseLock()}})}function k_(t){return De(t?.getReader)}function Nt(t){if(t instanceof Le)return t;if(t!=null){if(D_(t))return N8(t);if(Td(t))return F8(t);if(T_(t))return L8(t);if(A_(t))return K2(t);if(P_(t))return V8(t);if(k_(t))return j8(t)}throw x_(t)}function N8(t){return new Le(e=>{let n=t[_d]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function F8(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function L8(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,v_)})}function V8(t){return new Le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function K2(t){return new Le(e=>{U8(t,e).catch(n=>e.error(n))})}function j8(t){return K2(O_(t))}function U8(t,e){var n,i,r,o;return q2(this,void 0,void 0,function*(){try{for(n=W2(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Zi(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function La(t,e=0){return at((n,i)=>{n.subscribe(et(i,r=>Zi(i,t,()=>i.next(r),e),()=>Zi(i,t,()=>i.complete(),e),r=>Zi(i,t,()=>i.error(r),e)))})}function Va(t,e=0){return at((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Q2(t,e){return Nt(t).pipe(Va(e),La(e))}function Y2(t,e){return Nt(t).pipe(Va(e),La(e))}function J2(t,e){return new Le(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function X2(t,e){return new Le(n=>{let i;return Zi(n,e,()=>{i=t[M_](),Zi(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function R_(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Zi(n,e,()=>{let i=t[Symbol.asyncIterator]();Zi(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Z2(t,e){return R_(O_(t),e)}function eL(t,e){if(t!=null){if(D_(t))return Q2(t,e);if(Td(t))return J2(t,e);if(T_(t))return Y2(t,e);if(A_(t))return R_(t,e);if(P_(t))return X2(t,e);if(k_(t))return Z2(t,e)}throw x_(t)}function Ft(t,e){return e?eL(t,e):Nt(t)}function Re(...t){let e=Vo(t);return Ft(t,e)}function Dd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new Le(e?r=>e.schedule(i,0,r):i)}function dS(t){return!!t&&(t instanceof Le||De(t.lift)&&De(t.subscribe))}var ur=gd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function dr(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new ur)}})})}function N_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new Fa({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new ur)}});t.subscribe(o)})}function tL(t){return t instanceof Date&&!isNaN(t)}function Ne(t,e){return at((n,i)=>{let r=0;n.subscribe(et(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:B8}=Array;function $8(t,e){return B8(e)?t(...e):t(e)}function Ad(t){return Ne(e=>$8(t,e))}var{isArray:H8}=Array,{getPrototypeOf:z8,prototype:q8,keys:G8}=Object;function F_(t){if(t.length===1){let e=t[0];if(H8(e))return{args:e,keys:null};if(W8(e)){let n=G8(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function W8(t){return t&&typeof t=="object"&&z8(t)===q8}function L_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function V_(...t){let e=Vo(t),n=I_(t),{args:i,keys:r}=F_(t);if(i.length===0)return Ft([],e);let o=new Le(K8(i,e,r?a=>L_(r,a):lr));return n?o.pipe(Ad(n)):o}function K8(t,e,n=lr){return i=>{nL(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)nL(e,()=>{let f=Ft(t[d],e),p=!1;f.subscribe(et(i,v=>{o[d]=v,p||(p=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function nL(t,e,n){t?Zi(n,t,e):e()}function iL(t,e,n,i,r,o,a,l){let d=[],f=0,p=0,v=!1,y=()=>{v&&!d.length&&!f&&e.complete()},b=C=>f<i?w(C):d.push(C),w=C=>{o&&e.next(C),f++;let I=!1;Nt(n(C,p++)).subscribe(et(e,x=>{r?.(x),o?b(x):e.next(x)},()=>{I=!0},void 0,()=>{if(I)try{for(f--;d.length&&f<i;){let x=d.shift();a?Zi(e,a,()=>w(x)):w(x)}y()}catch(x){e.error(x)}}))};return t.subscribe(et(e,b,()=>{v=!0,y()})),()=>{l?.()}}function bn(t,e,n=1/0){return De(e)?bn((i,r)=>Ne((o,a)=>e(i,o,r,a))(Nt(t(i,r))),n):(typeof e=="number"&&(n=e),at((i,r)=>iL(i,r,t,n)))}function ja(t=1/0){return bn(lr,t)}function rL(){return ja(1)}function xd(...t){return rL()(Ft(t,Vo(t)))}function j_(t){return new Le(e=>{Nt(t()).subscribe(e)})}function hS(...t){let e=I_(t),{args:n,keys:i}=F_(t),r=new Le(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,f=a;for(let p=0;p<a;p++){let v=!1;Nt(n[p]).subscribe(et(o,y=>{v||(v=!0,f--),l[p]=y},()=>d--,void 0,()=>{(!d||!v)&&(f||o.next(i?L_(i,l):l),o.complete())}))}});return e?r.pipe(Ad(e)):r}var Q8=["addListener","removeListener"],Y8=["addEventListener","removeEventListener"],J8=["on","off"];function Md(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return Md(t,e,n).pipe(Ad(i));let[r,o]=eW(t)?Y8.map(a=>l=>t[a](e,l,n)):X8(t)?Q8.map(oL(t,e)):Z8(t)?J8.map(oL(t,e)):[];if(!r&&Td(t))return bn(a=>Md(a,e,n))(Nt(t));if(!r)throw new TypeError("Invalid event target");return new Le(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function oL(t,e){return n=>i=>t[n](e,i)}function X8(t){return De(t.addListener)&&De(t.removeListener)}function Z8(t){return De(t.on)&&De(t.off)}function eW(t){return De(t.addEventListener)&&De(t.removeEventListener)}function sL(t=0,e,n=cS){let i=-1;return e!=null&&(C_(e)?n=e:i=e),new Le(r=>{let o=tL(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Op(...t){let e=Vo(t),n=H2(t,1/0),i=t;return i.length?i.length===1?Nt(i[0]):ja(n)(Ft(i,e)):Xi}function ti(t,e){return at((n,i)=>{let r=0;n.subscribe(et(i,o=>t.call(e,o,r++)&&i.next(o)))})}function aL(t){return at((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let f=r;r=null,n.next(f)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(et(n,f=>{i=!0,r=f,o||Nt(t(f)).subscribe(o=et(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function fS(t,e=Sd){return aL(()=>sL(t,e))}function jo(t){return at((e,n)=>{let i=null,r=!1,o;i=e.subscribe(et(n,void 0,void 0,a=>{o=Nt(t(a,jo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function cL(t,e,n,i,r){return(o,a)=>{let l=n,d=e,f=0;o.subscribe(et(a,p=>{let v=f++;d=l?t(d,p,v):(l=!0,p),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Ua(t,e){return De(e)?bn(t,e,1):bn(t,1)}function Ba(t){return at((e,n)=>{let i=!1;e.subscribe(et(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Rs(t){return t<=0?()=>Xi:at((e,n)=>{let i=0;e.subscribe(et(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function pS(t){return Ne(()=>t)}function U_(t=tW){return at((e,n)=>{let i=!1;e.subscribe(et(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function tW(){return new ur}function tl(t){return at((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Uo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ti((r,o)=>t(r,o,i)):lr,Rs(1),n?Ba(e):U_(()=>new ur))}function Pd(t){return t<=0?()=>Xi:at((e,n)=>{let i=[];e.subscribe(et(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function mS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ti((r,o)=>t(r,o,i)):lr,Pd(1),n?Ba(e):U_(()=>new ur))}function gS(t,e){return at(cL(t,e,arguments.length>=2,!0))}function vS(t){return ti((e,n)=>t<=n)}function yS(...t){let e=Vo(t);return at((n,i)=>{(e?xd(t,n,e):xd(t,n)).subscribe(i)})}function Ci(t,e){return at((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(et(i,d=>{r?.unsubscribe();let f=0,p=o++;Nt(t(d,p)).subscribe(r=et(i,v=>i.next(e?e(d,v,p,f++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function Zr(t){return at((e,n)=>{Nt(t).subscribe(et(n,()=>n.complete(),Mp)),!n.closed&&e.subscribe(n)})}function En(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?at((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(et(o,d=>{var f;(f=i.next)===null||f===void 0||f.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var f;l=!1,(f=i.error)===null||f===void 0||f.call(i,d),o.error(d)},()=>{var d,f;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(f=i.finalize)===null||f===void 0||f.call(i)}))}):lr}var YL="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,n){super(_0(e,n)),this.code=e}};function _0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var RS=class extends ei{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Et(null);try{super.next(e)}finally{Et(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=_S(o),r&&(r=_S(r)),a&&(a=_S(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof wn&&e.add(l),l}};function _S(t){return e=>{setTimeout(t,void 0,e)}}var Jt=RS;var nt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(nt||{});function ji(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ji).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function NS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var JL=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(JL||{}),Ho=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ho||{});function zp(t){return{toString:t}.toString()}var Ns=globalThis;var Ld={},er=[];function kt(t){for(let e in t)if(t[e]===kt)return e;throw Error("Could not find renamed property on target object.")}function nW(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var iW=kt({\u0275cmp:kt}),rW=kt({\u0275dir:kt}),oW=kt({\u0275pipe:kt}),sW=kt({\u0275mod:kt}),e0=kt({\u0275fac:kt}),kp=kt({__NG_ELEMENT_ID__:kt}),lL=kt({__NG_ENV_ID__:kt}),Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function XL(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function FS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];aW(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function ZL(t){return t===3||t===4||t===6}function aW(t){return t.charCodeAt(0)===64}function Rp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?uL(t,n,r,null,e[++i]):uL(t,n,r,null,null))}}return t}function uL(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var eV="ng-template";function cW(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&XL(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function tV(t){return t.type===4&&t.value!==eV}function lW(t,e,n){let i=t.type===4&&!n?eV:t.value;return e===i}function uW(t,e,n){let i=4,r=t.attrs||[],o=fW(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!eo(i)&&!eo(d))return!1;if(a&&eo(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!lW(t,d,n)||d===""&&e.length===1){if(eo(i))return!1;a=!0}}else{let f=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!cW(t.attrs,f,n)){if(eo(i))return!1;a=!0}continue}let p=i&8?"class":d,v=dW(p,r,tV(t),n);if(v===-1){if(eo(i))return!1;a=!0;continue}if(f!==""){let y;v>o?y="":y=r[v+1].toLowerCase();let b=i&8?y:null;if(b&&XL(b,f,0)!==-1||i&2&&f!==y){if(eo(i))return!1;a=!0}}}}return eo(i)||a}function eo(t){return(t&1)===0}function dW(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return pW(e,t)}function hW(t,e,n=!1){for(let i=0;i<e.length;i++)if(uW(t,e[i],n))return!0;return!1}function fW(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZL(n))return e}return t.length}function pW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function dL(t,e){return t?":not("+e.trim()+")":e}function mW(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!eo(a)&&(e+=dL(o,r),r=""),i=a,o=o||!eo(i);n++}return r!==""&&(e+=dL(o,r)),e}function gW(t){return t.map(mW).join(",")}function vW(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!eo(r))break;r=o}i++}return{attrs:e,classes:n}}function ue(t){return zp(()=>{let e=sV(t),n=vt(te({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===JL.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ho.Emulated,styles:t.styles||er,_:null,schemas:t.schemas||null,tView:null,id:""});aV(n);let i=t.dependencies;return n.directiveDefs=fL(i,!1),n.pipeDefs=fL(i,!0),n.id=wW(n),n})}function yW(t){return za(t)||nV(t)}function _W(t){return t!==null}function Ui(t){return zp(()=>({type:t.type,bootstrap:t.bootstrap||er,declarations:t.declarations||er,imports:t.imports||er,exports:t.exports||er,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hL(t,e){if(t==null)return Ld;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=Ae.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==Ae.None?[i,l]:i,e[o]=a):n[o]=i}return n}function Ct(t){return zp(()=>{let e=sV(t);return aV(e),e})}function za(t){return t[iW]||null}function nV(t){return t[rW]||null}function iV(t){return t[oW]||null}function rV(t){let e=za(t)||nV(t)||iV(t);return e!==null?e.standalone:!1}function oV(t,e){let n=t[sW]||null;if(!n&&e===!0)throw new Error(`Type ${ji(t)} does not have '\u0275mod' property.`);return n}function sV(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ld,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||er,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hL(t.inputs,e),outputs:hL(t.outputs),debugInfo:null}}function aV(t){t.features?.forEach(e=>e(t))}function fL(t,e){if(!t)return null;let n=e?iV:yW;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(_W)}function wW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ko=0,tt=1,ke=2,fi=3,to=4,ro=5,t0=6,Np=7,no=8,Vd=9,Fs=10,rn=11,Fp=12,pL=13,Kd=14,zo=15,qp=16,Od=17,Ls=18,w0=19,cV=20,Ha=21,W_=22,rl=23,qo=25,NT=1;var ol=7,n0=8,jd=9,hr=10,FT=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(FT||{});function nl(t){return Array.isArray(t)&&typeof t[NT]=="object"}function Hs(t){return Array.isArray(t)&&t[NT]===!0}function LT(t){return(t.flags&4)!==0}function b0(t){return t.componentOffset>-1}function E0(t){return(t.flags&1)===1}function Vs(t){return!!t.template}function bW(t){return(t[ke]&512)!==0}var EW="svg",CW="math",IW=!1;function SW(){return IW}function Go(t){for(;Array.isArray(t);)t=t[Ko];return t}function TW(t){for(;Array.isArray(t);){if(typeof t[NT]=="object")return t;t=t[Ko]}return null}function lV(t,e){return Go(e[t])}function Ir(t,e){return Go(e[t.index])}function uV(t,e){return t.data[e]}function DW(t,e){return t[e]}function Wa(t,e){let n=e[t];return nl(n)?n:n[Ko]}function AW(t){return(t[ke]&4)===4}function VT(t){return(t[ke]&128)===128}function xW(t){return Hs(t[fi])}function Ud(t,e){return e==null?null:t[e]}function dV(t){t[Od]=0}function MW(t){t[ke]&1024||(t[ke]|=1024,VT(t)&&Lp(t))}function PW(t,e){for(;t>0;)e=e[Kd],t--;return e}function jT(t){return!!(t[ke]&9216||t[rl]?.dirty)}function LS(t){jT(t)?Lp(t):t[ke]&64&&(SW()?(t[ke]|=1024,Lp(t)):t[Fs].changeDetectionScheduler?.notify())}function Lp(t){t[Fs].changeDetectionScheduler?.notify();let e=Vp(t);for(;e!==null&&!(e[ke]&8192||(e[ke]|=8192,!VT(e)));)e=Vp(e)}function hV(t,e){if((t[ke]&256)===256)throw new Z(911,!1);t[Ha]===null&&(t[Ha]=[]),t[Ha].push(e)}function OW(t,e){if(t[Ha]===null)return;let n=t[Ha].indexOf(e);n!==-1&&t[Ha].splice(n,1)}function Vp(t){let e=t[fi];return Hs(e)?e[fi]:e}var Je={lFrame:wV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kW(){return Je.lFrame.elementDepthCount}function RW(){Je.lFrame.elementDepthCount++}function NW(){Je.lFrame.elementDepthCount--}function fV(){return Je.bindingsEnabled}function FW(){return Je.skipHydrationRootTNode!==null}function LW(t){return Je.skipHydrationRootTNode===t}function VW(){Je.skipHydrationRootTNode=null}function pt(){return Je.lFrame.lView}function Pn(){return Je.lFrame.tView}function B(t){return Je.lFrame.contextLView=t,t[no]}function $(t){return Je.lFrame.contextLView=null,t}function Ii(){let t=pV();for(;t!==null&&t.type===64;)t=t.parent;return t}function pV(){return Je.lFrame.currentTNode}function jW(){let t=Je.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hl(t,e){let n=Je.lFrame;n.currentTNode=t,n.isParent=e}function UT(){return Je.lFrame.isParent}function mV(){Je.lFrame.isParent=!1}function UW(){return Je.lFrame.contextLView}function BW(){let t=Je.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $W(){return Je.lFrame.bindingIndex}function HW(t){return Je.lFrame.bindingIndex=t}function Gp(){return Je.lFrame.bindingIndex++}function BT(t){let e=Je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zW(){return Je.lFrame.inI18n}function qW(t,e){let n=Je.lFrame;n.bindingIndex=n.bindingRootIndex=t,VS(e)}function GW(){return Je.lFrame.currentDirectiveIndex}function VS(t){Je.lFrame.currentDirectiveIndex=t}function gV(t){let e=Je.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vV(){return Je.lFrame.currentQueryIndex}function $T(t){Je.lFrame.currentQueryIndex=t}function WW(t){let e=t[tt];return e.type===2?e.declTNode:e.type===1?t[ro]:null}function yV(t,e,n){if(n&nt.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&nt.Host);)if(r=WW(o),r===null||(o=o[Kd],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Je.lFrame=_V();return i.currentTNode=e,i.lView=t,!0}function HT(t){let e=_V(),n=t[tt];Je.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _V(){let t=Je.lFrame,e=t===null?null:t.child;return e===null?wV(t):e}function wV(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bV(){let t=Je.lFrame;return Je.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var EV=bV;function zT(){let t=bV();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KW(t){return(Je.lFrame.contextLView=PW(t,Je.lFrame.contextLView))[no]}function Ka(){return Je.lFrame.selectedIndex}function sl(t){Je.lFrame.selectedIndex=t}function C0(){let t=Je.lFrame;return uV(t.tView,t.selectedIndex)}function QW(){return Je.lFrame.currentNamespace}var CV=!0;function I0(){return CV}function S0(t){CV=t}function YW(){return Qd(Ii(),pt())}function Qd(t,e){return new jt(Ir(t,e))}var jt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=YW;let t=e;return t})();function JW(t){return t instanceof jt?t.nativeElement:t}function XW(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function ZW(t){return t.flat(Number.POSITIVE_INFINITY)}function qT(t,e){t.forEach(n=>Array.isArray(n)?qT(n,e):e(n))}function IV(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function i0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function e7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function T0(t,e,n){let i=Wp(t,e);return i>=0?t[i|1]=n:(i=~i,e7(t,i,e,n)),i}function wS(t,e){let n=Wp(t,e);if(n>=0)return t[n|1]}function Wp(t,e){return t7(t,e,1)}function t7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function n7(){return this._results[Symbol.iterator]()}var jS=class t{get changes(){return this._changes??=new Jt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=n7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=ZW(e);(this._changesDetected=!XW(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SV(t){return(t.flags&128)===128}var US;function TV(t){US=t}function i7(){if(US!==void 0)return US;if(typeof document<"u")return document;throw new Z(210,!1)}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bi(t){return{providers:t.providers||[],imports:t.imports||[]}}function D0(t){return mL(t,AV)||mL(t,xV)}function DV(t){return D0(t)!==null}function mL(t,e){return t.hasOwnProperty(e)?t[e]:null}function r7(t){let e=t&&(t[AV]||t[xV]);return e||null}function gL(t){return t&&(t.hasOwnProperty(vL)||t.hasOwnProperty(o7))?t[vL]:null}var AV=kt({\u0275prov:kt}),vL=kt({\u0275inj:kt}),xV=kt({ngInjectableDef:kt}),o7=kt({ngInjectorDef:kt}),we=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},GT=new we("",{providedIn:"root",factory:()=>s7}),s7="ng",WT=new we(""),Sr=new we("",{providedIn:"platform",factory:()=>"unknown"});var KT=new we(""),QT=new we("",{providedIn:"root",factory:()=>i7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var a7=kt({__forward_ref__:kt});function fl(t){return t.__forward_ref__=fl,t.toString=function(){return ji(this())},t}function Vi(t){return MV(t)?t():t}function MV(t){return typeof t=="function"&&t.hasOwnProperty(a7)&&t.__forward_ref__===fl}function PV(t){return t&&!!t.\u0275providers}function Bd(t){return typeof t=="string"?t:t==null?"":String(t)}function c7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Bd(t)}function l7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function YT(t,e){throw new Z(-201,!1)}var BS;function OV(){return BS}function Cr(t){let e=BS;return BS=t,e}function kV(t,e,n){let i=D0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&nt.Optional)return null;if(e!==void 0)return e;YT(t,"Injector")}var u7={},jp=u7,$S="__NG_DI_FLAG__",r0="ngTempTokenPath",d7="ngTokenPath",h7=/\n/gm,f7="\u0275",yL="__source",Nd;function p7(){return Nd}function $a(t){let e=Nd;return Nd=t,e}function m7(t,e=nt.Default){if(Nd===void 0)throw new Z(-203,!1);return Nd===null?kV(t,void 0,e):Nd.get(t,e&nt.Optional?null:void 0,e)}function oe(t,e=nt.Default){return(OV()||m7)(Vi(t),e)}function J(t,e=nt.Default){return oe(t,A0(e))}function A0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function HS(t){let e=[];for(let n=0;n<t.length;n++){let i=Vi(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Z(900,!1);let r,o=nt.Default;for(let a=0;a<i.length;a++){let l=i[a],d=g7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(oe(r,o))}else e.push(oe(i))}return e}function RV(t,e){return t[$S]=e,t.prototype[$S]=e,t}function g7(t){return t[$S]}function v7(t,e,n,i){let r=t[r0];throw e[yL]&&r.unshift(e[yL]),t.message=y7(`
`+t.message,r,n,i),t[d7]=r,t[r0]=null,t}function y7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==f7?t.slice(2):t;let r=ji(e);if(Array.isArray(e))r=e.map(ji).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):ji(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(h7,`
  `)}`}var _7="h",w7="b";var b7=()=>null;function JT(t,e,n=!1){return b7(t,e,n)}var B_="__parameters__";function E7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function NV(t,e,n){return zp(()=>{let i=E7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,f,p){let v=d.hasOwnProperty(B_)?d[B_]:Object.defineProperty(d,B_,{value:[]})[B_];for(;v.length<=p;)v.push(null);return(v[p]=v[p]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var $i=RV(NV("Optional"),8);var FV=RV(NV("SkipSelf"),4);function $d(t,e){let n=t.hasOwnProperty(e0);return n?t[e0]:null}var Hd=new we(""),LV=new we("",-1),VV=new we(""),o0=class{get(e,n=jp){if(n===jp){let i=new Error(`NullInjectorError: No provider for ${ji(e)}!`);throw i.name="NullInjectorError",i}return n}};function Qa(t){return{\u0275providers:t}}function Kp(...t){return{\u0275providers:jV(!0,t),\u0275fromNgModule:!0}}function jV(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return qT(e,a=>{let l=a;zS(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&UV(r,o),n}function UV(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];XT(r,o=>{e(o,i)})}}function zS(t,e,n,i){if(t=Vi(t),!t)return!1;let r=null,o=gL(t),a=!o&&za(t);if(!o&&!a){let d=t.ngModule;if(o=gL(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of d)zS(f,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let f;try{qT(o.imports,p=>{zS(p,e,n,i)&&(f||=[],f.push(p))})}finally{}f!==void 0&&UV(f,e)}if(!l){let f=$d(r)||(()=>new r);e({provide:r,useFactory:f,deps:er},r),e({provide:VV,useValue:r,multi:!0},r),e({provide:Hd,useValue:()=>oe(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let f=t;XT(d,p=>{e(p,f)})}}else return!1;return r!==t&&t.providers!==void 0}function XT(t,e){for(let n of t)PV(n)&&(n=n.\u0275providers),Array.isArray(n)?XT(n,e):e(n)}var C7=kt({provide:String,useValue:kt});function BV(t){return t!==null&&typeof t=="object"&&C7 in t}function I7(t){return!!(t&&t.useExisting)}function S7(t){return!!(t&&t.useFactory)}function zd(t){return typeof t=="function"}function T7(t){return!!t.useClass}var x0=new we(""),K_={},D7={},bS;function M0(){return bS===void 0&&(bS=new o0),bS}var ni=class{},Up=class extends ni{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,GS(e,a=>this.processProvider(a)),this.records.set(LV,kd(void 0,this)),r.has("environment")&&this.records.set(ni,kd(void 0,this));let o=this.records.get(x0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(VV,er,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Et(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Et(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=$a(this),i=Cr(void 0),r;try{return e()}finally{$a(n),Cr(i)}}get(e,n=jp,i=nt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lL))return e[lL](this);i=A0(i);let r,o=$a(this),a=Cr(void 0);try{if(!(i&nt.SkipSelf)){let d=this.records.get(e);if(d===void 0){let f=O7(e)&&D0(e);f&&this.injectableDefInScope(f)?d=kd(qS(e),K_):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&nt.Self?M0():this.parent;return n=i&nt.Optional&&n===jp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[r0]=l[r0]||[]).unshift(ji(e)),o)throw l;return v7(l,e,"R3InjectorError",this.source)}else throw l}finally{Cr(a),$a(o)}}resolveInjectorInitializers(){let e=Et(null),n=$a(this),i=Cr(void 0),r;try{let o=this.get(Hd,er,nt.Self);for(let a of o)a()}finally{$a(n),Cr(i),Et(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(ji(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Vi(e);let n=zd(e)?e:Vi(e&&e.provide),i=x7(e);if(!zd(e)&&e.multi===!0){let r=this.records.get(n);r||(r=kd(void 0,K_,!0),r.factory=()=>HS(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Et(null);try{return n.value===K_&&(n.value=D7,n.value=n.factory()),typeof n.value=="object"&&n.value&&P7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Et(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vi(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qS(t){let e=D0(t),n=e!==null?e.factory:$d(t);if(n!==null)return n;if(t instanceof we)throw new Z(204,!1);if(t instanceof Function)return A7(t);throw new Z(204,!1)}function A7(t){if(t.length>0)throw new Z(204,!1);let n=r7(t);return n!==null?()=>n.factory(t):()=>new t}function x7(t){if(BV(t))return kd(void 0,t.useValue);{let e=$V(t);return kd(e,K_)}}function $V(t,e,n){let i;if(zd(t)){let r=Vi(t);return $d(r)||qS(r)}else if(BV(t))i=()=>Vi(t.useValue);else if(S7(t))i=()=>t.useFactory(...HS(t.deps||[]));else if(I7(t))i=()=>oe(Vi(t.useExisting));else{let r=Vi(t&&(t.useClass||t.provide));if(M7(t))i=()=>new r(...HS(t.deps));else return $d(r)||qS(r)}return i}function kd(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function M7(t){return!!t.deps}function P7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function O7(t){return typeof t=="function"||typeof t=="object"&&t instanceof we}function GS(t,e){for(let n of t)Array.isArray(n)?GS(n,e):n&&PV(n)?GS(n.\u0275providers,e):e(n)}function zs(t,e){t instanceof Up&&t.assertNotDestroyed();let n,i=$a(t),r=Cr(void 0);try{return e()}finally{$a(i),Cr(r)}}function k7(t){if(!OV()&&!p7())throw new Z(-203,!1)}function R7(t){return typeof t=="function"}var WS=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function HV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function oo(){return zV}function zV(t){return t.type.prototype.ngOnChanges&&(t.setInput=F7),N7}oo.ngInherit=!0;function N7(){let t=GV(this),e=t?.current;if(e){let n=t.previous;if(n===Ld)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function F7(t,e,n,i,r){let o=this.declaredInputs[i],a=GV(t)||L7(t,{previous:Ld,current:null}),l=a.current||(a.current={}),d=a.previous,f=d[o];l[o]=new WS(f&&f.currentValue,n,d===Ld),HV(t,e,r,n)}var qV="__ngSimpleChanges__";function GV(t){return t[qV]||null}function L7(t,e){return t[qV]=e}var _L=null;var Bo=function(t,e,n){_L?.(t,e,n)};function V7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=zV(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function P0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:p}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Q_(t,e,n){WV(t,e,3,n)}function Y_(t,e,n,i){(t[ke]&3)===n&&WV(t,e,n,i)}function ES(t,e){let n=t[ke];(n&3)===e&&(n&=16383,n+=1,t[ke]=n)}function WV(t,e,n,i){let r=i!==void 0?t[Od]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Od]+=65536),(l<o||o==-1)&&(j7(t,n,e,d),t[Od]=(t[Od]&4294901760)+d+2),d++}function wL(t,e){Bo(4,t,e);let n=Et(null);try{e.call(t)}finally{Et(n),Bo(5,t,e)}}function j7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[ke]>>14<t[Od]>>16&&(t[ke]&3)===e&&(t[ke]+=16384,wL(l,o)):wL(l,o)}var Fd=-1,al=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function U7(t){return t instanceof al}function B7(t){return(t.flags&8)!==0}function $7(t){return(t.flags&16)!==0}function KV(t){return t!==Fd}function s0(t){return t&32767}function H7(t){return t>>16}function a0(t,e){let n=H7(t),i=e;for(;n>0;)i=i[Kd],n--;return i}var KS=!0;function bL(t){let e=KS;return KS=t,e}var z7=256,QV=z7-1,YV=5,q7=0,$o={};function G7(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(kp)&&(i=n[kp]),i==null&&(i=n[kp]=q7++);let r=i&QV,o=1<<r;e.data[t+(r>>YV)]|=o}function c0(t,e){let n=JV(t,e);if(n!==-1)return n;let i=e[tt];i.firstCreatePass&&(t.injectorIndex=e.length,CS(i.data,t),CS(e,null),CS(i.blueprint,null));let r=ZT(t,e),o=t.injectorIndex;if(KV(r)){let a=s0(r),l=a0(r,e),d=l[tt].data;for(let f=0;f<8;f++)e[o+f]=l[a+f]|d[a+f]}return e[o+8]=r,o}function CS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JV(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ZT(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=n3(r),i===null)return Fd;if(n++,r=r[Kd],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Fd}function QS(t,e,n){G7(t,e,n)}function W7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(ZL(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function XV(t,e,n){if(n&nt.Optional||t!==void 0)return t;YT(e,"NodeInjector")}function ZV(t,e,n,i){if(n&nt.Optional&&i===void 0&&(i=null),!(n&(nt.Self|nt.Host))){let r=t[Vd],o=Cr(void 0);try{return r?r.get(e,i,n&nt.Optional):kV(e,i,n&nt.Optional)}finally{Cr(o)}}return XV(i,e,n)}function e3(t,e,n,i=nt.Default,r){if(t!==null){if(e[ke]&2048&&!(i&nt.Self)){let a=J7(t,e,n,i,$o);if(a!==$o)return a}let o=t3(t,e,n,i,$o);if(o!==$o)return o}return ZV(e,n,i,r)}function t3(t,e,n,i,r){let o=Q7(n);if(typeof o=="function"){if(!yV(e,t,i))return i&nt.Host?XV(r,n,i):ZV(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&nt.Optional))YT(n);else return a}finally{EV()}}else if(typeof o=="number"){let a=null,l=JV(t,e),d=Fd,f=i&nt.Host?e[zo][ro]:null;for((l===-1||i&nt.SkipSelf)&&(d=l===-1?ZT(t,e):e[l+8],d===Fd||!CL(i,!1)?l=-1:(a=e[tt],l=s0(d),e=a0(d,e)));l!==-1;){let p=e[tt];if(EL(o,l,p.data)){let v=K7(l,e,n,a,i,f);if(v!==$o)return v}d=e[l+8],d!==Fd&&CL(i,e[tt].data[l+8]===f)&&EL(o,l,e)?(a=p,l=s0(d),e=a0(d,e)):l=-1}}return r}function K7(t,e,n,i,r,o){let a=e[tt],l=a.data[t+8],d=i==null?b0(l)&&KS:i!=a&&(l.type&3)!==0,f=r&nt.Host&&o===l,p=J_(l,a,n,d,f);return p!==null?cl(e,a,p,l):$o}function J_(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,f=t.directiveEnd,p=o>>20,v=i?l:l+p,y=r?l+p:f;for(let b=v;b<y;b++){let w=a[b];if(b<d&&n===w||b>=d&&w.type===n)return b}if(r){let b=a[d];if(b&&Vs(b)&&b.type===n)return d}return null}function cl(t,e,n,i){let r=t[n],o=e.data;if(U7(r)){let a=r;a.resolving&&l7(c7(o[n]));let l=bL(a.canSeeViewProviders);a.resolving=!0;let d,f=a.injectImpl?Cr(a.injectImpl):null,p=yV(t,i,nt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&V7(n,o[n],e)}finally{f!==null&&Cr(f),bL(l),a.resolving=!1,EV()}}return r}function Q7(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(kp)?t[kp]:void 0;return typeof e=="number"?e>=0?e&QV:Y7:e}function EL(t,e,n){let i=1<<t;return!!(n[e+(t>>YV)]&i)}function CL(t,e){return!(t&nt.Self)&&!(t&nt.Host&&e)}var il=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return e3(this._tNode,this._lView,e,A0(i),n)}};function Y7(){return new il(Ii(),pt())}function Hi(t){return zp(()=>{let e=t.prototype.constructor,n=e[e0]||YS(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[e0]||YS(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function YS(t){return MV(t)?()=>{let e=YS(Vi(t));return e&&e()}:$d(t)}function J7(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[ke]&2048&&!(a[ke]&512);){let l=t3(o,a,n,i|nt.Self,$o);if(l!==$o)return l;let d=o.parent;if(!d){let f=a[cV];if(f){let p=f.get(n,$o,i);if(p!==$o)return p}d=n3(a),a=a[Kd]}o=d}return r}function n3(t){let e=t[tt],n=e.type;return n===2?e.declTNode:n===1?t[ro]:null}function eD(t){return W7(Ii(),t)}function IL(t,e=null,n=null,i){let r=i3(t,e,n,i);return r.resolveInjectorInitializers(),r}function i3(t,e=null,n=null,i,r=new Set){let o=[n||er,Kp(t)];return i=i||(typeof t=="object"?void 0:ji(t)),new Up(o,e||M0(),i||null,r)}var on=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return IL({name:""},r,i,"");{let o=i.name??"";return IL({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=jp,e.NULL=new o0,e.\u0275prov=ie({token:e,providedIn:"any",factory:()=>oe(LV)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),X7="ngOriginalError";function IS(t){return t[X7]}var Wo=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&IS(e);for(;n&&IS(n);)n=IS(n);return n||null}},r3=new we("",{providedIn:"root",factory:()=>J(Wo).handleError.bind(void 0)});var o3=!1,Z7=new we("",{providedIn:"root",factory:()=>o3}),$_;function eK(){if($_===void 0&&($_=null,Ns.trustedTypes))try{$_=Ns.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $_}function O0(t){return eK()?.createHTML(t)||t}var H_;function tK(){if(H_===void 0&&(H_=null,Ns.trustedTypes))try{H_=Ns.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return H_}function SL(t){return tK()?.createScriptURL(t)||t}var js=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YL})`}},JS=class extends js{getTypeName(){return"HTML"}},XS=class extends js{getTypeName(){return"Style"}},ZS=class extends js{getTypeName(){return"Script"}},eT=class extends js{getTypeName(){return"URL"}},tT=class extends js{getTypeName(){return"ResourceURL"}};function Tr(t){return t instanceof js?t.changingThisBreaksApplicationSecurity:t}function Ya(t,e){let n=nK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${YL})`)}return n===e}function nK(t){return t instanceof js&&t.getTypeName()||null}function s3(t){return new JS(t)}function a3(t){return new XS(t)}function c3(t){return new ZS(t)}function l3(t){return new eT(t)}function u3(t){return new tT(t)}function iK(t){let e=new iT(t);return rK()?new nT(e):e}var nT=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(O0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},iT=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=O0(e),n}};function rK(){try{return!!new window.DOMParser().parseFromString(O0(""),"text/html")}catch{return!1}}var oK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function k0(t){return t=String(t),t.match(oK)?t:"unsafe:"+t}function qs(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Qp(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var d3=qs("area,br,col,hr,img,wbr"),h3=qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f3=qs("rp,rt"),sK=Qp(f3,h3),aK=Qp(h3,qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cK=Qp(f3,qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),TL=Qp(d3,aK,cK,sK),p3=qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lK=qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uK=qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dK=Qp(p3,lK,uK),hK=qs("script,style,template"),rT=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!TL.hasOwnProperty(n))return this.sanitizedSomething=!0,!hK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!dK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;p3[l]&&(d=k0(d)),this.buf.push(" ",a,'="',DL(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();TL.hasOwnProperty(n)&&!d3.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(DL(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},fK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pK=/([^\#-~ |!])/g;function DL(t){return t.replace(/&/g,"&amp;").replace(fK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(pK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var z_;function m3(t,e){let n=null;try{z_=z_||iK(t);let i=e?String(e):"";n=z_.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=z_.getInertBodyElement(i)}while(i!==o);let l=new rT().sanitizeChildren(AL(n)||n);return O0(l)}finally{if(n){let i=AL(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function AL(t){return"content"in t&&mK(t)?t.content:null}function mK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Qo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qo||{});function Si(t){let e=v3();return e?e.sanitize(Qo.URL,t)||"":Ya(t,"URL")?Tr(t):k0(Bd(t))}function tD(t){let e=v3();if(e)return SL(e.sanitize(Qo.RESOURCE_URL,t)||"");if(Ya(t,"ResourceURL"))return SL(Tr(t));throw new Z(904,!1)}function gK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tD:Si}function g3(t,e,n){return gK(e,n)(t)}function v3(){let t=pt();return t&&t[Fs].sanitizer}var vK=/^>|^->|<!--|-->|--!>|<!-$/g,yK=/(<|>)/g,_K="\u200B$1\u200B";function wK(t){return t.replace(vK,e=>e.replace(yK,_K))}var y3=new Map,bK=0;function EK(){return bK++}function CK(t){y3.set(t[w0],t)}function IK(t){y3.delete(t[w0])}var xL="__ngContext__";function qa(t,e){nl(e)?(t[xL]=e[w0],CK(e)):t[xL]=e}function At(t){return t.ownerDocument.defaultView}function _3(t){return t.ownerDocument}function w3(t){return t instanceof Function?t():t}var Us=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Us||{}),SK;function nD(t,e){return SK(t,e)}function Rd(t,e,n,i,r){if(i!=null){let o,a=!1;Hs(i)?o=i:nl(i)&&(a=!0,i=i[Ko]);let l=Go(i);t===0&&n!==null?r==null?S3(e,n,l):l0(e,n,l,r||null,!0):t===1&&n!==null?l0(e,n,l,r||null,!0):t===2?HK(e,l,a):t===3&&e.destroyNode(l),o!=null&&qK(e,t,o,n,r)}}function TK(t,e){return t.createText(e)}function DK(t,e,n){t.setValue(e,n)}function AK(t,e){return t.createComment(wK(e))}function b3(t,e,n){return t.createElement(e,n)}function xK(t,e){E3(t,e),e[Ko]=null,e[ro]=null}function MK(t,e,n,i,r,o){i[Ko]=r,i[ro]=e,N0(t,i,n,1,r,o)}function E3(t,e){N0(t,e,e[rn],2,null,null)}function PK(t){let e=t[Fp];if(!e)return SS(t[tt],t);for(;e;){let n=null;if(nl(e))n=e[Fp];else{let i=e[hr];i&&(n=i)}if(!n){for(;e&&!e[to]&&e!==t;)nl(e)&&SS(e[tt],e),e=e[fi];e===null&&(e=t),nl(e)&&SS(e[tt],e),n=e&&e[to]}e=n}}function OK(t,e,n,i){let r=hr+i,o=n.length;i>0&&(n[r-1][to]=e),i<o-hr?(e[to]=n[r],IV(n,hr+i,e)):(n.push(e),e[to]=null),e[fi]=n;let a=e[qp];a!==null&&n!==a&&kK(a,e);let l=e[Ls];l!==null&&l.insertView(t),LS(e),e[ke]|=128}function kK(t,e){let n=t[jd],r=e[fi][fi][zo];e[zo]!==r&&(t[ke]|=FT.HasTransplantedViews),n===null?t[jd]=[e]:n.push(e)}function C3(t,e){let n=t[jd],i=n.indexOf(e);n.splice(i,1)}function oT(t,e){if(t.length<=hr)return;let n=hr+e,i=t[n];if(i){let r=i[qp];r!==null&&r!==t&&C3(r,i),e>0&&(t[n-1][to]=i[to]);let o=i0(t,hr+e);xK(i[tt],i);let a=o[Ls];a!==null&&a.detachView(o[tt]),i[fi]=null,i[to]=null,i[ke]&=-129}return i}function I3(t,e){if(!(e[ke]&256)){let n=e[rn];n.destroyNode&&N0(t,e,n,3,null,null),PK(e)}}function SS(t,e){if(e[ke]&256)return;let n=Et(null);try{e[ke]&=-129,e[ke]|=256,e[rl]&&YI(e[rl]),NK(t,e),RK(t,e),e[tt].type===1&&e[rn].destroy();let i=e[qp];if(i!==null&&Hs(e[fi])){i!==e[fi]&&C3(i,e);let r=e[Ls];r!==null&&r.detachView(t)}IK(e)}finally{Et(n)}}function RK(t,e){let n=t.cleanup,i=e[Np];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[Np]=null);let r=e[Ha];if(r!==null){e[Ha]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function NK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof al)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Bo(4,l,d);try{d.call(l)}finally{Bo(5,l,d)}}else{Bo(4,r,o);try{o.call(r)}finally{Bo(5,r,o)}}}}}function FK(t,e,n){return LK(t,e.parent,n)}function LK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ko];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Ho.None||o===Ho.Emulated)return null}return Ir(i,n)}}function l0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function S3(t,e,n){t.appendChild(e,n)}function ML(t,e,n,i,r){i!==null?l0(t,e,n,i,r):S3(t,e,n)}function VK(t,e,n,i){t.removeChild(e,n,i)}function iD(t,e){return t.parentNode(e)}function jK(t,e){return t.nextSibling(e)}function UK(t,e,n){return $K(t,e,n)}function BK(t,e,n){return t.type&40?Ir(t,n):null}var $K=BK,PL;function R0(t,e,n,i){let r=FK(t,i,e),o=e[rn],a=i.parent||e[ro],l=UK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)ML(o,r,n[d],l,!1);else ML(o,r,n,l,!1);PL!==void 0&&PL(o,i,e,n,r)}function X_(t,e){if(e!==null){let n=e.type;if(n&3)return Ir(e,t);if(n&4)return sT(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return X_(t,i);{let r=t[e.index];return Hs(r)?sT(-1,r):Go(r)}}else{if(n&32)return nD(e,t)()||Go(t[e.index]);{let i=T3(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Vp(t[zo]);return X_(r,i)}else return X_(t,e.next)}}}return null}function T3(t,e){if(e!==null){let i=t[zo][ro],r=e.projection;return i.projection[r]}return null}function sT(t,e){let n=hr+t+1;if(n<e.length){let i=e[n],r=i[tt].firstChild;if(r!==null)return X_(i,r)}return e[ol]}function HK(t,e,n){let i=iD(t,e);i&&VK(t,i,e,n)}function rD(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&qa(Go(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)rD(t,e,n.child,i,r,o,!1),Rd(e,t,r,l,o);else if(d&32){let f=nD(n,i),p;for(;p=f();)Rd(e,t,r,p,o);Rd(e,t,r,l,o)}else d&16?zK(t,e,i,n,r,o):Rd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function N0(t,e,n,i,r,o){rD(n,i,t.firstChild,e,r,o,!1)}function zK(t,e,n,i,r,o){let a=n[zo],d=a[ro].projection[i.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++){let p=d[f];Rd(e,t,r,p,o)}else{let f=d,p=a[fi];SV(i)&&(f.flags|=128),rD(t,e,f,p,r,o,!0)}}function qK(t,e,n,i,r){let o=n[ol],a=Go(n);o!==a&&Rd(e,t,i,o,r);for(let l=hr;l<n.length;l++){let d=n[l];N0(d[tt],d,t,e,i,o)}}function GK(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Us.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Us.Important),t.setStyle(n,i,r,o))}}function WK(t,e,n){t.setAttribute(e,"style",n)}function D3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A3(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&FS(t,e,i),r!==null&&D3(t,e,r),o!==null&&WK(t,e,o)}var so={};function M(t=1){x3(Pn(),pt(),Ka()+t,!1)}function x3(t,e,n,i){if(!i)if((e[ke]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Q_(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Y_(e,o,0,n)}sl(n)}function F(t,e=nt.Default){let n=pt();if(n===null)return oe(t,e);let i=Ii();return e3(i,n,Vi(t),e)}function M3(t,e,n,i,r,o){let a=Et(null);try{let l=null;r&Ae.SignalBased&&(l=e[i][Na]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):HV(e,l,i,o)}finally{Et(a)}}function KK(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)sl(~r);else{let o=r,a=n[++i],l=n[++i];qW(a,o);let d=e[o];l(2,d)}}}finally{sl(-1)}}function F0(t,e,n,i,r,o,a,l,d,f,p){let v=e.blueprint.slice();return v[Ko]=r,v[ke]=i|4|128|8|64,(f!==null||t&&t[ke]&2048)&&(v[ke]|=2048),dV(v),v[fi]=v[Kd]=t,v[no]=n,v[Fs]=a||t&&t[Fs],v[rn]=l||t&&t[rn],v[Vd]=d||t&&t[Vd]||null,v[ro]=o,v[w0]=EK(),v[t0]=p,v[cV]=f,v[zo]=e.type==2?t[zo]:v,v}function Yp(t,e,n,i,r){let o=t.data[e];if(o===null)o=QK(t,e,n,i,r),zW()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=jW();o.injectorIndex=a===null?-1:a.injectorIndex}return hl(o,!0),o}function QK(t,e,n,i,r){let o=pV(),a=UT(),l=a?o:o&&o.parent,d=t.data[e]=tQ(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function P3(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function O3(t,e,n,i,r){let o=Ka(),a=i&2;try{sl(-1),a&&e.length>qo&&x3(t,e,qo,!1),Bo(a?2:0,r),n(i,r)}finally{sl(o),Bo(a?3:1,r)}}function oD(t,e,n){if(LT(e)){let i=Et(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Et(i)}}}function sD(t,e,n){fV()&&(aQ(t,e,n,Ir(n,e)),(n.flags&64)===64&&N3(t,e,n))}function aD(t,e,n=Ir){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function k3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cD(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cD(t,e,n,i,r,o,a,l,d,f,p){let v=qo+i,y=v+r,b=YK(v,y),w=typeof f=="function"?f():f;return b[tt]={type:t,blueprint:b,template:n,queries:null,viewQuery:l,declTNode:e,data:b.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:w,incompleteFirstPass:!1,ssrId:p}}function YK(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:so);return n}function JK(t,e,n,i){let o=i.get(Z7,o3)||n===Ho.ShadowDom,a=t.selectRootElement(e,o);return XK(a),a}function XK(t){ZK(t)}var ZK=()=>null;function eQ(t,e,n,i){let r=V3(e);r.push(n),t.firstCreatePass&&j3(t).push(i,r.length-1)}function tQ(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return FW()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function OL(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=Ae.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let f=o;if(r!==null){if(!r.hasOwnProperty(o))continue;f=r[o]}t===0?kL(i,n,f,l,d):kL(i,n,f,l)}return i}function kL(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function nQ(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,f=null;for(let p=i;p<r;p++){let v=o[p],y=n?n.get(v):null,b=y?y.inputs:null,w=y?y.outputs:null;d=OL(0,v.inputs,p,d,b),f=OL(1,v.outputs,p,f,w);let C=d!==null&&a!==null&&!tV(e)?yQ(d,p,a):null;l.push(C)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=f}function iQ(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lD(t,e,n,i,r,o,a,l){let d=Ir(e,n),f=e.inputs,p;!l&&f!=null&&(p=f[i])?(dD(t,n,p,i,r),b0(e)&&rQ(n,e.index)):e.type&3?(i=iQ(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function rQ(t,e){let n=Wa(e,t);n[ke]&16||(n[ke]|=64)}function uD(t,e,n,i){if(fV()){let r=i===null?null:{"":-1},o=lQ(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&R3(t,e,n,a,r,l),r&&uQ(n,i,r)}n.mergedAttrs=Rp(n.mergedAttrs,n.attrs)}function R3(t,e,n,i,r,o){for(let f=0;f<i.length;f++)QS(c0(n,e),t,i[f].type);hQ(n,t.data.length,i.length);for(let f=0;f<i.length;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,d=P3(t,e,i.length,null);for(let f=0;f<i.length;f++){let p=i[f];n.mergedAttrs=Rp(n.mergedAttrs,p.hostAttrs),fQ(t,n,e,d,p),dQ(d,p,r),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let v=p.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}nQ(t,n,o)}function oQ(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;sQ(a)!=l&&a.push(l),a.push(n,i,o)}}function sQ(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function aQ(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;b0(n)&&pQ(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||c0(n,e),qa(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],f=cl(e,t,l,n);if(qa(f,e),a!==null&&vQ(e,l-r,f,d,n,a),Vs(d)){let p=Wa(n.index,e);p[no]=cl(e,t,l,n)}}}function N3(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=GW();try{sl(o);for(let l=i;l<r;l++){let d=t.data[l],f=e[l];VS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&cQ(d,f)}}finally{sl(-1),VS(a)}}function cQ(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lQ(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(hW(e,a.selectors,!1))if(i||(i=[]),Vs(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;aT(t,e,d)}else i.unshift(a),aT(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function aT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uQ(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new Z(-301,!1);i.push(e[r],o)}}}function dQ(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Vs(e)&&(n[""]=t)}}function hQ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fQ(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=$d(r.type,!0)),a=new al(o,Vs(r),F);t.blueprint[i]=a,n[i]=a,oQ(t,e,i,P3(t,n,r.hostVars,so),r)}function pQ(t,e,n){let i=Ir(e,t),r=k3(n),o=t[Fs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=L0(t,F0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function mQ(t,e,n,i,r,o){let a=Ir(t,e);gQ(e[rn],a,o,t.value,n,i,r)}function gQ(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Bd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function vQ(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],f=a[l++],p=a[l++],v=a[l++];M3(i,n,d,f,p,v)}}function yQ(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function F3(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function L3(t,e){let n=t.contentQueries;if(n!==null){let i=Et(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];$T(o),l.contentQueries(2,e[a],a)}}}finally{Et(i)}}}function L0(t,e){return t[Fp]?t[pL][to]=e:t[Fp]=e,t[pL]=e,e}function cT(t,e,n){$T(0);let i=Et(null);try{e(t,n)}finally{Et(i)}}function V3(t){return t[Np]||(t[Np]=[])}function j3(t){return t.cleanup||(t.cleanup=[])}function _Q(t,e,n){return(t===null||Vs(t))&&(n=TW(n[e.index])),n[rn]}function U3(t,e){let n=t[Vd],i=n?n.get(Wo,null):null;i&&i.handleError(e)}function dD(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],f=e[a],p=t.data[a];M3(p,f,i,l,d,r)}}function B3(t,e,n){let i=lV(e,t);DK(t[rn],i,n)}function wQ(t,e){let n=Wa(e,t),i=n[tt];bQ(i,n);let r=n[Ko];r!==null&&n[t0]===null&&(n[t0]=JT(r,n[Vd])),hD(i,n,n[no])}function bQ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hD(t,e,n){HT(e);try{let i=t.viewQuery;i!==null&&cT(1,i,n);let r=t.template;r!==null&&O3(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ls]?.finishViewCreation(t),t.staticContentQueries&&L3(t,e),t.staticViewQueries&&cT(2,t.viewQuery,n);let o=t.components;o!==null&&EQ(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ke]&=-5,zT()}}function EQ(t,e){for(let n=0;n<e.length;n++)wQ(t,e[n])}function CQ(t,e,n,i){let r=Et(null);try{let o=e.tView,l=t[ke]&4096?4096:16,d=F0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),f=t[e.index];d[qp]=f;let p=t[Ls];return p!==null&&(d[Ls]=p.createEmbeddedView(o)),hD(o,d,n),d}finally{Et(r)}}function RL(t,e){return!e||e.firstChild===null||SV(t)}function IQ(t,e,n,i=!0){let r=e[tt];if(OK(r,e,t,n),i){let a=sT(n,t),l=e[rn],d=iD(l,t[ol]);d!==null&&MK(r,t[ro],l,e,d,a)}let o=e[t0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function u0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Go(o)),Hs(o)&&SQ(o,i);let a=n.type;if(a&8)u0(t,e,n.child,i);else if(a&32){let l=nD(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=T3(e,n);if(Array.isArray(l))i.push(...l);else{let d=Vp(e[zo]);u0(d[tt],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function SQ(t,e){for(let n=hr;n<t.length;n++){let i=t[n],r=i[tt].firstChild;r!==null&&u0(i[tt],i,r,e)}t[ol]!==t[Ko]&&e.push(t[ol])}var $3=[];function TQ(t){return t[rl]??DQ(t)}function DQ(t){let e=$3.pop()??Object.create(xQ);return e.lView=t,e}function AQ(t){t.lView[rl]!==t&&(t.lView=null,$3.push(t))}var xQ=vt(te({},h_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Lp(t.lView)},consumerOnSignalRead(){this.lView[rl]=this}});function H3(t){return q3(t[Fp])}function z3(t){return q3(t[to])}function q3(t){for(;t!==null&&!Hs(t);)t=t[to];return t}var G3=100;function W3(t,e=!0,n=0){let i=t[Fs],r=i.rendererFactory,o=!1;o||r.begin?.();try{MQ(t,n)}catch(a){throw e&&U3(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function MQ(t,e){lT(t,e);let n=0;for(;jT(t);){if(n===G3)throw new Z(103,!1);n++,lT(t,1)}}function PQ(t,e,n,i){let r=e[ke];if((r&256)===256)return;let o=!1;!o&&e[Fs].inlineEffectRunner?.flush(),HT(e);let a=null,l=null;!o&&OQ(t)&&(l=TQ(e),a=KI(l));try{dV(e),HW(t.bindingStartIndex),n!==null&&O3(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&Q_(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Y_(e,v,0,null),ES(e,0)}if(kQ(e),K3(e,0),t.contentQueries!==null&&L3(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&Q_(e,v)}else{let v=t.contentHooks;v!==null&&Y_(e,v,1),ES(e,1)}KK(t,e);let f=t.components;f!==null&&Y3(e,f,0);let p=t.viewQuery;if(p!==null&&cT(2,p,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&Q_(e,v)}else{let v=t.viewHooks;v!==null&&Y_(e,v,2),ES(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[W_]){for(let v of e[W_])v();e[W_]=null}o||(e[ke]&=-73)}catch(d){throw Lp(e),d}finally{l!==null&&(QI(l,a),AQ(l)),zT()}}function OQ(t){return t.type!==2}function K3(t,e){for(let n=H3(t);n!==null;n=z3(n))for(let i=hr;i<n.length;i++){let r=n[i];Q3(r,e)}}function kQ(t){for(let e=H3(t);e!==null;e=z3(e)){if(!(e[ke]&FT.HasTransplantedViews))continue;let n=e[jd];for(let i=0;i<n.length;i++){let r=n[i],o=r[fi];MW(r)}}}function RQ(t,e,n){let i=Wa(e,t);Q3(i,n)}function Q3(t,e){VT(t)&&lT(t,e)}function lT(t,e){let i=t[tt],r=t[ke],o=t[rl],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&f_(o)),o&&(o.dirty=!1),t[ke]&=-9217,a)PQ(i,t,i.template,t[no]);else if(r&8192){K3(t,1);let l=i.components;l!==null&&Y3(t,l,1)}}function Y3(t,e,n){for(let i=0;i<e.length;i++)RQ(t,e[i],n)}function fD(t){for(t[Fs].changeDetectionScheduler?.notify();t;){t[ke]|=64;let e=Vp(t);if(bW(t)&&!e)return t;t=e}return null}var ll=class{get rootNodes(){let e=this._lView,n=e[tt];return u0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[no]}set context(e){this._lView[no]=e}get destroyed(){return(this._lView[ke]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[fi];if(Hs(e)){let n=e[n0],i=n?n.indexOf(this):-1;i>-1&&(oT(e,i),i0(n,i))}this._attachedToViewContainer=!1}I3(this._lView[tt],this._lView)}onDestroy(e){hV(this._lView,e)}markForCheck(){fD(this._cdRefInjectingView||this._lView)}detach(){this._lView[ke]&=-129}reattach(){LS(this._lView),this._lView[ke]|=128}detectChanges(){this._lView[ke]|=1024,W3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,E3(this._lView[tt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e,LS(this._lView)}},io=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LQ;let t=e;return t})(),NQ=io,FQ=class extends NQ{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=CQ(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new ll(r)}};function LQ(){return V0(Ii(),pt())}function V0(t,e){return t.type&4?new FQ(e,t,Qd(t,e)):null}var f0e=new RegExp(`^(\\d+)*(${w7}|${_7})*(.*)`);var VQ=()=>null;function NL(t,e){return VQ(t,e)}var Bp=class{},uT=class{},d0=class{};function jQ(t){let e=Error(`No component factory found for ${ji(t)}.`);return e[UQ]=t,e}var UQ="ngComponent";var dT=class{resolveComponentFactory(e){throw jQ(e)}},j0=(()=>{let e=class e{};e.NULL=new dT;let t=e;return t})(),ul=class{},ao=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>BQ();let t=e;return t})();function BQ(){let t=pt(),e=Ii(),n=Wa(e.index,t);return(nl(n)?n:t)[rn]}var $Q=(()=>{let e=class e{};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),TS={},J3=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HQ,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),hT=class extends J3{constructor(e){super(),this._lView=e}onDestroy(e){return hV(this._lView,e),()=>OW(this._lView,e)}};function HQ(){return new hT(pt())}var FL=new Set;function pl(t){FL.has(t)||(FL.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function LL(...t){}function zQ(){let t=typeof Ns.requestAnimationFrame=="function",e=Ns[t?"requestAnimationFrame":"setTimeout"],n=Ns[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ft=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jt(!1),this.onMicrotaskEmpty=new Jt(!1),this.onStable=new Jt(!1),this.onError=new Jt(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=zQ().nativeRequestAnimationFrame,WQ(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,qQ,LL,LL);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},qQ={};function pD(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GQ(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ns,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fT(t),t.isCheckStableRunning=!0,pD(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fT(t))}function WQ(t){let e=()=>{GQ(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(KQ(l))return n.invokeTask(r,o,a,l);try{return VL(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jL(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return VL(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),jL(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,fT(t),pD(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function fT(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function VL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jL(t){t._nesting--,pD(t)}function KQ(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var X3=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function h0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=NS(r,l);else if(o==2){let d=l,f=e[++a];i=NS(i,d+": "+f+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var f0=class extends j0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=za(e);return new qd(n,this.ngModule)}};function UL(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function QQ(t){let e=t.toLowerCase();return e==="svg"?EW:e==="math"?CW:null}var pT=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=A0(i);let r=this.injector.get(e,TS,i);return r!==TS||n===TS?r:this.parentInjector.get(e,n,i)}},qd=class extends d0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=UL(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return UL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Et(null);try{r=r||this.ngModule;let a=r instanceof ni?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new pT(e,a):e,d=l.get(ul,null);if(d===null)throw new Z(407,!1);let f=l.get($Q,null),p=l.get(X3,null),v=l.get(Bp,null),y={rendererFactory:d,sanitizer:f,inlineEffectRunner:null,afterRenderEventManager:p,changeDetectionScheduler:v},b=d.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=i?JK(b,i,this.componentDef.encapsulation,l):b3(b,w,QQ(w)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let x=null;C!==null&&(x=JT(C,l,!0));let R=cD(0,null,null,1,0,null,null,null,null,null,null),H=F0(null,R,null,I,null,null,y,b,l,null,x);HT(H);let D,ee;try{let L=this.componentDef,re,Ce=null;L.findHostDirectiveDefs?(re=[],Ce=new Map,L.findHostDirectiveDefs(L,re,Ce),re.push(L)):re=[L];let Ue=YQ(H,C),Qe=JQ(Ue,C,L,re,H,y,b);ee=uV(R,qo),C&&eY(b,L,C,i),n!==void 0&&tY(ee,this.ngContentSelectors,n),D=ZQ(Qe,L,re,Ce,H,[nY]),hD(R,H,null)}finally{zT()}return new mT(this.componentType,D,Qd(ee,H),H,ee)}finally{Et(o)}}},mT=class extends uT{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ll(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;dD(o[tt],o,r,e,n),this.previousInputValues.set(e,n);let a=Wa(this._tNode.index,o);fD(a)}}get injector(){return new il(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function YQ(t,e){let n=t[tt],i=qo;return t[i]=e,Yp(n,i,2,"#host",null)}function JQ(t,e,n,i,r,o,a){let l=r[tt];XQ(i,t,e,a);let d=null;e!==null&&(d=JT(e,r[Vd]));let f=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let v=F0(r,k3(n),null,p,r[t.index],t,o,f,null,null,d);return l.firstCreatePass&&aT(l,t,i.length-1),L0(r,v),r[t.index]=v}function XQ(t,e,n,i){for(let r of t)e.mergedAttrs=Rp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(h0(e,e.mergedAttrs,!0),n!==null&&A3(i,n,e))}function ZQ(t,e,n,i,r,o){let a=Ii(),l=r[tt],d=Ir(a,r);R3(l,r,a,n,null,i);for(let p=0;p<n.length;p++){let v=a.directiveStart+p,y=cl(r,l,v,a);qa(y,r)}N3(l,r,a),d&&qa(d,r);let f=cl(r,l,a.directiveStart+a.componentOffset,a);if(t[no]=r[no]=f,o!==null)for(let p of o)p(f,e);return oD(l,a,r),f}function eY(t,e,n,i){if(i)FS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=vW(e.selectors[0]);r&&FS(t,n,r),o&&o.length>0&&D3(t,n,o.join(" "))}}function tY(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function nY(){let t=Ii();P0(pt()[tt],t)}var pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iY;let t=e;return t})();function iY(){let t=Ii();return ej(t,pt())}var rY=pi,Z3=class extends rY{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new il(this._hostTNode,this._hostLView)}get parentInjector(){let e=ZT(this._hostTNode,this._hostLView);if(KV(e)){let n=a0(e,this._hostLView),i=s0(e),r=n[tt].data[i+8];return new il(r,n)}else return new il(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BL(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=NL(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,RL(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!R7(e),l;if(a)l=n;else{let w=n||{};l=w.index,i=w.injector,r=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let d=a?e:new qd(za(e)),f=i||this.parentInjector;if(!o&&d.ngModule==null){let C=(a?f:this.parentInjector).get(ni,null);C&&(o=C)}let p=za(d.componentType??{}),v=NL(this._lContainer,p?.id??null),y=v?.firstChild??null,b=d.create(f,r,y,o);return this.insertImpl(b.hostView,l,RL(this._hostTNode,v)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(xW(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[fi],f=new Z3(d,d[ro],d[fi]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return IQ(a,r,o,i),e.attachToViewContainerRef(),IV(DS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BL(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=oT(this._lContainer,n);i&&(i0(DS(this._lContainer),n),I3(i[tt],i))}detach(e){let n=this._adjustIndex(e,-1),i=oT(this._lContainer,n);return i&&i0(DS(this._lContainer),n)!=null?new ll(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function BL(t){return t[n0]}function DS(t){return t[n0]||(t[n0]=[])}function ej(t,e){let n,i=e[t.index];return Hs(i)?n=i:(n=F3(i,e,null,t),e[t.index]=n,L0(e,n)),sY(n,e,t,i),new Z3(n,t,e)}function oY(t,e){let n=t[rn],i=n.createComment(""),r=Ir(e,t),o=iD(n,r);return l0(n,o,i,jK(n,r),!1),i}var sY=lY,aY=()=>!1;function cY(t,e,n){return aY(t,e,n)}function lY(t,e,n,i){if(t[ol])return;let r;n.type&8?r=Go(i):r=oY(e,n),t[ol]=r}var gT=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vT=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)mD(e,n).matches!==null&&this.queries[n].setDirty()}},p0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=vY(e):this.predicate=e}},yT=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_T=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,uY(n,o)),this.matchTNodeWithReadOption(e,n,J_(n,e,o,!1,!1))}else i===io?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,J_(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===jt||r===pi||r===io&&n.type&4)this.addMatch(n.index,-2);else{let o=J_(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function uY(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function dY(t,e){return t.type&11?Qd(t,e):t.type&4?V0(t,e):null}function hY(t,e,n,i){return n===-1?dY(e,t):n===-2?fY(t,e,i):cl(t,t[tt],n,e)}function fY(t,e,n){if(n===jt)return Qd(e,t);if(n===io)return V0(e,t);if(n===pi)return ej(e,t)}function tj(t,e,n,i){let r=e[Ls].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let f=a[d];if(f<0)l.push(null);else{let p=o[f];l.push(hY(e,p,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function wT(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=tj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let f=o[l+1],p=e[-d];for(let v=hr;v<p.length;v++){let y=p[v];y[qp]===y[fi]&&wT(y[tt],y,f,i)}if(p[jd]!==null){let v=p[jd];for(let y=0;y<v.length;y++){let b=v[y];wT(b[tt],b,f,i)}}}}}return i}function pY(t,e){return t[Ls].queries[e].queryList}function nj(t,e,n){let i=new jS((n&4)===4);return eQ(t,e,i,i.destroy),(e[Ls]??=new vT).queries.push(new gT(i))-1}function mY(t,e,n){let i=Pn();return i.firstCreatePass&&(ij(i,new p0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),nj(i,pt(),e)}function gY(t,e,n,i){let r=Pn();if(r.firstCreatePass){let o=Ii();ij(r,new p0(e,n,i),o.index),yY(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return nj(r,pt(),n)}function vY(t){return t.split(",").map(e=>e.trim())}function ij(t,e,n){t.queries===null&&(t.queries=new yT),t.queries.track(new _T(e,n))}function yY(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function mD(t,e){return t.queries.getByIndex(e)}function _Y(t,e){let n=t[tt],i=mD(n,e);return i.crossesNgTemplate?wT(n,t,e,[]):tj(n,t,i,e)}function wY(t){return typeof t=="function"&&t[Na]!==void 0}function Ja(t,e){pl("NgSignals");let n=O2(t),i=n[Na];return e?.equal&&(i.equal=e.equal),n.set=r=>JI(i,r),n.update=r=>k2(i,r),n.asReadonly=bY.bind(n),n}function bY(){let t=this[Na];if(t.readonlyFn===void 0){let e=()=>this();e[Na]=t,t.readonlyFn=e}return t.readonlyFn}function rj(t){return wY(t)&&typeof t.set=="function"}function EY(t){return Object.getPrototypeOf(t.prototype).constructor}function Lt(t){let e=EY(t.type),n=!0,i=[t];for(;e;){let r;if(Vs(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=q_(t.inputs),a.inputTransforms=q_(t.inputTransforms),a.declaredInputs=q_(t.declaredInputs),a.outputs=q_(t.outputs);let l=r.hostBindings;l&&DY(t,l);let d=r.viewQuery,f=r.contentQueries;if(d&&SY(t,d),f&&TY(t,f),CY(t,r),nW(t.outputs,r.outputs),Vs(r)&&r.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===Lt&&(n=!1)}}e=Object.getPrototypeOf(e)}IY(i)}function CY(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function IY(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Rp(r.hostAttrs,n=Rp(n,r.hostAttrs))}}function q_(t){return t===Ld?{}:t===er?[]:t}function SY(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function TY(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function DY(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Jp(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Ga=class{},$p=class{};var bT=class extends Ga{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new f0(this);let r=oV(e);this._bootstrapComponents=w3(r.bootstrap),this._r3Injector=i3(e,n,[{provide:Ga,useValue:this},{provide:j0,useValue:this.componentFactoryResolver},...i],ji(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ET=class extends $p{constructor(e){super(),this.moduleType=e}create(e){return new bT(this.moduleType,e,[])}};var m0=class extends Ga{constructor(e){super(),this.componentFactoryResolver=new f0(this),this.instance=null;let n=new Up([...e.providers,{provide:Ga,useValue:this},{provide:j0,useValue:this.componentFactoryResolver}],e.parent||M0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gD(t,e,n=null){return new m0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ml=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Un(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oj(t){return xY(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function AY(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function xY(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function MY(t,e,n){return t[e]=n}function PY(t,e){return t[e]}function Bs(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function OY(t,e,n,i){let r=Bs(t,e,n);return Bs(t,e+1,i)||r}function kY(t,e,n,i,r,o,a,l,d){let f=e.consts,p=Yp(e,t,4,a||null,Ud(f,l));uD(e,n,p,Ud(f,d)),P0(e,p);let v=p.tView=cD(2,p,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,p),v.queries=e.queries.embeddedTView(p)),p}function X(t,e,n,i,r,o,a,l){let d=pt(),f=Pn(),p=t+qo,v=f.firstCreatePass?kY(p,f,d,e,n,i,r,o,a):f.data[p];hl(v,!1);let y=RY(f,d,v,t);I0()&&R0(f,d,y,v),qa(y,d);let b=F3(y,d,y,v);return d[p]=b,L0(d,b),cY(b,v,d),E0(v)&&sD(f,d,v),a!=null&&aD(d,v,l),X}var RY=NY;function NY(t,e,n,i){return S0(!0),e[rn].createComment("")}function U0(t,e,n,i){let r=pt(),o=Gp();if(Bs(r,o,e)){let a=Pn(),l=C0();mQ(l,r,t,e,n,i)}return U0}function FY(t,e,n,i){return Bs(t,Gp(),n)?e+Bd(n)+i:so}function LY(t,e,n,i,r,o){let a=$W(),l=OY(t,a,n,r);return BT(2),l?e+Bd(n)+i+Bd(r)+o:so}function G_(t,e){return t<<17|e<<2}function dl(t){return t>>17&32767}function VY(t){return(t&2)==2}function jY(t,e){return t&131071|e<<17}function CT(t){return t|2}function Gd(t){return(t&131068)>>2}function AS(t,e){return t&-131069|e<<2}function UY(t){return(t&1)===1}function IT(t){return t|1}function BY(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=dl(a),d=Gd(a);t[i]=n;let f=!1,p;if(Array.isArray(n)){let v=n;p=v[1],(p===null||Wp(v,p)>0)&&(f=!0)}else p=n;if(r)if(d!==0){let y=dl(t[l+1]);t[i+1]=G_(y,l),y!==0&&(t[y+1]=AS(t[y+1],i)),t[l+1]=jY(t[l+1],i)}else t[i+1]=G_(l,0),l!==0&&(t[l+1]=AS(t[l+1],i)),l=i;else t[i+1]=G_(d,0),l===0?l=i:t[d+1]=AS(t[d+1],i),d=i;f&&(t[i+1]=CT(t[i+1])),$L(t,p,i,!0),$L(t,p,i,!1),$Y(e,p,t,i,o),a=G_(l,d),o?e.classBindings=a:e.styleBindings=a}function $Y(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wp(o,e)>=0&&(n[i+1]=IT(n[i+1]))}function $L(t,e,n,i){let r=t[n+1],o=e===null,a=i?dl(r):Gd(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],f=t[a+1];HY(d,e)&&(l=!0,t[a+1]=i?IT(f):CT(f)),a=i?dl(f):Gd(f)}l&&(t[n+1]=i?CT(r):IT(r))}function HY(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wp(t,e)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sj(t){return t.substring(Bn.key,Bn.keyEnd)}function zY(t){return t.substring(Bn.value,Bn.valueEnd)}function qY(t){return lj(t),aj(t,Wd(t,0,Bn.textEnd))}function aj(t,e){let n=Bn.textEnd;return n===e?-1:(e=Bn.keyEnd=WY(t,Bn.key=e,n),Wd(t,e,n))}function GY(t){return lj(t),cj(t,Wd(t,0,Bn.textEnd))}function cj(t,e){let n=Bn.textEnd,i=Bn.key=Wd(t,e,n);return n===i?-1:(i=Bn.keyEnd=KY(t,i,n),i=HL(t,i,n,58),i=Bn.value=Wd(t,i,n),i=Bn.valueEnd=QY(t,i,n),HL(t,i,n,59))}function lj(t){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=t.length}function Wd(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function WY(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function KY(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function HL(t,e,n,i){return e=Wd(t,e,n),e<n&&e++,e}function QY(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=zL(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=zL(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function zL(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function O(t,e,n){let i=pt(),r=Gp();if(Bs(i,r,e)){let o=Pn(),a=C0();lD(o,a,i,t,e,i[rn],n,!1)}return O}function ST(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";dD(t,n,o[a],a,i)}function co(t,e,n){return dj(t,e,n,!1),co}function $e(t,e){return dj(t,e,null,!0),$e}function B0(t){hj(mj,YY,t,!1)}function YY(t,e){for(let n=GY(e);n>=0;n=cj(e,n))mj(t,sj(e),zY(e))}function uj(t){hj(iJ,JY,t,!0)}function JY(t,e){for(let n=qY(e);n>=0;n=aj(e,n))T0(t,sj(e),!0)}function dj(t,e,n,i){let r=pt(),o=Pn(),a=BT(2);if(o.firstUpdatePass&&pj(o,t,a,i),e!==so&&Bs(r,a,e)){let l=o.data[Ka()];gj(o,l,r,r[rn],t,r[a+1]=oJ(e,n),i,a)}}function hj(t,e,n,i){let r=Pn(),o=BT(2);r.firstUpdatePass&&pj(r,null,o,i);let a=pt();if(n!==so&&Bs(a,o,n)){let l=r.data[Ka()];if(vj(l,i)&&!fj(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=NS(d,n||"")),ST(r,l,a,n,i)}else rJ(r,l,a,a[rn],a[o+1],a[o+1]=nJ(t,e,n),i,o)}}function fj(t,e){return e>=t.expandoStartIndex}function pj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[Ka()],a=fj(t,n);vj(o,i)&&e===null&&!a&&(e=!1),e=XY(r,o,e,i),BY(r,o,e,n,a,i)}}function XY(t,e,n,i){let r=gV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=xS(null,t,e,n,i),n=Hp(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=xS(r,t,e,n,i),o===null){let d=ZY(t,e,i);d!==void 0&&Array.isArray(d)&&(d=xS(null,t,e,d[1],i),d=Hp(d,e.attrs,i),eJ(t,e,i,d))}else o=tJ(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function ZY(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Gd(i)!==0)return t[dl(i)]}function eJ(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[dl(r)]=i}function tJ(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=Hp(i,a,n)}return Hp(i,e.attrs,n)}function xS(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=Hp(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function Hp(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),T0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function nJ(t,e,n){if(n==null||n==="")return er;let i=[],r=Tr(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function mj(t,e,n){T0(t,e,Tr(n))}function iJ(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&T0(t,i,n)}function rJ(t,e,n,i,r,o,a,l){r===so&&(r=er);let d=0,f=0,p=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;p!==null||v!==null;){let y=d<r.length?r[d+1]:void 0,b=f<o.length?o[f+1]:void 0,w=null,C;p===v?(d+=2,f+=2,y!==b&&(w=v,C=b)):v===null||p!==null&&p<v?(d+=2,w=p):(f+=2,w=v,C=b),w!==null&&gj(t,e,n,i,w,C,a,l),p=d<r.length?r[d]:null,v=f<o.length?o[f]:null}}function gj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,f=d[l+1],p=UY(f)?qL(d,e,n,r,Gd(f),a):void 0;if(!g0(p)){g0(o)||VY(f)&&(o=qL(d,null,n,r,l,a));let v=lV(Ka(),n);GK(i,a,v,r,o)}}function qL(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],f=Array.isArray(d),p=f?d[1]:d,v=p===null,y=n[r+1];y===so&&(y=v?er:void 0);let b=v?wS(y,i):p===i?y:void 0;if(f&&!g0(b)&&(b=wS(d,i)),g0(b)&&(l=b,a))return l;let w=t[r+1];r=a?dl(w):Gd(w)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=wS(d,i))}return l}function g0(t){return t!==void 0}function oJ(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ji(Tr(t)))),t}function vj(t,e){return(t.flags&(e?8:16))!==0}function sJ(t,e,n,i,r,o){let a=e.consts,l=Ud(a,r),d=Yp(e,t,2,i,l);return uD(e,n,d,Ud(a,o)),d.attrs!==null&&h0(d,d.attrs,!1),d.mergedAttrs!==null&&h0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function S(t,e,n,i){let r=pt(),o=Pn(),a=qo+t,l=r[rn],d=o.firstCreatePass?sJ(a,o,r,e,n,i):o.data[a],f=aJ(o,r,d,l,e,t);r[a]=f;let p=E0(d);return hl(d,!0),A3(l,f,d),(d.flags&32)!==32&&I0()&&R0(o,r,f,d),kW()===0&&qa(f,r),RW(),p&&(sD(o,r,d),oD(o,d,r)),i!==null&&aD(r,d),S}function T(){let t=Ii();UT()?mV():(t=t.parent,hl(t,!1));let e=t;LW(e)&&VW(),NW();let n=Pn();return n.firstCreatePass&&(P0(n,t),LT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&B7(e)&&ST(n,e,pt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$7(e)&&ST(n,e,pt(),e.stylesWithoutHost,!1),T}function fe(t,e,n,i){return S(t,e,n,i),T(),fe}var aJ=(t,e,n,i,r,o)=>(S0(!0),b3(i,r,QW()));function cJ(t,e,n,i,r){let o=e.consts,a=Ud(o,i),l=Yp(e,t,8,"ng-container",a);a!==null&&h0(l,a,!0);let d=Ud(o,r);return uD(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function Gt(t,e,n){let i=pt(),r=Pn(),o=t+qo,a=r.firstCreatePass?cJ(o,r,i,e,n):r.data[o];hl(a,!0);let l=lJ(r,i,a,t);return i[o]=l,I0()&&R0(r,i,l,a),qa(l,i),E0(a)&&(sD(r,i,a),oD(r,a,i)),n!=null&&aD(i,a),Gt}function Wt(){let t=Ii(),e=Pn();return UT()?mV():(t=t.parent,hl(t,!1)),e.firstCreatePass&&(P0(e,t),LT(t)&&e.queries.elementEnd(t)),Wt}function vD(t,e,n){return Gt(t,e,n),Wt(),vD}var lJ=(t,e,n,i)=>(S0(!0),AK(e[rn],""));function de(){return pt()}function gl(t,e,n){let i=pt(),r=Gp();if(Bs(i,r,e)){let o=Pn(),a=C0(),l=gV(o.data),d=_Q(l,a,i);lD(o,a,i,t,e,d,n,!0)}return gl}var v0="en-US";var uJ=v0;function dJ(t){typeof t=="string"&&(uJ=t.toLowerCase().replace(/_/g,"-"))}function k(t,e,n,i){let r=pt(),o=Pn(),a=Ii();return yj(o,r,r[rn],a,t,e,i),k}function hJ(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[Np],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function yj(t,e,n,i,r,o,a){let l=E0(i),f=t.firstCreatePass&&j3(t),p=e[no],v=V3(e),y=!0;if(i.type&3||a){let C=Ir(i,e),I=a?a(C):C,x=v.length,R=a?D=>a(Go(D[i.index])):i.index,H=null;if(!a&&l&&(H=hJ(t,e,r,i.index)),H!==null){let D=H.__ngLastListenerFn__||H;D.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1}else{o=WL(i,e,p,o,!1);let D=n.listen(I,r,o);v.push(o,D),f&&f.push(r,R,x,x+1)}}else o=WL(i,e,p,o,!1);let b=i.outputs,w;if(y&&b!==null&&(w=b[r])){let C=w.length;if(C)for(let I=0;I<C;I+=2){let x=w[I],R=w[I+1],ee=e[x][R].subscribe(o),L=v.length;if(v.push(o,ee),f){let re=typeof ee=="function"?L+1:-(L+1);f.push(r,i.index,L,re)}}}}function GL(t,e,n,i){let r=Et(null);try{return Bo(6,e,n),n(i)!==!1}catch(o){return U3(t,o),!1}finally{Bo(7,e,n),Et(r)}}function WL(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?Wa(t.index,e):e;fD(l);let d=GL(e,n,i,a),f=o.__ngNextListenerFn__;for(;f;)d=GL(e,n,f,a)&&d,f=f.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function P(t=1){return KW(t)}function _j(t,e,n,i){gY(t,e,n,i)}function wj(t,e,n){mY(t,e,n)}function $0(t){let e=pt(),n=Pn(),i=vV();$T(i+1);let r=mD(n,i);if(t.dirty&&AW(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=_Y(e,i);t.reset(o,JW),t.notifyOnChanges()}return!0}return!1}function H0(){return pY(pt(),vV())}function ii(t){let e=UW();return DW(e,qo+t)}function j(t,e=""){let n=pt(),i=Pn(),r=t+qo,o=i.firstCreatePass?Yp(i,r,1,e,null):i.data[r],a=fJ(i,n,o,e,t);n[r]=a,I0()&&R0(i,n,a,o),hl(o,!1)}var fJ=(t,e,n,i,r)=>(S0(!0),TK(e[rn],i));function ye(t){return bj("",t,""),ye}function bj(t,e,n){let i=pt(),r=FY(i,t,e,n);return r!==so&&B3(i,Ka(),r),bj}function vl(t,e,n,i,r){let o=pt(),a=LY(o,t,e,n,i,r);return a!==so&&B3(o,Ka(),a),vl}function Dr(t,e,n){rj(e)&&(e=e());let i=pt(),r=Gp();if(Bs(i,r,e)){let o=Pn(),a=C0();lD(o,a,i,t,e,i[rn],n,!1)}return Dr}function lo(t,e){let n=rj(t);return n&&t.set(e),n}function Ar(t,e){let n=pt(),i=Pn(),r=Ii();return yj(i,n,n[rn],r,t,e),Ar}function pJ(t,e,n){let i=Pn();if(i.firstCreatePass){let r=Vs(t);TT(n,i.data,i.blueprint,r,!0),TT(e,i.data,i.blueprint,r,!1)}}function TT(t,e,n,i,r){if(t=Vi(t),Array.isArray(t))for(let o=0;o<t.length;o++)TT(t[o],e,n,i,r);else{let o=Pn(),a=pt(),l=Ii(),d=zd(t)?t:Vi(t.provide),f=$V(t),p=l.providerIndexes&1048575,v=l.directiveStart,y=l.providerIndexes>>20;if(zd(t)||!t.multi){let b=new al(f,r,F),w=PS(d,e,r?p:p+y,v);w===-1?(QS(c0(l,a),o,d),MS(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(b),a.push(b)):(n[w]=b,a[w]=b)}else{let b=PS(d,e,p+y,v),w=PS(d,e,p,p+y),C=b>=0&&n[b],I=w>=0&&n[w];if(r&&!I||!r&&!C){QS(c0(l,a),o,d);let x=vJ(r?gJ:mJ,n.length,r,i,f);!r&&I&&(n[w].providerFactory=x),MS(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(x),a.push(x)}else{let x=Ej(n[r?w:b],f,!r&&i);MS(o,t,b>-1?b:w,x)}!r&&i&&I&&n[w].componentProviders++}}}function MS(t,e,n,i){let r=zd(e),o=T7(e);if(r||o){let d=(o?Vi(e.useClass):e).prototype.ngOnDestroy;if(d){let f=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let p=f.indexOf(n);p===-1?f.push(n,[i,d]):f[p+1].push(i,d)}else f.push(n,d)}}}function Ej(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function PS(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function mJ(t,e,n,i){return DT(this.multi,[])}function gJ(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=cl(n,n[tt],this.providerFactory.index,i);o=l.slice(0,a),DT(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],DT(r,o);return o}function DT(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function vJ(t,e,n,i,r){let o=new al(t,n,F);return o.multi=[],o.index=e,o.componentProviders=0,Ej(o,r,i&&!n),o}function Xp(t,e=[]){return n=>{n.providersResolver=(i,r)=>pJ(i,r?r(t):t,e)}}var yJ=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=jV(!1,i.type),o=r.length>0?gD([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ie({token:e,providedIn:"environment",factory:()=>new e(oe(ni))});let t=e;return t})();function pe(t){pl("NgStandalone"),t.getStandaloneInjector=e=>e.get(yJ).getOrCreateStandaloneInjector(t)}function yl(t,e,n){let i=BW()+t,r=pt();return r[i]===so?MY(r,i,n?e.call(n):e()):PY(r,i)}function Yd(t,e){return V0(t,e)}var $s=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Cj=new $s("17.2.4"),z0=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ij=new we("");function _l(t){return!!t&&typeof t.then=="function"}function Sj(t){return!!t&&typeof t.subscribe=="function"}var Tj=new we(""),Dj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=J(Tj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(_l(a))i.push(a);else if(Sj(a)){let l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q0=new we("");function _J(){P2(()=>{throw new Z(600,!1)})}function wJ(t){return t.isBoundToModule}function bJ(t,e,n){try{let i=n();return _l(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Yo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J(r3),this.afterRenderEffectManager=J(X3),this.componentTypes=[],this.components=[],this.isStable=J(ml).hasPendingTasks.pipe(Ne(i=>!i)),this._injector=J(ni)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof d0;if(!this._injector.get(Dj).done){let b=!o&&rV(i),w=!1;throw new Z(405,w)}let l;o?l=i:l=this._injector.get(j0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=wJ(l)?void 0:this._injector.get(Ga),f=r||l.selector,p=l.create(on.NULL,[],f,d),v=p.location.nativeElement,y=p.injector.get(Ij,null);return y?.registerApplication(v),p.onDestroy(()=>{this.detachView(p.hostView),OS(this.components,p),y?.unregisterApplication(v)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Z(101,!1);let i=Et(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Et(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===G3)throw new Z(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!kS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>kS(a))&&(r.execute(),!this._views.some(({_lView:a})=>kS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[ke]|=1024):i[ke]&64?a=0:a=1,W3(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;OS(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(q0,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>OS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Z(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kS(t){return jT(t)}var AT=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yD=(()=>{let e=class e{compileModuleSync(i){return new ET(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=oV(i),a=w3(o.declarations).reduce((l,d)=>{let f=za(d);return f&&l.push(new qd(f)),l},[]);return new AT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EJ=(()=>{let e=class e{constructor(){this.zone=J(ft),this.applicationRef=J(Yo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CJ(t){return[{provide:ft,useFactory:t},{provide:Hd,multi:!0,useFactory:()=>{let e=J(EJ,{optional:!0});return()=>e.initialize()}},{provide:Hd,multi:!0,useFactory:()=>{let e=J(DJ);return()=>{e.initialize()}}},{provide:r3,useFactory:IJ}]}function IJ(){let t=J(ft),e=J(Wo);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SJ(t){let e=CJ(()=>new ft(TJ(t)));return Qa([[],e])}function TJ(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DJ=(()=>{let e=class e{constructor(){this.subscription=new wn,this.initialized=!1,this.zone=J(ft),this.pendingTasks=J(ml)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AJ(){return typeof $localize<"u"&&$localize.locale||v0}var _D=new we("",{providedIn:"root",factory:()=>J(_D,nt.Optional|nt.SkipSelf)||AJ()});var Aj=new we("");var Z_=null;function xJ(t=[],e){return on.create({name:e,providers:[{provide:x0,useValue:"platform"},{provide:Aj,useValue:new Set([()=>Z_=null])},...t]})}function MJ(t=[]){if(Z_)return Z_;let e=xJ(t);return Z_=e,_J(),PJ(e),e}function PJ(t){t.get(WT,null)?.forEach(n=>n())}var Gs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OJ;let t=e;return t})();function OJ(t){return kJ(Ii(),pt(),(t&16)===16)}function kJ(t,e,n){if(b0(t)&&!n){let i=Wa(t.index,e);return new ll(i,i)}else if(t.type&47){let i=e[zo];return new ll(i,e)}return null}var xT=class{constructor(){}supports(e){return oj(e)}create(e){return new MT(e)}},RJ=(t,e)=>e,MT=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RJ}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<KL(i,r,o)?n:i,l=KL(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let f=l-r,p=d-r;if(f!=p){for(let y=0;y<f;y++){let b=y<o.length?o[y]:o[y]=0,w=b+y;p<=w&&w<f&&(o[y]=b+1)}let v=a.previousIndex;o[v]=p-f}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!oj(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,AY(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new PT(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new y0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new y0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},PT=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},OT=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},y0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new OT,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KL(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function QL(){return new wD([new xT])}var wD=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||QL()),deps:[[e,new FV,new $i]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new Z(901,!1)}};e.\u0275prov=ie({token:e,providedIn:"root",factory:QL});let t=e;return t})();function xj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=MJ(i),o=[SJ(),...n||[]],l=new m0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(ft);return d.run(()=>{l.resolveInjectorInitializers();let f=l.get(Wo,null),p;d.runOutsideAngular(()=>{p=d.onError.subscribe({next:b=>{f.handleError(b)}})});let v=()=>l.destroy(),y=r.get(Aj);return y.add(v),l.onDestroy(()=>{p.unsubscribe(),y.delete(v)}),bJ(f,d,()=>{let b=l.get(Dj);return b.runInitializers(),b.donePromise.then(()=>{let w=l.get(_D,v0);dJ(w||v0);let C=l.get(Yo);return e!==void 0&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}function zi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var NJ=new we("",{providedIn:"root",factory:()=>J(FJ)}),FJ=(()=>{let e=class e{};e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new kT});let t=e;return t})(),kT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=J(ml),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},RT=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=N2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Wo,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function wl(t,e){pl("NgSignals"),!e?.injector&&k7(wl);let n=e?.injector??J(on),i=e?.manualCleanup!==!0?n.get(J3):null,r=new RT(n.get(NJ),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(Gs,null,{optional:!0});return!o||!(o._lView[ke]&8)?r.watcher.notify():(o._lView[W_]??=[]).push(r.watcher.notify),r}function G0(t,e){let n=za(t),i=e.elementInjector||M0();return new qd(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var Nj=null;function Ws(){return Nj}function Fj(t){Nj??=t}var W0=class{};var mi=new we(""),Lj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(LJ),providedIn:"platform"});let t=e;return t})();var LJ=(()=>{let e=class e extends Lj{constructor(){super(),this._doc=J(mi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ws().getBaseHref(this._doc)}onPopState(i){let r=Ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Vj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Mj(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function bl(t){return t&&t[0]!=="?"?"?"+t:t}var Xd=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(jj),providedIn:"root"});let t=e;return t})(),VJ=new we(""),jj=(()=>{let e=class e extends Xd{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??J(mi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Vj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+bl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+bl(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+bl(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(oe(Lj),oe(VJ,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zp=(()=>{let e=class e{constructor(i){this._subject=new Jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=BJ(Mj(Pj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+bl(r))}normalize(i){return e.stripTrailingSlash(UJ(this._basePath,Pj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+bl(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+bl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=bl,e.joinWithSlash=Vj,e.stripTrailingSlash=Mj,e.\u0275fac=function(r){return new(r||e)(oe(Xd))},e.\u0275prov=ie({token:e,factory:()=>jJ(),providedIn:"root"});let t=e;return t})();function jJ(){return new Zp(oe(Xd))}function UJ(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Pj(t){return t.replace(/\/index.html$/,"")}function BJ(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function K0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var bD=/\s+/,Oj=[],ri=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Oj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(bD):Oj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(bD):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(bD).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(F(jt),F(ao))},e.\u0275dir=Ct({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ae.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ED=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yt=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new ED(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),kj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);kj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(F(pi),F(io),F(wD))},e.\u0275dir=Ct({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function kj(t,e){t.context.$implicit=e.item}var _t=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new CD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Rj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Rj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(F(pi),F(io))},e.\u0275dir=Ct({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),CD=class{constructor(){this.$implicit=null,this.ngIf=null}};function Rj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ji(e)}'.`)}var ge=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=Bi({});let t=e;return t})(),Uj="browser",$J="server";function em(t){return t===$J}var Jd=class{};var nm=class{},im=class{},Ks=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var TD=class{encodeKey(e){return Bj(e)}encodeValue(e){return Bj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qJ(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var GJ=/%(\d[a-f0-9])/gi,WJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bj(t){return encodeURIComponent(t).replace(GJ,(e,n)=>WJ[n]??e)}function Q0(t){return`${t}`}var Za=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new TD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Q0):[Q0(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Q0(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Q0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var DD=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KJ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $j(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hj(t){return typeof Blob<"u"&&t instanceof Blob}function zj(t){return typeof FormData<"u"&&t instanceof FormData}function QJ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var tm=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KJ(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ks,this.context??=new DD,!this.params)this.params=new Za,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:$j(this.body)||Hj(this.body)||zj(this.body)||QJ(this.body)||typeof this.body=="string"?this.body:this.body instanceof Za?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zj(this.body)?null:Hj(this.body)?this.body.type||null:$j(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Za?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,y)=>v.set(y,e.setHeaders[y]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((v,y)=>v.set(y,e.setParams[y]),f)),new t(n,i,o,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:a})}},ec=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ec||{}),rm=class{constructor(e,n=sm.Ok,i="OK"){this.headers=e.headers||new Ks,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Y0=class t extends rm{constructor(e={}){super(e),this.type=ec.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},om=class t extends rm{constructor(e={}){super(e),this.type=ec.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xa=class extends rm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},sm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(sm||{});function ID(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var El=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof tm)a=i;else{let f;o.headers instanceof Ks?f=o.headers:f=new Ks(o.headers);let p;o.params&&(o.params instanceof Za?p=o.params:p=new Za({fromObject:o.params})),a=new tm(i,r,o.body!==void 0?o.body:null,{headers:f,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Re(a).pipe(Ua(f=>this.handler.handle(f)));if(i instanceof tm||o.observe==="events")return l;let d=l.pipe(ti(f=>f instanceof om));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Ne(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(Ne(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(Ne(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(Ne(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Za().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,ID(o,r))}post(i,r,o={}){return this.request("POST",i,ID(o,r))}put(i,r,o={}){return this.request("PUT",i,ID(o,r))}};e.\u0275fac=function(r){return new(r||e)(oe(nm))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),YJ=/^\)\]\}',?\n/,JJ="X-Request-URL";function qj(t){if(t.url)return t.url;let e=JJ.toLocaleLowerCase();return t.headers.get(e)}var SD=(()=>{let e=class e{constructor(){this.fetchImpl=J(AD,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=J(ft)}handle(i){return new Le(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(xD,a=>r.error(new Xa({error:a}))),()=>o.abort()})}doRequest(i,r,o){return E(this,null,function*(){let a=this.createRequestInit(i),l;try{let w=this.fetchImpl(i.urlWithParams,te({signal:r},a));XJ(w),o.next({type:ec.Sent}),l=yield w}catch(w){o.error(new Xa({error:w,status:w.status??0,statusText:w.statusText,url:i.urlWithParams,headers:w.headers}));return}let d=new Ks(l.headers),f=l.statusText,p=qj(l)??i.urlWithParams,v=l.status,y=null;if(i.reportProgress&&o.next(new Y0({headers:d,status:v,statusText:f,url:p})),l.body){let w=l.headers.get("content-length"),C=[],I=l.body.getReader(),x=0,R,H,D=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:L,value:re}=yield I.read();if(L)break;if(C.push(re),x+=re.length,i.reportProgress){H=i.responseType==="text"?(H??"")+(R??=new TextDecoder).decode(re,{stream:!0}):void 0;let Ce=()=>o.next({type:ec.DownloadProgress,total:w?+w:void 0,loaded:x,partialText:H});D?D.run(Ce):Ce()}}}));let ee=this.concatChunks(C,x);try{let L=l.headers.get("Content-Type")??"";y=this.parseBody(i,ee,L)}catch(L){o.error(new Xa({error:L,headers:new Ks(l.headers),status:l.status,statusText:l.statusText,url:qj(l)??i.urlWithParams}));return}}v===0&&(v=y?sm.Ok:0),v>=200&&v<300?(o.next(new om({body:y,headers:d,status:v,statusText:f,url:p})),o.complete()):o.error(new Xa({error:y,headers:d,status:v,statusText:f,url:p}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(YJ,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),AD=class{};function xD(){}function XJ(t){t.then(xD,xD)}function ZJ(t,e){return e(t)}function eX(t,e,n){return(i,r)=>zs(n,()=>e(i,o=>t(o,r)))}var MD=new we(""),tX=new we(""),Kj=new we("");var Gj=(()=>{let e=class e extends nm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=J(ml);let o=J(Kj,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(MD),...this.injector.get(tX,[])]));this.chain=o.reduceRight((a,l)=>eX(a,l,this.injector),ZJ)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(tl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(oe(im),oe(ni))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();var nX=/^\)\]\}',?\n/;function iX(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Wj=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ft(r.\u0275loadImpl()):Re(null)).pipe(Ci(()=>new Le(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((I,x)=>l.setRequestHeader(I,x.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let I=i.detectContentTypeHeader();I!==null&&l.setRequestHeader("Content-Type",I)}if(i.responseType){let I=i.responseType.toLowerCase();l.responseType=I!=="json"?I:"text"}let d=i.serializeBody(),f=null,p=()=>{if(f!==null)return f;let I=l.statusText||"OK",x=new Ks(l.getAllResponseHeaders()),R=iX(l)||i.url;return f=new Y0({headers:x,status:l.status,statusText:I,url:R}),f},v=()=>{let{headers:I,status:x,statusText:R,url:H}=p(),D=null;x!==sm.NoContent&&(D=typeof l.response>"u"?l.responseText:l.response),x===0&&(x=D?sm.Ok:0);let ee=x>=200&&x<300;if(i.responseType==="json"&&typeof D=="string"){let L=D;D=D.replace(nX,"");try{D=D!==""?JSON.parse(D):null}catch(re){D=L,ee&&(ee=!1,D={error:re,text:D})}}ee?(a.next(new om({body:D,headers:I,status:x,statusText:R,url:H||void 0})),a.complete()):a.error(new Xa({error:D,headers:I,status:x,statusText:R,url:H||void 0}))},y=I=>{let{url:x}=p(),R=new Xa({error:I,status:l.status||0,statusText:l.statusText||"Unknown Error",url:x||void 0});a.error(R)},b=!1,w=I=>{b||(a.next(p()),b=!0);let x={type:ec.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(x.total=I.total),i.responseType==="text"&&l.responseText&&(x.partialText=l.responseText),a.next(x)},C=I=>{let x={type:ec.UploadProgress,loaded:I.loaded};I.lengthComputable&&(x.total=I.total),a.next(x)};return l.addEventListener("load",v),l.addEventListener("error",y),l.addEventListener("timeout",y),l.addEventListener("abort",y),i.reportProgress&&(l.addEventListener("progress",w),d!==null&&l.upload&&l.upload.addEventListener("progress",C)),l.send(d),a.next({type:ec.Sent}),()=>{l.removeEventListener("error",y),l.removeEventListener("abort",y),l.removeEventListener("load",v),l.removeEventListener("timeout",y),i.reportProgress&&(l.removeEventListener("progress",w),d!==null&&l.upload&&l.upload.removeEventListener("progress",C)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(oe(Jd))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),Qj=new we(""),rX="XSRF-TOKEN",oX=new we("",{providedIn:"root",factory:()=>rX}),sX="X-XSRF-TOKEN",aX=new we("",{providedIn:"root",factory:()=>sX}),J0=class{},cX=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=K0(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(oe(mi),oe(Sr),oe(oX))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function lX(t,e){let n=t.url.toLowerCase();if(!J(Qj)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=J(J0).getToken(),r=J(aX);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var PD=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(PD||{});function Yj(t,e){return{\u0275kind:t,\u0275providers:e}}function Jj(...t){let e=[El,Wj,Gj,{provide:nm,useExisting:Gj},{provide:im,useExisting:Wj},{provide:MD,useValue:lX,multi:!0},{provide:Qj,useValue:!0},{provide:J0,useClass:cX}];for(let n of t)e.push(...n.\u0275providers);return Qa(e)}function Xj(t){return Yj(PD.Interceptors,t.map(e=>({provide:MD,useValue:e,multi:!0})))}function Zj(){return Yj(PD.Fetch,[SD,{provide:im,useExisting:SD},{provide:Kj,useExisting:SD}])}var t1={};y8(t1,{FirebaseError:()=>On,SDK_VERSION:()=>ho,_DEFAULT_ENTRY_NAME:()=>Zo,_addComponent:()=>hm,_addOrOverwriteComponent:()=>e1,_apps:()=>ic,_clearComponents:()=>cZ,_components:()=>um,_getProvider:()=>Dl,_registerComponent:()=>uo,_removeServiceInstance:()=>IU,deleteApp:()=>sw,getApp:()=>Al,getApps:()=>fm,initializeApp:()=>eh,onLog:()=>aw,registerVersion:()=>Kt,setLogLevel:()=>cw});var tU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},uX=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},nU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,f=d?t[r+2]:0,p=o>>2,v=(o&3)<<4|l>>4,y=(l&15)<<2|f>>6,b=f&63;d||(b=64,a||(y=64)),i.push(n[p],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let f=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||f==null||v==null)throw new RD;let y=o<<2|l>>4;if(i.push(y),f!==64){let b=l<<4&240|f>>2;if(i.push(b),v!==64){let w=f<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},RD=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dX=function(t){let e=tU(t);return nU.encodeByteArray(e,!0)},am=function(t){return dX(t).replace(/\./g,"")},FD=function(t){try{return nU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!hX(n)||(t[n]=cm(t[n],e[n]));return t}function hX(t){return t!=="__proto__"}function fX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pX=()=>fX().__FIREBASE_DEFAULTS__,mX=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&FD(t[1]);return e&&JSON.parse(e)},Z0=()=>{try{return pX()||mX()||gX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LD=t=>{var e,n;return(n=(e=Z0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iU=t=>{let e=LD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},VD=()=>{var t;return(t=Z0())===null||t===void 0?void 0:t.config},jD=t=>{var e;return(e=Z0())===null||e===void 0?void 0:e[`_${t}`]};var X0=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function rU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[am(JSON.stringify(n)),am(JSON.stringify(a)),""].join(".")}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function ew(){var t;let e=(t=Z0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sU(){return typeof self=="object"&&self.self===self}function tw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nw(){let t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aU(){return!ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tc(){try{return typeof indexedDB=="object"}catch{return!1}}function cU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var vX="FirebaseError",On=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=vX,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}},xr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?yX(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new On(r,l,i)}};function yX(t,e){return t.replace(_X,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var _X=/\{\$([^}]+)}/g;function UD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cl(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(eU(o)&&eU(a)){if(!Cl(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function eU(t){return t!==null&&typeof t=="object"}function Il(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Zd(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iw(t,e){let n=new ND(t,e);return n.subscribe.bind(n)}var ND=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");wX(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=kD),r.error===void 0&&(r.error=kD),r.complete===void 0&&(r.complete=kD);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wX(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kD(){}var X0e=4*60*60*1e3;function We(t){return t&&t._delegate?t._delegate:t}var Ti=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Sl="[DEFAULT]";var BD=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new X0;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EX(e))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Sl){return this.instances.has(e)}getOptions(e=Sl){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bX(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Sl){return this.component?this.component.multipleInstances?e:Sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bX(t){return t===Sl?void 0:t}function EX(t){return t.instantiationMode==="EAGER"}var rw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new BD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $D=[],ot=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ot||{}),uU={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},CX=ot.INFO,IX={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},SX=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=IX[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jo=class{constructor(e){this.name=e,this._logLevel=CX,this._logHandler=SX,this._userLogHandler=null,$D.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}};function dU(t){$D.forEach(e=>{e.setLogLevel(t)})}function hU(t,e){for(let n of $D){let i=null;e&&e.level&&(i=uU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:ot[o].toLowerCase(),message:l,args:a,type:r.name})}}}var TX=(t,e)=>e.some(n=>t instanceof n),fU,pU;function DX(){return fU||(fU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AX(){return pU||(pU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mU=new WeakMap,zD=new WeakMap,gU=new WeakMap,HD=new WeakMap,GD=new WeakMap;function xX(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Xo(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mU.set(n,t)}).catch(()=>{}),GD.set(e,t),e}function MX(t){if(zD.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});zD.set(t,e)}var qD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vU(t){qD=t(qD)}function PX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(ow(this),e,...n);return gU.set(i,e.sort?e.sort():[e]),Xo(i)}:AX().includes(t)?function(...e){return t.apply(ow(this),e),Xo(mU.get(this))}:function(...e){return Xo(t.apply(ow(this),e))}}function OX(t){return typeof t=="function"?PX(t):(t instanceof IDBTransaction&&MX(t),TX(t,DX())?new Proxy(t,qD):t)}function Xo(t){if(t instanceof IDBRequest)return xX(t);if(HD.has(t))return HD.get(t);let e=OX(t);return e!==t&&(HD.set(t,e),GD.set(e,t)),e}var ow=t=>GD.get(t);function _U(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=Xo(a);return i&&a.addEventListener("upgradeneeded",d=>{i(Xo(a.result),d.oldVersion,d.newVersion,Xo(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var kX=["get","getKey","getAll","getAllKeys","count"],RX=["put","add","delete","clear"],WD=new Map;function yU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(WD.get(e))return WD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=RX.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||kX.includes(n)))return;let o=function(a,...l){return E(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),f=d.store;return i&&(f=f.index(l.shift())),(yield Promise.all([f[n](...l),r&&d.done]))[0]})};return WD.set(e,o),o}vU(t=>vt(te({},t),{get:(e,n,i)=>yU(e,n)||t.get(e,n,i),has:(e,n)=>!!yU(e,n)||t.has(e,n)}));var QD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NX(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function NX(t){let e=t.getComponent();return e?.type==="VERSION"}var YD="@firebase/app",wU="0.9.28";var Tl=new Jo("@firebase/app"),FX="@firebase/app-compat",LX="@firebase/analytics-compat",VX="@firebase/analytics",jX="@firebase/app-check-compat",UX="@firebase/app-check",BX="@firebase/auth",$X="@firebase/auth-compat",HX="@firebase/database",zX="@firebase/database-compat",qX="@firebase/functions",GX="@firebase/functions-compat",WX="@firebase/installations",KX="@firebase/installations-compat",QX="@firebase/messaging",YX="@firebase/messaging-compat",JX="@firebase/performance",XX="@firebase/performance-compat",ZX="@firebase/remote-config",eZ="@firebase/remote-config-compat",tZ="@firebase/storage",nZ="@firebase/storage-compat",iZ="@firebase/firestore",rZ="@firebase/firestore-compat",oZ="firebase",sZ="10.8.1";var Zo="[DEFAULT]",aZ={[YD]:"fire-core",[FX]:"fire-core-compat",[VX]:"fire-analytics",[LX]:"fire-analytics-compat",[UX]:"fire-app-check",[jX]:"fire-app-check-compat",[BX]:"fire-auth",[$X]:"fire-auth-compat",[HX]:"fire-rtdb",[zX]:"fire-rtdb-compat",[qX]:"fire-fn",[GX]:"fire-fn-compat",[WX]:"fire-iid",[KX]:"fire-iid-compat",[QX]:"fire-fcm",[YX]:"fire-fcm-compat",[JX]:"fire-perf",[XX]:"fire-perf-compat",[ZX]:"fire-rc",[eZ]:"fire-rc-compat",[tZ]:"fire-gcs",[nZ]:"fire-gcs-compat",[iZ]:"fire-fst",[rZ]:"fire-fst-compat","fire-js":"fire-js",[oZ]:"fire-js-all"};var ic=new Map,um=new Map;function hm(t,e){try{t.container.addComponent(e)}catch(n){Tl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function e1(t,e){t.container.addOrOverwriteComponent(e)}function uo(t){let e=t.name;if(um.has(e))return Tl.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(let n of ic.values())hm(n,t);return!0}function Dl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function IU(t,e,n=Zo){Dl(t,e).clearInstance(n)}function cZ(){um.clear()}var lZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qs=new xr("app","Firebase",lZ);var JD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}};var ho=sZ;function eh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Zo,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Qs.create("bad-app-name",{appName:String(r)});if(n||(n=VD()),!n)throw Qs.create("no-options");let o=ic.get(r);if(o){if(Cl(n,o.options)&&Cl(i,o.config))return o;throw Qs.create("duplicate-app",{appName:r})}let a=new rw(r);for(let d of um.values())a.addComponent(d);let l=new JD(n,i,a);return ic.set(r,l),l}function Al(t=Zo){let e=ic.get(t);if(!e&&t===Zo&&VD())return eh();if(!e)throw Qs.create("no-app",{appName:t});return e}function fm(){return Array.from(ic.values())}function sw(t){return E(this,null,function*(){let e=t.name;ic.has(e)&&(ic.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function Kt(t,e,n){var i;let r=(i=aZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tl.warn(l.join(" "));return}uo(new Ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function aw(t,e){if(t!==null&&typeof t!="function")throw Qs.create("invalid-log-argument");hU(t,e)}function cw(t){dU(t)}var uZ="firebase-heartbeat-database",dZ=1,dm="firebase-heartbeat-store",KD=null;function SU(){return KD||(KD=_U(uZ,dZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),KD}function hZ(t){return E(this,null,function*(){try{let n=(yield SU()).transaction(dm),i=yield n.objectStore(dm).get(TU(t));return yield n.done,i}catch(e){if(e instanceof On)Tl.warn(e.message);else{let n=Qs.create("idb-get",{originalErrorMessage:e?.message});Tl.warn(n.message)}}})}function bU(t,e){return E(this,null,function*(){try{let i=(yield SU()).transaction(dm,"readwrite");yield i.objectStore(dm).put(e,TU(t)),yield i.done}catch(n){if(n instanceof On)Tl.warn(n.message);else{let i=Qs.create("idb-set",{originalErrorMessage:n?.message});Tl.warn(i.message)}}})}function TU(t){return`${t.name}!${t.options.appId}`}var fZ=1024,pZ=30*24*60*60*1e3,XD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ZD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=pZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=EU(),{heartbeatsToSend:i,unsentEntries:r}=mZ(this._heartbeatsCache.heartbeats),o=am(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function EU(){return new Date().toISOString().substring(0,10)}function mZ(t,e=fZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),CU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),CU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var ZD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return tc()?cU().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield hZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function CU(t){return am(JSON.stringify({version:2,heartbeats:t})).length}function gZ(t){uo(new Ti("platform-logger",e=>new QD(e),"PRIVATE")),uo(new Ti("heartbeat",e=>new XD(e),"PRIVATE")),Kt(YD,wU,t),Kt(YD,wU,"esm2017"),Kt("fire-js","")}gZ("");var vZ="firebase",yZ="10.8.1";Kt(vZ,yZ,"app");var Ml=new $s("ANGULARFIRE2_VERSION");function uw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pm=(t,e)=>{let n=e?[e]:fm(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},nh=class{constructor(){return pm(_Z)}},_Z="app-check";function th(){}var lw=class{zone;delegate;constructor(e,n=lS){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},n1=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",th,{},th,th)),n.pipe(En({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ih=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lw(Zone.current)),this.insideAngular=n.run(()=>new lw(Zone.current,Sd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(oe(ft))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function wZ(t){return dw().ngZone.runOutsideAngular(()=>t())}function xl(t){return dw().ngZone.run(()=>t())}function bZ(t){return EZ(dw())(t)}function EZ(t){return function(n){return n=n.lift(new n1(t.ngZone)),n.pipe(Va(t.outsideAngular),La(t.insideAngular))}}var CZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xl(()=>t.apply(void 0,i))},fo=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=xl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",th,{},th,th))),i[o]=CZ(i[o],n));let r=wZ(()=>t.apply(this,i));if(!e)if(r instanceof Le){let o=dw();return r.pipe(Va(o.outsideAngular),La(o.insideAngular))}else return xl(()=>r);return r instanceof Le?r.pipe(bZ):r instanceof Promise?xl(()=>new Promise((o,a)=>r.then(l=>xl(()=>o(l)),l=>xl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:xl(()=>r)};var Ys=class{constructor(e){return e}},Pl=class{constructor(){return fm()}};function IZ(t){return t&&t.length===1?t[0]:new Ys(Al())}var i1=new we("angularfire2._apps"),SZ={provide:Ys,useFactory:IZ,deps:[[new $i,i1]]},TZ={provide:Pl,deps:[[new $i,i1]]};function DZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ys(i)}}var AZ=(()=>{class t{constructor(n){Kt("angularfire",Ml.full,"core"),Kt("angularfire",Ml.full,"app"),Kt("angular",Cj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(oe(Sr))};static \u0275mod=Ui({type:t});static \u0275inj=Bi({providers:[SZ,TZ]})}return t})();function DU(t,...e){return{ngModule:AZ,providers:[{provide:i1,useFactory:DZ(t),multi:!0,deps:[ft,on,ih,...e]}]}}var AU=fo(eh,!0);var ac={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ea={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function xZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function zU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Aw=xZ,R1=zU,qU=new xr("auth","Firebase",zU());var mw=new Jo("@firebase/auth");function MZ(t,...e){mw.logLevel<=ot.WARN&&mw.warn(`Auth (${ho}): ${t}`,...e)}function fw(t,...e){mw.logLevel<=ot.ERROR&&mw.error(`Auth (${ho}): ${t}`,...e)}function Cn(t,...e){throw N1(t,...e)}function oi(t,...e){return N1(t,...e)}function GU(t,e,n){let i=Object.assign(Object.assign({},R1()),{[e]:n});return new xr("auth","Firebase",i).create(e,{appName:t.name})}function lh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Cn(t,"argument-error"),GU(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N1(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return qU.create(t,...e)}function Y(t,e,...n){if(!t)throw N1(e,...n)}function es(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fw(e),new Error(e)}function Mr(t,e){t||es(e)}function ym(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F1(){return xU()==="http:"||xU()==="https:"}function xU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F1()||tw()||"connection"in navigator)?navigator.onLine:!0}function OZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ol=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=oU()||lm()}get(){return PZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function L1(t,e){Mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _m=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RZ=new Ol(3e4,6e4);function sn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function an(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){return WU(t,r,()=>E(this,null,function*(){let f={},p={};i&&(e==="GET"?p=i:f={body:JSON.stringify(i)});let v=Il(Object.assign({key:t.config.apiKey},p)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),_m.fetch()(KU(t,t.config.apiHost,n,v),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},f))}))})}function WU(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},kZ),e);try{let r=new c1(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw mm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,f]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw mm(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw mm(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw mm(t,"user-disabled",a);let p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw GU(t,p,f);Cn(t,p)}}catch(r){if(r instanceof On)throw r;Cn(t,"network-request-failed",{message:String(r)})}})}function ta(o,a,l,d){return E(this,arguments,function*(t,e,n,i,r={}){let f=yield an(t,e,n,i,r);return"mfaPendingCredential"in f&&Cn(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function KU(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?L1(t.config,r):`${t.config.apiScheme}://${r}`}function NZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var c1=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(oi(this.auth,"network-request-failed")),RZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function mm(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=oi(t,e,i);return r.customData._tokenResponse=n,r}function MU(t){return t!==void 0&&t.getResponse!==void 0}function PU(t){return t!==void 0&&t.enterprise!==void 0}var l1=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function FZ(t){return E(this,null,function*(){return(yield an(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function LZ(t,e){return E(this,null,function*(){return an(t,"GET","/v2/recaptchaConfig",sn(t,e))})}function VZ(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:delete",e)})}function jZ(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:update",e)})}function UZ(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:lookup",e)})}function gm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xw(t,e=!1){return E(this,null,function*(){let n=We(t),i=yield n.getIdToken(e),r=Mw(i);Y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:gm(r1(r.auth_time)),issuedAtTime:gm(r1(r.iat)),expirationTime:gm(r1(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function r1(t){return Number(t)*1e3}function Mw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return fw("JWT malformed, contained fewer than 3 sections"),null;try{let r=FD(n);return r?JSON.parse(r):(fw("Failed to decode base64 JWT payload"),null)}catch(r){return fw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function BZ(t){let e=Mw(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xs(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof On&&$Z(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function $Z({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var u1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gm(this.lastLoginAt),this.creationTime=gm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wm(t){return E(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Xs(t,UZ(n,{idToken:i}));Y(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zZ(o.providerUserInfo):[],l=HZ(t.providerData,a),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!l?.length,p=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new gw(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)})}function Pw(t){return E(this,null,function*(){let e=We(t);yield wm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HZ(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function zZ(t){return t.map(e=>{var{providerId:n}=e,i=S_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function qZ(t,e){return E(this,null,function*(){let n=yield WU(t,{},()=>E(this,null,function*(){let i=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=KU(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",_m.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function GZ(t,e){return E(this,null,function*(){return an(t,"POST","/v2/accounts:revokeToken",sn(t,e))})}var vw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return Y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield qZ(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(Y(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Y(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(Y(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return es("not implemented")}};function rc(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var rh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=S_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Xs(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xw(this,e)}reload(){return Pw(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield Xs(this,VZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,f,p;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,x=(f=n.createdAt)!==null&&f!==void 0?f:void 0,R=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:H,emailVerified:D,isAnonymous:ee,providerData:L,stsTokenManager:re}=n;Y(H&&re,e,"internal-error");let Ce=vw.fromJSON(this.name,re);Y(typeof H=="string",e,"internal-error"),rc(v,e.name),rc(y,e.name),Y(typeof D=="boolean",e,"internal-error"),Y(typeof ee=="boolean",e,"internal-error"),rc(b,e.name),rc(w,e.name),rc(C,e.name),rc(I,e.name),rc(x,e.name),rc(R,e.name);let Ue=new t({uid:H,auth:e,email:y,emailVerified:D,displayName:v,isAnonymous:ee,photoURL:w,phoneNumber:b,tenantId:C,stsTokenManager:Ce,createdAt:x,lastLoginAt:R});return L&&Array.isArray(L)&&(Ue.providerData=L.map(Qe=>Object.assign({},Qe))),I&&(Ue._redirectEventId=I),Ue}static _fromIdTokenResponse(e,n,i=!1){return E(this,null,function*(){let r=new vw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield wm(o),o})}};var OU=new Map;function Di(t){Mr(t instanceof Function,"Expected a class definition");let e=OU.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OU.set(t,e),e)}var WZ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,i){return E(this,null,function*(){this.storage[n]=i})}_get(n){return E(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Zs=WZ;function ts(t,e,n){return`firebase:${t}:${e}:${n}`}var yw=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=ts(this.userKey,r.apiKey,o),this.fullPersistenceKey=ts("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?rh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return E(this,null,function*(){if(!n.length)return new t(Di(Zs),e,i);let r=(yield Promise.all(n.map(f=>E(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=r[0]||Di(Zs),a=ts(i,e.config.apiKey,e.name),l=null;for(let f of n)try{let p=yield f._get(a);if(p){let v=rh._fromJSON(e,p);f!==o&&(l=v),o=f;break}}catch{}let d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(f=>E(this,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new t(o,e,i))})}};function kU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XU(e))return"Blackberry";if(ZU(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||YU(e))&&!e.includes("edge/"))return"Chrome";if(uh(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function QU(t=Rt()){return/firefox\//i.test(t)}function V1(t=Rt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YU(t=Rt()){return/crios\//i.test(t)}function JU(t=Rt()){return/iemobile/i.test(t)}function uh(t=Rt()){return/android/i.test(t)}function XU(t=Rt()){return/blackberry/i.test(t)}function ZU(t=Rt()){return/webos/i.test(t)}function Vl(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e6(t=Rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function KZ(t=Rt()){var e;return Vl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QZ(){return nw()&&document.documentMode===10}function t6(t=Rt()){return Vl(t)||uh(t)||ZU(t)||XU(t)||/windows phone/i.test(t)||JU(t)}function YZ(){try{return!!(window&&window!==window.top)}catch{return!1}}function j1(t,e=[]){let n;switch(t){case"Browser":n=kU(Rt());break;case"Worker":n=`${kU(Rt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${i}`}var d1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function JZ(n){return E(this,arguments,function*(t,e={}){return an(t,"GET","/v2/passwordPolicy",sn(t,e))})}var XZ=6,h1=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:XZ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var _w=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ww(this),this.idTokenSubscription=new ww(this),this.beforeStateQueue=new d1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield yw.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield wm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=OZ()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?We(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield JZ(this),n=new h1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield GZ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Di(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield yw.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&MZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Bt(t){return We(t)}var ww=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iw(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tm={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZZ(t){Tm=t}function U1(t){return Tm.loadJS(t)}function eee(){return Tm.recaptchaV2Script}function tee(){return Tm.recaptchaEnterpriseScript}function nee(){return Tm.gapiScript}function n6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var iee="recaptcha-enterprise",ree="NO_RECAPTCHA",f1=class{constructor(e){this.type=iee,this.auth=Bt(e)}verify(e="verify",n=!1){return E(this,null,function*(){function i(o){return E(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>E(this,null,function*(){LZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let f=new l1(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;PU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(ree)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&PU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=tee();d.length!==0&&(d+=l),U1(d).then(()=>{r(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})})}};function RU(t,e,n,i=!1){return E(this,null,function*(){let r=new f1(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function bm(t,e,n,i){return E(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield RU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>E(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield RU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Ow(t,e){let n=Dl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Cl(o,e??{}))return r;Cn(r,"already-initialized")}return n.initialize({options:e})}function oee(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function dh(t,e,n){let i=Bt(t);Y(i._canInitEmulator,i,"emulator-config-failed"),Y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=i6(e),{host:a,port:l}=see(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||aee()}function i6(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function see(t){let e=i6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:NU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:NU(a)}}}function NU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function aee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var po=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}};function r6(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:resetPassword",sn(t,e))})}function cee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:update",e)})}function lee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:signUp",e)})}function uee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:update",sn(t,e))})}function dee(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithPassword",sn(t,e))})}function kw(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:sendOobCode",sn(t,e))})}function hee(t,e){return E(this,null,function*(){return kw(t,e)})}function fee(t,e){return E(this,null,function*(){return kw(t,e)})}function pee(t,e){return E(this,null,function*(){return kw(t,e)})}function mee(t,e){return E(this,null,function*(){return kw(t,e)})}function gee(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,e))})}function vee(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,e))})}var oh=class t extends po{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",dee);case"emailLink":return gee(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_linkToIdToken(e,n){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,i,"signUpPassword",lee);case"emailLink":return vee(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Js(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithIdp",sn(t,e))})}var yee="http://localhost",Pr=class t extends po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=S_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,Js(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){let e={requestUri:yee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}};function _ee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:sendVerificationCode",sn(t,e))})}function wee(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,e))})}function bee(t,e){return E(this,null,function*(){let n=yield ta(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,e));if(n.temporaryProof)throw mm(t,"account-exists-with-different-credential",n);return n})}var Eee={USER_NOT_FOUND:"user-not-found"};function Cee(t,e){return E(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ta(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,n),Eee)})}var kl=class t extends po{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return wee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return bee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Cee(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Iee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function See(t){let e=nc(Zd(t)).link,n=e?nc(Zd(e)).deep_link_id:null,i=nc(Zd(t)).deep_link_id;return(i?nc(Zd(i)).link:null)||i||n||e||t}var sh=class t{constructor(e){var n,i,r,o,a,l;let d=nc(Zd(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Iee((r=d.mode)!==null&&r!==void 0?r:null);Y(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=See(e);try{return new t(n)}catch{return null}}};var hh=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return oh._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=sh.parseLink(i);return Y(r,"argument-error"),oh._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),mo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sc=class extends mo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Rl=class t extends sc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return Y("providerId"in n&&"signInMethod"in n,"argument-error"),Pr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Y(e.idToken||e.accessToken,"argument-error"),Pr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Dm=(()=>{class t extends sc{constructor(){super("facebook.com")}static credential(n){return Pr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),jl=(()=>{class t extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Pr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Am=(()=>{class t extends sc{constructor(){super("github.com")}static credential(n){return Pr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),Tee="http://localhost",Nl=class t extends po{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return Js(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,Js(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:Tee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Dee="saml.",ah=class t extends mo{constructor(e){Y(e.startsWith(Dee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=Nl.fromJSON(e);return Y(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Nl._create(i,n)}catch{return null}}};var xm=(()=>{class t extends sc{constructor(){super("twitter.com")}static credential(n,i){return Pr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function o6(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signUp",sn(t,e))})}var go=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return E(this,null,function*(){let o=yield rh._fromIdTokenResponse(e,i,r),a=FU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=FU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function FU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Mm(t){return E(this,null,function*(){var e;let n=Bt(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new go({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield o6(n,{returnSecureToken:!0}),r=yield go._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var p1=class t extends On{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function s6(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?p1._fromErrorAndOperation(t,o,e,i):o})}function a6(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function Pm(t,e){return E(this,null,function*(){let n=We(t);yield Rw(!0,n,e);let{providerUserInfo:i}=yield jZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=a6(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function B1(t,e,n=!1){return E(this,null,function*(){let i=yield Xs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return go._forOperation(t,"link",i)})}function Rw(t,e,n){return E(this,null,function*(){yield wm(e);let i=a6(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";Y(i.has(n)===t,e.auth,r)})}function c6(t,e,n=!1){return E(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield Xs(t,s6(i,r,e,t),n);Y(o.idToken,i,"internal-error");let a=Mw(o.idToken);Y(a,i,"internal-error");let{sub:l}=a;return Y(t.uid===l,i,"user-mismatch"),go._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cn(i,"user-mismatch"),o}})}function l6(t,e,n=!1){return E(this,null,function*(){let i="signIn",r=yield s6(t,i,e),o=yield go._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function cc(t,e){return E(this,null,function*(){return l6(Bt(t),e)})}function fh(t,e){return E(this,null,function*(){let n=We(t);return yield Rw(!1,n,e.providerId),B1(n,e)})}function ph(t,e){return E(this,null,function*(){return c6(We(t),e)})}function Aee(t,e){return E(this,null,function*(){return ta(t,"POST","/v1/accounts:signInWithCustomToken",sn(t,e))})}function Om(t,e){return E(this,null,function*(){let n=Bt(t),i=yield Aee(n,{token:e,returnSecureToken:!0}),r=yield go._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var Fl=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?m1._fromServerResponse(e,n):"totpInfo"in n?g1._fromServerResponse(e,n):Cn(e,"internal-error")}},m1=class t extends Fl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},g1=class t extends Fl{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Nw(t,e,n){var i;Y(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function $1(t){return E(this,null,function*(){let e=Bt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function km(t,e,n){return E(this,null,function*(){let i=Bt(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Nw(i,r,n),yield bm(i,r,"getOobCode",fee)})}function Rm(t,e,n){return E(this,null,function*(){yield r6(We(t),{oobCode:e,newPassword:n}).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&$1(t),i}))})}function Nm(t,e){return E(this,null,function*(){yield uee(We(t),{oobCode:e})})}function mh(t,e){return E(this,null,function*(){let n=We(t),i=yield r6(n,{oobCode:e}),r=i.requestType;switch(Y(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(i.mfaInfo,n,"internal-error");default:Y(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Fl._fromServerResponse(Bt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function Fm(t,e){return E(this,null,function*(){let{data:n}=yield mh(We(t),e);return n.email})}function Lm(t,e,n){return E(this,null,function*(){let i=Bt(t),a=yield bm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o6).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&$1(t),d}),l=yield go._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Vm(t,e,n){return cc(We(t),hh.credential(e,n)).catch(i=>E(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&$1(t),i}))}function jm(t,e,n){return E(this,null,function*(){let i=Bt(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Y(l.handleCodeInApp,i,"argument-error"),l&&Nw(i,a,l)}o(r,n),yield bm(i,r,"getOobCode",pee)})}function Um(t,e){let n=sh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Bm(t,e,n){return E(this,null,function*(){let i=We(t),r=hh.credentialWithLink(e,n||ym());return Y(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),cc(i,r)})}function xee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:createAuthUri",sn(t,e))})}function $m(t,e){return E(this,null,function*(){let n=F1()?ym():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield xee(We(t),i);return r||[]})}function Hm(t,e){return E(this,null,function*(){let n=We(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Nw(n.auth,r,e);let{email:o}=yield hee(n.auth,r);o!==t.email&&(yield t.reload())})}function zm(t,e,n){return E(this,null,function*(){let i=We(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Nw(i.auth,o,n);let{email:a}=yield mee(i.auth,o);a!==t.email&&(yield t.reload())})}function Mee(t,e){return E(this,null,function*(){return an(t,"POST","/v1/accounts:update",e)})}function qm(i,r){return E(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=We(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield Xs(o,Mee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let f=o.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=o.displayName,f.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function Gm(t,e){return u6(We(t),e,null)}function Wm(t,e){return u6(We(t),null,e)}function u6(t,e,n){return E(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield Xs(t,cee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function Pee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Mw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new oc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new v1(o,r);case"github.com":return new y1(o,r);case"google.com":return new _1(o,r);case"twitter.com":return new w1(o,r,t.screenName||null);case"custom":case"anonymous":return new oc(o,null);default:return new oc(o,i,r)}}var oc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},bw=class extends oc{constructor(e,n,i,r){super(e,n,i),this.username=r}},v1=class extends oc{constructor(e,n){super(e,"facebook.com",n)}},y1=class extends bw{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},_1=class extends oc{constructor(e,n){super(e,"google.com",n)}},w1=class extends bw{constructor(e,n,i){super(e,"twitter.com",n,i)}};function Km(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Pee(n)}function Fw(t,e,n,i){return We(t).onIdTokenChanged(e,n,i)}function Lw(t,e,n){return We(t).beforeAuthStateChanged(e,n)}var Ew=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var b1=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=Bt(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>Fl._fromServerResponse(i,l));Y(r.mfaPendingCredential,i,"internal-error");let a=Ew._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>E(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let f=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let p=yield go._fromIdTokenResponse(i,n.operationType,f);return yield i._updateCurrentUser(p.user),p;case"reauthenticate":return Y(n.user,i,"internal-error"),go._forOperation(n.user,n.operationType,f);default:Cn(i,"internal-error")}}))}resolveSignIn(e){return E(this,null,function*(){let n=e;return this.signInResolver(n)})}};function Qm(t,e){var n;let i=We(t),r=e;return Y(e.customData.operationType,i,"argument-error"),Y((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),b1._fromError(i,r)}function Oee(t,e){return an(t,"POST","/v2/accounts/mfaEnrollment:start",sn(t,e))}function kee(t,e){return an(t,"POST","/v2/accounts/mfaEnrollment:finalize",sn(t,e))}function Ree(t,e){return an(t,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(t,e))}var E1=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Fl._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return E(this,null,function*(){return Ew._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return E(this,null,function*(){let i=e,r=yield this.getSession(),o=yield Xs(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return E(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield Xs(this.user,Ree(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},o1=new WeakMap;function Ym(t){let e=We(t);return o1.has(e)||o1.set(e,E1._fromUser(e)),o1.get(e)}var Cw="__sak";var Iw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cw,"1"),this.storage.removeItem(Cw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Nee(){let t=Rt();return V1(t)||Vl(t)}var Fee=1e3,Lee=10,Vee=(()=>{class t extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Nee()&&YZ(),this.fallbackToPolling=t6(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);QZ()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Lee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Fee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return E(this,null,function*(){yield Ra(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return E(this,null,function*(){let i=yield Ra(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return E(this,null,function*(){yield Ra(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ns=Vee;var jee=(()=>{class t extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Or=jee;function Uee(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Bee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(p=>E(this,null,function*(){return p(i.origin,a)})),f=yield Uee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ul(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var C1=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let f=Ul("",20);r.port1.start();let p=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(y.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function kn(){return window}function $ee(t){kn().location.href=t}function H1(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}function Hee(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function zee(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qee(){return H1()?self:null}var d6="firebaseLocalStorageDb",Gee=1,Sw="firebaseLocalStorage",h6="fbase_key",Ll=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vw(t,e){return t.transaction([Sw],e?"readwrite":"readonly").objectStore(Sw)}function Wee(){let t=indexedDB.deleteDatabase(d6);return new Ll(t).toPromise()}function I1(){let t=indexedDB.open(d6,Gee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Sw,{keyPath:h6})}catch(r){n(r)}}),t.addEventListener("success",()=>E(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Sw)?e(i):(i.close(),yield Wee(),e(yield I1()))}))})}function LU(t,e,n){return E(this,null,function*(){let i=Vw(t,!0).put({[h6]:e,value:n});return new Ll(i).toPromise()})}function Kee(t,e){return E(this,null,function*(){let n=Vw(t,!1).get(e),i=yield new Ll(n).toPromise();return i===void 0?null:i.value})}function VU(t,e){let n=Vw(t,!0).delete(e);return new Ll(n).toPromise()}var Qee=800,Yee=3,Jee=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield I1(),this.db)})}_withRetries(n){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>Yee)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return H1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Bee._getInstance(qee()),this.receiver._subscribe("keyChanged",(n,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Hee(),!this.activeServiceWorker)return;this.sender=new C1(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||zee()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield I1();return yield LU(n,Cw,"1"),yield VU(n,Cw),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>LU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let i=yield this._withRetries(r=>Kee(r,n));return this.localCache[n]=i,i})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>VU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let a=Vw(o,!1).getAll();return new Ll(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),Qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),na=Jee;function Xee(t,e){return an(t,"POST","/v2/accounts/mfaSignIn:start",sn(t,e))}function Zee(t,e){return an(t,"POST","/v2/accounts/mfaSignIn:finalize",sn(t,e))}var ete=500,tte=6e4,hw=1e12,S1=class{constructor(e){this.auth=e,this.counter=hw,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new T1(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||hw;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||hw;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return E(this,null,function*(){var n;let i=e||hw;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},T1=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;Y(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=nte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},tte)},ete))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function nte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var s1=n6("rcb"),ite=new Ol(3e4,6e4),D1=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=kn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Y(rte(n),e,"argument-error"),this.shouldResolveImmediately(n)&&MU(kn().grecaptcha)?Promise.resolve(kn().grecaptcha):new Promise((i,r)=>{let o=kn().setTimeout(()=>{r(oi(e,"network-request-failed"))},ite.get());kn()[s1]=()=>{kn().clearTimeout(o),delete kn()[s1];let l=kn().grecaptcha;if(!l||!MU(l)){r(oi(e,"internal-error"));return}let d=l.render;l.render=(f,p)=>{let v=d(f,p);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${eee()}?${Il({onload:s1,render:"explicit",hl:n})}`;U1(a).catch(()=>{clearTimeout(o),r(oi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=kn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function rte(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var A1=class{load(e){return E(this,null,function*(){return new S1(e)})}clearedOneInstance(){}};var f6="recaptcha",ote={theme:"light",type:"image"},ch=class{constructor(e,n,i=Object.assign({},ote)){this.parameters=i,this.type=f6,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(e),this.isInvisible=this.parameters.size==="invisible",Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;Y(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new A1:new D1,this.validateStartingState()}verify(){return E(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=kn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return E(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return E(this,null,function*(){Y(F1()&&!H1(),this.auth,"internal-error"),yield ste(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield FZ(this.auth);Y(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function ste(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Em=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=kl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function Jm(t,e,n){return E(this,null,function*(){let i=Bt(t),r=yield jw(i,e,We(n));return new Em(r,o=>cc(i,o))})}function Xm(t,e,n){return E(this,null,function*(){let i=We(t);yield Rw(!1,i,"phone");let r=yield jw(i.auth,e,We(n));return new Em(r,o=>fh(i,o))})}function Zm(t,e,n){return E(this,null,function*(){let i=We(t),r=yield jw(i.auth,e,We(n));return new Em(r,o=>ph(i,o))})}function jw(t,e,n){return E(this,null,function*(){var i;let r=yield n.verify();try{Y(typeof r=="string",t,"argument-error"),Y(n.type===f6,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return Y(a.type==="enroll",t,"internal-error"),(yield Oee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{Y(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Y(l,t,"missing-multi-factor-info"),(yield Xee(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield _ee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function eg(t,e){return E(this,null,function*(){yield B1(We(t),e)})}var lc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=Bt(n)}verifyPhoneNumber(n,i){return jw(this.auth,n,We(i))}static credential(n,i){return kl._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?kl._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Bl(t,e){return e?Di(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Cm=class extends po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ate(t){return l6(t.auth,new Cm(t),t.bypassAuthState)}function cte(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),c6(n,new Cm(t),t.bypassAuthState)}function lte(t){return E(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),B1(n,new Cm(t),t.bypassAuthState)})}var Tw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ate;case"linkViaPopup":case"linkViaRedirect":return lte;case"reauthViaPopup":case"reauthViaRedirect":return cte;default:Cn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ute=new Ol(2e3,1e4);function tg(t,e,n){return E(this,null,function*(){let i=Bt(t);lh(t,e,mo);let r=Bl(i,n);return new z1(i,"signInViaPopup",e,r).executeNotNull()})}function ng(t,e,n){return E(this,null,function*(){let i=We(t);lh(i.auth,e,mo);let r=Bl(i.auth,n);return new z1(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function ig(t,e,n){return E(this,null,function*(){let i=We(t);lh(i.auth,e,mo);let r=Bl(i.auth,n);return new z1(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var z1=(()=>{class t extends Tw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let n=yield this.execute();return Y(n,this.auth,"internal-error"),n})}onExecution(){return E(this,null,function*(){Mr(this.filter.length===1,"Popup operations only handle one event");let n=Ul();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,ute.get())};n()}}t.currentPopupAction=null;return t})(),dte="pendingRedirect",vm=new Map,x1=class t extends Tw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=vm.get(this.auth._key());if(!e){try{let i=(yield hte(this.resolver,this.auth))?yield Ra(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}vm.set(this.auth._key(),e)}return this.bypassAuthState||vm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Ra(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ra(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function hte(t,e){return E(this,null,function*(){let n=g6(e),i=m6(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function q1(t,e){return E(this,null,function*(){return m6(t)._set(g6(e),"true")})}function p6(){vm.clear()}function gh(t,e){vm.set(t._key(),e)}function m6(t){return Di(t._redirectPersistence)}function g6(t){return ts(dte,t.config.apiKey,t.name)}function rg(t,e,n){return fte(t,e,n)}function fte(t,e,n){return E(this,null,function*(){let i=Bt(t);lh(t,e,mo),yield i._initializationPromise;let r=Bl(i,n);return yield q1(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function og(t,e,n){return pte(t,e,n)}function pte(t,e,n){return E(this,null,function*(){let i=We(t);lh(i.auth,e,mo),yield i.auth._initializationPromise;let r=Bl(i.auth,n);yield q1(r,i.auth);let o=yield v6(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function sg(t,e,n){return mte(t,e,n)}function mte(t,e,n){return E(this,null,function*(){let i=We(t);lh(i.auth,e,mo),yield i.auth._initializationPromise;let r=Bl(i.auth,n);yield Rw(!1,i,e.providerId),yield q1(r,i.auth);let o=yield v6(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function ag(t,e){return E(this,null,function*(){return yield Bt(t)._initializationPromise,$l(t,e,!1)})}function $l(t,e,n=!1){return E(this,null,function*(){let i=Bt(t),r=Bl(i,e),a=yield new x1(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function v6(t){return E(this,null,function*(){let e=Ul(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var gte=10*60*1e3,Im=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!y6(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gte&&this.cachedEventUids.clear(),this.cachedEventUids.has(jU(e))}saveEventToCache(e){this.cachedEventUids.add(jU(e)),this.lastProcessedEventTime=Date.now()}};function jU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y6({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y6(t);default:return!1}}function G1(n){return E(this,arguments,function*(t,e={}){return an(t,"GET","/v1/projects",e)})}var yte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_te=/^https?/;function wte(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield G1(t);for(let n of e)try{if(bte(n))return}catch{}Cn(t,"unauthorized-domain")})}function bte(t){let e=ym(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!_te.test(n))return!1;if(yte.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Ete=new Ol(3e4,6e4);function UU(){let t=kn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cte(t){return new Promise((e,n)=>{var i,r,o;function a(){UU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UU(),n(oi(t,"network-request-failed"))},timeout:Ete.get()})}if(!((r=(i=kn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=kn().gapi)===null||o===void 0)&&o.load)a();else{let l=n6("iframefcb");return kn()[l]=()=>{gapi.load?a():n(oi(t,"network-request-failed"))},U1(`${nee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw pw=null,e})}var pw=null;function Ite(t){return pw=pw||Cte(t),pw}var Ste=new Ol(5e3,15e3),Tte="__/auth/iframe",Dte="emulator/auth/iframe",Ate={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mte(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?L1(e,Dte):`https://${t.config.authDomain}/${Tte}`,i={apiKey:e.apiKey,appName:t.name,v:ho},r=xte.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Il(i).slice(1)}`}function Pte(t){return E(this,null,function*(){let e=yield Ite(t),n=kn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:Mte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ate,dontclear:!0},i=>new Promise((r,o)=>E(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=oi(t,"network-request-failed"),l=kn().setTimeout(()=>{o(a)},Ste.get());function d(){kn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Ote={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kte=500,Rte=600,Nte="_blank",Fte="http://localhost",Sm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lte(t,e,n,i=kte,r=Rte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Ote),{width:i.toString(),height:r.toString(),top:o,left:a}),f=Rt().toLowerCase();n&&(l=YU(f)?Nte:n),QU(f)&&(e=e||Fte,d.scrollbars="yes");let p=Object.entries(d).reduce((y,[b,w])=>`${y}${b}=${w},`,"");if(KZ(f)&&l!=="_self")return Vte(e||"",l),new Sm(null);let v=window.open(e||"",l,p);Y(v,t,"popup-blocked");try{v.focus()}catch{}return new Sm(v)}function Vte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var jte="__/auth/handler",Ute="emulator/auth/handler",Bte=encodeURIComponent("fac");function Dw(t,e,n,i,r,o){return E(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ho,eventId:r};if(e instanceof mo){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",lU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,v]of Object.entries(o||{}))a[p]=v}if(e instanceof sc){let p=e.getScopes().filter(v=>v!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let p of Object.keys(l))l[p]===void 0&&delete l[p];let d=yield t._getAppCheckToken(),f=d?`#${Bte}=${encodeURIComponent(d)}`:"";return`${$te(t)}?${Il(l).slice(1)}${f}`})}function $te({config:t}){return t.emulator?L1(t,Ute):`https://${t.authDomain}/${jte}`}var a1="webStorageSupport",M1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Or,this._completeRedirectFn=$l,this._overrideRedirectResult=gh}_openPopup(e,n,i,r){return E(this,null,function*(){var o;Mr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Dw(e,n,i,ym(),r);return Lte(e,a,Ul())})}_openRedirect(e,n,i,r){return E(this,null,function*(){yield this._originValidation(e);let o=yield Dw(e,n,i,ym(),r);return $ee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Mr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return E(this,null,function*(){let n=yield Pte(e),i=new Im(e);return n.register("authEvent",r=>(Y(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a1,{type:a1},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[a1];a!==void 0&&n(!!a),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t6()||V1()||Vl()}},cg=M1,P1=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return es("unexpected MultiFactorSessionType")}}},O1=class t extends P1{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return kee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return Zee(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Uw=(()=>{class t{constructor(){}static assertion(n){return O1._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var BU="@firebase/auth",$U="1.6.1";var k1=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Hte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zte(t){uo(new Ti("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(t)},f=new _w(i,r,o,d);return oee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),uo(new Ti("auth-internal",e=>{let n=Bt(e.getProvider("auth").getImmediate());return(i=>new k1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(BU,$U,Hte(t)),Kt(BU,$U,"esm2017")}var qte=5*60,Gte=jD("authIdTokenMaxAge")||qte,HU=null,Wte=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Gte)return;let r=n?.token;HU!==r&&(HU=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bw(t=Al()){let e=Dl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ow(t,{popupRedirectResolver:cg,persistence:[na,ns,Or]}),i=jD("authTokenSyncURL");if(i){let o=Wte(i);Lw(n,o,()=>o(n.currentUser)),Fw(n,a=>o(a))}let r=LD("auth");return r&&dh(n,`http://${r}`),n}function Kte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZZ({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=oi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",Kte().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zte("Browser");var M6="auth",Hl=class{constructor(e){return e}},lg=class{constructor(){return pm(M6)}};var W1=new we("angularfire2.auth-instances");function tne(t,e){let n=uw(M6,t,e);return n&&new Hl(n)}function nne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Hl(i)}}var ine={provide:lg,deps:[[new $i,W1]]},rne={provide:Hl,useFactory:tne,deps:[[new $i,W1],Ys]},one=(()=>{class t{constructor(){Kt("angularfire",Ml.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ui({type:t});static \u0275inj=Bi({providers:[rne,ine]})}return t})();function P6(t,...e){return{ngModule:one,providers:[{provide:W1,useFactory:nne(t),multi:!0,deps:[ft,on,ih,Pl,[new $i,nh],...e]}]}}var O6=fo(Bw,!0);var ane=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yo={},se,mA=mA||{},Ve=ane||self;function tb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cne(t){return Object.prototype.hasOwnProperty.call(t,K1)&&t[K1]||(t[K1]=++lne)}var K1="closure_uid_"+(1e9*Math.random()>>>0),lne=0;function une(t,e,n){return t.call.apply(t.bind,arguments)}function dne(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ai(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ai=une:Ai=dne,Ai.apply(null,arguments)}function $w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function ai(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function uc(){this.s=this.s,this.o=this.o}var hne=0;uc.prototype.s=!1;uc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hne!=0)&&cne(this)};uc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var q6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gA(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function k6(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(tb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function xi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xi.prototype.h=function(){this.defaultPrevented=!0};var fne=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Ve.addEventListener("test",n,e),Ve.removeEventListener("test",n,e)}catch{}return t}();function mg(t){return/^[\s\xa0]*$/.test(t)}function nb(){var t=Ve.navigator;return t&&(t=t.userAgent)?t:""}function is(t){return nb().indexOf(t)!=-1}function vA(t){return vA[" "](t),t}vA[" "]=function(){};function pne(t,e){var n=nie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mne=is("Opera"),wh=is("Trident")||is("MSIE"),G6=is("Edge"),Z1=G6||wh,W6=is("Gecko")&&!(nb().toLowerCase().indexOf("webkit")!=-1&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),gne=nb().toLowerCase().indexOf("webkit")!=-1&&!is("Edge");function K6(){var t=Ve.document;return t?t.documentMode:void 0}var eA;e:{if(Hw="",zw=function(){var t=nb();if(W6)return/rv:([^\);]+)(\)|;)/.exec(t);if(G6)return/Edge\/([\d\.]+)/.exec(t);if(wh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gne)return/WebKit\/(\S+)/.exec(t);if(mne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),zw&&(Hw=zw?zw[1]:""),wh&&(qw=K6(),qw!=null&&qw>parseFloat(Hw))){eA=String(qw);break e}eA=Hw}var Hw,zw,qw,tA;Ve.document&&wh?(Q1=K6(),tA=Q1||parseInt(eA,10)||void 0):tA=void 0;var Q1,vne=tA;function gg(t,e){if(xi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(W6){e:{try{vA(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gg.$.h.call(this)}}ai(gg,xi);var yne={2:"touch",3:"pen",4:"mouse"};gg.prototype.h=function(){gg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ig="closure_listenable_"+(1e6*Math.random()|0),_ne=0;function wne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++_ne,this.fa=this.ia=!1}function ib(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yA(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function bne(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function Q6(t){let e={};for(let n in t)e[n]=t[n];return e}var R6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y6(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<R6.length;o++)n=R6[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function rb(t){this.src=t,this.g={},this.h=0}rb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=iA(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new wne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function nA(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=q6(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ib(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function iA(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var _A="closure_lm_"+(1e6*Math.random()|0),Y1={};function J6(t,e,n,i,r){if(i&&i.once)return Z6(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)J6(t,e[o],n,i,r);return null}return n=EA(n),t&&t[Ig]?t.O(e,n,Cg(i)?!!i.capture:!!i,r):X6(t,e,n,!1,i,r)}function X6(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Cg(r)?!!r.capture:!!r,l=bA(t);if(l||(t[_A]=l=new rb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=Ene(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)fne||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(tB(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ene(){function t(n){return e.call(t.src,t.listener,n)}let e=Cne;return t}function Z6(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Z6(t,e[o],n,i,r);return null}return n=EA(n),t&&t[Ig]?t.P(e,n,Cg(i)?!!i.capture:!!i,r):X6(t,e,n,!0,i,r)}function eB(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)eB(t,e[o],n,i,r);else i=Cg(i)?!!i.capture:!!i,n=EA(n),t&&t[Ig]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=iA(o,n,i,r),-1<n&&(ib(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=bA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=iA(e,n,i,r)),(n=-1<t?e[t]:null)&&wA(n))}function wA(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ig])nA(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(tB(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bA(e))?(nA(n,t),n.h==0&&(n.src=null,e[_A]=null)):ib(t)}}}function tB(t){return t in Y1?Y1[t]:Y1[t]="on"+t}function Cne(t,e){if(t.fa)t=!0;else{e=new gg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&wA(t),t=n.call(i,e)}return t}function bA(t){return t=t[_A],t instanceof rb?t:null}var J1="__closure_events_fn_"+(1e9*Math.random()>>>0);function EA(t){return typeof t=="function"?t:(t[J1]||(t[J1]=function(e){return t.handleEvent(e)}),t[J1])}function si(){uc.call(this),this.i=new rb(this),this.S=this,this.J=null}ai(si,uc);si.prototype[Ig]=!0;si.prototype.removeEventListener=function(t,e,n,i){eB(this,t,e,n,i)};function vi(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new xi(e,t);else if(e instanceof xi)e.target=e.target||t;else{var r=e;e=new xi(i,t),Y6(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=Gw(a,i,!0,e)&&r}if(a=e.g=t,r=Gw(a,i,!0,e)&&r,r=Gw(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=Gw(a,i,!1,e)&&r}si.prototype.N=function(){if(si.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ib(n[i]);delete t.g[e],t.h--}}this.J=null};si.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};si.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Gw(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&nA(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var CA=Ve.JSON.stringify,rA=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Ine(){var t=IA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var oA=class{constructor(){this.h=this.g=null}add(e,n){let i=nB.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},nB=new rA(()=>new sA,t=>t.reset()),sA=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Sne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Tne(t){Ve.setTimeout(()=>{throw t},0)}var vg,yg=!1,IA=new oA,iB=()=>{let t=Ve.Promise.resolve(void 0);vg=()=>{t.then(Dne)}},Dne=()=>{for(var t;t=Ine();){try{t.h.call(t.g)}catch(n){Tne(n)}var e=nB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yg=!1};function ob(t,e){si.call(this),this.h=t||1,this.g=e||Ve,this.j=Ai(this.qb,this),this.l=Date.now()}ai(ob,si);se=ob.prototype;se.ga=!1;se.T=null;se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vi(this,"tick"),this.ga&&(SA(this),this.start()))}};se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function SA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}se.N=function(){ob.$.N.call(this),SA(this),delete this.g};function TA(t,e,n){if(typeof t=="function")n&&(t=Ai(t,n));else if(t&&typeof t.handleEvent=="function")t=Ai(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ve.setTimeout(t,e||0)}function rB(t){t.g=TA(()=>{t.g=null,t.i&&(t.i=!1,rB(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var aA=class extends uc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rB(this)}N(){super.N(),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function _g(t){uc.call(this),this.h=t,this.g={}}ai(_g,uc);var N6=[];function oB(t,e,n,i){Array.isArray(n)||(n&&(N6[0]=n.toString()),n=N6);for(var r=0;r<n.length;r++){var o=J6(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function sB(t){yA(t.g,function(e,n){this.g.hasOwnProperty(n)&&wA(e)},t),t.g={}}_g.prototype.N=function(){_g.$.N.call(this),sB(this)};_g.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sb(){this.g=!0}sb.prototype.Ea=function(){this.g=!1};function Ane(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+f+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function xne(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function yh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Pne(t,n)+(i?" "+i:"")})}function Mne(t,e){t.info(function(){return"TIMEOUT: "+e})}sb.prototype.info=function(){};function Pne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return CA(n)}catch{return e}}var Wl={},F6=null;function ab(){return F6=F6||new si}Wl.Ta="serverreachability";function aB(t){xi.call(this,Wl.Ta,t)}ai(aB,xi);function wg(t){let e=ab();vi(e,new aB(e))}Wl.STAT_EVENT="statevent";function cB(t,e){xi.call(this,Wl.STAT_EVENT,t),this.stat=e}ai(cB,xi);function qi(t){let e=ab();vi(e,new cB(e,t))}Wl.Ua="timingevent";function lB(t,e){xi.call(this,Wl.Ua,t),this.size=e}ai(lB,xi);function Sg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){t()},e)}var cb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function DA(){}DA.prototype.h=null;function L6(t){return t.h||(t.h=t.i())}function dB(){}var Tg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AA(){xi.call(this,"d")}ai(AA,xi);function xA(){xi.call(this,"c")}ai(xA,xi);var cA;function lb(){}ai(lb,DA);lb.prototype.g=function(){return new XMLHttpRequest};lb.prototype.i=function(){return{}};cA=new lb;function Dg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new _g(this),this.P=One,t=Z1?125:void 0,this.V=new ob(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hB}function hB(){this.i=null,this.g="",this.h=!1}var One=45e3,fB={},lA={};se=Dg.prototype;se.setTimeout=function(t){this.P=t};function uA(t,e,n){t.L=1,t.A=db(ra(e)),t.u=n,t.S=!0,pB(t,null)}function pB(t,e){t.G=Date.now(),Ag(t),t.B=ra(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),EB(n.i,"t",i),t.o=0,n=t.l.J,t.h=new hB,t.g=HB(t.l,n?e:null,!t.u),0<t.O&&(t.M=new aA(Ai(t.Pa,t,t.g),t.O)),oB(t.U,t.g,"readystatechange",t.nb),e=t.I?Q6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),wg(),Ane(t.j,t.v,t.B,t.m,t.W,t.u)}se.nb=function(t){t=t.target;let e=this.M;e&&rs(t)==3?e.l():this.Pa(t)};se.Pa=function(t){try{if(t==this.g)e:{let p=rs(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>p)&&(p!=3||Z1||this.g&&(this.h.h||this.g.ja()||B6(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?wg(3):wg(2)),ub(this);var n=this.g.da();this.ca=n;t:if(mB(this)){var i=B6(this.g);t="";var r=i.length,o=rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zl(this),pg(this);var a="";break t}this.h.i=new Ve.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,xne(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mg(l)){var f=l;break t}}f=null}if(n=f)yh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dA(this,n);else{this.i=!1,this.s=3,qi(12),zl(this),pg(this);break e}}this.S?(gB(this,p,a),Z1&&this.i&&p==3&&(oB(this.U,this.V,"tick",this.mb),this.V.start())):(yh(this.j,this.m,a,null),dA(this,a)),p==4&&zl(this),this.i&&!this.J&&(p==4?jB(this.l,this):(this.i=!1,Ag(this)))}else Zne(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,qi(12)):(this.s=0,qi(13)),zl(this),pg(this)}}}catch{}finally{}};function mB(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function gB(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=kne(t,n),r==lA){e==4&&(t.s=4,qi(14),i=!1),yh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==fB){t.s=4,qi(15),yh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else yh(t.j,t.m,r,null),dA(t,r);mB(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,qi(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),NA(e),e.M=!0,qi(11))):(yh(t.j,t.m,n,"[Invalid Chunked Response]"),zl(t),pg(t))}se.mb=function(){if(this.g){var t=rs(this.g),e=this.g.ja();this.o<e.length&&(ub(this),gB(this,t,e),this.i&&t!=4&&Ag(this))}};function kne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?lA:(n=Number(e.substring(n,i)),isNaN(n)?fB:(i+=1,i+n>e.length?lA:(e=e.slice(i,i+n),t.o=i+n,e)))}se.cancel=function(){this.J=!0,zl(this)};function Ag(t){t.Y=Date.now()+t.P,vB(t,t.P)}function vB(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sg(Ai(t.lb,t),e)}function ub(t){t.C&&(Ve.clearTimeout(t.C),t.C=null)}se.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Mne(this.j,this.B),this.L!=2&&(wg(),qi(17)),zl(this),this.s=2,pg(this)):vB(this,this.Y-t)};function pg(t){t.l.H==0||t.J||jB(t.l,t)}function zl(t){ub(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,SA(t.V),sB(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function dA(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hA(n.i,t))){if(!t.K&&hA(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jw(n),pb(n);else break e;RA(n),qi(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sg(Ai(n.ib,n),6e3));if(1>=SB(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ql(n,11)}else if((t.K||n.g==t)&&Jw(n),!mg(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];let p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));let v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let b=t.g;if(b){let w=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var o=i.i;o.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(MA(o,o.h),o.h=null))}if(i.F){let C=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,$t(i.I,i.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=$B(i,i.J?i.pa:null,i.Y),a.K){TB(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(ub(l),Ag(l)),i.g=a}else LB(i);0<n.j.length&&mb(n)}else f[0]!="stop"&&f[0]!="close"||ql(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?ql(n,7):kA(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}wg(4)}catch{}}function Rne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(tb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Nne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(tb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function yB(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(tb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Nne(t),i=Rne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var _B=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Gl(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gl){this.h=t.h,Qw(this,t.j),this.s=t.s,this.g=t.g,Yw(this,t.m),this.l=t.l;var e=t.i,n=new bg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),V6(this,n),this.o=t.o}else t&&(e=String(t).match(_B))?(this.h=!1,Qw(this,e[1]||"",!0),this.s=hg(e[2]||""),this.g=hg(e[3]||"",!0),Yw(this,e[4]),this.l=hg(e[5]||"",!0),V6(this,e[6]||"",!0),this.o=hg(e[7]||"")):(this.h=!1,this.i=new bg(null,this.h))}Gl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fg(e,j6,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fg(e,j6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fg(n,n.charAt(0)=="/"?jne:Vne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fg(n,Bne)),t.join("")};function ra(t){return new Gl(t)}function Qw(t,e,n){t.j=n?hg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yw(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function V6(t,e,n){e instanceof bg?(t.i=e,$ne(t.i,t.h)):(n||(e=fg(e,Une)),t.i=new bg(e,t.h))}function $t(t,e,n){t.i.set(e,n)}function db(t){return $t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fg(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Lne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var j6=/[#\/\?@]/g,Vne=/[#\?:]/g,jne=/[#\?]/g,Une=/[#\?@]/g,Bne=/#/g;function bg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function dc(t){t.g||(t.g=new Map,t.h=0,t.i&&Fne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}se=bg.prototype;se.add=function(t,e){dc(this),this.i=null,t=bh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wB(t,e){dc(t),e=bh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function bB(t,e){return dc(t),e=bh(t,e),t.g.has(e)}se.forEach=function(t,e){dc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};se.ta=function(){dc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};se.Z=function(t){dc(this);let e=[];if(typeof t=="string")bB(this,t)&&(e=e.concat(this.g.get(bh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};se.set=function(t,e){return dc(this),this.i=null,t=bh(this,t),bB(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};se.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function EB(t,e,n){wB(t,e),0<n.length&&(t.i=null,t.g.set(bh(t,e),gA(n)),t.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function bh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $ne(t,e){e&&!t.j&&(dc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(wB(this,i),EB(this,r,n))},t)),t.j=e}var Hne=class{constructor(t,e){this.g=t,this.map=e}};function CB(t){this.l=t||zne,Ve.PerformanceNavigationTiming?(t=Ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ve.g&&Ve.g.Ka&&Ve.g.Ka()&&Ve.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zne=10;function IB(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SB(t){return t.h?1:t.g?t.g.size:0}function hA(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function MA(t,e){t.g?t.g.add(e):t.h=e}function TB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CB.prototype.cancel=function(){if(this.i=DB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function DB(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return gA(t.i)}var qne=class{stringify(t){return Ve.JSON.stringify(t,void 0)}parse(t){return Ve.JSON.parse(t,void 0)}};function Gne(){this.g=new qne}function Wne(t,e,n){let i=n||"";try{yB(t,function(r,o){let a=r;Cg(r)&&(a=CA(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Kne(t,e){let n=new sb;if(Ve.Image){let i=new Image;i.onload=$w(Ww,n,i,"TestLoadImage: loaded",!0,e),i.onerror=$w(Ww,n,i,"TestLoadImage: error",!1,e),i.onabort=$w(Ww,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=$w(Ww,n,i,"TestLoadImage: timeout",!1,e),Ve.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Ww(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function xg(t){this.l=t.ec||null,this.j=t.ob||!1}ai(xg,DA);xg.prototype.g=function(){return new hb(this.l,this.j)};xg.prototype.i=function(t){return function(){return t}}({});function hb(t,e){si.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=PA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ai(hb,si);var PA=0;se=hb.prototype;se.open=function(t,e){if(this.readyState!=PA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Eg(this)};se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mg(this)),this.readyState=PA};se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Eg(this)),this.g&&(this.readyState=3,Eg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AB(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function AB(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mg(this):Eg(this),this.readyState==3&&AB(this)}};se.Za=function(t){this.g&&(this.response=this.responseText=t,Mg(this))};se.Ya=function(t){this.g&&(this.response=t,Mg(this))};se.ka=function(){this.g&&Mg(this)};function Mg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Eg(t)}se.setRequestHeader=function(t,e){this.v.append(t,e)};se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Eg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Qne=Ve.JSON.parse;function cn(t){si.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xB,this.L=this.M=!1}ai(cn,si);var xB="",Yne=/^https?$/i,Jne=["POST","PUT"];se=cn.prototype;se.Oa=function(t){this.M=t};se.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cA.g(),this.C=this.u?L6(this.u):L6(cA),this.g.onreadystatechange=Ai(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){U6(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=Ve.FormData&&t instanceof Ve.FormData,!(0<=q6(Jne,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OB(this),0<this.B&&((this.L=Xne(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.ua,this)):this.A=TA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){U6(this,o)}};function Xne(t){return wh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}se.ua=function(){typeof mA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))};function U6(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MB(t),fb(t)}function MB(t){t.F||(t.F=!0,vi(t,"complete"),vi(t,"error"))}se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vi(this,"complete"),vi(this,"abort"),fb(this))};se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fb(this,!0)),cn.$.N.call(this)};se.La=function(){this.s||(this.G||this.v||this.l?PB(this):this.kb())};se.kb=function(){PB(this)};function PB(t){if(t.h&&typeof mA<"u"&&(!t.C[1]||rs(t)!=4||t.da()!=2)){if(t.v&&rs(t)==4)TA(t.La,0,t);else if(vi(t,"readystatechange"),rs(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(_B)[1]||null;!r&&Ve.self&&Ve.self.location&&(r=Ve.self.location.protocol.slice(0,-1)),i=!Yne.test(r?r.toLowerCase():"")}n=i}if(n)vi(t,"complete"),vi(t,"success");else{t.m=6;try{var o=2<rs(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",MB(t)}}finally{fb(t)}}}}function fb(t,e){if(t.g){OB(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vi(t,"ready");try{n.onreadystatechange=i}catch{}}}function OB(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ve.clearTimeout(t.A),t.A=null)}se.isActive=function(){return!!this.g};function rs(t){return t.g?t.g.readyState:0}se.da=function(){try{return 2<rs(this)?this.g.status:-1}catch{return-1}};se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qne(e)}};function B6(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Zne(t){let e={};t=(t.g&&2<=rs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(mg(t[i]))continue;var n=Sne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}bne(e,function(i){return i.join(", ")})}se.Ia=function(){return this.m};se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function kB(t){let e="";return yA(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function OA(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=kB(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$t(t,e,n))}function ug(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function RB(t){this.Ga=0,this.j=[],this.l=new sb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ug("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ug("baseRetryDelayMs",5e3,t),this.hb=ug("retryDelaySeedMs",1e4,t),this.eb=ug("forwardChannelMaxRetries",2,t),this.xa=ug("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new CB(t&&t.concurrentRequestLimit),this.Ja=new Gne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}se=RB.prototype;se.ra=8;se.H=1;function kA(t){if(NB(t),t.H==3){var e=t.W++,n=ra(t.I);if($t(n,"SID",t.K),$t(n,"RID",e),$t(n,"TYPE","terminate"),Pg(t,n),e=new Dg(t,t.l,e),e.L=2,e.A=db(ra(n)),n=!1,Ve.navigator&&Ve.navigator.sendBeacon)try{n=Ve.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ve.Image&&(new Image().src=e.A,n=!0),n||(e.g=HB(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ag(e)}BB(t)}function pb(t){t.g&&(NA(t),t.g.cancel(),t.g=null)}function NB(t){pb(t),t.u&&(Ve.clearTimeout(t.u),t.u=null),Jw(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ve.clearTimeout(t.m),t.m=null)}function mb(t){if(!IB(t.i)&&!t.m){t.m=!0;var e=t.Na;vg||iB(),yg||(vg(),yg=!0),IA.add(e,t),t.C=0}}function eie(t,e){return SB(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sg(Ai(t.Na,t,e),UB(t,t.C)),t.C++,!0)}se.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Dg(this,this.l,t),o=this.s;if(this.U&&(o?(o=Q6(o),Y6(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FB(this,r,e),n=ra(this.I),$t(n,"RID",t),$t(n,"CVER",22),this.F&&$t(n,"X-HTTP-Session-Id",this.F),Pg(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(kB(o)))+"&"+e:this.o&&OA(n,this.o,o)),MA(this.i,r),this.bb&&$t(n,"TYPE","init"),this.P?($t(n,"$req",e),$t(n,"SID","null"),r.aa=!0,uA(r,n,null)):uA(r,n,e),this.H=2}}else this.H==3&&(t?$6(this,t):this.j.length==0||IB(this.i)||$6(this))};function $6(t,e){var n;e?n=e.m:n=t.W++;let i=ra(t.I);$t(i,"SID",t.K),$t(i,"RID",n),$t(i,"AID",t.V),Pg(t,i),t.o&&t.s&&OA(i,t.o,t.s),n=new Dg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FB(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),MA(t.i,n),uA(n,i,e)}function Pg(t,e){t.na&&yA(t.na,function(n,i){$t(e,i,n)}),t.h&&yB({},function(n,i){$t(e,i,n)})}function FB(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ai(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let f=r[d].g,p=r[d].map;if(f-=o,0>f)o=Math.max(0,r[d].g-100),l=!1;else try{Wne(p,a,"req"+f+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function LB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;vg||iB(),yg||(vg(),yg=!0),IA.add(e,t),t.A=0}}function RA(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sg(Ai(t.Ma,t),UB(t,t.A)),t.A++,!0)}se.Ma=function(){if(this.u=null,VB(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sg(Ai(this.jb,this),t)}};se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qi(10),pb(this),VB(this))};function NA(t){t.B!=null&&(Ve.clearTimeout(t.B),t.B=null)}function VB(t){t.g=new Dg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ra(t.wa);$t(e,"RID","rpc"),$t(e,"SID",t.K),$t(e,"AID",t.V),$t(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$t(e,"TO",t.qa),$t(e,"TYPE","xmlhttp"),Pg(t,e),t.o&&t.s&&OA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=db(ra(e)),n.u=null,n.S=!0,pB(n,t)}se.ib=function(){this.v!=null&&(this.v=null,pb(this),RA(this),qi(19))};function Jw(t){t.v!=null&&(Ve.clearTimeout(t.v),t.v=null)}function jB(t,e){var n=null;if(t.g==e){Jw(t),NA(t),t.g=null;var i=2}else if(hA(t.i,e))n=e.F,TB(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=ab(),vi(i,new lB(i,n)),mb(t)}else LB(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&eie(t,e)||i==2&&RA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:ql(t,5);break;case 4:ql(t,10);break;case 3:ql(t,6);break;default:ql(t,2)}}}function UB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ql(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ai(t.pb,t);n||(n=new Gl("//www.google.com/images/cleardot.gif"),Ve.location&&Ve.location.protocol=="http"||Qw(n,"https"),db(n)),Kne(n.toString(),i)}else qi(2);t.H=0,t.h&&t.h.za(e),BB(t),NB(t)}se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qi(2)):(this.l.info("Failed to ping google.com"),qi(1))};function BB(t){if(t.H=0,t.ma=[],t.h){let e=DB(t.i);(e.length!=0||t.j.length!=0)&&(k6(t.ma,e),k6(t.ma,t.j),t.i.i.length=0,gA(t.j),t.j.length=0),t.h.ya()}}function $B(t,e,n){var i=n instanceof Gl?ra(n):new Gl(n);if(i.g!="")e&&(i.g=e+"."+i.g),Yw(i,i.m);else{var r=Ve.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Gl(null);i&&Qw(o,i),e&&(o.g=e),r&&Yw(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&$t(i,n,e),$t(i,"VER",t.ra),Pg(t,i),i}function HB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new cn(new xg({ob:n})):new cn(t.va),e.Oa(t.J),e}se.isActive=function(){return!!this.h&&this.h.isActive(this)};function zB(){}se=zB.prototype;se.Ba=function(){};se.Aa=function(){};se.za=function(){};se.ya=function(){};se.isActive=function(){return!0};se.Va=function(){};function Xw(){if(wh&&!(10<=Number(vne)))throw Error("Environmental error: no available transport.")}Xw.prototype.g=function(t,e){return new fr(t,e)};function fr(t,e){si.call(this),this.g=new RB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Eh(this)}ai(fr,si);fr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=$B(t,null,t.Y),mb(t)};fr.prototype.close=function(){kA(this.g)};fr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=CA(t),t=n);e.j.push(new Hne(e.fb++,t)),e.H==3&&mb(e)};fr.prototype.N=function(){this.g.h=null,delete this.j,kA(this.g),delete this.g,fr.$.N.call(this)};function qB(t){AA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ai(qB,AA);function GB(){xA.call(this),this.status=1}ai(GB,xA);function Eh(t){this.g=t}ai(Eh,zB);Eh.prototype.Ba=function(){vi(this.g,"a")};Eh.prototype.Aa=function(t){vi(this.g,new qB(t))};Eh.prototype.za=function(t){vi(this.g,new GB)};Eh.prototype.ya=function(){vi(this.g,"b")};function tie(){this.blockSize=-1}function vo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ai(vo,tie);vo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function X1(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}vo.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)X1(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){X1(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){X1(this,i),r=0;break}}this.h=r,this.i+=e};vo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Pt(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var nie={};function FA(t){return-128<=t&&128>t?pne(t,function(e){return new Pt([e|0],0>e?-1:0)}):new Pt([t|0],0>t?-1:0)}function os(t){if(isNaN(t)||!isFinite(t))return _h;if(0>t)return gi(os(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=fA;return new Pt(e,0)}function WB(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gi(WB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=os(Math.pow(e,8)),i=_h,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=os(Math.pow(e,o)),i=i.R(o).add(os(a))):(i=i.R(n),i=i.add(os(a)))}return i}var fA=4294967296,_h=FA(0),pA=FA(1),H6=FA(16777216);se=Pt.prototype;se.ea=function(){if(kr(this))return-gi(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:fA+i)*e,e*=fA}return t};se.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ia(this))return"0";if(kr(this))return"-"+gi(this).toString(t);for(var e=os(Math.pow(t,6)),n=this,i="";;){var r=eb(n,e).g;n=Zw(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,ia(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ia(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function kr(t){return t.h==-1}se.X=function(t){return t=Zw(this,t),kr(t)?-1:ia(t)?0:1};function gi(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Pt(n,~t.h).add(pA)}se.abs=function(){return kr(this)?gi(this):this};se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Pt(n,n[n.length-1]&-2147483648?-1:0)};function Zw(t,e){return t.add(gi(e))}se.R=function(t){if(ia(this)||ia(t))return _h;if(kr(this))return kr(t)?gi(this).R(gi(t)):gi(gi(this).R(t));if(kr(t))return gi(this.R(gi(t)));if(0>this.X(H6)&&0>t.X(H6))return os(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,Kw(n,2*i+2*r),n[2*i+2*r+1]+=o*d,Kw(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,Kw(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,Kw(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Pt(n,0)};function Kw(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dg(t,e){this.g=t,this.h=e}function eb(t,e){if(ia(e))throw Error("division by zero");if(ia(t))return new dg(_h,_h);if(kr(t))return e=eb(gi(t),e),new dg(gi(e.g),gi(e.h));if(kr(e))return e=eb(t,gi(e)),new dg(gi(e.g),e.h);if(30<t.g.length){if(kr(t)||kr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pA,i=e;0>=i.X(t);)n=z6(n),i=z6(i);var r=vh(n,1),o=vh(i,1);for(i=vh(i,2),n=vh(n,2);!ia(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=vh(i,1),n=vh(n,1)}return e=Zw(t,r.R(e)),new dg(r,e)}for(r=_h;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=os(n),a=o.R(e);kr(a)||0<a.X(t);)n-=i,o=os(n),a=o.R(e);ia(o)&&(o=pA),r=r.add(o),t=Zw(t,a)}return new dg(r,t)}se.gb=function(t){return eb(this,t).h};se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Pt(n,this.h&t.h)};se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Pt(n,this.h|t.h)};se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Pt(n,this.h^t.h)};function z6(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Pt(n,t.h)}function vh(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Pt(r,t.h)}Xw.prototype.createWebChannel=Xw.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;cb.NO_ERROR=0;cb.TIMEOUT=8;cb.HTTP_ERROR=6;uB.COMPLETE="complete";dB.EventType=Tg;Tg.OPEN="a";Tg.CLOSE="b";Tg.ERROR="c";Tg.MESSAGE="d";si.prototype.listen=si.prototype.O;cn.prototype.listenOnce=cn.prototype.P;cn.prototype.getLastError=cn.prototype.Sa;cn.prototype.getLastErrorCode=cn.prototype.Ia;cn.prototype.getStatus=cn.prototype.da;cn.prototype.getResponseJson=cn.prototype.Wa;cn.prototype.getResponseText=cn.prototype.ja;cn.prototype.send=cn.prototype.ha;cn.prototype.setWithCredentials=cn.prototype.Oa;vo.prototype.digest=vo.prototype.l;vo.prototype.reset=vo.prototype.reset;vo.prototype.update=vo.prototype.j;Pt.prototype.add=Pt.prototype.add;Pt.prototype.multiply=Pt.prototype.R;Pt.prototype.modulo=Pt.prototype.gb;Pt.prototype.compare=Pt.prototype.X;Pt.prototype.toNumber=Pt.prototype.ea;Pt.prototype.toString=Pt.prototype.toString;Pt.prototype.getBits=Pt.prototype.D;Pt.fromNumber=os;Pt.fromString=WB;var KB=yo.createWebChannelTransport=function(){return new Xw},QB=yo.getStatEventTarget=function(){return ab()},gb=yo.ErrorCode=cb,YB=yo.EventType=uB,JB=yo.Event=Wl,LA=yo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zwe=yo.FetchXmlHttpFactory=xg,Og=yo.WebChannel=dB,XB=yo.XhrIo=cn,ZB=yo.Md5=vo,Kl=yo.Integer=Pt;var e4="@firebase/firestore";var ci=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");var qh="10.8.1";var Zl=new Jo("@firebase/firestore");function kg(){return Zl.logLevel}function ae(t,...e){if(Zl.logLevel<=ot.DEBUG){let n=e.map(CM);Zl.debug(`Firestore (${qh}): ${t}`,...n)}}function ds(t,...e){if(Zl.logLevel<=ot.ERROR){let n=e.map(CM);Zl.error(`Firestore (${qh}): ${t}`,...n)}}function Mh(t,...e){if(Zl.logLevel<=ot.WARN){let n=e.map(CM);Zl.warn(`Firestore (${qh}): ${t}`,...n)}}function CM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Fe(t="Unexpected state"){let e=`FIRESTORE (${qh}) INTERNAL ASSERTION FAILED: `+t;throw ds(e),new Error(e)}function Vt(t,e){t||Fe()}function ze(t,e){return t}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ee=class extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wo=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var bb=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$A=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ci.UNAUTHENTICATED))}shutdown(){}},HA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zA=class{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new wo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wo,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>E(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wo)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vt(typeof i.accessToken=="string"),new bb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new ci(e)}},qA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},GA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new qA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}},WA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},KA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new WA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function iie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Eb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=iie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function It(t,e){return t<e?-1:t>e?1:0}function Ph(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var yi=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var He=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new yi(0,0))}static max(){return new t(new yi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Cb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Fe(),i===void 0?i=e.length-n:i>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},un=class t extends Cb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ee(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},rie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pr=class t extends Cb{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return rie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new Ee(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ee(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ee(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new Ee(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var xe=class t{constructor(e){this.path=e}static fromPath(e){return new t(un.fromString(e))}static fromName(e){return new t(un.fromString(e).popFirst(5))}static empty(){return new t(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new un(e.slice()))}};var QA=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};QA.UNKNOWN_ID=-1;function oie(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=He.fromTimestamp(i===1e9?new yi(n+1,0):new yi(n,i));return new eu(r,xe.empty(),e)}function sie(t){return new eu(t.readTime,t.key,-1)}var eu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(He.min(),xe.empty(),-1)}static max(){return new t(He.max(),xe.empty(),-1)}};function aie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:It(t.largestBatchId,e.largestBatchId))}var cie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yg(t){return E(this,null,function*(){if(t.code!==W.FAILED_PRECONDITION||t.message!==cie)throw t;ae("LocalStore","Unexpectedly lost primary lease")})}var K=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let f=d;n(e[f]).next(p=>{a[f]=p,++l,l===o&&i(a)},p=>r(p))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var JA=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xl(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=IM(i.target.error);this.V.reject(new Xl(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new Xl(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new ZA(n)}},Ib=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Rt())===12.2&&ds("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ae("SimpleDb","Removing database:",e),Ql(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!tc())return!1;if(t.C())return!0;let e=Rt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return E(this,null,function*(){return this.db||(ae("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new Xl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Ee(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Ee(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new Xl(e,a))},r.onupgradeneeded=o=>{ae("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{ae("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return E(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=JA.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),K.reject(f))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,f=d.name!=="FirebaseError"&&a<3;if(ae("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},XA=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ql(this.k.delete())}},Xl=class extends Ee{constructor(e,n){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Jg(t){return t.name==="IndexedDbTransactionError"}var ZA=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(ae("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ql(i)}add(e){return ae("SimpleDb","ADD",this.store.name,e,e),Ql(this.store.add(e))}get(e){return Ql(this.store.get(e)).next(n=>(n===void 0&&(n=null),ae("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ae("SimpleDb","DELETE",this.store.name,e),Ql(this.store.delete(e))}count(){return ae("SimpleDb","COUNT",this.store.name),Ql(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new K((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new K((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){ae("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new K((i,r)=>{n.onerror=o=>{let a=IM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new K((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new XA(l),f=n(l.primaryKey,l.value,d);if(f instanceof K){let p=f.catch(v=>(d.done(),K.reject(v)));i.push(p)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>K.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ql(t){return new K((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=IM(i.target.error);n(r)}})}var t4=!1;function IM(t){let e=Ib.S(Rt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t4||(t4=!0,setTimeout(()=>{throw i},0)),i}}return t}var A4=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Yb(t){return t==null}function jg(t){return t===0&&1/t==-1/0}function lie(t){return typeof t=="number"&&Number.isInteger(t)&&!jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var uie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cbe=[...uie,"documentOverlays"],die=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hie=die,lbe=[...hie,"indexConfiguration","indexState","indexEntries"];function n4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gh(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var dn=class t{constructor(e,n){this.comparator=e,this.root=n||cs.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}},Th=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cs=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();let e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}};cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1;cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,i,r,o){return this}insert(e,n,i){return new cs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Pi=class t{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sb(this.data.getIterator())}getIteratorFrom(e){return new Sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var as=class t{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Pi(pr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ph(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Tb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Gi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Gi.EMPTY_BYTE_STRING=new Gi("");var fie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Vt(!!t),typeof t=="string"){let e=0,n=fie.exec(t);if(Vt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mc(t){return typeof t=="string"?Gi.fromBase64String(t):Gi.fromUint8Array(t)}function SM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TM(t){let e=t.mapValue.fields.__previous_value__;return SM(e)?TM(e):e}function Ug(t){let e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new yi(e.seconds,e.nanos)}var ex=class{constructor(e,n,i,r,o,a,l,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=f}},Db=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var vb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SM(t)?4:M4(t)?9007199254740991:10:Fe()}function hs(t,e){if(t===e)return!0;let n=tu(t);if(n!==tu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ug(t).isEqual(Ug(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=pc(r.timestampValue),l=pc(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return mc(r.bytesValue).isEqual(mc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return ln(r.geoPointValue.latitude)===ln(o.geoPointValue.latitude)&&ln(r.geoPointValue.longitude)===ln(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ln(r.integerValue)===ln(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=ln(r.doubleValue),l=ln(o.doubleValue);return a===l?jg(a)===jg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ph(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(n4(a)!==n4(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!hs(a[d],l[d])))return!1;return!0}(t,e);default:return Fe()}}function Bg(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function Oh(t,e){if(t===e)return 0;let n=tu(t),i=tu(e);if(n!==i)return It(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=ln(o.integerValue||o.doubleValue),d=ln(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return i4(t.timestampValue,e.timestampValue);case 4:return i4(Ug(t),Ug(e));case 5:return It(t.stringValue,e.stringValue);case 6:return function(o,a){let l=mc(o),d=mc(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let f=0;f<l.length&&f<d.length;f++){let p=It(l[f],d[f]);if(p!==0)return p}return It(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=It(ln(o.latitude),ln(a.latitude));return l!==0?l:It(ln(o.longitude),ln(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let f=0;f<l.length&&f<d.length;++f){let p=Oh(l[f],d[f]);if(p)return p}return It(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===vb.mapValue&&a===vb.mapValue)return 0;if(o===vb.mapValue)return 1;if(a===vb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),f=a.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){let y=It(d[v],p[v]);if(y!==0)return y;let b=Oh(l[d[v]],f[p[v]]);if(b!==0)return b}return It(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function i4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return It(t,e);let n=pc(t),i=pc(e),r=It(n.seconds,i.seconds);return r!==0?r:It(n.nanos,i.nanos)}function kh(t){return tx(t)}function tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=pc(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=tx(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${tx(n.fields[a])}`;return r+"}"}(t.mapValue):Fe()}function nx(t){return!!t&&"integerValue"in t}function DM(t){return!!t&&"arrayValue"in t}function r4(t){return!!t&&"nullValue"in t}function o4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _b(t){return!!t&&"mapValue"in t}function Ng(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Gh(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ng(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ng(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var _o=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!_b(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ng(n)}setAll(e){let n=pr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Ng(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());_b(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];_b(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Gh(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Ng(this.value))}};function P4(t){let e=[];return Gh(t.fields,(n,i)=>{let r=new pr([n]);if(_b(i)){let o=P4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new as(e)}var bo=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,He.min(),He.min(),He.min(),_o.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,He.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,He.min(),He.min(),_o.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,He.min(),He.min(),_o.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rh=class{constructor(e,n){this.position=e,this.inclusive=n}};function s4(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=xe.comparator(xe.fromName(a.referenceValue),n.key):i=Oh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function a4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}var Nh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ab=class{},$n=class t extends Ab{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rx(e,n,i):n==="array-contains"?new ax(e,i):n==="in"?new cx(e,i):n==="not-in"?new lx(e,i):n==="array-contains-any"?new ux(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ox(e,i):new sx(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oh(n,this.value)):n!==null&&tu(this.value)===tu(n)&&this.matchesComparison(Oh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fs=class t extends Ab{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return O4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function O4(t){return t.op==="and"}function k4(t){return mie(t)&&O4(t)}function mie(t){for(let e of t.filters)if(e instanceof fs)return!1;return!0}function ix(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+kh(t.value);if(k4(t))return t.filters.map(e=>ix(e)).join(",");{let e=t.filters.map(n=>ix(n)).join(",");return`${t.op}(${e})`}}function R4(t,e){return t instanceof $n?function(i,r){return r instanceof $n&&i.op===r.op&&i.field.isEqual(r.field)&&hs(i.value,r.value)}(t,e):t instanceof fs?function(i,r){return r instanceof fs&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&R4(a,r.filters[l]),!0):!1}(t,e):void Fe()}function N4(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${kh(n.value)}`}(t):t instanceof fs?function(n){return n.op.toString()+" {"+n.getFilters().map(N4).join(" ,")+"}"}(t):"Filter"}var rx=class extends $n{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){let n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}},ox=class extends $n{constructor(e,n){super(e,"in",n),this.keys=F4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},sx=class extends $n{constructor(e,n){super(e,"not-in",n),this.keys=F4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function F4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>xe.fromName(i.referenceValue))}var ax=class extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return DM(n)&&Bg(n.arrayValue,this.value)}},cx=class extends $n{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Bg(this.value.arrayValue,n)}},lx=class extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Bg(this.value.arrayValue,n)}},ux=class extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!DM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Bg(this.value.arrayValue,i))}};var dx=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function c4(t,e=null,n=[],i=[],r=null,o=null,a=null){return new dx(t,e,n,i,r,o,a)}function AM(t){let e=ze(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ix(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Yb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>kh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>kh(i)).join(",")),e.ce=n}return e.ce}function xM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a4(t.startAt,e.startAt)&&a4(t.endAt,e.endAt)}function hx(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function gie(t,e,n,i,r,o,a,l){return new Fh(t,e,n,i,r,o,a,l)}function L4(t){return new Fh(t)}function l4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vie(t){return t.collectionGroup!==null}function Fg(t){let e=ze(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Pi(pr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Nh(o,i))}),n.has(pr.keyField().canonicalString())||e.le.push(new Nh(pr.keyField(),i))}return e.le}function ls(t){let e=ze(t);return e.he||(e.he=yie(e,Fg(t))),e.he}function yie(t,e){if(t.limitType==="F")return c4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Nh(r.field,o)});let n=t.endAt?new Rh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Rh(t.startAt.position,t.startAt.inclusive):null;return c4(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function fx(t,e,n){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jb(t,e){return xM(ls(t),ls(e))&&t.limitType===e.limitType}function V4(t){return`${AM(ls(t))}|lt:${t.limitType}`}function Ch(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>N4(r)).join(", ")}]`),Yb(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>kh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>kh(r)).join(",")),`Target(${i})`}(ls(t))}; limitType=${t.limitType})`}function Xb(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xe.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Fg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let f=s4(a,l,d);return a.inclusive?f<=0:f<0}(i.startAt,Fg(i),r)||i.endAt&&!function(a,l,d){let f=s4(a,l,d);return a.inclusive?f>=0:f>0}(i.endAt,Fg(i),r))}(t,e)}function _ie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j4(t){return(e,n)=>{let i=!1;for(let r of Fg(t)){let o=wie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function wie(t,e,n){let i=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),f=l.data.field(o);return d!==null&&f!==null?Oh(d,f):Fe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}var gc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gh(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return x4(this.inner)}size(){return this.innerSize}};var bie=new dn(xe.comparator);function oa(){return bie}var U4=new dn(xe.comparator);function Rg(...t){let e=U4;for(let n of t)e=e.insert(n.key,n);return e}function B4(t){let e=U4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Yl(){return Lg()}function $4(){return Lg()}function Lg(){return new gc(t=>t.toString(),(t,e)=>t.isEqual(e))}var Eie=new dn(xe.comparator),Cie=new Pi(xe.comparator);function ct(...t){let e=Cie;for(let n of t)e=e.add(n);return e}var Iie=new Pi(It);function Sie(){return Iie}function H4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function z4(t){return{integerValue:""+t}}function Tie(t,e){return lie(e)?z4(e):H4(t,e)}var Lh=class{constructor(){this._=void 0}};function Die(t,e,n){return t instanceof Vh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&SM(o)&&(o=TM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof nu?G4(t,e):t instanceof iu?W4(t,e):function(r,o){let a=q4(r,o),l=u4(a)+u4(r.Ie);return nx(a)&&nx(r.Ie)?z4(l):H4(r.serializer,l)}(t,e)}function Aie(t,e,n){return t instanceof nu?G4(t,e):t instanceof iu?W4(t,e):n}function q4(t,e){return t instanceof jh?function(i){return nx(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Vh=class extends Lh{},nu=class extends Lh{constructor(e){super(),this.elements=e}};function G4(t,e){let n=K4(e);for(let i of t.elements)n.some(r=>hs(r,i))||n.push(i);return{arrayValue:{values:n}}}var iu=class extends Lh{constructor(e){super(),this.elements=e}};function W4(t,e){let n=K4(e);for(let i of t.elements)n=n.filter(r=>!hs(r,i));return{arrayValue:{values:n}}}var jh=class extends Lh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function u4(t){return ln(t.integerValue||t.doubleValue)}function K4(t){return DM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof nu&&r instanceof nu||i instanceof iu&&r instanceof iu?Ph(i.elements,r.elements,hs):i instanceof jh&&r instanceof jh?hs(i.Ie,r.Ie):i instanceof Vh&&r instanceof Vh}(t.transform,e.transform)}var px=class{constructor(e,n){this.version=e,this.transformResults=n}},hc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Uh=class{};function Q4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $g(t.key,hc.none()):new ru(t.key,t.data,hc.none());{let n=t.data,i=_o.empty(),r=new Pi(pr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new sa(t.key,i,new as(r.toArray()),hc.none())}}function Mie(t,e,n){t instanceof ru?function(r,o,a){let l=r.value.clone(),d=h4(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof sa?function(r,o,a){if(!wb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=h4(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(Y4(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vg(t,e,n,i){return t instanceof ru?function(o,a,l,d){if(!wb(o.precondition,a))return l;let f=o.value.clone(),p=f4(o.fieldTransforms,d,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof sa?function(o,a,l,d){if(!wb(o.precondition,a))return l;let f=f4(o.fieldTransforms,d,a),p=a.data;return p.setAll(Y4(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return wb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Pie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=q4(i.transform,r||null);o!=null&&(n===null&&(n=_o.empty()),n.set(i.field,o))}return n||null}function d4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ph(i,r,(o,a)=>xie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ru=class extends Uh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},sa=class extends Uh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Y4(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function h4(t,e,n){let i=new Map;Vt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,Aie(a,l,n[r]))}return i}function f4(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,Die(o,a,e))}return i}var $g=class extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},mx=class extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var gx=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Mie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Vg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Vg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=$4();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=Q4(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&Ph(this.mutations,e.mutations,(n,i)=>d4(n,i))&&Ph(this.baseMutations,e.baseMutations,(n,i)=>d4(n,i))}},vx=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Vt(e.mutations.length===i.length);let r=function(){return Eie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var yx=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _x=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Rn,mt;function Oie(t){switch(t){default:return Fe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function J4(t){if(t===void 0)return ds("GRPC error has no .code"),W.UNKNOWN;switch(t){case Rn.OK:return W.OK;case Rn.CANCELLED:return W.CANCELLED;case Rn.UNKNOWN:return W.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return W.INTERNAL;case Rn.UNAVAILABLE:return W.UNAVAILABLE;case Rn.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rn.NOT_FOUND:return W.NOT_FOUND;case Rn.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rn.ABORTED:return W.ABORTED;case Rn.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rn.DATA_LOSS:return W.DATA_LOSS;default:return Fe()}}(mt=Rn||(Rn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";var p4=null;function kie(){return new TextEncoder}var Rie=new Kl([4294967295,4294967295],0);function m4(t){let e=kie().encode(t),n=new ZB;return n.update(e),new Uint8Array(n.digest())}function g4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kl([n,i],0),new Kl([r,o],0)]}var wx=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(i<0)throw new Jl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Kl.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Kl.fromNumber(i)));return r.compare(Rie)===1&&(r=new Kl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=m4(e),[i,r]=g4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=m4(e),[i,r]=g4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Jl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xb=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Hg.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(He.min(),r,new dn(It),oa(),ct())}},Hg=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ct(),ct(),ct())}};var Ah=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Mb=class{constructor(e,n){this.targetId=e,this.fe=n}},Pb=class{constructor(e,n,i=Gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Ob=class{constructor(){this.ge=0,this.pe=y4(),this.ye=Gi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ct(),n=ct(),i=ct();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Fe()}}),new Hg(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=y4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Vt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},bx=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=oa(),this.Qe=v4(),this.Ke=new dn(It)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(hx(o))if(i===0){let a=new xe(o.path);this.We(n,a,bo.newNoDocument(a,He.min()))}else Vt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}p4?.tt(function(p,v,y,b,w){var C,I,x,R,H,D;let ee={localCacheCount:p,existenceFilterCount:v.count,databaseId:y.database,projectId:y.projectId},L=v.unchangedNames;return L&&(ee.bloomFilter={applied:w===0,hashCount:(C=L?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(R=(x=(I=L?.bits)===null||I===void 0?void 0:I.bitmap)===null||x===void 0?void 0:x.length)!==null&&R!==void 0?R:0,padding:(D=(H=L?.bits)===null||H===void 0?void 0:H.padding)!==null&&D!==void 0?D:0,mightContain:re=>{var Ce;return(Ce=b?.mightContain(re))!==null&&Ce!==void 0&&Ce}}),ee}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=mc(i).toUint8Array()}catch(d){if(d instanceof Tb)return Mh("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new wx(a,r,o)}catch(d){return Mh(d instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&hx(l.target)){let d=new xe(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,bo.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=ct();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new xb(e,n,this.Ke,this.qe,i);return this.qe=oa(),this.Qe=v4(),this.Ke=new dn(It),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ob,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pi(It),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ob),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function v4(){return new dn(xe.comparator)}function y4(){return new dn(xe.comparator)}var Nie={asc:"ASCENDING",desc:"DESCENDING"},Fie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lie={and:"AND",or:"OR"},Ex=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Cx(t,e){return t.useProto3Json||Yb(e)?e:{value:e}}function kb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vie(t,e){return kb(t,e.toTimestamp())}function us(t){return Vt(!!t),He.fromTimestamp(function(n){let i=pc(n);return new yi(i.seconds,i.nanos)}(t))}function MM(t,e){return Ix(t,e).canonicalString()}function Ix(t,e){let n=function(r){return new un(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z4(t){let e=un.fromString(t);return Vt(r$(e)),e}function Sx(t,e){return MM(t.databaseId,e.path)}function VA(t,e){let n=Z4(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(t$(n))}function e$(t,e){return MM(t.databaseId,e)}function jie(t){let e=Z4(t);return e.length===4?un.emptyPath():t$(e)}function Tx(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t$(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _4(t,e,n){return{name:Sx(t,e),fields:n.value.mapValue.fields}}function Uie(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Vt(p===void 0||typeof p=="string"),Gi.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Uint8Array),Gi.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){let p=f.code===void 0?W.UNKNOWN:J4(f.code);return new Ee(p,f.message||"")}(a);n=new Pb(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=VA(t,i.document.name),o=us(i.document.updateTime),a=i.document.createTime?us(i.document.createTime):He.min(),l=new _o({mapValue:{fields:i.document.fields}}),d=bo.newFoundDocument(r,o,a,l),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Ah(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=VA(t,i.document),o=i.readTime?us(i.readTime):He.min(),a=bo.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Ah([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=VA(t,i.document),o=i.removedTargetIds||[];n=new Ah([],o,r,null)}else{if(!("filter"in e))return Fe();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new _x(r,o),l=i.targetId;n=new Mb(l,a)}}return n}function Bie(t,e){let n;if(e instanceof ru)n={update:_4(t,e.key,e.value)};else if(e instanceof $g)n={delete:Sx(t,e.key)};else if(e instanceof sa)n={update:_4(t,e.key,e.data),updateMask:Yie(e.fieldMask)};else{if(!(e instanceof mx))return Fe();n={verify:Sx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Vh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof nu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof iu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof jh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Fe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Vie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe()}(t,e.precondition)),n}function $ie(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?us(r.updateTime):us(o);return a.isEqual(He.min())&&(a=us(o)),new px(a,r.transformResults||[])}(n,e))):[]}function Hie(t,e){return{documents:[e$(t,e.path)]}}function zie(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=e$(t,r);let o=function(f){if(f.length!==0)return i$(fs.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Ih(y.field),direction:Wie(y.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=Cx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ut:n,parent:r}}function qie(t){let e=jie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Vt(i===1);let p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){let y=n$(v);return y instanceof fs&&k4(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(y=>function(w){return new Nh(Sh(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(v){let y;return y=typeof v=="object"?v.value:v,Yb(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(v){let y=!!v.before,b=v.values||[];return new Rh(b,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){let y=!v.before,b=v.values||[];return new Rh(b,y)}(n.endAt)),gie(e,r,a,o,l,"F",d,f)}function Gie(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Sh(n.unaryFilter.field);return $n.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Sh(n.unaryFilter.field);return $n.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Sh(n.unaryFilter.field);return $n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Sh(n.unaryFilter.field);return $n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return $n.create(Sh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fs.create(n.compositeFilter.filters.map(i=>n$(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function Wie(t){return Nie[t]}function Kie(t){return Fie[t]}function Qie(t){return Lie[t]}function Ih(t){return{fieldPath:t.canonicalString()}}function Sh(t){return pr.fromServerFormat(t.fieldPath)}function i$(t){return t instanceof $n?function(n){if(n.op==="=="){if(o4(n.value))return{unaryFilter:{field:Ih(n.field),op:"IS_NAN"}};if(r4(n.value))return{unaryFilter:{field:Ih(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o4(n.value))return{unaryFilter:{field:Ih(n.field),op:"IS_NOT_NAN"}};if(r4(n.value))return{unaryFilter:{field:Ih(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ih(n.field),op:Kie(n.op),value:n.value}}}(t):t instanceof fs?function(n){let i=n.getFilters().map(r=>i$(r));return i.length===1?i[0]:{compositeFilter:{op:Qie(n.op),filters:i}}}(t):Fe()}function Yie(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var zg=class t{constructor(e,n,i,r,o=He.min(),a=He.min(),l=Gi.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Dx=class{constructor(e){this.ct=e}};function Jie(t){let e=qie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fx(e,e.limit,"L"):e}var Rb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(ln(e.integerValue));else if("doubleValue"in e){let i=ln(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),jg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(mc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?M4(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Fe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),xe.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Rb.bt=new Rb;var Ax=class{constructor(){this._n=new xx}addToCollectionParentIndex(e,n){return this._n.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(eu.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(eu.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}},xx=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Pi(un.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Pi(un.comparator)).toArray()}};var dbe=new Uint8Array(0);var ss=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(41943040,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);var qg=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Mx=class{constructor(){this.changes=new gc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Px=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ox=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Vg(i.mutation,r,as.empty(),yi.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ct()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ct()){let r=Yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=Rg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=Yl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ct()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=oa(),a=Lg(),l=function(){return Lg()}();return n.forEach((d,f)=>{let p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof sa)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Vg(p.mutation,f,p.mutation.getFieldMask(),yi.now())):a.set(f.key,as.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var v;return l.set(f,new Px(p,(v=a.get(f))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=Lg(),r=new dn((a,l)=>a-l),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let f=n.get(d);if(f===null)return;let p=i.get(d)||as.empty();p=l.applyToLocalView(f,p),i.set(d,p);let v=(r.get(l.batchId)||ct()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),f=d.key,p=d.value,v=$4();p.forEach(y=>{if(!o.has(y)){let b=Q4(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return K.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return xe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):K.resolve(Yl()),l=-1,d=o;return a.next(f=>K.forEach(f,(p,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(p)?K.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,ct())).next(p=>({batchId:l,changes:B4(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let r=Rg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=Rg();return this.indexManager.getCollectionParents(e,o).next(l=>K.forEach(l,d=>{let f=function(v,y){return new Fh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,y)=>{a=a.insert(v,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,f)=>{let p=f.getKey();a.get(p)===null&&(a=a.insert(p,bo.newInvalidDocument(p)))});let l=Rg();return a.forEach((d,f)=>{let p=o.get(d);p!==void 0&&Vg(p.mutation,f,as.empty(),yi.now()),Xb(n,f)&&(l=l.insert(d,f))}),l})}};var kx=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return K.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:us(r.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:Jie(r.bundledQuery),readTime:us(r.readTime)}}(n)),K.resolve()}};var Rx=class{constructor(){this.overlays=new dn(xe.comparator),this.hr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Yl();return K.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){let r=Yl(),o=n.length+1,a=new xe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return K.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new dn((f,p)=>f-p),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Yl(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}let l=Yl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=r)););return K.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new yx(n,i));let o=this.hr.get(n);o===void 0&&(o=ct(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var Gg=class{constructor(){this.Pr=new Pi(Nn.Ir),this.Tr=new Pi(Nn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Nn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Nn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new xe(new un([])),i=new Nn(n,e),r=new Nn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new xe(new un([])),i=new Nn(n,e),r=new Nn(n,e+1),o=ct();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Nn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Nn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return xe.comparator(e.key,n.key)||It(e.pr,n.pr)}static Er(e,n){return It(e.pr,n.pr)||xe.comparator(e.key,n.key)}};var Nx=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pi(Nn.Ir)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new gx(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new Nn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Nn(n,0),r=new Nn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Pi(It);return n.forEach(r=>{let o=new Nn(r,0),a=new Nn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),K.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;xe.isDocumentKey(o)||(o=o.child(""));let a=new Nn(new xe(o),0),l=new Pi(It);return this.wr.forEachWhile(d=>{let f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.pr)),!0)},a),K.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Vt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return K.forEach(n.mutations,r=>{let o=new Nn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Nn(n,0),r=this.wr.firstAfterOrEqual(i);return K.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fx=class{constructor(e){this.vr=e,this.docs=function(){return new dn(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():bo.newInvalidDocument(n))}getEntries(e,n){let i=oa();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():bo.newInvalidDocument(r))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=oa(),a=n.path,l=new xe(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:f,value:{document:p}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||aie(sie(p),i)<=0||(r.has(p.key)||Xb(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Fe()}Fr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Lx(this)}getSize(e){return K.resolve(this.size)}},Lx=class extends Mx{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Vx=class{constructor(e){this.persistence=e,this.Mr=new gc(n=>AM(n),xM),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gg,this.targetCount=0,this.Br=qg.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),K.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new qg(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.qn(n),K.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),K.waitFor(o).next(()=>r)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),K.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Nr.containsKey(n))}};var jx=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new A4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Vx(this),this.indexManager=new Ax,this.remoteDocumentCache=function(r){return new Fx(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Dx(n),this.$r=new kx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new Nx(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){ae("MemoryPersistence","Starting transaction:",e);let r=new Ux(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return K.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},Ux=class extends YA{constructor(e){super(),this.currentSequenceNumber=e}},Bx=class t{constructor(e){this.persistence=e,this.zr=new Gg,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Fe()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),K.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Jr,i=>{let r=xe.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,He.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return K.or([()=>K.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var $x=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ct(),r=ct();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var Hx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zx=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return aU()?8:Ib.v(Rt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new Hx;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(kg()<=ot.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ch(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),K.resolve()):(kg()<=ot.DEBUG&&ae("QueryEngine","Query:",Ch(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(kg()<=ot.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ch(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):K.resolve())}ji(e,n){if(l4(n))return K.resolve(null);let i=ls(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=fx(n,null,"F"),i=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=ct(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let f=this.Zi(n,l);return this.Xi(n,f,a,d.readTime)?this.ji(e,fx(n,null,"F")):this.es(e,f,n,d)}))})))}Hi(e,n,i,r){return l4(n)||r.isEqual(He.min())?K.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?K.resolve(null):(kg()<=ot.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ch(n)),this.es(e,a,n,oie(r,-1)).next(l=>l))})}Zi(e,n){let i=new Pi(j4(e));return n.forEach((r,o)=>{Xb(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return kg()<=ot.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ch(n)),this.zi.getDocumentsMatchingQuery(e,n,eu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var qx=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new dn(It),this.rs=new gc(o=>AM(o),xM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ox(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Xie(t,e,n,i){return new qx(t,e,n,i)}function o$(t,e){return E(this,null,function*(){let n=ze(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=ct();for(let f of r){a.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}for(let f of o){l.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(i,d).next(f=>({us:f,removedBatchIds:a,addedBatchIds:l}))})})})}function Zie(t,e){let n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,f,p){let v=f.batch,y=v.keys(),b=K.resolve();return y.forEach(w=>{b=b.next(()=>p.getEntry(d,w)).next(C=>{let I=f.docVersions.get(w);Vt(I!==null),C.version.compareTo(I)<0&&(v.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),p.addEntry(C)))})}),b.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=ct();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function s$(t){let e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ere(t,e){let n=ze(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((p,v)=>{let y=r.get(v);if(!y)return;l.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Gi.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(C,I,x){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(y,b,p)&&l.push(n.Qr.updateTargetData(o,b))});let d=oa(),f=ct();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(tre(o,a,e.documentUpdates).next(p=>{d=p.cs,f=p.ls})),!i.isEqual(He.min())){let p=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(p)}return K.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ns=r,o))}function tre(t,e,n){let i=ct(),r=ct();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=oa();return n.forEach((l,d)=>{let f=o.get(l);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):ae("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",d.version)}),{cs:a,ls:r}})}function nre(t,e){let n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ire(t,e){let n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,K.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new zg(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function Gx(t,e,n){return E(this,null,function*(){let i=ze(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Jg(a))throw a;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function w4(t,e,n){let i=ze(t),r=He.min(),o=ct();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,p){let v=ze(d),y=v.rs.get(p);return y!==void 0?K.resolve(v.ns.get(y)):v.Qr.getTargetData(f,p)}(i,a,ls(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:He.min(),n?o:ct())).next(l=>(rre(i,_ie(e),l),{documents:l,hs:o})))}function rre(t,e,n){let i=t.ss.get(e)||He.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Nb=class{constructor(){this.activeTargetIds=Sie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Wx=class{constructor(){this.no=new Nb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Nb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Kx=class{io(e){}shutdown(){}};var Fb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yb=null;function jA(){return yb===null?yb=function(){return 268435456+Math.round(2147483648*Math.random())}():yb++,"0x"+yb.toString(16)}var ore={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Qx=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Mi="WebChannelConnection",Yx=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=jA(),d=this.bo(n,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,o,a),this.Co(n,d,f,r).then(p=>(ae("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Mh("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=ore[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=jA();return new Promise((a,l)=>{let d=new XB;d.setWithCredentials(!0),d.listenOnce(YB.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case gb.NO_ERROR:let p=d.getResponseJson();ae(Mi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case gb.TIMEOUT:ae(Mi,`RPC '${e}' ${o} timed out`),l(new Ee(W.DEADLINE_EXCEEDED,"Request time out"));break;case gb.HTTP_ERROR:let v=d.getStatus();if(ae(Mi,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let w=function(I){let x=I.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(b.status);l(new Ee(w,b.message))}else l(new Ee(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ee(W.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ae(Mi,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(r);ae(Mi,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,i,15)})}Fo(e,n,i){let r=jA(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KB(),l=QB(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let p=o.join("");ae(Mi,`Creating RPC '${e}' stream ${r}: ${p}`,d);let v=a.createWebChannel(p,d),y=!1,b=!1,w=new Qx({lo:I=>{b?ae(Mi,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(y||(ae(Mi,`Opening RPC '${e}' stream ${r} transport.`),v.open(),y=!0),ae(Mi,`RPC '${e}' stream ${r} sending:`,I),v.send(I))},ho:()=>v.close()}),C=(I,x,R)=>{I.listen(x,H=>{try{R(H)}catch(D){setTimeout(()=>{throw D},0)}})};return C(v,Og.EventType.OPEN,()=>{b||ae(Mi,`RPC '${e}' stream ${r} transport opened.`)}),C(v,Og.EventType.CLOSE,()=>{b||(b=!0,ae(Mi,`RPC '${e}' stream ${r} transport closed`),w.Vo())}),C(v,Og.EventType.ERROR,I=>{b||(b=!0,Mh(Mi,`RPC '${e}' stream ${r} transport errored:`,I),w.Vo(new Ee(W.UNAVAILABLE,"The operation could not be completed")))}),C(v,Og.EventType.MESSAGE,I=>{var x;if(!b){let R=I.data[0];Vt(!!R);let H=R,D=H.error||((x=H[0])===null||x===void 0?void 0:x.error);if(D){ae(Mi,`RPC '${e}' stream ${r} received error:`,D);let ee=D.status,L=function(Ue){let Qe=Rn[Ue];if(Qe!==void 0)return J4(Qe)}(ee),re=D.message;L===void 0&&(L=W.INTERNAL,re="Unknown error status: "+ee+" with message "+D.message),b=!0,w.Vo(new Ee(L,re)),v.close()}else ae(Mi,`RPC '${e}' stream ${r} received:`,R),w.mo(R)}}),C(l,JB.STAT_EVENT,I=>{I.stat===LA.PROXY?ae(Mi,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===LA.NOPROXY&&ae(Mi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}};function UA(){return typeof document<"u"?document:null}function Zb(t){return new Ex(t,!0)}var Lb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Vb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Lb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return E(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return E(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return E(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new Ee(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>E(this,null,function*(){this.state=0,this.start()}))}__(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jx=class extends Vb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Uie(this.serializer,e),i=function(o){if(!("targetChange"in o))return He.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?us(a.readTime):He.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=Tx(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=hx(d)?{documents:Hie(o,d)}:{query:zie(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=X4(o,a.resumeToken);let f=Cx(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(He.min())>0){l.readTime=kb(o,a.snapshotVersion.toTimestamp());let f=Cx(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);let i=Gie(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=Tx(this.serializer),n.removeTarget=e,this.t_(n)}},Xx=class extends Vb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=$ie(e.writeResults,e.commitTime),i=us(e.commitTime);return this.listener.T_(i,n)}return Vt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Tx(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Bie(this.serializer,i))};this.t_(n)}};var Zx=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ee(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,Ix(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(W.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,Ix(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(W.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var eM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ds(n),this.g_=!1):ae("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var tM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>E(this,null,function*(){ou(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield function(d){return E(this,null,function*(){let f=ze(d);f.v_.add(4),yield Xg(f),f.x_.set("Unknown"),f.v_.delete(4),yield eE(f)})}(this))}))}),this.x_=new eM(i,r)}};function eE(t){return E(this,null,function*(){if(ou(t))for(let e of t.F_)yield e(!0)})}function Xg(t){return E(this,null,function*(){for(let e of t.F_)yield e(!1)})}function a$(t,e){let n=ze(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),kM(n)?OM(n):Wh(n).Jo()&&PM(n,e))}function c$(t,e){let n=ze(t),i=Wh(n);n.C_.delete(e),i.Jo()&&l$(n,e),n.C_.size===0&&(i.Jo()?i.Xo():ou(n)&&n.x_.set("Unknown"))}function PM(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wh(t).c_(e)}function l$(t,e){t.O_.Oe(e),Wh(t).l_(e)}function OM(t){t.O_=new bx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Wh(t).start(),t.x_.p_()}function kM(t){return ou(t)&&!Wh(t).Ho()&&t.C_.size>0}function ou(t){return ze(t).v_.size===0}function u$(t){t.O_=void 0}function sre(t){return E(this,null,function*(){t.C_.forEach((e,n)=>{PM(t,e)})})}function are(t,e){return E(this,null,function*(){u$(t),kM(t)?(t.x_.S_(e),OM(t)):t.x_.set("Unknown")})}function cre(t,e,n){return E(this,null,function*(){if(t.x_.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{yield function(r,o){return E(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield jb(t,i)}else if(e instanceof Ah?t.O_.$e(e):e instanceof Mb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(He.min()))try{let i=yield s$(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){let p=o.C_.get(f);p&&o.C_.set(f,p.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,f)=>{let p=o.C_.get(d);if(!p)return;o.C_.set(d,p.withResumeToken(Gi.EMPTY_BYTE_STRING,p.snapshotVersion)),l$(o,d);let v=new zg(p.target,d,f,p.sequenceNumber);PM(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),yield jb(t,i)}})}function jb(t,e,n){return E(this,null,function*(){if(!Jg(e))throw e;t.v_.add(1),yield Xg(t),t.x_.set("Offline"),n||(n=()=>s$(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){ae("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield eE(t)}))})}function d$(t,e){return e().catch(n=>jb(t,n,e))}function tE(t){return E(this,null,function*(){let e=ze(t),n=vc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;lre(e);)try{let r=yield nre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,ure(e,r)}catch(r){yield jb(e,r)}h$(e)&&f$(e)})}function lre(t){return ou(t)&&t.D_.length<10}function ure(t,e){t.D_.push(e);let n=vc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function h$(t){return ou(t)&&!vc(t).Ho()&&t.D_.length>0}function f$(t){vc(t).start()}function dre(t){return E(this,null,function*(){vc(t).d_()})}function hre(t){return E(this,null,function*(){let e=vc(t);for(let n of t.D_)e.I_(n.mutations)})}function fre(t,e,n){return E(this,null,function*(){let i=t.D_.shift(),r=vx.from(i,e,n);yield d$(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield tE(t)})}function pre(t,e){return E(this,null,function*(){e&&vc(t).P_&&(yield function(i,r){return E(this,null,function*(){if(function(a){return Oie(a)&&a!==W.ABORTED}(r.code)){let o=i.D_.shift();vc(i).Zo(),yield d$(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield tE(i)}})}(t,e)),h$(t)&&f$(t)})}function b4(t,e){return E(this,null,function*(){let n=ze(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");let i=ou(n);n.v_.add(3),yield Xg(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield eE(n)})}function mre(t,e){return E(this,null,function*(){let n=ze(t);e?(n.v_.delete(2),yield eE(n)):e||(n.v_.add(2),yield Xg(n),n.x_.set("Unknown"))})}function Wh(t){return t.N_||(t.N_=function(n,i,r){let o=ze(n);return o.R_(),new Jx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:sre.bind(null,t),To:are.bind(null,t),u_:cre.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.N_.Zo(),kM(t)?OM(t):t.x_.set("Unknown")):(yield t.N_.stop(),u$(t))}))),t.N_}function vc(t){return t.B_||(t.B_=function(n,i,r){let o=ze(n);return o.R_(),new Xx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:dre.bind(null,t),To:pre.bind(null,t),E_:hre.bind(null,t),T_:fre.bind(null,t)}),t.F_.push(e=>E(this,null,function*(){e?(t.B_.Zo(),yield tE(t)):(yield t.B_.stop(),t.D_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var nM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RM(t,e){if(ds("AsyncQueue",`${e}: ${t}`),Jg(t))return new Ee(W.UNAVAILABLE,`${e}: ${t}`);throw t}var Ub=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Rg(),this.sortedSet=new dn(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Bb=class{constructor(){this.L_=new dn(xe.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Fe():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Bh=class t{constructor(e,n,i,r,o,a,l,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Ub.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var iM=class{constructor(){this.q_=void 0,this.Q_=[]}},rM=class{constructor(){this.queries=new gc(e=>V4(e),Jb),this.onlineState="Unknown",this.K_=new Set}};function gre(t,e){return E(this,null,function*(){let n=ze(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new iM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=RM(a,`Initialization of query '${Ch(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&NM(n)})}function vre(t,e){return E(this,null,function*(){let n=ze(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function yre(t,e){let n=ze(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&NM(n)}function _re(t,e,n){let i=ze(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function NM(t){t.K_.forEach(e=>{e.next()})}var oM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Bh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var $b=class{constructor(e){this.key=e}},Hb=class{constructor(e){this.key=e}},sM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ct(),this.mutatedKeys=ct(),this.ua=j4(e),this.ca=new Ub(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new Bb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{let y=r.get(p),b=Xb(this.query,v)?v:null,w=!!y&&this.mutatedKeys.has(y.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),I=!1;y&&b?y.data.isEqual(b.data)?w!==C&&(i.track({type:3,doc:b}),I=!0):this.Ia(y,b)||(i.track({type:2,doc:b}),I=!0,(d&&this.ua(b,d)>0||f&&this.ua(b,f)<0)&&(l=!0)):!y&&b?(i.track({type:0,doc:b}),I=!0):y&&!b&&(i.track({type:1,doc:y}),I=!0,(d||f)&&(l=!0)),I&&(b?(a=a.add(b),o=C?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((p,v)=>function(b,w){let C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return C(b)-C(w)}(p.type,v.type)||this.ua(p.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,f=d!==this._a;return this._a=d,a.length!==0||f?{snapshot:new Bh(this.query,e.ca,o,a,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Bb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ct(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Hb(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new $b(i))}),n}Ra(e){this.oa=e.hs,this.aa=ct();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Bh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},aM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},cM=class{constructor(e){this.key=e,this.ma=!1}},lM=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new gc(l=>V4(l),Jb),this.pa=new Map,this.ya=new Set,this.wa=new dn(xe.comparator),this.Sa=new Map,this.ba=new Gg,this.Da={},this.Ca=new Map,this.va=qg.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function wre(t,e){return E(this,null,function*(){let n=Mre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield ire(n.localStore,ls(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield bre(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&a$(n.remoteStore,a)}return r})}function bre(t,e,n,i,r){return E(this,null,function*(){t.Ma=(v,y,b)=>function(C,I,x,R){return E(this,null,function*(){let H=I.view.ha(x);H.Xi&&(H=yield w4(C.localStore,I.query,!1).then(({documents:re})=>I.view.ha(re,H)));let D=R&&R.targetChanges.get(I.targetId),ee=R&&R.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(H,C.isPrimaryClient,D,ee);return C4(C,I.targetId,L.da),L.snapshot})}(t,v,y,b);let o=yield w4(t.localStore,e,!0),a=new sM(e,o.hs),l=a.ha(o.documents),d=Hg.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(l,t.isPrimaryClient,d);C4(t,n,f.da);let p=new aM(e,n,a);return t.ga.set(e,p),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),f.snapshot})}function Ere(t,e){return E(this,null,function*(){let n=ze(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!Jb(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),c$(n.remoteStore,i.targetId),uM(n,i.targetId)}).catch(Yg))):(uM(n,i.targetId),yield Gx(n.localStore,i.targetId,!0))})}function Cre(t,e,n){return E(this,null,function*(){let i=Pre(t);try{let r=yield function(a,l){let d=ze(a),f=yi.now(),p=l.reduce((b,w)=>b.add(w.key),ct()),v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=oa(),C=ct();return d.os.getEntries(b,p).next(I=>{w=I,w.forEach((x,R)=>{R.isValidDocument()||(C=C.add(x))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,w)).next(I=>{v=I;let x=[];for(let R of l){let H=Pie(R,v.get(R.key).overlayedDocument);H!=null&&x.push(new sa(R.key,H,P4(H.value.mapValue),hc.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,x,l)}).next(I=>{y=I;let x=I.applyToLocalDocumentSet(v,C);return d.documentOverlayCache.saveOverlays(b,I.batchId,x)})}).then(()=>({batchId:y.batchId,changes:B4(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let f=a.Da[a.currentUser.toKey()];f||(f=new dn(It)),f=f.insert(l,d),a.Da[a.currentUser.toKey()]=f}(i,r.batchId,n),yield Zg(i,r.changes),yield tE(i.remoteStore)}catch(r){let o=RM(r,"Failed to persist write");n.reject(o)}})}function p$(t,e){return E(this,null,function*(){let n=ze(t);try{let i=yield ere(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Vt(a.ma):r.removedDocuments.size>0&&(Vt(a.ma),a.ma=!1))}),yield Zg(n,i,e)}catch(i){yield Yg(i)}})}function E4(t,e,n){let i=ze(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=ze(a);d.onlineState=l;let f=!1;d.queries.forEach((p,v)=>{for(let y of v.Q_)y.U_(l)&&(f=!0)}),f&&NM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Ire(t,e,n){return E(this,null,function*(){let i=ze(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new dn(xe.comparator);a=a.insert(o,bo.newNoDocument(o,He.min()));let l=ct().add(o),d=new xb(He.min(),new Map,new dn(It),a,l);yield p$(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),FM(i)}else yield Gx(i.localStore,e,!1).then(()=>uM(i,e,n)).catch(Yg)})}function Sre(t,e){return E(this,null,function*(){let n=ze(t),i=e.batch.batchId;try{let r=yield Zie(n.localStore,e);g$(n,i,null),m$(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Zg(n,r)}catch(r){yield Yg(r)}})}function Tre(t,e,n){return E(this,null,function*(){let i=ze(t);try{let r=yield function(a,l){let d=ze(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,l).next(v=>(Vt(v!==null),p=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,e);g$(i,e,n),m$(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Zg(i,r)}catch(r){yield Yg(r)}})}function m$(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function g$(t,e,n){let i=ze(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function uM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||v$(t,i)})}function v$(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(c$(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),FM(t))}function C4(t,e,n){for(let i of n)i instanceof $b?(t.ba.addReference(i.key,e),Dre(t,i)):i instanceof Hb?(ae("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||v$(t,i.key)):Fe()}function Dre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(ae("SyncEngine","New document in limbo: "+n),t.ya.add(i),FM(t))}function FM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new xe(un.fromString(e)),i=t.va.next();t.Sa.set(i,new cM(n)),t.wa=t.wa.insert(n,i),a$(t.remoteStore,new zg(ls(L4(n.path)),i,"TargetPurposeLimboResolution",A4._e))}}function Zg(t,e,n){return E(this,null,function*(){let i=ze(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);let p=$x.Ki(d.targetId,f);o.push(p)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,f){return E(this,null,function*(){let p=ze(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(f,y=>K.forEach(y.qi,b=>p.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.Qi,b=>p.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!Jg(v))throw v;ae("LocalStore","Failed to update sequence numbers: "+v)}for(let v of f){let y=v.targetId;if(!v.fromCache){let b=p.ns.get(y),w=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(w);p.ns=p.ns.insert(y,C)}}})}(i.localStore,o))})}function Are(t,e){return E(this,null,function*(){let n=ze(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());let i=yield o$(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new Ee(W.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zg(n,i.us)}})}function xre(t,e){let n=ze(t),i=n.Sa.get(e);if(i&&i.ma)return ct().add(i.key);{let r=ct(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Mre(t){let e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ire.bind(null,e),e.fa.u_=yre.bind(null,e.eventManager),e.fa.xa=_re.bind(null,e.eventManager),e}function Pre(t){let e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tre.bind(null,e),e}var zb=class{constructor(){this.synchronizeTabs=!1}initialize(e){return E(this,null,function*(){this.serializer=Zb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Xie(this.persistence,new zx,e.initialUser,this.serializer)}createPersistence(e){return new jx(Bx.Hr,this.serializer)}createSharedClientState(e){return new Wx}terminate(){return E(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var dM=class{initialize(e,n){return E(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>E4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Are.bind(null,this.syncEngine),yield mre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new rM}()}createDatastore(e){let n=Zb(e.databaseInfo.databaseId),i=function(o){return new Yx(o)}(e.databaseInfo);return function(o,a,l,d){return new Zx(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new tM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>E4(this.syncEngine,n,0),function(){return Fb.D()?new Fb:new Kx}())}createSyncEngine(e,n){return function(r,o,a,l,d,f,p){let v=new lM(r,o,a,l,d,f);return p&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return E(this,null,function*(){var e;yield function(i){return E(this,null,function*(){let r=ze(i);ae("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield Xg(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var hM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var fM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ci.UNAUTHENTICATED,this.clientId=Eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>E(this,null,function*(){ae("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=RM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function BA(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>E(this,null,function*(){i.isEqual(r)||(yield o$(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function I4(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kre(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>b4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>b4(e.remoteStore,r)),t._onlineComponents=e})}function Ore(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function kre(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BA(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Ore(n))throw n;Mh("Error using user provided cache. Falling back to memory cache: "+n),yield BA(t,new zb)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield BA(t,new zb);return t._offlineComponents})}function y$(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield I4(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield I4(t,new dM))),t._onlineComponents})}function Rre(t){return y$(t).then(e=>e.syncEngine)}function Nre(t){return E(this,null,function*(){let e=yield y$(t),n=e.eventManager;return n.onListen=wre.bind(null,e.syncEngine),n.onUnlisten=Ere.bind(null,e.syncEngine),n})}function Fre(t,e,n={}){let i=new wo;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(o,a,l,d,f){let p=new hM({next:y=>{a.enqueueAndForget(()=>vre(o,v)),y.fromCache&&d.source==="server"?f.reject(new Ee(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new oM(l,p,{includeMetadataChanges:!0,Z_:!0});return gre(o,v)}(yield Nre(t),t.asyncQueue,e,n,i)})),i.promise}function _$(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var S4=new Map;function w$(t,e,n){if(!n)throw new Ee(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lre(t,e,n,i){if(e===!0&&i===!0)throw new Ee(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T4(t){if(!xe.isDocumentKey(t))throw new Ee(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D4(t){if(xe.isDocumentKey(t))throw new Ee(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function $h(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=LM(t);throw new Ee(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var qb=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_$((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ee(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new $A;switch(i.type){case"firstParty":return new GA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=S4.get(n);i&&(ae("ComponentProvider","Removing Datastore"),S4.delete(n),i.terminate())}(this),Promise.resolve()}};function b$(t,e,n,i={}){var r;let o=(t=$h(t,Hh))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Mh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=ci.MOCK_USER;else{l=rU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ee(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ci(f)}t._authCredentials=new HA(new bb(l,d))}}var Gb=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Rr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},fc=class t extends Gb{constructor(e,n,i){super(e,n,L4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new xe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function E$(t,e,...n){if(t=We(t),w$("collection","path",e),t instanceof Hh){let i=un.fromString(e,...n);return D4(i),new fc(t,null,i)}{if(!(t instanceof Rr||t instanceof fc))throw new Ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(un.fromString(e,...n));return D4(i),new fc(t.firestore,null,i)}}function C$(t,e,...n){if(t=We(t),arguments.length===1&&(e=Eb.newId()),w$("doc","path",e),t instanceof Hh){let i=un.fromString(e,...n);return T4(i),new Rr(t,null,new xe(i))}{if(!(t instanceof Rr||t instanceof fc))throw new Ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(un.fromString(e,...n));return T4(i),new Rr(t.firestore,t instanceof fc?t.converter:null,new xe(i))}}var pM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Lb(this,"async_queue_retry"),this._u=()=>{let n=UA();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=UA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=UA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new wo;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Jg(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw ds("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=nM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&Fe()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var zh=class extends Hh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new pM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||T$(this),this._firestoreClient.terminate()}};function I$(t,e){let n=typeof t=="object"?t:Al(),i=typeof t=="string"?t:e||"(default)",r=Dl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=iU("firestore");o&&b$(r,...o)}return r}function S$(t){return t._firestoreClient||T$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function T$(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,f,p){return new ex(l,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_$(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new fM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Wg=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Gi.fromBase64String(e))}catch(n){throw new Ee(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Kg=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wb=class{constructor(e){this._methodName=e}};var Qg=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}};var Vre=/^__.*__$/,mM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}};function D$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}var gM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Kb(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(D$(this.du)&&Vre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},vM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zb(e)}Su(e,n,i,r=!1){return new gM({du:e,methodName:n,wu:i,path:pr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function jre(t){let e=t._freezeSettings(),n=Zb(t._databaseId);return new vM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ure(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);P$("Data must be an object, but it was:",a,i);let l=x$(i,a),d,f;if(o.merge)d=new as(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){let p=[];for(let v of o.mergeFields){let y=Bre(e,v,n);if(!a.contains(y))throw new Ee(W.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Hre(p,y)||p.push(y)}d=new as(p),f=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=a.fieldTransforms;return new mM(new _o(l),d,f)}function A$(t,e){if(M$(t=We(t)))return P$("Unsupported field value:",e,t),x$(t,e);if(t instanceof Wb)return function(i,r){if(!D$(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=A$(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=We(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Tie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=yi.fromDate(i);return{timestampValue:kb(r.serializer,o)}}if(i instanceof yi){let o=new yi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kb(r.serializer,o)}}if(i instanceof Qg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wg)return{bytesValue:X4(r.serializer,i._byteString)};if(i instanceof Rr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${LM(i)}`)}(t,e)}function x$(t,e){let n={};return x4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gh(t,(i,r)=>{let o=A$(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function M$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yi||t instanceof Qg||t instanceof Wg||t instanceof Rr||t instanceof Wb)}function P$(t,e,n){if(!M$(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=LM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Bre(t,e,n){if((e=We(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return O$(t,e);throw Kb("Field path arguments must be of type string or ",t,!1,void 0,n)}var $re=new RegExp("[~\\*/\\[\\]]");function O$(t,e,n){if(e.search($re)>=0)throw Kb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kg(...e.split("."))._internalPath}catch{throw Kb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kb(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Ee(W.INVALID_ARGUMENT,l+t+d)}function Hre(t,e){return t.some(n=>n.isEqual(e))}var Qb=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(k$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},yM=class extends Qb{data(){return super.data()}};function k$(t,e){return typeof e=="string"?O$(t,e):e instanceof Kg?e._internalPath:e._delegate._internalPath}function zre(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _M=class{convertValue(e,n="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Gh(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Qg(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=TM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ug(e));default:return null}}convertTimestamp(e){let n=pc(e);return new yi(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=un.fromString(e);Vt(r$(i));let r=new Db(i.get(1),i.get(3)),o=new xe(i.popFirst(5));return r.isEqual(n)||ds(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function qre(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Dh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wM=class extends Qb{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(k$("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},xh=class extends wM{data(e={}){return super.data(e)}},bM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Dh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new xh(this._firestore,this._userDataWriter,i.key,i,new Dh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new xh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new xh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,p=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:Gre(l.type),doc:d,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Gre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}var EM=class extends _M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wg(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}};function R$(t){t=$h(t,Gb);let e=$h(t.firestore,zh),n=S$(e),i=new EM(e);return zre(t._query),Fre(n,t._query).then(r=>new bM(e,i,t,r))}function N$(t,e,n){t=$h(t,Rr);let i=$h(t.firestore,zh),r=qre(t.converter,e,n);return L$(i,[Ure(jre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,hc.none())])}function F$(t){return L$($h(t.firestore,zh),[new $g(t._key,hc.none())])}function L$(t,e){return function(i,r){let o=new wo;return i.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return Cre(yield Rre(i),r,o)})),o.promise}(S$(t),e)}(function(e,n=!0){(function(r){qh=r})(ho),uo(new Ti("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new zh(new zA(i.getProvider("auth-internal")),new KA(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ee(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Db(f.options.projectId,p)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Kt(e4,"4.4.3",e),Kt(e4,"4.4.3","esm2017")})();var su=class{constructor(e){return e}},V$="firestore",VM=class{constructor(){return pm(V$)}};var jM=new we("angularfire2.firestore-instances");function Wre(t,e){let n=uw(V$,t,e);return n&&new su(n)}function Kre(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new su(i)}}var Qre={provide:VM,deps:[[new $i,jM]]},Yre={provide:su,useFactory:Wre,deps:[[new $i,jM],Ys]},Jre=(()=>{class t{constructor(){Kt("angularfire",Ml.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ui({type:t});static \u0275inj=Bi({providers:[Yre,Qre]})}return t})();function j$(t,...e){return{ngModule:Jre,providers:[{provide:jM,useFactory:Kre(t),multi:!0,deps:[ft,on,ih,Pl,[new $i,lg],[new $i,nh],...e]}]}}var U$=fo(E$,!0);var B$=fo(F$,!0);var UM=fo(C$,!0);var $$=fo(R$,!0);var H$=fo(I$,!0);var z$=fo(N$,!0);var HM=class extends W0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zM=class t extends HM{static makeCurrent(){Fj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zre();return n==null?null:eoe(n)}resetBaseElement(){ev=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return K0(document.cookie,e)}},ev=null;function Zre(){return ev=ev||document.querySelector("base"),ev?ev.getAttribute("href"):null}function eoe(t){return new URL(t,document.baseURI).pathname}var toe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),qM=new we(""),W$=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(oe(qM),oe(ft))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),nE=class{constructor(e){this._doc=e}},BM="ng-app-id",K$=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=em(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${BM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(BM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(BM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(oe(mi),oe(GT),oe(QT,8),oe(Sr))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),$M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},WM=/%COMP%/g,Q$="%COMP%",noe=`_nghost-${Q$}`,ioe=`_ngcontent-${Q$}`,roe=!0,ooe=new we("",{providedIn:"root",factory:()=>roe});function soe(t){return ioe.replace(WM,t)}function aoe(t){return noe.replace(WM,t)}function Y$(t,e){return e.map(n=>n.replace(WM,t))}var iE=(()=>{let e=class e{constructor(i,r,o,a,l,d,f,p=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=em(d),this.defaultRenderer=new tv(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ho.ShadowDom&&(r=vt(te({},r),{encapsulation:Ho.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof rE?o.applyToHost(i):o instanceof nv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Ho.Emulated:a=new rE(f,p,r,this.appId,v,l,d,y);break;case Ho.ShadowDom:return new GM(f,p,i,r,l,d,this.nonce,y);default:a=new nv(f,p,r,v,l,d,y);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(oe(W$),oe(K$),oe(GT),oe(ooe),oe(mi),oe(Sr),oe(ft),oe(QT))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),tv=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($M[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(q$(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(q$(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Z(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=$M[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=$M[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Us.DashCase|Us.Important)?e.style.setProperty(n,i,r&Us.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Us.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ws().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function q$(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var GM=class extends tv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Y$(r.id,r.styles);for(let p of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=p,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nv=class extends tv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?Y$(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rE=class extends nv{constructor(e,n,i,r,o,a,l,d){let f=r+"-"+i.id;super(e,n,i,o,a,l,d,f),this.contentAttr=soe(f),this.hostAttr=aoe(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},coe=(()=>{let e=class e extends nE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(oe(mi))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),G$=["alt","control","meta","shift"],loe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uoe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},doe=(()=>{let e=class e extends nE{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ws().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),G$.forEach(p=>{let v=r.indexOf(p);v>-1&&(r.splice(v,1),l+=p+".")}),l+=a,r.length!=0||a.length===0)return null;let f={};return f.domEventName=o,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let o=loe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),G$.forEach(l=>{if(l!==o){let d=uoe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(oe(mi))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function J$(t,e){return xj(te({rootComponent:t},hoe(e)))}function hoe(t){return{appProviders:[...voe,...t?.providers??[]],platformProviders:goe}}function foe(){zM.makeCurrent()}function poe(){return new Wo}function moe(){return TV(document),document}var goe=[{provide:Sr,useValue:Uj},{provide:WT,useValue:foe,multi:!0},{provide:mi,useFactory:moe,deps:[]}];var voe=[{provide:x0,useValue:"root"},{provide:Wo,useFactory:poe,deps:[]},{provide:qM,useClass:coe,multi:!0,deps:[mi,ft,Sr]},{provide:qM,useClass:doe,multi:!0,deps:[mi]},iE,K$,W$,{provide:ul,useExisting:iE},{provide:Jd,useClass:toe,deps:[]},[]];var X$=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(oe(mi))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=oe(yoe),o},providedIn:"root"});let t=e;return t})(),yoe=(()=>{let e=class e extends KM{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Qo.NONE:return r;case Qo.HTML:return Ya(r,"HTML")?Tr(r):m3(this._doc,String(r)).toString();case Qo.STYLE:return Ya(r,"Style")?Tr(r):r;case Qo.SCRIPT:if(Ya(r,"Script"))return Tr(r);throw new Z(5200,!1);case Qo.URL:return Ya(r,"URL")?Tr(r):k0(String(r));case Qo.RESOURCE_URL:if(Ya(r,"ResourceURL"))return Tr(r);throw new Z(5201,!1);default:throw new Z(5202,!1)}}bypassSecurityTrustHtml(i){return s3(i)}bypassSecurityTrustStyle(i){return a3(i)}bypassSecurityTrustScript(i){return c3(i)}bypassSecurityTrustUrl(i){return l3(i)}bypassSecurityTrustResourceUrl(i){return u3(i)}};e.\u0275fac=function(r){return new(r||e)(oe(mi))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(qe||{}),ps="*";function Nr(t,e){return{type:qe.Trigger,name:t,definitions:e,options:{}}}function Hn(t,e=null){return{type:qe.Animate,styles:e,timings:t}}function e5(t,e=null){return{type:qe.Sequence,steps:t,options:e}}function Xe(t){return{type:qe.Style,styles:t,offset:null}}function t5(t,e,n){return{type:qe.State,name:t,styles:e,options:n}}function In(t,e,n=null){return{type:qe.Transition,expr:t,animation:e,options:n}}var yc=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},iv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},oE="!";function n5(t){return new Z(3e3,!1)}function _oe(){return new Z(3100,!1)}function woe(){return new Z(3101,!1)}function boe(t){return new Z(3001,!1)}function Eoe(t){return new Z(3003,!1)}function Coe(t){return new Z(3004,!1)}function Ioe(t,e){return new Z(3005,!1)}function Soe(){return new Z(3006,!1)}function Toe(){return new Z(3007,!1)}function Doe(t,e){return new Z(3008,!1)}function Aoe(t){return new Z(3002,!1)}function xoe(t,e,n,i,r){return new Z(3010,!1)}function Moe(){return new Z(3011,!1)}function Poe(){return new Z(3012,!1)}function Ooe(){return new Z(3200,!1)}function koe(){return new Z(3202,!1)}function Roe(){return new Z(3013,!1)}function Noe(t){return new Z(3014,!1)}function Foe(t){return new Z(3015,!1)}function Loe(t){return new Z(3016,!1)}function Voe(t,e){return new Z(3404,!1)}function joe(t){return new Z(3502,!1)}function Uoe(t){return new Z(3503,!1)}function Boe(){return new Z(3300,!1)}function $oe(t){return new Z(3504,!1)}function Hoe(t){return new Z(3301,!1)}function zoe(t,e){return new Z(3302,!1)}function qoe(t){return new Z(3303,!1)}function Goe(t,e){return new Z(3400,!1)}function Woe(t){return new Z(3401,!1)}function Koe(t){return new Z(3402,!1)}function Qoe(t,e){return new Z(3505,!1)}function _c(t){switch(t.length){case 0:return new yc;case 1:return t[0];default:return new iv(t)}}function g5(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let f=d.get("offset"),p=f==a,v=p&&l||new Map;d.forEach((y,b)=>{let w=b,C=y;if(b!=="offset")switch(w=t.normalizePropertyName(w,r),C){case oE:C=n.get(b);break;case ps:C=i.get(b);break;default:C=t.normalizeStyleValue(b,w,C,r);break}v.set(w,C)}),p||o.push(v),l=v,a=f}),r.length)throw joe(r);return o}function vP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&QM(n,"start",t)));break;case"done":t.onDone(()=>i(n&&QM(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&QM(n,"destroy",t)));break}}function QM(t,e,n){let i=n.totalTime,r=!!n.disabled,o=yP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function yP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function gr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function i5(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var Yoe=typeof document>"u"?null:document.documentElement;function _P(t){let e=t.parentNode||t.host||null;return e===Yoe?null:e}function Joe(t){return t.substring(1,6)=="ebkit"}var au=null,r5=!1;function Xoe(t){au||(au=Zoe()||{},r5=au.style?"WebkitAppearance"in au.style:!1);let e=!0;return au.style&&!Joe(t)&&(e=t in au.style,!e&&r5&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in au.style)),e}function Zoe(){return typeof document<"u"?document.body:null}function v5(t,e){for(;e;){if(e===t)return!0;e=_P(e)}return!1}function y5(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var wP=(()=>{let e=class e{validateStyleProperty(i){return Xoe(i)}matchesElement(i,r){return!1}containsElement(i,r){return v5(i,r)}getParentElement(i){return _P(i)}query(i,r,o){return y5(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],f){return new yc(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})(),IP=class IP{};IP.NOOP=new wP;var uu=IP,du=class{};var ese=1e3,_5="{{",tse="}}",w5="ng-enter",tP="ng-leave",sE="ng-trigger",dE=".ng-trigger",o5="ng-animating",nP=".ng-animating";function aa(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iP(parseFloat(e[1]),e[2])}function iP(t,e){switch(e){case"s":return t*ese;default:return t}}function hE(t,e,n){return t.hasOwnProperty("duration")?t:nse(t,e,n)}function nse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(n5(t)),{duration:0,delay:0,easing:""};r=iP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=iP(parseFloat(d),l[4]));let f=l[5];f&&(a=f)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(_oe()),l=!0),o<0&&(e.push(woe()),l=!0),l&&e.splice(d,0,n5(t))}return{duration:r,delay:o,easing:a}}function ise(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function ms(t,e,n){e.forEach((i,r)=>{let o=bP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function lu(t,e){e.forEach((n,i)=>{let r=bP(i);t.style[r]=""})}function rv(t){return Array.isArray(t)?t.length==1?t[0]:e5(t):t}function rse(t,e,n){let i=e.params||{},r=b5(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(boe(o))})}var rP=new RegExp(`${_5}\\s*(.+?)\\s*${tse}`,"g");function b5(t){let e=[];if(typeof t=="string"){let n;for(;n=rP.exec(t);)e.push(n[1]);rP.lastIndex=0}return e}function sv(t,e,n){let i=`${t}`,r=i.replace(rP,(o,a)=>{let l=e[a];return l==null&&(n.push(Eoe(a)),l=""),l.toString()});return r==i?t:r}var ose=/-+([a-z0-9])/g;function bP(t){return t.replace(ose,(...e)=>e[1].toUpperCase())}function sse(t,e){return t===0||e===0}function ase(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,EP(t,l)))}}return e}function mr(t,e,n){switch(e.type){case qe.Trigger:return t.visitTrigger(e,n);case qe.State:return t.visitState(e,n);case qe.Transition:return t.visitTransition(e,n);case qe.Sequence:return t.visitSequence(e,n);case qe.Group:return t.visitGroup(e,n);case qe.Animate:return t.visitAnimate(e,n);case qe.Keyframes:return t.visitKeyframes(e,n);case qe.Style:return t.visitStyle(e,n);case qe.Reference:return t.visitReference(e,n);case qe.AnimateChild:return t.visitAnimateChild(e,n);case qe.AnimateRef:return t.visitAnimateRef(e,n);case qe.Query:return t.visitQuery(e,n);case qe.Stagger:return t.visitStagger(e,n);default:throw Coe(e.type)}}function EP(t,e){return window.getComputedStyle(t)[e]}var cse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),fE=class extends du{normalizePropertyName(e,n){return bP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(cse.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Ioe(e,i))}return a+o}};var pE="*";function lse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>use(i,n,e)):n.push(t),n}function use(t,e,n){if(t[0]==":"){let d=dse(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(Foe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(s5(r,a));let l=r==pE&&a==pE;o[0]=="<"&&!l&&e.push(s5(a,r))}function dse(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Loe(t)),"* => *"}}var aE=new Set(["true","1"]),cE=new Set(["false","0"]);function s5(t,e){let n=aE.has(t)||cE.has(t),i=aE.has(e)||cE.has(e);return(r,o)=>{let a=t==pE||t==r,l=e==pE||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?aE.has(t):cE.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?aE.has(e):cE.has(e)),a&&l}}var E5=":self",hse=new RegExp(`s*${E5}s*,?`,"g");function C5(t,e,n,i){return new oP(t).build(e,n,i)}var a5="",oP=class{constructor(e){this._driver=e}build(e,n,i){let r=new sP(n);return this._resetContextStyleTimingState(r),mr(this,rv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=a5,e.collectedStyles=new Map,e.collectedStyles.set(a5,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Soe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==qe.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(p=>{d.name=p,o.push(this.visitState(d,n))}),d.name=f}else if(l.type==qe.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(Toe())}),{type:qe.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{b5(d).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&n.errors.push(Doe(e.name,[...o.values()]))}return{type:qe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=mr(this,rv(e.animation),n),r=lse(e.expr,n.errors);return{type:qe.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:cu(e.options)}}visitSequence(e,n){return{type:qe.Sequence,steps:e.steps.map(i=>mr(this,i,n)),options:cu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=mr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:qe.Group,steps:o,options:cu(e.options)}}visitAnimate(e,n){let i=gse(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:Xe({});if(o.type==qe.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let f={};i.easing&&(f.easing=i.easing),a=Xe(f)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:qe.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===ps?i.push(l):n.errors.push(Aoe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(_5)>=0){o=!0;break}}}),{type:qe.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let f=n.collectedStyles.get(n.currentQuerySelector),p=f.get(d),v=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(n.errors.push(xoe(d,p.startTime,p.endTime,o,r)),v=!1),o=p.startTime),v&&f.set(d,{startTime:o,endTime:r}),n.options&&rse(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:qe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Moe()),i;let r=1,o=0,a=[],l=!1,d=!1,f=0,p=e.steps.map(x=>{let R=this._makeStyleAst(x,n),H=R.offset!=null?R.offset:mse(R.styles),D=0;return H!=null&&(o++,D=R.offset=H),d=d||D<0||D>1,l=l||D<f,f=D,a.push(D),R});d&&n.errors.push(Poe()),l&&n.errors.push(Ooe());let v=e.steps.length,y=0;o>0&&o<v?n.errors.push(koe()):o==0&&(y=r/(v-1));let b=v-1,w=n.currentTime,C=n.currentAnimateTimings,I=C.duration;return p.forEach((x,R)=>{let H=y>0?R==b?1:y*R:a[R],D=H*I;n.currentTime=w+C.delay+D,C.duration=D,this._validateStyleAst(x,n),x.offset=H,i.styles.push(x)}),i}visitReference(e,n){return{type:qe.Reference,animation:mr(this,rv(e.animation),n),options:cu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:qe.AnimateChild,options:cu(e.options)}}visitAnimateRef(e,n){return{type:qe.AnimateRef,animation:this.visitReference(e.animation,n),options:cu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=fse(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,gr(n.collectedStyles,n.currentQuerySelector,new Map);let l=mr(this,rv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:qe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:cu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Roe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:hE(e.timings,n.errors,!0);return{type:qe.Stagger,animation:mr(this,rv(e.animation),n),timings:i,options:null}}};function fse(t){let e=!!t.split(/\s*,\s*/).find(n=>n==E5);return e&&(t=t.replace(hse,"")),t=t.replace(/@\*/g,dE).replace(/@\w+/g,n=>dE+"-"+n.slice(1)).replace(/:animating/g,nP),[t,e]}function pse(t){return t?te({},t):null}var sP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function mse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function gse(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=hE(t,e).duration;return YM(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=YM(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=hE(n,e);return YM(r.duration,r.delay,r.easing)}function cu(t){return t?(t=te({},t),t.params&&(t.params=pse(t.params))):t={},t}function YM(t,e,n){return{duration:t,delay:e,easing:n}}function CP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var av=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},vse=1,yse=":enter",_se=new RegExp(yse,"g"),wse=":leave",bse=new RegExp(wse,"g");function I5(t,e,n,i,r,o=new Map,a=new Map,l,d,f=[]){return new aP().buildKeyframes(t,e,n,i,r,o,a,l,d,f)}var aP=class{buildKeyframes(e,n,i,r,o,a,l,d,f,p=[]){f=f||new av;let v=new cP(e,n,f,r,o,p,[]);v.options=d;let y=d.delay?aa(d.delay):0;v.currentTimeline.delayNextStep(y),v.currentTimeline.setStyles([a],null,v.errors,d),mr(this,i,v);let b=v.timelines.filter(w=>w.containsAnimation());if(b.length&&l.size){let w;for(let C=b.length-1;C>=0;C--){let I=b[C];if(I.element===n){w=I;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([l],null,v.errors,d)}return b.length?b.map(w=>w.buildKeyframes()):[CP(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:aa(sv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?aa(i.duration):null,l=i.delay!=null?aa(i.delay):null;return a!==0&&e.forEach(d=>{let f=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),mr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==qe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mE);let a=aa(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>mr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?aa(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),mr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?sv(i,n.params,n.errors):i;return hE(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==qe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?aa(r.delay):0;o&&(n.previousNode.type===qe.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=mE);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((f,p)=>{n.currentQueryIndex=p;let v=n.createSubContext(e.options,f);o&&v.delayNextStep(o),f===n.element&&(d=v.currentTimeline),mr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let y=v.currentTimeline.currentTime;a=Math.max(a,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let p=n.currentTimeline;d&&p.delayNextStep(d);let v=p.currentTime;mr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},mE={},cP=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new gE(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=aa(i.duration)),i.delay!=null&&(r.delay=aa(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=sv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=mE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new lP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(_se,"."+this._enterClassName),e=e.replace(bse,"."+this._leaveClassName);let d=i!=1,f=this._driver.query(this.element,e,d);i!==0&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!o&&l.length==0&&a.push(Noe(n)),l}},gE=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=vse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||ps),this._currentKeyframe.set(n,ps);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=Ese(e,this._globalTimelineStyles);for(let[l,d]of a){let f=sv(d,o,i);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??ps),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((p,v)=>{p===oE?e.add(v):p===ps&&n.add(v)}),i||f.set("offset",d/this.duration),r.push(f)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return CP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},lP=class extends gE{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let f=new Map(e[0]);f.set("offset",c5(l)),o.push(f);let p=e.length-1;for(let v=1;v<=p;v++){let y=new Map(e[v]),b=y.get("offset"),w=n+b*i;y.set("offset",c5(w/a)),o.push(y)}i=a,n=0,r="",e=o}return CP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function c5(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function Ese(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,ps)}else for(let[o,a]of r)n.set(o,a)}),n}function l5(t,e,n,i,r,o,a,l,d,f,p,v,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:p,totalTime:v,errors:y}}var JM={},vE=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Cse(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,f,p){let v=[],y=this.ast.options&&this.ast.options.params||JM,b=l&&l.params||JM,w=this.buildStyles(i,b,v),C=d&&d.params||JM,I=this.buildStyles(r,C,v),x=new Set,R=new Map,H=new Map,D=r==="void",ee={params:S5(C,y),delay:this.ast.options?.delay},L=p?[]:I5(e,n,this.ast.animation,o,a,w,I,ee,f,v),re=0;return L.forEach(Ce=>{re=Math.max(Ce.duration+Ce.delay,re)}),v.length?l5(n,this._triggerName,i,r,D,w,I,[],[],R,H,re,v):(L.forEach(Ce=>{let Ue=Ce.element,Qe=gr(R,Ue,new Set);Ce.preStyleProps.forEach(je=>Qe.add(je));let Ie=gr(H,Ue,new Set);Ce.postStyleProps.forEach(je=>Ie.add(je)),Ue!==n&&x.add(Ue)}),l5(n,this._triggerName,i,r,D,w,I,L,[...x.values()],R,H,re))}};function Cse(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function S5(t,e){let n=te({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var uP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=S5(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=sv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Ise(t,e,n){return new dP(t,e,n)}var dP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new uP(r.style,o,i))}),u5(this.states,"true","1"),u5(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new vE(e,r,this.states))}),this.fallbackTransition=Sse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Sse(t,e,n){let i=[(a,l)=>!0],r={type:qe.Sequence,steps:[],options:null},o={type:qe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new vE(t,o,e)}function u5(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Tse=new av,hP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=C5(this._driver,n,i,r);if(i.length)throw Uoe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=g5(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=I5(this._driver,n,o,w5,tP,new Map,new Map,i,Tse,r),a.forEach(p=>{let v=gr(l,p.element,new Map);p.postStyleProps.forEach(y=>v.set(y,null))})):(r.push(Boe()),a=[]),r.length)throw $oe(r);l.forEach((p,v)=>{p.forEach((y,b)=>{p.set(b,this._driver.computeStyle(v,b,ps))})});let d=a.map(p=>{let v=l.get(p.element);return this._buildPlayer(p,new Map,v)}),f=_c(d);return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Hoe(e);return n}listen(e,n,i,r){let o=yP(n,"","","");return vP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},d5="ng-animate-queued",Dse=".ng-animate-queued",XM="ng-animate-disabled",Ase=".ng-animate-disabled",xse="ng-star-inserted",Mse=".ng-star-inserted",Pse=[],T5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ose={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed",cv=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Rse(r),i){let o=e,{value:a}=o,l=GI(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},ov="void",ZM=new cv(ov),fP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw zoe(i,n);if(i==null||i.length==0)throw qoe(n);if(!Nse(i))throw Goe(i,n);let o=gr(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=gr(this._engine.statesByElement,e,new Map);return l.has(n)||(Fr(e,sE),Fr(e,sE+"-"+n),l.set(n,ZM)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw Woe(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new lv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Fr(e,sE),Fr(e,sE+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),f=new cv(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(n,f),d||(d=ZM),!(f.value===ov)&&d.value===f.value){if(!Vse(d.params,f.params)){let C=[],I=o.matchStyles(d.value,d.params,C),x=o.matchStyles(f.value,f.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{lu(e,I),ms(e,x)})}return}let y=gr(this._engine.playersByElement,e,[]);y.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let b=o.matchTransition(d.value,f.value,e,f.params),w=!1;if(!b){if(!r)return;b=o.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:b,fromState:d,toState:f,player:a,isFallbackTransition:w}),w||(Fr(e,d5),a.onStart(()=>{Kh(e,d5)})),a.onDone(()=>{let C=this.players.indexOf(a);C>=0&&this.players.splice(C,1);let I=this._engine.playersByElement.get(e);if(I){let x=I.indexOf(a);x>=0&&I.splice(x,1)}}),this.players.push(a),y.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,dE,!0);i.forEach(r=>{if(r[Eo])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,f)=>{if(a.set(f,d.value),this._triggers.has(f)){let p=this.trigger(e,f,ov,r);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&_c(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,f=i.get(a)||ZM,p=new cv(ov),v=new lv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:f,toState:p,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Eo];(!o||o===T5)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Fr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=yP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,vP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},pP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new fP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let f=i.indexOf(d);i.splice(f+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(lE(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!lE(n))return;let o=n[Eo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,XM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kh(e,XM))}removeNode(e,n,i){if(lE(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Eo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return lE(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,dE,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,nP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _c(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Eo];if(n&&n.setForRemoval){if(e[Eo]=T5,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(XM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ase,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Fr(r,xse)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?_c(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Koe(e)}_flushAnimations(e,n){let i=new av,r=[],o=new Map,a=[],l=new Map,d=new Map,f=new Map,p=new Set;this.disabledNodes.forEach(U=>{p.add(U);let ne=this.driver.query(U,Dse,!0);for(let ce=0;ce<ne.length;ce++)p.add(ne[ce])});let v=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=p5(y,this.collectedEnterElements),w=new Map,C=0;b.forEach((U,ne)=>{let ce=w5+C++;w.set(ne,ce),U.forEach(Pe=>Fr(Pe,ce))});let I=[],x=new Set,R=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let ne=this.collectedLeaveElements[U],ce=ne[Eo];ce&&ce.setForRemoval&&(I.push(ne),x.add(ne),ce.hasAnimation?this.driver.query(ne,Mse,!0).forEach(Pe=>x.add(Pe)):R.add(ne))}let H=new Map,D=p5(y,Array.from(x));D.forEach((U,ne)=>{let ce=tP+C++;H.set(ne,ce),U.forEach(Pe=>Fr(Pe,ce))}),e.push(()=>{b.forEach((U,ne)=>{let ce=w.get(ne);U.forEach(Pe=>Kh(Pe,ce))}),D.forEach((U,ne)=>{let ce=H.get(ne);U.forEach(Pe=>Kh(Pe,ce))}),I.forEach(U=>{this.processLeaveNode(U)})});let ee=[],L=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(n).forEach(ce=>{let Pe=ce.player,Ze=ce.element;if(ee.push(Pe),this.collectedEnterElements.length){let st=Ze[Eo];if(st&&st.setForMove){if(st.previousTriggersValues&&st.previousTriggersValues.has(ce.triggerName)){let Tn=st.previousTriggersValues.get(ce.triggerName),zt=this.statesByElement.get(ce.element);if(zt&&zt.has(ce.triggerName)){let Oi=zt.get(ce.triggerName);Oi.value=Tn,zt.set(ce.triggerName,Oi)}}Pe.destroy();return}}let gn=!v||!this.driver.containsElement(v,Ze),St=H.get(Ze),Wn=w.get(Ze),lt=this._buildInstruction(ce,i,Wn,St,gn);if(lt.errors&&lt.errors.length){L.push(lt);return}if(gn){Pe.onStart(()=>lu(Ze,lt.fromStyles)),Pe.onDestroy(()=>ms(Ze,lt.toStyles)),r.push(Pe);return}if(ce.isFallbackTransition){Pe.onStart(()=>lu(Ze,lt.fromStyles)),Pe.onDestroy(()=>ms(Ze,lt.toStyles)),r.push(Pe);return}let bi=[];lt.timelines.forEach(st=>{st.stretchStartingKeyframe=!0,this.disabledNodes.has(st.element)||bi.push(st)}),lt.timelines=bi,i.append(Ze,lt.timelines);let nr={instruction:lt,player:Pe,element:Ze};a.push(nr),lt.queriedElements.forEach(st=>gr(l,st,[]).push(Pe)),lt.preStyleProps.forEach((st,Tn)=>{if(st.size){let zt=d.get(Tn);zt||d.set(Tn,zt=new Set),st.forEach((Oi,wr)=>zt.add(wr))}}),lt.postStyleProps.forEach((st,Tn)=>{let zt=f.get(Tn);zt||f.set(Tn,zt=new Set),st.forEach((Oi,wr)=>zt.add(wr))})});if(L.length){let U=[];L.forEach(ne=>{U.push(Qoe(ne.triggerName,ne.errors))}),ee.forEach(ne=>ne.destroy()),this.reportError(U)}let re=new Map,Ce=new Map;a.forEach(U=>{let ne=U.element;i.has(ne)&&(Ce.set(ne,ne),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,re))}),r.forEach(U=>{let ne=U.element;this._getPreviousPlayers(ne,!1,U.namespaceId,U.triggerName,null).forEach(Pe=>{gr(re,ne,[]).push(Pe),Pe.destroy()})});let Ue=I.filter(U=>m5(U,d,f)),Qe=new Map;f5(Qe,this.driver,R,f,ps).forEach(U=>{m5(U,d,f)&&Ue.push(U)});let je=new Map;b.forEach((U,ne)=>{f5(je,this.driver,new Set(U),d,oE)}),Ue.forEach(U=>{let ne=Qe.get(U),ce=je.get(U);Qe.set(U,new Map([...ne?.entries()??[],...ce?.entries()??[]]))});let Te=[],Ht=[],Ge={};a.forEach(U=>{let{element:ne,player:ce,instruction:Pe}=U;if(i.has(ne)){if(p.has(ne)){ce.onDestroy(()=>ms(ne,Pe.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Pe.totalTime),r.push(ce);return}let Ze=Ge;if(Ce.size>1){let St=ne,Wn=[];for(;St=St.parentNode;){let lt=Ce.get(St);if(lt){Ze=lt;break}Wn.push(St)}Wn.forEach(lt=>Ce.set(lt,Ze))}let gn=this._buildAnimation(ce.namespaceId,Pe,re,o,je,Qe);if(ce.setRealPlayer(gn),Ze===Ge)Te.push(ce);else{let St=this.playersByElement.get(Ze);St&&St.length&&(ce.parentPlayer=_c(St)),r.push(ce)}}else lu(ne,Pe.fromStyles),ce.onDestroy(()=>ms(ne,Pe.toStyles)),Ht.push(ce),p.has(ne)&&r.push(ce)}),Ht.forEach(U=>{let ne=o.get(U.element);if(ne&&ne.length){let ce=_c(ne);U.setRealPlayer(ce)}}),r.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<I.length;U++){let ne=I[U],ce=ne[Eo];if(Kh(ne,tP),ce&&ce.hasAnimation)continue;let Pe=[];if(l.size){let gn=l.get(ne);gn&&gn.length&&Pe.push(...gn);let St=this.driver.query(ne,nP,!0);for(let Wn=0;Wn<St.length;Wn++){let lt=l.get(St[Wn]);lt&&lt.length&&Pe.push(...lt)}}let Ze=Pe.filter(gn=>!gn.destroyed);Ze.length?Fse(this,ne,Ze):this.processLeaveNode(ne)}return I.length=0,Te.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let ne=this.players.indexOf(U);this.players.splice(ne,1)}),U.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==ov;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let f=d.element,p=f!==o,v=gr(i,f,[]);this._getPreviousPlayers(f,p,a,l,n.toState).forEach(b=>{let w=b.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),b.destroy(),v.push(b)})}lu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,f=[],p=new Set,v=new Set,y=n.timelines.map(w=>{let C=w.element;p.add(C);let I=C[Eo];if(I&&I.removedBeforeQueried)return new yc(w.duration,w.delay);let x=C!==d,R=Lse((i.get(C)||Pse).map(re=>re.getRealPlayer())).filter(re=>{let Ce=re;return Ce.element?Ce.element===C:!1}),H=o.get(C),D=a.get(C),ee=g5(this._normalizer,w.keyframes,H,D),L=this._buildPlayer(w,ee,R);if(w.subTimeline&&r&&v.add(C),x){let re=new lv(e,l,C);re.setRealPlayer(L),f.push(re)}return L});f.forEach(w=>{gr(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>kse(this.playersByQueriedElement,w.element,w))}),p.forEach(w=>Fr(w,o5));let b=_c(y);return b.onDestroy(()=>{p.forEach(w=>Kh(w,o5)),ms(d,n.toStyles)}),v.forEach(w=>{gr(r,w,[]).push(b)}),b}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new yc(e.duration,e.delay)}},lv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new yc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>vP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){gr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function kse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function Rse(t){return t??null}function lE(t){return t&&t.nodeType===1}function Nse(t){return t=="start"||t=="done"}function h5(t,e){let n=t.style.display;return t.style.display=e??"none",n}function f5(t,e,n,i,r){let o=[];n.forEach(d=>o.push(h5(d)));let a=[];i.forEach((d,f)=>{let p=new Map;d.forEach(v=>{let y=e.computeStyle(f,v,r);p.set(v,y),(!y||y.length==0)&&(f[Eo]=Ose,a.push(f))}),t.set(f,p)});let l=0;return n.forEach(d=>h5(d,o[l++])),a}function p5(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let f=l.parentNode;return n.has(f)?d=f:r.has(f)?d=i:d=a(f),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function Fr(t,e){t.classList?.add(e)}function Kh(t,e){t.classList?.remove(e)}function Fse(t,e,n){_c(n).onDone(()=>t.processLeaveNode(e))}function Lse(t){let e=[];return D5(t,e),e}function D5(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof iv?D5(i.players,e):e.push(i)}}function Vse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function m5(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Yh=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new pP(e.body,n,i,r),this._timelineEngine=new hP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],f=[],p=C5(this._driver,o,d,f);if(d.length)throw Voe(r,d);f.length&&void 0,l=Ise(r,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=i5(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=i5(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function jse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=eP(e[0]),e.length>1&&(i=eP(e[e.length-1]))):e instanceof Map&&(n=eP(e)),n||i?new mP(t,n,i):null}var Qh=class Qh{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=Qh.initialStylesByElement.get(e);r||Qh.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ms(this._element,this._initialStyles),this._endStyles&&(ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qh.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),ms(this._element,this._initialStyles),this._state=3)}};Qh.initialStylesByElement=new WeakMap;var mP=Qh;function eP(t){let e=null;return t.forEach((n,i)=>{Use(i)&&(e=e||new Map,e.set(i,n))}),e}function Use(t){return t==="display"||t==="position"}var yE=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:EP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},_E=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return v5(e,n)}getParentElement(e){return _P(e)}query(e,n,i){return y5(e,n,i)}computeStyle(e,n,i){return EP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let f=new Map,p=a.filter(b=>b instanceof yE);sse(i,r)&&p.forEach(b=>{b.currentSnapshot.forEach((w,C)=>f.set(C,w))});let v=ise(n).map(b=>new Map(b));v=ase(e,v,f);let y=jse(e,v);return new yE(e,v,d,y)}};var uE="@",A5="@.disabled",wE=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==uE&&n==A5?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},gP=class extends wE{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==uE?n.charAt(1)=="."&&n==A5?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==uE){let r=Bse(e),o=n.slice(1),a="";return o.charAt(0)!=uE&&([o,a]=$se(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Bse(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function $se(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var bE=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let f=this._rendererCache,p=f.get(r);if(!p){let v=()=>f.delete(r);p=new wE(i,r,this.engine,v),f.set(r,p)}return p}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return n.data.animation.forEach(l),new gP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var zse=(()=>{let e=class e extends Yh{constructor(i,r,o){super(i,r,o,J(Bp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(oe(mi),oe(uu),oe(du))},e.\u0275prov=ie({token:e,factory:e.\u0275fac});let t=e;return t})();function qse(){return new fE}function Gse(t,e,n){return new bE(t,e,n)}var x5=[{provide:du,useFactory:qse},{provide:Yh,useClass:zse},{provide:ul,useFactory:Gse,deps:[iE,Yh,ft]}],Wse=[{provide:uu,useFactory:()=>new _E},{provide:KT,useValue:"BrowserAnimations"},...x5],cCe=[{provide:uu,useClass:wP},{provide:KT,useValue:"NoopAnimations"},...x5];function M5(){return pl("NgEagerAnimations"),[...Wse]}var Ke="primary",Iv=Symbol("RouteTitle"),xP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function tf(t){return new xP(t)}function Kse(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Qse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gs(t[n],e[n]))return!1;return!0}function gs(t,e){let n=t?MP(t):void 0,i=e?MP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!F5(t[r],e[r]))return!1;return!0}function MP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function F5(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function L5(t){return t.length>0?t[t.length-1]:null}function Ec(t){return dS(t)?t:_l(t)?Ft(Promise.resolve(t)):Re(t)}var Yse={exact:j5,subset:U5},V5={exact:Jse,subset:Xse,ignored:()=>!0};function P5(t,e,n){return Yse[n.paths](t.root,e.root,n.matrixParams)&&V5[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Jse(t,e){return gs(t,e)}function j5(t,e,n){if(!fu(t.segments,e.segments)||!IE(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!j5(t.children[i],e.children[i],n))return!1;return!0}function Xse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>F5(t[n],e[n]))}function U5(t,e,n){return B5(t,e,e.segments,n)}function B5(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!fu(r,n)||e.hasChildren()||!IE(r,n,i))}else if(t.segments.length===n.length){if(!fu(t.segments,n)||!IE(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!U5(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!fu(t.segments,r)||!IE(t.segments,r,i)||!t.children[Ke]?!1:B5(t.children[Ke],e,o,i)}}function IE(t,e,n){return e.every((i,r)=>V5[n](t[r].parameters,i.parameters))}var wc=class{constructor(e=new xt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=tf(this.queryParams),this._queryParamMap}toString(){return tae.serialize(this)}},xt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return SE(this)}},hu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=tf(this.parameters),this._parameterMap}toString(){return H5(this)}};function Zse(t,e){return fu(t,e)&&t.every((n,i)=>gs(n.parameters,e[i].parameters))}function fu(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function eae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ke&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ke&&(n=n.concat(e(r,i)))}),n}var nO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>new DE,providedIn:"root"});let t=e;return t})(),DE=class{parse(e){let n=new OP(e);return new wc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${uv(e.root,!0)}`,i=rae(e.queryParams),r=typeof e.fragment=="string"?`#${nae(e.fragment)}`:"";return`${n}${i}${r}`}},tae=new DE;function SE(t){return t.segments.map(e=>H5(e)).join("/")}function uv(t,e){if(!t.hasChildren())return SE(t);if(e){let n=t.children[Ke]?uv(t.children[Ke],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Ke&&i.push(`${r}:${uv(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=eae(t,(i,r)=>r===Ke?[uv(t.children[Ke],!1)]:[`${r}:${uv(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ke]!=null?`${SE(t)}/${n[0]}`:`${SE(t)}/(${n.join("//")})`}}function $5(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function EE(t){return $5(t).replace(/%3B/gi,";")}function nae(t){return encodeURI(t)}function PP(t){return $5(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function TE(t){return decodeURIComponent(t)}function O5(t){return TE(t.replace(/\+/g,"%20"))}function H5(t){return`${PP(t.path)}${iae(t.parameters)}`}function iae(t){return Object.entries(t).map(([e,n])=>`;${PP(e)}=${PP(n)}`).join("")}function rae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${EE(n)}=${EE(r)}`).join("&"):`${EE(n)}=${EE(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oae=/^[^\/()?;#]+/;function SP(t){let e=t.match(oae);return e?e[0]:""}var sae=/^[^\/()?;=#]+/;function aae(t){let e=t.match(sae);return e?e[0]:""}var cae=/^[^=?&#]+/;function lae(t){let e=t.match(cae);return e?e[0]:""}var uae=/^[^&#]+/;function dae(t){let e=t.match(uae);return e?e[0]:""}var OP=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ke]=new xt(e,n)),i}parseSegment(){let e=SP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new hu(TE(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=aae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=SP(this.remaining);r&&(i=r,this.capture(i))}e[TE(n)]=TE(i)}parseQueryParam(e){let n=lae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=dae(this.remaining);a&&(i=a,this.capture(i))}let r=O5(n),o=O5(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=SP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ke);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Ke]:new xt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function z5(t){return t.segments.length>0?new xt([],{[Ke]:t}):t}function q5(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=q5(r);if(i===Ke&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new xt(t.segments,e);return hae(n)}function hae(t){if(t.numberOfChildren===1&&t.children[Ke]){let e=t.children[Ke];return new xt(t.segments.concat(e.segments),e.children)}return t}function nf(t){return t instanceof wc}function fae(t,e,n=null,i=null){let r=G5(t);return W5(r,e,n,i)}function G5(t){let e;function n(o){let a={};for(let d of o.children){let f=n(d);a[d.outlet]=f}let l=new xt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=z5(i);return e??r}function W5(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return TP(r,r,r,n,i);let o=pae(e);if(o.toRoot())return TP(r,r,new xt([],{}),n,i);let a=mae(o,r,t),l=a.processChildren?fv(a.segmentGroup,a.index,o.commands):Q5(a.segmentGroup,a.index,o.commands);return TP(r,a.segmentGroup,l,n,i)}function AE(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function gv(t){return typeof t=="object"&&t!=null&&t.outlets}function TP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,f])=>{o[d]=Array.isArray(f)?f.map(p=>`${p}`):`${f}`});let a;t===e?a=n:a=K5(t,e,n);let l=z5(q5(a));return new wc(l,o,r)}function K5(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=K5(o,e,n)}),new xt(t.segments,i)}var xE=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&AE(i[0]))throw new Z(4003,!1);let r=i.find(gv);if(r&&r!==L5(i))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xE(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new xE(n,e,i)}var Zh=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function mae(t,e,n){if(t.isAbsolute)return new Zh(e,!0,0);if(!n)return new Zh(e,!1,NaN);if(n.parent===null)return new Zh(n,!0,0);let i=AE(t.commands[0])?0:1,r=n.segments.length-1+i;return gae(n,r,t.numberOfDoubleDots)}function gae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Z(4005,!1);r=i.segments.length}return new Zh(i,!1,r-o)}function vae(t){return gv(t[0])?t[0].outlets:{[Ke]:t}}function Q5(t,e,n){if(t??=new xt([],{}),t.segments.length===0&&t.hasChildren())return fv(t,e,n);let i=yae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new xt(t.segments.slice(0,i.pathIndex),{});return o.children[Ke]=new xt(t.segments.slice(i.pathIndex),t.children),fv(o,0,r)}else return i.match&&r.length===0?new xt(t.segments,{}):i.match&&!t.hasChildren()?kP(t,e,n):i.match?fv(t,0,r):kP(t,e,n)}function fv(t,e,n){if(n.length===0)return new xt(t.segments,{});{let i=vae(n),r={};if(Object.keys(i).some(o=>o!==Ke)&&t.children[Ke]&&t.numberOfChildren===1&&t.children[Ke].segments.length===0){let o=fv(t.children[Ke],e,n);return new xt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Q5(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new xt(t.segments,r)}}function yae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(gv(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!R5(d,f,a))return o;i+=2}else{if(!R5(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function kP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(gv(o)){let d=_ae(o.outlets);return new xt(i,d)}if(r===0&&AE(n[0])){let d=t.segments[e];i.push(new hu(d.path,k5(n[0]))),r++;continue}let a=gv(o)?o.outlets[Ke]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&AE(l)?(i.push(new hu(a,k5(l))),r+=2):(i.push(new hu(a,{})),r++)}return new xt(i,{})}function _ae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=kP(new xt([],{}),0,i))}),e}function k5(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function R5(t,e,n){return t==n.path&&gs(e,n.parameters)}var pv="imperative",_i=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_i||{}),Vr=class{constructor(e,n){this.id=e,this.url=n}},vv=class extends Vr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=_i.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ca=class extends Vr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=_i.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Lr||{}),RP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(RP||{}),bc=class extends Vr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_i.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pu=class extends Vr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_i.NavigationSkipped}},yv=class extends Vr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=_i.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ME=class extends Vr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_i.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},NP=class extends Vr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_i.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FP=class extends Vr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=_i.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},LP=class extends Vr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_i.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VP=class extends Vr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_i.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jP=class{constructor(e){this.route=e,this.type=_i.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},UP=class{constructor(e){this.route=e,this.type=_i.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},BP=class{constructor(e){this.snapshot=e,this.type=_i.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$P=class{constructor(e){this.snapshot=e,this.type=_i.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HP=class{constructor(e){this.snapshot=e,this.type=_i.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zP=class{constructor(e){this.snapshot=e,this.type=_i.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var _v=class{},wv=class{constructor(e){this.url=e}};var qP=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new FE,this.attachRef=null}},FE=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new qP,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PE=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=GP(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=GP(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=WP(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return WP(e,this._root).map(n=>n.value)}};function GP(t,e){if(t===e.value)return e;for(let n of e.children){let i=GP(t,n);if(i)return i}return null}function WP(t,e){if(t===e.value)return[e];for(let n of e.children){let i=WP(t,n);if(i.length)return i.unshift(e),i}return[]}var vr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xh(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var OE=class extends PE{constructor(e,n){super(e),this.snapshot=n,rO(this,e)}toString(){return this.snapshot.toString()}};function Y5(t){let e=wae(t),n=new Un([new hu("",{})]),i=new Un({}),r=new Un({}),o=new Un({}),a=new Un(""),l=new Wi(n,i,o,a,r,Ke,t,e.root);return l.snapshot=e.root,new OE(new vr(l,[]),e)}function wae(t){let e={},n={},i={},r="",o=new bv([],e,i,r,n,Ke,t,null,{});return new kE("",new vr(o,[]))}var Wi=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ne(f=>f[Iv]))??Re(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>tf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>tf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function iO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:te(te({},e.params),t.params),data:te(te({},e.data),t.data),resolve:te(te(te(te({},t.data),e.data),r?.data),t._resolvedData)}:i={params:te({},t.params),data:te({},t.data),resolve:te(te({},t.data),t._resolvedData??{})},r&&X5(r)&&(i.resolve[Iv]=r.title),i}var bv=class{get title(){return this.data?.[Iv]}constructor(e,n,i,r,o,a,l,d,f){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=tf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=tf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kE=class extends PE{constructor(e,n){super(n),this.url=e,rO(this,n)}toString(){return J5(this._root)}};function rO(t,e){e.value._routerState=t,e.children.forEach(n=>rO(t,n))}function J5(t){let e=t.children.length>0?` { ${t.children.map(J5).join(", ")} } `:"";return`${t.value}${e}`}function DP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gs(e.params,n.params)||t.paramsSubject.next(n.params),Qse(e.url,n.url)||t.urlSubject.next(n.url),gs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function KP(t,e){let n=gs(t.params,e.params)&&Zse(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||KP(t.parent,e.parent))}function X5(t){return typeof t.title=="string"||t.title===null}var Sv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new Jt,this.deactivateEvents=new Jt,this.attachEvents=new Jt,this.detachEvents=new Jt,this.parentContexts=J(FE),this.location=J(pi),this.changeDetector=J(Gs),this.environmentInjector=J(ni),this.inputBinder=J(oO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new QP(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ct({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oo]});let t=e;return t})(),QP=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Wi?this.route:e===FE?this.childContexts:this.parent.get(e,n)}},oO=new we("");function bae(t,e,n){let i=Ev(t,e._root,n?n._root:void 0);return new OE(i,e)}function Ev(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=Eae(t,e,n);return new vr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Ev(t,l)),a}}let i=Cae(e.value),r=e.children.map(o=>Ev(t,o));return new vr(i,r)}}function Eae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ev(t,i,r);return Ev(t,i)})}function Cae(t){return new Wi(new Un(t.url),new Un(t.params),new Un(t.queryParams),new Un(t.fragment),new Un(t.data),t.outlet,t.component,t)}var Z5="ngNavigationCancelingError";function e9(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=nf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=t9(!1,Lr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function t9(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Z5]=!0,n.cancellationCode=e,n}function Iae(t){return n9(t)&&nf(t.url)}function n9(t){return!!t&&t[Z5]}var Sae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["ng-component"]],standalone:!0,features:[pe],decls:1,vars:0,template:function(r,o){r&1&&fe(0,"router-outlet")},dependencies:[Sv],encapsulation:2});let t=e;return t})();function Tae(t,e){return t.providers&&!t._injector&&(t._injector=gD(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sO(t){let e=t.children&&t.children.map(sO),n=e?vt(te({},t),{children:e}):te({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ke&&(n.component=Sae),n}function vs(t){return t.outlet||Ke}function Dae(t,e){let n=t.filter(i=>vs(i)===e);return n.push(...t.filter(i=>vs(i)!==e)),n}function Tv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Aae=(t,e,n,i)=>Ne(r=>(new YP(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),YP=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),DP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Xh(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Xh(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Xh(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Xh(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new zP(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $P(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(DP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),DP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Tv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},RE=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ef=class{constructor(e,n){this.component=e,this.route=n}};function xae(t,e,n){let i=t._root,r=e?e._root:null;return dv(i,r,n,[i.value])}function Mae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function sf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!DV(t)?t:e.get(t):i}function dv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xh(e);return t.children.forEach(a=>{Pae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>mv(l,n.getContext(a),r)),r}function Pae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Oae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new RE(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?dv(t,e,l?l.children:null,i,r):dv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ef(l.outlet.component,a))}else a&&mv(e,l,r),r.canActivateChecks.push(new RE(i)),o.component?dv(t,null,l?l.children:null,i,r):dv(t,null,n,i,r);return r}function Oae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!fu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fu(t.url,e.url)||!gs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KP(t,e)||!gs(t.queryParams,e.queryParams);case"paramsChange":default:return!KP(t,e)}}function mv(t,e,n){let i=Xh(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?mv(a,e.children.getContext(o),n):mv(a,null,n):mv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ef(e.outlet.component,r)):n.canDeactivateChecks.push(new ef(null,r)):n.canDeactivateChecks.push(new ef(null,r))}function Dv(t){return typeof t=="function"}function kae(t){return typeof t=="boolean"}function Rae(t){return t&&Dv(t.canLoad)}function Nae(t){return t&&Dv(t.canActivate)}function Fae(t){return t&&Dv(t.canActivateChild)}function Lae(t){return t&&Dv(t.canDeactivate)}function Vae(t){return t&&Dv(t.canMatch)}function i9(t){return t instanceof ur||t?.name==="EmptyError"}var CE=Symbol("INITIAL_VALUE");function rf(){return Ci(t=>V_(t.map(e=>e.pipe(Rs(1),yS(CE)))).pipe(Ne(e=>{for(let n of e)if(n!==!0){if(n===CE)return CE;if(n===!1||n instanceof wc)return n}return!0}),ti(e=>e!==CE),Rs(1)))}function jae(t,e){return bn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Re(vt(te({},n),{guardsResult:!0})):Uae(a,i,r,t).pipe(bn(l=>l&&kae(l)?Bae(i,o,t,e):Re(l)),Ne(l=>vt(te({},n),{guardsResult:l})))})}function Uae(t,e,n,i){return Ft(t).pipe(bn(r=>Gae(r.component,r.route,n,e,i)),Uo(r=>r!==!0,!0))}function Bae(t,e,n,i){return Ft(e).pipe(Ua(r=>xd(Hae(r.route.parent,i),$ae(r.route,i),qae(t,r.path,n),zae(t,r.route,n))),Uo(r=>r!==!0,!0))}function $ae(t,e){return t!==null&&e&&e(new HP(t)),Re(!0)}function Hae(t,e){return t!==null&&e&&e(new BP(t)),Re(!0)}function zae(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Re(!0);let r=i.map(o=>j_(()=>{let a=Tv(e)??n,l=sf(o,a),d=Nae(l)?l.canActivate(e,t):zs(a,()=>l(e,t));return Ec(d).pipe(Uo())}));return Re(r).pipe(rf())}function qae(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Mae(a)).filter(a=>a!==null).map(a=>j_(()=>{let l=a.guards.map(d=>{let f=Tv(a.node)??n,p=sf(d,f),v=Fae(p)?p.canActivateChild(i,t):zs(f,()=>p(i,t));return Ec(v).pipe(Uo())});return Re(l).pipe(rf())}));return Re(o).pipe(rf())}function Gae(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let a=o.map(l=>{let d=Tv(e)??r,f=sf(l,d),p=Lae(f)?f.canDeactivate(t,e,n,i):zs(d,()=>f(t,e,n,i));return Ec(p).pipe(Uo())});return Re(a).pipe(rf())}function Wae(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Re(!0);let o=r.map(a=>{let l=sf(a,t),d=Rae(l)?l.canLoad(e,n):zs(t,()=>l(e,n));return Ec(d)});return Re(o).pipe(rf(),r9(i))}function r9(t){return iS(En(e=>{if(nf(e))throw e9(t,e)}),Ne(e=>e===!0))}function Kae(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Re(!0);let o=r.map(a=>{let l=sf(a,t),d=Vae(l)?l.canMatch(e,n):zs(t,()=>l(e,n));return Ec(d)});return Re(o).pipe(rf(),r9(i))}var Cv=class{constructor(e){this.segmentGroup=e||null}},NE=class extends Error{constructor(e){super(),this.urlTree=e}};function Jh(t){return Dd(new Cv(t))}function Qae(t){return Dd(new Z(4e3,!1))}function Yae(t){return Dd(t9(!1,Lr.GuardRejected))}var JP=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Re(i);if(r.numberOfChildren>1||!r.children[Ke])return Qae(e.redirectTo);r=r.children[Ke]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new NE(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new wc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new xt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Z(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},XP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jae(t,e,n,i,r){let o=aO(t,e,n);return o.matched?(i=Tae(e,i),Kae(i,e,n,r).pipe(Ne(a=>a===!0?o:te({},XP)))):Re(o)}function aO(t,e,n){if(e.path==="**")return Xae(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?te({},XP):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Kse)(n,t,e);if(!r)return te({},XP);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?te(te({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Xae(t){return{matched:!0,parameters:t.length>0?L5(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function N5(t,e,n,i){return n.length>0&&tce(t,n,i)?{segmentGroup:new xt(e,ece(i,new xt(n,t.children))),slicedSegments:[]}:n.length===0&&nce(t,n,i)?{segmentGroup:new xt(t.segments,Zae(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new xt(t.segments,t.children),slicedSegments:n}}function Zae(t,e,n,i){let r={};for(let o of n)if(LE(t,e,o)&&!i[vs(o)]){let a=new xt([],{});r[vs(o)]=a}return te(te({},i),r)}function ece(t,e){let n={};n[Ke]=e;for(let i of t)if(i.path===""&&vs(i)!==Ke){let r=new xt([],{});n[vs(i)]=r}return n}function tce(t,e,n){return n.some(i=>LE(t,e,i)&&vs(i)!==Ke)}function nce(t,e,n){return n.some(i=>LE(t,e,i))}function LE(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ice(t,e,n,i){return vs(t)!==i&&(i===Ke||!LE(e,n,t))?!1:aO(e,t,n).matched}function rce(t,e,n){return e.length===0&&!t.children[n]}var ZP=class{};function oce(t,e,n,i,r,o,a="emptyOnly"){return new eO(t,e,n,i,r,a,o).recognize()}var sce=31,eO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new JP(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=N5(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(n=>{let i=new bv([],Object.freeze({}),Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),r=new vr(i,n),o=new kE("",r),a=fae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ke).pipe(jo(i=>{if(i instanceof NE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Cv?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=iO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Ne(o=>o instanceof vr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Ft(r).pipe(Ua(o=>{let a=i.children[o],l=Dae(n,o);return this.processSegmentGroup(e,l,a,o)}),gS((o,a)=>(o.push(...a),o)),Ba(null),mS(),bn(o=>{if(o===null)return Jh(i);let a=o9(o);return ace(a),Re(a)}))}processSegment(e,n,i,r,o,a){return Ft(n).pipe(Ua(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(jo(d=>{if(d instanceof Cv)return Re(null);throw d}))),Uo(l=>!!l),jo(l=>{if(i9(l))return rce(i,r,o)?Re(new ZP):Jh(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return ice(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):Jh(r):Jh(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=aO(n,r,o);if(!l)return Jh(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(bn(y=>this.processSegment(e,i,n,y.concat(p),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=Jae(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Ci(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ci(({routes:d})=>{let f=i._loadedInjector??e,{consumedSegments:p,remainingSegments:v,parameters:y}=l,b=new bv(p,y,Object.freeze(te({},this.urlTree.queryParams)),this.urlTree.fragment,lce(i),vs(i),i.component??i._loadedComponent??null,i,uce(i)),{segmentGroup:w,slicedSegments:C}=N5(n,p,v,d);if(C.length===0&&w.hasChildren())return this.processChildren(f,d,w).pipe(Ne(x=>x===null?null:new vr(b,x)));if(d.length===0&&C.length===0)return Re(new vr(b,[]));let I=vs(i)===o;return this.processSegment(f,d,w,C,I?Ke:o,!0).pipe(Ne(x=>new vr(b,x instanceof vr?[x]:[])))}))):Jh(n)))}getChildConfig(e,n,i){return n.children?Re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):Wae(e,n,i,this.urlSerializer).pipe(bn(r=>r?this.configLoader.loadChildren(e,n).pipe(En(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Yae(n))):Re({routes:[],injector:e})}};function ace(t){t.sort((e,n)=>e.value.outlet===Ke?-1:n.value.outlet===Ke?1:e.value.outlet.localeCompare(n.value.outlet))}function cce(t){let e=t.value.routeConfig;return e&&e.path===""}function o9(t){let e=[],n=new Set;for(let i of t){if(!cce(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=o9(i.children);e.push(new vr(i.value,r))}return e.filter(i=>!n.has(i))}function lce(t){return t.data||{}}function uce(t){return t.resolve||{}}function dce(t,e,n,i,r,o){return bn(a=>oce(t,e,n,i,a.extractedUrl,r,o).pipe(Ne(({state:l,tree:d})=>vt(te({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function hce(t,e){return bn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Re(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let f of s9(d))a.add(f);let l=0;return Ft(a).pipe(Ua(d=>o.has(d)?fce(d,i,t,e):(d.data=iO(d,d.parent,t).resolve,Re(void 0))),En(()=>l++),Pd(1),bn(d=>l===a.size?Re(n):Xi))})}function s9(t){let e=t.children.map(n=>s9(n)).flat();return[t,...e]}function fce(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!X5(r)&&(o[Iv]=r.title),pce(o,t,e,i).pipe(Ne(a=>(t._resolvedData=a,t.data=iO(t,t.parent,n).resolve,null)))}function pce(t,e,n,i){let r=MP(t);if(r.length===0)return Re({});let o={};return Ft(r).pipe(bn(a=>mce(t[a],e,n,i).pipe(Uo(),En(l=>{o[a]=l}))),Pd(1),pS(o),jo(a=>i9(a)?Xi:Dd(a)))}function mce(t,e,n,i){let r=Tv(e)??i,o=sf(t,r),a=o.resolve?o.resolve(e,n):zs(r,()=>o(e,n));return Ec(a)}function AP(t){return Ci(e=>{let n=t(e);return n?Ft(n).pipe(Ne(()=>e)):Re(e)})}var a9=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Ke);return r}getResolvedTitleForRoute(i){return i.data[Iv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(gce),providedIn:"root"});let t=e;return t})(),gce=(()=>{let e=class e extends a9{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(oe(X$))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VE=new we("",{providedIn:"root",factory:()=>({})}),cO=new we(""),vce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(yD)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Re(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ec(i.loadComponent()).pipe(Ne(c9),En(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),tl(()=>{this.componentLoaders.delete(i)})),o=new bd(r,()=>new ei).pipe(wd());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=yce(r,this.compiler,i,this.onLoadEndListener).pipe(tl(()=>{this.childrenLoaders.delete(r)})),l=new bd(a,()=>new ei).pipe(wd());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yce(t,e,n,i){return Ec(t.loadChildren()).pipe(Ne(c9),bn(r=>r instanceof $p||Array.isArray(r)?Re(r):Ft(e.compileModuleAsync(r))),Ne(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(cO,[],{optional:!0,self:!0}).flat()),{routes:a.map(sO),injector:o}}))}function _ce(t){return t&&typeof t=="object"&&"default"in t}function c9(t){return _ce(t)?t.default:t}var lO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(wce),providedIn:"root"});let t=e;return t})(),wce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bce=new we("");var Ece=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ei,this.transitionAbortSubject=new ei,this.configLoader=J(vce),this.environmentInjector=J(ni),this.urlSerializer=J(nO),this.rootContexts=J(FE),this.location=J(Zp),this.inputBindingEnabled=J(oO,{optional:!0})!==null,this.titleStrategy=J(a9),this.options=J(VE,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(lO),this.createViewTransition=J(bce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null;let i=o=>this.events.next(new jP(o)),r=o=>this.events.next(new UP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(vt(te(te({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Un({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:pv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ti(a=>a.id!==0),Ne(a=>vt(te({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ci(a=>{this.currentTransition=a;let l=!1,d=!1;return Re(a).pipe(En(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?vt(te({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ci(f=>{let p=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!p&&v!=="reload"){let y="";return this.events.next(new pu(f.id,this.urlSerializer.serialize(f.rawUrl),y,RP.IgnoredSameUrlNavigation)),f.resolve(null),Xi}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Re(f).pipe(Ci(y=>{let b=this.transitions?.getValue();return this.events.next(new vv(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?Xi:Promise.resolve(y)}),dce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),En(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=vt(te({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new ME(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:b,source:w,restoredState:C,extras:I}=f,x=new vv(y,this.urlSerializer.serialize(b),w,C);this.events.next(x);let R=Y5(this.rootComponentType).snapshot;return this.currentTransition=a=vt(te({},f),{targetSnapshot:R,urlAfterRedirects:b,extras:vt(te({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,Re(a)}else{let y="";return this.events.next(new pu(f.id,this.urlSerializer.serialize(f.extractedUrl),y,RP.IgnoredByUrlHandlingStrategy)),f.resolve(null),Xi}}),En(f=>{let p=new NP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ne(f=>(this.currentTransition=a=vt(te({},f),{guards:xae(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),a)),jae(this.environmentInjector,f=>this.events.next(f)),En(f=>{if(a.guardsResult=f.guardsResult,nf(f.guardsResult))throw e9(this.urlSerializer,f.guardsResult);let p=new FP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),ti(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Lr.GuardRejected),!1)),AP(f=>{if(f.guards.canActivateChecks.length)return Re(f).pipe(En(p=>{let v=new LP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),Ci(p=>{let v=!1;return Re(p).pipe(hce(this.paramsInheritanceStrategy,this.environmentInjector),En({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(p,"",Lr.NoDataFromResolver)}}))}),En(p=>{let v=new VP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),AP(f=>{let p=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(En(b=>{v.component=b}),Ne(()=>{})));for(let b of v.children)y.push(...p(b));return y};return V_(p(f.targetSnapshot.root)).pipe(Ba(null),Rs(1))}),AP(()=>this.afterPreactivation()),Ci(()=>{let{currentSnapshot:f,targetSnapshot:p}=a,v=this.createViewTransition?.(this.environmentInjector,f.root,p.root);return v?Ft(v).pipe(Ne(()=>a)):Re(a)}),Ne(f=>{let p=bae(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=a=vt(te({},f),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),En(()=>{this.events.next(new _v)}),Aae(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Rs(1),En({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ca(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),Zr(this.transitionAbortSubject.pipe(En(f=>{throw f}))),tl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Lr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),jo(f=>{if(d=!0,n9(f))this.events.next(new bc(a.id,this.urlSerializer.serialize(a.extractedUrl),f.message,f.cancellationCode)),Iae(f)?this.events.next(new wv(f.url)):a.resolve(!1);else{this.events.next(new yv(a.id,this.urlSerializer.serialize(a.extractedUrl),f,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(f))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return Xi}))}))}cancelNavigationTransition(i,r,o){let a=new bc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cce(t){return t!==pv}var Ice=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(Sce),providedIn:"root"});let t=e;return t})(),tO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Sce=(()=>{let e=class e extends tO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:()=>J(Tce),providedIn:"root"});let t=e;return t})(),Tce=(()=>{let e=class e extends l9{constructor(){super(...arguments),this.location=J(Zp),this.urlSerializer=J(nO),this.options=J(VE,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(lO),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Y5(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof vv)this.stateMemento=this.createStateMemento();else if(i instanceof pu)this.rawUrlTree=r.initialUrl;else if(i instanceof ME){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof _v?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof bc&&(i.code===Lr.GuardRejected||i.code===Lr.NoDataFromResolver)?this.restoreHistory(r):i instanceof yv?this.restoreHistory(r,!0):i instanceof ca&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=te(te({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=te(te({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(hv||{});function Dce(t,e){t.events.pipe(ti(n=>n instanceof ca||n instanceof bc||n instanceof yv||n instanceof pu),Ne(n=>n instanceof ca||n instanceof pu?hv.COMPLETE:(n instanceof bc?n.code===Lr.Redirect||n.code===Lr.SupersededByNewNavigation:!1)?hv.REDIRECTING:hv.FAILED),ti(n=>n!==hv.REDIRECTING),Rs(1)).subscribe(()=>{e()})}function Ace(t){throw t}var xce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(z0),this.stateManager=J(l9),this.options=J(VE,{optional:!0})||{},this.pendingTasks=J(ml),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(Ece),this.urlSerializer=J(nO),this.location=J(Zp),this.urlHandlingStrategy=J(lO),this._events=new ei,this.errorHandler=this.options.errorHandler||Ace,this.navigated=!1,this.routeReuseStrategy=J(Ice),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(cO,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(oO,{optional:!0}),this.eventsSubscription=new wn,this.isNgZoneEnabled=J(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof bc&&r.code!==Lr.Redirect&&r.code!==Lr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ca)this.navigated=!0;else if(r instanceof wv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Cce(o.source)};this.scheduleNavigation(l,pv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Oce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let f=te({},o);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(a.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(sO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,p=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=te(te({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let b=o?o.snapshot:this.routerState.snapshot.root;y=G5(b)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return W5(y,i,v,p??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=nf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,pv,null,r)}navigate(i,r={skipLocationChange:!1}){return Pce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=te({},xce):r===!1?o=te({},Mce):o=r,nf(i))return P5(this.currentUrlTree,i,o);let a=this.parseUrl(i);return P5(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,f,p;l?(d=l.resolve,f=l.reject,p=l.promise):p=new Promise((y,b)=>{d=y,f=b});let v=this.pendingTasks.add();return Dce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function Oce(t){return!(t instanceof _v)&&!(t instanceof wv)}var of=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new ei,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=f==="a"||f==="area",this.isAnchorElement?this.subscription=i.events.subscribe(p=>{p instanceof ca&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let f={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,f),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:g3(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(Wi),eD("tabindex"),F(ao),F(jt),F(Xd))},e.\u0275dir=Ct({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&k("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&U0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ae.HasDecoratorInputTransform,"preserveFragment","preserveFragment",zi],skipLocationChange:[Ae.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",zi],replaceUrl:[Ae.HasDecoratorInputTransform,"replaceUrl","replaceUrl",zi],routerLink:"routerLink"},standalone:!0,features:[Jp,oo]});let t=e;return t})(),u9=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Jt,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof ca&&this.update()})}ngAfterContentInit(){Re(this.links.changes,Re(null)).pipe(ja()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ft(i).pipe(ja()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=kce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(jt),F(ao),F(Gs),F(of,8))},e.\u0275dir=Ct({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&_j(a,of,5),r&2){let l;$0(l=H0())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[oo]});let t=e;return t})();function kce(t){return!!t.paths}var Rce=new we("");function d9(t,...e){return Qa([{provide:cO,multi:!0,useValue:t},[],{provide:Wi,useFactory:Nce,deps:[hn]},{provide:q0,multi:!0,useFactory:Lce},e.map(n=>n.\u0275providers)])}function Nce(t){return t.routerState.root}function Fce(t,e){return{\u0275kind:t,\u0275providers:e}}function Lce(){let t=J(on);return e=>{let n=t.get(Yo);if(e!==n.components[0])return;let i=t.get(hn),r=t.get(Vce);t.get(jce)===1&&i.initialNavigation(),t.get(Uce,null,nt.Optional)?.setUpPreloading(),t.get(Rce,null,nt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Vce=new we("",{factory:()=>new ei}),jce=new we("",{providedIn:"root",factory:()=>1});var Uce=new we("");function h9(t){return Fce(5,[{provide:VE,useValue:t}])}var fn="top",zn="bottom",Fn="right",Sn="left",jE="auto",Cc=[fn,zn,Fn,Sn],la="start",mu="end",f9="clippingParents",UE="viewport",cf="popper",p9="reference",uO=Cc.reduce(function(t,e){return t.concat([e+"-"+la,e+"-"+mu])},[]),BE=[].concat(Cc,[jE]).reduce(function(t,e){return t.concat([e,e+"-"+la,e+"-"+mu])},[]),Bce="beforeRead",$ce="read",Hce="afterRead",zce="beforeMain",qce="main",Gce="afterMain",Wce="beforeWrite",Kce="write",Qce="afterWrite",m9=[Bce,$ce,Hce,zce,qce,Gce,Wce,Kce,Qce];function li(t){return t?(t.nodeName||"").toLowerCase():null}function Qt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function jr(t){var e=Qt(t).Element;return t instanceof e||t instanceof Element}function qn(t){var e=Qt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function lf(t){if(typeof ShadowRoot>"u")return!1;var e=Qt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Yce(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!qn(o)||!li(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function Jce(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,f){return d[f]="",d},{});!qn(r)||!li(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var Av={name:"applyStyles",enabled:!0,phase:"write",fn:Yce,effect:Jce,requires:["computeStyles"]};function ui(t){return t.split("-")[0]}var Co=Math.max,gu=Math.min,ua=Math.round;function uf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xv(){return!/^((?!chrome|android).)*safari/i.test(uf())}function Ur(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&qn(t)&&(r=t.offsetWidth>0&&ua(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&ua(i.height)/t.offsetHeight||1);var a=jr(t)?Qt(t):window,l=a.visualViewport,d=!xv()&&n,f=(i.left+(d&&l?l.offsetLeft:0))/r,p=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,y=i.height/o;return{width:v,height:y,top:p,right:f+v,bottom:p+y,left:f,x:f,y:p}}function vu(t){var e=Ur(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Mv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&lf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ki(t){return Qt(t).getComputedStyle(t)}function dO(t){return["table","td","th"].indexOf(li(t))>=0}function wi(t){return((jr(t)?t.ownerDocument:t.document)||window.document).documentElement}function da(t){return li(t)==="html"?t:t.assignedSlot||t.parentNode||(lf(t)?t.host:null)||wi(t)}function g9(t){return!qn(t)||Ki(t).position==="fixed"?null:t.offsetParent}function Xce(t){var e=/firefox/i.test(uf()),n=/Trident/i.test(uf());if(n&&qn(t)){var i=Ki(t);if(i.position==="fixed")return null}var r=da(t);for(lf(r)&&(r=r.host);qn(r)&&["html","body"].indexOf(li(r))<0;){var o=Ki(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Io(t){for(var e=Qt(t),n=g9(t);n&&dO(n)&&Ki(n).position==="static";)n=g9(n);return n&&(li(n)==="html"||li(n)==="body"&&Ki(n).position==="static")?e:n||Xce(t)||e}function yu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function _u(t,e,n){return Co(t,gu(e,n))}function v9(t,e,n){var i=_u(t,e,n);return i>n?n:i}function Pv(){return{top:0,right:0,bottom:0,left:0}}function Ov(t){return Object.assign({},Pv(),t)}function kv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Zce=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ov(typeof e!="number"?e:kv(e,Cc))};function ele(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ui(n.placement),d=yu(l),f=[Sn,Fn].indexOf(l)>=0,p=f?"height":"width";if(!(!o||!a)){var v=Zce(r.padding,n),y=vu(o),b=d==="y"?fn:Sn,w=d==="y"?zn:Fn,C=n.rects.reference[p]+n.rects.reference[d]-a[d]-n.rects.popper[p],I=a[d]-n.rects.reference[d],x=Io(o),R=x?d==="y"?x.clientHeight||0:x.clientWidth||0:0,H=C/2-I/2,D=v[b],ee=R-y[p]-v[w],L=R/2-y[p]/2+H,re=_u(D,L,ee),Ce=d;n.modifiersData[i]=(e={},e[Ce]=re,e.centerOffset=re-L,e)}}function tle(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Mv(e.elements.popper,r)&&(e.elements.arrow=r))}var y9={name:"arrow",enabled:!0,phase:"main",fn:ele,effect:tle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Br(t){return t.split("-")[1]}var nle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ile(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:ua(n*r)/r||0,y:ua(i*r)/r||0}}function _9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,v=t.isFixed,y=a.x,b=y===void 0?0:y,w=a.y,C=w===void 0?0:w,I=typeof p=="function"?p({x:b,y:C}):{x:b,y:C};b=I.x,C=I.y;var x=a.hasOwnProperty("x"),R=a.hasOwnProperty("y"),H=Sn,D=fn,ee=window;if(f){var L=Io(n),re="clientHeight",Ce="clientWidth";if(L===Qt(n)&&(L=wi(n),Ki(L).position!=="static"&&l==="absolute"&&(re="scrollHeight",Ce="scrollWidth")),L=L,r===fn||(r===Sn||r===Fn)&&o===mu){D=zn;var Ue=v&&L===ee&&ee.visualViewport?ee.visualViewport.height:L[re];C-=Ue-i.height,C*=d?1:-1}if(r===Sn||(r===fn||r===zn)&&o===mu){H=Fn;var Qe=v&&L===ee&&ee.visualViewport?ee.visualViewport.width:L[Ce];b-=Qe-i.width,b*=d?1:-1}}var Ie=Object.assign({position:l},f&&nle),je=p===!0?ile({x:b,y:C},Qt(n)):{x:b,y:C};if(b=je.x,C=je.y,d){var Te;return Object.assign({},Ie,(Te={},Te[D]=R?"0":"",Te[H]=x?"0":"",Te.transform=(ee.devicePixelRatio||1)<=1?"translate("+b+"px, "+C+"px)":"translate3d("+b+"px, "+C+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[D]=R?C+"px":"",e[H]=x?b+"px":"",e.transform="",e))}function rle(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,f={placement:ui(e.placement),variation:Br(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_9(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_9(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var w9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rle,data:{}};var $E={passive:!0};function ole(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=Qt(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(p){p.addEventListener("scroll",n.update,$E)}),l&&d.addEventListener("resize",n.update,$E),function(){o&&f.forEach(function(p){p.removeEventListener("scroll",n.update,$E)}),l&&d.removeEventListener("resize",n.update,$E)}}var b9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ole,data:{}};var sle={left:"right",right:"left",bottom:"top",top:"bottom"};function df(t){return t.replace(/left|right|bottom|top/g,function(e){return sle[e]})}var ale={start:"end",end:"start"};function HE(t){return t.replace(/start|end/g,function(e){return ale[e]})}function wu(t){var e=Qt(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function bu(t){return Ur(wi(t)).left+wu(t).scrollLeft}function hO(t,e){var n=Qt(t),i=wi(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var f=xv();(f||!f&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+bu(t),y:d}}function fO(t){var e,n=wi(t),i=wu(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Co(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Co(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+bu(t),d=-i.scrollTop;return Ki(r||n).direction==="rtl"&&(l+=Co(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Eu(t){var e=Ki(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function zE(t){return["html","body","#document"].indexOf(li(t))>=0?t.ownerDocument.body:qn(t)&&Eu(t)?t:zE(da(t))}function Ic(t,e){var n;e===void 0&&(e=[]);var i=zE(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=Qt(i),a=r?[o].concat(o.visualViewport||[],Eu(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Ic(da(a)))}function hf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cle(t,e){var n=Ur(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function E9(t,e,n){return e===UE?hf(hO(t,n)):jr(e)?cle(e,n):hf(fO(wi(t)))}function lle(t){var e=Ic(da(t)),n=["absolute","fixed"].indexOf(Ki(t).position)>=0,i=n&&qn(t)?Io(t):t;return jr(i)?e.filter(function(r){return jr(r)&&Mv(r,i)&&li(r)!=="body"}):[]}function pO(t,e,n,i){var r=e==="clippingParents"?lle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,f){var p=E9(t,f,i);return d.top=Co(p.top,d.top),d.right=gu(p.right,d.right),d.bottom=gu(p.bottom,d.bottom),d.left=Co(p.left,d.left),d},E9(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Rv(t){var e=t.reference,n=t.element,i=t.placement,r=i?ui(i):null,o=i?Br(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case fn:d={x:a,y:e.y-n.height};break;case zn:d={x:a,y:e.y+e.height};break;case Fn:d={x:e.x+e.width,y:l};break;case Sn:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var f=r?yu(r):null;if(f!=null){var p=f==="y"?"height":"width";switch(o){case la:d[f]=d[f]-(e[p]/2-n[p]/2);break;case mu:d[f]=d[f]+(e[p]/2-n[p]/2);break;default:}}return d}function So(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?f9:l,f=n.rootBoundary,p=f===void 0?UE:f,v=n.elementContext,y=v===void 0?cf:v,b=n.altBoundary,w=b===void 0?!1:b,C=n.padding,I=C===void 0?0:C,x=Ov(typeof I!="number"?I:kv(I,Cc)),R=y===cf?p9:cf,H=t.rects.popper,D=t.elements[w?R:y],ee=pO(jr(D)?D:D.contextElement||wi(t.elements.popper),d,p,a),L=Ur(t.elements.reference),re=Rv({reference:L,element:H,strategy:"absolute",placement:r}),Ce=hf(Object.assign({},H,re)),Ue=y===cf?Ce:L,Qe={top:ee.top-Ue.top+x.top,bottom:Ue.bottom-ee.bottom+x.bottom,left:ee.left-Ue.left+x.left,right:Ue.right-ee.right+x.right},Ie=t.modifiersData.offset;if(y===cf&&Ie){var je=Ie[r];Object.keys(Qe).forEach(function(Te){var Ht=[Fn,zn].indexOf(Te)>=0?1:-1,Ge=[fn,zn].indexOf(Te)>=0?"y":"x";Qe[Te]+=je[Ge]*Ht})}return Qe}function mO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?BE:d,p=Br(i),v=p?l?uO:uO.filter(function(w){return Br(w)===p}):Cc,y=v.filter(function(w){return f.indexOf(w)>=0});y.length===0&&(y=v);var b=y.reduce(function(w,C){return w[C]=So(t,{placement:C,boundary:r,rootBoundary:o,padding:a})[ui(C)],w},{});return Object.keys(b).sort(function(w,C){return b[w]-b[C]})}function ule(t){if(ui(t)===jE)return[];var e=df(t);return[HE(t),e,HE(e)]}function dle(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,p=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,w=b===void 0?!0:b,C=n.allowedAutoPlacements,I=e.options.placement,x=ui(I),R=x===I,H=d||(R||!w?[df(I)]:ule(I)),D=[I].concat(H).reduce(function(lt,bi){return lt.concat(ui(bi)===jE?mO(e,{placement:bi,boundary:p,rootBoundary:v,padding:f,flipVariations:w,allowedAutoPlacements:C}):bi)},[]),ee=e.rects.reference,L=e.rects.popper,re=new Map,Ce=!0,Ue=D[0],Qe=0;Qe<D.length;Qe++){var Ie=D[Qe],je=ui(Ie),Te=Br(Ie)===la,Ht=[fn,zn].indexOf(je)>=0,Ge=Ht?"width":"height",U=So(e,{placement:Ie,boundary:p,rootBoundary:v,altBoundary:y,padding:f}),ne=Ht?Te?Fn:Sn:Te?zn:fn;ee[Ge]>L[Ge]&&(ne=df(ne));var ce=df(ne),Pe=[];if(o&&Pe.push(U[je]<=0),l&&Pe.push(U[ne]<=0,U[ce]<=0),Pe.every(function(lt){return lt})){Ue=Ie,Ce=!1;break}re.set(Ie,Pe)}if(Ce)for(var Ze=w?3:1,gn=function(bi){var nr=D.find(function(st){var Tn=re.get(st);if(Tn)return Tn.slice(0,bi).every(function(zt){return zt})});if(nr)return Ue=nr,"break"},St=Ze;St>0;St--){var Wn=gn(St);if(Wn==="break")break}e.placement!==Ue&&(e.modifiersData[i]._skip=!0,e.placement=Ue,e.reset=!0)}}var C9={name:"flip",enabled:!0,phase:"main",fn:dle,requiresIfExists:["offset"],data:{_skip:!1}};function I9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function S9(t){return[fn,Fn,zn,Sn].some(function(e){return t[e]>=0})}function hle(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=So(e,{elementContext:"reference"}),l=So(e,{altBoundary:!0}),d=I9(a,i),f=I9(l,r,o),p=S9(d),v=S9(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}var T9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hle};function fle(t,e,n){var i=ui(t),r=[Sn,fn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Sn,Fn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function ple(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=BE.reduce(function(p,v){return p[v]=fle(v,e.rects,o),p},{}),l=a[e.placement],d=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=a}var D9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ple};function mle(t){var e=t.state,n=t.name;e.modifiersData[n]=Rv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var A9={name:"popperOffsets",enabled:!0,phase:"read",fn:mle,data:{}};function gO(t){return t==="x"?"y":"x"}function gle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,w=n.tetherOffset,C=w===void 0?0:w,I=So(e,{boundary:d,rootBoundary:f,padding:v,altBoundary:p}),x=ui(e.placement),R=Br(e.placement),H=!R,D=yu(x),ee=gO(D),L=e.modifiersData.popperOffsets,re=e.rects.reference,Ce=e.rects.popper,Ue=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,Qe=typeof Ue=="number"?{mainAxis:Ue,altAxis:Ue}:Object.assign({mainAxis:0,altAxis:0},Ue),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,je={x:0,y:0};if(L){if(o){var Te,Ht=D==="y"?fn:Sn,Ge=D==="y"?zn:Fn,U=D==="y"?"height":"width",ne=L[D],ce=ne+I[Ht],Pe=ne-I[Ge],Ze=b?-Ce[U]/2:0,gn=R===la?re[U]:Ce[U],St=R===la?-Ce[U]:-re[U],Wn=e.elements.arrow,lt=b&&Wn?vu(Wn):{width:0,height:0},bi=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pv(),nr=bi[Ht],st=bi[Ge],Tn=_u(0,re[U],lt[U]),zt=H?re[U]/2-Ze-Tn-nr-Qe.mainAxis:gn-Tn-nr-Qe.mainAxis,Oi=H?-re[U]/2+Ze+Tn+st+Qe.mainAxis:St+Tn+st+Qe.mainAxis,wr=e.elements.arrow&&Io(e.elements.arrow),Ac=wr?D==="y"?wr.clientTop||0:wr.clientLeft||0:0,pa=(Te=Ie?.[D])!=null?Te:0,Au=ne+zt-pa-Ac,Kn=ne+Oi-pa,xc=_u(b?gu(ce,Au):ce,ne,b?Co(Pe,Kn):Pe);L[D]=xc,je[D]=xc-ne}if(l){var Mc,xu=D==="x"?fn:Sn,Mu=D==="x"?zn:Fn,Hr=L[ee],Mo=ee==="y"?"height":"width",Pc=Hr+I[xu],zr=Hr-I[Mu],br=[fn,Sn].indexOf(x)!==-1,Oc=(Mc=Ie?.[ee])!=null?Mc:0,ma=br?Pc:Hr-re[Mo]-Ce[Mo]-Oc+Qe.altAxis,kc=br?Hr+re[Mo]+Ce[Mo]-Oc-Qe.altAxis:zr,Ss=b&&br?v9(ma,Hr,kc):_u(b?ma:Pc,Hr,b?kc:zr);L[ee]=Ss,je[ee]=Ss-Hr}e.modifiersData[i]=je}}var x9={name:"preventOverflow",enabled:!0,phase:"main",fn:gle,requiresIfExists:["offset"]};function vO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yO(t){return t===Qt(t)||!qn(t)?wu(t):vO(t)}function vle(t){var e=t.getBoundingClientRect(),n=ua(e.width)/t.offsetWidth||1,i=ua(e.height)/t.offsetHeight||1;return n!==1||i!==1}function _O(t,e,n){n===void 0&&(n=!1);var i=qn(e),r=qn(e)&&vle(e),o=wi(e),a=Ur(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((li(e)!=="body"||Eu(o))&&(l=yO(e)),qn(e)?(d=Ur(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=bu(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function yle(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function wO(t){var e=yle(t);return m9.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function bO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function EO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var M9={placement:"bottom",modifiers:[],strategy:"absolute"};function P9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function O9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?M9:r;return function(l,d,f){f===void 0&&(f=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},M9,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],y=!1,b={state:p,setOptions:function(x){var R=typeof x=="function"?x(p.options):x;C(),p.options=Object.assign({},o,p.options,R),p.scrollParents={reference:jr(l)?Ic(l):l.contextElement?Ic(l.contextElement):[],popper:Ic(d)};var H=wO(EO([].concat(i,p.options.modifiers)));return p.orderedModifiers=H.filter(function(D){return D.enabled}),w(),b.update()},forceUpdate:function(){if(!y){var x=p.elements,R=x.reference,H=x.popper;if(P9(R,H)){p.rects={reference:_O(R,Io(H),p.options.strategy==="fixed"),popper:vu(H)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(Qe){return p.modifiersData[Qe.name]=Object.assign({},Qe.data)});for(var D=0;D<p.orderedModifiers.length;D++){if(p.reset===!0){p.reset=!1,D=-1;continue}var ee=p.orderedModifiers[D],L=ee.fn,re=ee.options,Ce=re===void 0?{}:re,Ue=ee.name;typeof L=="function"&&(p=L({state:p,options:Ce,name:Ue,instance:b})||p)}}}},update:bO(function(){return new Promise(function(I){b.forceUpdate(),I(p)})}),destroy:function(){C(),y=!0}};if(!P9(l,d))return b;b.setOptions(f).then(function(I){!y&&f.onFirstUpdate&&f.onFirstUpdate(I)});function w(){p.orderedModifiers.forEach(function(I){var x=I.name,R=I.options,H=R===void 0?{}:R,D=I.effect;if(typeof D=="function"){var ee=D({state:p,name:x,instance:b,options:H}),L=function(){};v.push(ee||L)}})}function C(){v.forEach(function(I){return I()}),v=[]}return b}}var _le=[b9,A9,w9,Av,D9,C9,x9,y9,T9],CO=O9({defaultModifiers:_le});var wle="tippy-box",$9="tippy-content",ble="tippy-backdrop",H9="tippy-arrow",z9="tippy-svg-arrow",Cu={passive:!0,capture:!0},q9=function(){return document.body};function IO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function MO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function G9(t,e){return typeof t=="function"?t.apply(void 0,e):t}function k9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Ele(t){return t.split(/\s+/).filter(Boolean)}function ff(t){return[].concat(t)}function R9(t,e){t.indexOf(e)===-1&&t.push(e)}function Cle(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Ile(t){return t.split("-")[0]}function GE(t){return[].slice.call(t)}function N9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Nv(){return document.createElement("div")}function WE(t){return["Element","Fragment"].some(function(e){return MO(t,e)})}function Sle(t){return MO(t,"NodeList")}function Tle(t){return MO(t,"MouseEvent")}function Dle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Ale(t){return WE(t)?[t]:Sle(t)?GE(t):Array.isArray(t)?t:GE(document.querySelectorAll(t))}function SO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function F9(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function xle(t){var e,n=ff(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Mle(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,f=Ile(a.placement),p=a.modifiersData.offset;if(!p)return!0;var v=f==="bottom"?p.top.y:0,y=f==="top"?p.bottom.y:0,b=f==="right"?p.left.x:0,w=f==="left"?p.right.x:0,C=o.top-i+v>d,I=i-o.bottom-y>d,x=o.left-n+b>d,R=n-o.right-w>d;return C||I||x||R})}function TO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function L9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var ys={isTouch:!1},V9=0;function Ple(){ys.isTouch||(ys.isTouch=!0,window.performance&&document.addEventListener("mousemove",W9))}function W9(){var t=performance.now();t-V9<20&&(ys.isTouch=!1,document.removeEventListener("mousemove",W9)),V9=t}function Ole(){var t=document.activeElement;if(Dle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function kle(){document.addEventListener("touchstart",Ple,Cu),window.addEventListener("blur",Ole)}var Rle=typeof window<"u"&&typeof document<"u",Nle=Rle?!!window.msCrypto:!1;var Fle={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Lle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},To=Object.assign({appendTo:q9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Fle,Lle),Vle=Object.keys(To),jle=function(e){var n=Object.keys(e);n.forEach(function(i){To[i]=e[i]})};function K9(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=To[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function Ule(t,e){var n=e?Object.keys(K9(Object.assign({},To,{plugins:e}))):Vle,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function j9(t,e){var n=Object.assign({},e,{content:G9(e.content,[t])},e.ignoreAttributes?{}:Ule(t,e.plugins));return n.aria=Object.assign({},To.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Ble=function(){return"innerHTML"};function AO(t,e){t[Ble()]=e}function U9(t){var e=Nv();return t===!0?e.className=H9:(e.className=z9,WE(t)?e.appendChild(t):AO(e,t)),e}function B9(t,e){WE(e.content)?(AO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?AO(t,e.content):t.textContent=e.content)}function xO(t){var e=t.firstElementChild,n=GE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains($9)}),arrow:n.find(function(i){return i.classList.contains(H9)||i.classList.contains(z9)}),backdrop:n.find(function(i){return i.classList.contains(ble)})}}function Q9(t){var e=Nv(),n=Nv();n.className=wle,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Nv();i.className=$9,i.setAttribute("data-state","hidden"),B9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=xO(e),d=l.box,f=l.content,p=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&B9(f,t.props),a.arrow?p?o.arrow!==a.arrow&&(d.removeChild(p),d.appendChild(U9(a.arrow))):d.appendChild(U9(a.arrow)):p&&d.removeChild(p)}return{popper:e,onUpdate:r}}Q9.$$tippy=!0;var $le=1,qE=[],DO=[];function Hle(t,e){var n=j9(t,Object.assign({},To,K9(N9(e)))),i,r,o,a=!1,l=!1,d=!1,f=!1,p,v,y,b=[],w=k9(Au,n.interactiveDebounce),C,I=$le++,x=null,R=Cle(n.plugins),H={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},D={id:I,reference:t,popper:Nv(),popperInstance:x,props:n,state:H,plugins:R,clearDelayTimeouts:ma,setProps:kc,setContent:Ss,show:ga,hide:Ts,hideWithInteractivity:Yv,enable:br,disable:Oc,unmount:pC,destroy:mC};if(!n.render)return D;var ee=n.render(D),L=ee.popper,re=ee.onUpdate;L.setAttribute("data-tippy-root",""),L.id="tippy-"+D.id,D.popper=L,t._tippy=D,L._tippy=D;var Ce=R.map(function(V){return V.fn(D)}),Ue=t.hasAttribute("aria-expanded");return wr(),Ze(),ne(),ce("onCreate",[D]),n.showOnCreate&&Pc(),L.addEventListener("mouseenter",function(){D.props.interactive&&D.state.isVisible&&D.clearDelayTimeouts()}),L.addEventListener("mouseleave",function(){D.props.interactive&&D.props.trigger.indexOf("mouseenter")>=0&&Ht().addEventListener("mousemove",w)}),D;function Qe(){var V=D.props.touch;return Array.isArray(V)?V:[V,0]}function Ie(){return Qe()[0]==="hold"}function je(){var V;return!!((V=D.props.render)!=null&&V.$$tippy)}function Te(){return C||t}function Ht(){var V=Te().parentNode;return V?xle(V):document}function Ge(){return xO(L)}function U(V){return D.state.isMounted&&!D.state.isVisible||ys.isTouch||p&&p.type==="focus"?0:IO(D.props.delay,V?0:1,To.delay)}function ne(V){V===void 0&&(V=!1),L.style.pointerEvents=D.props.interactive&&!V?"":"none",L.style.zIndex=""+D.props.zIndex}function ce(V,he,Se){if(Se===void 0&&(Se=!0),Ce.forEach(function(ut){ut[V]&&ut[V].apply(ut,he)}),Se){var wt;(wt=D.props)[V].apply(wt,he)}}function Pe(){var V=D.props.aria;if(V.content){var he="aria-"+V.content,Se=L.id,wt=ff(D.props.triggerTarget||t);wt.forEach(function(ut){var Qn=ut.getAttribute(he);if(D.state.isVisible)ut.setAttribute(he,Qn?Qn+" "+Se:Se);else{var ki=Qn&&Qn.replace(Se,"").trim();ki?ut.setAttribute(he,ki):ut.removeAttribute(he)}})}}function Ze(){if(!(Ue||!D.props.aria.expanded)){var V=ff(D.props.triggerTarget||t);V.forEach(function(he){D.props.interactive?he.setAttribute("aria-expanded",D.state.isVisible&&he===Te()?"true":"false"):he.removeAttribute("aria-expanded")})}}function gn(){Ht().removeEventListener("mousemove",w),qE=qE.filter(function(V){return V!==w})}function St(V){if(!(ys.isTouch&&(d||V.type==="mousedown"))){var he=V.composedPath&&V.composedPath()[0]||V.target;if(!(D.props.interactive&&L9(L,he))){if(ff(D.props.triggerTarget||t).some(function(Se){return L9(Se,he)})){if(ys.isTouch||D.state.isVisible&&D.props.trigger.indexOf("click")>=0)return}else ce("onClickOutside",[D,V]);D.props.hideOnClick===!0&&(D.clearDelayTimeouts(),D.hide(),l=!0,setTimeout(function(){l=!1}),D.state.isMounted||nr())}}}function Wn(){d=!0}function lt(){d=!1}function bi(){var V=Ht();V.addEventListener("mousedown",St,!0),V.addEventListener("touchend",St,Cu),V.addEventListener("touchstart",lt,Cu),V.addEventListener("touchmove",Wn,Cu)}function nr(){var V=Ht();V.removeEventListener("mousedown",St,!0),V.removeEventListener("touchend",St,Cu),V.removeEventListener("touchstart",lt,Cu),V.removeEventListener("touchmove",Wn,Cu)}function st(V,he){zt(V,function(){!D.state.isVisible&&L.parentNode&&L.parentNode.contains(L)&&he()})}function Tn(V,he){zt(V,he)}function zt(V,he){var Se=Ge().box;function wt(ut){ut.target===Se&&(TO(Se,"remove",wt),he())}if(V===0)return he();TO(Se,"remove",v),TO(Se,"add",wt),v=wt}function Oi(V,he,Se){Se===void 0&&(Se=!1);var wt=ff(D.props.triggerTarget||t);wt.forEach(function(ut){ut.addEventListener(V,he,Se),b.push({node:ut,eventType:V,handler:he,options:Se})})}function wr(){Ie()&&(Oi("touchstart",pa,{passive:!0}),Oi("touchend",Kn,{passive:!0})),Ele(D.props.trigger).forEach(function(V){if(V!=="manual")switch(Oi(V,pa),V){case"mouseenter":Oi("mouseleave",Kn);break;case"focus":Oi(Nle?"focusout":"blur",xc);break;case"focusin":Oi("focusout",xc);break}})}function Ac(){b.forEach(function(V){var he=V.node,Se=V.eventType,wt=V.handler,ut=V.options;he.removeEventListener(Se,wt,ut)}),b=[]}function pa(V){var he,Se=!1;if(!(!D.state.isEnabled||Mc(V)||l)){var wt=((he=p)==null?void 0:he.type)==="focus";p=V,C=V.currentTarget,Ze(),!D.state.isVisible&&Tle(V)&&qE.forEach(function(ut){return ut(V)}),V.type==="click"&&(D.props.trigger.indexOf("mouseenter")<0||a)&&D.props.hideOnClick!==!1&&D.state.isVisible?Se=!0:Pc(V),V.type==="click"&&(a=!Se),Se&&!wt&&zr(V)}}function Au(V){var he=V.target,Se=Te().contains(he)||L.contains(he);if(!(V.type==="mousemove"&&Se)){var wt=Mo().concat(L).map(function(ut){var Qn,ki=ut._tippy,qr=(Qn=ki.popperInstance)==null?void 0:Qn.state;return qr?{popperRect:ut.getBoundingClientRect(),popperState:qr,props:n}:null}).filter(Boolean);Mle(wt,V)&&(gn(),zr(V))}}function Kn(V){var he=Mc(V)||D.props.trigger.indexOf("click")>=0&&a;if(!he){if(D.props.interactive){D.hideWithInteractivity(V);return}zr(V)}}function xc(V){D.props.trigger.indexOf("focusin")<0&&V.target!==Te()||D.props.interactive&&V.relatedTarget&&L.contains(V.relatedTarget)||zr(V)}function Mc(V){return ys.isTouch?Ie()!==V.type.indexOf("touch")>=0:!1}function xu(){Mu();var V=D.props,he=V.popperOptions,Se=V.placement,wt=V.offset,ut=V.getReferenceClientRect,Qn=V.moveTransition,ki=je()?xO(L).arrow:null,qr=ut?{getBoundingClientRect:ut,contextElement:ut.contextElement||Te()}:t,Jv={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(va){var Po=va.state;if(je()){var Sf=Ge(),Ds=Sf.box;["placement","reference-hidden","escaped"].forEach(function(Oo){Oo==="placement"?Ds.setAttribute("data-placement",Po.placement):Po.attributes.popper["data-popper-"+Oo]?Ds.setAttribute("data-"+Oo,""):Ds.removeAttribute("data-"+Oo)}),Po.attributes.popper={}}}},Ei=[{name:"offset",options:{offset:wt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Qn}},Jv];je()&&ki&&Ei.push({name:"arrow",options:{element:ki,padding:3}}),Ei.push.apply(Ei,he?.modifiers||[]),D.popperInstance=CO(qr,L,Object.assign({},he,{placement:Se,onFirstUpdate:y,modifiers:Ei}))}function Mu(){D.popperInstance&&(D.popperInstance.destroy(),D.popperInstance=null)}function Hr(){var V=D.props.appendTo,he,Se=Te();D.props.interactive&&V===q9||V==="parent"?he=Se.parentNode:he=G9(V,[Se]),he.contains(L)||he.appendChild(L),D.state.isMounted=!0,xu()}function Mo(){return GE(L.querySelectorAll("[data-tippy-root]"))}function Pc(V){D.clearDelayTimeouts(),V&&ce("onTrigger",[D,V]),bi();var he=U(!0),Se=Qe(),wt=Se[0],ut=Se[1];ys.isTouch&&wt==="hold"&&ut&&(he=ut),he?i=setTimeout(function(){D.show()},he):D.show()}function zr(V){if(D.clearDelayTimeouts(),ce("onUntrigger",[D,V]),!D.state.isVisible){nr();return}if(!(D.props.trigger.indexOf("mouseenter")>=0&&D.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(V.type)>=0&&a)){var he=U(!1);he?r=setTimeout(function(){D.state.isVisible&&D.hide()},he):o=requestAnimationFrame(function(){D.hide()})}}function br(){D.state.isEnabled=!0}function Oc(){D.hide(),D.state.isEnabled=!1}function ma(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function kc(V){if(!D.state.isDestroyed){ce("onBeforeUpdate",[D,V]),Ac();var he=D.props,Se=j9(t,Object.assign({},he,N9(V),{ignoreAttributes:!0}));D.props=Se,wr(),he.interactiveDebounce!==Se.interactiveDebounce&&(gn(),w=k9(Au,Se.interactiveDebounce)),he.triggerTarget&&!Se.triggerTarget?ff(he.triggerTarget).forEach(function(wt){wt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),Ze(),ne(),re&&re(he,Se),D.popperInstance&&(xu(),Mo().forEach(function(wt){requestAnimationFrame(wt._tippy.popperInstance.forceUpdate)})),ce("onAfterUpdate",[D,V])}}function Ss(V){D.setProps({content:V})}function ga(){var V=D.state.isVisible,he=D.state.isDestroyed,Se=!D.state.isEnabled,wt=ys.isTouch&&!D.props.touch,ut=IO(D.props.duration,0,To.duration);if(!(V||he||Se||wt)&&!Te().hasAttribute("disabled")&&(ce("onShow",[D],!1),D.props.onShow(D)!==!1)){if(D.state.isVisible=!0,je()&&(L.style.visibility="visible"),ne(),bi(),D.state.isMounted||(L.style.transition="none"),je()){var Qn=Ge(),ki=Qn.box,qr=Qn.content;SO([ki,qr],0)}y=function(){var Ei;if(!(!D.state.isVisible||f)){if(f=!0,L.offsetHeight,L.style.transition=D.props.moveTransition,je()&&D.props.animation){var Rc=Ge(),va=Rc.box,Po=Rc.content;SO([va,Po],ut),F9([va,Po],"visible")}Pe(),Ze(),R9(DO,D),(Ei=D.popperInstance)==null||Ei.forceUpdate(),ce("onMount",[D]),D.props.animation&&je()&&Tn(ut,function(){D.state.isShown=!0,ce("onShown",[D])})}},Hr()}}function Ts(){var V=!D.state.isVisible,he=D.state.isDestroyed,Se=!D.state.isEnabled,wt=IO(D.props.duration,1,To.duration);if(!(V||he||Se)&&(ce("onHide",[D],!1),D.props.onHide(D)!==!1)){if(D.state.isVisible=!1,D.state.isShown=!1,f=!1,a=!1,je()&&(L.style.visibility="hidden"),gn(),nr(),ne(!0),je()){var ut=Ge(),Qn=ut.box,ki=ut.content;D.props.animation&&(SO([Qn,ki],wt),F9([Qn,ki],"hidden"))}Pe(),Ze(),D.props.animation?je()&&st(wt,D.unmount):D.unmount()}}function Yv(V){Ht().addEventListener("mousemove",w),R9(qE,w),w(V)}function pC(){D.state.isVisible&&D.hide(),D.state.isMounted&&(Mu(),Mo().forEach(function(V){V._tippy.unmount()}),L.parentNode&&L.parentNode.removeChild(L),DO=DO.filter(function(V){return V!==D}),D.state.isMounted=!1,ce("onHidden",[D]))}function mC(){D.state.isDestroyed||(D.clearDelayTimeouts(),D.unmount(),Ac(),delete t._tippy,D.state.isDestroyed=!0,ce("onDestroy",[D]))}}function Fv(t,e){e===void 0&&(e={});var n=To.plugins.concat(e.plugins||[]);kle();var i=Object.assign({},e,{plugins:n}),r=Ale(t);if(0)var o,a;var l=r.reduce(function(d,f){var p=f&&Hle(f,i);return p&&d.push(p),d},[]);return WE(t)?l[0]:l}Fv.defaultProps=To;Fv.setDefaultProps=jle;Fv.currentInput=ys;var xDe=Object.assign({},Av,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Fv.setDefaultProps({render:Q9});var PO=Fv;var OO=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=G0(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function KE(t){return t instanceof io}function Lv(t){return typeof t=="function"}function Vv(t){return typeof t=="string"}var kO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},RO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},zle=new we("Component context"),NO=(()=>{let e=class e{constructor(){this.injector=J(on),this.appRef=J(Yo),this.environmentInjector=J(ni)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=Ja(r.context),o=on.create({providers:[{provide:zle,useValue:a.asReadonly()}],parent:o})),new OO({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new kO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(KE(i))return this.createTemplate(i,r);if(Lv(i))return this.createComponent(i,r);if(Vv(i))return new RO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J9=!1,X9=!1;typeof window<"u"&&(J9="IntersectionObserver"in window,X9="ResizeObserver"in window);function Y9(t,e={root:null,threshold:.3}){let n=nH(t);return new Le(i=>{if(!J9){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function Z9(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Gle(t){let e=nH(t);return eH(e).pipe(fS(150),Ne(()=>Z9(e)))}function eH(t){return Wle(t)}function Wle(t){return new Le(e=>{if(!X9){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function jv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function tH(t){return(Qle(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Kle(t){return Yle(t)?"":typeof t=="string"?t:`${t}px`}function Qle(t){return typeof t=="string"}function Yle(t){return t==null}function nH(t){return t instanceof jt?t.nativeElement:t}var FO,LO=new WeakMap;function Jle(t,e){return FO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||LO.get(i.target)()})}),LO.set(t,e),FO.observe(t),()=>{LO.delete(t),FO.unobserve(t)}}var VO=new we("Tippy config",{providedIn:"root",factory(){return{}}}),iH=new we("TIPPY_REF"),_s=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,f){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=f,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Jt,this.destroyed=new ei,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new ei,this.contentChanged=new ei}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;QE("content",i)&&this.contentChanged.next(),QE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=te(te({},this.globalConfig.variations[o]),r)),QE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),QE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Y9(this.host).pipe(Ci(()=>this.isOverflowing$()),Zr(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):Y9(this.host).pipe(Zr(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Zr(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Zr(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Jle(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(te(te({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(jv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=PO(this.host,vt(te(te(te({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),jv(this.globalConfig)),jv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of tH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Vv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Vv(this.content)){let o=on.create({providers:[{provide:iH,useValue:this.instance}],parent:this.injector});Lv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):KE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,te({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Lv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Vv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){Md(this.host,"contextmenu").pipe(Zr(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Md(document.body,"keydown").pipe(ti(({code:i})=>i==="Escape"),Zr(Op(this.destroyed,this.visibleInternal.pipe(ti(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){eH(this.host).pipe(Zr(Op(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=Kle(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return em(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[Gle(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Ci(()=>new Le(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Ne(()=>Z9(this.host)))),Op(...i)}};e.\u0275fac=function(r){return new(r||e)(F(Sr),F(VO),F(on),F(NO),F(pi),F(ft),F(jt))},e.\u0275dir=Ct({type:e,selectors:[["","tp",""]],inputs:{appendTo:[Ae.None,"tpAppendTo","appendTo"],content:[Ae.None,"tp","content"],delay:[Ae.None,"tpDelay","delay"],duration:[Ae.None,"tpDuration","duration"],hideOnClick:[Ae.None,"tpHideOnClick","hideOnClick"],interactive:[Ae.None,"tpInteractive","interactive"],interactiveBorder:[Ae.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[Ae.None,"tpMaxWidth","maxWidth"],offset:[Ae.None,"tpOffset","offset"],placement:[Ae.None,"tpPlacement","placement"],popperOptions:[Ae.None,"tpPopperOptions","popperOptions"],showOnCreate:[Ae.None,"tpShowOnCreate","showOnCreate"],trigger:[Ae.None,"tpTrigger","trigger"],triggerTarget:[Ae.None,"tpTriggerTarget","triggerTarget"],zIndex:[Ae.None,"tpZIndex","zIndex"],animation:[Ae.None,"tpAnimation","animation"],useTextContent:[Ae.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",zi],isLazy:[Ae.HasDecoratorInputTransform,"tpIsLazy","isLazy",zi],variation:[Ae.None,"tpVariation","variation"],isEnabled:[Ae.None,"tpIsEnabled","isEnabled"],className:[Ae.None,"tpClassName","className"],onlyTextOverflow:[Ae.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",zi],staticWidthHost:[Ae.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",zi],data:[Ae.None,"tpData","data"],useHostWidth:[Ae.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",zi],hideOnEscape:[Ae.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",zi],detectChangesComponent:[Ae.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[Ae.None,"tpPopperWidth","popperWidth"],customHost:[Ae.None,"tpHost","customHost"],isVisible:[Ae.HasDecoratorInputTransform,"tpIsVisible","isVisible",zi]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Jp,oo]});let t=e;return t})();function QE(t,e){return t in e}var rH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=vt(te(te(te({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let f=on.create({providers:[{provide:iH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=f,KE(r)?d.$viewOptions.context=te({$implicit:d.hide.bind(d)},o.context):Lv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,te(te({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},jv(this.globalConfig)),this.globalConfig.variations[a]),jv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let f of tH(o.className))d.popper.classList.add(f);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return PO(i,l)}};e.\u0275fac=function(r){return new(r||e)(oe(VO),oe(NO),oe(on))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oH(t={}){return Qa([{provide:VO,useValue:t}])}var Sc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Zle=500,Qi=Zle+"ms ease",YE=Nr("skip",[In(":enter",[])]),ws=Nr("fade",[In(":enter",[Xe({opacity:0}),Hn(Qi,Xe({opacity:1}))]),In(":leave",[Xe({opacity:1,"pointer-events":"none"}),Hn(Qi,Xe({opacity:0}))])]),JDe=Nr("scalefade",[In(":enter",[Xe({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Hn(Qi,Xe({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),In(":leave",[Xe({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Hn(Qi,Xe({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),JE=Nr("crossfade",[In(":enter",[Xe({opacity:0}),Hn(Qi,Xe({opacity:1}))]),In(":leave",[Xe({opacity:1,"pointer-events":"none",position:"absolute"}),Hn(Qi,Xe({opacity:0}))])]),sH=Nr("enter",[In(":enter",[Xe({opacity:0}),Hn(Qi,Xe({opacity:1}))])]),XDe=Nr("leave",[In(":leave",[Xe({opacity:1}),Hn(Qi,Xe({opacity:0}))])]),ZDe=Nr("hidden",[In("* => true",[Xe({opacity:"*"}),Hn(Qi,Xe({opacity:0}))]),In("true => *",[Xe({opacity:0}),Hn(Qi,Xe({opacity:"*"}))])]),XE=Nr("drawer2",[t5("0",Xe({height:0})),In("1 => void",[]),In("1 => *",[Xe({height:"*"}),Hn(Qi,Xe({height:0}))]),In("0 => void",[Xe({height:0}),Hn(Qi,Xe({height:0}))]),In("0 => *",[Xe({height:0}),Hn(Qi,Xe({height:"*"}))])]),aH=Nr("drawer",[In(":enter",[Xe({height:0,opacity:0}),Hn(Qi,Xe({height:"*",opacity:"*"}))]),In(":leave",[Xe({height:"*",opacity:"*"}),Hn(Qi,Xe({height:0,opacity:0}))])]);var G=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(i?e[e.length-1]:void 0)}static findPrevious(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a>0;)if(i(e[--a]))return e[a];if(r){for(a=e.length-1;a>o;)if(i(e[--a]))return e[a]}return}}static getNext(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(i?e[0]:void 0)}static findNext(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a<e.length-1;)if(i(e[++a]))return e[a];if(r){for(a=0;a<o;)if(i(e[++a]))return e[a]}return}}static findClosest(e,n,i){if(!this.isEmpty(e)){let r=e.indexOf(n),o=0,a,l=!0,d=!0;for(;l||d;)if(o++,d&&(a=e[r+o],a||(d=!1),a&&(!i||i(a)))||l&&(a=e[r-o],a||(l=!1),a&&(!i||i(a))))return a;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var pf=class extends Un{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(vS(1)).subscribe(e,n,i):super.subscribe(e)}};var pn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new pf(!1),this.changes=new pf(!1),this.errors=new pf(!1)}initTheme(){this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ln=class{};var ha=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function eue(t,e){if(t&1){let n=de();S(0,"i",4),k("mousedown",function(r){B(n);let o=P();return $(o.onMouseDown(r))})("click",function(r){B(n);let o=P();return $(o.nextState(r))})("contextmenu",function(r){B(n);let o=P();return $(o.previousState(r))}),T()}if(t&2){let n=P();O("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function tue(t,e){if(t&1){let n=de();S(0,"i",5),k("mousedown",function(r){B(n);let o=P();return $(o.onMouseDown(r))})("click",function(r){B(n);let o=P();return $(o.nextState(r))})("contextmenu",function(r){B(n);let o=P();return $(o.previousState(r))}),T()}}function nue(t,e){if(t&1){let n=de();S(0,"i",6),k("mousedown",function(r){B(n);let o=P();return $(o.onMouseDown(r))})("click",function(r){B(n);let o=P();return $(o.nextState(r))})("contextmenu",function(r){B(n);let o=P();return $(o.previousState(r))}),T()}}var cH=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Jt}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<ha.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<ha.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<ha.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<ha.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[pe],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(S(0,"div",0),X(1,eue,1,1,"i",1)(2,tue,1,0,"i",2)(3,nue,1,0,"i",3),T()),r&2&&($e("tri",o.tri),M(),O("ngIf",o.state==-1),M(),O("ngIf",o.state==0),M(),O("ngIf",o.state==1))},dependencies:[ge,ri,_t],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var mf=class{constructor(){this.images=[]}};var ZE=class{};var eC=class extends ZE{};var yr=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var gf=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return dr(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return dr(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return dr(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return dr(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return dr(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return dr(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return dr(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?dr(this.http.post(e,n).pipe(Ne(i=>i?i.files:[]))):dr(this.http.get(e).pipe(Ne(i=>i?i.files:[])))}};var vf=(()=>{let e=class e extends gf{constructor(i){super(i),this.http=i,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let i=sessionStorage.getItem("dataFileId");i&&(this._fileId=i)}return this._fileId}set dataFileId(i){this._fileId=i,sessionStorage.setItem("dataFileId",i)}getData(){return E(this,null,function*(){let i="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield dr(this.http.get(i,{params:{alt:"media"},responseType:"json"})).catch(r=>r)})}getBase64(i){return E(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(oe(El))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var di=(()=>{let e=class e{constructor(i,r,o,a){this.sanitizer=i,this.applicationService=r,this.googleService=o,this.dialogService=a,this.updateDelay=new Sc(5e3),this.fullscreenVisible=Ja(!1),this.filter=Ja([]),this.target=Ja(null),this.tagCounts={}}processData(){return E(this,null,function*(){let i=yield this.googleService.getData();return this.dataFolderId=i.dataFolderId,this.archiveFolderId=i.archiveFolderId,this.heartsFilter=i.heartsFilter,this.bookmarksFilter=i.bookmarksFilter,this.settings=i.settings,this.groupSizeFilterMin=i.groupSizeFilterMin,this.groupSizeFilterMax=i.groupSizeFilterMax,this.comparison=i.comparison,this.tagGroups=i.tagGroups,this.tagGroups.forEach(r=>r.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase())),i})}processImages(i,r=this.dataFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(f=>yr.isFolder(f)))this.processImages(i,d.id,o,a);if(G.push(o,l.filter(d=>yr.isImage(d)||yr.isVideo(d)).map(d=>this.metaToImage(d,i.imageProperties.find(f=>f.id==d.id),r,this.applicationService.reduceBandwidth))),--a.calls==0){this.images=o,this.groups=i.groupProperties.map(d=>{let f=new mf;return f.images=this.images.filter(p=>d.imageIds.includes(p.id)),f.images.sort((p,v)=>d.imageIds.indexOf(p.id)-d.imageIds.indexOf(v.id)),f.images.forEach(p=>p.group=f),f}),this.refreshFilter(),this.target.set(G.getFirst(this.filter()));for(let d of G.difference(i.imageProperties,this.images,(f,p)=>f.id==p.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),G.remove(this.images,this.images.find(f=>f.id==d.id));this.refreshTagCounts(),this.applicationService.loading.next(!1)}})}metaToImage(i,r,o,a){let l=new eC;return l.id=i.id,l.name=i.name,l.mimeType=i.mimeType,l.parentFolderId=o,a?l.thumbnailLink=i.thumbnailLink:l.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),yr.isImage(l)?(l.imageMediaMetadata=i.imageMediaMetadata,l.aspectRatio=l.imageMediaMetadata.width/l.imageMediaMetadata.height,l.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):yr.isVideo(l)&&(l.videoMediaMetadata=i.videoMediaMetadata,l.videoMediaMetadata||(l.videoMediaMetadata={}),(!l.videoMediaMetadata.width||l.videoMediaMetadata.width==0)&&(l.videoMediaMetadata.width=1920),(!l.videoMediaMetadata.height||l.videoMediaMetadata.height==0)&&(l.videoMediaMetadata.height=1080),l.aspectRatio=l.videoMediaMetadata.width/l.videoMediaMetadata.height,l.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+l.id+"/preview")),r?(l.heart=r.heart,l.bookmark=r.bookmark,l.tags=r.tags||[],l.likes=r.likes||0):(this.settings.autoBookmark&&(l.bookmark=!0),l.tags=[],l.likes=0),l}updateData(i=!1){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(r=>({id:r.id,heart:r.heart,bookmark:r.bookmark,tags:r.tags,likes:r.likes})),groupProperties:this.groups.filter(r=>r.images?.length>1).map(r=>({imageIds:r.images.map(o=>o.id)})),tagGroups:this.tagGroups,heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax,comparison:this.comparison}).then(r=>{r||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})}),i&&this.updateDelay.complete()}refreshTagCounts(){if(Object.keys(this.tagCounts).length==0)for(let i of this.tagGroups)for(let r of i.tags)this.tagCounts[r.id]=0;else for(let i in this.tagCounts)this.tagCounts[i]=0;this.tagCounts._heart=this.images.filter(i=>i.heart).length,this.tagCounts._bookmark=this.images.filter(i=>i.bookmark).length;for(let i of this.images)for(let r of i.tags)this.tagCounts[r]++}setRandomTarget(){if(!G.isEmpty(this.filter())){let i,r=this.target();r?r.group?i=G.getRandom(this.filter(),r.group.images):i=G.getRandom(this.filter(),[r]):i=G.getRandom(this.filter()),i&&this.target.set(i)}}setRandomGroupTarget(){let i=this.target();i?.group&&this.target.set(G.getRandom(i.group.images,[i]))}refreshFilter(i){i?this.actuallyRefreshFilter(i):this.images.forEach(r=>this.actuallyRefreshFilter(r)),this.filter.set(this.images.filter(r=>r.passesFilter))}actuallyRefreshFilter(i){i.group?i.group.open?i.passesFilter=this.doesPassFilter(i):i.group.images.forEach(r=>r.passesFilter=this.doesPassFilter(r)):i.passesFilter=this.doesPassFilter(i)}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark||this.settings.showVideos==-1&&yr.isVideo(i))return!1;let r=i.group?i.group.images.length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;let a;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){i.heart=!i.heart,this.tagCounts._heart=this.images.filter(r=>r.heart).length,this.refreshFilter(i),this.updateData()}toggleBookmark(i){i.bookmark=!i.bookmark,this.tagCounts._bookmark=this.images.filter(r=>r.bookmark).length,this.refreshFilter(i),this.updateData()}addTag(i,r){i.tags.includes(r)||i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}toggleTag(i,r){i.tags.includes(r)?G.remove(i.tags,r):i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}like(i){i.likes++,this.updateData()}dislike(i){i.likes>0&&(i.likes--,this.updateData())}delete(i,r,o=!0){return E(this,null,function*(){if(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(r?"archive":"delete")+" this image?"],"Yes","No")))return;this.applicationService.loading.next(!0);let a;if(i.group?(a=G.getNext(i.group.images,i),a||(a=G.getPrevious(i.group.images,i))):(a=G.getNext(this.masonryImages,this.masonryTargetReference),a||(a=G.getPrevious(this.masonryImages,this.masonryTargetReference))),r?yield this.googleService.move(i.id,i.parentFolderId,this.archiveFolderId):yield this.googleService.trash(i.id),G.remove(this.images,this.images.find(l=>l.id==i.id)),i.group&&(i.group.images.length>2?G.remove(i.group.images,i):(i.group.images.forEach(l=>delete l.group),G.remove(this.groups,i.group))),this.comparison!=null)for(let l of Object.values(this.comparison))l.includes(i.id)&&G.remove(l,i.id);this.refreshFilter(),this.target.set(a),this.refreshTagCounts(),this.updateData(!0),this.applicationService.loading.next(!1)})}};e.\u0275fac=function(r){return new(r||e)(oe(KM),oe(pn),oe(vf),oe(mn))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lH=(()=>{let e=class e extends Ln{constructor(i){super(),this.stateService=i,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){}onShowVideosStateChange(i){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=i.state}onAutoBookmarkStateChange(i){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=i.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.refreshFilter(),this.needsDataUpdate&&this.stateService.updateData()),this.resolve(!0)}};e.\u0275fac=function(r){return new(r||e)(F(di))},e.\u0275cmp=ue({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.close(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},standalone:!0,features:[Lt,pe],decls:8,vars:2,consts:[[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"app-switch",1),k("stateChange",function(l){return o.onShowVideosStateChange(l)}),T(),S(2,"span",2),j(3,"Show Videos"),T()(),S(4,"div",0)(5,"app-switch",3),k("stateChange",function(l){return o.onAutoBookmarkStateChange(l)}),T(),S(6,"span",2),j(7,"Auto Bookmark"),T()()),r&2&&(M(),O("state",o.stateService.settings.showVideos),M(4),O("state",o.stateService.settings.autoBookmark))},dependencies:[ge,cH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var iue=["content"];function rue(t,e){if(t&1){let n=de();S(0,"div",4)(1,"span"),j(2),T(),S(3,"i",5),k("click",function(){B(n);let r=P();return $(r.close())}),T()()}if(t&2){let n=P();M(2),ye(n.contentInstance.configuration.title)}}function oue(t,e){t&1&&(S(0,"div",6),vD(1,null,7),T())}function sue(t,e){if(t&1){let n=de();S(0,"i",11),k("click",function(){B(n);let r=P(2).$implicit;return $(r.click&&r.click())}),T()}if(t&2){let n=P(2).$implicit,i=P();uj("icon-button "+i.getIconClass(n)),$e("disabled",i.isDisabled(n))}}function aue(t,e){if(t&1){let n=de();S(0,"div",12),k("click",function(){B(n);let r=P(2).$implicit;return $(r.click&&r.click())}),j(1),T()}if(t&2){let n=P(2).$implicit,i=P();$e("disabled",i.isDisabled(n)),M(),ye(i.getText(n))}}function cue(t,e){if(t&1&&(Gt(0),X(1,sue,1,4,"i",9)(2,aue,2,3,"div",10),Wt()),t&2){let n=P().$implicit;M(),O("ngIf",n.iconClass),M(),O("ngIf",n.text)}}function lue(t,e){if(t&1&&(Gt(0),X(1,cue,3,2,"ng-container",8),Wt()),t&2){let n=e.$implicit,i=P();M(),O("ngIf",!i.isHidden(n))}}var uH=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){if(this.contentComponentType){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}else{let i=this.inputs.buttons;for(let r of i)if(r.click){let o=r.click;r.click=()=>{o(),this.resolve(!0)}}else r.click=()=>this.resolve(!1);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:i},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let r of i)r.text&&typeof r.text=="function"&&(r.text=r.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(i){return i.hidden&&i.hidden()}isDisabled(i){return i.disabled&&i.disabled()}getText(i){if(i.text)return typeof i.text=="function"?i.text():i.text}getIconClass(i){if(i.iconClass)return typeof i.iconClass=="function"?i.iconClass():i.iconClass}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&wj(iue,5,pi),r&2){let a;$0(a=H0())&&(o.containerRef=a.first)}},hostVars:5,hostBindings:function(r,o){r&1&&k("keydown.escape",function(l){return o.close(l)},!1,At),r&2&&(gl("@overlayFade",o.isVisible),$e("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[pe],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(r,o){r&1&&(X(0,rue,4,1,"div",0)(1,oue,3,0,"div",1),S(2,"div",2),X(3,lue,2,1,"ng-container",3),T()),r&2&&(O("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),M(),O("ngIf",o.contentComponentType),M(2),O("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[ge,yt,_t],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[Nr("overlayFade",[In("* => visible",[Xe({opacity:0}),Hn("250ms ease",Xe({opacity:1}))]),In("* => hidden",[Xe({opacity:1}),Hn("250ms ease",Xe({opacity:0}))])])]}});let t=e;return t})();function uue(t,e){if(t&1&&(S(0,"span"),j(1),T()),t&2){let n=e.$implicit;M(),ye(n)}}var dH=(()=>{let e=class e extends Ln{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275cmp=ue({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},standalone:!0,features:[Lt,pe],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(S(0,"div",0),X(1,uue,2,1,"span",1),T()),r&2&&(M(),O("ngForOf",o.messages))},dependencies:[ge,yt],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var wH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(F(ao),F(jt))},e.\u0275dir=Ct({type:e});let t=e;return t})(),zO=(()=>{let e=class e extends wH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275dir=Ct({type:e,features:[Lt]});let t=e;return t})(),rC=new we("");var due={provide:rC,useExisting:fl(()=>$r),multi:!0};function hue(){let t=Ws()?Ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fue=new we(""),$r=(()=>{let e=class e extends wH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(F(ao),F(jt),F(fue,8))},e.\u0275dir=Ct({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&k("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[Xp([due]),Lt]});let t=e;return t})();var pue=new we(""),mue=new we("");function bH(t){return t!=null}function EH(t){return _l(t)?Ft(t):t}function CH(t){let e={};return t.forEach(n=>{e=n!=null?te(te({},e),n):e}),Object.keys(e).length===0?null:e}function IH(t,e){return e.map(n=>n(t))}function gue(t){return!t.validate}function SH(t){return t.map(e=>gue(e)?e:n=>e.validate(n))}function vue(t){if(!t)return null;let e=t.filter(bH);return e.length==0?null:function(n){return CH(IH(n,e))}}function TH(t){return t!=null?vue(SH(t)):null}function yue(t){if(!t)return null;let e=t.filter(bH);return e.length==0?null:function(n){let i=IH(n,e).map(EH);return hS(i).pipe(Ne(CH))}}function DH(t){return t!=null?yue(SH(t)):null}function hH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _ue(t){return t._rawValidators}function wue(t){return t._rawAsyncValidators}function UO(t){return t?Array.isArray(t)?t:[t]:[]}function nC(t,e){return Array.isArray(t)?t.includes(e):t===e}function fH(t,e){let n=UO(e);return UO(t).forEach(r=>{nC(n,r)||n.push(r)}),n}function pH(t,e){return UO(e).filter(n=>!nC(t,n))}var iC=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TH(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},BO=class extends iC{get formDirective(){return null}get path(){return null}},$v=class extends iC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$O=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uAe=vt(te({},bue),{"[class.ng-submitted]":"isSubmitted"}),bs=(()=>{let e=class e extends $O{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(F($v,2))},e.\u0275dir=Ct({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&$e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Lt]});let t=e;return t})();var Uv="VALID",tC="INVALID",yf="PENDING",Bv="DISABLED";function Eue(t){return(oC(t)?t.validators:t)||null}function Cue(t){return Array.isArray(t)?TH(t):t||null}function Iue(t,e){return(oC(e)?e.asyncValidators:t)||null}function Sue(t){return Array.isArray(t)?DH(t):t||null}function oC(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var HO=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uv}get invalid(){return this.status===tC}get pending(){return this.status==yf}get disabled(){return this.status===Bv}get enabled(){return this.status!==Bv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pH(e,this._rawAsyncValidators))}hasValidator(e){return nC(this._rawValidators,e)}hasAsyncValidator(e){return nC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bv,this.errors=null,this._forEachChild(i=>{i.disable(vt(te({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(vt(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uv,this._forEachChild(i=>{i.enable(vt(te({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(vt(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uv||this.status===yf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bv:Uv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yf,this._hasOwnPendingAsyncValidator=!0;let n=EH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Jt,this.statusChanges=new Jt}_calculateStatus(){return this._allControlsDisabled()?Bv:this.errors?tC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yf)?yf:this._anyControlsHaveStatus(tC)?tC:Uv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oC(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Sue(this._rawAsyncValidators)}};var AH=new we("CallSetDisabledState",{providedIn:"root",factory:()=>qO}),qO="always";function Tue(t,e){return[...e.path,t]}function Due(t,e,n=qO){xue(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Mue(t,e),Oue(t,e),Pue(t,e),Aue(t,e)}function mH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Aue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function xue(t,e){let n=_ue(t);e.validator!==null?t.setValidators(hH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=wue(t);e.asyncValidator!==null?t.setAsyncValidators(hH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();mH(e._rawValidators,r),mH(e._rawAsyncValidators,r)}function Mue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xH(t,e)})}function Pue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oue(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function kue(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Rue(t){return Object.getPrototypeOf(t.constructor)===zO}function Nue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===$r?n=o:Rue(o)?i=o:r=o}),r||i||n||null}function gH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fue=class extends HO{constructor(e=null,n,i){super(Eue(n),Iue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oC(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Lue={provide:$v,useExisting:fl(()=>xo)},yH=Promise.resolve(),xo=(()=>{let e=class e extends $v{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new Fue,this._registered=!1,this.name="",this.update=new Jt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Nue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),kue(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Due(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){yH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&zi(r);yH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Tue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(F(BO,9),F(pue,10),F(mue,10),F(rC,10),F(Gs,8),F(AH,8))},e.\u0275dir=Ct({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"],options:[Ae.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xp([Lue]),Lt,oo]});let t=e;return t})();var Vue={provide:rC,useExisting:fl(()=>sC),multi:!0};function MH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jue(t){return t.split(":")[0]}var sC=(()=>{let e=class e extends zO{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=MH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=jue(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275dir=Ct({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xp([Vue]),Lt]});let t=e;return t})(),PH=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(MH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(F(jt),F(ao),F(sC,9))},e.\u0275dir=Ct({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Uue={provide:rC,useExisting:fl(()=>OH),multi:!0};function _H(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bue(t){return t.split(":")[0]}var OH=(()=>{let e=class e extends zO{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let f=l[d],p=this._getOptionValue(f.value);o.push(p)}}else{let l=r.options;for(let d=0;d<l.length;d++){let f=l[d];if(f.selected){let p=this._getOptionValue(f.value);o.push(p)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Bue(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275dir=Ct({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&k("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xp([Uue]),Lt]});let t=e;return t})(),kH=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(_H(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(_H(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(F(jt),F(ao),F(OH,9))},e.\u0275dir=Ct({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var $ue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=Bi({});let t=e;return t})();var Vn=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:AH,useValue:i.callSetDisabledState??qO}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Ui({type:e}),e.\u0275inj=Bi({imports:[$ue]});let t=e;return t})();var Gn=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var RH=(()=>{let e=class e extends Ln{ngOnInit(){this.value=this.defaultValue,this.configuration={title:this.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!Gn.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275cmp=ue({type:e,selectors:[["app-input-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},inputs:{title:"title",placeholder:"placeholder",defaultValue:"defaultValue",positiveButtonText:"positiveButtonText"},standalone:!0,features:[Lt,pe],decls:2,vars:2,consts:[[1,"container"],[3,"ngModel","placeholder","ngModelChange"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"input",1),Ar("ngModelChange",function(l){return lo(o.value,l)||(o.value=l),l}),T()()),r&2&&(M(),Dr("ngModel",o.value),O("placeholder",o.placeholder))},dependencies:[ge,Vn,$r,bs,xo],styles:[".container[_ngcontent-%COMP%]{padding:.5rem}"]});let t=e;return t})();function Hue(t,e){if(t&1&&(S(0,"span"),j(1),T()),t&2){let n=e.$implicit;M(),ye(n)}}var NH=(()=>{let e=class e extends Ln{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275cmp=ue({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},inputs:{title:"title",messages:"messages"},standalone:!0,features:[Lt,pe],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(S(0,"div",0),X(1,Hue,2,1,"span",1),T()),r&2&&(M(),O("ngForOf",o.messages))},dependencies:[ge,yt],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var mn=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}openSettings(){return this.create(lH)}createMessage(i,r){return this.create(NH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(dH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}createInput(i,r,o,a){return this.create(RH,{title:i,placeholder:r,defaultValue:o,positiveButtonText:a})}create(i,r,o=!0,a="center"){let l=G0(uH,{environmentInjector:this.injector}),d=l.instance;return d.contentComponentType=i,d.inputs=r,d.blurOverlay=o,d.position=a,d.active=()=>G.isLast(this.stack,d),d.result.then(()=>{G.remove(this.stack,d),setTimeout(()=>{this.appRef.detachView(l.hostView),l.destroy()},250)}),this.stack.push(d),this.appRef.attachView(l.hostView),document.body.firstElementChild.appendChild(l.location.nativeElement),l.changeDetectorRef.detectChanges(),d.result}};e.\u0275fac=function(r){return new(r||e)(oe(Yo),oe(ni))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zue(t,e){t&1&&fe(0,"div",3),t&2&&O("@fade",void 0)}function que(t,e){t&1&&fe(0,"span",4),t&2&&O("@fade",void 0)}var FH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Sc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||G.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(F(pn),F(mn))},e.\u0275cmp=ue({type:e,selectors:[["app-root"]],standalone:!0,features:[pe],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(X(0,zue,1,1,"div",0),fe(1,"div",1),X(2,que,1,1,"span",2),fe(3,"router-outlet")),r&2&&(O("ngIf",o.isBlurOverlayVisible()),M(),co("background-color",o.getLoadingBarColor()),M(),O("ngIf",o.applicationService.loading.value))},dependencies:[ge,_t,Sv],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[ws]}});let t=e;return t})();var Tc=(()=>{let e=class e{constructor(i){this.elementRef=i,this.create=new Jt}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(F(jt))},e.\u0275dir=Ct({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var LH=[{text:"Vyr\xE1\u017Eame spolu v dohodnut\xFD \u010Das",description:"Na ka\u017Ed\xFD de\u0148 si dopredu zvol\xEDme \u010Das, po ktorom ak bude v\xE4\u010D\u0161ina \xFA\u010Dastn\xEDkov pripraven\xE1 splavova\u0165, vyr\xE1\u017Eame. Zvy\u0161ok bude takto ma\u0165 priestor da\u0165 sa dokopy vlastn\xFDm tempom, zavola\u0165 si tax\xEDk a do ve\u010Dera sa zab\xE1va\u0165 v cie\u013Eovom kempe."},{text:"Splavujeme spolu a \u010Dak\xE1me sa",description:"Ide\xE1lne sa dr\u017E\xEDme pokope tak, aby sme na ostatn\xE9 rafty vedeli aspo\u0148 kri\u010Da\u0165 a dohodn\xFA\u0165 sa, \u010Do a ako. Bezd\xF4vodne nezastavujeme. Ak v\u0161ak pos\xE1dka prv\xE9ho raftu t\xFDch za nimi u\u017E ani nevid\xED, spomalia alebo zastavia a po\u010Dkaj\xFA."}];var _f=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return E(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield $$(U$(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return z$(UM(this.firestore,i,r),o)}delete(i,r){return B$(UM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(oe(su))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Es=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WO=class{constructor(e,n){this._delegate=e,this.firebase=n,hm(e,new Ti("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sw(this._delegate)))}_getService(e,n=Zo){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Zo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){hm(this._delegate,e)}_addOrOverwriteComponent(e){e1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var Gue={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},VH=new xr("app-compat","Firebase",Gue);function Wue(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:Kt,setLogLevel:cw,onLog:aw,apps:null,SDK_VERSION:ho,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:t1}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(f){delete e[f]}function r(f){if(f=f||Zo,!UD(e,f))throw VH.create("no-app",{appName:f});return e[f]}r.App=t;function o(f,p={}){let v=eh(f,p);if(UD(e,v.name))return e[v.name];let y=new t(v,n);return e[v.name]=y,y}function a(){return Object.keys(e).map(f=>e[f])}function l(f){let p=f.name,v=p.replace("-compat","");if(uo(f)&&f.type==="PUBLIC"){let y=(b=r())=>{if(typeof b[v]!="function")throw VH.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&cm(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,p){return p==="serverAuth"?null:p}return n}function UH(){let t=Wue(WO);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:UH,extendNamespace:e,createSubscribe:iw,ErrorFactory:xr,deepExtend:cm});function e(n){cm(t,n)}return t}var Kue=UH();var jH=new Jo("@firebase/app-compat"),Que="@firebase/app-compat",Yue="0.2.28";function Jue(t){Kt(Que,Yue,t)}if(sU()&&self.firebase!==void 0){jH.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&jH.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var be=Kue;Jue();var Xue="firebase",Zue="10.8.1";be.registerVersion(Xue,Zue,"app-compat");function Iu(){return window}var ede=2e3;function tde(t,e,n){return E(this,null,function*(){var i;let{BuildInfo:r}=Iu();Mr(e.sessionId,"AuthEvent did not contain a session ID");let o=yield sde(e.sessionId),a={};return Vl()?a.ibi=r.packageName:uh()?a.apn=r.packageName:Cn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Dw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function nde(t){return E(this,null,function*(){let{BuildInfo:e}=Iu(),n={};Vl()?n.iosBundleId=e.packageName:uh()?n.androidPackageName=e.packageName:Cn(t,"operation-not-supported-in-this-environment"),yield G1(t,n)})}function ide(t){let{cordova:e}=Iu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,e6()?"_blank":"_system","location=yes"),n(r)})})}function rde(t,e,n){return E(this,null,function*(){let{cordova:i}=Iu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function f(){l||(l=window.setTimeout(()=>{a(oi(t,"redirect-cancelled-by-user"))},ede))}function p(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),uh()&&document.addEventListener("visibilitychange",p,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function ode(t){var e,n,i,r,o,a,l,d,f,p;let v=Iu();Y(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y(typeof((p=(f=v?.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function sde(t){return E(this,null,function*(){let e=ade(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function ade(t){if(Mr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var cde=20,KO=class extends Im{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return E(this,null,function*(){yield this.initPromise})}};function lde(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:hde(),postBody:null,tenantId:t.tenantId,error:oi(t,"no-auth-event")}}function ude(t,e){return QO()._set(YO(t),e)}function BH(t){return E(this,null,function*(){let e=yield QO()._get(YO(t));return e&&(yield QO()._remove(YO(t))),e})}function dde(t,e){var n,i;let r=pde(e);if(r.includes("/__/auth/callback")){let o=aC(r),a=o.firebaseError?fde(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?oi(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function hde(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<cde;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function QO(){return Di(ns)}function YO(t){return ts("authEvent",t.config.apiKey,t.name)}function fde(t){try{return JSON.parse(t)}catch{return null}}function pde(t){let e=aC(t),n=e.link?decodeURIComponent(e.link):void 0,i=aC(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return aC(r).link||r||i||n||t}function aC(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return nc(n.join("?"))}var mde=500,JO=class{constructor(){this._redirectPersistence=Or,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$l,this._overrideRedirectResult=gh}_initialize(e){return E(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new KO(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return E(this,null,function*(){ode(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),p6(),yield this._originValidation(e);let a=lde(e,i,r);yield ude(e,a);let l=yield tde(e,a,n),d=yield ide(l);return rde(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nde(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Iu(),a=setTimeout(()=>E(this,null,function*(){yield BH(e),n.onEvent($H())}),mde),l=p=>E(this,null,function*(){clearTimeout(a);let v=yield BH(e),y=null;v&&p?.url&&(y=dde(v,p.url)),n.onEvent(y||$H())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,f=`${o.packageName.toLowerCase()}://`;Iu().handleOpenURL=p=>E(this,null,function*(){if(p.toLowerCase().startsWith(f)&&l({url:p}),typeof d=="function")try{d(p)}catch(v){console.error(v)}})}},HH=JO;function $H(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oi("no-auth-event")}}function zH(t,e){Bt(t)._logFramework(e)}var vde="@firebase/auth-compat",yde="0.5.3";var _de=1e3;function Wv(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function wde(){return Wv()==="http:"||Wv()==="https:"}function WH(t=Rt()){return!!((Wv()==="file:"||Wv()==="ionic:"||Wv()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function bde(){return lm()||ew()}function Ede(){return nw()&&document?.documentMode===11}function Cde(t=Rt()){return/Edge\/\d+/.test(t)}function Ide(t=Rt()){return Ede()||Cde(t)}function KH(){try{let t=self.localStorage,e=Ul();if(t)return t.setItem(e,"1"),t.removeItem(e),Ide()?tc():!0}catch{return ik()&&tc()}return!1}function ik(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function XO(){return(wde()||tw()||WH())&&!bde()&&KH()&&!ik()}function QH(){return WH()&&typeof document<"u"}function Sde(){return E(this,null,function*(){return QH()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},_de);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function Tde(){return typeof window<"u"?window:null}var _r={LOCAL:"local",NONE:"none",SESSION:"session"},qv=Y,YH="persistence";function Dde(t,e){if(qv(Object.values(_r).includes(e),t,"invalid-persistence-type"),lm()){qv(e!==_r.SESSION,t,"unsupported-persistence-type");return}if(ew()){qv(e===_r.NONE,t,"unsupported-persistence-type");return}if(ik()){qv(e===_r.NONE||e===_r.LOCAL&&tc(),t,"unsupported-persistence-type");return}qv(e===_r.NONE||KH(),t,"unsupported-persistence-type")}function ZO(t){return E(this,null,function*(){yield t._initializationPromise;let e=JH(),n=ts(YH,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function Ade(t,e){let n=JH();if(!n)return[];let i=ts(YH,t,e);switch(n.getItem(i)){case _r.NONE:return[Zs];case _r.LOCAL:return[na,Or];case _r.SESSION:return[Or];default:return[]}}function JH(){var t;try{return((t=Tde())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var xde=Y,Cs=class{constructor(){this.browserResolver=Di(cg),this.cordovaResolver=Di(HH),this.underlyingResolver=null,this._redirectPersistence=Or,this._completeRedirectFn=$l,this._overrideRedirectResult=gh}_initialize(e){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return E(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return QH()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xde(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return E(this,null,function*(){if(this.underlyingResolver)return;let e=yield Sde();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function XH(t){return t.unwrap()}function Mde(t){return t.wrapped()}function Pde(t){return ZH(t)}function Ode(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new tk(t,Qm(t,e))}else if(i){let r=ZH(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function ZH(t){let{_tokenResponse:e}=t instanceof On?t.customData:t;if(!e)return null;if(!(t instanceof On)&&"temporaryProof"in e&&"phoneNumber"in e)return lc.credentialFromResult(t);let n=e.providerId;if(!n||n===ac.PASSWORD)return null;let i;switch(n){case ac.GOOGLE:i=jl;break;case ac.FACEBOOK:i=Dm;break;case ac.GITHUB:i=Am;break;case ac.TWITTER:i=xm;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?Nl._create(n,l):Pr._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new Rl(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof On?i.credentialFromError(t):i.credentialFromResult(t)}function tr(t,e){return e.catch(n=>{throw n instanceof On&&Ode(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:Pde(n),additionalUserInfo:Km(n),user:wf.getOrCreate(r)}})}function ek(t,e){return E(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>tr(t,n.confirm(i))}})}var tk=class{constructor(e,n){this.resolver=n,this.auth=Mde(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tr(XH(this.auth),this.resolver.resolveSignIn(e))}};var wf=class t{constructor(e){this._delegate=e,this.multiFactor=Ym(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return E(this,null,function*(){return tr(this.auth,fh(this._delegate,e))})}linkWithPhoneNumber(e,n){return E(this,null,function*(){return ek(this.auth,Xm(this._delegate,e,n))})}linkWithPopup(e){return E(this,null,function*(){return tr(this.auth,ig(this._delegate,e,Cs))})}linkWithRedirect(e){return E(this,null,function*(){return yield ZO(Bt(this.auth)),sg(this._delegate,e,Cs)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return E(this,null,function*(){return tr(this.auth,ph(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return ek(this.auth,Zm(this._delegate,e,n))}reauthenticateWithPopup(e){return tr(this.auth,ng(this._delegate,e,Cs))}reauthenticateWithRedirect(e){return E(this,null,function*(){return yield ZO(Bt(this.auth)),og(this._delegate,e,Cs)})}sendEmailVerification(e){return Hm(this._delegate,e)}unlink(e){return E(this,null,function*(){return yield Pm(this._delegate,e),this})}updateEmail(e){return Gm(this._delegate,e)}updatePassword(e){return Wm(this._delegate,e)}updatePhoneNumber(e){return eg(this._delegate,e)}updateProfile(e){return qm(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return zm(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};wf.USER_MAP=new WeakMap;var Gv=Y,qH=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;Gv(r,"invalid-api-key",{appName:n.name}),Gv(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Cs:void 0;this._delegate=i.initialize({options:{persistence:kde(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Aw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){dh(this._delegate,n,i)}applyActionCode(n){return Nm(this._delegate,n)}checkActionCode(n){return mh(this._delegate,n)}confirmPasswordReset(n,i){return Rm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return E(this,null,function*(){return tr(this._delegate,Lm(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return $m(this._delegate,n)}isSignInWithEmailLink(n){return Um(this._delegate,n)}getRedirectResult(){return E(this,null,function*(){Gv(XO(),this._delegate,"operation-not-supported-in-this-environment");let n=yield ag(this._delegate,Cs);return n?tr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){zH(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=GH(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=GH(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return jm(this._delegate,n,i)}sendPasswordResetEmail(n,i){return km(this._delegate,n,i||void 0)}setPersistence(n){return E(this,null,function*(){Dde(this._delegate,n);let i;switch(n){case _r.SESSION:i=Or;break;case _r.LOCAL:i=(yield Di(na)._isAvailable())?na:ns;break;case _r.NONE:i=Zs;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return tr(this._delegate,Mm(this._delegate))}signInWithCredential(n){return tr(this._delegate,cc(this._delegate,n))}signInWithCustomToken(n){return tr(this._delegate,Om(this._delegate,n))}signInWithEmailAndPassword(n,i){return tr(this._delegate,Vm(this._delegate,n,i))}signInWithEmailLink(n,i){return tr(this._delegate,Bm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return ek(this._delegate,Jm(this._delegate,n,i))}signInWithPopup(n){return E(this,null,function*(){return Gv(XO(),this._delegate,"operation-not-supported-in-this-environment"),tr(this._delegate,tg(this._delegate,n,Cs))})}signInWithRedirect(n){return E(this,null,function*(){return Gv(XO(),this._delegate,"operation-not-supported-in-this-environment"),yield ZO(this._delegate),rg(this._delegate,n,Cs)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return Fm(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=_r,t})();function GH(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&wf.getOrCreate(a)),error:e,complete:n}}function kde(t,e){let n=Ade(t,e);if(typeof self<"u"&&!n.includes(na)&&n.push(na),typeof window<"u")for(let i of[ns,Or])n.includes(i)||n.push(i);return n.includes(Zs)||n.push(Zs),n}var Kv=class{constructor(){this.providerId="phone",this._delegate=new lc(XH(be.auth()))}static credential(e,n){return lc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};Kv.PHONE_SIGN_IN_METHOD=lc.PHONE_SIGN_IN_METHOD;Kv.PROVIDER_ID=lc.PROVIDER_ID;var Rde=Y,nk=class{constructor(e,n,i=be.app()){var r;Rde((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ch(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Nde="auth-compat";function Fde(t){t.INTERNAL.registerComponent(new Ti(Nde,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new qH(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ea.EMAIL_SIGNIN,PASSWORD_RESET:ea.PASSWORD_RESET,RECOVER_EMAIL:ea.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ea.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ea.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ea.VERIFY_EMAIL}},EmailAuthProvider:hh,FacebookAuthProvider:Dm,GithubAuthProvider:Am,GoogleAuthProvider:jl,OAuthProvider:Rl,SAMLAuthProvider:ah,PhoneAuthProvider:Kv,PhoneMultiFactorGenerator:Uw,RecaptchaVerifier:nk,TwitterAuthProvider:xm,Auth:qH,AuthCredential:po,Error:On}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(vde,yde)}Fde(be);var tz=w8(ez());var Xt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Xt=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(C,I){for(var x=0;x<t.length;x++)if(t[x].className===C)return typeof I<"u"&&(t[x]=I),t[x];return!1}function r(C){var I=C.getAttribute("data-upgraded");return I===null?[""]:I.split(",")}function o(C,I){var x=r(C);return x.indexOf(I)!==-1}function a(C,I,x){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(C,{bubbles:I,cancelable:x});var R=document.createEvent("Events");return R.initEvent(C,I,x),R}function l(C,I){if(typeof C>"u"&&typeof I>"u")for(var x=0;x<t.length;x++)l(t[x].className,t[x].cssClass);else{var R=C;if(typeof I>"u"){var H=i(R);H&&(I=H.cssClass)}for(var D=document.querySelectorAll("."+I),ee=0;ee<D.length;ee++)d(D[ee],R)}}function d(C,I){if(!(typeof C=="object"&&C instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var x=a("mdl-componentupgrading",!0,!0);if(C.dispatchEvent(x),!x.defaultPrevented){var R=r(C),H=[];if(I)o(C,I)||H.push(i(I));else{var D=C.classList;t.forEach(function(je){D.contains(je.cssClass)&&H.indexOf(je)===-1&&!o(C,je.className)&&H.push(je)})}for(var ee=0,L=H.length,re;ee<L;ee++){if(re=H[ee],re){R.push(re.className),C.setAttribute("data-upgraded",R.join(","));var Ce=new re.classConstructor(C);Ce[n]=re,e.push(Ce);for(var Ue=0,Qe=re.callbacks.length;Ue<Qe;Ue++)re.callbacks[Ue](C);re.widget&&(C[re.className]=Ce)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);C.dispatchEvent(Ie)}}}function f(C){Array.isArray(C)||(C instanceof Element?C=[C]:C=Array.prototype.slice.call(C));for(var I=0,x=C.length,R;I<x;I++)R=C[I],R instanceof HTMLElement&&(d(R),R.children.length>0&&f(R.children))}function p(C){var I=typeof C.widget>"u"&&typeof C.widget>"u",x=!0;I||(x=C.widget||C.widget);var R={classConstructor:C.constructor||C.constructor,className:C.classAsString||C.classAsString,cssClass:C.cssClass||C.cssClass,widget:x,callbacks:[]};if(t.forEach(function(D){if(D.cssClass===R.cssClass)throw new Error("The provided cssClass has already been registered: "+D.cssClass);if(D.className===R.className)throw new Error("The provided className has already been registered")}),C.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var H=i(C.classAsString,R);H||t.push(R)}function v(C,I){var x=i(C);x&&x.callbacks.push(I)}function y(){for(var C=0;C<t.length;C++)l(t[C].className)}function b(C){if(C){var I=e.indexOf(C);e.splice(I,1);var x=C.element_.getAttribute("data-upgraded").split(","),R=x.indexOf(C[n].classAsString);x.splice(R,1),C.element_.setAttribute("data-upgraded",x.join(","));var H=a("mdl-componentdowngraded",!0,!1);C.element_.dispatchEvent(H)}}function w(C){var I=function(R){e.filter(function(H){return H.element_===R}).forEach(b)};if(C instanceof Array||C instanceof NodeList)for(var x=0;x<C.length;x++)I(C[x]);else if(C instanceof Node)I(C);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:w}}();Xt.ComponentConfigPublic;Xt.ComponentConfig;Xt.Component;Xt.upgradeDom=Xt.upgradeDom;Xt.upgradeElement=Xt.upgradeElement;Xt.upgradeElements=Xt.upgradeElements;Xt.upgradeAllRegistered=Xt.upgradeAllRegistered;Xt.registerUpgradedCallback=Xt.registerUpgradedCallback;Xt.register=Xt.register;Xt.downgradeElements=Xt.downgradeElements;window.componentHandler=Xt;window.componentHandler=Xt;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Xt.upgradeAllRegistered()):(Xt.upgradeElement=function(){},Xt.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(c,u);h&&Object.defineProperty(s,u,h)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(s,c){if(c){var u=f;s=s.split(".");for(var h=0;h<s.length-1;h++){var m=s[h];m in u||(u[m]={}),u=u[m]}s=s[s.length-1],h=u[s],c=c(h),c!=h&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}p("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),p("Array.prototype.includes",function(s){return s||function(c,u){var h=this;h instanceof String&&(h=String(h));var m=h.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=h[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function y(s){return s!==void 0}function b(s){return typeof s=="string"}var w=/^[\w+/_-]+[=]{0,2}$/,C=null;function I(){}function x(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function R(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function H(s){return R(s)=="array"}function D(s){var c=R(s);return c=="array"||c=="object"&&typeof s.length=="number"}function ee(s){return R(s)=="function"}function L(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var re="closure_uid_"+(1e9*Math.random()>>>0),Ce=0;function Ue(s,c,u){return s.call.apply(s.bind,arguments)}function Qe(s,c,u){if(!s)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),s.apply(c,m)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=Ue:Ie=Qe,Ie.apply(null,arguments)}function je(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),s.apply(this,h)}}function Te(s,c){for(var u in c)s[u]=c[u]}var Ht=Date.now||function(){return+new Date};function Ge(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var h;s.length&&(h=s.shift());)!s.length&&y(c)?u[h]=c:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function U(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(h,m,g){for(var _=Array(arguments.length-2),A=2;A<arguments.length;A++)_[A-2]=arguments[A];return c.prototype[m].apply(h,_)}}function ne(s){if(Error.captureStackTrace)Error.captureStackTrace(this,ne);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}U(ne,Error),ne.prototype.name="CustomError";var ce;function Pe(s,c){s=s.split("%s");for(var u="",h=s.length-1,m=0;m<h;m++)u+=s[m]+(m<c.length?c[m]:"%s");ne.call(this,u+s[h])}U(Pe,ne),Pe.prototype.name="AssertionError";function Ze(s,c){throw new Pe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var gn=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(b(s))return b(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},St=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var h=s.length,m=b(s)?s.split(""):s,g=0;g<h;g++)g in m&&c.call(u,m[g],g,s)};function Wn(s,c){for(var u=b(s)?s.split(""):s,h=s.length-1;0<=h;--h)h in u&&c.call(void 0,u[h],h,s)}var lt=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=[],m=0,g=b(s)?s.split(""):s,_=0;_<u;_++)if(_ in g){var A=g[_];c.call(void 0,A,_,s)&&(h[m++]=A)}return h},bi=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=Array(u),m=b(s)?s.split(""):s,g=0;g<u;g++)g in m&&(h[g]=c.call(void 0,m[g],g,s));return h},nr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=b(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s))return!0;return!1};function st(s,c){return 0<=gn(s,c)}function Tn(s,c){c=gn(s,c);var u;return(u=0<=c)&&zt(s,c),u}function zt(s,c){return Array.prototype.splice.call(s,c,1).length==1}function Oi(s,c){e:{for(var u=s.length,h=b(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s)){c=m;break e}c=-1}0<=c&&zt(s,c)}function wr(s,c){var u=0;Wn(s,function(h,m){c.call(void 0,h,m,s)&&zt(s,m)&&u++})}function Ac(s){return Array.prototype.concat.apply([],arguments)}function pa(s){var c=s.length;if(0<c){for(var u=Array(c),h=0;h<c;h++)u[h]=s[h];return u}return[]}function Au(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var Kn=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},xc=/&/g,Mc=/</g,xu=/>/g,Mu=/"/g,Hr=/'/g,Mo=/\x00/g,Pc=/[\x00&<>"']/;function zr(s,c){return s<c?-1:s>c?1:0}function br(s){return Pc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(xc,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(Mc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(xu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace(Mu,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(Hr,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace(Mo,"&#0;"))),s}function Oc(s,c,u){for(var h in s)c.call(u,s[h],h,s)}function ma(s){var c={},u;for(u in s)c[u]=s[u];return c}var kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ss(s,c){for(var u,h,m=1;m<arguments.length;m++){h=arguments[m];for(u in h)s[u]=h[u];for(var g=0;g<kc.length;g++)u=kc[g],Object.prototype.hasOwnProperty.call(h,u)&&(s[u]=h[u])}}var ga="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Ts(){}Ts.prototype.next=function(){throw ga},Ts.prototype.ha=function(){return this};function Yv(s){if(s instanceof Ts)return s;if(typeof s.ha=="function")return s.ha(!1);if(D(s)){var c=0,u=new Ts;return u.next=function(){for(;;){if(c>=s.length)throw ga;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function pC(s,c){if(D(s))try{St(s,c,void 0)}catch(u){if(u!==ga)throw u}else{s=Yv(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==ga)throw u}}}function mC(s){if(D(s))return pa(s);s=Yv(s);var c=[];return pC(s,function(u){c.push(u)}),c}function V(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(s)if(s instanceof V)for(u=s.ja(),h=0;h<u.length;h++)this.set(u[h],s.get(u[h]));else for(h in s)this.set(h,s[h])}t=V.prototype,t.la=function(){he(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return he(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function he(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var h=s.a[c];Se(s.g,h)&&(s.a[u++]=h),c++}s.a.length=u}if(s.h!=s.a.length){var m={};for(u=c=0;c<s.a.length;)h=s.a[c],Se(m,h)||(s.a[u++]=h,m[h]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),h=0;h<u.length;h++){var m=u[h],g=this.get(m);s.call(c,g,m,this)}},t.ha=function(s){he(this);var c=0,u=this.j,h=this,m=new Ts;return m.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(c>=h.a.length)throw ga;var g=h.a[c++];return s?g:h.g[g]},m};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ut(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var h=s[u].indexOf("="),m=null;if(0<=h){var g=s[u].substring(0,h);m=s[u].substring(h+1)}else g=s[u];c(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Qn(s,c,u,h){for(var m=u.length;0<=(c=s.indexOf(u,c))&&c<h;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+m),!g||g==61||g==38||g==35))return c;c+=m+1}return-1}var ki=/#|$/;function qr(s,c){var u=s.search(ki),h=Qn(s,0,c,u);if(0>h)return null;var m=s.indexOf("&",h);return(0>m||m>u)&&(m=u),h+=c.length+1,decodeURIComponent(s.substr(h,m-h).replace(/\+/g," "))}var Jv=/[?&]($|#)/;function Ei(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Ei?(this.i=y(c)?c:s.i,Rc(this,s.j),this.A=s.A,this.h=s.h,va(this,s.C),this.g=s.g,Po(this,dk(s.a)),this.s=s.s):s&&(u=String(s).match(wt))?(this.i=!!c,Rc(this,u[1]||"",!0),this.A=Ds(u[2]||""),this.h=Ds(u[3]||"",!0),va(this,u[4]),this.g=Ds(u[5]||"",!0),Po(this,u[6]||"",!0),this.s=Ds(u[7]||"")):(this.i=!!c,this.a=new Tf(null,this.i))}Ei.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Oo(c,lk,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(Oo(c,lk,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Oo(u,u.charAt(0)=="/"?qz:zz,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Oo(u,Wz)),s.join("")};function Rc(s,c,u){s.j=u?Ds(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function va(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Po(s,c,u){c instanceof Tf?(s.a=c,Kz(s.a,s.i)):(u||(c=Oo(c,Gz)),s.a=new Tf(c,s.i))}function Sf(s){return s instanceof Ei?new Ei(s):new Ei(s,void 0)}function Ds(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Oo(s,c,u){return b(s)?(s=encodeURI(s).replace(c,Hz),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Hz(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var lk=/[#\/\?@]/g,zz=/[#\?:]/g,qz=/[#\?]/g,Gz=/[#\?@]/g,Wz=/#/g;function Tf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function ya(s){s.a||(s.a=new V,s.g=0,s.h&&ut(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Tf.prototype,t.add=function(s,c){ya(this),this.h=null,s=Pu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Nc(s,c){ya(s),c=Pu(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&he(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function uk(s,c){return ya(s),c=Pu(s,c),Se(s.a.g,c)}t.forEach=function(s,c){ya(this),this.a.forEach(function(u,h){St(u,function(m){s.call(c,m,h,this)},this)},this)},t.ja=function(){ya(this);for(var s=this.a.la(),c=this.a.ja(),u=[],h=0;h<c.length;h++)for(var m=s[h],g=0;g<m.length;g++)u.push(c[h]);return u},t.la=function(s){ya(this);var c=[];if(b(s))uk(this,s)&&(c=Ac(c,this.a.get(Pu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=Ac(c,s[u])}return c},t.set=function(s,c){return ya(this),this.h=null,s=Pu(this,s),uk(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var h=c[u],m=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var _=m;h[g]!==""&&(_+="="+encodeURIComponent(String(h[g]))),s.push(_)}}return this.h=s.join("&")};function dk(s){var c=new Tf;return c.h=s.h,s.a&&(c.a=new V(s.a),c.g=s.g),c}function Pu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function Kz(s,c){c&&!s.j&&(ya(s),s.h=null,s.a.forEach(function(u,h){var m=h.toLowerCase();h!=m&&(Nc(this,h),Nc(this,m),0<u.length&&(this.h=null,this.a.set(Pu(this,m),pa(u)),this.g+=u.length))},s)),s.j=c}function Fc(s){this.a=Sf(s)}function Qz(s,c){c?s.a.a.set(Dn.Sa,c):Nc(s.a.a,Dn.Sa)}function Yz(s,c){c!==null?s.a.a.set(Dn.Qa,c?"1":"0"):Nc(s.a.a,Dn.Qa)}function hk(s){return s.a.a.get(Dn.Pa)||null}function fk(s,c){c?s.a.a.set(Dn.PROVIDER_ID,c):Nc(s.a.a,Dn.PROVIDER_ID)}Fc.prototype.toString=function(){return this.a.toString()};var Dn={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Ou;e:{var pk=v.navigator;if(pk){var mk=pk.userAgent;if(mk){Ou=mk;break e}}Ou=""}function it(s){return Ou.indexOf(s)!=-1}function gk(){return(it("Chrome")||it("CriOS"))&&!it("Edge")}function gC(s){return gC[" "](s),s}gC[" "]=I;function Jz(s,c){var u=eq;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var vk=it("Opera"),Zt=it("Trident")||it("MSIE"),_a=it("Edge"),Xz=_a||Zt,Gr=it("Gecko")&&!(Ou.toLowerCase().indexOf("webkit")!=-1&&!it("Edge"))&&!(it("Trident")||it("MSIE"))&&!it("Edge"),Ri=Ou.toLowerCase().indexOf("webkit")!=-1&&!it("Edge"),Zz=Ri&&it("Mobile"),wa=it("Macintosh");function yk(){var s=v.document;return s?s.documentMode:void 0}var Xv;e:{var vC="",yC=function(){var s=Ou;if(Gr)return/rv:([^\);]+)(\)|;)/.exec(s);if(_a)return/Edge\/([\d\.]+)/.exec(s);if(Zt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Ri)return/WebKit\/(\S+)/.exec(s);if(vk)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(yC&&(vC=yC?yC[1]:""),Zt){var _C=yk();if(_C!=null&&_C>parseFloat(vC)){Xv=String(_C);break e}}Xv=vC}var eq={};function Lc(s){return Jz(s,function(){for(var c=0,u=Kn(String(Xv)).split("."),h=Kn(String(s)).split("."),m=Math.max(u.length,h.length),g=0;c==0&&g<m;g++){var _=u[g]||"",A=h[g]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],_[0].length==0&&A[0].length==0)break;c=zr(_[1].length==0?0:parseInt(_[1],10),A[1].length==0?0:parseInt(A[1],10))||zr(_[2].length==0,A[2].length==0)||zr(_[2],A[2]),_=_[3],A=A[3]}while(c==0)}return 0<=c})}var Df,_k=v.document;Df=_k&&Zt?yk()||(_k.compatMode=="CSS1Compat"?parseInt(Xv,10):5):void 0;function ku(s,c){this.a=s===bk&&c||"",this.g=wk}ku.prototype.ma=!0,ku.prototype.ka=function(){return this.a},ku.prototype.toString=function(){return"Const{"+this.a+"}"};var wk={},bk={};function Vc(){this.a="",this.h=Ck}Vc.prototype.ma=!0,Vc.prototype.ka=function(){return this.a.toString()},Vc.prototype.g=function(){return 1},Vc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ek(s){return s instanceof Vc&&s.constructor===Vc&&s.h===Ck?s.a:(Ze("expected object of type TrustedResourceUrl, got '"+s+"' of type "+R(s)),"type_error:TrustedResourceUrl")}function tq(){var s=qq;s instanceof ku&&s.constructor===ku&&s.g===wk?s=s.a:(Ze("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Vc;return c.a=s,c}var Ck={};function ir(){this.a="",this.h=Tk}ir.prototype.ma=!0,ir.prototype.ka=function(){return this.a.toString()},ir.prototype.g=function(){return 1},ir.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ba(s){return s instanceof ir&&s.constructor===ir&&s.h===Tk?s.a:(Ze("expected object of type SafeUrl, got '"+s+"' of type "+R(s)),"type_error:SafeUrl")}var Ik=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Zv(s){return s instanceof ir?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Ik.test(s)||(s="about:invalid#zClosurez"),wC(s))}function Sk(s){return s instanceof ir?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Ik.test(s)||(s="about:invalid#zClosurez"),wC(s))}var Tk={};function wC(s){var c=new ir;return c.a=s,c}wC("about:blank");function Ru(){this.a="",this.g=Dk}Ru.prototype.ma=!0;var Dk={};Ru.prototype.ka=function(){return this.a},Ru.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Ea(){this.a="",this.j=Ak,this.h=null}Ea.prototype.g=function(){return this.h},Ea.prototype.ma=!0,Ea.prototype.ka=function(){return this.a.toString()},Ea.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ey(s){return s instanceof Ea&&s.constructor===Ea&&s.j===Ak?s.a:(Ze("expected object of type SafeHtml, got '"+s+"' of type "+R(s)),"type_error:SafeHtml")}var Ak={};function Af(s,c){var u=new Ea;return u.a=s,u.h=c,u}Af("<!DOCTYPE html>",0);var nq=Af("",0);Af("<br>",0);var iq=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=ey(nq),!c.parentElement):!1});function rq(s,c){if(s.src=Ek(c),C===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&w.test(c)){C=c;break e}C=""}c=C,c&&s.setAttribute("nonce",c)}function Nu(s,c){c=c instanceof ir?c:Sk(c),s.assign(ba(c))}function Ca(s,c){this.a=y(s)?s:0,this.g=y(c)?c:0}Ca.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Ca.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Ca.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Ca.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function bC(s,c){this.width=s,this.height=c}t=bC.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function ty(s){return s?new SC(xf(s)):ce||(ce=new SC)}function EC(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):xk(document,s,c)}function CC(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var h=c||u;s=h.querySelectorAll&&h.querySelector&&s?h.querySelector(s?"."+s:""):xk(u,s,c)[0]||null}return s||null}function xk(s,c,u){var h;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var m=s.getElementsByClassName(c);return m}if(m=s.getElementsByTagName("*"),c){var g={};for(u=h=0;s=m[u];u++){var _=s.className;typeof _.split=="function"&&st(_.split(/\s+/),c)&&(g[h++]=s)}return g.length=h,g}return m}function oq(s,c){Oc(c,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?s.style.cssText=u:h=="class"?s.className=u:h=="for"?s.htmlFor=u:Mk.hasOwnProperty(h)?s.setAttribute(Mk[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?s.setAttribute(h,u):s[h]=u})}var Mk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ny(s){return s.scrollingElement?s.scrollingElement:(Ri||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function jc(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function xf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function IC(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(xf(s).createTextNode(String(c)))}}function Pk(s,c){return c?sq(s,function(u){return!c||b(u.className)&&st(u.className.split(/\s+/),c)}):null}function sq(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function SC(s){this.a=s||v.document||document}SC.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var iy={Fc:!0},Ok={Hc:!0},aq={Ec:!0},kk={Gc:!0};function Ia(){throw Error("Do not instantiate directly")}Ia.prototype.va=null,Ia.prototype.toString=function(){return this.content};function Mf(s,c,u,h){if(s=s(c||uq,void 0,u),h=(h||ty()).a.createElement("DIV"),s=cq(s),s.match(lq),s=Af(s,null),iq())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=ey(s),h.childNodes.length==1&&(s=h.firstChild,s.nodeType==1&&(h=s)),h}function cq(s){if(!L(s))return br(String(s));if(s instanceof Ia){if(s.fa===iy)return s.content;if(s.fa===kk)return br(s.content)}return Ze("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var lq=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,uq={};function dq(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function ry(){Ia.call(this)}U(ry,Ia),ry.prototype.fa=iy;function Oe(s){return s!=null&&s.fa===iy?s:s instanceof Ea?le(ey(s).toString(),s.g()):le(br(String(String(s))),dq(s))}function oy(){Ia.call(this)}U(oy,Ia),oy.prototype.fa=Ok,oy.prototype.va=1;function sy(s,c){this.content=String(s),this.va=c??null}U(sy,Ia),sy.prototype.fa=kk;function gt(s){return new sy(s,void 0)}var le=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=new c(String(u)),h!==void 0&&(u.va=h),u}}(ry),hq=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(oy);function fq(s){function c(){}var u={label:en("New password")};c.prototype=s,s=new c;for(var h in u)s[h]=u[h];return s}function en(s){return(s=String(s))?new sy(s,void 0):""}var Rk=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=String(u),u?(u=new c(u),h!==void 0&&(u.va=h),u):""}}(ry);function Ni(s){return s!=null&&s.fa===iy?String(String(s.content).replace(wq,"").replace(bq,"&lt;")).replace(vq,mq):br(String(s))}function Uc(s){return s!=null&&s.fa===Ok?s=String(s).replace(DC,TC):s instanceof ir?s=String(ba(s).toString()).replace(DC,TC):(s=String(s),_q.test(s)?s=s.replace(DC,TC):(Ze("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function Nk(s){return s!=null&&s.fa===aq?s=s.content:s==null?s="":s instanceof Ru?s instanceof Ru&&s.constructor===Ru&&s.g===Dk?s=s.a:(Ze("expected object of type SafeStyle, got '"+s+"' of type "+R(s)),s="type_error:SafeStyle"):(s=String(s),yq.test(s)||(Ze("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var pq={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function mq(s){return pq[s]}var gq={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function TC(s){return gq[s]}var vq=/[\x00\x22\x27\x3c\x3e]/g,DC=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,yq=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,_q=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,wq=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,bq=/</g;function AC(){return gt("Enter a valid phone number")}function Fk(){return gt("Unable to send password reset code to specified email")}function Lk(){return gt("Something went wrong. Please try again.")}function Vk(){return gt("This email already exists without any means of sign-in. Please reset the password to recover.")}function jk(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return gt(c)}function Uk(){return gt("Please login again to perform this operation")}function Pf(s,c,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=Eq+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=Lk()}s=gt(s).toString()}this.message=s||"",this.credential=u||null}l(Pf,Error),Pf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Eq="firebaseui/";function Bc(){xC!=0&&(Bk[this[re]||(this[re]=++Ce)]=this),this.T=this.T,this.C=this.C}var xC=0,Bk={};Bc.prototype.T=!1,Bc.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),xC!=0)){var s=this[re]||(this[re]=++Ce);if(xC!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bk[s]}};function Of(s,c){s.T?y(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(y(void 0)?Ie(c,void 0):c))}Bc.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kf(s){s&&typeof s.m=="function"&&s.m()}var Cq=Object.freeze||function(s){return s},$k=!Zt||9<=Number(Df),Iq=Zt&&!Lc("9"),Sq=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",I,c),v.removeEventListener("test",I,c)}catch{}return s}();function As(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}As.prototype.stopPropagation=function(){this.h=!0},As.prototype.preventDefault=function(){this.qb=!1};function Fi(s,c){if(As.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,h=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(Gr){e:{try{gC(c.nodeName);var m=!0;break e}catch{}m=!1}m||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=b(s.pointerType)?s.pointerType:Tq[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}U(Fi,As);var Tq=Cq({2:"touch",3:"pen",4:"mouse"});Fi.prototype.stopPropagation=function(){Fi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Fi.prototype.preventDefault=function(){Fi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,Iq)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Rf="closure_listenable_"+(1e6*Math.random()|0),Dq=0;function Aq(s,c,u,h,m){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!h,this.La=m,this.key=++Dq,this.sa=this.Ia=!1}function ay(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function cy(s){this.src=s,this.a={},this.g=0}cy.prototype.add=function(s,c,u,h,m){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var _=PC(s,c,h,m);return-1<_?(c=s[_],u||(c.Ia=!1)):(c=new Aq(c,this.src,g,!!h,m),c.Ia=u,s.push(c)),c};function MC(s,c){var u=c.type;u in s.a&&Tn(s.a[u],c)&&(ay(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function PC(s,c,u,h){for(var m=0;m<s.length;++m){var g=s[m];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==h)return m}return-1}var OC="closure_lm_"+(1e6*Math.random()|0),kC={},Hk=0;function Wr(s,c,u,h,m){if(h&&h.once)return Nf(s,c,u,h,m);if(H(c)){for(var g=0;g<c.length;g++)Wr(s,c[g],u,h,m);return null}return u=NC(u),s&&s[Rf]?s.J.add(String(c),u,!1,L(h)?!!h.capture:!!h,m):zk(s,c,u,!1,h,m)}function zk(s,c,u,h,m,g){if(!c)throw Error("Invalid event type");var _=L(m)?!!m.capture:!!m,A=ly(s);if(A||(s[OC]=A=new cy(s)),u=A.add(c,u,h,_,g),u.proxy)return u;if(h=xq(),u.proxy=h,h.src=s,h.listener=u,s.addEventListener)Sq||(m=_),m===void 0&&(m=!1),s.addEventListener(c.toString(),h,m);else if(s.attachEvent)s.attachEvent(qk(c.toString()),h);else if(s.addListener&&s.removeListener)s.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return Hk++,u}function xq(){var s=Mq,c=$k?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function Nf(s,c,u,h,m){if(H(c)){for(var g=0;g<c.length;g++)Nf(s,c[g],u,h,m);return null}return u=NC(u),s&&s[Rf]?s.J.add(String(c),u,!0,L(h)?!!h.capture:!!h,m):zk(s,c,u,!0,h,m)}function $c(s,c,u,h,m){if(H(c))for(var g=0;g<c.length;g++)$c(s,c[g],u,h,m);else h=L(h)?!!h.capture:!!h,u=NC(u),s&&s[Rf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=PC(g,u,h,m),-1<u&&(ay(g[u]),zt(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=ly(s))&&(c=s.a[c.toString()],s=-1,c&&(s=PC(c,u,h,m)),(u=-1<s?c[s]:null)&&Sa(u))}function Sa(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Rf])MC(c.J,s);else{var u=s.type,h=s.proxy;c.removeEventListener?c.removeEventListener(u,h,s.capture):c.detachEvent?c.detachEvent(qk(u),h):c.addListener&&c.removeListener&&c.removeListener(h),Hk--,(u=ly(c))?(MC(u,s),u.g==0&&(u.src=null,c[OC]=null)):ay(s)}}}function qk(s){return s in kC?kC[s]:kC[s]="on"+s}function Gk(s,c,u,h){var m=!0;if((s=ly(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=Wk(g,h),m=m&&g!==!1)}return m}function Wk(s,c){var u=s.listener,h=s.La||s.src;return s.Ia&&Sa(s),u.call(h,c)}function Mq(s,c){if(s.sa)return!0;if(!$k){if(!c)e:{c=["window","event"];for(var u=v,h=0;h<c.length;h++)if(u=u[c[h]],u==null){c=null;break e}c=u}if(h=c,c=new Fi(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=c.g;m;m=m.parentNode)h.push(m);for(s=s.type,m=h.length-1;!c.h&&0<=m;m--){c.g=h[m];var g=Gk(h[m],s,!0,c);u=u&&g}for(m=0;!c.h&&m<h.length;m++)c.g=h[m],g=Gk(h[m],s,!1,c),u=u&&g}return u}return Wk(s,new Fi(c,this))}function ly(s){return s=s[OC],s instanceof cy?s:null}var RC="__closure_events_fn_"+(1e9*Math.random()>>>0);function NC(s){return ee(s)?s:(s[RC]||(s[RC]=function(c){return s.handleEvent(c)}),s[RC])}function An(){Bc.call(this),this.J=new cy(this),this.wb=this,this.Ha=null}U(An,Bc),An.prototype[Rf]=!0,An.prototype.Za=function(s){this.Ha=s},An.prototype.removeEventListener=function(s,c,u,h){$c(this,s,c,u,h)};function Ta(s,c){var u,h=s.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(s=s.wb,h=c.type||c,b(c))c=new As(c,s);else if(c instanceof As)c.target=c.target||s;else{var m=c;c=new As(h,s),Ss(c,m)}if(m=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var _=c.g=u[g];m=uy(_,h,!0,c)&&m}if(c.h||(_=c.g=s,m=uy(_,h,!0,c)&&m,c.h||(m=uy(_,h,!1,c)&&m)),u)for(g=0;!c.h&&g<u.length;g++)_=c.g=u[g],m=uy(_,h,!1,c)&&m;return m}An.prototype.o=function(){if(An.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var h=s.a[u],m=0;m<h.length;m++)++c,ay(h[m]);delete s.a[u],s.g--}}this.Ha=null};function uy(s,c,u,h){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var m=!0,g=0;g<c.length;++g){var _=c[g];if(_&&!_.sa&&_.capture==u){var A=_.listener,N=_.La||_.src;_.Ia&&MC(s.J,_),m=A.call(N,h)!==!1&&m}}return m&&h.qb!=0}var rr={},Kk=0;function Qk(s,c){if(!s)throw Error("Event target element must be provided!");if(s=FC(s),rr[s]&&rr[s].length)for(var u=0;u<rr[s].length;u++)Ta(rr[s][u],c)}function Pq(s){var c=FC(s.N());rr[c]&&rr[c].length&&(Oi(rr[c],function(u){return u==s}),rr[c].length||delete rr[c])}function FC(s){return typeof s.a>"u"&&(s.a=Kk,Kk++),s.a}function dy(s){if(!s)throw Error("Event target element must be provided!");An.call(this),this.a=s}l(dy,An),dy.prototype.N=function(){return this.a},dy.prototype.register=function(){var s=FC(this.N());rr[s]?st(rr[s],this)||rr[s].push(this):rr[s]=[this]};function Yk(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function LC(s,c){this.h=s,this.j=c,this.g=0,this.a=null}LC.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function Jk(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function Xk(){this.g=this.a=null}var Zk=new LC(function(){return new VC},function(s){s.reset()});Xk.prototype.add=function(s,c){var u=Zk.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function Oq(){var s=tR,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function VC(){this.next=this.g=this.a=null}VC.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},VC.prototype.reset=function(){this.next=this.g=this.a=null};function eR(s){v.setTimeout(function(){throw s},0)}var jC;function kq(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!it("Presto")&&(s=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var _="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=Ie(function(N){(A=="*"||N.origin==A)&&N.data==_&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(_,A)}}}),typeof s<"u"&&!it("Trident")&&!it("MSIE")){var c=new s,u={},h=u;return c.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){h.next={gb:m},h=h.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function UC(s,c){hy||Rq(),BC||(hy(),BC=!0),tR.add(s,c)}var hy;function Rq(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);hy=function(){s.then(nR)}}else hy=function(){var c=nR;!ee(v.setImmediate)||v.Window&&v.Window.prototype&&!it("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(jC||(jC=kq()),jC(c)):v.setImmediate(c)}}var BC=!1,tR=new Xk;function nR(){for(var s;s=Oq();){try{s.a.call(s.g)}catch(c){eR(c)}Jk(Zk,s)}BC=!1}function xn(s){if(this.a=Hc,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=I)try{var c=this;s.call(void 0,function(u){zc(c,Ff,u)},function(u){if(!(u instanceof Lu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}zc(c,xs,u)})}catch(u){zc(this,xs,u)}}var Hc=0,Ff=2,xs=3;function iR(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}iR.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var rR=new LC(function(){return new iR},function(s){s.reset()});function $C(s,c,u){var h=rR.get();return h.s=s,h.g=c,h.j=u,h}function tn(s){if(s instanceof xn)return s;var c=new xn(I);return zc(c,Ff,s),c}function Fu(s){return new xn(function(c,u){u(s)})}xn.prototype.then=function(s,c,u){return sR(this,ee(s)?s:null,ee(c)?c:null,u)},xn.prototype.$goog_Thenable=!0,t=xn.prototype,t.fc=function(s,c){return s=$C(s,s,c),s.h=!0,HC(this,s),this},t.Ca=function(s,c){return sR(this,null,s,c)},t.cancel=function(s){this.a==Hc&&UC(function(){var c=new Lu(s);oR(this,c)},this)};function oR(s,c){if(s.a==Hc)if(s.h){var u=s.h;if(u.g){for(var h=0,m=null,g=null,_=u.g;_&&(_.h||(h++,_.a==s&&(m=_),!(m&&1<h)));_=_.next)m||(g=_);m&&(u.a==Hc&&h==1?oR(u,c):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):cR(u),lR(u,m,xs,c)))}s.h=null}else zc(s,xs,c)}function HC(s,c){s.g||s.a!=Ff&&s.a!=xs||aR(s),s.j?s.j.next=c:s.g=c,s.j=c}function sR(s,c,u,h){var m=$C(null,null,null);return m.a=new xn(function(g,_){m.s=c?function(A){try{var N=c.call(h,A);g(N)}catch(Q){_(Q)}}:g,m.g=u?function(A){try{var N=u.call(h,A);!y(N)&&A instanceof Lu?_(A):g(N)}catch(Q){_(Q)}}:_}),m.a.h=s,HC(s,m),m.a}t.hc=function(s){this.a=Hc,zc(this,Ff,s)},t.ic=function(s){this.a=Hc,zc(this,xs,s)};function zc(s,c,u){if(s.a==Hc){s===u&&(c=xs,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var h=u,m=s.hc,g=s.ic;if(h instanceof xn){HC(h,$C(m||I,g||null,s));var _=!0}else if(Yk(h))h.then(m,g,s),_=!0;else{if(L(h))try{var A=h.then;if(ee(A)){Nq(h,A,m,g,s),_=!0;break e}}catch(N){g.call(s,N),_=!0;break e}_=!1}}_||(s.A=u,s.a=c,s.h=null,aR(s),c!=xs||u instanceof Lu||Fq(s,u))}}function Nq(s,c,u,h,m){function g(N){A||(A=!0,h.call(m,N))}function _(N){A||(A=!0,u.call(m,N))}var A=!1;try{c.call(s,_,g)}catch(N){g(N)}}function aR(s){s.i||(s.i=!0,UC(s.Hb,s))}function cR(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=cR(this);)lR(this,s,this.a,this.A);this.i=!1};function lR(s,c,u,h){if(u==xs&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,uR(c,u,h);else try{c.h?c.s.call(c.j):uR(c,u,h)}catch(m){dR.call(null,m)}Jk(rR,c)}function uR(s,c,u){c==Ff?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function Fq(s,c){s.s=!0,UC(function(){s.s&&dR.call(null,c)})}var dR=eR;function Lu(s){ne.call(this,s)}U(Lu,ne),Lu.prototype.name="cancel";function hR(s,c,u){c||(c={}),u=u||window;var h=s instanceof ir?s:Zv(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var m=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(c[g]?1:0))}var g=m.join(",");return(it("iPhone")&&!it("iPod")&&!it("iPad")||it("iPad")||it("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),h=h instanceof ir?h:Sk(h),g.href=ba(h),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=ba(h).toString(),u&&(Xz&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Af('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+br(c)+'">',null),u.document.write(ey(c)),u.document.close())):(u=u.open(ba(h).toString(),s,g))&&c.noopener&&(u.opener=null),u}function fR(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Vu(s){hR(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function fy(s,c){if(s=L(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function Ms(){return window.location.href}function Lq(){var s=null;return new xn(function(c){v.document.readyState=="complete"?c():(s=function(){c()},Nf(window,"load",s))}).Ca(function(c){throw $c(window,"load",s),c})}function Vq(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function jq(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(h){return c.includes(h)}).reduce(function(h,m){return h[m]=s[m],h},u)}function Da(s){var c=$q;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Da.prototype.cancel=function(s){if(this.a)this.h instanceof Da&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new Vf(this),py(this),Lf(this,!1,s))}},Da.prototype.L=function(s,c){this.A=!1,Lf(this,s,c)};function Lf(s,c,u){s.a=!0,s.h=u,s.j=!c,gR(s)}function py(s){if(s.a){if(!s.J)throw new my(s);s.J=!1}}Da.prototype.callback=function(s){py(this),Lf(this,!0,s)};function pR(s,c,u){s.s.push([c,u,void 0]),s.a&&gR(s)}Da.prototype.then=function(s,c,u){var h,m,g=new xn(function(_,A){h=_,m=A});return pR(this,h,function(_){_ instanceof Vf?g.cancel():m(_)}),g.then(s,c,u)},Da.prototype.$goog_Thenable=!0;function mR(s){return nr(s.s,function(c){return ee(c[1])})}function gR(s){if(s.i&&s.a&&mR(s)){var c=s.i,u=gy[c];u&&(v.clearTimeout(u.a),delete gy[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var h=u=!1;s.s.length&&!s.A;){var m=s.s.shift(),g=m[0],_=m[1];if(m=m[2],g=s.j?_:g)try{var A=g.call(m||s.O,c);y(A)&&(s.j=s.j&&(A==c||A instanceof Error),s.h=c=A),(Yk(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(h=!0,s.A=!0)}catch(N){c=N,s.j=!0,mR(s)||(u=!0)}}s.h=c,h&&(A=Ie(s.L,s,!0),h=Ie(s.L,s,!1),c instanceof Da?(pR(c,A,h),c.l=!0):c.then(A,h)),u&&(c=new vR(c),gy[c.a]=c,s.i=c.a)}function my(){ne.call(this)}U(my,ne),my.prototype.message="Deferred has already fired",my.prototype.name="AlreadyCalledError";function Vf(){ne.call(this)}U(Vf,ne),Vf.prototype.message="Deferred was canceled",Vf.prototype.name="CanceledError";function vR(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}vR.prototype.h=function(){throw delete gy[this.a],this.g};var gy={};function Uq(s){var c={},u=c.document||document,h=Ek(s).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},_=new Da(g),A=null,N=c.timeout!=null?c.timeout:5e3;return 0<N&&(A=window.setTimeout(function(){vy(m,!0);var Q=new zC(zq,"Timeout reached for loading script "+h);py(_),Lf(_,!1,Q)},N),g.sb=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(vy(m,c.xc||!1,A),_.callback(null))},m.onerror=function(){vy(m,!0,A);var Q=new zC(Hq,"Error while loading script "+h);py(_),Lf(_,!1,Q)},g=c.attributes||{},Ss(g,{type:"text/javascript",charset:"UTF-8"}),oq(m,g),rq(m,s),Bq(u).appendChild(m),_}function Bq(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function $q(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&vy(s,!0,this.sb)}}function vy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=I,s.onerror=I,s.onreadystatechange=I,c&&window.setTimeout(function(){jc(s)},0)}var Hq=0,zq=1;function zC(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),ne.call(this,u),this.code=s}U(zC,ne);function jf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function qC(s){this.a=s||jf(),this.h=!1,this.g=null}qC.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function yR(s,c,u){if(s.a&&c)return function(){return s.h=!0,new xn(function(m){s.g=m,s.a.initialize({client_id:c,callback:m,auto_select:!u}),s.a.prompt()})}();if(c){var h=GC.Xa().load().then(function(){return s.a=jf(),yR(s,c,u)}).Ca(function(){return null});return tn(h)}return tn(null)}x(qC);var qq=new ku(bk,"https://accounts.google.com/gsi/client");function GC(){this.a=null}GC.prototype.load=function(){var s=this;if(this.a)return this.a;var c=tq();return jf()?tn():this.a=Lq().then(function(){if(!jf())return new xn(function(u,h){var m=setTimeout(function(){s.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},tn(Uq(c)).then(function(){jf()&&u()}).Ca(function(g){clearTimeout(m),s.a=null,h(g)})})})},x(GC);function WC(s,c){this.a=s,this.g=c||function(u){throw u}}WC.prototype.confirm=function(s){return tn(this.a.confirm(s)).Ca(this.g)};function KC(s,c,u){this.reset(s,c,u,void 0,void 0)}KC.prototype.a=null;var Gq=0;KC.prototype.reset=function(s,c,u,h,m){typeof m=="number"||Gq++,this.h=h||Ht(),this.j=s,this.s=c,this.g=u,delete this.a};function QC(s){this.s=s,this.a=this.h=this.j=this.g=null}function yy(s,c){this.name=s,this.value=c}yy.prototype.toString=function(){return this.name};var _R=new yy("SEVERE",1e3),wR=new yy("WARNING",900),bR=new yy("CONFIG",700);function ER(s){return s.j?s.j:s.g?ER(s.g):(Ze("Root logger has no level set."),null)}QC.prototype.log=function(s,c,u){if(s.value>=ER(this).value)for(ee(c)&&(c=c()),s=new KC(s,String(c),this.s),u&&(s.a=u),u=this;u;){var h=u,m=s;if(h.a)for(var g=0;c=h.a[g];g++)c(m);u=u.g}};var YC={},Uf=null;function CR(){Uf||(Uf=new QC(""),YC[""]=Uf,Uf.j=bR)}function IR(s){CR();var c;if(!(c=YC[s])){c=new QC(s);var u=s.lastIndexOf("."),h=s.substr(u+1);u=IR(s.substr(0,u)),u.h||(u.h={}),u.h[h]=c,c.g=u,YC[s]=c}return c}function _y(){this.a=Ht()}var JC=null;_y.prototype.set=function(s){this.a=s},_y.prototype.reset=function(){this.set(Ht())},_y.prototype.get=function(){return this.a};function Bf(s){this.j=s||"",JC||(JC=new _y),this.s=JC}Bf.prototype.a=!0,Bf.prototype.g=!0,Bf.prototype.h=!1;function qc(s){return 10>s?"0"+s:String(s)}function Wq(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function SR(s){Bf.call(this,s)}U(SR,Bf);function Kq(s,c){var u=[];if(u.push(s.j," "),s.g){var h=new Date(c.h);u.push("[",qc(h.getFullYear()-2e3)+qc(h.getMonth()+1)+qc(h.getDate())+" "+qc(h.getHours())+":"+qc(h.getMinutes())+":"+qc(h.getSeconds())+"."+qc(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",Wq(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function TR(){this.s=Ie(this.h,this),this.a=new SR,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}TR.prototype.h=function(s){function c(g){if(g){if(g.value>=_R.value)return"error";if(g.value>=wR.value)return"warn";if(g.value>=bR.value)return"log"}return"debug"}if(!this.j[s.g]){var u=Kq(this.a,s),h=Qq;if(h){var m=c(s.j);Yq(h,m,u,s.a)}}};var Qq=v.console;function Yq(s,c,u,h){s[c]?s[c](u,h||""):s.log(u,h||"")}function or(s,c){var u=XC;u&&u.log(_R,s,c)}var XC;XC=IR("firebaseui");var ZC=new TR;if(ZC.g!=1){var wy;CR(),wy=Uf;var Jq=ZC.s;wy.a||(wy.a=[]),wy.a.push(Jq),ZC.g=!0}function Aa(s){var c=XC;c&&c.log(wR,s,void 0)}function DR(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=DR.prototype,t.set=function(s,c,u,h,m,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');y(u)||(u=-1),m=m?";domain="+m:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Ht()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+m+h+u+g},t.get=function(s,c){for(var u=s+"=",h=(this.a.cookie||"").split(";"),m=0,g;m<h.length;m++){if(g=Kn(h[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return eI(this).keys},t.la=function(){return eI(this).values},t.clear=function(){for(var s=eI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function eI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],h,m,g=0;g<s.length;g++)m=Kn(s[g]),h=m.indexOf("="),h==-1?(c.push(""),u.push(m)):(c.push(m.substring(0,h)),u.push(m.substring(h+1)));return{keys:c,values:u}}var by=new DR;function AR(){}function ju(s,c,u,h){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!h}l(ju,AR),ju.prototype.set=function(s,c){by.set(s,c,this.h,this.g,this.a,this.j)},ju.prototype.get=function(s){return by.get(s)||null},ju.prototype.ra=function(s){var c=this.g,u=this.a;by.get(s),by.set(s,"",0,c,u)};function tI(s,c){this.g=s,this.a=c||null}function xR(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function MR(s){if(s&&s.email){var c=s.credential&&be.auth.AuthCredential.fromJSON(s.credential);return new tI(s.email,c)}return null}function PR(s){this.a=s||null}function OR(s){for(var c=[],u=0,h=0;h<s.length;h++){var m=s.charCodeAt(h);255<m&&(c[u++]=m&255,m>>=8),c[u++]=m}return c}function Xq(s){return bi(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function Ey(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Uu*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Uu*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,LR(c),c[0]^=Iy[s/this.g][0],c[1]^=Iy[s/this.g][1],c[2]^=Iy[s/this.g][2],c[3]^=Iy[s/this.g][3]}else 6<this.g&&s%this.g==4&&LR(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}Ey.prototype.A=16;var Uu=Ey.prototype.A/4;function kR(s,c){for(var u,h=0;h<Uu;h++)for(var m=0;4>m;m++)u=4*m+h,u=c[u],s.h[h][m]=u}function RR(s){for(var c=[],u=0;u<Uu;u++)for(var h=0;4>h;h++)c[4*h+u]=s.h[u][h];return c}function Bu(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]^=s.a[4*c+h][u]}function Cy(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]=c[s.h[u][h]]}function NR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Uu]}function FR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Uu]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function LR(s){s[0]=$u[s[0]],s[1]=$u[s[1]],s[2]=$u[s[2]],s[3]=$u[s[3]]}var $u=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],VR=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Iy=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Sy=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ty=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Dy=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Ay=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],xy=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],My=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function jR(s,c){s=new Ey(BR(s)),c=OR(c);for(var u=c.splice(0,16),h="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=s,kR(m,u),Bu(m,0),u=1;u<m.j;++u){Cy(m,$u),NR(m),g=m.h;for(var _=m.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=Sy[_[0]]^Ty[_[1]]^_[2]^_[3],g[1][A]=_[0]^Sy[_[1]]^Ty[_[2]]^_[3],g[2][A]=_[0]^_[1]^Sy[_[2]]^Ty[_[3]],g[3][A]=Ty[_[0]]^_[1]^_[2]^Sy[_[3]];Bu(m,u)}Cy(m,$u),NR(m),Bu(m,m.j),h+=Xq(RR(m)),u=c.splice(0,16)}return h}function UR(s,c){s=new Ey(BR(s));for(var u=[],h=0;h<c.length;h+=2)u.push(parseInt(c.substring(h,h+2),16));var m=u.splice(0,16);for(c="";m.length;){for(h=s,kR(h,m),Bu(h,h.j),m=1;m<h.j;++m){FR(h),Cy(h,VR),Bu(h,h.j-m);for(var g=h.h,_=h.s[0],A=0;4>A;A++)_[0]=g[0][A],_[1]=g[1][A],_[2]=g[2][A],_[3]=g[3][A],g[0][A]=My[_[0]]^Ay[_[1]]^xy[_[2]]^Dy[_[3]],g[1][A]=Dy[_[0]]^My[_[1]]^Ay[_[2]]^xy[_[3]],g[2][A]=xy[_[0]]^Dy[_[1]]^My[_[2]]^Ay[_[3]],g[3][A]=Ay[_[0]]^xy[_[1]]^Dy[_[2]]^My[_[3]]}if(FR(h),Cy(h,VR),Bu(h,0),h=RR(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(m="",g=0;g<h.length;g+=8192)m+=String.fromCharCode.apply(null,Au(h,g,g+8192));h=m}c+=h,m=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function BR(s){s=OR(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function $R(s){var c=[];return nI(new Zq,s,c),c.join("")}function Zq(){}function nI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if(H(c)){var h=c;c=h.length,u.push("[");for(var m="",g=0;g<c;g++)u.push(m),nI(s,h[g],u),m=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),m="";for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(g=c[h],typeof g!="function"&&(u.push(m),zR(h,u),u.push(":"),nI(s,g,u),m=","));u.push("}");return}}switch(typeof c){case"string":zR(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var HR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},eG=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function zR(s,c){c.push('"',s.replace(eG,function(u){var h=HR[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),HR[u]=h),h}),'"')}function $f(s){this.a=s}$f.prototype.set=function(s,c){y(c)?this.a.set(s,$R(c)):this.a.ra(s)},$f.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function Py(){}U(Py,AR),Py.prototype.clear=function(){var s=mC(this.ha(!0)),c=this;St(s,function(u){c.ra(u)})};function Oy(s){this.a=s}U(Oy,Py);function ky(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Oy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!b(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,h=new Ts;return h.next=function(){if(c>=u.length)throw ga;var m=u.key(c++);if(s)return m;if(m=u.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},h},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function iI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}U(iI,Oy);function rI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}U(rI,Oy);function Hu(s,c){this.g=s,this.a=c+"::"}U(Hu,Py),Hu.prototype.set=function(s,c){this.g.set(this.a+s,c)},Hu.prototype.get=function(s){return this.g.get(this.a+s)},Hu.prototype.ra=function(s){this.g.ra(this.a+s)},Hu.prototype.ha=function(s){var c=this.g.ha(!0),u=this,h=new Ts;return h.next=function(){for(var m=c.next();m.substr(0,u.a.length)!=u.a;)m=c.next();return s?m.substr(u.a.length):u.g.get(m)},h},ky(new iI);var qR,GR=new rI;qR=ky(GR)?new Hu(GR,"firebaseui"):null;var oI=new $f(qR),sI={name:"pendingEmailCredential",storage:oI},Gc={name:"redirectStatus",storage:oI},Hf={name:"redirectUrl",storage:oI},zu={name:"emailForSignIn",storage:new $f(new ju(3600,"/"))},zf={name:"pendingEncryptedCredential",storage:new $f(new ju(3600,"/"))};function qu(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function Yi(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function Gu(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function WR(s){return qu(Hf,s)||null}function ko(s){return s=qu(sI,s)||null,MR(s)}function Ro(s){Yi(sI,s)}function KR(s,c){Gu(sI,xR(s),c)}function aI(s){return(s=qu(Gc,s)||null)&&typeof s.tenantId<"u"?new PR(s.tenantId):null}function tG(s,c){Gu(Gc,{tenantId:s.a},c)}function nG(s,c){c=qu(zu,c);var u=null;if(c)try{var h=UR(s,c),m=JSON.parse(h);u=m&&m.email||null}catch{}return u}function iG(s,c){c=qu(zf,c);var u=null;if(c)try{var h=UR(s,c);u=JSON.parse(h)}catch{}return MR(u||null)}function rG(s,c,u){Gu(zf,jR(s,JSON.stringify(xR(c))),u)}function cI(){this.W={}}function vn(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function lI(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}cI.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function uI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function dI(){this.g=void 0,this.a={}}t=dI.prototype,t.set=function(s,c){QR(this,s,c,!1)},t.add=function(s,c){QR(this,s,c,!0)};function QR(s,c,u,h){for(var m=0;m<c.length;m++){var g=c.charAt(m);s.a[g]||(s.a[g]=new dI),s=s.a[g]}if(h&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return YR(this,s),s};function YR(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)YR(s.a[u],c)}t.ja=function(){var s=[];return JR(this,"",s),s};function JR(s,c,u){s.g!==void 0&&u.push(c);for(var h in s.a)JR(s.a[h],c+h,u)}t.clear=function(){this.a={},this.g=void 0};function XR(s){for(this.a=s,this.g=new dI,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function Ry(s,c){s=s.g;var u={},h=0;for(s.g!==void 0&&(u[h]=s.g);h<c.length;h++){var m=c.charAt(h);if(!(m in s.a))break;s=s.a[m],s.g!==void 0&&(u[h]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function Wc(s){for(var c=0;c<Li.length;c++)if(Li[c].c===s)return Li[c];return null}function ZR(s){s=s.toUpperCase();for(var c=[],u=0;u<Li.length;u++)Li[u].f===s&&c.push(Li[u]);return c}function eN(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<Li.length;u++)Li[u].b==s&&c.push(Li[u]);s=c}else s=ZR(s);return s}function tN(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var Li=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];tN(Li);var qf=new XR(Li);function nN(s,c){this.a=s,this.Aa=c}function iN(s){s=Kn(s);var c=Ry(qf,s);return 0<c.length?new nN(c[0].b=="1"?"1-US-0":c[0].c,Kn(s.substr(c[0].b.length+1))):null}function hI(s){var c=Wc(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function rN(s,c){for(var u=0;u<s.length;u++)if(!st(oN,s[u])&&(Wu!==null&&s[u]in Wu||st(c,s[u])))return s[u];return null}var oN=["emailLink","password","phone"],Wu={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function oG(){this.a=new cI,vn(this.a,"autoUpgradeAnonymousUsers"),vn(this.a,"callbacks"),vn(this.a,"credentialHelper",Ly),vn(this.a,"immediateFederatedRedirect",!1),vn(this.a,"popupMode",!1),vn(this.a,"privacyPolicyUrl"),vn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),vn(this.a,"queryParameterForWidgetMode","mode"),vn(this.a,"signInFlow"),vn(this.a,"signInOptions"),vn(this.a,"signInSuccessUrl"),vn(this.a,"siteName"),vn(this.a,"tosUrl"),vn(this.a,"widgetUrl"),vn(this.a,"adminRestrictedOperation")}function Ny(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!mN(s)&&or('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function Fy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var h=s[u];h=L(h)?h:{provider:h},h.provider&&c.push(h)}return c}function sr(s,c){s=Fy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function Ku(s){return Fy(s).map(function(c){return c.provider})}function Gf(s,c){s=sN(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function sN(s){return Fy(s).map(function(c){if(Wu[c.provider]||st(mG,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?ba(Zv(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?ba(Zv(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function aN(s){var c=sr(s,be.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in s=s.a.get("credentialHelper"),vI)if(vI[h]===s){var h=vI[h];break e}}h=Ly}u=h===gI}return u&&c.clientId||null}function cN(s){return s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function Kc(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function sG(s){var c=null;if(Fy(s).forEach(function(h){h.provider==be.auth.PhoneAuthProvider.PROVIDER_ID&&L(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(c=ma(h.recaptchaParameters))}),c){var u=[];gG.forEach(function(h){typeof c[h]<"u"&&(u.push(h),delete c[h])}),u.length&&Aa('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function aG(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function cG(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Vu(c)}}return null}function lG(s){return(s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function uG(s){if((s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Vu(c)}}return null}function lN(s,c){return s=(s=sr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function uN(s,c){return s=(s=sr(s,c))&&s.customParameters,L(s)?(s=ma(s),c===be.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===be.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function dG(s){s=sr(s,be.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=iN(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function hG(s){var c=(s=sr(s,be.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&ZR(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=iN(s.loginHint)),c&&c[0]||u&&Wc(u.a)||null}function fI(s){if(s=sr(s,be.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return Li;if(s=[],c){u={};for(var h=0;h<c.length;h++)for(var m=eN(c[h]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var _ in u)u.hasOwnProperty(_)&&s.push(u[_])}else{for(_={},c=0;c<u.length;c++)for(m=eN(u[c]),h=0;h<m.length;h++)_[m[h].c]=m[h];for(m=0;m<Li.length;m++)_!==null&&Li[m].c in _||s.push(Li[m])}return s}function dN(s){return uI(s.a,"queryParameterForWidgetMode")}function yn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Aa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Vu(c)}}return null}function _n(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Aa("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Vu(u)}}return null}function hN(s){return(s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function Qu(s){return s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function fG(s){return s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function pG(s){if(Qu(s)){var c={url:Ms(),handleCodeInApp:!0};(s=sr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Ss(c,s.emailLinkSignIn()),s=c.url;var u=Ms();u instanceof Ei||(u=Sf(u)),s instanceof Ei||(s=Sf(s));var h=u;u=new Ei(h);var m=!!s.j;m?Rc(u,s.j):m=!!s.A,m?u.A=s.A:m=!!s.h,m?u.h=s.h:m=s.C!=null;var g=s.g;if(m)va(u,s.C);else if(m=!!s.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],A=0;A<g.length;){var N=g[A++];N=="."?h&&A==g.length&&_.push(""):N==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),h&&A==g.length&&_.push("")):(_.push(N),h=!0)}g=_.join("/")}}return m?u.g=g:m=s.a.toString()!=="",m?Po(u,dk(s.a)):m=!!s.s,m&&(u.s=s.s),c.url=u.toString(),c}return null}function pI(s){var c=!!s.a.get("immediateFederatedRedirect"),u=Ku(s);return s=fN(s),c&&u.length==1&&!st(oN,u[0])&&s==Vy}function fN(s){s=s.a.get("signInFlow");for(var c in yI)if(yI[c]==s)return yI[c];return Vy}function mI(s){return Wf(s).signInSuccess||null}function pN(s){return Wf(s).signInSuccessWithAuthResult||null}function mN(s){return Wf(s).signInFailure||null}function Wf(s){return s.a.get("callbacks")||{}}var gI="googleyolo",Ly="none",vI={nc:gI,NONE:Ly},Vy="redirect",yI={qc:"popup",rc:Vy},_I={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},mG=["anonymous"],gG=["sitekey","tabindex","callback","expired-callback"],Kf,Yu,wI,gN,bt={};function me(s,c,u,h){bt[s].apply(null,Array.prototype.slice.call(arguments,1))}function vN(s){return s.classList?s.classList:(s=s.className,b(s)&&s.match(/\S+/g)||[])}function Qf(s,c){return s.classList?s.classList.contains(c):st(vN(s),c)}function No(s,c){s.classList?s.classList.add(c):Qf(s,c)||(s.className+=0<s.className.length?" "+c:c)}function Fo(s,c){s.classList?s.classList.remove(c):Qf(s,c)&&(s.className=lt(vN(s),function(u){return u!=c}).join(" "))}function Yn(s){var c=s.type;switch(b(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,h=0;u=s.options[h];h++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function yN(s,c){var u=s.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,b(c)){for(var h=0;u=s.options[h];h++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(b(c)&&(c=[c]),h=0;u=s.options[h];h++)if(u.selected=!1,c)for(var m,g=0;m=c[g];g++)u.value==m&&(u.selected=!0);break;default:s.value=c??""}}function vG(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(Yf(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Gr;default:return 166>s.keyCode||183<s.keyCode}}function _N(s,c,u,h,m,g){if(Ri&&!Lc("525"))return!0;if(wa&&m)return Yf(s);if(m&&!h)return!1;if(!Gr){typeof c=="number"&&(c=bI(c));var _=c==17||c==18||wa&&c==91;if((!u||wa)&&_||wa&&c==16&&(h||g))return!1}if((Ri||_a)&&h&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Zt&&h&&c==s)return!1;switch(s){case 13:return Gr?g||m?!1:!(u&&h):!0;case 27:return!(Ri||_a||Gr)}return Gr&&(h||m||g)?!1:Yf(s)}function Yf(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Ri||_a)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Gr;default:return!1}}function bI(s){if(Gr)s=yG(s);else if(wa&&Ri)switch(s){case 93:s=91}return s}function yG(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function Ju(s){An.call(this),this.a=s,Wr(s,"keydown",this.g,!1,this),Wr(s,"click",this.h,!1,this)}U(Ju,An),Ju.prototype.g=function(s){(s.keyCode==13||Ri&&s.keyCode==3)&&wN(this,s)},Ju.prototype.h=function(s){wN(this,s)};function wN(s,c){var u=new EN(c);if(Ta(s,u)){u=new bN(c);try{Ta(s,u)}finally{c.stopPropagation()}}}Ju.prototype.o=function(){Ju.K.o.call(this),$c(this.a,"keydown",this.g,!1,this),$c(this.a,"click",this.h,!1,this),delete this.a};function bN(s){Fi.call(this,s.a),this.type="action"}U(bN,Fi);function EN(s){Fi.call(this,s.a),this.type="beforeaction"}U(EN,Fi);function Xu(s){An.call(this),this.a=s,s=Zt?"focusout":"blur",this.g=Wr(this.a,Zt?"focusin":"focus",this,!Zt),this.h=Wr(this.a,s,this,!Zt)}U(Xu,An),Xu.prototype.handleEvent=function(s){var c=new Fi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Ta(this,c)},Xu.prototype.o=function(){Xu.K.o.call(this),Sa(this.g),Sa(this.h),delete this.a};function jy(s,c){An.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=Ht()}U(jy,An),t=jy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=Ht()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Ta(this,"tick"),this.Ka&&(Uy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Ht())};function Uy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){jy.K.o.call(this),Uy(this),delete this.a};function _G(s,c){if(ee(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function Zu(s){Bc.call(this),this.g=s,this.a={}}U(Zu,Bc);var CN=[];function ed(s,c,u,h){H(u)||(u&&(CN[0]=u.toString()),u=CN);for(var m=0;m<u.length;m++){var g=Wr(c,u[m],h||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function IN(s){Oc(s.a,function(c,u){this.a.hasOwnProperty(u)&&Sa(c)},s),s.a={}}Zu.prototype.o=function(){Zu.K.o.call(this),IN(this)},Zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jf(s){An.call(this),this.a=null,this.g=s,s=Zt||_a||Ri&&!Lc("531")&&s.tagName=="TEXTAREA",this.h=new Zu(this),ed(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}U(Jf,An),Jf.prototype.handleEvent=function(s){if(s.type=="input")Zt&&Lc(10)&&s.keyCode==0&&s.j==0||(EI(this),Ta(this,SN(s)));else if(s.type!="keydown"||vG(s)){var c=s.type=="keydown"?this.g.value:null;Zt&&s.keyCode==229&&(c=null);var u=SN(s);EI(this),this.a=_G(function(){this.a=null,this.g.value!=c&&Ta(this,u)},this)}};function EI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function SN(s){return s=new Fi(s.a),s.type="input",s}Jf.prototype.o=function(){Jf.K.o.call(this),this.h.m(),EI(this),delete this.g};function Xf(s,c){An.call(this),s&&(this.Oa&&MN(this),this.qa=s,this.Na=Wr(this.qa,"keypress",this,c),this.Ya=Wr(this.qa,"keydown",this.Jb,c,this),this.Oa=Wr(this.qa,"keyup",this.Kb,c,this))}U(Xf,An),t=Xf.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var TN={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},DN={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},AN=!Ri||Lc("525"),xN=wa&&Gr;t=Xf.prototype,t.Jb=function(s){(Ri||_a)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||wa&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),AN&&!_N(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=bI(s.keyCode),xN&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(Zt&&s.type=="keypress")var h=this.X,m=h!=13&&h!=27?c.keyCode:0;else(Ri||_a)&&s.type=="keypress"?(h=this.X,m=0<=c.charCode&&63232>c.charCode&&Yf(h)?c.charCode:0):vk&&!Ri?(h=this.X,m=Yf(h)?c.keyCode:0):(s.type=="keypress"?(xN&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(h=c.keyCode,m=0):(h=this.X,m=c.charCode):(h=c.keyCode||this.X,m=c.charCode||0)):(h=c.keyCode||this.X,m=c.charCode||0),wa&&m==63&&h==224&&(h=191));var g=h=bI(h);h?63232<=h&&h in TN?g=TN[h]:h==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in DN&&(g=DN[c.keyIdentifier]),Gr&&AN&&s.type=="keypress"&&!_N(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new PN(g,m,s,c),c.altKey=u,Ta(this,c))},t.N=function(){return this.qa};function MN(s){s.Na&&(Sa(s.Na),Sa(s.Ya),Sa(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){Xf.K.o.call(this),MN(this)};function PN(s,c,u,h){Fi.call(this,h),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}U(PN,Fi);function td(s,c,u,h){this.top=s,this.right=c,this.bottom=u,this.left=h}td.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},td.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},td.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},td.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function By(s,c){var u=xf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function ON(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Zt&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function wG(s,c){c=c||ny(document);var u=c||ny(document),h=kN(s),m=kN(u);if(!Zt||9<=Number(Df)){_=By(u,"borderLeftWidth");var g=By(u,"borderRightWidth");A=By(u,"borderTopWidth"),N=By(u,"borderBottomWidth"),g=new td(parseFloat(A),parseFloat(g),parseFloat(N),parseFloat(_))}else{var _=$y(u,"borderLeft");g=$y(u,"borderRight");var A=$y(u,"borderTop"),N=$y(u,"borderBottom");g=new td(A,g,N,_)}u==ny(document)?(_=h.a-u.scrollLeft,h=h.g-u.scrollTop,!Zt||10<=Number(Df)||(_+=g.left,h+=g.top)):(_=h.a-m.a-g.left,h=h.g-m.g-g.top),m=s.offsetWidth,g=s.offsetHeight,A=Ri&&!m&&!g,y(m)&&!A||!s.getBoundingClientRect?s=new bC(m,g):(s=ON(s),s=new bC(s.right-s.left,s.bottom-s.top)),m=u.clientHeight-s.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(_,Math.max(_-(u.clientWidth-s.width),0)),A+=Math.min(h,Math.max(h-m,0)),u=new Ca(g,A),c.scrollLeft=u.a,c.scrollTop=u.g}function kN(s){var c=xf(s),u=new Ca(0,0),h=c?xf(c):document;return h=!Zt||9<=Number(Df)||ty(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,s==h||(s=ON(s),h=ty(c).a,c=ny(h),h=h.parentWindow||h.defaultView,c=Zt&&Lc("10")&&h.pageYOffset!=c.scrollTop?new Ca(c.scrollLeft,c.scrollTop):new Ca(h.pageXOffset||c.scrollLeft,h.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var RN={thin:2,medium:4,thick:6};function $y(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in RN)s=RN[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var h=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=h,s=+u}return s}function CI(){}x(CI),CI.prototype.a=0;function Qc(s){An.call(this),this.s=s||ty(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}U(Qc,An),t=Qc.prototype,t.Lb=CI.Xa(),t.N=function(){return this.g};function dt(s,c){return s.g?CC(c,s.g||s.s.a):null}function Zf(s){return s.L||(s.L=new Zu(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");Qc.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,II(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){II(this,function(s){s.na&&s.ya()}),this.L&&IN(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),II(this,function(s){s.m()}),this.g&&jc(this.g),this.Y=this.g=this.oa=this.Ea=null,Qc.K.o.call(this)};function II(s,c){s.Ea&&St(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=b(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var h=this.oa;if(u in h&&delete h[u],Tn(this.Ea,s),c&&(s.ya(),s.g&&jc(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,Qc.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function nn(s,c){var u=Pk(s,"firebaseui-textfield");c?(Fo(s,"firebaseui-input-invalid"),No(s,"firebaseui-input"),u&&Fo(u,"firebaseui-textfield-invalid")):(Fo(s,"firebaseui-input"),No(s,"firebaseui-input-invalid"),u&&No(u,"firebaseui-textfield-invalid"))}function nd(s,c,u){c=new Jf(c),Of(s,je(kf,c)),ed(Zf(s),c,"input",u)}function ep(s,c,u){c=new Xf(c),Of(s,je(kf,c)),ed(Zf(s),c,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function bG(s,c,u){c=new Xu(c),Of(s,je(kf,c)),ed(Zf(s),c,"focusin",u)}function EG(s,c,u){c=new Xu(c),Of(s,je(kf,c)),ed(Zf(s),c,"focusout",u)}function Yt(s,c,u){c=new Ju(c),Of(s,je(kf,c)),ed(Zf(s),c,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function ar(s){No(s,"firebaseui-hidden")}function Jn(s,c){c&&IC(s,c),Fo(s,"firebaseui-hidden")}function id(s){return!Qf(s,"firebaseui-hidden")&&s.style.display!="none"}function rd(s){s=s||{};var c=s.email,u=s.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=s.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Ni(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',le(h)}function Ji(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+Oe(s):c+"Next",le(c+"</button>")}function SI(){var s=""+Ji({label:en("Sign In")});return le(s)}function NN(){var s=""+Ji({label:en("Save")});return le(s)}function Kr(){var s=""+Ji({label:en("Continue")});return le(s)}function FN(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+Oe(s):c+"Choose password",le(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function LN(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",le(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function VN(){return le('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function cr(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+Oe(s):c+"Cancel",le(c+"</button>")}function hi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),le(c)}function od(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),le(c)}function jN(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',le(s)}jN.a="firebaseui.auth.soy2.element.infoBar";function UN(s){var c=s.content;return s=s.Ab,le('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+Ni(s):"")+'">'+Oe(c)+"</dialog>")}function BN(s){var c=s.message;return le(UN({content:Rk('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Ni(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(c)+"</div>")}))}BN.a="firebaseui.auth.soy2.element.progressDialog";function $N(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,h=0;h<u;h++){var m=s[h];c+='<button type="button" data-listboxid="'+Ni(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Ni(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(m.label)+"</div></button>"}return c=""+UN({Ab:en("firebaseui-list-box-dialog"),content:Rk(c+"</div>")}),le(c)}$N.a="firebaseui.auth.soy2.element.listBoxDialog";function Hy(s){return s=s||{},le(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Hy.a="firebaseui.auth.soy2.element.busyIndicator";function xa(s,c){return s=s||{},s=s.ga,gt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function TI(s){HN(s,"upgradeElement")}function DI(s){HN(s,"downgradeElements")}var CG=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function HN(s,c){s&&window.componentHandler&&window.componentHandler[c]&&CG.forEach(function(u){Qf(s,u)&&window.componentHandler[c](s),St(EC(u,s),function(h){window.componentHandler[c](h)})})}function zN(s,c,u){if(zy.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),TI(s),c&&Yt(this,s,function(g){var _=s.getBoundingClientRect();(g.clientX<_.left||_.left+_.width<g.clientX||g.clientY<_.top||_.top+_.height<g.clientY)&&zy.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var m=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,_=h.getBoundingClientRect().height,A=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Q=s.getBoundingClientRect().width,ve=h.getBoundingClientRect().width;s.style.top=(A+(_-g)/2).toString()+"px",g=N+(ve-Q)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-Q).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function zy(){var s=AI.call(this);s&&(DI(s),s.open&&s.close(),jc(s),this.da&&window.removeEventListener("resize",this.da))}function AI(){return CC("firebaseui-id-dialog")}function qN(){jc(GN.call(this))}function GN(){return dt(this,"firebaseui-id-info-bar")}function WN(){return dt(this,"firebaseui-id-dismiss-info-bar")}var IG={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function xI(s,c,u){As.call(this,s,c);for(var h in u)this[h]=u[h]}U(xI,As);function z(s,c,u,h,m){Qc.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=ma(IG),Ss(this.Z,m||{})}U(z,Qc),t=z.prototype,t.kb=function(){var s=Mf(this.fb,this.eb,this.Z,this.s);TI(s),this.g=s},t.v=function(){if(z.K.v.call(this),Qk(qt(this),new xI("pageEnter",qt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;Yt(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;Yt(this,this.ab(),function(){c()})}},t.ya=function(){Qk(qt(this),new xI("pageExit",qt(this),{pageId:this.Ga})),z.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,DI(this.N()),z.K.o.call(this)};function SG(s){s.Fa=!0;var c=Qf(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=Mf(Hy,{tb:c},null,s.s),s.N().appendChild(s.A),TI(s.A))},500)}t.I=function(s,c,u,h){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(DI(g.A),jc(g.A),g.A=null)}var g=this;return g.Fa?null:(SG(g),s.apply(null,c).then(u,h).then(m,m))};function qt(s){return s.N().parentElement||s.N().parentNode}function tp(s,c,u){ep(s,c,function(){u.focus()})}function sd(s,c,u){ep(s,c,function(){u()})}Te(z.prototype,{a:function(s){qN.call(this);var c=Mf(jN,{message:s},null,this.s);this.N().appendChild(c),Yt(this,WN.call(this),function(){jc(c)})},yc:qN,Ac:GN,zc:WN,$:function(s,c){s=Mf(BN,{Ma:s,message:c},null,this.s),zN.call(this,s)},h:zy,Cb:AI,Cc:function(){return dt(this,"firebaseui-tos")},bb:function(){return dt(this,"firebaseui-tos-link")},ab:function(){return dt(this,"firebaseui-pp-link")},Dc:function(){return dt(this,"firebaseui-tos-list")}});function KN(s,c,u){s=s||{},c=s.Va;var h=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+rd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?cr(null):"")+Ji(null)+'</div></div><div class="firebaseui-card-footer">'+(h?od(u):hi(u))+"</div></form></div>",le(s)}KN.a="firebaseui.auth.soy2.page.signIn";function QN(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+rd(s)+LN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+VN()+'</div><div class="firebaseui-form-actions">'+SI()+'</div></div><div class="firebaseui-card-footer">'+(c?od(u):hi(u))+"</div></form></div>",le(s)}QN.a="firebaseui.auth.soy2.page.passwordSignIn";function YN(s,c,u){s=s||{};var h=s.Tb;c=s.Ta;var m=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+rd(s);return h?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Ni(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=le(s)):s="",u=g+s+FN(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?cr(null):"")+NN()+'</div></div><div class="firebaseui-card-footer">'+(m?od(u):hi(u))+"</div></form></div>",le(u)}YN.a="firebaseui.auth.soy2.page.passwordSignUp";function JN(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+rd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?cr(null):"")+Ji({label:en("Send")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(s)}JN.a="firebaseui.auth.soy2.page.passwordRecovery";function XN(s,c,u){c=s.G;var h="";return s="Follow the instructions sent to <strong>"+(Oe(s.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(h+='<div class="firebaseui-form-actions">'+Ji({label:en("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+hi(u)+"</div></div>",le(h)}XN.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function ZN(s,c,u){return le('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Hy(null,null,u)+"</div></div>")}ZN.a="firebaseui.auth.soy2.page.callback";function eF(s,c,u){return le('<div class="firebaseui-container firebaseui-id-page-spinner">'+Hy({tb:!0},null,u)+"</div>")}eF.a="firebaseui.auth.soy2.page.spinner";function tF(){return le('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}tF.a="firebaseui.auth.soy2.page.blank";function nF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(Oe(s.email)+"</strong>. Check your email to complete sign-in.");var h=le('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+cr({label:en("Back")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}nF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function iF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+le('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+cr({label:en("Back")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(s)}iF.a="firebaseui.auth.soy2.page.emailNotReceived";function rF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+rd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr(null)+Ji(null)+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(s)}rF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function oF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr({label:en("Dismiss")})+"</div></div></div>";return le(s)}oF.a="firebaseui.auth.soy2.page.differentDeviceError";function sF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr({label:en("Dismiss")})+"</div></div></div>";return le(s)}sF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function aF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(Oe(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+LN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+VN()+'</div><div class="firebaseui-form-actions">'+SI()+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}aF.a="firebaseui.auth.soy2.page.passwordLinking";function cF(s,c,u){var h=s.email;return c="",s=""+xa(s,u),s=en(s),h="You\u2019ve already used <strong>"+(Oe(h)+("</strong>. You can connect your <strong>"+(Oe(s)+("</strong> account with <strong>"+(Oe(h)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(Oe(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+SI()+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}cF.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function lF(s,c,u){c="";var h=""+xa(s,u);return h=en(h),s="You originally intended to connect <strong>"+(Oe(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(Oe(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kr()+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}lF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function uF(s,c,u){var h=s.email;return c="",s=""+xa(s,u),s=en(s),h="You\u2019ve already used <strong>"+(Oe(h)+("</strong>. Sign in with "+(Oe(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ji({label:en("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}uF.a="firebaseui.auth.soy2.page.federatedLinking";function dF(s,c,u){s=s||{};var h=s.kc;c=s.yb,s=s.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(Oe(h)+"</strong> is not authorized to view the requested page."),m+=h):m+="User is not authorized to view the requested page.",m+="</p>",c&&(c="Please contact <strong>"+(Oe(c)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+cr({label:en("Back")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(m)}dF.a="firebaseui.auth.soy2.page.unauthorizedUser";function hF(s,c,u){return c="",s="To continue sign in with <strong>"+(Oe(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr(null)+Ji({label:en("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}hF.a="firebaseui.auth.soy2.page.unsupportedProvider";function fF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(Oe(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+FN(fq(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+NN()+"</div></div></form></div>",le(c)}fF.a="firebaseui.auth.soy2.page.passwordReset";function pF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}pF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function mF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}mF.a="firebaseui.auth.soy2.page.passwordResetFailure";function gF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></form></div>",le(u)}gF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function vF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}vF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function yF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}yF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function _F(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}_F.a="firebaseui.auth.soy2.page.emailVerificationFailure";function wF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(Oe(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(u)}wF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function bF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}bF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function EF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(Oe(c)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),h+=c;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></form></div>",le(h)}EF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function CF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+Kr()+"</div>":"")+"</div></div>",le(s)}CF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function IF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=Ji({label:en("Retry")})),le(s+"</div></div></div>")}IF.a="firebaseui.auth.soy2.page.recoverableError";function SF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(s.errorMessage)+"</p></div></div>",le(s)}SF.a="firebaseui.auth.soy2.page.unrecoverableError";function TF(s,c,u){var h=s.Qb;return c="",s="Continue with "+(Oe(s.jc)+"?"),h="You originally wanted to sign in with "+Oe(h),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr(null)+Ji({label:en("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form></div>",le(c)}TF.a="firebaseui.auth.soy2.page.emailMismatch";function DF(s,c,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var m=0;m<c;m++){var g={ga:s[m]},_=u;g=g||{};var A=g.ga,N=g;N=N||{};var Q="";switch(N.ga.providerId){case"google.com":Q+="firebaseui-idp-google";break;case"github.com":Q+="firebaseui-idp-github";break;case"facebook.com":Q+="firebaseui-idp-facebook";break;case"twitter.com":Q+="firebaseui-idp-twitter";break;case"phone":Q+="firebaseui-idp-phone";break;case"anonymous":Q+="firebaseui-idp-anonymous";break;case"password":Q+="firebaseui-idp-password";break;default:Q+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Ni(gt(Q))+' firebaseui-id-idp-button" data-provider-id="'+Ni(A.providerId)+'" style="background-color:',Q=(Q=g)||{},Q=Q.ga,N=N+Ni(Nk(gt(Q.ta?Q.ta:_.wa[Q.providerId]?""+_.wa[Q.providerId]:Q.providerId.indexOf("saml.")==0?""+_.wa.saml:Q.providerId.indexOf("oidc.")==0?""+_.wa.oidc:""+_.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ve=g;Q=_,ve=ve||{},ve=ve.ga,Q=hq(ve.za?Uc(ve.za):Q.xa[ve.providerId]?Uc(Q.xa[ve.providerId]):ve.providerId.indexOf("saml.")==0?Uc(Q.xa.saml):ve.providerId.indexOf("oidc.")==0?Uc(Q.xa.oidc):Uc(Q.xa.password)),N=N+Ni(Uc(Q))+'"></span>',A.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(xa(g,_)),N+=g):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Email",N+="</span>"):A.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(xa(g,_)),N+=g):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Phone",N+="</span>"):A.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(xa(g,_)),N+=g):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):(Q="Sign in with "+Oe(xa(g,_)),N+=Q),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?Oe(A.S):Oe(xa(g,_)))+"</span>"),A=le(N+"</button>"),h+='<li class="firebaseui-list-item">'+A+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+od(u)+"</div></div>",le(h)}DF.a="firebaseui.auth.soy2.page.providerSignIn";function AF(s,c,u){s=s||{};var h=s.Gb,m=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Ni(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+le(s);var g;return h?g=le('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?cr(null):"")+Ji({label:en("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=le(c+"</p>")):u=le('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hi(u),le(g+u+"</div></form></div>")}AF.a="firebaseui.auth.soy2.page.phoneSignInStart";function xF(s,c,u){s=s||{},c=s.phoneNumber;var h="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(c)+"</a>"),Oe(c),c=h,h=le('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cr(null)+Ji({label:en("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hi(u)+"</div></form>",s=le('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),le(c+(u+s+"</div>"))}xF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function MF(){return le('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}MF.a="firebaseui.auth.soy2.page.signOut";function PF(s,c,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var m=0;m<c;m++){var g=s[m],_="",A=Oe(g.displayName),N=g.tenantId?g.tenantId:"top-level-project";N=en(N),_+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Ni(N)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Ni(g.tenantId)+'"':"")+'style="background-color:'+Ni(Nk(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Ni(Uc(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?_+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),_+=g),_=le(_+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),h+='<li class="firebaseui-list-item">'+_+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+od(u)+"</div></div>",le(h)}PF.a="firebaseui.auth.soy2.page.selectTenant";function OF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+rd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ji(null)+'</div></div><div class="firebaseui-card-footer">'+od(u)+"</div></form></div>",le(s)}OF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function jn(){return dt(this,"firebaseui-id-submit")}function Mn(){return dt(this,"firebaseui-id-secondary-link")}function Xn(s,c){Yt(this,jn.call(this),function(h){s(h)});var u=Mn.call(this);u&&c&&Yt(this,u,function(h){c(h)})}function qy(){return dt(this,"firebaseui-id-password")}function Gy(){return dt(this,"firebaseui-id-password-error")}function kF(){var s=qy.call(this),c=Gy.call(this);nd(this,s,function(){id(c)&&(nn(s,!0),ar(c))})}function RF(){var s=qy.call(this),c=Gy.call(this);return Yn(s)?(nn(s,!0),ar(c),c=!0):(nn(s,!1),Jn(c,gt("Enter your password").toString()),c=!1),c?Yn(s):null}function ad(s,c,u,h,m,g){z.call(this,aF,{email:s},g,"passwordLinking",{F:h,D:m}),this.w=c,this.H=u}l(ad,z),ad.prototype.v=function(){this.P(),this.M(this.w,this.H),sd(this,this.i(),this.w),this.i().focus(),z.prototype.v.call(this)},ad.prototype.o=function(){this.w=null,z.prototype.o.call(this)},ad.prototype.j=function(){return Yn(dt(this,"firebaseui-id-email"))},Te(ad.prototype,{i:qy,B:Gy,P:kF,u:RF,ea:jn,ba:Mn,M:Xn});var TG=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ps(){return dt(this,"firebaseui-id-email")}function Ma(){return dt(this,"firebaseui-id-email-error")}function cd(s){var c=Ps.call(this),u=Ma.call(this);nd(this,c,function(){id(u)&&(nn(c,!0),ar(u))}),s&&ep(this,c,function(){s()})}function ld(){return Kn(Yn(Ps.call(this))||"")}function ud(){var s=Ps.call(this),c=Ma.call(this),u=Yn(s)||"";return u?TG.test(u)?(nn(s,!0),ar(c),c=!0):(nn(s,!1),Jn(c,gt("That email address isn't correct").toString()),c=!1):(nn(s,!1),Jn(c,gt("Enter your email address to continue").toString()),c=!1),c?Kn(Yn(s)):null}function np(s,c,u,h,m,g,_){z.call(this,QN,{email:u,ia:!!g},_,"passwordSignIn",{F:h,D:m}),this.w=s,this.H=c}l(np,z),np.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),tp(this,this.l(),this.i()),sd(this,this.i(),this.w),Yn(this.l())?this.i().focus():this.l().focus(),z.prototype.v.call(this)},np.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(np.prototype,{l:Ps,U:Ma,P:cd,M:ld,j:ud,i:qy,B:Gy,ea:kF,u:RF,ua:jn,pa:Mn,ba:Xn});function Tt(s,c,u,h,m,g){z.call(this,s,c,h,m||"notice",g),this.i=u||null}U(Tt,z),Tt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Tt.K.v.call(this)},Tt.prototype.o=function(){this.i=null,Tt.K.o.call(this)},Te(Tt.prototype,{l:jn,w:Mn,u:Xn});function Wy(s,c,u,h,m){Tt.call(this,XN,{email:s,G:!!c},c,m,"passwordRecoveryEmailSent",{F:u,D:h})}U(Wy,Tt);function NF(s,c){Tt.call(this,yF,{G:!!s},s,c,"emailVerificationSuccess")}U(NF,Tt);function FF(s,c){Tt.call(this,_F,{G:!!s},s,c,"emailVerificationFailure")}U(FF,Tt);function LF(s,c,u){Tt.call(this,wF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}U(LF,Tt);function VF(s,c){Tt.call(this,bF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}U(VF,Tt);function jF(s,c){Tt.call(this,CF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}U(jF,Tt);function UF(s){Tt.call(this,MF,void 0,void 0,s,"signOut")}U(UF,Tt);function BF(s,c){Tt.call(this,pF,{G:!!s},s,c,"passwordResetSuccess")}U(BF,Tt);function $F(s,c){Tt.call(this,mF,{G:!!s},s,c,"passwordResetFailure")}U($F,Tt);function HF(s,c){Tt.call(this,vF,{G:!!s},s,c,"emailChangeRevokeFailure")}U(HF,Tt);function zF(s,c,u){Tt.call(this,IF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}U(zF,Tt);function qF(s,c){Tt.call(this,SF,{errorMessage:s},void 0,c,"unrecoverableError")}U(qF,Tt);function ip(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function Os(s,c,u,h){function m(_){if(!_.name||_.name!="cancel"){e:{var A=_.message;try{var N=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var Q=!0;break e}}catch{}Q=!1}if(Q)_=qt(c),c.m(),Ot(s,_,void 0,gt("Your sign-in session has expired. Please try again.").toString());else{if(Q=_&&_.message||"",_.code){if(_.code=="auth/email-already-in-use"||_.code=="auth/credential-already-in-use")return;Q=Mt(_)}c.a(Q)}}}if(f2(s),h)return GF(s,u),tn();if(!u.credential)throw Error("No credential found!");if(!rt(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=r8(s,u)}catch(_){return or(_.code||_.message,_),c.a(_.code||_.message),tn()}return u=g.then(function(_){GF(s,_)},m).then(void 0,m),Be(s,g),tn(u)}function GF(s,c){if(!c.user)throw Error("No user found");var u=pN(q(s));if(mI(q(s))&&u&&Aa("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=pN(q(s));var h=WR(Me(s))||void 0;Yi(Hf,Me(s));var m=!1;fR()?((!u||u(c,h))&&(m=!0,Nu(window.opener.location,Ky(s,h))),u||window.close()):(!u||u(c,h))&&(m=!0,Nu(window.location,Ky(s,h))),m||s.reset()}else{u=c.user,c=c.credential,h=mI(q(s)),m=WR(Me(s))||void 0,Yi(Hf,Me(s));var g=!1;fR()?((!h||h(u,c,m))&&(g=!0,Nu(window.opener.location,Ky(s,m))),h||window.close()):(!h||h(u,c,m))&&(g=!0,Nu(window.location,Ky(s,m))),g||s.reset()}}function Ky(s,c){if(s=c||q(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Mt(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Uk();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Uk();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=AC();break;case"auth/invalid-verification-code":u+=gt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=gt(u).toString())return c;try{return JSON.parse(s.message),or("Internal error: "+s.message,void 0),Lk().toString()}catch{return s.message}}function DG(s,c,u){var h=Wu[c]&&be.auth[Wu[c]]?new be.auth[Wu[c]]:c.indexOf("saml.")==0?new be.auth.SAMLAuthProvider(c):new be.auth.OAuthProvider(c);if(!h)throw Error("Invalid Firebase Auth provider!");var m=lN(q(s),c);if(h.addScope)for(var g=0;g<m.length;g++)h.addScope(m[g]);return m=uN(q(s),c)||{},u&&(c==be.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==be.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=Gf(q(s),c))&&s.Ob,s&&(m[s]=u)),h.setCustomParameters&&h.setCustomParameters(m),h}function rp(s,c,u,h){function m(){tG(new PR(s.h.tenantId||null),Me(s)),Be(s,c.I(Ie(s.dc,s),[N],function(){if((window.location&&window.location.protocol)==="file:")return Be(s,c2(s).then(function(Q){c.m(),Yi(Gc,Me(s)),me("callback",s,A,tn(Q))},g))},_))}function g(Q){if(Yi(Gc,Me(s)),!Q.name||Q.name!="cancel")switch(Q=ip(Q),Q.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Mt(Q));break;case"auth/admin-restricted-operation":c.m(),Kc(q(s))?me("handleUnauthorizedUser",s,A,null,u):me("callback",s,A,Fu(Q));break;default:c.m(),me("callback",s,A,Fu(Q))}}function _(Q){Yi(Gc,Me(s)),Q.name&&Q.name=="cancel"||(or("signInWithRedirect: "+Q.code,void 0),Q=Mt(Q),c.Ga=="blank"&&pI(q(s))?(c.m(),me("providerSignIn",s,A,Q)):c.a(Q))}var A=qt(c),N=DG(s,u,h);fN(q(s))==Vy?m():Be(s,i8(s,N).then(function(Q){c.m(),me("callback",s,A,tn(Q))},g))}function AG(s,c){Be(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),Os(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(or("ContinueAsGuest: "+u.code,void 0),u=Mt(u),c.a(u))}))}function xG(s,c,u){function h(g){var _=!1;return g=c.I(Ie(s.ac,s),[g],function(A){var N=qt(c);c.m(),me("callback",s,N,tn(A)),_=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var N=qt(c);c.m(),me("callback",s,N,Fu(A))}else A&&A.code=="auth/admin-restricted-operation"&&Kc(q(s))?(A=qt(c),c.m(),me("handleUnauthorizedUser",s,A,null,be.auth.GoogleAuthProvider.PROVIDER_ID)):(A=Mt(A),c.a(A))}),Be(s,g),g.then(function(){return _},function(){return!1})}if(u&&u.credential&&u.clientId===aN(q(s))){if(lN(q(s),be.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return rp(s,c,be.auth.GoogleAuthProvider.PROVIDER_ID,m),tn(!0)}return h(be.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(gt("The selected credential for the authentication provider is not supported!").toString()),tn(!1)}function MG(s,c){var u=c.j(),h=c.u();if(u)if(h){var m=be.auth.EmailAuthProvider.credential(u,h);Be(s,c.I(Ie(s.bc,s),[u,h],function(g){return Os(s,c,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":nn(c.l(),!1),Jn(c.U(),Mt(g));break;case"auth/too-many-requests":case"auth/wrong-password":nn(c.i(),!1),Jn(c.B(),Mt(g));break;default:or("verifyPassword: "+g.message,void 0),c.a(Mt(g))}}))}else c.i().focus();else c.l().focus()}function Qy(s){return s=Ku(q(s)),s.length==1&&s[0]==be.auth.EmailAuthProvider.PROVIDER_ID}function WF(s){return s=Ku(q(s)),s.length==1&&s[0]==be.auth.PhoneAuthProvider.PROVIDER_ID}function Ot(s,c,u,h){Qy(s)?h?me("signIn",s,c,u,h):PI(s,c,u):s&&WF(s)&&!h?me("phoneSignInStart",s,c):s&&pI(q(s))&&!h?me("federatedRedirect",s,c,u):me("providerSignIn",s,c,h,u)}function KF(s,c,u,h){var m=qt(c);Be(s,c.I(Ie(rt(s).fetchSignInMethodsForEmail,rt(s)),[u],function(g){c.m(),QF(s,m,g,u,h)},function(g){g=Mt(g),c.a(g)}))}function QF(s,c,u,h,m,g){u.length||Qu(q(s))&&!Qu(q(s))?st(u,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?me("passwordSignIn",s,c,h,g):u.length==1&&u[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Qu(q(s))?me("sendEmailLinkForSignIn",s,c,h,function(){me("signIn",s,c)}):me("unsupportedProvider",s,c,h):(u=rN(u,Ku(q(s))))?(KR(new tI(h),Me(s)),me("federatedSignIn",s,c,h,u,m)):me("unsupportedProvider",s,c,h):cN(q(s))?me("handleUnauthorizedUser",s,c,h,be.auth.EmailAuthProvider.PROVIDER_ID):Qu(q(s))?me("sendEmailLinkForSignIn",s,c,h,function(){me("signIn",s,c)}):me("passwordSignUp",s,c,h,void 0,void 0,g)}function MI(s,c,u,h,m,g){var _=qt(c);Be(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),me("emailLinkSignInSent",s,_,u,h,g)},m))}function PI(s,c,u){u?me("prefilledEmailSignIn",s,c,u):me("signIn",s,c)}function op(){return qr(Ms(),"oobCode")}function OI(){var s=qr(Ms(),"continueUrl");return s?function(){Nu(window.location,s)}:null}function sp(s,c){z.call(this,sF,void 0,c,"anonymousUserMismatch"),this.i=s}l(sp,z),sp.prototype.v=function(){var s=this;Yt(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},sp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(sp.prototype,{l:Mn}),bt.anonymousUserMismatch=function(s,c){var u=new sp(function(){u.m(),Ot(s,c)});u.render(c),Ye(s,u)};function Yy(s){z.call(this,ZN,void 0,s,"callback")}l(Yy,z),Yy.prototype.I=function(s,c,u,h){return s.apply(null,c).then(u,h)};function YF(s,c,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=ko(Me(s)),g=m&&m.g;if(g&&!OG(u.user,g))PG(s,c,h);else{var _=m&&m.a;_?Be(s,u.user.linkWithCredential(_).then(function(A){h={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},JF(s,c,h)},function(A){Jy(s,c,A)})):JF(s,c,h)}}else u=qt(c),c.m(),Ro(Me(s)),Ot(s,u)}function JF(s,c,u){Ro(Me(s)),Os(s,c,u)}function Jy(s,c,u){var h=qt(c);Ro(Me(s)),u=Mt(u),c.m(),Ot(s,h,void 0,u)}function XF(s,c,u,h){var m=qt(c);Be(s,rt(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?st(g,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?me("passwordLinking",s,m,u):g.length==1&&g[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?me("emailLinkSignInLinking",s,m,u):(g=rN(g,Ku(q(s))))?me("federatedLinking",s,m,u,g,h):(Ro(Me(s)),me("unsupportedProvider",s,m,u)):(Ro(Me(s)),me("passwordRecovery",s,m,u,!1,Vk().toString()))},function(g){Jy(s,c,g)}))}function PG(s,c,u){var h=qt(c);Be(s,Pa(s).then(function(){c.m(),me("emailMismatch",s,h,u)},function(m){m.name&&m.name=="cancel"||(m=Mt(m.code),c.a(m))}))}function OG(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}bt.callback=function(s,c,u){var h=new Yy;h.render(c),Ye(s,h),u=u||c2(s),Be(s,u.then(function(m){YF(s,h,m)},function(m){if((m=ip(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)KR(new tI(m.email,m.credential),Me(s)),XF(s,h,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=ko(Me(s)),_=Mt(m);g&&g.a?XF(s,h,g.g,_):g?KF(s,h,g.g,_):Jy(s,h,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Qy(s)?YF(s,h,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&Kc(q(s))?(h.m(),Ro(Me(s)),me("handleUnauthorizedUser",s,c,null,null)):Jy(s,h,m))}))};function ap(s,c){z.call(this,oF,void 0,c,"differentDeviceError"),this.i=s}l(ap,z),ap.prototype.v=function(){var s=this;Yt(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},ap.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(ap.prototype,{l:Mn}),bt.differentDeviceError=function(s,c){var u=new ap(function(){u.m(),Ot(s,c)});u.render(c),Ye(s,u)};function cp(s,c,u,h){z.call(this,gF,{email:s,G:!!u},h,"emailChangeRevoke"),this.l=c,this.i=u||null}l(cp,z),cp.prototype.v=function(){var s=this;Yt(this,dt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},cp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(cp.prototype,{u:jn,B:Mn,w:Xn});function lp(){return dt(this,"firebaseui-id-new-password")}function Xy(){return dt(this,"firebaseui-id-password-toggle")}function kG(){this.Ra=!this.Ra;var s=Xy.call(this),c=lp.call(this);this.Ra?(c.type="text",No(s,"firebaseui-input-toggle-off"),Fo(s,"firebaseui-input-toggle-on")):(c.type="password",No(s,"firebaseui-input-toggle-on"),Fo(s,"firebaseui-input-toggle-off")),c.focus()}function Zy(){return dt(this,"firebaseui-id-new-password-error")}function ZF(){this.Ra=!1;var s=lp.call(this);s.type="password";var c=Zy.call(this);nd(this,s,function(){id(c)&&(nn(s,!0),ar(c))});var u=Xy.call(this);No(u,"firebaseui-input-toggle-on"),Fo(u,"firebaseui-input-toggle-off"),bG(this,s,function(){No(u,"firebaseui-input-toggle-focus"),Fo(u,"firebaseui-input-toggle-blur")}),EG(this,s,function(){No(u,"firebaseui-input-toggle-blur"),Fo(u,"firebaseui-input-toggle-focus")}),Yt(this,u,Ie(kG,this))}function e2(){var s=lp.call(this),c=Zy.call(this);return Yn(s)?(nn(s,!0),ar(c),c=!0):(nn(s,!1),Jn(c,gt("Enter your password").toString()),c=!1),c?Yn(s):null}function up(s,c,u){z.call(this,fF,{email:s},u,"passwordReset"),this.l=c}l(up,z),up.prototype.v=function(){this.H(),this.B(this.l),sd(this,this.i(),this.l),this.i().focus(),z.prototype.v.call(this)},up.prototype.o=function(){this.l=null,z.prototype.o.call(this)},Te(up.prototype,{i:lp,w:Zy,M:Xy,H:ZF,u:e2,U:jn,P:Mn,B:Xn});function dp(s,c,u,h,m){z.call(this,EF,{factorId:s,phoneNumber:u||null,G:!!h},m,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=h||null}l(dp,z),dp.prototype.v=function(){var s=this;Yt(this,dt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},dp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(dp.prototype,{u:jn,B:Mn,w:Xn});function RG(s,c,u,h,m){var g=u.u();g&&Be(s,u.I(Ie(rt(s).confirmPasswordReset,rt(s)),[h,g],function(){u.m();var _=new BF(m);_.render(c),Ye(s,_)},function(_){t2(s,c,u,_)}))}function t2(s,c,u,h){(h&&h.code)=="auth/weak-password"?(s=Mt(h),nn(u.i(),!1),Jn(u.w(),s),u.i().focus()):(u&&u.m(),u=new $F,u.render(c),Ye(s,u))}function NG(s,c,u){var h=new cp(u,function(){Be(s,h.I(Ie(rt(s).sendPasswordResetEmail,rt(s)),[u],function(){h.m(),h=new Wy(u,void 0,yn(q(s)),_n(q(s))),h.render(c),Ye(s,h)},function(){h.a(Fk().toString())}))});h.render(c),Ye(s,h)}function FG(s,c,u,h){var m=new dp(h.factorId,function(){m.I(Ie(rt(s).sendPasswordResetEmail,rt(s)),[u],function(){m.m(),m=new Wy(u,void 0,yn(q(s)),_n(q(s))),m.render(c),Ye(s,m)},function(){m.a(Fk().toString())})},h.phoneNumber);m.render(c),Ye(s,m)}bt.passwordReset=function(s,c,u,h){Be(s,rt(s).verifyPasswordResetCode(u).then(function(m){var g=new up(m,function(){RG(s,c,g,u,h)});g.render(c),Ye(s,g)},function(){t2(s,c)}))},bt.emailChangeRevocation=function(s,c,u){var h=null;Be(s,rt(s).checkActionCode(u).then(function(m){return h=m.data.email,rt(s).applyActionCode(u)}).then(function(){NG(s,c,h)},function(){var m=new HF;m.render(c),Ye(s,m)}))},bt.emailVerification=function(s,c,u,h){Be(s,rt(s).applyActionCode(u).then(function(){var m=new NF(h);m.render(c),Ye(s,m)},function(){var m=new FF;m.render(c),Ye(s,m)}))},bt.revertSecondFactorAddition=function(s,c,u){var h=null,m=null;Be(s,rt(s).checkActionCode(u).then(function(g){return h=g.data.email,m=g.data.multiFactorInfo,rt(s).applyActionCode(u)}).then(function(){FG(s,c,h,m)},function(){var g=new jF;g.render(c),Ye(s,g)}))},bt.verifyAndChangeEmail=function(s,c,u,h){var m=null;Be(s,rt(s).checkActionCode(u).then(function(g){return m=g.data.email,rt(s).applyActionCode(u)}).then(function(){var g=new LF(m,h);g.render(c),Ye(s,g)},function(){var g=new VF;g.render(c),Ye(s,g)}))};function e_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):Zt&&!Lc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function hp(s,c,u,h,m,g){z.call(this,rF,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:m}),this.l=s,this.u=c}l(hp,z),hp.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),e_(this.i(),(this.i().value||"").length),z.prototype.v.call(this)},hp.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(hp.prototype,{i:Ps,M:Ma,w:cd,H:ld,j:ud,U:jn,P:Mn,B:Xn}),bt.emailLinkConfirmation=function(s,c,u,h,m,g){var _=new hp(function(){var A=_.j();A?(_.m(),h(s,c,A,u)):_.i().focus()},function(){_.m(),Ot(s,c,m||void 0)},m||void 0,yn(q(s)),_n(q(s)));_.render(c),Ye(s,_),g&&_.a(g)};function fp(s,c,u,h,m){z.call(this,lF,{ga:s},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=c}l(fp,z),fp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},fp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(fp.prototype,{l:jn,u:Xn}),bt.emailLinkNewDeviceLinking=function(s,c,u,h){var m=new Fc(u);if(u=m.a.a.get(Dn.PROVIDER_ID)||null,fk(m,null),u){var g=new fp(Gf(q(s),u),function(){g.m(),h(s,c,m.toString())},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g)}else Ot(s,c)};function t_(s){z.call(this,tF,void 0,s,"blank")}l(t_,z);function kI(s,c,u,h,m){var g=new t_,_=new Fc(u),A=_.a.a.get(Dn.$a)||"",N=_.a.a.get(Dn.Sa)||"",Q=_.a.a.get(Dn.Qa)==="1",ve=hk(_),Dt=_.a.a.get(Dn.PROVIDER_ID)||null;_=_.a.a.get(Dn.vb)||null,p2(s,_);var Jr=!qu(zu,Me(s)),_2=h||nG(N,Me(s)),Tp=(h=iG(N,Me(s)))&&h.a;Dt&&Tp&&Tp.providerId!==Dt&&(Tp=null),g.render(c),Ye(s,g),Be(s,g.I(function(){var Er=tn(null);Er=ve&&Jr||Jr&&Q?Fu(Error("anonymous-user-not-found")):e8(s,u).then(function(zI){if(Dt&&!Tp)throw Error("pending-credential-not-found");return zI});var Dp=null;return Er.then(function(zI){return Dp=zI,m?null:rt(s).checkActionCode(A)}).then(function(){return Dp})},[],function(Er){_2?VG(s,g,_2,u,Tp,Er):Q?(g.m(),me("differentDeviceError",s,c)):(g.m(),me("emailLinkConfirmation",s,c,u,n2))},function(Er){var Dp=void 0;if(!Er||!Er.name||Er.name!="cancel")switch(g.m(),Er&&Er.message){case"anonymous-user-not-found":me("differentDeviceError",s,c);break;case"anonymous-user-mismatch":me("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":me("emailLinkNewDeviceLinking",s,c,u,LG);break;default:Er&&(Dp=Mt(Er)),Ot(s,c,void 0,Dp)}}))}function n2(s,c,u,h){kI(s,c,h,u,!0)}function LG(s,c,u){kI(s,c,u)}function VG(s,c,u,h,m,g){var _=qt(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",gt("Signing in...").toString());var A=null;m=(g?t8(s,g,u,h,m):n8(s,u,h,m)).then(function(N){Yi(zf,Me(s)),Yi(zu,Me(s)),c.h(),c.$("firebaseui-icon-done",gt("Signed in!").toString()),A=setTimeout(function(){c.h(),Os(s,c,N,!0)},1e3),Be(s,function(){c&&(c.h(),c.m()),clearTimeout(A)})},function(N){if(c.h(),c.m(),!N.name||N.name!="cancel"){N=ip(N);var Q=Mt(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(Yi(zf,Me(s)),Yi(zu,Me(s))):N.code=="auth/invalid-email"?(Q=gt("The email provided does not match the current sign-in session.").toString(),me("emailLinkConfirmation",s,_,h,n2,null,Q)):Ot(s,_,u,Q)}}),Be(s,m)}bt.emailLinkSignInCallback=kI;function pp(s,c,u,h,m,g){z.call(this,cF,{email:s,ga:c},g,"emailLinkSignInLinking",{F:h,D:m}),this.i=u}l(pp,z),pp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},pp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(pp.prototype,{l:jn,u:Xn});function jG(s,c,u,h){var m=qt(c);MI(s,c,u,function(){Ot(s,m,u)},function(g){if(!g.name||g.name!="cancel"){var _=Mt(g);g&&g.code=="auth/network-request-failed"?c.a(_):(c.m(),Ot(s,m,u,_))}},h)}bt.emailLinkSignInLinking=function(s,c,u){var h=ko(Me(s));if(Ro(Me(s)),h){var m=h.a.providerId,g=new pp(u,Gf(q(s),m),function(){jG(s,g,u,h)},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g)}else Ot(s,c)};function mp(s,c,u,h,m,g){z.call(this,nF,{email:s},g,"emailLinkSignInSent",{F:h,D:m}),this.u=c,this.i=u}l(mp,z),mp.prototype.v=function(){var s=this;Yt(this,this.l(),function(){s.i()}),Yt(this,dt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),z.prototype.v.call(this)},mp.prototype.o=function(){this.i=this.u=null,z.prototype.o.call(this)},Te(mp.prototype,{l:Mn}),bt.emailLinkSignInSent=function(s,c,u,h,m){var g=new mp(u,function(){g.m(),me("emailNotReceived",s,c,u,h,m)},function(){g.m(),h()},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g)};function gp(s,c,u,h,m,g,_){z.call(this,TF,{jc:s,Qb:c},_,"emailMismatch",{F:m,D:g}),this.l=u,this.i=h}l(gp,z),gp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},gp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(gp.prototype,{u:jn,B:Mn,w:Xn}),bt.emailMismatch=function(s,c,u){var h=ko(Me(s));if(h){var m=new gp(u.user.email,h.g,function(){var g=m;Ro(Me(s)),Os(s,g,u)},function(){var g=u.credential.providerId,_=qt(m);m.m(),h.a?me("federatedLinking",s,_,h.g,g):me("federatedSignIn",s,_,h.g,g)},yn(q(s)),_n(q(s)));m.render(c),Ye(s,m)}else Ot(s,c)};function dd(s,c,u,h,m){z.call(this,iF,void 0,m,"emailNotReceived",{F:u,D:h}),this.l=s,this.i=c}l(dd,z),dd.prototype.v=function(){var s=this;Yt(this,this.u(),function(){s.i()}),Yt(this,this.Da(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},dd.prototype.Da=function(){return dt(this,"firebaseui-id-resend-email-link")},dd.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(dd.prototype,{u:Mn}),bt.emailNotReceived=function(s,c,u,h,m){var g=new dd(function(){MI(s,g,u,h,function(_){_=Mt(_),g.a(_)},m)},function(){g.m(),Ot(s,c,u)},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g)};function hd(s,c,u,h,m,g){z.call(this,uF,{email:s,ga:c},g,"federatedLinking",{F:h,D:m}),this.i=u}l(hd,z),hd.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},hd.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(hd.prototype,{l:jn,u:Xn}),bt.federatedLinking=function(s,c,u,h,m){var g=ko(Me(s));if(g&&g.a){var _=new hd(u,Gf(q(s),h),function(){rp(s,_,h,u)},yn(q(s)),_n(q(s)));_.render(c),Ye(s,_),m&&_.a(m)}else Ot(s,c)},bt.federatedRedirect=function(s,c,u){var h=new t_;h.render(c),Ye(s,h),c=Ku(q(s))[0],rp(s,h,c,u)},bt.federatedSignIn=function(s,c,u,h,m){var g=new hd(u,Gf(q(s),h),function(){rp(s,g,h,u)},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g),m&&g.a(m)};function UG(s,c,u,h){var m=c.u();m?Be(s,c.I(Ie(s.Xb,s),[u,m],function(g){return g=g.user.linkWithCredential(h).then(function(_){return Os(s,c,{user:_.user,credential:h,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo})}),Be(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":nn(c.i(),!1),Jn(c.B(),Mt(g));break;case"auth/too-many-requests":c.a(Mt(g));break;default:or("signInWithEmailAndPassword: "+g.message,void 0),c.a(Mt(g))}})):c.i().focus()}bt.passwordLinking=function(s,c,u){var h=ko(Me(s));Ro(Me(s));var m=h&&h.a;if(m){var g=new ad(u,function(){UG(s,g,u,m)},function(){g.m(),me("passwordRecovery",s,c,u)},yn(q(s)),_n(q(s)));g.render(c),Ye(s,g)}else Ot(s,c)};function vp(s,c,u,h,m,g){z.call(this,JN,{email:u,Ta:!!c},g,"passwordRecovery",{F:h,D:m}),this.l=s,this.u=c}l(vp,z),vp.prototype.v=function(){this.B(),this.H(this.l,this.u),Yn(this.i())||this.i().focus(),sd(this,this.i(),this.l),z.prototype.v.call(this)},vp.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(vp.prototype,{i:Ps,w:Ma,B:cd,M:ld,j:ud,U:jn,P:Mn,H:Xn});function BG(s,c){var u=c.j();if(u){var h=qt(c);Be(s,c.I(Ie(rt(s).sendPasswordResetEmail,rt(s)),[u],function(){c.m();var m=new Wy(u,function(){m.m(),Ot(s,h)},yn(q(s)),_n(q(s)));m.render(h),Ye(s,m)},function(m){nn(c.i(),!1),Jn(c.w(),Mt(m))}))}else c.i().focus()}bt.passwordRecovery=function(s,c,u,h,m){var g=new vp(function(){BG(s,g)},h?void 0:function(){g.m(),Ot(s,c)},u,yn(q(s)),_n(q(s)));g.render(c),Ye(s,g),m&&g.a(m)},bt.passwordSignIn=function(s,c,u,h){var m=new np(function(){MG(s,m)},function(){var g=m.M();m.m(),me("passwordRecovery",s,c,g)},u,yn(q(s)),_n(q(s)),h);m.render(c),Ye(s,m)};function RI(){return dt(this,"firebaseui-id-name")}function NI(){return dt(this,"firebaseui-id-name-error")}function yp(s,c,u,h,m,g,_,A,N){z.call(this,YN,{email:h,Tb:s,name:m,Ta:!!u,ia:!!A},N,"passwordSignUp",{F:g,D:_}),this.w=c,this.H=u,this.B=s}l(yp,z),yp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(tp(this,this.i(),this.u()),tp(this,this.u(),this.l())):tp(this,this.i(),this.l()),this.w&&sd(this,this.l(),this.w),Yn(this.i())?this.B&&!Yn(this.u())?this.u().focus():this.l().focus():this.i().focus(),z.prototype.v.call(this)},yp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(yp.prototype,{i:Ps,U:Ma,ea:cd,jb:ld,j:ud,u:RI,Bc:NI,Ja:function(){var s=RI.call(this),c=NI.call(this);nd(this,s,function(){id(c)&&(nn(s,!0),ar(c))})},M:function(){var s=RI.call(this),c=NI.call(this),u=Yn(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),nn(s,u),u?(ar(c),c=!0):(Jn(c,gt("Enter your account name").toString()),c=!1),c?Kn(Yn(s)):null},l:lp,ba:Zy,lb:Xy,ua:ZF,P:e2,Nb:jn,Mb:Mn,pa:Xn});function $G(s,c){var u=hN(q(s)),h=c.j(),m=null;u&&(m=c.M());var g=c.P();if(h){if(u)if(m)m=br(m);else{c.u().focus();return}if(g){var _=be.auth.EmailAuthProvider.credential(h,g);Be(s,c.I(Ie(s.Yb,s),[h,g],function(A){var N={user:A.user,credential:_,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:m}).then(function(){return Os(s,c,N)}),Be(s,A),A):Os(s,c,N)},function(A){if(!A.name||A.name!="cancel"){var N=ip(A);switch(A=Mt(N),N.code){case"auth/email-already-in-use":return HG(s,c,h,N);case"auth/too-many-requests":A=gt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":nn(c.l(),!1),Jn(c.ba(),A);break;case"auth/admin-restricted-operation":Kc(q(s))?(A=qt(c),c.m(),me("handleUnauthorizedUser",s,A,h,be.auth.EmailAuthProvider.PROVIDER_ID)):c.a(A);break;default:N="setAccountInfo: "+$R(N),or(N,void 0),c.a(A)}}}))}else c.l().focus()}else c.i().focus()}function HG(s,c,u,h){function m(){var _=Mt(h);nn(c.i(),!1),Jn(c.U(),_),c.i().focus()}var g=rt(s).fetchSignInMethodsForEmail(u).then(function(_){_.length?m():(_=qt(c),c.m(),me("passwordRecovery",s,_,u,!1,Vk().toString()))},function(){m()});return Be(s,g),g}bt.passwordSignUp=function(s,c,u,h,m,g){function _(){A.m(),Ot(s,c)}var A=new yp(hN(q(s)),function(){$G(s,A)},m?void 0:_,u,h,yn(q(s)),_n(q(s)),g);A.render(c),Ye(s,A)};function FI(){return dt(this,"firebaseui-id-phone-confirmation-code")}function i2(){return dt(this,"firebaseui-id-phone-confirmation-code-error")}function r2(){return dt(this,"firebaseui-id-resend-countdown")}function fd(s,c,u,h,m,g,_,A,N){z.call(this,xF,{phoneNumber:m},N,"phoneSignInFinish",{F:_,D:A}),this.jb=g,this.i=new jy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=h}l(fd,z),fd.prototype.v=function(){var s=this;this.U(this.jb),Wr(this.i,"tick",this.w,!1,this),this.i.start(),Yt(this,dt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),Yt(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),z.prototype.v.call(this)},fd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Uy(this.i),$c(this.i,"tick",this.w),this.i=null,z.prototype.o.call(this)},fd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Uy(this.i),$c(this.i,"tick",this.w),this.ua(),this.lb())},Te(fd.prototype,{u:FI,pa:i2,Ja:function(s){var c=FI.call(this),u=i2.call(this);nd(this,c,function(){id(u)&&(nn(c,!0),ar(u))}),s&&ep(this,c,function(){s()})},ba:function(){var s=Kn(Yn(FI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:r2,U:function(s){IC(r2.call(this),gt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){ar(this.Fb())},Da:function(){return dt(this,"firebaseui-id-resend-link")},lb:function(){Jn(this.Da())},Nb:jn,Mb:Mn,ea:Xn});function zG(s,c,u,h){function m(_){c.u().focus(),nn(c.u(),!1),Jn(c.pa(),_)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",gt("Verifying...").toString()),Be(s,c.I(Ie(h.confirm,h),[g],function(_){c.h(),c.$("firebaseui-icon-done",gt("Verified!").toString());var A=setTimeout(function(){c.h(),c.m();var N={user:Qr(s).currentUser,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo};Os(s,c,N,!0)},1e3);Be(s,function(){c&&c.h(),clearTimeout(A)})},function(_){if(_.name&&_.name=="cancel")c.h();else{var A=ip(_);switch(_=Mt(A),A.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":A=qt(c),c.h(),c.m(),me("phoneSignInStart",s,A,u,_);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),m(_);break;default:c.h(),c.a(_)}}}))):m(gt("Wrong code. Try again.").toString())}bt.phoneSignInFinish=function(s,c,u,h,m,g){var _=new fd(function(){_.m(),me("phoneSignInStart",s,c,u)},function(){zG(s,_,u,m)},function(){_.m(),Ot(s,c)},function(){_.m(),me("phoneSignInStart",s,c,u)},hI(u),h,yn(q(s)),_n(q(s)));_.render(c),Ye(s,_),g&&_.a(g)};var qG=!Zt&&!(it("Safari")&&!(gk()||it("Coast")||it("Opera")||it("Edge")||it("Firefox")||it("FxiOS")||it("Silk")||it("Android")));function n_(s,c){return/-[a-z]/.test(c)?null:qG&&s.dataset?!it("Android")||gk()||it("Firefox")||it("FxiOS")||it("Opera")||it("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function GG(s,c,u){var h=this;s=Mf($N,{items:s},null,this.s),zN.call(this,s,!0,!0),u&&(u=WG(s,u))&&(u.focus(),wG(u,s)),Yt(this,s,function(m){(m=(m=Pk(m.target,"firebaseui-id-list-box-dialog-button"))&&n_(m,"listboxid"))&&(zy.call(h),c(m))})}function WG(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(n_(s[u],"listboxid")===c)return s[u];return null}function Yc(){return dt(this,"firebaseui-id-phone-number")}function o2(){return dt(this,"firebaseui-id-country-selector")}function LI(){return dt(this,"firebaseui-id-phone-number-error")}function KG(s,c){var u=s.a,h=VI("1-US-0",u),m=null;if(c&&VI(c,u)?m=c:h?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");i_.call(this,m,s)}function VI(s,c){return s=Wc(s),!(!s||!st(c,s))}function QG(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+jI(c),label:c.name+" "+("\u200E+"+c.b)}})}function jI(s){return"firebaseui-flag-"+s.f}function YG(s){var c=this;GG.call(this,QG(s.a),function(u){i_.call(c,u,s,!0),c.O().focus()},this.Ba)}function i_(s,c,u){var h=Wc(s);h&&(u&&(u=Kn(Yn(Yc.call(this))||""),c=Ry(c,u),c.length&&c[0].b!=h.b&&(u="+"+h.b+u.substr(c[0].b.length+1),yN(Yc.call(this),u))),c=Wc(this.Ba),this.Ba=s,s=dt(this,"firebaseui-id-country-selector-flag"),c&&Fo(s,jI(c)),No(s,jI(h)),IC(dt(this,"firebaseui-id-country-selector-code"),"\u200E+"+h.b))}function _p(s,c,u,h,m,g,_,A,N,Q){z.call(this,AF,{Gb:c,Aa:N||null,Va:!!u,ia:!!g},Q,"phoneSignInStart",{F:h,D:m}),this.H=A||null,this.M=c,this.l=s,this.w=u||null,this.pa=_||null}l(_p,z),_p.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||tp(this,this.O(),this.i()),sd(this,this.i(),this.l),this.O().focus(),e_(this.O(),(this.O().value||"").length),z.prototype.v.call(this)},_p.prototype.o=function(){this.w=this.l=null,z.prototype.o.call(this)},Te(_p.prototype,{Cb:AI,O:Yc,B:LI,ea:function(s,c,u){var h=this,m=Yc.call(this),g=o2.call(this),_=LI.call(this),A=s||qf,N=A.a;if(N.length==0)throw Error("No available countries provided.");KG.call(h,A,c),Yt(this,g,function(){YG.call(h,A)}),nd(this,m,function(){id(_)&&(nn(m,!0),ar(_));var Q=Kn(Yn(m)||""),ve=Wc(this.Ba),Dt=Ry(A,Q);Q=VI("1-US-0",N),Dt.length&&Dt[0].b!=ve.b&&(ve=Dt[0],i_.call(h,ve.b=="1"&&Q?"1-US-0":ve.c,A))}),u&&ep(this,m,function(){u()})},U:function(s){var c=Kn(Yn(Yc.call(this))||"");s=s||qf;var u=s.a,h=Ry(qf,c);if(h.length&&!st(u,h[0]))throw yN(Yc.call(this)),Yc.call(this).focus(),Jn(LI.call(this),gt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=Wc(this.Ba),h.length&&h[0].b!=u.b&&i_.call(this,h[0].c,s),h.length&&(c=c.substr(h[0].b.length+1)),c?new nN(this.Ba,c):null},Ja:o2,ba:function(){return dt(this,"firebaseui-recaptcha-container")},u:function(){return dt(this,"firebaseui-id-recaptcha-error")},i:jn,ua:Mn,P:Xn});function s2(s,c,u,h){try{var m=c.U(wI)}catch{return}m?Kf?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",gt("Verifying...").toString()),Be(s,c.I(Ie(s.cc,s),[hI(m),u],function(g){var _=qt(c);c.$("firebaseui-icon-done",gt("Code sent!").toString());var A=setTimeout(function(){c.h(),c.m(),me("phoneSignInFinish",s,_,m,15,g)},1e3);Be(s,function(){c&&c.h(),clearTimeout(A)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(gN),Kf=null;var _=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":_=gt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),Jn(c.B(),AC().toString());return;case"auth/admin-restricted-operation":if(Kc(q(s))){g=qt(c),c.m(),me("handleUnauthorizedUser",s,g,hI(m),be.auth.PhoneAuthProvider.PROVIDER_ID);return}_=Mt(g);break;default:_=Mt(g)}c.a(_)}}))):Yu?Jn(c.u(),gt("Solve the reCAPTCHA").toString()):!Yu&&h&&c.i().click():(c.O().focus(),Jn(c.B(),AC().toString()))}bt.phoneSignInStart=function(s,c,u,h){var m=sG(q(s))||{};Kf=null,Yu=!(m&&m.size==="invisible");var g=WF(s),_=hG(q(s)),A=g?dG(q(s)):null;_=u&&u.a||_&&_.c||null,u=u&&u.Aa||A,(A=fI(q(s)))&&tN(A),wI=A?new XR(fI(q(s))):qf;var N=new _p(function(ve){s2(s,N,Q,!(!ve||!ve.keyCode))},Yu,g?null:function(){Q.clear(),N.m(),Ot(s,c)},yn(q(s)),_n(q(s)),g,wI,_,u);N.render(c),Ye(s,N),h&&N.a(h),m.callback=function(ve){N.u()&&ar(N.u()),Kf=ve,Yu||s2(s,N,Q)},m["expired-callback"]=function(){Kf=null};var Q=new be.auth.RecaptchaVerifier(Yu?N.ba():N.i(),m,Qr(s).app);Be(s,N.I(Ie(Q.render,Q),[],function(ve){gN=ve},function(ve){ve.name&&ve.name=="cancel"||(ve=Mt(ve),N.m(),Ot(s,c,void 0,ve))}))},bt.prefilledEmailSignIn=function(s,c,u){var h=new t_;h.render(c),Ye(s,h),Be(s,h.I(Ie(rt(s).fetchSignInMethodsForEmail,rt(s)),[u],function(m){h.m();var g=!(!Qy(s)||!l2(s));QF(s,c,m,u,void 0,g)},function(m){m=Mt(m),h.m(),me("signIn",s,c,u,m)}))};function wp(s,c,u,h,m){z.call(this,DF,{Sb:c},m,"providerSignIn",{F:u,D:h}),this.i=s}l(wp,z),wp.prototype.v=function(){this.l(this.i),z.prototype.v.call(this)},wp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(wp.prototype,{l:function(s){function c(_){s(_)}for(var u=this.g?EC("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var m=u[h],g=n_(m,"providerId");Yt(this,m,je(c,g))}}}),bt.providerSignIn=function(s,c,u,h){var m=new wp(function(g){g==be.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),PI(s,c,h)):g==be.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),me("phoneSignInStart",s,c)):g=="anonymous"?AG(s,m):rp(s,m,g,h),ht(s),s.l.cancel()},sN(q(s)),yn(q(s)),_n(q(s)));m.render(c),Ye(s,m),u&&m.a(u),ZG(s)},bt.sendEmailLinkForSignIn=function(s,c,u,h){var m=new Yy;m.render(c),Ye(s,m),MI(s,m,u,h,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&Kc(q(s))?me("handleUnauthorizedUser",s,c,u,be.auth.EmailAuthProvider.PROVIDER_ID):(g=Mt(g),me("signIn",s,c,u,g))})};function bp(s,c,u,h,m,g,_){z.call(this,KN,{email:u,Va:!!c,ia:!!g},_,"signIn",{F:h,D:m}),this.i=s,this.u=c}l(bp,z),bp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),e_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},bp.prototype.o=function(){this.u=this.i=null,z.prototype.o.call(this)},Te(bp.prototype,{l:Ps,M:Ma,w:cd,H:ld,j:ud,U:jn,P:Mn,B:Xn}),bt.signIn=function(s,c,u,h){var m=Qy(s),g=new bp(function(){var _=g,A=_.j()||"";A&&KF(s,_,A)},m?null:function(){g.m(),Ot(s,c,u)},u,yn(q(s)),_n(q(s)),m);g.render(c),Ye(s,g),h&&g.a(h)};function Ep(s,c,u,h,m,g,_){z.call(this,dF,{kc:s,yb:u,Eb:!!h},_,"unauthorizedUser",{F:m,D:g}),this.l=c,this.i=h}l(Ep,z),Ep.prototype.v=function(){var s=this,c=dt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&Yt(this,c,function(){s.i()}),Yt(this,this.u(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Ep.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Ep.prototype,{u:Mn}),bt.handleUnauthorizedUser=function(s,c,u,h){function m(){Ot(s,c)}h===be.auth.EmailAuthProvider.PROVIDER_ID?m=function(){PI(s,c)}:h===be.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){me("phoneSignInStart",s,c)});var g=null,_=null;h===be.auth.EmailAuthProvider.PROVIDER_ID&&cN(q(s))?(g=lG(q(s)),_=uG(q(s))):Kc(q(s))&&(g=aG(q(s)),_=cG(q(s)));var A=new Ep(u,function(){A.m(),m()},g,_,yn(q(s)),_n(q(s)));A.render(c),Ye(s,A)};function Cp(s,c,u,h,m,g){z.call(this,hF,{email:s},g,"unsupportedProvider",{F:h,D:m}),this.l=c,this.i=u}l(Cp,z),Cp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Cp.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Cp.prototype,{u:jn,B:Mn,w:Xn}),bt.unsupportedProvider=function(s,c,u){var h=new Cp(u,function(){h.m(),me("passwordRecovery",s,c,u)},function(){h.m(),Ot(s,c,u)},yn(q(s)),_n(q(s)));h.render(c),Ye(s,h)};function Lo(s,c){this.$=!1;var u=UI(c);if(Ip[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Ip[u]=this,this.a=s,this.u=null,this.Y=!1,a2(this.a),this.h=be.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),a2(this.h),this.h.setPersistence&&this.h.setPersistence(be.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new oG,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=qC.Xa(),this.j=this.C=null,this.da=this.A=!1}function a2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Ip={};function UI(s){return s||"[DEFAULT]"}function c2(s){return ht(s),s.i||(s.i=ks(s,function(c){return c&&!ko(Me(s))?tn(Qr(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Oa(s,u)})):tn(rt(s).getRedirectResult().then(function(u){return Ny(q(s))&&!u.user&&s.j&&!s.j.isAnonymous?Qr(s).getRedirectResult():u}))})),s.i}function Ye(s,c){ht(s),s.g=c}var pd=null;function rt(s){return ht(s),s.h}function Qr(s){return ht(s),s.a}function Me(s){return ht(s),s.oa}function l2(s){return ht(s),s.O?s.O.emailHint:void 0}t=Lo.prototype,t.nb=function(){return ht(this),!!aI(Me(this))||u2(Ms())};function u2(s){return s=new Fc(s),(s.a.a.get(Dn.ub)||null)==="signIn"&&!!s.a.a.get(Dn.$a)}t.start=function(s,c){d2(this,s,c)};function d2(s,c,u,h){ht(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var m="en".replace(/_/g,"-");s.a.languageCode=m,s.h.languageCode=m,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=h||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?r_(s,c):Nf(window,"load",function(){r_(s,c)})}):g.readyState=="complete"?r_(s,c):Nf(window,"load",function(){r_(s,c)})}function r_(s,c){var u=fy(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),pd){var h=pd;ht(h),ko(Me(h))&&Aa("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),pd.reset()}if(pd=s,s.T=u,XG(s,u),ky(new iI)&&ky(new rI)){c=fy(c,"Could not find the FirebaseUI widget element on the page."),u=Ms(),h=uI(q(s).a,"queryParameterForSignInSuccessUrl"),u=(u=qr(u,h))?ba(Zv(u)).toString():null;e:{h=Ms();var m=dN(q(s));h=qr(h,m)||"";for(g in _I)if(_I[g].toLowerCase()==h.toLowerCase()){var g=_I[g];break e}g="callback"}switch(g){case"callback":u&&(g=Me(s),Gu(Hf,u,g)),s.nb()?me("callback",s,c):Ot(s,c,l2(s));break;case"resetPassword":me("passwordReset",s,c,op(),OI());break;case"recoverEmail":me("emailChangeRevocation",s,c,op());break;case"revertSecondFactorAddition":me("revertSecondFactorAddition",s,c,op());break;case"verifyEmail":me("emailVerification",s,c,op(),OI());break;case"verifyAndChangeEmail":me("verifyAndChangeEmail",s,c,op(),OI());break;case"signIn":me("emailLinkSignInCallback",s,c,Ms()),m2();break;case"select":u&&(g=Me(s),Gu(Hf,u,g)),Ot(s,c);break;default:throw Error("Unhandled widget operation.")}c=q(s),(c=Wf(c).uiShown||null)&&c()}else c=fy(c,"Could not find the FirebaseUI widget element on the page."),g=new qF(gt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),Ye(s,g);c=s.g&&s.g.Ga=="blank"&&pI(q(s)),aI(Me(s))&&!c&&(c=aI(Me(s)),p2(s,c.a),Yi(Gc,Me(s)))}function ks(s,c){if(s.A)return c(h2(s));if(Be(s,function(){s.A=!1}),Ny(q(s))){var u=new xn(function(h){Be(s,s.a.onAuthStateChanged(function(m){s.j=m,s.A||(s.A=!0,h(c(h2(s))))}))});return Be(s,u),u}return s.A=!0,c(null)}function h2(s){return ht(s),Ny(q(s))&&s.j&&s.j.isAnonymous?s.j:null}function Be(s,c){if(ht(s),c){s.s.push(c);var u=function(){wr(s.s,function(h){return h==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){ht(this),this.Z=!0};function JG(s){ht(s);var c;return(c=s.Z)||(s=q(s),s=uN(s,be.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function f2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function p2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){ht(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&Pq(this.J),f2(this),this.O=null,m2(),Yi(Gc,Me(this)),ht(this),this.l.cancel(),this.i=tn({user:null,credential:null}),pd==this&&(pd=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Ro(Me(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Pa(this).then(function(){s.C=null},function(){s.C=null}))};function XG(s,c){s.L=null,s.J=new dy(c),s.J.register(),Wr(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var h=q(s);(h=Wf(h).uiChanged||null)&&h(s.L,u),s.L=u}})}t.ib=function(s){ht(this);var c=this.ca,u;for(u in s)try{lI(c.a,u,s[u])}catch{or('Invalid config: "'+u+'"',void 0)}Zz&&lI(c.a,"popupMode",!1),fI(c),!this.da&&mI(q(this))&&(Aa("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function q(s){return ht(s),s.ca}t.Wb=function(){ht(this);var s=q(this),c=uI(s.a,"widgetUrl");s=dN(s);for(var u=c.search(ki),h=0,m,g=[];0<=(m=Qn(c,h,s,u));)g.push(c.substring(h,m)),h=Math.min(c.indexOf("&",m)+1||u,u);g.push(c.substr(h)),c=g.join("").replace(Jv,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),h=c.indexOf("?"),0>h||h>u?(h=u,m=""):m=c.substring(h+1,u),c=[c.substr(0,h),m,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,q(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=hR(u,s))&&s.focus()):Nu(window.location,u)};function ht(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return ht(this),this.h.app.delete().then(function(){var c=UI(Me(s));delete Ip[c],s.reset(),s.$=!0})};function ZG(s){ht(s);try{yR(s.l,aN(q(s)),JG(s)).then(function(c){return s.g?xG(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){ht(this);var u=this,h=Vq();if(!Qu(q(this)))return Fu(Error("Email link sign-in should be enabled to trigger email sending."));var m=pG(q(this)),g=new Fc(m.url);return Qz(g,h),c&&c.a&&(rG(h,c,Me(this)),fk(g,c.a.providerId)),Yz(g,fG(q(this))),ks(this,function(_){return _&&((_=_.uid)?g.a.a.set(Dn.Pa,_):Nc(g.a.a,Dn.Pa)),m.url=g.toString(),rt(u).sendSignInLinkToEmail(s,m)}).then(function(){var _=Me(u),A={};A.email=s,Gu(zu,jR(h,JSON.stringify(A)),_)},function(_){throw Yi(zf,Me(u)),Yi(zu,Me(u)),_})};function e8(s,c){var u=hk(new Fc(c));return u?(c=new xn(function(h,m){var g=Qr(s).onAuthStateChanged(function(_){g(),_&&_.isAnonymous&&_.uid===u?h(_):_&&_.isAnonymous&&_.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Be(s,g)}),Be(s,c),c):tn(null)}function t8(s,c,u,h,m){ht(s);var g=m||null,_=be.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?rt(s).signInWithEmailLink(u,h).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return Pa(s)}).then(function(){return Oa(s,{code:"auth/email-already-in-use"},g)}):rt(s).fetchSignInMethodsForEmail(u).then(function(A){return A.length?Oa(s,{code:"auth/email-already-in-use"},_):c.linkWithCredential(_)}),Be(s,u),u}function n8(s,c,u,h){ht(s);var m=h||null,g;return c=rt(s).signInWithEmailLink(c,u).then(function(_){if(g={user:_.user,credential:null,operationType:_.operationType,additionalUserInfo:_.additionalUserInfo},m)return _.user.linkWithCredential(m).then(function(A){g={user:A.user,credential:m,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){Pa(s)}).then(function(){return Qr(s).updateCurrentUser(g.user)}).then(function(){return g.user=Qr(s).currentUser,g}),Be(s,c),c}function m2(){var s=Ms();if(u2(s)){s=new Fc(s);for(var c in Dn)Dn.hasOwnProperty(c)&&Nc(s.a.a,Dn[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){ht(this);var u=this;return rt(this).signInWithEmailAndPassword(s,c).then(function(h){return ks(u,function(m){return m?Pa(u).then(function(){return Oa(u,{code:"auth/email-already-in-use"},be.auth.EmailAuthProvider.credential(s,c))}):h})})},t.Yb=function(s,c){ht(this);var u=this;return ks(this,function(h){if(h){var m=be.auth.EmailAuthProvider.credential(s,c);return h.linkWithCredential(m)}return rt(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){ht(this);var c=this;return ks(this,function(u){return u?u.linkWithCredential(s).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Oa(c,h,s)}):rt(c).signInWithCredential(s)})};function i8(s,c){return ht(s),ks(s,function(u){return u&&!ko(Me(s))?u.linkWithPopup(c).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Oa(s,h)}):rt(s).signInWithPopup(c)})}t.dc=function(s){ht(this);var c=this,u=this.i;return this.i=null,ks(this,function(h){return h&&!ko(Me(c))?h.linkWithRedirect(s):rt(c).signInWithRedirect(s)}).then(function(){},function(h){throw c.i=u,h})},t.cc=function(s,c){ht(this);var u=this;return ks(this,function(h){return h?h.linkWithPhoneNumber(s,c).then(function(m){return new WC(m,function(g){if(g.code=="auth/credential-already-in-use")return Oa(u,g);throw g})}):Qr(u).signInWithPhoneNumber(s,c).then(function(m){return new WC(m)})})},t.$b=function(){return ht(this),Qr(this).signInAnonymously()};function r8(s,c){return ht(s),ks(s,function(u){if(s.j&&!s.j.isAnonymous&&Ny(q(s))&&!rt(s).currentUser)return Pa(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return Pa(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(h){return c.user=h.user,c.credential=h.credential,c.operationType=h.operationType,c.additionalUserInfo=h.additionalUserInfo,c},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Oa(s,h,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Pa(s).then(function(){return Qr(s).updateCurrentUser(c.user)}).then(function(){return c.user=Qr(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return ht(this),rt(this).signInWithEmailAndPassword(s,c)};function Pa(s){return ht(s),rt(s).signOut()}function Oa(s,c,u){if(ht(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var h=mN(q(s));return tn().then(function(){return h(new Pf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return Fu(c)}function Sp(s,c,u,h){z.call(this,OF,void 0,h,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Sp,z),Sp.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),e_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},Sp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Sp.prototype,{l:Ps,H:Ma,u:cd,B:ld,j:ud,M:jn,w:Xn});function o_(s,c,u,h,m){z.call(this,PF,{ec:c},m,"selectTenant",{F:u,D:h}),this.i=s}l(o_,z),o_.prototype.v=function(){o8(this,this.i),z.prototype.v.call(this)},o_.prototype.o=function(){this.i=null,z.prototype.o.call(this)};function o8(s,c){function u(A){c(A)}for(var h=s.g?EC("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],m=0;m<h.length;m++){var g=h[m],_=n_(g,"tenantId");Yt(s,g,je(u,_))}}function BI(s){z.call(this,eF,void 0,s,"spinner")}l(BI,z);function s8(s){this.a=new cI,vn(this.a,"authDomain"),vn(this.a,"displayMode",a_),vn(this.a,"tenants"),vn(this.a,"callbacks"),vn(this.a,"tosUrl"),vn(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{lI(this.a,c,s[c])}catch{or('Invalid config: "'+c+'"',void 0)}}function a8(s){s=s.a.get("displayMode");for(var c in HI)if(HI[c]===s)return HI[c];return a_}function s_(s){return s.a.get("callbacks")||{}}function g2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Aa("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Vu(c)}}return null}function v2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Aa("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Vu(u)}}return null}function $I(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(c_))throw Error("Invalid tenant configuration!")}function y2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var h=[];if(s=s[c]||s[c_],!s)return or("Invalid tenant configuration: "+(c+" is not configured!"),void 0),h;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(m){if(typeof m=="string")h.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(m.provider):h.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),or(m,void 0)}),h}function c8(s,c,u){return s=l8(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),s.signInOptions=c),s}function l8(s,c){var u=u8,h=h===void 0?{}:h;return $I(s,c),s=s.a.get("tenants"),jq(s[c]||s[c_],u,h)}var u8=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],a_="optionFirst",HI={pc:a_,oc:"identifierFirst"},c_="*";function Yr(s,c){var u=this;this.s=fy(s),this.a={},Object.keys(c).forEach(function(h){u.a[h]=new s8(c[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=Yr.prototype,t.Ub=function(s,c){var u=this;ka(this);var h=s.apiKey;return new xn(function(m,g){if(u.a.hasOwnProperty(h)){var _=s_(u.a[h]).selectTenantUiHidden||null;if(a8(u.a[h])===a_){var A=[];c.forEach(function(ve){ve=ve||"_";var Dt=u.a[h].a.get("tenants");if(!Dt)throw Error("Invalid tenant configuration!");(Dt=Dt[ve]||Dt[c_])?ve={tenantId:ve!=="_"?ve:null,V:Dt.fullLabel||null,displayName:Dt.displayName,za:Dt.iconUrl,ta:Dt.buttonColor}:(or("Invalid tenant configuration: "+(ve+" is not configured!"),void 0),ve=null),ve&&A.push(ve)});var N=function(ve){ve={tenantId:ve,providerIds:y2(u.a[h],ve||"_")},m(ve)};if(A.length===1){N(A[0].tenantId);return}u.g=new o_(function(ve){ka(u),_&&_(),N(ve)},A,g2(u.a[h]),v2(u.a[h]))}else u.g=new Sp(function(){var ve=u.g.j();if(ve){for(var Dt=0;Dt<c.length;Dt++){var Jr=y2(u.a[h],c[Dt]||"_",ve);if(Jr.length!==0){ve={tenantId:c[Dt],providerIds:Jr,email:ve},ka(u),_&&_(),m(ve);return}}u.g.a(jk({code:"no-matching-tenant-for-email"}).toString())}},g2(u.a[h]),v2(u.a[h]));u.g.render(u.s),(g=s_(u.a[h]).selectTenantUiShown||null)&&g()}else{var Q=Error("Invalid project configuration: API key is invalid!");Q.code="invalid-configuration",u.pb(Q),g(Q)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;$I(this.a[s],c||"_");try{this.i=be.app(u).auth()}catch{var h=this.a[s].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");s=be.initializeApp({apiKey:s,authDomain:h},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new xn(function(h,m){function g(Dt,Jr){u.j=new Lo(s),d2(u.j,u.s,Dt,Jr)}var _=s.app.options.apiKey;u.a.hasOwnProperty(_)||m(Error("Invalid project configuration: API key is invalid!"));var A=c8(u.a[_],s.tenantId||"_",c&&c.providerIds);ka(u),m={signInSuccessWithAuthResult:function(Dt){return h(Dt),!1}};var N=s_(u.a[_]).signInUiShown||null,Q=!1;m.uiChanged=function(Dt,Jr){Dt===null&&Jr==="callback"?((Dt=CC("firebaseui-id-page-callback",u.s))&&ar(Dt),u.h=new BI,u.h.render(u.s)):Q||Dt===null&&Jr==="spinner"||Jr==="blank"||(u.h&&(u.h.m(),u.h=null),Q=!0,N&&N(s.tenantId))},A.callbacks=m,A.credentialHelper="none";var ve;c&&c.email&&(ve={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(A,ve)}):g(A,ve)})},t.reset=function(){var s=this;return tn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,ka(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){ka(s),s.h=new BI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return ka(this),this.g=new UF,this.g.render(this.s),tn()};function ka(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=jk({code:s.code}).toString()||s.message;ka(this);var h;s.retry&&typeof s.retry=="function"&&(h=function(){c.reset(),s.retry()}),this.g=new zF(u,h),this.g.render(this.s)},t.Rb=function(s){var c=this;return tn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if($I(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=s_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Ge("firebaseui.auth.FirebaseUiHandler",Yr),Ge("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Yr.prototype.Ub),Ge("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Yr.prototype.Pb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Yr.prototype.Zb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.reset",Yr.prototype.reset),Ge("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Yr.prototype.Vb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Yr.prototype.mb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Yr.prototype.Bb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Yr.prototype.pb),Ge("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Yr.prototype.Rb),Ge("firebaseui.auth.AuthUI",Lo),Ge("firebaseui.auth.AuthUI.getInstance",function(s){return s=UI(s),Ip[s]?Ip[s]:null}),Ge("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Lo.prototype.Db),Ge("firebaseui.auth.AuthUI.prototype.start",Lo.prototype.start),Ge("firebaseui.auth.AuthUI.prototype.setConfig",Lo.prototype.ib),Ge("firebaseui.auth.AuthUI.prototype.signIn",Lo.prototype.Wb),Ge("firebaseui.auth.AuthUI.prototype.reset",Lo.prototype.reset),Ge("firebaseui.auth.AuthUI.prototype.delete",Lo.prototype.Wa),Ge("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Lo.prototype.nb),Ge("firebaseui.auth.AuthUIError",Pf),Ge("firebaseui.auth.AuthUIError.prototype.toJSON",Pf.prototype.toJSON),Ge("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",gI),Ge("firebaseui.auth.CredentialHelper.NONE",Ly),Ge("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),xn.prototype.catch=xn.prototype.Ca,xn.prototype.finally=xn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=tz.default);var rk=firebaseui.auth;var bf=(()=>{let e=class e{constructor(i){this.auth=i,this.localStorageKeyUser="firebase-user",this.userS=Ja(JSON.parse(localStorage.getItem(this.localStorageKeyUser))),this.auth.setPersistence(ns),this.auth.onAuthStateChanged(r=>this.userS.set(r))}logout(){localStorage.removeItem(this.localStorageKeyUser),this.auth.signOut()}createButton(i,r,o,a){(rk.AuthUI.getInstance()||new rk.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(localStorage.setItem(this.localStorageKeyUser,JSON.stringify(l.user)),o&&o(l),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[jl.PROVIDER_ID]})}awaitUser(){return E(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}};e.\u0275fac=function(r){return new(r||e)(oe(Hl))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vde(t,e){if(t&1){let n=de();S(0,"div",6),k("create",function(r){B(n);let o=P();return $(o.createAuthButton(r))}),T()}}function jde(t,e){if(t&1&&(S(0,"div",13)(1,"span",14),j(2),T(),S(3,"span",15),j(4),T()()),t&2){let n=e.$implicit,i=e.index;M(2),ye(i+1+". "+n.text),M(2),ye(n.description)}}function Ude(t,e){if(t&1){let n=de();Gt(0),fe(1,"div",7),S(2,"span"),j(3,"Pravidl\xE1"),T(),X(4,jde,5,2,"div",8),fe(5,"div",7),S(6,"div",9),k("click",function(){B(n);let r=P();return $(r.consent=!r.consent)}),fe(7,"i",10),S(8,"span",11),j(9,"S\xFAhlas\xEDm s pravidlami a budem ich dodr\u017Eiava\u0165"),T()(),S(10,"div",9),k("click",function(){B(n);let r=P();return $(r.agreeToPay=!r.agreeToPay)}),fe(11,"i",10),S(12,"span",11),j(13,"Rozumiem, \u017Ee prihl\xE1\u0161ka je platn\xE1 a\u017E po zaplaten\xED"),T()(),fe(14,"div",7),S(15,"div",12),k("click",function(){B(n);let r=P();return $(r.apply())}),j(16,"Potvrdi\u0165"),T(),Wt()}if(t&2){let n=P();M(4),O("ngForOf",n.rules),M(3),O("ngClass",n.consent?"fa-regular fa-square-check":"fa-regular fa-square"),M(4),O("ngClass",n.agreeToPay?"fa-regular fa-square-check":"fa-regular fa-square"),M(4),$e("disabled",!n.consent)}}var nz=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.rules=LH,this.consent=!1,this.agreeToPay=!1}ngOnInit(){this.event=this.eventManagerService.event}createAuthButton(i){this.authService.createButton(i.nativeElement)}apply(){this.consent&&console.log("applied")}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(_f),F(Es),F(Wi),F(bf))},e.\u0275cmp=ue({type:e,selectors:[["app-event-application"]],standalone:!0,features:[pe],decls:8,vars:3,consts:[[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"user-name"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],[4,"ngIf"],[1,"auth-button","auth-ui-button",3,"create"],[1,"h-separator"],["class","rules-container",4,"ngFor","ngForOf"],[1,"consent-checkbox-container",3,"click"],[1,"consent-checkbox-icon",3,"ngClass"],[1,"consent-checkbox-label"],[1,"button","button-apply",3,"click"],[1,"rules-container"],[1,"rule-text"],[1,"rule-description"]],template:function(r,o){if(r&1&&(S(0,"div",0)(1,"div",1)(2,"span",2),j(3,"Prihl\xE1\u0161ka"),T(),S(4,"span",3),j(5),T()(),X(6,Vde,1,0,"div",4)(7,Ude,17,5,"ng-container",5),T()),r&2){let a;M(5),ye((a=o.authService.userS())==null?null:a.displayName),M(),O("ngIf",!o.authService.userS()),M(),O("ngIf",o.authService.userS())}},dependencies:[ge,ri,yt,_t,Tc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (min-width: 1000px){[_nghost-%COMP%]{max-width:50%}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-text[_ngcontent-%COMP%]{padding-left:1rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-description[_ngcontent-%COMP%]{font-size:14px;text-align:justify}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .consent-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;cursor:pointer;align-self:flex-start}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}"]});let t=e;return t})();var iz=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(F(jt))},e.\u0275dir=Ct({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,At)},standalone:!0});let t=e;return t})();var rz=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(F(jt))},e.\u0275dir=Ct({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&k("resize",function(l){return o.onResize(l)},!1,At)},standalone:!0});let t=e;return t})();var oz={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"nocivkempoch",active:!0,title:"Ko\u013Eko noc\xED chce\u0161 by\u0165 v kempoch?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"3noci",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme na ubytov\u0148u, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"2noci",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme na ubytov\u0148u, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]},{id:"splavovatajposlednyden",active:!0,title:"Chce\u0161 aj v Nede\u013Eu e\u0161te splavova\u0165?",description:"Posledn\xFD de\u0148 b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"ano",text:"\xC1no",description:"Jasn\xE9, pohodi\u010Dka."},{id:"nie",text:"Nie",description:"Posledn\xFD de\u0148 si chcem sadn\xFA\u0165 do auta a \xEDs\u0165 domov."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var sz=[oz];function Bde(t,e){if(t&1&&(S(0,"a",17),j(1),T()),t&2){let n=e.$implicit;O("routerLink",n.urlTree),M(),ye(n.text)}}function $de(t,e){if(t&1){let n=de();Gt(0),S(1,"span",18),k("click",function(){B(n);let r=P(2);return $(r.authService.logout())}),j(2,"Odhl\xE1si\u0165 sa"),T(),Wt()}}function Hde(t,e){if(t&1){let n=de();S(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),j(4),T()(),S(5,"div",2)(6,"i",12),k("click",function(){B(n);let r=P();return $(r.sidebarVisible=!1)}),T()()(),S(7,"div",13)(8,"div",14),k("click",function(){B(n);let r=P();return $(r.sidebarVisible=!1)}),X(9,Bde,2,2,"a",15),T(),S(10,"div",16),k("click",function(){B(n);let r=P();return $(r.sidebarVisible=!1)}),X(11,$de,3,0,"ng-container",8),T()()()}if(t&2){let n=P();O("@fade",void 0),M(4),ye(n.event.title),M(5),O("ngForOf",n.getActiveMenus()),M(2),O("ngIf",n.authService.userS())}}var zde=()=>["currentRoute"],qde=()=>({exact:!0});function Gde(t,e){if(t&1&&(S(0,"a",19),j(1),T()),t&2){let n=e.$implicit;O("routerLink",n.urlTree)("routerLinkActive",yl(4,zde))("routerLinkActiveOptions",yl(5,qde)),M(),ye(n.text)}}function Wde(t,e){if(t&1){let n=de();Gt(0),S(1,"div",20)(2,"span",21),k("click",function(){B(n);let r=P();return $(r.authService.logout())}),j(3,"Odhl\xE1si\u0165 sa"),T(),S(4,"span",22),j(5),T()(),Wt()}if(t&2){let n=P();M(5),ye(n.authService.userS().displayName)}}var az=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.skip=!0,this.sidebarVisible=window.innerWidth<=1e3,this.menus=[{text:"Prihl\xE1\u0161ka",urlTree:["prihlaska"],active:!1},{text:"Hlasovanie",urlTree:["hlasovanie"],active:!0},{text:"V\xFDsledky",urlTree:["hlasovanie","vysledky"],active:!0}]}ngOnInit(){this.route.params.subscribe(i=>{this.event=JSON.parse(JSON.stringify(sz.find(r=>r.id==i.id))),this.eventManagerService.event=this.event})}getActiveMenus(){return this.menus.filter(i=>i.active)}};e.\u0275fac=function(r){return new(r||e)(F(Wi),F(bf),F(Es))},e.\u0275cmp=ue({type:e,selectors:[["app-event-manager"]],hostVars:1,hostBindings:function(r,o){r&2&&gl("@skip",o.skip)},standalone:!0,features:[pe],decls:17,vars:5,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],["class","header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],["class","sidebar-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-item",3,"click"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"div",1)(2,"span"),j(3),T()(),S(4,"div",2)(5,"i",3),k("click",function(){return o.sidebarVisible=!0}),T()()(),X(6,Hde,12,4,"div",4),S(7,"div",5)(8,"div",1)(9,"span"),j(10),T(),fe(11,"div",6),X(12,Gde,2,6,"a",7),T(),S(13,"div",2),X(14,Wde,6,1,"ng-container",8),T()(),S(15,"div",9),fe(16,"router-outlet"),T()),r&2&&(M(3),ye(o.event.title),M(3),O("ngIf",o.sidebarVisible),M(4),ye(o.event.title),M(2),O("ngForOf",o.getActiveMenus()),M(2),O("ngIf",o.authService.userS()))},dependencies:[ge,yt,_t,Vn,of,u9,Sv,iz,rz],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.currentRoute[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.6666666665rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.6666666666rem;display:flex;flex-direction:column;gap:.6666666666rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[ws,YE]}});let t=e;return t})();var cz=(()=>{let e=class e{constructor(i){this.eventManagerService=i}ngOnInit(){this.event=this.eventManagerService.event}};e.\u0275fac=function(r){return new(r||e)(F(Es))},e.\u0275cmp=ue({type:e,selectors:[["app-rules"]],standalone:!0,features:[pe],decls:8,vars:0,template:function(r,o){r&1&&(S(0,"span"),j(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),T(),S(2,"span"),j(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),T(),S(4,"span"),j(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),T(),S(6,"span"),j(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),T())},dependencies:[ge],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}"]});let t=e;return t})();var lz=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new sk,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(F(pi),F(io))},e.\u0275dir=Ct({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),sk=class{};function Kde(t,e){if(t&1&&(S(0,"td",9)(1,"span"),j(2),T()()),t&2){let n=e.$implicit,i=P().$implicit;co("width",100/i.options.length,"%"),M(2),ye(n.text)}}function Qde(t,e){t&1&&fe(0,"i",12)}function Yde(t,e){if(t&1&&(S(0,"td"),X(1,Qde,1,0,"i",11),T()),t&2){let n=e.$implicit,i=P().$implicit;M(),O("ngIf",n.people.includes(i.userDisplayName))}}function Jde(t,e){if(t&1&&(S(0,"tr")(1,"td",10),j(2),T(),X(3,Yde,2,1,"td",8),T()),t&2){let n=e.$implicit,i=P().$implicit,r=P(2);M(2),ye(r.getShortName(n.userDisplayName)),M(),O("ngForOf",i.options)}}function Xde(t,e){if(t&1){let n=de();S(0,"div",3),k("click",function(){let o=B(n).$implicit,a=P(2);return $(a.open(o))}),S(1,"span",4),j(2),T(),S(3,"div",5)(4,"table")(5,"tr"),fe(6,"td",6),X(7,Kde,3,3,"td",7),T(),X(8,Jde,4,2,"tr",8),T()()()}if(t&2){let n=e.$implicit,i=P(2);$e("closed",!n.open),M(2),ye(n.title),M(),$e("closed",!n.open),O("@drawer2",n.open),M(4),O("ngForOf",n.options),M(),O("ngForOf",i.userEntries)}}function Zde(t,e){if(t&1&&(S(0,"div",1),X(1,Xde,9,8,"div",2),T()),t&2){let n=P();M(),O("ngForOf",n.statistics)}}var uz=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i.sort((r,o)=>o.submitDate.localeCompare(r.submitDate)),this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id]?.includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id]?.includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id]?.includes("dontcare")&&a.choices[r.id]?.includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(F(_f),F(Es))},e.\u0275cmp=ue({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[pe],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&X(0,Zde,2,1,"div",0),r&2&&O("ngIf",o.statistics)},dependencies:[ge,yt,_t,Vn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.3333333332rem);max-width:calc(100vw - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.6666666666rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.6666666666rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;background-color:var(--color-background-secondary)}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{position:sticky;left:0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[XE]}});let t=e;return t})();var ak=()=>["vysledky"];function ehe(t,e){t&1&&(Gt(0),S(1,"div",2)(2,"span"),j(3,"Hlasovanie teraz nie je akt\xEDvne"),T(),S(4,"a",3),fe(5,"i",4),j(6,"V\xFDsledky"),T()(),Wt()),t&2&&(M(4),O("routerLink",yl(1,ak)))}function the(t,e){if(t&1){let n=de();S(0,"div",17),k("create",function(r){B(n);let o=P(4);return $(o.createAuthButton(r))}),T()}}function nhe(t,e){if(t&1){let n=de();S(0,"div",18),k("click",function(){B(n);let r=P(4);return $(r.updateVote())}),j(1,"Zmeni\u0165 hlasovanie"),T()}}function ihe(t,e){if(t&1&&(S(0,"div",9)(1,"div",10)(2,"span",11),j(3,"Hlasovanie"),T()(),S(4,"div",12),X(5,the,1,0,"div",13)(6,nhe,2,0,"div",14),S(7,"span",15),j(8,"alebo"),T(),S(9,"a",16),fe(10,"i",4),j(11,"V\xFDsledky"),T()()()),t&2){let n=P(3);M(5),O("ngIf",!n.authService.userS()),M(),O("ngIf",n.authService.userS()&&!n.canVote),M(3),O("routerLink",yl(3,ak))}}function rhe(t,e){if(t&1&&(S(0,"span",33),j(1),T()),t&2){let n=P().$implicit;M(),ye(n.description)}}function ohe(t,e){if(t&1&&fe(0,"i",41),t&2){let n=P().$implicit;O("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function she(t,e){if(t&1&&fe(0,"i",41),t&2){let n=P().$implicit;O("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function ahe(t,e){if(t&1&&(Gt(0),fe(1,"div",42),S(2,"a",43),k("click",function(i){return i.stopImmediatePropagation()}),fe(3,"i",44),T(),Wt()),t&2){let n=P().$implicit;M(2),O("href",n.hyperlink,Si)}}function che(t,e){if(t&1&&(Gt(0),fe(1,"div",42),S(2,"span",45),j(3),T(),Wt()),t&2){let n=P().$implicit;M(3),ye(n.description)}}function lhe(t,e){if(t&1){let n=de();S(0,"div",36),k("click",function(){let o=B(n).$implicit,a=P(2).$implicit,l=P(4);return $(l.onChoiceClick(a,o))}),X(1,ohe,1,1,"i",37)(2,she,1,1,"i",37),S(3,"div",38)(4,"span",39),j(5),T(),X(6,ahe,4,1,"ng-container",40)(7,che,4,1,"ng-container",40),T()()}if(t&2){let n=e.$implicit,i=P(2).$implicit;$e("disabled",n.disabled)("selected",n.selected),M(),O("ngIf",i.type=="checkbox"),M(),O("ngIf",i.type=="radio"),M(3),ye(n.text),M(),O("ngIf",n.hyperlink),M(),O("ngIf",n.description)}}function uhe(t,e){if(t&1&&(S(0,"div",34),X(1,lhe,8,9,"div",35),T()),t&2){let n=P().$implicit;M(),O("ngForOf",n.choices)}}function dhe(t,e){if(t&1&&(S(0,"div",29)(1,"span",30),j(2),T(),X(3,rhe,2,1,"span",31)(4,uhe,2,1,"div",32),T()),t&2){let n=e.$implicit,i=e.index,r=P(4);O("@drawer2",i==r.questionIndex),M(2),ye(n.title),M(),O("ngIf",n.description),M(),O("ngIf",n.choices)}}function hhe(t,e){t&1&&(S(0,"a",3),fe(1,"i",4),j(2,"V\xFDsledky"),T()),t&2&&O("@crossfade",void 0)("routerLink",yl(2,ak))}function fhe(t,e){if(t&1){let n=de();S(0,"div",46),k("click",function(){B(n);let r=P(4);return $(r.back())}),j(1,"Sp\xE4\u0165"),T()}t&2&&O("@crossfade",void 0)}function phe(t,e){if(t&1){let n=de();S(0,"div",46),k("click",function(){B(n);let r=P(4);return $(r.next())}),j(1,"\u010Ealej"),T()}t&2&&O("@crossfade",void 0)}function mhe(t,e){if(t&1){let n=de();S(0,"div",46),k("click",function(){B(n);let r=P(4);return $(r.submit())}),j(1,"Hlasova\u0165"),T()}if(t&2){let n=P(4);$e("disabled",!n.authService.userS()),O("@crossfade",void 0)}}function ghe(t,e){if(t&1&&(S(0,"div",19)(1,"div",20),X(2,dhe,5,4,"div",21),T(),S(3,"div",22)(4,"div",23),X(5,hhe,3,3,"a",24)(6,fhe,2,1,"div",25),T(),S(7,"div",23)(8,"div",26),j(9,"\xA0"),T()(),S(10,"div",23),X(11,phe,2,1,"div",25)(12,mhe,2,3,"div",27),T()(),S(13,"span",28),j(14),T()()),t&2){let n=P(3);M(),O("@skip",void 0),M(),O("ngForOf",n.activeQuestions),M(2),O("@skip",void 0),M(),O("ngIf",n.questionIndex==0),M(),O("ngIf",n.questionIndex!=0),M(4),O("@skip",void 0),M(),O("ngIf",n.questionIndex<n.activeQuestions.length-1),M(),O("ngIf",n.questionIndex==n.activeQuestions.length-1),M(2),ye(n.questionIndex+1+" / "+n.activeQuestions.length)}}function vhe(t,e){if(t&1&&(S(0,"div",6),X(1,ihe,12,4,"div",7)(2,ghe,15,9,"div",8),T()),t&2){let n=P(2);M(),O("ngIf",!n.authService.userS()||!n.canVote),M(),O("ngIf",n.authService.userS()&&n.canVote)}}function yhe(t,e){if(t&1&&X(0,vhe,3,2,"div",5),t&2){let n=P();O("ngIf",!n.loading)}}var dz=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event,this.activeQuestions=this.event.questions.filter(o=>o.active);let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.canVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.userS();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.userS().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.canVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.canVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(_f),F(Es),F(Wi),F(bf))},e.\u0275cmp=ue({type:e,selectors:[["app-survey"]],standalone:!0,features:[pe],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"create"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&X(0,ehe,7,2,"ng-container",0)(1,yhe,1,1,"ng-template",null,1,Yd),r&2){let a=ii(2);O("ngIf",o.activeQuestions.length==0)("ngIfElse",a)}},dependencies:[ge,ri,yt,_t,Vn,of,Tc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.3333333332rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.3333333333rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.6666666666rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.3333333333rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.1666666667rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.6666666666rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border:1px solid var(--color-border);border-radius:.3333333333rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.6666666666rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.6666666666rem;font-size:12px}"],data:{animation:[JE,XE,ws,YE]}});let t=e;return t})();function _he(t,e){if(t&1){let n=de();S(0,"span",6),k("click",function(){let o=B(n).$implicit,a=P(2);return $(a.onDataFileClick(o))}),j(1),T()}if(t&2){let n=e.$implicit;M(),ye(n.name.substring(0,n.name.length-10))}}function whe(t,e){if(t&1){let n=de();S(0,"span",6),k("click",function(){let o=B(n).$implicit,a=P(2);return $(a.onFolderClick(o))}),j(1),T()}if(t&2){let n=e.$implicit;M(),ye(n.name)}}function bhe(t,e){if(t&1&&(S(0,"div",4),X(1,_he,2,1,"span",5)(2,whe,2,1,"span",5),T()),t&2){let n=P();M(),O("ngForOf",n.dataFiles),M(),O("ngForOf",n.folders)}}var hz=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.next(!0)}ngOnInit(){return E(this,null,function*(){let i=yield this.googleService.getFolderMetadata();this.dataFolder=i.find(a=>a.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let r=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=r.filter(a=>a.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(a=>a.name.substring(0,a.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=i.filter(a=>yr.isFolder(a)&&!o.includes(a.name)&&a.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),this.googleService.dataFileId=i.id,this.router.navigate(["/gallery"])}onFolderClick(i){return E(this,null,function*(){this.applicationService.loading.next(!0);let r=yield this.googleService.createFile(i.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(i.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=r.id,this.googleService.updateContent(r.id,{dataFolderId:i.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(vf),F(pn))},e.\u0275cmp=ue({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[pe],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(S(0,"div",0),X(1,bhe,3,2,"div",1),S(2,"div",2)(3,"i",3),k("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),T()()()),r&2&&($e("opacity-1",!o.applicationService.loading.value),M(),O("ngIf",!0),M(2),O("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[ge,ri,yt,_t],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var fz=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var pz=(()=>{let e=class e extends Ln{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Are you sure you want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)G.remove(o.tags,r);G.remove(this.stateService.tagGroups,this.group),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Gn.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(F(mn),F(di))},e.\u0275cmp=ue({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)},inputs:{group:"group"},standalone:!0,features:[Lt,pe],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(S(0,"span",0),j(1,"Group Name"),T(),S(2,"input",1),Ar("ngModelChange",function(l){return lo(o.groupName,l)||(o.groupName=l),l}),T()),r&2&&(M(2),Dr("ngModel",o.groupName))},dependencies:[ge,Vn,$r,bs,xo],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Ehe(t,e){if(t&1&&(S(0,"option",7),j(1),T()),t&2){let n=e.$implicit;O("ngValue",n),M(),ye(n.name)}}var lC=(()=>{let e=class e extends Ln{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.currentGroup=this.group,this.canDelete=this.currentGroup!=null,this.tag&&(this.tagName=this.tag.name)}editGroup(i){this.dialogService.create(pz,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Are you sure you want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)G.remove(r.tags,this.tag.id);G.remove(this.group.tags,this.tag),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Gn.isEmpty(this.tagName)?!1:this.tag&&this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag||(this.tag={id:fz(),name:"",state:0,lowerCaseName:""}),this.tag.name=this.tagName,this.tag.lowerCaseName=this.tagName.toLowerCase(),this.group&&this.group!=this.currentGroup&&G.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(F(mn),F(di))},e.\u0275cmp=ue({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)},inputs:{group:"group",tag:"tag",tagName:"tagName"},standalone:!0,features:[Lt,pe],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(S(0,"span",0),j(1,"Group"),T(),S(2,"div",1)(3,"select",2),Ar("ngModelChange",function(l){return lo(o.currentGroup,l)||(o.currentGroup=l),l}),X(4,Ehe,2,2,"option",3),T(),S(5,"div",4)(6,"i",5),k("click",function(){return o.editGroup(o.currentGroup)}),T(),S(7,"i",6),k("click",function(){return o.editGroup()}),T()()(),S(8,"span",0),j(9,"Name"),T(),S(10,"div",1)(11,"input",2),Ar("ngModelChange",function(l){return lo(o.tagName,l)||(o.tagName=l),l}),T()()),r&2&&(M(3),Dr("ngModel",o.currentGroup),M(),O("ngForOf",o.stateService.tagGroups),M(2),$e("disabled",!o.currentGroup),M(5),Dr("ngModel",o.tagName))},dependencies:[ge,yt,Vn,PH,kH,$r,sC,bs,xo],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Che(t,e){if(t&1&&(S(0,"div",26)(1,"span"),j(2),T()()),t&2){let n=e.$implicit,i=P(2),r=ii(2);O("tp",r)("tpData",n),M(2),ye(i.getTag(n).name)}}function Ihe(t,e){if(t&1){let n=de();S(0,"div",27)(1,"i",3),k("click",function(){B(n);let r=P().ngVar,o=P();return $(o.moveTargetGroupLeft(r))}),T(),S(2,"i",28),k("click",function(){B(n);let r=P().ngVar,o=P();return $(o.moveTargetGroupRight(r))}),T()()}if(t&2){let n=P().ngVar,i=P();M(),$e("disabled",i.isFirstGroupImage(n)),M(),$e("disabled",i.isLastGroupImage(n))}}function She(t,e){if(t&1){let n=de();S(0,"i",29),k("click",function(){B(n);let r=P(2);return $(r.stateService.setRandomGroupTarget())}),T()}}function The(t,e){if(t&1&&fe(0,"iframe",33),t&2){let n=P().$implicit;B0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),O("src",n.contentLink,tD)}}function Dhe(t,e){if(t&1){let n=de();S(0,"img",35),k("load",function(){B(n);let r=P(4);return $(r.loadingC=!1)}),T()}if(t&2){let n=P(2).$implicit;O("src",n.contentLink,Si)}}function Ahe(t,e){if(t&1){let n=de();Gt(0),S(1,"img",34),k("click",function(){B(n);let r=P().$implicit,o=P(2);return $(o.onImageClick(r))}),T(),S(2,"img",35),k("load",function(){B(n);let r=P(3);return $(r.loadingT=!1)}),T(),X(3,Dhe,1,1,"img",36),Wt()}if(t&2){let n=P().$implicit,i=P(2);M(),O("src",i.getSrc(n),Si),M(),O("src",n.thumbnailLink,Si),M(),O("ngIf",n.contentLink)}}function xhe(t,e){if(t&1&&(S(0,"div",30),X(1,The,1,3,"iframe",31)(2,Ahe,4,3,"ng-container",32),T()),t&2){let n=P(2);O("@fade",void 0),M(),O("ngIf",n.video),M(),O("ngIf",!n.video)}}function Mhe(t,e){if(t&1){let n=de();Gt(0),S(1,"div",2)(2,"div")(3,"i",3),k("click",function(){B(n);let r=P();return $(r.stateService.fullscreenVisible.set(!1))}),T()(),S(4,"div")(5,"i",4),k("click",function(){let o=B(n).ngVar,a=P();return $(a.stateService.toggleHeart(o))}),T(),S(6,"i",5),k("click",function(){let o=B(n).ngVar,a=P();return $(a.stateService.toggleBookmark(o))}),T(),S(7,"span",6),k("click",function(){let o=B(n).ngVar,a=P();return $(a.stateService.like(o))})("contextmenu",function(r){let a=B(n).ngVar,l=P();return r.preventDefault(),$(l.stateService.dislike(a))}),j(8),T()()(),S(9,"div",7)(10,"div",8)(11,"div",9)(12,"i",10),k("click",function(){let o=B(n).ngVar,a=P();return $(a.stateService.delete(o,!0))}),T(),S(13,"i",11),k("click",function(){let o=B(n).ngVar,a=P();return $(a.stateService.delete(o,!1))}),T()(),S(14,"div",12)(15,"div",13),X(16,Che,3,3,"div",14),S(17,"div",15)(18,"div",16),fe(19,"input",17),S(20,"input",18,19),k("input",function(r){B(n);let o=P();return $(o.onTagInput(r))})("keypress",function(r){B(n);let o=P();return $(o.onTagInputSubmit(r))}),T()(),S(22,"i",20),k("click",function(){B(n);let r=P();return $(r.onTagInputSubmit())}),T()()(),X(23,Ihe,3,4,"div",21),T(),S(24,"div",22),X(25,She,1,0,"i",23),S(26,"i",24),k("click",function(){B(n);let r=P();return $(r.stateService.setRandomTarget())}),T()()()(),X(27,xhe,3,3,"div",25),Wt()}if(t&2){let n=e.ngVar,i=ii(21),r=P();M(5),O("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),M(),O("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),M(2),ye(n==null?null:n.likes),M(8),O("ngForOf",n==null?null:n.tags),M(3),O("placeholder",(r.tagMatch==null?null:r.tagMatch.name)||(i.value.length>0?"":"Tag Search")),M(4),O("ngIf",n==null?null:n.group),M(2),O("ngIf",n==null?null:n.group),M(2),O("ngForOf",r.crossfadeHelper)}}function Phe(t,e){if(t&1){let n=de();S(0,"div",37)(1,"span",38),k("click",function(){let o=B(n).data,a=P();return $(a.editTag(o))}),j(2,"Edit"),T(),S(3,"span",38),k("click",function(){let o=B(n).data,a=P();return $(a.removeTag(o))}),j(4,"Remove"),T()()}}var mz=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,wl(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){i&&this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,yr.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(i){return G.isFirst(i.group.images.filter(r=>r.passesFilter),i)}isLastGroupImage(i){return G.isLast(i.group.images.filter(r=>r.passesFilter),i)}moveTargetGroupLeft(i){this.stateService.target.set(G.getPrevious(i.group.images.filter(r=>r.passesFilter),i,!0))}moveTargetGroupRight(i){this.stateService.target.set(G.getNext(i.group.images.filter(r=>r.passesFilter),i,!0))}getTag(i){for(let r of this.stateService.tagGroups)for(let o of r.tags)if(o.id==i)return o}editTag(i){let r=this.getTag(i);this.dialogService.create(lC,{group:this.stateService.tagGroups.find(o=>o.tags.includes(r)),tag:r})}removeTag(i){this.stateService.toggleTag(this.stateService.target(),i)}createTag(){this.dialogService.create(lC)}onTagInput(i){let r=i.target.value.toLowerCase();if(r.length>0){for(let o of this.stateService.tagGroups)for(let a of o.tags)if(a.lowerCaseName.startsWith(r)){this.tagMatch=a,i.target.value=a.name.substring(0,r.length);return}}this.tagMatch=null}onTagInputSubmit(i){return E(this,null,function*(){if(!i||i.key==="Enter"){let r=document.getElementById("tag-input");this.tagMatch||(this.tagMatch=yield this.dialogService.create(lC,{tagName:r.value})),this.tagMatch&&(this.stateService.addTag(this.stateService.target(),this.tagMatch.id),this.tagMatch=null,r.value="")}})}};e.\u0275fac=function(r){return new(r||e)(F(pn),F(di),F(mn))},e.\u0275cmp=ue({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[pe],decls:3,vars:1,consts:[[4,"ngVar"],["tagHoverMenu",""],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[1,"buttons"],[2,"justify-content","start"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"flex","column","center"],[1,"tags"],["class","tag-bubble","tpVariation","hovermenu",3,"tp","tpData",4,"ngFor","ngForOf"],[1,"tag-bubble",2,"display","flex","position","relative","padding-right","0"],[2,"width","100%"],[2,"position","absolute","width","100%","border","0","padding","0","user-select","none","pointer-events","none",3,"placeholder"],["id","tag-input","autocomplete","off",2,"position","relative","width","100%","border","0","padding","0",3,"input","keypress"],["tagInput",""],[1,"icon-button","fa-solid","fa-plus",3,"click"],["class","flex",4,"ngIf"],[2,"justify-content","end"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group",3,"click",4,"ngIf"],["tp","Random Image",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],["tpVariation","hovermenu",1,"tag-bubble",3,"tp","tpData"],[1,"flex"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],["tp","Random Image from Group",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],[4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"],[1,"tippy-hover-menu-container"],[1,"tippy-hover-menu-button",3,"click"]],template:function(r,o){r&1&&X(0,Mhe,28,8,"ng-container",0)(1,Phe,5,0,"ng-template",null,1,Yd),r&2&&O("ngVar",o.stateService.target())},dependencies:[ge,ri,yt,_t,lz,_s],styles:['[_nghost-%COMP%]{z-index:20;background-color:#000000e6;transition:.5s}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;top:0;right:0;left:0;display:flex;justify-content:space-between;pointer-events:none}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;right:0;bottom:0;left:0;pointer-events:none;display:flex;flex-direction:column}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:.3333333333rem}}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag-bubble[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;padding:0 .3333333333rem;background-color:var(--color-overlay);cursor:default}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[ws]}});let t=e;return t})();var Su=class{static getNearestImageUp(e,n){let i=e.indexOf(n);for(;i>0;)if(e[--i].left==n.left)return e[i];return G.getLast(e.filter(r=>r.left==n.left))}static getNearestImageRight(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==r.length-1?0:o+1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||G.getLast(d)}static getNearestImageDown(e,n){let i=e.indexOf(n);for(;i<e.length-1;)if(e[++i].left==n.left)return e[i];return G.getFirst(e.filter(r=>r.left==n.left))}static getNearestImageLeft(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==0?r.length-1:o-1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||G.getLast(d)}};var Tu=class t{static getBetterThan(e,n,i,r=[]){for(let o of i[e])G.push(r,o),t.getBetterThan(o,n,i,r);return r}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let i=[],r=e;for(;r;)i.push(r),r.directlyBetterThan.length==1?r=r.directlyBetterThan[0]:r=null;let o=[];return n.filter(a=>!i.includes(a)).forEach(a=>o.push([a,a.getBetterThan().length])),o.sort((a,l)=>l[1]-a[1]),G.push(i,o.map(a=>a[0])),i}};var uC=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)G.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var Ef=class{constructor(e,n,i){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(r=>new uC(n(r),r)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),i&&Object.keys(i).length>0)for(let r of this.contenders)r.directlyBetterThan=i[r.id]?.map(o=>this.contenders.find(a=>a.id==o))||[];this.first=Tu.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=Tu.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=Tu.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,i,r;do{for(let o of this.contenders)r=o.directlyBetterThan.filter(a=>!e.includes(a)),r.length>n&&(n=r.length,i=r,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=i[0],a=i[1];o.isBetterThan(a)?(G.remove(this.resolvingTiesFor.directlyBetterThan,a),G.push(o.directlyBetterThan,a),this.nextComparison()):a.isBetterThan(o)?(G.remove(this.resolvingTiesFor.directlyBetterThan,o),G.push(a.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,a],this.history.unshift(o,a),this.leaderboard=Tu.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(G.push(this.winnersQueue,e),G.push(this.losersQueue,n),G.push(e.directlyBetterThan,n),this.queue.length<=1){let i=this.queue.shift();i&&this.winnersQueue.unshift(i),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":G.push(this.winnersQueue,e),G.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":G.push(this.losersQueue,n),G.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":G.remove(this.resolvingTiesFor.directlyBetterThan,n),G.push(e.directlyBetterThan,n);break}this.contenders.forEach(i=>i.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Ohe(t,e){if(t&1){let n=de();S(0,"div",4)(1,"div",5),k("click",function(){B(n);let r=P();return $(r.onImageClick(r.tournament.currentComparison[0],r.tournament.currentComparison[1]))}),fe(2,"img",6),T(),fe(3,"div",7),S(4,"div",5),k("click",function(){B(n);let r=P();return $(r.onImageClick(r.tournament.currentComparison[1],r.tournament.currentComparison[0]))}),fe(5,"img",6),T()()}if(t&2){let n=P();M(2),O("src",n.tournament.currentComparison[0].object.thumbnailLink,Si),M(3),O("src",n.tournament.currentComparison[1].object.thumbnailLink,Si)}}function khe(t,e){if(t&1&&(S(0,"div",8),fe(1,"img",6),T()),t&2){let n=e.$implicit;M(),O("src",n.object.thumbnailLink,Si)}}var gz=(()=>{let e=class e extends Ln{constructor(i){super(),this.stateService=i,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new Ef(this.images,i=>i.id,this.stateService.comparison)}onImageClick(i,r){this.tournament.handleUserInput(i,r)}reset(){this.tournament.reset()}save(){let i={};for(let r of this.tournament.contenders)i[r.id]=r.directlyBetterThan.map(o=>o.id);this.stateService.comparison=i,this.stateService.updateData(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(F(di))},e.\u0275cmp=ue({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[Lt,pe],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(X(0,Ohe,6,2,"div",0),fe(1,"div",1),S(2,"div",2),X(3,khe,2,1,"div",3),T()),r&2&&(O("ngIf",o.tournament.currentComparison),M(3),O("ngForOf",o.tournament.leaderboard))},dependencies:[ge,yt,_t],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var Cf=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(F(pi))},e.\u0275dir=Ct({type:e,selectors:[["","dragdrop",""]],inputs:{object:[Ae.None,"dragdrop","object"],array:[Ae.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Rhe(t,e){if(t&1){let n=de();S(0,"div",4),k("click",function(){let o=B(n).$implicit,a=P();return $(a.target=o)}),fe(1,"img",5),T()}if(t&2){let n=e.$implicit,i=P();$e("active",n==i.target),O("dragdrop",n)("dragdropParent",i.images),M(),O("src",n.thumbnailLink,Si)}}var vz=(()=>{let e=class e extends Ln{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.target=G.getFirst(this.images)}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Hi(e)))(o||e)}})(),e.\u0275cmp=ue({type:e,selectors:[["app-group-order"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},inputs:{images:"images"},standalone:!0,features:[Lt,pe],decls:4,vars:2,consts:[[1,"image-container"],[1,"image-content",3,"src"],[1,"results"],["class","image-container",3,"active","dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"image",3,"src"]],template:function(r,o){r&1&&(S(0,"div",0),fe(1,"img",1),T(),S(2,"div",2),X(3,Rhe,2,5,"div",3),T()),r&2&&(M(),O("src",o.target.contentLink,Si),M(2),O("ngForOf",o.images))},dependencies:[ge,yt,Cf],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{min-height:0;display:flex;justify-content:center}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{max-width:100%;padding:.3333333333rem .3333333333rem 0;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:120px;min-height:120px;padding:.3333333333rem;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container.active[_ngcontent-%COMP%]{outline:.1666666667rem solid var(--color-secondary);outline-offset:-.1666666667rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var dC=(()=>{let e=class e{constructor(i,r,o){this.stateService=i,this.dialogService=r,this.tippyService=o}editGroup(i){let r;i?i.group?(r=i.group.open,i.group.open=!0,this.stateService.editingGroup=i.group.images.slice()):this.stateService.editingGroup=[i]:this.stateService.editingGroup=[];let o=[{text:()=>"Save Group: "+this.stateService.editingGroup?.length+" images",click:()=>null},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(a=>{if(a)if(this.stateService.editingGroup.length>1){if(i?.group)i.group.images.forEach(l=>l.group=null),i.group.images=this.stateService.editingGroup,i.group.images.forEach(l=>l.group=i.group);else{let l=new mf;l.images=this.stateService.editingGroup,l.images.forEach(d=>d.group=l),this.stateService.groups.push(l)}this.stateService.updateData()}else i?.group&&(i.group.images.forEach(l=>l.group=null),G.remove(this.stateService.groups,i.group));i?.group&&(i.group.open=r),this.stateService.editingGroup=null,i?.group&&i.group.images.forEach(l=>this.stateService.refreshFilter(l))}),i?.group&&i.group.images.forEach(a=>this.stateService.refreshFilter(a))}reorderGroup(i){i&&i.group&&this.dialogService.create(vz,{images:i.group.images.slice()}).then(r=>{if(r){let o=new Map;r.forEach((a,l)=>o.set(a.id,l)),i.group.images.sort((a,l)=>o.get(a.id)-o.get(l.id)),this.stateService.refreshFilter(),this.stateService.updateData()}})}openYandexReverseImageSearch(i,r){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(r.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));i.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(i.target,"URL copied to clipboard!",{trigger:"click",onShow(a){setTimeout(()=>{a.hide()},3e3)},onHidden(a){a.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(r){return new(r||e)(oe(di),oe(mn),oe(rH))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _z=(()=>{let e=class e{constructor(i,r,o,a){this.applicationService=i,this.stateService=r,this.dialogService=o,this.galleryService=a}openImageComparison(){this.dialogService.create(gz,{images:G.shuffle(this.stateService.images.slice())})}};e.\u0275fac=function(r){return new(r||e)(F(pn),F(di),F(mn),F(dC))},e.\u0275cmp=ue({type:e,selectors:[["app-header"]],standalone:!0,features:[pe],decls:7,vars:1,consts:[[1,"header-start"],["tp","Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"i",1),k("click",function(){return o.openImageComparison()}),T(),S(2,"i",2),k("click",function(){return o.galleryService.editGroup()}),T()(),fe(3,"div",3),S(4,"div",4)(5,"i",5),k("click",function(){return o.applicationService.toggleTheme()}),T(),S(6,"i",6),k("click",function(){return o.dialogService.openSettings()}),T()()),r&2&&(M(5),O("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[ge,ri,_s],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:2rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{flex:1;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Nhe(t,e){if(t&1&&(S(0,"i",17),k("click",function(i){return i.stopPropagation()}),T()),t&2){let n=P(2).$implicit;P(2);let i=ii(3);O("tp",i)("tpData",n)}}function Fhe(t,e){if(t&1){let n=de();Gt(0),S(1,"div",9)(2,"i",10),k("click",function(r){B(n);let o=P().$implicit,a=P(2);return r.stopPropagation(),$(a.stateService.toggleHeart(o))}),T(),S(3,"i",11),k("click",function(r){B(n);let o=P().$implicit,a=P(2);return r.stopPropagation(),$(a.stateService.toggleBookmark(o))}),T(),S(4,"i",12),k("click",function(r){B(n);let o=P().$implicit,a=P(2);return r.stopPropagation(),$(a.stateService.like(o))})("contextmenu",function(r){B(n);let o=P().$implicit,a=P(2);return r.preventDefault(),$(a.stateService.dislike(o))}),j(5),T(),X(6,Nhe,1,2,"i",13),T(),S(7,"div",14)(8,"i",15),k("click",function(r){B(n);let o=P().$implicit,a=P(2);return r.stopPropagation(),$(a.googleService.openSearch(o.name))}),T(),S(9,"i",16),k("click",function(r){B(n);let o=P().$implicit,a=P(2);return $(a.galleryService.openYandexReverseImageSearch(r,o))}),T()(),Wt()}if(t&2){let n=P().$implicit;M(2),O("ngClass",n.heart?"fa-solid active":"fa-regular"),M(),O("ngClass",n.bookmark?"fa-solid active":"fa-regular"),M(2),ye(n.likes),M(),O("ngIf",n.group)}}function Lhe(t,e){if(t&1){let n=de();S(0,"div",5),k("click",function(){let o=B(n).$implicit,a=P(2);return $(a.onImageClick(o))}),S(1,"div",6)(2,"img",7,8),k("create",function(r){let a=B(n).$implicit,l=P(2);return $(l.onBrickCreate(r,a))})("load",function(){B(n);let r=ii(3);return $(r.style.opacity="1")}),T()(),X(4,Fhe,10,4,"ng-container",0),T()}if(t&2){let n=e.$implicit,i=P(2);B0("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),$e("modifying-group",i.stateService.editingGroup==null?null:i.stateService.editingGroup.includes(n)),O("@fade",void 0),M(2),O("src",n.thumbnailLink,Si),M(2),O("ngIf",!i.stateService.editingGroup)}}function Vhe(t,e){if(t&1){let n=de();Gt(0),S(1,"div",2)(2,"div",3),k("create",function(r){B(n);let o=P();return $(o.onMasonryContainerCreate(r))}),X(3,Lhe,5,7,"div",4),T()(),Wt()}if(t&2){let n=P();M(3),O("ngForOf",n.stateService.masonryImages)}}function jhe(t,e){if(t&1){let n=de();S(0,"div",18)(1,"i",19),k("click",function(r){let a=B(n).data,l=P();return $(l.onGroupToggleClick(r,a))}),T(),S(2,"i",20),k("click",function(){let o=B(n).data,a=P();return $(a.galleryService.editGroup(o))}),T(),S(3,"i",21),k("click",function(){let o=B(n).data,a=P();return $(a.galleryService.reorderGroup(o))}),T()()}if(t&2){let n=e.data,i=P();M(),$e("disabled",i.shouldDisableGroupToggleButton(n)),O("ngClass",n.group.open?"fa-down-left-and-up-right-to-center":"fa-up-right-and-down-left-from-center")("tp",n.group.open?"Collapse Group":"Expand Group")}}var wz=(()=>{let e=class e{constructor(i,r,o,a){this.applicationService=i,this.stateService=r,this.googleService=o,this.galleryService=a,this.bricks={},wl(()=>this.updateLayout()),wl(()=>this.scrollTo(this.stateService.target())),wl(()=>this.updateMasonryTargetReference())}updateLayout(){if(this.masonryContainer){if(this.stateService.masonryImages=this.stateService.filter().filter(p=>p.group?p.group.open?!0:p==p.group.images.filter(v=>v.passesFilter)[0]:!0),this.stateService.masonryImages.length==0)return;let i=ha.isLargeScreen()?200:150,r=6,o=this.masonryContainer.clientWidth,a=Math.floor(o/i),l=(o-r*(a-1))/a,d=[],f=[];for(let p=0;p<a;p++)d[p]=0,f[p]=p*(l+r);for(let p of this.stateService.masonryImages)p.width!=l&&(p.width=l,p.height=l/p.aspectRatio);for(let p of this.stateService.masonryImages)if(p.group?.open){if(p==p.group.images.filter(v=>v.passesFilter)[0]){let v=[this.getShortestColumnIndex(d)],y=[];for(let b=0;b<a;b++)y.push({top:0,bottom:0});for(let b of p.group.images.filter(w=>w.passesFilter)){let w=[...v],C=Math.min(...v);if(C>0){let R=d[C-1]+b.height*.5;R>y[C].top&&R<y[C].bottom&&w.push(C-1)}let I=Math.max(...v);if(I<a-1){let R=d[I+1]+b.height*.5;R>y[I].top&&R<y[I].bottom&&w.push(I+1)}let x=this.getShortestColumnIndex(d.map((R,H)=>w.includes(H)?R:999999999));G.push(v,x),b.top=d[x],b.left=f[x],d[x]+=b.height+r,y[x].top==0?(y[x].top=b.top,y[x].bottom=b.top+b.height):y[x].bottom+=r+b.height}}}else{let v=this.getShortestColumnIndex(d);p.top=d[v],p.left=f[v],d[v]=d[v]+p.height+r}}}scrollTo(i){if(i){let r=i.group?i.group.images.find(a=>a.passesFilter):i,o=this.bricks[r?.id];if(o&&!ha.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateMasonryTargetReference(){let i=this.stateService.target();i&&this.stateService.masonryImages&&(this.stateService.masonryImages.includes(i)?this.stateService.masonryTargetReference=i:i.group&&i.group.images.some(r=>this.stateService.masonryImages.includes(r))&&(this.stateService.masonryTargetReference=G.findClosest(i.group.images,i,r=>this.stateService.masonryImages.includes(r))))}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){if(this.stateService.editingGroup){let r=this.stateService.target();if(i.group&&r.group&&!r.group.images.includes(i))return;G.toggle(this.stateService.editingGroup,i);return}this.stateService.target.set(i),this.stateService.fullscreenVisible.set(!0)}onGroupToggleClick(i,r){ha.isLargeScreen()&&(i.stopPropagation(),r.group&&(r.group.open=!r.group.open,this.stateService.refreshFilter()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryContainerCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}shouldDisableGroupToggleButton(i){return i.group&&i.group.images.filter(r=>r.passesFilter).length<2}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(F(pn),F(di),F(vf),F(dC))},e.\u0275cmp=ue({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&k("resize",function(){return o.onResize()},!1,At)},standalone:!0,features:[pe],decls:4,vars:1,consts:[[4,"ngIf"],["groupButtonHoverMenu",""],[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],["class","icon-button active fa-solid fa-object-group","tpVariation","hovermenu",3,"tp","tpData","click",4,"ngIf"],[1,"brick-footer"],["tp","Open in Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Open Yandex RIS",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],["tpVariation","hovermenu",1,"icon-button","active","fa-solid","fa-object-group",3,"tp","tpData","click"],[1,"tippy-hover-menu-container","row"],[1,"icon-button","fa-solid",3,"ngClass","tp","click"],["tp","Edit Group",1,"icon-button","fa-solid","fa-plus-minus",3,"click"],["tp","Reorder Group",1,"icon-button","fa-solid","fa-right-left",3,"click"]],template:function(r,o){r&1&&(fe(0,"app-header"),X(1,Vhe,4,1,"ng-container",0)(2,jhe,4,4,"ng-template",null,1,Yd)),r&2&&(M(),O("ngIf",!o.applicationService.reduceBandwidth))},dependencies:[ge,ri,yt,_t,Tc,_s,_z],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[ws]}});let t=e;return t})();var bz=(()=>{let e=class e{constructor(i,r,o){this.dialogService=i,this.applicationService=r,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.stateService.processData().then(i=>E(this,null,function*(){i.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(i)}))}initKeybinds(i){if(["BODY","VIDEO"].includes(document.activeElement.nodeName)){let r=this.stateService.target();switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(o=>!o);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(Su.getNearestImageUp(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyA":case"ArrowLeft":i.shiftKey?this.stateService.target.set(G.getPrevious(r.group.images,r,!0)):this.stateService.target.set(Su.getNearestImageLeft(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyS":case"ArrowDown":this.stateService.target.set(Su.getNearestImageDown(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyD":case"ArrowRight":i.shiftKey?this.stateService.target.set(G.getNext(r.group.images,r,!0)):this.stateService.target.set(Su.getNearestImageRight(this.stateService.masonryImages,this.stateService.masonryTargetReference));break}}}};e.\u0275fac=function(r){return new(r||e)(F(mn),F(pn),F(di))},e.\u0275cmp=ue({type:e,selectors:[["app-gallery"]],hostBindings:function(r,o){r&1&&k("keydown",function(l){return o.initKeybinds(l)},!1,_3)},standalone:!0,features:[pe],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(r,o){r&1&&(S(0,"div",0),fe(1,"app-masonry")(2,"app-fullscreen"),T()),r&2&&(M(),O("@enter",void 0),M(),$e("transparent",!o.stateService.fullscreenVisible()))},dependencies:[ge,wz,mz],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[sH]}});let t=e;return t})();var Du=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(i=>!n.includes(i)):e=e.filter(i=>i!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),f,p,v;switch(r%6){case 0:f=i,p=d,v=a;break;case 1:f=l,p=i,v=a;break;case 2:f=a,p=i,v=d;break;case 3:f=a,p=l,v=i;break;case 4:f=d,p=a,v=i;break;case 5:f=i,p=a,v=l;break}return"#"+Math.round(f*255).toString(16)+Math.round(p*255).toString(16)+Math.round(v*255).toString(16)}};function Uhe(t,e){if(t&1){let n=de();S(0,"div",5)(1,"div",6)(2,"span"),j(3,"po\u010Det t\xEDmov"),T(),S(4,"input",7,8),k("input",function(){B(n);let r=ii(5),o=P();return $(o.onTeamCountChange(r))}),T()(),S(6,"div",6)(7,"span"),j(8,"trvanie kola"),T(),S(9,"input",7,9),k("input",function(){B(n);let r=ii(10),o=P();return $(o.onRoundDurationChange(r))}),T()(),S(11,"span",10),k("click",function(){B(n);let r=P();return $(r.settingsDone())}),j(12,"\u0161tart"),T()()}if(t&2){let n=P();M(4),O("value",4),M(5),O("value",60),M(2),$e("disabled",!n.validateSettings())}}function Bhe(t,e){t&1&&(S(0,"span"),j(1,"pre v\u0161etk\xFDch"),T())}function $he(t,e){if(t&1){let n=de();S(0,"div",11),X(1,Bhe,2,0,"span",12),S(2,"span"),j(3),T(),S(4,"span"),j(5),T(),S(6,"span",10),k("click",function(){B(n);let r=P();return $(r.startRound())}),j(7,"\u0161tart"),T()()}if(t&2){let n=P();M(),O("ngIf",n.isCurrentRoundForEveryone()),M(2),ye(n.getCurrentDiscipline()),M(2),ye(n.availablePhrases[0])}}function Hhe(t,e){if(t&1){let n=de();S(0,"span",10),k("click",function(){B(n);let r=P(2);return $(r.endRoundEarly())}),j(1,"hotovo"),T()}}function zhe(t,e){if(t&1&&(S(0,"div",13)(1,"span"),j(2),T(),X(3,Hhe,2,0,"span",14),T()),t&2){let n=P();M(2),ye(n.timeLeft),M(),O("ngIf",n.showEndRoundEarlyButton)}}function qhe(t,e){t&1&&(S(0,"span"),j(1,"pre v\u0161etk\xFDch"),T())}function Ghe(t,e){if(t&1){let n=de();S(0,"input",18,19),k("input",function(){B(n);let r=ii(1),o=P(2);return $(o.onForEveryoneWinnerChange(r))}),T()}}function Whe(t,e){if(t&1){let n=de();S(0,"div",15),X(1,qhe,2,0,"span",12),S(2,"span"),j(3),T(),S(4,"span"),j(5),T(),S(6,"div",16),X(7,Ghe,2,0,"input",17),S(8,"span",10),k("click",function(){B(n);let r=P();return $(r.roundOver(!0))}),j(9,"uh\xE1dli"),T()(),S(10,"span",10),k("click",function(){B(n);let r=P();return $(r.roundOver(!1))}),j(11,"neuh\xE1dli"),T()()}if(t&2){let n=P();M(),O("ngIf",n.isCurrentRoundForEveryone()),M(2),ye(n.getCurrentDiscipline()),M(2),ye(n.availablePhrases[0]),M(),co("gap","2rem"),M(),O("ngIf",n.isCurrentRoundForEveryone()),M(),co("width",100,"%"),$e("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function Khe(t,e){if(t&1&&(S(0,"span"),j(1),T()),t&2){let n=e.$implicit,i=e.index;M(),vl("",i+1,". t\xEDm: ",n.wins,"")}}function Qhe(t,e){if(t&1){let n=de();S(0,"div",20)(1,"span"),j(2,"sk\xF3re"),T(),X(3,Khe,2,2,"span",21),S(4,"span",10),k("click",function(){B(n);let r=P();return $(r.currentView="instructions")}),j(5,"\u010Fa\u013E\u0161ie kolo"),T()()}if(t&2){let n=P();M(3),O("ngForOf",n.teams)}}var Ez=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(i){let r=Number.parseInt(i.value);r>=2?(this.teamCount=r,this.teamCountValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,i.style.borderColor="red")}onRoundDurationChange(i){let r=Number.parseInt(i.value);r>0?(this.roundDuration=r,this.roundDurationValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,i.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=G.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let i=Math.floor(this.phrases.length/3);for(let o=0;o<i;o++)this.teams.forEach(a=>G.push(a.roundDisciplines,G.shuffle(["hovorenie","kreslenie","ukazovanie"])));let r=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<r;o++)this.teams.forEach(a=>a.roundsForEveryone.push(Math.floor(Du.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let i=this.teams[this.currentTeamIndex];return i.roundDisciplines[i.wins]}isCurrentRoundForEveryone(){let i=this.teams[this.currentTeamIndex];return i.roundsForEveryone.includes(i.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(i){let r=Number.parseInt(i.value);r>0&&r<=this.teams.length?(this.forEveryoneWinnerTeamIndex=r-1,this.forEveryoneWinnerTeamIndexValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,i.style.borderColor="red")}roundOver(i){this.availablePhrases.shift(),i&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-activity"]],standalone:!0,features:[pe],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&X(0,Uhe,13,4,"div",0)(1,$he,8,3,"div",1)(2,zhe,4,2,"div",2)(3,Whe,12,10,"div",3)(4,Qhe,6,1,"div",4),r&2&&(O("ngIf",o.currentView=="settings"),M(),O("ngIf",o.currentView=="instructions"),M(),O("ngIf",o.currentView=="countdown"),M(),O("ngIf",o.currentView=="result"),M(),O("ngIf",o.currentView=="score"))},dependencies:[ge,yt,_t,Vn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var Cz=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],Iz=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],Sz=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var Tz=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,G.push(this.availableQuestions,Cz),G.push(this.availableQuestions,Iz),G.push(this.availableQuestions,Sz),G.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[pe],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0),k("click",function(){return o.next()}),S(1,"span"),j(2),T()()),r&2&&(M(2),ye(o.currentQuestion))},dependencies:[ge],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var Dz=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=Du.from(this.limbs,this.limb),[this.color,this.backgroundColor]=Du.from(this.colors)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-twister"]],standalone:!0,features:[pe],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0),k("click",function(){return o.spin()}),S(1,"span"),j(2),T()()),r&2&&(co("background-color",o.backgroundColor),M(2),vl("",o.limb," ",o.color,""))},dependencies:[ge],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function Yhe(t,e){if(t&1){let n=de();Gt(0),S(1,"span",1),k("click",function(){B(n);let r=P();return $(r.navigate("gallery"))}),j(2,"Gallery"),T(),S(3,"span",1),k("click",function(){B(n);let r=P();return $(r.navigate("story-manager"))}),j(4,"Story Manager"),T(),S(5,"span",1),k("click",function(){B(n);let r=P();return $(r.navigate("comparison"))}),j(6,"Comparison"),T(),Wt()}}var Az=(()=>{let e=class e{constructor(i,r){this.router=i,this.applicationService=r,this.dev=0}ngOnInit(){}navigate(i){sessionStorage.setItem("appId",i),this.router.navigate([i])}};e.\u0275fac=function(r){return new(r||e)(F(hn),F(pn))},e.\u0275cmp=ue({type:e,selectors:[["app-landing"]],standalone:!0,features:[pe],decls:14,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"span",1),k("click",function(){return o.navigate("event/2024-splav")}),j(2,"Splav 2024"),T(),S(3,"span",1),k("click",function(){return o.navigate("games/activity")}),j(4,"Activity"),T(),S(5,"span",1),k("click",function(){return o.navigate("games/twister")}),j(6,"Twister"),T(),S(7,"span",1),k("click",function(){return o.navigate("games/nikdy-som")}),j(8,"Nikdy som"),T(),X(9,Yhe,7,0,"ng-container",2),T(),fe(10,"div",3),S(11,"div",0)(12,"i",4),k("click",function(){return o.applicationService.toggleTheme()}),T()(),S(13,"div",5),k("click",function(){return o.dev=o.dev+1}),T()),r&2&&(M(9),O("ngIf",o.dev>4),M(3),O("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[ge,ri,_t],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var xz="https://mazacik.github.io",ck={production:!0,baseUrl:xz,redirectUrl:xz+"/login"};var If=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+ck.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:ck.redirectUrl,plugin_name:"TagalleryWeb"};yield N_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield N_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(oe(El))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mz=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(F(Wi),F(hn),F(If))},e.\u0275cmp=ue({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(S(0,"div",0),k("click",function(){return o.signIn()}),fe(1,"img",1),S(2,"span",2),j(3,"Sign in with Google"),T()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var hC=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=J(hn),i=J(If);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var Pz=(t,e)=>{let n=J(hn),i=sessionStorage.getItem("dataFileId");return Gn.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var Oz=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return J(hn).createUrlTree(["/messenger-browser"]);return!0};var kz=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return J(hn).createUrlTree([""])};var Rz=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&gl("@crossfade",o.crossfade)},standalone:!0,features:[pe],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(S(0,"span",0),j(1),T(),S(2,"span"),j(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),T(),S(4,"span"),j(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),T(),fe(6,"img",1)),r&2&&(M(),ye(o.userAgent))},dependencies:[ge,Vn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[JE]}});let t=e;return t})();var Is=(()=>{let e=class e{constructor(){}initialize(i){if(i&&!G.isEmpty(i.stories)){this.stories=i.stories,this.tags=i.tags,this.currentStory=this.stories[0],G.isEmpty(this.currentStory.notes)||(this.currentNote=G.getFirst(this.currentStory.notes));for(let r of this.stories)for(let o of r.notes)o.parent=r,o.wordCount=Gn.getWordCount(o.text)}this.stories||(this.stories=[]),this.tags||(this.tags=["Tag 1","Tag 2","Tag 3"])}serialize(){return{stories:this.stories.map(i=>({title:i.title,notes:i.notes.map(r=>({title:r.title,text:r.text}))})),tags:this.tags}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dc=(()=>{let e=class e extends gf{constructor(i,r,o,a){super(i),this.http=i,this.applicationService=r,this.stateService=o,this.dialogService=a,this.delay=new Sc(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let i=this.getContent(this.FILE_ID);return i.catch(r=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(r)}),i}update(i=!1){this.applicationService.changes.next(!0);let r=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.next(!1)}).catch(o=>{this.applicationService.errors.next(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),r()):this.delay.restart(()=>r())}};e.\u0275fac=function(r){return new(r||e)(oe(El),oe(pn),oe(Is),oe(mn))},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xhe(t,e){if(t&1){let n=de();S(0,"div",6),k("click",function(){let o=B(n).$implicit,a=P();return $(a.remove(o))}),S(1,"i",7),k("click",function(r){let a=B(n).$implicit;return P().editTag(a),$(r.stopPropagation())}),T(),S(2,"span"),j(3),T(),fe(4,"i",8),T()}if(t&2){let n=e.$implicit,i=P();O("dragdrop",n)("dragdropParent",i.tags),M(3),ye(n)}}function Zhe(t,e){if(t&1){let n=de();S(0,"div",9),k("click",function(){let o=B(n).$implicit,a=P();return $(a.add(o))}),fe(1,"i",10),S(2,"span"),j(3),T(),S(4,"div",11)(5,"i",7),k("click",function(r){let a=B(n).$implicit;return P().editTag(a),$(r.stopPropagation())}),T(),S(6,"i",12),k("click",function(r){let a=B(n).$implicit;return P().deleteTag(a),$(r.stopPropagation())}),T()()()}if(t&2){let n=e.$implicit;M(3),ye(n)}}var Nz=(()=>{let e=class e extends Ln{constructor(i,r,o){super(),this.stateService=i,this.dialogService=r,this.googleService=o,this.tags=[],this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.tags?this.tags=this.tags.slice():this.tags=[],this.availableTags=this.stateService.tags.filter(i=>!this.tags.includes(i))}add(i){this.tags.push(i),G.remove(this.availableTags,i)}remove(i){G.remove(this.tags,i),this.availableTags.push(i),this.availableTags.sort((r,o)=>r.localeCompare(o))}editTag(i){this.dialogService.createInput("Tag","Tag Title",i,"OK").then(r=>{if(!Gn.isEmpty(r)){if(this.stateService.tags.includes(r))return;i?r!=i&&(this.tags.includes(i)?(G.remove(this.tags,i),this.tags.push(r),this.tags.sort((o,a)=>o.localeCompare(a))):(G.remove(this.availableTags,i),this.availableTags.push(r),this.availableTags.sort((o,a)=>o.localeCompare(a))),G.remove(this.stateService.tags,i),this.stateService.tags.push(r),this.stateService.tags.sort((o,a)=>o.localeCompare(a))):(this.availableTags.push(r),this.availableTags.sort((o,a)=>o.localeCompare(a)),this.stateService.tags.push(r),this.stateService.tags.sort((o,a)=>o.localeCompare(a))),this.googleService.update(!0)}})}deleteTag(i){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i+'"?'],"Yes","No").then(r=>{r&&(this.tags.includes(i)?G.remove(this.tags,i):G.remove(this.availableTags,i),G.remove(this.stateService.tags,i),this.googleService.update(!0))})}submit(){this.resolve(this.tags)}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(F(Is),F(mn),F(Dc))},e.\u0275cmp=ue({type:e,selectors:[["app-note-tag-manager"]],hostBindings:function(r,o){r&1&&k("keydown.enter",function(l){return o.submit(l)},!1,At)("keydown.escape",function(l){return o.close(l)},!1,At)},inputs:{tags:"tags"},standalone:!0,features:[Lt,pe],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-smaller","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-smaller","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-smaller","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"span"),j(2,"Tags"),T(),fe(3,"div",1),X(4,Xhe,5,3,"div",2),T(),fe(5,"div",3),S(6,"div",0)(7,"span"),j(8,"Available Tags"),T(),fe(9,"div",1),X(10,Zhe,7,1,"div",4),S(11,"i",5),k("click",function(){return o.editTag()}),T()()),r&2&&(M(4),O("ngForOf",o.tags),M(6),O("ngForOf",o.availableTags))},dependencies:[ge,yt,Cf],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function efe(t,e){if(t&1&&(S(0,"span"),j(1),T()),t&2){let n=e.$implicit;M(),ye(n)}}function tfe(t,e){if(t&1){let n=de();S(0,"div",18),k("click",function(){let o=B(n).$implicit,a=P(2).$implicit,l=P();return $(l.setCurrentNote(a,o))})("dragend",function(){B(n);let r=P(3);return $(r.googleService.update())}),S(1,"div",19)(2,"span",20),j(3),T(),S(4,"div",21),X(5,efe,2,1,"span",22),T()(),S(6,"div",23)(7,"span",24),j(8),T(),S(9,"div",25)(10,"i",26),k("click",function(r){let a=B(n).$implicit;return P(3).editTags(a),$(r.stopPropagation())}),T(),S(11,"i",12),k("click",function(r){let a=B(n).$implicit;return P(3).renameNote(a),$(r.stopPropagation())}),T(),S(12,"i",13),k("click",function(r){let a=B(n).$implicit,l=P(2).$implicit;return P().deleteNote(l,a),$(r.stopPropagation())}),T()()()()}if(t&2){let n=e.$implicit,i=P(2).$implicit,r=P();O("dragdrop",n)("dragdropParent",i.notes),M(2),$e("highlight",n==r.stateService.currentNote),M(),ye(n.title),M(2),O("ngForOf",n.tags),M(3),ye(n.wordCount)}}function nfe(t,e){if(t&1){let n=de();S(0,"div",15),X(1,tfe,13,7,"div",16),S(2,"i",17),k("click",function(r){B(n);let o=P().$implicit;return P().createNote(o),$(r.stopPropagation())}),T()()}if(t&2){let n=P().$implicit;O("@drawer",void 0),M(),O("ngForOf",n.notes)}}function ife(t,e){if(t&1){let n=de();S(0,"div",6)(1,"div",7),k("click",function(){let o=B(n).$implicit,a=P();return $(a.setCurrentStory(o))})("dragend",function(){B(n);let r=P();return $(r.googleService.update())}),S(2,"span",8),j(3),T(),S(4,"div",9)(5,"span",10),j(6),T(),S(7,"div",11)(8,"i",12),k("click",function(r){let a=B(n).$implicit;return P().renameStory(a),$(r.stopPropagation())}),T(),S(9,"i",13),k("click",function(r){let a=B(n).$implicit;return P().deleteStory(a),$(r.stopPropagation())}),T()()()(),X(10,nfe,3,2,"div",14),T()}if(t&2){let n=e.$implicit,i=P();M(),O("dragdrop",n)("dragdropParent",i.stateService.stories),M(),$e("highlight",n==(i.stateService.currentNote==null?null:i.stateService.currentNote.parent)),M(),ye(n.title),M(3),ye(i.getNotesWordCount(n)),M(4),O("ngIf",n==i.stateService.currentStory)}}var Fz=(()=>{let e=class e{constructor(i,r,o){this.dialogService=i,this.googleService=r,this.stateService=o}ngOnInit(){}setCurrentNote(i,r){this.setCurrentStory(i),this.stateService.currentNote=r}setCurrentStory(i){this.stateService.currentStory=i}setRandom(){let i=G.getRandom(this.stateService.stories,[this.stateService.currentStory]),r=G.getRandom(i.notes);this.setCurrentNote(i,r);let a=document.querySelector(".content-container").children[this.stateService.stories.indexOf(i)];a.children[1]?a.children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"instant"}):setTimeout(()=>{a.children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"instant"})},500)}createStory(){this.stateService.stories.push({title:"New Story",notes:[]}),this.googleService.update(!0)}renameStory(i){this.dialogService.createInput("Rename","Story Title",i.title,"OK").then(r=>{Gn.isEmpty(r)||(i.title=r,this.googleService.update(!0))})}deleteStory(i){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentStory&&this.setCurrentStory(G.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(i))),G.remove(this.stateService.stories,i),this.googleService.update())})}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}editTags(i){this.dialogService.create(Nz,{tags:i.tags}).then(r=>{r&&Array.isArray(r)&&(i.tags=r,this.googleService.update(!0))})}createNote(i){i.notes||(i.notes=[]);let r={title:"New Note",text:"",tags:[],wordCount:0,parent:i};i.notes.push(r),this.googleService.update(!0)}renameNote(i){this.dialogService.createInput("Rename","Note Title",i.title,"OK").then(r=>{Gn.isEmpty(r)||(i.title=r,this.googleService.update(!0))})}deleteNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(a=>{a&&(r==this.stateService.currentNote&&(this.stateService.currentNote=null),G.remove(o,r),this.googleService.update(!0))})}};e.\u0275fac=function(r){return new(r||e)(F(mn),F(Dc),F(Is))},e.\u0275cmp=ue({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[pe],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Story and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],["tp","Create Note",1,"note-container","fa-solid","fa-plus",2,"justify-content","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"]],template:function(r,o){r&1&&(S(0,"div",0),X(1,ife,11,7,"div",1),T(),fe(2,"div",2),S(3,"div",3)(4,"i",4),k("click",function(){return o.createStory()}),T(),S(5,"i",5),k("click",function(){return o.setRandom()}),T()()),r&2&&(M(),O("ngForOf",o.stateService.stories))},dependencies:[ge,yt,_t,Cf,_s],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[aH]}});let t=e;return t})();function rfe(t,e){if(t&1){let n=de();S(0,"div",1)(1,"div",2)(2,"span",3),j(3),T()(),S(4,"textarea",4),Ar("ngModelChange",function(r){B(n);let o=P();return lo(o.stateService.currentNote.text,r)||(o.stateService.currentNote.text=r),$(r)}),k("input",function(){B(n);let r=P();return $(r.onNoteInput())})("create",function(r){B(n);let o=P();return $(o.initTab(r))}),T()()}if(t&2){let n=P();M(3),vl("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),M(),Dr("ngModel",n.stateService.currentNote.text)}}var Lz=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.applicationService=r,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){this.stateService.currentNote.wordCount=Gn.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(r){return new(r||e)(F(Dc),F(pn),F(Is))},e.\u0275cmp=ue({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[pe],decls:1,vars:1,consts:[["class","note-container",4,"ngIf"],[1,"note-container"],[1,"note-header"],[1,"note-title"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","create"]],template:function(r,o){r&1&&X(0,rfe,5,3,"div",0),r&2&&O("ngIf",o.stateService.currentNote)},dependencies:[ge,_t,Vn,$r,bs,xo,Tc],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s;gap:.3333333333rem}[_nghost-%COMP%]   .note-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding:0;flex:1}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0;line-height:1.25rem}"]});let t=e;return t})();var Vz=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.applicationService=r,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.sidebarVisible=!0,this.focusMode=!1,this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.request().then(i=>{i&&(this.stateService.initialize(i),this.applicationService.loading.next(!1))})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}onCountdownInputChange(i){i.value.replace(/\W/g,"").match(this.countdownInputRegex)?i.classList.remove("error"):i.classList.add("error")}onCountdownInputSubmit(i,r){if(i.key==="Enter"){let o=r.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){r.readOnly=!0;let a=l=>l&&l.map(d=>d.replace(/\D/g,"")).reduce((d,f)=>d+Number.parseInt(f),0);this.countdown.hours=a(o.match(/\d+h/gi)),this.countdown.minutes=a(o.match(/\d+m/gi)),this.countdown.seconds=a(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?r.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?r.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":r.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(i){i.readOnly&&(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(r){return new(r||e)(F(Dc),F(pn),F(Is))},e.\u0275cmp=ue({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[pe],decls:14,vars:12,consts:[[1,"header"],[1,"header-start"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"icon-button","fa-solid","mobile-display-none",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-display-none"],[1,"modules"]],template:function(r,o){if(r&1){let a=de();S(0,"div",0)(1,"div",1)(2,"i",2),k("click",function(){return o.sidebarVisible=!o.sidebarVisible}),T(),S(3,"i",3),k("click",function(){return o.focusMode=!o.focusMode}),T()(),S(4,"div",4)(5,"input",5,6),k("click",function(){B(a);let d=ii(6);return $(o.onCountdownInputClick(d))})("input",function(){B(a);let d=ii(6);return $(o.onCountdownInputChange(d))})("keypress",function(d){B(a);let f=ii(6);return $(o.onCountdownInputSubmit(d,f))})("focus",function(){B(a);let d=ii(6);return $(d.select())}),T()(),S(7,"div",7)(8,"i",8),k("click",function(){return o.applicationService.toggleTheme()}),T()()(),S(9,"div",9),fe(10,"app-sidebar")(11,"div",10),S(12,"div",11),fe(13,"app-note-editor"),T()()}if(r&2){let a=ii(6);M(3),O("ngClass",o.focusMode?"fa-up-right-and-down-left-from-center":"fa-down-left-and-up-right-to-center"),M(2),$e("user-select-none",a.readOnly),M(3),O("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),M(2),$e("display-none",!o.sidebarVisible),M(),$e("desktop-display-none",!o.sidebarVisible),M(),$e("mobile-display-none",o.sidebarVisible)("focus-mode",o.focusMode)}},dependencies:[ge,ri,Fz,Lz,_s],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%] > app-note-editor[_ngcontent-%COMP%]{max-width:50%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function ofe(t,e){if(t&1){let n=de();S(0,"span",4),k("click",function(){B(n);let r=P();return $(r.parseText())}),j(1,"Parse"),T()}}function sfe(t,e){if(t&1){let n=de();S(0,"div",6)(1,"span",4),k("click",function(){B(n);let r=P(2);return $(r.onEntryClick(r.tournament.currentComparison[0],r.tournament.currentComparison[1]))}),j(2),T(),S(3,"span",4),k("click",function(){B(n);let r=P(2);return $(r.onEntryClick(r.tournament.currentComparison[1],r.tournament.currentComparison[0]))}),j(4),T()()}if(t&2){let n=P(2);M(2),ye(n.tournament.currentComparison[0].id),M(2),ye(n.tournament.currentComparison[1].id)}}function afe(t,e){if(t&1&&(Gt(0),X(1,sfe,5,2,"div",5),Wt()),t&2){let n=P();M(),O("ngIf",n.tournament.currentComparison)}}var jz=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new Ef(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.handleUserInput(i,r),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ue({type:e,selectors:[["app-tournament"]],standalone:!0,features:[pe],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(S(0,"div",0)(1,"textarea",1),Ar("ngModelChange",function(l){return lo(o.text,l)||(o.text=l),l}),T(),X(2,ofe,2,0,"span",2),T(),X(3,afe,2,1,"ng-container",3)),r&2&&(M(),O("placeholder",o.tournament?"Leaderboard":"Entries"),Dr("ngModel",o.text),O("readOnly",o.tournament),M(),O("ngIf",!o.tournament),M(),O("ngIf",o.tournament))},dependencies:[ge,_t,Vn,$r,bs,xo],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var Uz=[{path:"messenger-browser",canActivate:[kz],component:Rz},{path:"login",component:Mz},{path:"story-manager",canActivate:[hC],component:Vz},{path:"folder-picker",canActivate:[hC],component:hz},{path:"gallery",canActivate:[hC,Pz],component:bz},{path:"comparison",component:jz},{path:"event/:id",component:az,children:[{path:"hlasovanie/vysledky",component:uz},{path:"hlasovanie",canActivate:[Oz],component:dz},{path:"prihlaska",component:nz},{path:"pravidla",component:cz},{path:"**",redirectTo:"hlasovanie"}]},{path:"home",component:Az},{path:"games",children:[{path:"activity",component:Ez},{path:"twister",component:Dz},{path:"nikdy-som",component:Tz},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var Bz=(t,e)=>{let n=J(If);return e($z(n,t)).pipe(jo(i=>cfe(n,i,t,e)))},$z=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,cfe=(t,e,n,i)=>E(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i($z(t,n))});J$(FH,{providers:[M5(),d9(Uz,h9({paramsInheritanceStrategy:"always"})),Jj(Zj(),Xj([Bz])),Kp(DU(()=>AU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),Kp(j$(()=>H$())),Kp(P6(()=>O6())),oH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!1,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
