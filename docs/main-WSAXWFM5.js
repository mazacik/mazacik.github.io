var CP=Object.defineProperty,bP=Object.defineProperties;var TP=Object.getOwnPropertyDescriptors;var fu=Object.getOwnPropertySymbols,DP=Object.getPrototypeOf,Uw=Object.prototype.hasOwnProperty,Bw=Object.prototype.propertyIsEnumerable,SP=Reflect.get;var jw=(t,e,n)=>e in t?CP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||={})Uw.call(e,n)&&jw(t,n,e[n]);if(fu)for(var n of fu(e))Bw.call(e,n)&&jw(t,n,e[n]);return t},xe=(t,e)=>bP(t,TP(e));var fp=(t,e)=>{var n={};for(var r in t)Uw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fu)for(var r of fu(t))e.indexOf(r)<0&&Bw.call(t,r)&&(n[r]=t[r]);return n};var Ei=(t,e,n)=>SP(DP(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function AP(t,e){return Object.is(t,e)}var Dt=null,Ka=!1,pu=1,Ii=Symbol("SIGNAL");function Re(t){let e=Dt;return Dt=t,e}function xP(){return Ka}var mu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $w(t){if(Ka)throw new Error("");if(Dt===null)return;Dt.consumerOnSignalRead(t);let e=Dt.nextProducerIndex++;if(Is(Dt),e<Dt.producerNode.length&&Dt.producerNode[e]!==t&&Qa(Dt)){let n=Dt.producerNode[e];vu(n,Dt.producerIndexOfThis[e])}Dt.producerNode[e]!==t&&(Dt.producerNode[e]=t,Dt.producerIndexOfThis[e]=Qa(Dt)?Gw(t,Dt,e):0),Dt.producerLastReadVersion[e]=t.version}function MP(){pu++}function PP(t){if(!(Qa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pu)){if(!t.producerMustRecompute(t)&&!gu(t)){t.dirty=!1,t.lastCleanEpoch=pu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=pu}}function Hw(t){if(t.liveConsumerNode===void 0)return;let e=Ka;Ka=!0;try{for(let n of t.liveConsumerNode)n.dirty||qw(n)}finally{Ka=e}}function zw(){return Dt?.consumerAllowSignalWrites!==!1}function qw(t){t.dirty=!0,Hw(t),t.consumerMarkedDirty?.(t)}function mp(t){return t&&(t.nextProducerIndex=0),Re(t)}function gp(t,e){if(Re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Qa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)vu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gu(t){Is(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(PP(n),r!==n.version))return!0}return!1}function vp(t){if(Is(t),Qa(t))for(let e=0;e<t.producerNode.length;e++)vu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Gw(t,e,n){if(Ww(t),Is(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Gw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function vu(t,e){if(Ww(t),Is(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)vu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Is(i),i.producerIndexOfThis[r]=e}}function Qa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Is(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ww(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function OP(){throw new Error}var Kw=OP;function Qw(){Kw()}function Yw(t){Kw=t}var RP=null;function Xw(t){let e=Object.create(Zw);e.value=t;let n=()=>($w(e),e.value);return n[Ii]=e,n}function yp(t,e){zw()||Qw(),t.equal(t.value,e)||(t.value=e,NP(t))}function Jw(t,e){zw()||Qw(),yp(t,e(t.value))}var Zw=xe(N({},mu),{equal:AP,value:void 0});function NP(t){t.version++,MP(),Hw(t),RP?.()}function eE(t,e,n){let r=Object.create(kP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(vp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=pp)}let a=()=>{if(r.fn===null)return;if(xP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!gu(r))return;r.hasRun=!0;let c=mp(r);try{r.cleanupFn(),r.cleanupFn=pp,r.fn(i)}finally{gp(r,c)}};return r.ref={notify:()=>qw(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Ii]:r},r.ref}var pp=()=>{},kP=xe(N({},mu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:pp});function te(t){return typeof t=="function"}function Cs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yu=Cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof yu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tE(o)}catch(s){e=e??[],s instanceof yu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){let{_finalizers:n}=this;n&&fo(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var _p=lt.EMPTY;function _u(t){return t instanceof lt||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function tE(t){te(t)?t():t.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bs={setTimeout(t,e,...n){let{delegate:r}=bs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=bs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wu(t){bs.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(t);else throw t})}function Ya(){}var nE=wp("C",void 0,void 0);function rE(t){return wp("E",void 0,t)}function iE(t){return wp("N",t,void 0)}function wp(t,e,n){return{kind:t,value:e,error:n}}var po=null;function Ts(t){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=po;if(po=null,n)throw r}}else t()}function oE(t){Kn.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=t)}var mo=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_u(e)&&e.add(this)):this.destination=LP}static create(e,n,r){return new Ci(e,n,r)}next(e){this.isStopped?Ip(iE(e),this):this._next(e)}error(e){this.isStopped?Ip(rE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ip(nE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FP=Function.prototype.bind;function Ep(t,e){return FP.call(t,e)}var Cp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},Ci=class extends mo{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Kn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ep(e.next,o),error:e.error&&Ep(e.error,o),complete:e.complete&&Ep(e.complete,o)}):i=e}this.destination=new Cp(i)}};function Eu(t){Kn.useDeprecatedSynchronousErrorHandling?oE(t):wu(t)}function VP(t){throw t}function Ip(t,e){let{onStoppedNotification:n}=Kn;n&&bs.setTimeout(()=>n(t,e))}var LP={closed:!0,next:Ya,error:VP,complete:Ya};var Ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function In(t){return t}function bp(...t){return Tp(t)}function Tp(t){return t.length===0?In:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UP(n)?n:new Ci(n,r,i);return Ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sE(r),new r((i,o)=>{let s=new Ci({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ds](){return this}pipe(...n){return Tp(n)(this)}toPromise(n){return n=sE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function sE(t){var e;return(e=t??Kn.Promise)!==null&&e!==void 0?e:Promise}function jP(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function UP(t){return t&&t instanceof mo||jP(t)&&_u(t)}function Dp(t){return te(t?.lift)}function we(t){return e=>{if(Dp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Sp(t,e,n,r,i)}var Sp=class extends mo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ss(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var As=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return Ss()(this)}};var aE=Cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Lt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Iu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aE}next(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_p:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,fo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new Iu(e,n),t})(),Iu=class extends Lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:_p}};var jt=class extends Lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ap={now(){return(Ap.delegate||Date).now()},delegate:void 0};var Cu=class extends lt{constructor(e,n){super()}schedule(e,n=0){return this}};var Xa={setInterval(t,e,...n){let{delegate:r}=Xa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xs=class extends Cu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Xa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ms.now=Ap.now;var Ps=class extends Ms{constructor(e,n=Ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Os=new Ps(xs),xp=Os;var bu=class extends xs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Tu=class extends Ps{};var Mp=new Tu(bu);var pn=new se(t=>t.complete());function Du(t){return t&&te(t.schedule)}function Pp(t){return t[t.length-1]}function Su(t){return te(Pp(t))?t.pop():void 0}function mr(t){return Du(Pp(t))?t.pop():void 0}function cE(t,e){return typeof Pp(t)=="number"?t.pop():e}function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function lE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function go(t){return this instanceof go?(this.v=t,this):new go(t)}function dE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(y,C){o.push([h,p,y,C])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(y){d(o[0][3],y)}}function c(h){h.value instanceof go?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function hE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof lE=="function"?lE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Rs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Au(t){return te(t?.then)}function xu(t){return te(t[Ds])}function Mu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Pu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ou=BP();function Ru(t){return te(t?.[Ou])}function Nu(t){return dE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield go(n.read());if(i)return yield go(void 0);yield yield go(r)}}finally{n.releaseLock()}})}function ku(t){return te(t?.getReader)}function qe(t){if(t instanceof se)return t;if(t!=null){if(xu(t))return $P(t);if(Rs(t))return HP(t);if(Au(t))return zP(t);if(Mu(t))return fE(t);if(Ru(t))return qP(t);if(ku(t))return GP(t)}throw Pu(t)}function $P(t){return new se(e=>{let n=t[Ds]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wu)})}function qP(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fE(t){return new se(e=>{WP(t,e).catch(n=>e.error(n))})}function GP(t){return fE(Nu(t))}function WP(t,e){var n,r,i,o;return uE(this,void 0,void 0,function*(){try{for(n=hE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function bi(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>mn(r,t,()=>r.next(i),e),()=>mn(r,t,()=>r.complete(),e),i=>mn(r,t,()=>r.error(i),e)))})}function Ti(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pE(t,e){return qe(t).pipe(Ti(e),bi(e))}function mE(t,e){return qe(t).pipe(Ti(e),bi(e))}function gE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function vE(t,e){return new se(n=>{let r;return mn(n,e,()=>{r=t[Ou](),mn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{mn(n,e,()=>{let r=t[Symbol.asyncIterator]();mn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yE(t,e){return Fu(Nu(t),e)}function _E(t,e){if(t!=null){if(xu(t))return pE(t,e);if(Rs(t))return gE(t,e);if(Au(t))return mE(t,e);if(Mu(t))return Fu(t,e);if(Ru(t))return vE(t,e);if(ku(t))return yE(t,e)}throw Pu(t)}function He(t,e){return e?_E(t,e):qe(t)}function ae(...t){let e=mr(t);return He(t,e)}function Di(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Rp(t){return!!t&&(t instanceof se||te(t.lift)&&te(t.subscribe))}var Cn=Cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function gn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new Cn)}})})}function Vu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ci({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Cn)}});t.subscribe(o)})}function wE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:KP}=Array;function QP(t,e){return KP(e)?t(...e):t(e)}function Ns(t){return ie(e=>QP(t,e))}var{isArray:YP}=Array,{getPrototypeOf:XP,prototype:JP,keys:ZP}=Object;function Lu(t){if(t.length===1){let e=t[0];if(YP(e))return{args:e,keys:null};if(eO(e)){let n=ZP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eO(t){return t&&typeof t=="object"&&XP(t)===JP}function ju(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Uu(...t){let e=mr(t),n=Su(t),{args:r,keys:i}=Lu(t);if(r.length===0)return He([],e);let o=new se(tO(r,e,i?s=>ju(i,s):In));return n?o.pipe(Ns(n)):o}function tO(t,e,n=In){return r=>{EE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)EE(e,()=>{let l=He(t[c],e),u=!1;l.subscribe(ge(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function EE(t,e,n){t?mn(n,t,e):e()}function IE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},p=C=>l<r?y(C):c.push(C),y=C=>{o&&e.next(C),l++;let D=!1;qe(n(C,u++)).subscribe(ge(e,x=>{i?.(x),o?p(x):e.next(x)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let x=c.shift();s?mn(e,s,()=>y(x)):y(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(ge(e,p,()=>{d=!0,h()})),()=>{a?.()}}function ut(t,e,n=1/0){return te(e)?ut((r,i)=>ie((o,s)=>e(r,o,i,s))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>IE(r,i,t,n)))}function Ja(t=1/0){return ut(In,t)}function CE(){return Ja(1)}function ks(...t){return CE()(He(t,mr(t)))}function Bu(t){return new se(e=>{qe(t()).subscribe(e)})}function Np(...t){let e=Su(t),{args:n,keys:r}=Lu(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;qe(n[u]).subscribe(ge(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ju(r,a):a),o.complete())}))}});return e?i.pipe(Ns(e)):i}var nO=["addListener","removeListener"],rO=["addEventListener","removeEventListener"],iO=["on","off"];function Fs(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return Fs(t,e,n).pipe(Ns(r));let[i,o]=aO(t)?rO.map(s=>a=>t[s](e,a,n)):oO(t)?nO.map(bE(t,e)):sO(t)?iO.map(bE(t,e)):[];if(!i&&Rs(t))return ut(s=>Fs(s,e,n))(qe(t));if(!i)throw new TypeError("Invalid event target");return new se(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function bE(t,e){return n=>r=>t[n](e,r)}function oO(t){return te(t.addListener)&&te(t.removeListener)}function sO(t){return te(t.on)&&te(t.off)}function aO(t){return te(t.addEventListener)&&te(t.removeEventListener)}function TE(t=0,e,n=xp){let r=-1;return e!=null&&(Du(e)?n=e:r=e),new se(i=>{let o=wE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Za(...t){let e=mr(t),n=cE(t,1/0),r=t;return r.length?r.length===1?qe(r[0]):Ja(n)(He(r,e)):pn}function Jt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function DE(t){return we((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ge(n,l=>{r=!0,i=l,o||qe(t(l)).subscribe(o=ge(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function kp(t,e=Os){return DE(()=>TE(t,e))}function Qn(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=qe(t(s,Qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function SE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ge(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Si(t,e){return te(e)?ut(t,e,1):ut(t,1)}function Ai(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gr(t){return t<=0?()=>pn:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fp(t){return ie(()=>t)}function $u(t=cO){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cO(){return new Cn}function vo(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):In,Gr(1),n?Ai(e):$u(()=>new Cn))}function Vs(t){return t<=0?()=>pn:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,o)=>t(i,o,r)):In,Vs(1),n?Ai(e):$u(()=>new Cn))}function Lp(t,e){return we(SE(t,e,arguments.length>=2,!0))}function jp(...t){let e=mr(t);return we((n,r)=>{(e?ks(t,n,e):ks(t,n)).subscribe(r)})}function St(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,c=>{i?.unsubscribe();let l=0,u=o++;qe(t(c,u)).subscribe(i=ge(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yn(t){return we((e,n)=>{qe(t).subscribe(ge(n,()=>n.complete(),Ya)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):In}var hI="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(_d(e,n)),this.code=e}};function _d(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var tm=class extends Lt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Re(null);try{super.next(e)}finally{Re(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Up(o),i&&(i=Up(i)),s&&(s=Up(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}};function Up(t){return e=>{setTimeout(t,void 0,e)}}var nt=tm;var ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ye||{});function on(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(on).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function nm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var fI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fI||{}),_r=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_r||{});function hc(t){return{toString:t}.toString()}var yo=globalThis;var Hs={},vn=[];function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function lO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var uO=ze({\u0275cmp:ze}),dO=ze({\u0275dir:ze}),hO=ze({\u0275pipe:ze}),fO=ze({\u0275mod:ze}),td=ze({\u0275fac:ze}),ec=ze({__NG_ELEMENT_ID__:ze}),AE=ze({__NG_ENV_ID__:ze}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function pI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function rm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];mO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function pO(t){return t===3||t===4||t===6}function mO(t){return t.charCodeAt(0)===64}function tc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xE(t,n,i,null,e[++r]):xE(t,n,i,null,null))}}return t}function xE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var mI="ng-template";function gO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&pI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function gI(t){return t.type===4&&t.value!==mI}function vO(t,e,n){let r=t.type===4&&!n?mI:t.value;return e===r}function yO(t,e,n){let r=4,i=t.attrs||[],o=EO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Xn(r)&&!Xn(c))return!1;if(s&&Xn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!vO(t,c,n)||c===""&&e.length===1){if(Xn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!gO(t.attrs,l,n)){if(Xn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=_O(u,i,gI(t),n);if(d===-1){if(Xn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&pI(p,l,0)!==-1||r&2&&l!==h){if(Xn(r))return!1;s=!0}}}}return Xn(r)||s}function Xn(t){return(t&1)===0}function _O(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IO(e,t)}function wO(t,e,n=!1){for(let r=0;r<e.length;r++)if(yO(t,e[r],n))return!0;return!1}function EO(t){for(let e=0;e<t.length;e++){let n=t[e];if(pO(n))return e}return t.length}function IO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ME(t,e){return t?":not("+e.trim()+")":e}function CO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Xn(s)&&(e+=ME(o,i),i=""),r=s,o=o||!Xn(r);n++}return i!==""&&(e+=ME(o,i)),e}function bO(t){return t.map(CO).join(",")}function TO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Xn(i))break;i=o}r++}return{attrs:e,classes:n}}function G(t){return hc(()=>{let e=EI(t),n=xe(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_r.Emulated,styles:t.styles||vn,_:null,schemas:t.schemas||null,tView:null,id:""});II(n);let r=t.dependencies;return n.directiveDefs=OE(r,!1),n.pipeDefs=OE(r,!0),n.id=AO(n),n})}function DO(t){return Pi(t)||vI(t)}function SO(t){return t!==null}function sn(t){return hc(()=>({type:t.type,bootstrap:t.bootstrap||vn,declarations:t.declarations||vn,imports:t.imports||vn,exports:t.exports||vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function PE(t,e){if(t==null)return Hs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ge(t){return hc(()=>{let e=EI(t);return II(e),e})}function Pi(t){return t[uO]||null}function vI(t){return t[dO]||null}function yI(t){return t[hO]||null}function _I(t){let e=Pi(t)||vI(t)||yI(t);return e!==null?e.standalone:!1}function wI(t,e){let n=t[fO]||null;if(!n&&e===!0)throw new Error(`Type ${on(t)} does not have '\u0275mod' property.`);return n}function EI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PE(t.inputs,e),outputs:PE(t.outputs),debugInfo:null}}function II(t){t.features?.forEach(e=>e(t))}function OE(t,e){if(!t)return null;let n=e?yI:DO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(SO)}function AO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var br=0,ve=1,ne=2,Ut=3,Zn=4,nr=5,nd=6,nc=7,er=8,zs=9,Wr=10,ht=11,rc=12,RE=13,Js=14,wr=15,fc=16,Ls=17,Kr=18,wd=19,CI=20,Mi=21,Ku=22,Eo=23,Er=25,rg=1;var Io=7,rd=8,qs=9,bn=10,ig=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ig||{});function _o(t){return Array.isArray(t)&&typeof t[rg]=="object"}function ei(t){return Array.isArray(t)&&t[rg]===!0}function og(t){return(t.flags&4)!==0}function Ed(t){return t.componentOffset>-1}function Id(t){return(t.flags&1)===1}function Qr(t){return!!t.template}function xO(t){return(t[ne]&512)!==0}var MO="svg",PO="math",OO=!1;function RO(){return OO}function Ir(t){for(;Array.isArray(t);)t=t[br];return t}function NO(t){for(;Array.isArray(t);){if(typeof t[rg]=="object")return t;t=t[br]}return null}function bI(t,e){return Ir(e[t])}function rr(t,e){return Ir(e[t.index])}function TI(t,e){return t.data[e]}function kO(t,e){return t[e]}function Ni(t,e){let n=e[t];return _o(n)?n:n[br]}function FO(t){return(t[ne]&4)===4}function sg(t){return(t[ne]&128)===128}function VO(t){return ei(t[Ut])}function Gs(t,e){return e==null?null:t[e]}function DI(t){t[Ls]=0}function LO(t){t[ne]&1024||(t[ne]|=1024,sg(t)&&ic(t))}function jO(t,e){for(;t>0;)e=e[Js],t--;return e}function ag(t){return!!(t[ne]&9216||t[Eo]?.dirty)}function im(t){ag(t)?ic(t):t[ne]&64&&(RO()?(t[ne]|=1024,ic(t)):t[Wr].changeDetectionScheduler?.notify())}function ic(t){t[Wr].changeDetectionScheduler?.notify();let e=oc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!sg(e)));)e=oc(e)}function SI(t,e){if((t[ne]&256)===256)throw new O(911,!1);t[Mi]===null&&(t[Mi]=[]),t[Mi].push(e)}function UO(t,e){if(t[Mi]===null)return;let n=t[Mi].indexOf(e);n!==-1&&t[Mi].splice(n,1)}function oc(t){let e=t[Ut];return ei(e)?e[Ut]:e}var pe={lFrame:FI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BO(){return pe.lFrame.elementDepthCount}function $O(){pe.lFrame.elementDepthCount++}function HO(){pe.lFrame.elementDepthCount--}function AI(){return pe.bindingsEnabled}function zO(){return pe.skipHydrationRootTNode!==null}function qO(t){return pe.skipHydrationRootTNode===t}function GO(){pe.skipHydrationRootTNode=null}function Me(){return pe.lFrame.lView}function xt(){return pe.lFrame.tView}function S(t){return pe.lFrame.contextLView=t,t[er]}function A(t){return pe.lFrame.contextLView=null,t}function yn(){let t=xI();for(;t!==null&&t.type===64;)t=t.parent;return t}function xI(){return pe.lFrame.currentTNode}function WO(){let t=pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function xo(t,e){let n=pe.lFrame;n.currentTNode=t,n.isParent=e}function cg(){return pe.lFrame.isParent}function MI(){pe.lFrame.isParent=!1}function KO(){return pe.lFrame.contextLView}function PI(){let t=pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QO(){return pe.lFrame.bindingIndex}function YO(t){return pe.lFrame.bindingIndex=t}function Cd(){return pe.lFrame.bindingIndex++}function lg(t){let e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function XO(){return pe.lFrame.inI18n}function JO(t,e){let n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,om(e)}function ZO(){return pe.lFrame.currentDirectiveIndex}function om(t){pe.lFrame.currentDirectiveIndex=t}function OI(t){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RI(){return pe.lFrame.currentQueryIndex}function ug(t){pe.lFrame.currentQueryIndex=t}function eR(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[nr]:null}function NI(t,e,n){if(n&ye.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ye.Host);)if(i=eR(o),i===null||(o=o[Js],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=pe.lFrame=kI();return r.currentTNode=e,r.lView=t,!0}function dg(t){let e=kI(),n=t[ve];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kI(){let t=pe.lFrame,e=t===null?null:t.child;return e===null?FI(t):e}function FI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function VI(){let t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var LI=VI;function hg(){let t=VI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tR(t){return(pe.lFrame.contextLView=jO(t,pe.lFrame.contextLView))[er]}function ki(){return pe.lFrame.selectedIndex}function Co(t){pe.lFrame.selectedIndex=t}function fg(){let t=pe.lFrame;return TI(t.tView,t.selectedIndex)}function nR(){return pe.lFrame.currentNamespace}var jI=!0;function bd(){return jI}function Td(t){jI=t}function rR(){return Zs(yn(),Me())}function Zs(t,e){return new Je(rr(t,e))}var Je=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=rR;let t=e;return t})();function iR(t){return t instanceof Je?t.nativeElement:t}function oR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function sR(t){return t.flat(Number.POSITIVE_INFINITY)}function pg(t,e){t.forEach(n=>Array.isArray(n)?pg(n,e):e(n))}function UI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function id(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function mg(t,e,n){let r=pc(t,e);return r>=0?t[r|1]=n:(r=~r,aR(t,r,e,n)),r}function Bp(t,e){let n=pc(t,e);if(n>=0)return t[n|1]}function pc(t,e){return cR(t,e,1)}function cR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function lR(){return this._results[Symbol.iterator]()}var sm=class t{get changes(){return this._changes??=new nt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=lR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sR(e);(this._changesDetected=!oR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function BI(t){return(t.flags&128)===128}var am;function $I(t){am=t}function uR(){if(am!==void 0)return am;if(typeof document<"u")return document;throw new O(210,!1)}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function an(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dd(t){return NE(t,zI)||NE(t,qI)}function HI(t){return Dd(t)!==null}function NE(t,e){return t.hasOwnProperty(e)?t[e]:null}function dR(t){let e=t&&(t[zI]||t[qI]);return e||null}function kE(t){return t&&(t.hasOwnProperty(FE)||t.hasOwnProperty(hR))?t[FE]:null}var zI=ze({\u0275prov:ze}),FE=ze({\u0275inj:ze}),qI=ze({ngInjectableDef:ze}),hR=ze({ngInjectorDef:ze}),K=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},gg=new K("",{providedIn:"root",factory:()=>fR}),fR="ng",vg=new K(""),Nn=new K("",{providedIn:"platform",factory:()=>"unknown"});var yg=new K(""),_g=new K("",{providedIn:"root",factory:()=>uR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pR=ze({__forward_ref__:ze});function Mo(t){return t.__forward_ref__=Mo,t.toString=function(){return on(this())},t}function rn(t){return GI(t)?t():t}function GI(t){return typeof t=="function"&&t.hasOwnProperty(pR)&&t.__forward_ref__===Mo}function WI(t){return t&&!!t.\u0275providers}function sc(t){return typeof t=="string"?t:t==null?"":String(t)}function mR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():sc(t)}function gR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,t)}function wg(t,e){throw new O(-201,!1)}var cm;function KI(){return cm}function Rn(t){let e=cm;return cm=t,e}function QI(t,e,n){let r=Dd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ye.Optional)return null;if(e!==void 0)return e;wg(t,"Injector")}var vR={},ac=vR,lm="__NG_DI_FLAG__",od="ngTempTokenPath",yR="ngTokenPath",_R=/\n/gm,wR="\u0275",VE="__source",Bs;function ER(){return Bs}function xi(t){let e=Bs;return Bs=t,e}function IR(t,e=ye.Default){if(Bs===void 0)throw new O(-203,!1);return Bs===null?QI(t,void 0,e):Bs.get(t,e&ye.Optional?null:void 0,e)}function L(t,e=ye.Default){return(KI()||IR)(rn(t),e)}function R(t,e=ye.Default){return L(t,Sd(e))}function Sd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){let e=[];for(let n=0;n<t.length;n++){let r=rn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){let a=r[s],c=CR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function YI(t,e){return t[lm]=e,t.prototype[lm]=e,t}function CR(t){return t[lm]}function bR(t,e,n,r){let i=t[od];throw e[VE]&&i.unshift(e[VE]),t.message=TR(`
`+t.message,i,n,r),t[yR]=i,t[od]=null,t}function TR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wR?t.slice(2):t;let i=on(e);if(Array.isArray(e))i=e.map(on).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):on(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_R,`
  `)}`}var DR="h",SR="b";var AR=()=>null;function Eg(t,e,n=!1){return AR(t,e,n)}var Hu="__parameters__";function xR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function XI(t,e,n){return hc(()=>{let r=xR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Hu)?c[Hu]:Object.defineProperty(c,Hu,{value:[]})[Hu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var cn=YI(XI("Optional"),8);var JI=YI(XI("SkipSelf"),4);function Ws(t,e){let n=t.hasOwnProperty(td);return n?t[td]:null}var Ks=new K(""),ZI=new K("",-1),eC=new K(""),sd=class{get(e,n=ac){if(n===ac){let r=new Error(`NullInjectorError: No provider for ${on(e)}!`);throw r.name="NullInjectorError",r}return n}};function Fi(t){return{\u0275providers:t}}function mc(...t){return{\u0275providers:tC(!0,t),\u0275fromNgModule:!0}}function tC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return pg(e,s=>{let a=s;dm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nC(i,o),n}function nC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ig(i,o=>{e(o,r)})}}function dm(t,e,n,r){if(t=rn(t),!t)return!1;let i=null,o=kE(t),s=!o&&Pi(t);if(!o&&!s){let c=t.ngModule;if(o=kE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)dm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{pg(o.imports,u=>{dm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&nC(l,e)}if(!a){let l=Ws(i)||(()=>new i);e({provide:i,useFactory:l,deps:vn},i),e({provide:eC,useValue:i,multi:!0},i),e({provide:Ks,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Ig(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ig(t,e){for(let n of t)WI(n)&&(n=n.\u0275providers),Array.isArray(n)?Ig(n,e):e(n)}var MR=ze({provide:String,useValue:ze});function rC(t){return t!==null&&typeof t=="object"&&MR in t}function PR(t){return!!(t&&t.useExisting)}function OR(t){return!!(t&&t.useFactory)}function Qs(t){return typeof t=="function"}function RR(t){return!!t.useClass}var Ad=new K(""),Qu={},NR={},$p;function xd(){return $p===void 0&&($p=new sd),$p}var At=class{},cc=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fm(e,s=>this.processProvider(s)),this.records.set(ZI,js(void 0,this)),i.has("environment")&&this.records.set(At,js(void 0,this));let o=this.records.get(Ad);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eC,vn,ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=xi(this),r=Rn(void 0),i;try{return e()}finally{xi(n),Rn(r)}}get(e,n=ac,r=ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AE))return e[AE](this);r=Sd(r);let i,o=xi(this),s=Rn(void 0);try{if(!(r&ye.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=jR(e)&&Dd(e);l&&this.injectableDefInScope(l)?c=js(hm(e),Qu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ye.Self?xd():this.parent;return n=r&ye.Optional&&n===ac?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[od]=a[od]||[]).unshift(on(e)),o)throw a;return bR(a,e,"R3InjectorError",this.source)}else throw a}finally{Rn(s),xi(o)}}resolveInjectorInitializers(){let e=Re(null),n=xi(this),r=Rn(void 0),i;try{let o=this.get(Ks,vn,ye.Self);for(let s of o)s()}finally{xi(n),Rn(r),Re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(on(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=rn(e);let n=Qs(e)?e:rn(e&&e.provide),r=FR(e);if(!Qs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=js(void 0,Qu,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Re(null);try{return n.value===Qu&&(n.value=NR,n.value=n.factory()),typeof n.value=="object"&&n.value&&LR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hm(t){let e=Dd(t),n=e!==null?e.factory:Ws(t);if(n!==null)return n;if(t instanceof K)throw new O(204,!1);if(t instanceof Function)return kR(t);throw new O(204,!1)}function kR(t){if(t.length>0)throw new O(204,!1);let n=dR(t);return n!==null?()=>n.factory(t):()=>new t}function FR(t){if(rC(t))return js(void 0,t.useValue);{let e=iC(t);return js(e,Qu)}}function iC(t,e,n){let r;if(Qs(t)){let i=rn(t);return Ws(i)||hm(i)}else if(rC(t))r=()=>rn(t.useValue);else if(OR(t))r=()=>t.useFactory(...um(t.deps||[]));else if(PR(t))r=()=>L(rn(t.useExisting));else{let i=rn(t&&(t.useClass||t.provide));if(VR(t))r=()=>new i(...um(t.deps));else return Ws(i)||hm(i)}return r}function js(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VR(t){return!!t.deps}function LR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jR(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function fm(t,e){for(let n of t)Array.isArray(n)?fm(n,e):n&&WI(n)?fm(n.\u0275providers,e):e(n)}function ti(t,e){t instanceof cc&&t.assertNotDestroyed();let n,r=xi(t),i=Rn(void 0);try{return e()}finally{xi(r),Rn(i)}}function UR(t){if(!KI()&&!ER())throw new O(-203,!1)}function BR(t){return typeof t=="function"}var pm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function oC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ni(){return sC}function sC(t){return t.type.prototype.ngOnChanges&&(t.setInput=HR),$R}ni.ngInherit=!0;function $R(){let t=cC(this),e=t?.current;if(e){let n=t.previous;if(n===Hs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function HR(t,e,n,r,i){let o=this.declaredInputs[r],s=cC(t)||zR(t,{previous:Hs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new pm(l&&l.currentValue,n,c===Hs),oC(t,e,i,n)}var aC="__ngSimpleChanges__";function cC(t){return t[aC]||null}function zR(t,e){return t[aC]=e}var LE=null;var vr=function(t,e,n){LE?.(t,e,n)};function qR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Md(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Yu(t,e,n){lC(t,e,3,n)}function Xu(t,e,n,r){(t[ne]&3)===n&&lC(t,e,n,r)}function Hp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function lC(t,e,n,r){let i=r!==void 0?t[Ls]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ls]+=65536),(a<o||o==-1)&&(GR(t,n,e,c),t[Ls]=(t[Ls]&4294901760)+c+2),c++}function jE(t,e){vr(4,t,e);let n=Re(null);try{e.call(t)}finally{Re(n),vr(5,t,e)}}function GR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Ls]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,jE(a,o)):jE(a,o)}var $s=-1,bo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function WR(t){return t instanceof bo}function KR(t){return(t.flags&8)!==0}function QR(t){return(t.flags&16)!==0}function uC(t){return t!==$s}function ad(t){return t&32767}function YR(t){return t>>16}function cd(t,e){let n=YR(t),r=e;for(;n>0;)r=r[Js],n--;return r}var mm=!0;function UE(t){let e=mm;return mm=t,e}var XR=256,dC=XR-1,hC=5,JR=0,yr={};function ZR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ec)&&(r=n[ec]),r==null&&(r=n[ec]=JR++);let i=r&dC,o=1<<i;e.data[t+(i>>hC)]|=o}function ld(t,e){let n=fC(t,e);if(n!==-1)return n;let r=e[ve];r.firstCreatePass&&(t.injectorIndex=e.length,zp(r.data,t),zp(e,null),zp(r.blueprint,null));let i=Cg(t,e),o=t.injectorIndex;if(uC(i)){let s=ad(i),a=cd(i,e),c=a[ve].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function zp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Cg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=yC(i),r===null)return $s;if(n++,i=i[Js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return $s}function gm(t,e,n){ZR(t,e,n)}function pC(t,e,n){if(n&ye.Optional||t!==void 0)return t;wg(e,"NodeInjector")}function mC(t,e,n,r){if(n&ye.Optional&&r===void 0&&(r=null),!(n&(ye.Self|ye.Host))){let i=t[zs],o=Rn(void 0);try{return i?i.get(e,r,n&ye.Optional):QI(e,r,n&ye.Optional)}finally{Rn(o)}}return pC(r,e,n)}function gC(t,e,n,r=ye.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ye.Self)){let s=rN(t,e,n,r,yr);if(s!==yr)return s}let o=vC(t,e,n,r,yr);if(o!==yr)return o}return mC(e,n,r,i)}function vC(t,e,n,r,i){let o=tN(n);if(typeof o=="function"){if(!NI(e,t,r))return r&ye.Host?pC(i,n,r):mC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ye.Optional))wg(n);else return s}finally{LI()}}else if(typeof o=="number"){let s=null,a=fC(t,e),c=$s,l=r&ye.Host?e[wr][nr]:null;for((a===-1||r&ye.SkipSelf)&&(c=a===-1?Cg(t,e):e[a+8],c===$s||!$E(r,!1)?a=-1:(s=e[ve],a=ad(c),e=cd(c,e)));a!==-1;){let u=e[ve];if(BE(o,a,u.data)){let d=eN(a,e,n,s,r,l);if(d!==yr)return d}c=e[a+8],c!==$s&&$E(r,e[ve].data[a+8]===l)&&BE(o,a,e)?(s=u,a=ad(c),e=cd(c,e)):a=-1}}return i}function eN(t,e,n,r,i,o){let s=e[ve],a=s.data[t+8],c=r==null?Ed(a)&&mm:r!=s&&(a.type&3)!==0,l=i&ye.Host&&o===a,u=Ju(a,s,n,c,l);return u!==null?To(e,s,u,a):yr}function Ju(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let p=d;p<h;p++){let y=s[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(i){let p=s[c];if(p&&Qr(p)&&p.type===n)return c}return null}function To(t,e,n,r){let i=t[n],o=e.data;if(WR(i)){let s=i;s.resolving&&gR(mR(o[n]));let a=UE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Rn(s.injectImpl):null,u=NI(t,r,ye.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&qR(n,o[n],e)}finally{l!==null&&Rn(l),UE(a),s.resolving=!1,LI()}}return i}function tN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ec)?t[ec]:void 0;return typeof e=="number"?e>=0?e&dC:nN:e}function BE(t,e,n){let r=1<<t;return!!(n[e+(t>>hC)]&r)}function $E(t,e){return!(t&ye.Self)&&!(t&ye.Host&&e)}var wo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gC(this._tNode,this._lView,e,Sd(r),n)}};function nN(){return new wo(yn(),Me())}function ln(t){return hc(()=>{let e=t.prototype.constructor,n=e[td]||vm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[td]||vm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vm(t){return GI(t)?()=>{let e=vm(rn(t));return e&&e()}:Ws(t)}function rN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=vC(o,s,n,r|ye.Self,yr);if(a!==yr)return a;let c=o.parent;if(!c){let l=s[CI];if(l){let u=l.get(n,yr,r);if(u!==yr)return u}c=yC(s),s=s[Js]}o=c}return i}function yC(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[nr]:null}function HE(t,e=null,n=null,r){let i=_C(t,e,n,r);return i.resolveInjectorInitializers(),i}function _C(t,e=null,n=null,r,i=new Set){let o=[n||vn,mc(t)];return r=r||(typeof t=="object"?void 0:on(t)),new cc(o,e||xd(),r||null,i)}var rt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return HE({name:""},i,r,"");{let o=r.name??"";return HE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=ac,e.NULL=new sd,e.\u0275prov=F({token:e,providedIn:"any",factory:()=>L(ZI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),iN="ngOriginalError";function qp(t){return t[iN]}var Cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&qp(e);for(;n&&qp(n);)n=qp(n);return n||null}},wC=new K("",{providedIn:"root",factory:()=>R(Cr).handleError.bind(void 0)});var EC=!1,oN=new K("",{providedIn:"root",factory:()=>EC}),zu;function sN(){if(zu===void 0&&(zu=null,yo.trustedTypes))try{zu=yo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zu}function Pd(t){return sN()?.createHTML(t)||t}var Yr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hI})`}},ym=class extends Yr{getTypeName(){return"HTML"}},_m=class extends Yr{getTypeName(){return"Style"}},wm=class extends Yr{getTypeName(){return"Script"}},Em=class extends Yr{getTypeName(){return"URL"}},Im=class extends Yr{getTypeName(){return"ResourceURL"}};function Tr(t){return t instanceof Yr?t.changingThisBreaksApplicationSecurity:t}function Po(t,e){let n=aN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hI})`)}return n===e}function aN(t){return t instanceof Yr&&t.getTypeName()||null}function IC(t){return new ym(t)}function CC(t){return new _m(t)}function bC(t){return new wm(t)}function TC(t){return new Em(t)}function DC(t){return new Im(t)}function cN(t){let e=new bm(t);return lN()?new Cm(e):e}var Cm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Pd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},bm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Pd(e),n}};function lN(){try{return!!new window.DOMParser().parseFromString(Pd(""),"text/html")}catch{return!1}}var uN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Od(t){return t=String(t),t.match(uN)?t:"unsafe:"+t}function ri(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function gc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var SC=ri("area,br,col,hr,img,wbr"),AC=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xC=ri("rp,rt"),dN=gc(xC,AC),hN=gc(AC,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fN=gc(xC,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zE=gc(SC,hN,fN,dN),MC=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pN=ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mN=ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gN=gc(MC,pN,mN),vN=ri("script,style,template"),Tm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!zE.hasOwnProperty(n))return this.sanitizedSomething=!0,!vN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!gN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;MC[a]&&(c=Od(c)),this.buf.push(" ",s,'="',qE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();zE.hasOwnProperty(n)&&!SC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(qE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},yN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_N=/([^\#-~ |!])/g;function qE(t){return t.replace(/&/g,"&amp;").replace(yN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(_N,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var qu;function PC(t,e){let n=null;try{qu=qu||cN(t);let r=e?String(e):"";n=qu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=qu.getInertBodyElement(r)}while(r!==o);let a=new Tm().sanitizeChildren(GE(n)||n);return Pd(a)}finally{if(n){let r=GE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function GE(t){return"content"in t&&wN(t)?t.content:null}function wN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ii=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ii||{});function Dr(t){let e=EN();return e?e.sanitize(ii.URL,t)||"":Po(t,"URL")?Tr(t):Od(sc(t))}function EN(){let t=Me();return t&&t[Wr].sanitizer}var IN=/^>|^->|<!--|-->|--!>|<!-$/g,CN=/(<|>)/g,bN="\u200B$1\u200B";function TN(t){return t.replace(IN,e=>e.replace(CN,bN))}var OC=new Map,DN=0;function SN(){return DN++}function AN(t){OC.set(t[wd],t)}function xN(t){OC.delete(t[wd])}var WE="__ngContext__";function Oi(t,e){_o(e)?(t[WE]=e[wd],AN(e)):t[WE]=e}function Rd(t){return t.ownerDocument.defaultView}function bg(t){return t.ownerDocument}function RC(t){return t instanceof Function?t():t}var Xr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xr||{}),MN;function Tg(t,e){return MN(t,e)}function Us(t,e,n,r,i){if(r!=null){let o,s=!1;ei(r)?o=r:_o(r)&&(s=!0,r=r[br]);let a=Ir(r);t===0&&n!==null?i==null?LC(e,n,a):ud(e,n,a,i||null,!0):t===1&&n!==null?ud(e,n,a,i||null,!0):t===2?KN(e,a,s):t===3&&e.destroyNode(a),o!=null&&YN(e,t,o,n,i)}}function PN(t,e){return t.createText(e)}function ON(t,e,n){t.setValue(e,n)}function RN(t,e){return t.createComment(TN(e))}function NC(t,e,n){return t.createElement(e,n)}function NN(t,e){kC(t,e),e[br]=null,e[nr]=null}function kN(t,e,n,r,i,o){r[br]=i,r[nr]=e,kd(t,r,n,1,i,o)}function kC(t,e){kd(t,e,e[ht],2,null,null)}function FN(t){let e=t[rc];if(!e)return Gp(t[ve],t);for(;e;){let n=null;if(_o(e))n=e[rc];else{let r=e[bn];r&&(n=r)}if(!n){for(;e&&!e[Zn]&&e!==t;)_o(e)&&Gp(e[ve],e),e=e[Ut];e===null&&(e=t),_o(e)&&Gp(e[ve],e),n=e&&e[Zn]}e=n}}function VN(t,e,n,r){let i=bn+r,o=n.length;r>0&&(n[i-1][Zn]=e),r<o-bn?(e[Zn]=n[i],UI(n,bn+r,e)):(n.push(e),e[Zn]=null),e[Ut]=n;let s=e[fc];s!==null&&n!==s&&LN(s,e);let a=e[Kr];a!==null&&a.insertView(t),im(e),e[ne]|=128}function LN(t,e){let n=t[qs],i=e[Ut][Ut][wr];e[wr]!==i&&(t[ne]|=ig.HasTransplantedViews),n===null?t[qs]=[e]:n.push(e)}function FC(t,e){let n=t[qs],r=n.indexOf(e);n.splice(r,1)}function Dm(t,e){if(t.length<=bn)return;let n=bn+e,r=t[n];if(r){let i=r[fc];i!==null&&i!==t&&FC(i,r),e>0&&(t[n-1][Zn]=r[Zn]);let o=id(t,bn+e);NN(r[ve],r);let s=o[Kr];s!==null&&s.detachView(o[ve]),r[Ut]=null,r[Zn]=null,r[ne]&=-129}return r}function VC(t,e){if(!(e[ne]&256)){let n=e[ht];n.destroyNode&&kd(t,e,n,3,null,null),FN(e)}}function Gp(t,e){if(e[ne]&256)return;let n=Re(null);try{e[ne]&=-129,e[ne]|=256,e[Eo]&&vp(e[Eo]),UN(t,e),jN(t,e),e[ve].type===1&&e[ht].destroy();let r=e[fc];if(r!==null&&ei(e[Ut])){r!==e[Ut]&&FC(r,e);let i=e[Kr];i!==null&&i.detachView(t)}xN(e)}finally{Re(n)}}function jN(t,e){let n=t.cleanup,r=e[nc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[nc]=null);let i=e[Mi];if(i!==null){e[Mi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function UN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];vr(4,a,c);try{c.call(a)}finally{vr(5,a,c)}}else{vr(4,i,o);try{o.call(i)}finally{vr(5,i,o)}}}}}function BN(t,e,n){return $N(t,e.parent,n)}function $N(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[br];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===_r.None||o===_r.Emulated)return null}return rr(r,n)}}function ud(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LC(t,e,n){t.appendChild(e,n)}function KE(t,e,n,r,i){r!==null?ud(t,e,n,r,i):LC(t,e,n)}function HN(t,e,n,r){t.removeChild(e,n,r)}function Dg(t,e){return t.parentNode(e)}function zN(t,e){return t.nextSibling(e)}function qN(t,e,n){return WN(t,e,n)}function GN(t,e,n){return t.type&40?rr(t,n):null}var WN=GN,QE;function Nd(t,e,n,r){let i=BN(t,r,e),o=e[ht],s=r.parent||e[nr],a=qN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)KE(o,i,n[c],a,!1);else KE(o,i,n,a,!1);QE!==void 0&&QE(o,r,e,n,i)}function Zu(t,e){if(e!==null){let n=e.type;if(n&3)return rr(e,t);if(n&4)return Sm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zu(t,r);{let i=t[e.index];return ei(i)?Sm(-1,i):Ir(i)}}else{if(n&32)return Tg(e,t)()||Ir(t[e.index]);{let r=jC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oc(t[wr]);return Zu(i,r)}else return Zu(t,e.next)}}}return null}function jC(t,e){if(e!==null){let r=t[wr][nr],i=e.projection;return r.projection[i]}return null}function Sm(t,e){let n=bn+t+1;if(n<e.length){let r=e[n],i=r[ve].firstChild;if(i!==null)return Zu(r,i)}return e[Io]}function KN(t,e,n){let r=Dg(t,e);r&&HN(t,r,e,n)}function Sg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Oi(Ir(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Sg(t,e,n.child,r,i,o,!1),Us(e,t,i,a,o);else if(c&32){let l=Tg(n,r),u;for(;u=l();)Us(e,t,i,u,o);Us(e,t,i,a,o)}else c&16?QN(t,e,r,n,i,o):Us(e,t,i,a,o);n=s?n.projectionNext:n.next}}function kd(t,e,n,r,i,o){Sg(n,r,t.firstChild,e,i,o,!1)}function QN(t,e,n,r,i,o){let s=n[wr],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Us(e,t,i,u,o)}else{let l=c,u=s[Ut];BI(r)&&(l.flags|=128),Sg(t,e,l,u,i,o,!0)}}function YN(t,e,n,r,i){let o=n[Io],s=Ir(n);o!==s&&Us(e,t,r,o,i);for(let a=bn;a<n.length;a++){let c=n[a];kd(c[ve],c,t,e,r,o)}}function XN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xr.Important),t.setStyle(n,r,i,o))}}function JN(t,e,n){t.setAttribute(e,"style",n)}function UC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&rm(t,e,r),i!==null&&UC(t,e,i),o!==null&&JN(t,e,o)}var kn={};function v(t=1){$C(xt(),Me(),ki()+t,!1)}function $C(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Yu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Xu(e,o,0,n)}Co(n)}function b(t,e=ye.Default){let n=Me();if(n===null)return L(t,e);let r=yn();return gC(r,n,rn(t),e)}function HC(t,e,n,r,i,o){let s=Re(null);try{let a=null;i&re.SignalBased&&(a=e[r][Ii]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):oC(e,a,r,o)}finally{Re(s)}}function ZN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Co(~i);else{let o=i,s=n[++r],a=n[++r];JO(s,o);let c=e[o];a(2,c)}}}finally{Co(-1)}}function Fd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[br]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),DI(d),d[Ut]=d[Js]=t,d[er]=n,d[Wr]=s||t&&t[Wr],d[ht]=a||t&&t[ht],d[zs]=c||t&&t[zs]||null,d[nr]=o,d[wd]=SN(),d[nd]=u,d[CI]=l,d[wr]=e.type==2?t[wr]:d,d}function vc(t,e,n,r,i){let o=t.data[e];if(o===null)o=ek(t,e,n,r,i),XO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WO();o.injectorIndex=s===null?-1:s.injectorIndex}return xo(o,!0),o}function ek(t,e,n,r,i){let o=xI(),s=cg(),a=s?o:o&&o.parent,c=t.data[e]=sk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function zC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qC(t,e,n,r,i){let o=ki(),s=r&2;try{Co(-1),s&&e.length>Er&&$C(t,e,Er,!1),vr(s?2:0,i),n(r,i)}finally{Co(o),vr(s?3:1,i)}}function Ag(t,e,n){if(og(e)){let r=Re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Re(r)}}}function xg(t,e,n){AI()&&(hk(t,e,n,rr(n,e)),(n.flags&64)===64&&KC(t,e,n))}function Mg(t,e,n=rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function GC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pg(t,e,n,r,i,o,s,a,c,l,u){let d=Er+r,h=d+i,p=tk(d,h),y=typeof l=="function"?l():l;return p[ve]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function tk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kn);return n}function nk(t,e,n,r){let o=r.get(oN,EC)||n===_r.ShadowDom,s=t.selectRootElement(e,o);return rk(s),s}function rk(t){ik(t)}var ik=()=>null;function ok(t,e,n,r){let i=XC(e);i.push(n),t.firstCreatePass&&JC(t).push(r,i.length-1)}function sk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?XE(r,n,l,a,c):XE(r,n,l,a)}return r}function XE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function ak(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,p=h?h.inputs:null,y=h?h.outputs:null;c=YE(0,d.inputs,u,c,p),l=YE(1,d.outputs,u,l,y);let C=c!==null&&s!==null&&!gI(e)?Ek(c,u,s):null;a.push(C)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function ck(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Og(t,e,n,r,i,o,s,a){let c=rr(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Ng(t,n,u,r,i),Ed(e)&&lk(n,e.index)):e.type&3?(r=ck(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function lk(t,e){let n=Ni(e,t);n[ne]&16||(n[ne]|=64)}function Rg(t,e,n,r){if(AI()){let i=r===null?null:{"":-1},o=pk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&WC(t,e,n,s,i,a),i&&mk(n,r,i)}n.mergedAttrs=tc(n.mergedAttrs,n.attrs)}function WC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)gm(ld(n,e),t,r[l].type);vk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=zC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=tc(n.mergedAttrs,u.hostAttrs),yk(t,n,e,c,u),gk(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ak(t,n,o)}function uk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;dk(s)!=a&&s.push(a),s.push(n,r,o)}}function dk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ed(n)&&_k(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ld(n,e),Oi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=To(e,t,a,n);if(Oi(l,e),s!==null&&wk(e,a-i,l,c,n,s),Qr(c)){let u=Ni(n.index,e);u[er]=To(e,t,a,n)}}}function KC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ZO();try{Co(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];om(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fk(c,l)}}finally{Co(-1),om(s)}}function fk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(wO(e,s.selectors,!1))if(r||(r=[]),Qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Am(t,e,c)}else r.unshift(s),Am(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Am(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new O(-301,!1);r.push(e[i],o)}}}function gk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qr(e)&&(n[""]=t)}}function vk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function yk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ws(i.type,!0)),s=new bo(o,Qr(i),b);t.blueprint[r]=s,n[r]=s,uk(t,e,r,zC(t,n,i.hostVars,kn),i)}function _k(t,e,n){let r=rr(e,t),i=GC(n),o=t[Wr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Vd(t,Fd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function wk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];HC(r,n,c,l,u,d)}}function Ek(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function QC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function YC(t,e){let n=t.contentQueries;if(n!==null){let r=Re(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ug(o),a.contentQueries(2,e[s],s)}}}finally{Re(r)}}}function Vd(t,e){return t[rc]?t[RE][Zn]=e:t[rc]=e,t[RE]=e,e}function xm(t,e,n){ug(0);let r=Re(null);try{e(t,n)}finally{Re(r)}}function XC(t){return t[nc]||(t[nc]=[])}function JC(t){return t.cleanup||(t.cleanup=[])}function Ik(t,e,n){return(t===null||Qr(t))&&(n=NO(n[e.index])),n[ht]}function ZC(t,e){let n=t[zs],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function Ng(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];HC(u,l,r,a,c,i)}}function eb(t,e,n){let r=bI(e,t);ON(t[ht],r,n)}function Ck(t,e){let n=Ni(e,t),r=n[ve];bk(r,n);let i=n[br];i!==null&&n[nd]===null&&(n[nd]=Eg(i,n[zs])),kg(r,n,n[er])}function bk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kg(t,e,n){dg(e);try{let r=t.viewQuery;r!==null&&xm(1,r,n);let i=t.template;i!==null&&qC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Kr]?.finishViewCreation(t),t.staticContentQueries&&YC(t,e),t.staticViewQueries&&xm(2,t.viewQuery,n);let o=t.components;o!==null&&Tk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,hg()}}function Tk(t,e){for(let n=0;n<e.length;n++)Ck(t,e[n])}function Dk(t,e,n,r){let i=Re(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=Fd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[fc]=l;let u=t[Kr];return u!==null&&(c[Kr]=u.createEmbeddedView(o)),kg(o,c,n),c}finally{Re(i)}}function JE(t,e){return!e||e.firstChild===null||BI(t)}function Sk(t,e,n,r=!0){let i=e[ve];if(VN(i,e,t,n),r){let s=Sm(n,t),a=e[ht],c=Dg(a,t[Io]);c!==null&&kN(i,t[nr],a,e,c,s)}let o=e[nd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Ir(o)),ei(o)&&Ak(o,r);let s=n.type;if(s&8)dd(t,e,n.child,r);else if(s&32){let a=Tg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=jC(e,n);if(Array.isArray(a))r.push(...a);else{let c=oc(e[wr]);dd(c[ve],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ak(t,e){for(let n=bn;n<t.length;n++){let r=t[n],i=r[ve].firstChild;i!==null&&dd(r[ve],r,i,e)}t[Io]!==t[br]&&e.push(t[Io])}var tb=[];function xk(t){return t[Eo]??Mk(t)}function Mk(t){let e=tb.pop()??Object.create(Ok);return e.lView=t,e}function Pk(t){t.lView[Eo]!==t&&(t.lView=null,tb.push(t))}var Ok=xe(N({},mu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ic(t.lView)},consumerOnSignalRead(){this.lView[Eo]=this}});function nb(t){return ib(t[rc])}function rb(t){return ib(t[Zn])}function ib(t){for(;t!==null&&!ei(t);)t=t[Zn];return t}var ob=100;function sb(t,e=!0,n=0){let r=t[Wr],i=r.rendererFactory,o=!1;o||i.begin?.();try{Rk(t,n)}catch(s){throw e&&ZC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Rk(t,e){Mm(t,e);let n=0;for(;ag(t);){if(n===ob)throw new O(103,!1);n++,Mm(t,1)}}function Nk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[Wr].inlineEffectRunner?.flush(),dg(e);let s=null,a=null;!o&&kk(t)&&(a=xk(e),s=mp(a));try{DI(e),YO(t.bindingStartIndex),n!==null&&qC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Yu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xu(e,d,0,null),Hp(e,0)}if(Fk(e),ab(e,0),t.contentQueries!==null&&YC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Yu(e,d)}else{let d=t.contentHooks;d!==null&&Xu(e,d,1),Hp(e,1)}ZN(t,e);let l=t.components;l!==null&&lb(e,l,0);let u=t.viewQuery;if(u!==null&&xm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Yu(e,d)}else{let d=t.viewHooks;d!==null&&Xu(e,d,2),Hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ku]){for(let d of e[Ku])d();e[Ku]=null}o||(e[ne]&=-73)}catch(c){throw ic(e),c}finally{a!==null&&(gp(a,s),Pk(a)),hg()}}function kk(t){return t.type!==2}function ab(t,e){for(let n=nb(t);n!==null;n=rb(n))for(let r=bn;r<n.length;r++){let i=n[r];cb(i,e)}}function Fk(t){for(let e=nb(t);e!==null;e=rb(e)){if(!(e[ne]&ig.HasTransplantedViews))continue;let n=e[qs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ut];LO(i)}}}function Vk(t,e,n){let r=Ni(e,t);cb(r,n)}function cb(t,e){sg(t)&&Mm(t,e)}function Mm(t,e){let r=t[ve],i=t[ne],o=t[Eo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gu(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)Nk(r,t,r.template,t[er]);else if(i&8192){ab(t,1);let a=r.components;a!==null&&lb(t,a,1)}}function lb(t,e,n){for(let r=0;r<e.length;r++)Vk(t,e[r],n)}function Fg(t){for(t[Wr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=oc(t);if(xO(t)&&!e)return t;t=e}return null}var Do=class{get rootNodes(){let e=this._lView,n=e[ve];return dd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(e){this._lView[er]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(ei(e)){let n=e[rd],r=n?n.indexOf(this):-1;r>-1&&(Dm(e,r),id(n,r))}this._attachedToViewContainer=!1}VC(this._lView[ve],this._lView)}onDestroy(e){SI(this._lView,e)}markForCheck(){Fg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){im(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,sb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,kC(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,im(this._lView)}},tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uk;let t=e;return t})(),Lk=tr,jk=class extends Lk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Dk(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Do(i)}};function Uk(){return Vg(yn(),Me())}function Vg(t,e){return t.type&4?new jk(e,t,Zs(t,e)):null}var W7=new RegExp(`^(\\d+)*(${SR}|${DR})*(.*)`);var Bk=()=>null;function ZE(t,e){return Bk(t,e)}var lc=class{},Pm=class{},hd=class{};function $k(t){let e=Error(`No component factory found for ${on(t)}.`);return e[Hk]=t,e}var Hk="ngComponent";var Om=class{resolveComponentFactory(e){throw $k(e)}},Ld=(()=>{let e=class e{};e.NULL=new Om;let t=e;return t})(),So=class{},oi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>zk();let t=e;return t})();function zk(){let t=Me(),e=yn(),n=Ni(e.index,t);return(_o(n)?n:t)[ht]}var qk=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Wp={},ub=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gk,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Rm=class extends ub{constructor(e){super(),this._lView=e}onDestroy(e){return SI(this._lView,e),()=>UO(this._lView,e)}};function Gk(){return new Rm(Me())}var eI=new Set;function Oo(t){eI.has(t)||(eI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tI(...t){}function Wk(){let t=typeof yo.requestAnimationFrame=="function",e=yo[t?"requestAnimationFrame":"setTimeout"],n=yo[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Wk().nativeRequestAnimationFrame,Yk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Kk,tI,tI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Kk={};function Lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(yo,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nm(t),t.isCheckStableRunning=!0,Lg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nm(t))}function Yk(t){let e=()=>{Qk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Xk(a))return n.invokeTask(i,o,s,a);try{return nI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rI(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return nI(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),rI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Nm(t),Lg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Nm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rI(t){t._nesting--,Lg(t)}function Xk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var db=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function fd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=nm(i,a);else if(o==2){let c=a,l=e[++s];r=nm(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pd=class extends Ld{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pi(e);return new Ys(n,this.ngModule)}};function iI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Jk(t){let e=t.toLowerCase();return e==="svg"?MO:e==="math"?PO:null}var km=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sd(r);let i=this.injector.get(e,Wp,r);return i!==Wp||n===Wp?i:this.parentInjector.get(e,n,r)}},Ys=class extends hd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Re(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new km(e,s):e,c=a.get(So,null);if(c===null)throw new O(407,!1);let l=a.get(qk,null),u=a.get(db,null),d=a.get(lc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?nk(p,r,this.componentDef.encapsulation,a):NC(p,y,Jk(y)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let x=null;C!==null&&(x=Eg(C,a,!0));let H=Pg(0,null,null,1,0,null,null,null,null,null,null),q=Fd(null,H,null,D,null,null,h,p,a,null,x);dg(q);let m,Z;try{let M=this.componentDef,Q,ue=null;M.findHostDirectiveDefs?(Q=[],ue=new Map,M.findHostDirectiveDefs(M,Q,ue),Q.push(M)):Q=[M];let Ie=Zk(q,C),De=e1(Ie,C,M,Q,q,h,p);Z=TI(H,Er),C&&r1(p,M,C,r),n!==void 0&&i1(Z,this.ngContentSelectors,n),m=n1(De,M,Q,ue,q,[o1]),kg(H,q,null)}finally{hg()}return new Fm(this.componentType,m,Zs(Z,q),q,Z)}finally{Re(o)}}},Fm=class extends Pm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Do(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ng(o[ve],o,i,e,n),this.previousInputValues.set(e,n);let s=Ni(this._tNode.index,o);Fg(s)}}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Zk(t,e){let n=t[ve],r=Er;return t[r]=e,vc(n,r,2,"#host",null)}function e1(t,e,n,r,i,o,s){let a=i[ve];t1(r,t,e,s);let c=null;e!==null&&(c=Eg(e,i[zs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Fd(i,GC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Am(a,t,r.length-1),Vd(i,d),i[t.index]=d}function t1(t,e,n,r){for(let i of t)e.mergedAttrs=tc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(fd(e,e.mergedAttrs,!0),n!==null&&BC(r,n,e))}function n1(t,e,n,r,i,o){let s=yn(),a=i[ve],c=rr(s,i);WC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=To(i,a,d,s);Oi(h,i)}KC(a,i,s),c&&Oi(c,i);let l=To(i,a,s.directiveStart+s.componentOffset,s);if(t[er]=i[er]=l,o!==null)for(let u of o)u(l,e);return Ag(a,s,i),l}function r1(t,e,n,r){if(r)rm(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=TO(e.selectors[0]);i&&rm(t,n,i),o&&o.length>0&&UC(t,n,o.join(" "))}}function i1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function o1(){let t=yn();Md(Me()[ve],t)}var Bt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=s1;let t=e;return t})();function s1(){let t=yn();return fb(t,Me())}var a1=Bt,hb=class extends a1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cg(this._hostTNode,this._hostLView);if(uC(e)){let n=cd(e,this._hostLView),r=ad(e),i=n[ve].data[r+8];return new wo(i,n)}else return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ZE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,JE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!BR(e),a;if(s)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new Ys(Pi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?l:this.parentInjector).get(At,null);C&&(o=C)}let u=Pi(c.componentType??{}),d=ZE(this._lContainer,u?.id??null),h=d?.firstChild??null,p=c.create(l,i,h,o);return this.insertImpl(p.hostView,a,JE(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ut],l=new hb(c,c[nr],c[Ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Sk(s,i,o,r),e.attachToViewContainerRef(),UI(Kp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);r&&(id(Kp(this._lContainer),n),VC(r[ve],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);return r&&id(Kp(this._lContainer),n)!=null?new Do(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oI(t){return t[rd]}function Kp(t){return t[rd]||(t[rd]=[])}function fb(t,e){let n,r=e[t.index];return ei(r)?n=r:(n=QC(r,e,null,t),e[t.index]=n,Vd(e,n)),l1(n,e,t,r),new hb(n,t,e)}function c1(t,e){let n=t[ht],r=n.createComment(""),i=rr(e,t),o=Dg(n,i);return ud(n,o,r,zN(n,i),!1),r}var l1=h1,u1=()=>!1;function d1(t,e,n){return u1(t,e,n)}function h1(t,e,n,r){if(t[Io])return;let i;n.type&8?i=Ir(r):i=c1(e,n),t[Io]=i}var Vm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jg(e,n).matches!==null&&this.queries[n].setDirty()}},jm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=w1(e):this.predicate=e}},Um=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Bm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,f1(n,o)),this.matchTNodeWithReadOption(e,n,Ju(n,e,o,!1,!1))}else r===tr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ju(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Je||i===Bt||i===tr&&n.type&4)this.addMatch(n.index,-2);else{let o=Ju(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function f1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function p1(t,e){return t.type&11?Zs(t,e):t.type&4?Vg(t,e):null}function m1(t,e,n,r){return n===-1?p1(e,t):n===-2?g1(t,e,r):To(t,t[ve],n,e)}function g1(t,e,n){if(n===Je)return Zs(e,t);if(n===tr)return Vg(e,t);if(n===Bt)return fb(e,t)}function pb(t,e,n,r){let i=e[Kr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(m1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function $m(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=pb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=bn;d<u.length;d++){let h=u[d];h[fc]===h[Ut]&&$m(h[ve],h,l,r)}if(u[qs]!==null){let d=u[qs];for(let h=0;h<d.length;h++){let p=d[h];$m(p[ve],p,l,r)}}}}}return r}function v1(t,e){return t[Kr].queries[e].queryList}function y1(t,e,n){let r=new sm((n&4)===4);return ok(t,e,r,r.destroy),(e[Kr]??=new Lm).queries.push(new Vm(r))-1}function _1(t,e,n){let r=xt();return r.firstCreatePass&&(E1(r,new jm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),y1(r,Me(),e)}function w1(t){return t.split(",").map(e=>e.trim())}function E1(t,e,n){t.queries===null&&(t.queries=new Um),t.queries.track(new Bm(e,n))}function jg(t,e){return t.queries.getByIndex(e)}function I1(t,e){let n=t[ve],r=jg(n,e);return r.crossesNgTemplate?$m(n,t,e,[]):pb(n,t,r,e)}function C1(t){return typeof t=="function"&&t[Ii]!==void 0}function si(t,e){Oo("NgSignals");let n=Xw(t),r=n[Ii];return e?.equal&&(r.equal=e.equal),n.set=i=>yp(r,i),n.update=i=>Jw(r,i),n.asReadonly=b1.bind(n),n}function b1(){let t=this[Ii];if(t.readonlyFn===void 0){let e=()=>this();e[Ii]=t,t.readonlyFn=e}return t.readonlyFn}function mb(t){return C1(t)&&typeof t.set=="function"}function T1(t){return Object.getPrototypeOf(t.prototype).constructor}function Qe(t){let e=T1(t.type),n=!0,r=[t];for(;e;){let i;if(Qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Gu(t.inputs),s.inputTransforms=Gu(t.inputTransforms),s.declaredInputs=Gu(t.declaredInputs),s.outputs=Gu(t.outputs);let a=i.hostBindings;a&&M1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&A1(t,c),l&&x1(t,l),D1(t,i),lO(t.outputs,i.outputs),Qr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Qe&&(n=!1)}}e=Object.getPrototypeOf(e)}S1(r)}function D1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function S1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=tc(i.hostAttrs,n=tc(n,i.hostAttrs))}}function Gu(t){return t===Hs?{}:t===vn?[]:t}function A1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function x1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function M1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function jd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ri=class{},uc=class{};var Hm=class extends Ri{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pd(this);let i=wI(e);this._bootstrapComponents=RC(i.bootstrap),this._r3Injector=_C(e,n,[{provide:Ri,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver},...r],on(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zm=class extends uc{constructor(e){super(),this.moduleType=e}create(e){return new Hm(this.moduleType,e,[])}};var md=class extends Ri{constructor(e){super(),this.componentFactoryResolver=new pd(this),this.instance=null;let n=new cc([...e.providers,{provide:Ri,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],e.parent||xd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ug(t,e,n=null){return new md({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ro=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gb(t){return O1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function P1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function O1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function vb(t,e,n){return t[e]=n}function R1(t,e){return t[e]}function Jr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function N1(t,e,n,r){let i=Jr(t,e,n);return Jr(t,e+1,r)||i}function k1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=vc(e,t,4,s||null,Gs(l,a));Rg(e,n,u,Gs(l,c)),Md(e,u);let d=u.tView=Pg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function k(t,e,n,r,i,o,s,a){let c=Me(),l=xt(),u=t+Er,d=l.firstCreatePass?k1(u,l,c,e,n,r,i,o,s):l.data[u];xo(d,!1);let h=F1(l,c,d,t);bd()&&Nd(l,c,h,d),Oi(h,c);let p=QC(h,c,h,d);return c[u]=p,Vd(c,p),d1(p,d,c),Id(d)&&xg(l,c,d),s!=null&&Mg(c,d,a),k}var F1=V1;function V1(t,e,n,r){return Td(!0),e[ht].createComment("")}function L1(t,e,n,r){return Jr(t,Cd(),n)?e+sc(n)+r:kn}function j1(t,e,n,r,i,o){let s=QO(),a=N1(t,s,n,i);return lg(2),a?e+sc(n)+r+sc(i)+o:kn}function Wu(t,e){return t<<17|e<<2}function Ao(t){return t>>17&32767}function U1(t){return(t&2)==2}function B1(t,e){return t&131071|e<<17}function qm(t){return t|2}function Xs(t){return(t&131068)>>2}function Qp(t,e){return t&-131069|e<<2}function $1(t){return(t&1)===1}function Gm(t){return t|1}function H1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ao(s),c=Xs(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||pc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Ao(t[a+1]);t[r+1]=Wu(h,a),h!==0&&(t[h+1]=Qp(t[h+1],r)),t[a+1]=B1(t[a+1],r)}else t[r+1]=Wu(a,0),a!==0&&(t[a+1]=Qp(t[a+1],r)),a=r;else t[r+1]=Wu(c,0),a===0?a=r:t[c+1]=Qp(t[c+1],r),c=r;l&&(t[r+1]=qm(t[r+1])),sI(t,u,r,!0),sI(t,u,r,!1),z1(e,u,t,r,o),s=Wu(a,c),o?e.classBindings=s:e.styleBindings=s}function z1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&pc(o,e)>=0&&(n[r+1]=Gm(n[r+1]))}function sI(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ao(i):Xs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];q1(c,e)&&(a=!0,t[s+1]=r?Gm(l):qm(l)),s=r?Ao(l):Xs(l)}a&&(t[n+1]=r?qm(i):Gm(i))}function q1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?pc(t,e)>=0:!1}var Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function G1(t){return t.substring(Jn.key,Jn.keyEnd)}function W1(t){return K1(t),yb(t,_b(t,0,Jn.textEnd))}function yb(t,e){let n=Jn.textEnd;return n===e?-1:(e=Jn.keyEnd=Q1(t,Jn.key=e,n),_b(t,e,n))}function K1(t){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=t.length}function _b(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Q1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function _(t,e,n){let r=Me(),i=Cd();if(Jr(r,i,e)){let o=xt(),s=fg();Og(o,s,r,t,e,r[ht],n,!1)}return _}function Wm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ng(t,n,o[s],s,r)}function $t(t,e,n){return Eb(t,e,n,!1),$t}function _e(t,e){return Eb(t,e,null,!0),_e}function wb(t){X1(rF,Y1,t,!0)}function Y1(t,e){for(let n=W1(e);n>=0;n=yb(e,n))mg(t,G1(e),!0)}function Eb(t,e,n,r){let i=Me(),o=xt(),s=lg(2);if(o.firstUpdatePass&&Cb(o,t,s,r),e!==kn&&Jr(i,s,e)){let a=o.data[ki()];bb(o,a,i,i[ht],t,i[s+1]=oF(e,n),r,s)}}function X1(t,e,n,r){let i=xt(),o=lg(2);i.firstUpdatePass&&Cb(i,null,o,r);let s=Me();if(n!==kn&&Jr(s,o,n)){let a=i.data[ki()];if(Tb(a,r)&&!Ib(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=nm(c,n||"")),Wm(i,a,s,n,r)}else iF(i,a,s,s[ht],s[o+1],s[o+1]=nF(t,e,n),r,o)}}function Ib(t,e){return e>=t.expandoStartIndex}function Cb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ki()],s=Ib(t,n);Tb(o,r)&&e===null&&!s&&(e=!1),e=J1(i,o,e,r),H1(i,o,e,n,s,r)}}function J1(t,e,n,r){let i=OI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yp(null,t,e,n,r),n=dc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Yp(i,t,e,n,r),o===null){let c=Z1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Yp(null,t,e,c[1],r),c=dc(c,e.attrs,r),eF(t,e,r,c))}else o=tF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Z1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xs(r)!==0)return t[Ao(r)]}function eF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ao(i)]=r}function tF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=dc(r,s,n)}return dc(r,e.attrs,n)}function Yp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function dc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function nF(t,e,n){if(n==null||n==="")return vn;let r=[],i=Tr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function rF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&mg(t,r,n)}function iF(t,e,n,r,i,o,s,a){i===kn&&(i=vn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0,y=null,C;u===d?(c+=2,l+=2,h!==p&&(y=d,C=p)):d===null||u!==null&&u<d?(c+=2,y=u):(l+=2,y=d,C=p),y!==null&&bb(t,e,n,r,y,C,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function bb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=$1(l)?aI(c,e,n,i,Xs(l),s):void 0;if(!gd(u)){gd(o)||U1(l)&&(o=aI(c,null,n,i,a,s));let d=bI(ki(),n);XN(r,s,d,i,o)}}function aI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===kn&&(h=d?vn:void 0);let p=d?Bp(h,r):u===r?h:void 0;if(l&&!gd(p)&&(p=Bp(c,r)),gd(p)&&(a=p,s))return a;let y=t[i+1];i=s?Ao(y):Xs(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Bp(c,r))}return a}function gd(t){return t!==void 0}function oF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=on(Tr(t)))),t}function Tb(t,e){return(t.flags&(e?8:16))!==0}function sF(t,e,n,r,i,o){let s=e.consts,a=Gs(s,i),c=vc(e,t,2,r,a);return Rg(e,n,c,Gs(s,o)),c.attrs!==null&&fd(c,c.attrs,!1),c.mergedAttrs!==null&&fd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=Me(),o=xt(),s=Er+t,a=i[ht],c=o.firstCreatePass?sF(s,o,i,e,n,r):o.data[s],l=aF(o,i,c,a,e,t);i[s]=l;let u=Id(c);return xo(c,!0),BC(a,l,c),(c.flags&32)!==32&&bd()&&Nd(o,i,l,c),BO()===0&&Oi(l,i),$O(),u&&(xg(o,i,c),Ag(o,c,i)),r!==null&&Mg(i,c),f}function g(){let t=yn();cg()?MI():(t=t.parent,xo(t,!1));let e=t;qO(e)&&GO(),HO();let n=xt();return n.firstCreatePass&&(Md(n,t),og(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&KR(e)&&Wm(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&QR(e)&&Wm(n,e,Me(),e.stylesWithoutHost,!1),g}function j(t,e,n,r){return f(t,e,n,r),g(),j}var aF=(t,e,n,r,i,o)=>(Td(!0),NC(r,i,nR()));function cF(t,e,n,r,i){let o=e.consts,s=Gs(o,r),a=vc(e,t,8,"ng-container",s);s!==null&&fd(a,s,!0);let c=Gs(o,i);return Rg(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Pe(t,e,n){let r=Me(),i=xt(),o=t+Er,s=i.firstCreatePass?cF(o,i,r,e,n):i.data[o];xo(s,!0);let a=lF(i,r,s,t);return r[o]=a,bd()&&Nd(i,r,a,s),Oi(a,r),Id(s)&&(xg(i,r,s),Ag(i,s,r)),n!=null&&Mg(r,s),Pe}function Oe(){let t=yn(),e=xt();return cg()?MI():(t=t.parent,xo(t,!1)),e.firstCreatePass&&(Md(e,t),og(t)&&e.queries.elementEnd(t)),Oe}function Bg(t,e,n){return Pe(t,e,n),Oe(),Bg}var lF=(t,e,n,r)=>(Td(!0),RN(e[ht],""));function X(){return Me()}function $g(t,e,n){let r=Me(),i=Cd();if(Jr(r,i,e)){let o=xt(),s=fg(),a=OI(o.data),c=Ik(a,s,r);Og(o,s,r,t,e,c,n,!0)}return $g}var vd="en-US";var uF=vd;function dF(t){typeof t=="string"&&(uF=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,r){let i=Me(),o=xt(),s=yn();return Db(o,i,i[ht],s,t,e,r),I}function hF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[nc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Db(t,e,n,r,i,o,s){let a=Id(r),l=t.firstCreatePass&&JC(t),u=e[er],d=XC(e),h=!0;if(r.type&3||s){let C=rr(r,e),D=s?s(C):C,x=d.length,H=s?m=>s(Ir(m[r.index])):r.index,q=null;if(!s&&a&&(q=hF(t,e,i,r.index)),q!==null){let m=q.__ngLastListenerFn__||q;m.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,h=!1}else{o=lI(r,e,u,o,!1);let m=n.listen(D,i,o);d.push(o,m),l&&l.push(i,H,x,x+1)}}else o=lI(r,e,u,o,!1);let p=r.outputs,y;if(h&&p!==null&&(y=p[i])){let C=y.length;if(C)for(let D=0;D<C;D+=2){let x=y[D],H=y[D+1],Z=e[x][H].subscribe(o),M=d.length;if(d.push(o,Z),l){let Q=typeof Z=="function"?M+1:-(M+1);l.push(i,r.index,M,Q)}}}}function cI(t,e,n,r){let i=Re(null);try{return vr(6,e,n),n(r)!==!1}catch(o){return ZC(t,o),!1}finally{vr(7,e,n),Re(i)}}function lI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ni(t.index,e):e;Fg(a);let c=cI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=cI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function w(t=1){return tR(t)}function Sb(t,e,n){_1(t,e,n)}function Hg(t){let e=Me(),n=xt(),r=RI();ug(r+1);let i=jg(n,r);if(t.dirty&&FO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=I1(e,r);t.reset(o,iR),t.notifyOnChanges()}return!0}return!1}function zg(){return v1(Me(),RI())}function Ze(t){let e=KO();return kO(e,Er+t)}function P(t,e=""){let n=Me(),r=xt(),i=t+Er,o=r.firstCreatePass?vc(r,i,1,e,null):r.data[i],s=fF(r,n,o,e,t);n[i]=s,bd()&&Nd(r,n,s,o),xo(o,!1)}var fF=(t,e,n,r,i)=>(Td(!0),PN(e[ht],r));function Ee(t){return Vi("",t,""),Ee}function Vi(t,e,n){let r=Me(),i=L1(r,t,e,n);return i!==kn&&eb(r,ki(),i),Vi}function No(t,e,n,r,i){let o=Me(),s=j1(o,t,e,n,r,i);return s!==kn&&eb(o,ki(),s),No}function ko(t,e,n){mb(e)&&(e=e());let r=Me(),i=Cd();if(Jr(r,i,e)){let o=xt(),s=fg();Og(o,s,r,t,e,r[ht],n,!1)}return ko}function ea(t,e){let n=mb(t);return n&&t.set(e),n}function Fo(t,e){let n=Me(),r=xt(),i=yn();return Db(r,n,n[ht],i,t,e),Fo}function pF(t,e,n){let r=xt();if(r.firstCreatePass){let i=Qr(t);Km(n,r.data,r.blueprint,i,!0),Km(e,r.data,r.blueprint,i,!1)}}function Km(t,e,n,r,i){if(t=rn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Km(t[o],e,n,r,i);else{let o=xt(),s=Me(),a=yn(),c=Qs(t)?t:rn(t.provide),l=iC(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Qs(t)||!t.multi){let p=new bo(l,i,b),y=Jp(c,e,i?u:u+h,d);y===-1?(gm(ld(a,s),o,c),Xp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[y]=p,s[y]=p)}else{let p=Jp(c,e,u+h,d),y=Jp(c,e,u,u+h),C=p>=0&&n[p],D=y>=0&&n[y];if(i&&!D||!i&&!C){gm(ld(a,s),o,c);let x=vF(i?gF:mF,n.length,i,r,l);!i&&D&&(n[y].providerFactory=x),Xp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=Ab(n[i?y:p],l,!i&&r);Xp(o,t,p>-1?p:y,x)}!i&&r&&D&&n[y].componentProviders++}}}function Xp(t,e,n,r){let i=Qs(e),o=RR(e);if(i||o){let c=(o?rn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Ab(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mF(t,e,n,r){return Qm(this.multi,[])}function gF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=To(n,n[ve],this.providerFactory.index,r);o=a.slice(0,s),Qm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Qm(i,o);return o}function Qm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function vF(t,e,n,r,i){let o=new bo(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,Ab(o,i,r&&!n),o}function yc(t,e=[]){return n=>{n.providersResolver=(r,i)=>pF(r,i?i(t):t,e)}}var yF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=tC(!1,r.type),o=i.length>0?Ug([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(L(At))});let t=e;return t})();function Y(t){Oo("NgStandalone"),t.getStandaloneInjector=e=>e.get(yF).getOrCreateStandaloneInjector(t)}function Ud(t,e,n){let r=PI()+t,i=Me();return i[r]===kn?vb(i,r,n?e.call(n):e()):R1(i,r)}function _c(t,e,n,r){return wF(Me(),PI(),t,e,n,r)}function _F(t,e){let n=t[e];return n===kn?void 0:n}function wF(t,e,n,r,i,o){let s=e+n;return Jr(t,s,i)?vb(t,s+1,o?r.call(o,i):r(i)):_F(t,s+1)}var Zr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xb=new Zr("17.2.4"),Bd=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Mb=new K("");function Vo(t){return!!t&&typeof t.then=="function"}function Pb(t){return!!t&&typeof t.subscribe=="function"}var Ob=new K(""),Rb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Vo(s))r.push(s);else if(Pb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$d=new K("");function EF(){Yw(()=>{throw new O(600,!1)})}function IF(t){return t.isBoundToModule}function CF(t,e,n){try{let r=n();return Vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Sr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(wC),this.afterRenderEffectManager=R(db),this.componentTypes=[],this.components=[],this.isStable=R(Ro).hasPendingTasks.pipe(ie(r=>!r)),this._injector=R(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof hd;if(!this._injector.get(Rb).done){let p=!o&&_I(r),y=!1;throw new O(405,y)}let a;o?a=r:a=this._injector.get(Ld).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=IF(a)?void 0:this._injector.get(Ri),l=i||a.selector,u=a.create(rt.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Mb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Zp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);let r=Re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Re(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===ob)throw new O(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!em(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>em(s))&&(i.execute(),!this._views.some(({_lView:s})=>em(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,sb(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Zp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($d,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Zp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function em(t){return ag(t)}var Ym=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qg=(()=>{let e=class e{compileModuleSync(r){return new zm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=wI(r),s=RC(o.declarations).reduce((a,c)=>{let l=Pi(c);return l&&a.push(new Ys(l)),a},[]);return new Ym(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bF=(()=>{let e=class e{constructor(){this.zone=R(Ce),this.applicationRef=R(Sr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TF(t){return[{provide:Ce,useFactory:t},{provide:Ks,multi:!0,useFactory:()=>{let e=R(bF,{optional:!0});return()=>e.initialize()}},{provide:Ks,multi:!0,useFactory:()=>{let e=R(xF);return()=>{e.initialize()}}},{provide:wC,useFactory:DF}]}function DF(){let t=R(Ce),e=R(Cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SF(t){let e=TF(()=>new Ce(AF(t)));return Fi([[],e])}function AF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xF=(()=>{let e=class e{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=R(Ce),this.pendingTasks=R(Ro)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MF(){return typeof $localize<"u"&&$localize.locale||vd}var Gg=new K("",{providedIn:"root",factory:()=>R(Gg,ye.Optional|ye.SkipSelf)||MF()});var Nb=new K("");var ed=null;function PF(t=[],e){return rt.create({name:e,providers:[{provide:Ad,useValue:"platform"},{provide:Nb,useValue:new Set([()=>ed=null])},...t]})}function OF(t=[]){if(ed)return ed;let e=PF(t);return ed=e,EF(),RF(e),e}function RF(t){t.get(vg,null)?.forEach(n=>n())}var Ar=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=NF;let t=e;return t})();function NF(t){return kF(yn(),Me(),(t&16)===16)}function kF(t,e,n){if(Ed(t)&&!n){let r=Ni(t.index,e);return new Do(r,r)}else if(t.type&47){let r=e[wr];return new Do(r,e)}return null}var Xm=class{constructor(){}supports(e){return gb(e)}create(e){return new Jm(e)}},FF=(t,e)=>e,Jm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||FF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<uI(r,i,o)?n:r,a=uI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let p=h<o.length?o[h]:o[h]=0,y=p+h;u<=y&&y<l&&(o[h]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!gb(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,P1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new yd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},eg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yd=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new eg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dI(){return new Wg([new Xm])}var Wg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||dI()),deps:[[e,new JI,new cn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new O(901,!1)}};e.\u0275prov=F({token:e,providedIn:"root",factory:dI});let t=e;return t})();function kb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=OF(r),o=[SF(),...n||[]],a=new md({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ce);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Cr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),h=i.get(Nb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),CF(l,c,()=>{let p=a.get(Rb);return p.runInitializers(),p.donePromise.then(()=>{let y=a.get(Gg,vd);dF(y||vd);let C=a.get(Sr);return e!==void 0&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}function Fn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var VF=new K("",{providedIn:"root",factory:()=>R(LF)}),LF=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new tg});let t=e;return t})(),tg=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=R(Ro),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},ng=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=eE(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Cr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ai(t,e){Oo("NgSignals"),!e?.injector&&UR(ai);let n=e?.injector??R(rt),r=e?.manualCleanup!==!0?n.get(ub):null,i=new ng(n.get(VF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Ar,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[Ku]??=[]).push(i.watcher.notify),i}function Hd(t,e){let n=Pi(t),r=e.elementInjector||xd();return new Ys(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Bb=null;function ci(){return Bb}function $b(t){Bb??=t}var zd=class{};var Ht=new K(""),Hb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(UF),providedIn:"platform"});let t=e;return t})();var UF=(()=>{let e=class e extends Hb{constructor(){super(),this._doc=R(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ci().getBaseHref(this._doc)}onPopState(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ci().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Fb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Lo(t){return t&&t[0]!=="?"?"?"+t:t}var qd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(qb),providedIn:"root"});let t=e;return t})(),BF=new K(""),qb=(()=>{let e=class e extends qd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??R(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Lo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Lo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Lo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Hb),L(BF,8))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wc=(()=>{let e=class e{constructor(r){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=zF(Fb(Vb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Lo(i))}normalize(r){return e.stripTrailingSlash(HF(this._basePath,Vb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Lo,e.joinWithSlash=zb,e.stripTrailingSlash=Fb,e.\u0275fac=function(i){return new(i||e)(L(qd))},e.\u0275prov=F({token:e,factory:()=>$F(),providedIn:"root"});let t=e;return t})();function $F(){return new wc(L(qd))}function HF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Vb(t){return t.replace(/\/index.html$/,"")}function zF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Kg=/\s+/,Lb=[],gt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Lb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Kg):Lb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Kg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Kg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(b(Je),b(oi))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Qg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fe=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Qg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),jb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);jb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(b(Bt),b(tr),b(Wg))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function jb(t,e){t.context.$implicit=e.item}var be=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Yg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ub("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ub("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(b(Bt),b(tr))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Yg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ub(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${on(e)}'.`)}var J=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({});let t=e;return t})(),Gb="browser",qF="server";function Ec(t){return t===qF}var ta=class{};var Cc=class{},bc=class{},li=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Zg=class{encodeKey(e){return Wb(e)}encodeValue(e){return Wb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var QF=/%(\d[a-f0-9])/gi,YF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wb(t){return encodeURIComponent(t).replace(QF,(e,n)=>YF[n]??e)}function Wd(t){return`${t}`}var ji=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=KF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Wd):[Wd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ev=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Kb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Qb(t){return typeof Blob<"u"&&t instanceof Blob}function Yb(t){return typeof FormData<"u"&&t instanceof FormData}function JF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ic=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(XF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new li,this.context??=new ev,!this.params)this.params=new ji,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Kb(this.body)||Qb(this.body)||Yb(this.body)||JF(this.body)||typeof this.body=="string"?this.body:this.body instanceof ji?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yb(this.body)?null:Qb(this.body)?this.body.type||null:Kb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ji?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Ui=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ui||{}),Tc=class{constructor(e,n=Sc.Ok,r="OK"){this.headers=e.headers||new li,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kd=class t extends Tc{constructor(e={}){super(e),this.type=Ui.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dc=class t extends Tc{constructor(e={}){super(e),this.type=Ui.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Li=class extends Tc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Sc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Sc||{});function Xg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var jo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Ic)s=r;else{let l;o.headers instanceof li?l=o.headers:l=new li(o.headers);let u;o.params&&(o.params instanceof ji?u=o.params:u=new ji({fromObject:o.params})),s=new Ic(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ae(s).pipe(Si(l=>this.handler.handle(l)));if(r instanceof Ic||o.observe==="events")return a;let c=a.pipe(Jt(l=>l instanceof Dc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ji().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Xg(o,i))}post(r,i,o={}){return this.request("POST",r,Xg(o,i))}put(r,i,o={}){return this.request("PUT",r,Xg(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(Cc))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),ZF=/^\)\]\}',?\n/,eV="X-Request-URL";function Xb(t){if(t.url)return t.url;let e=eV.toLocaleLowerCase();return t.headers.get(e)}var Jg=(()=>{let e=class e{constructor(){this.fetchImpl=R(tv,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=R(Ce)}handle(r){return new se(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(nv,s=>i.error(new Li({error:s}))),()=>o.abort()})}doRequest(r,i,o){return E(this,null,function*(){let s=this.createRequestInit(r),a;try{let y=this.fetchImpl(r.urlWithParams,N({signal:i},s));tV(y),o.next({type:Ui.Sent}),a=yield y}catch(y){o.error(new Li({error:y,status:y.status??0,statusText:y.statusText,url:r.urlWithParams,headers:y.headers}));return}let c=new li(a.headers),l=a.statusText,u=Xb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new Kd({headers:c,status:d,statusText:l,url:u})),a.body){let y=a.headers.get("content-length"),C=[],D=a.body.getReader(),x=0,H,q,m=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:M,value:Q}=yield D.read();if(M)break;if(C.push(Q),x+=Q.length,r.reportProgress){q=r.responseType==="text"?(q??"")+(H??=new TextDecoder).decode(Q,{stream:!0}):void 0;let ue=()=>o.next({type:Ui.DownloadProgress,total:y?+y:void 0,loaded:x,partialText:q});m?m.run(ue):ue()}}}));let Z=this.concatChunks(C,x);try{let M=a.headers.get("Content-Type")??"";h=this.parseBody(r,Z,M)}catch(M){o.error(new Li({error:M,headers:new li(a.headers),status:a.status,statusText:a.statusText,url:Xb(a)??r.urlWithParams}));return}}d===0&&(d=h?Sc.Ok:0),d>=200&&d<300?(o.next(new Dc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Li({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(ZF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),tv=class{};function nv(){}function tV(t){t.then(nv,nv)}function nV(t,e){return e(t)}function rV(t,e,n){return(r,i)=>ti(n,()=>e(r,o=>t(o,i)))}var rv=new K(""),iV=new K(""),eT=new K("");var Jb=(()=>{let e=class e extends Cc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=R(Ro);let o=R(eT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(rv),...this.injector.get(iV,[])]));this.chain=o.reduceRight((s,a)=>rV(s,a,this.injector),nV)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(vo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(L(bc),L(At))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var oV=/^\)\]\}',?\n/;function sV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Zb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?He(i.\u0275loadImpl()):ae(null)).pipe(St(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((D,x)=>a.setRequestHeader(D,x.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let D=r.detectContentTypeHeader();D!==null&&a.setRequestHeader("Content-Type",D)}if(r.responseType){let D=r.responseType.toLowerCase();a.responseType=D!=="json"?D:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let D=a.statusText||"OK",x=new li(a.getAllResponseHeaders()),H=sV(a)||r.url;return l=new Kd({headers:x,status:a.status,statusText:D,url:H}),l},d=()=>{let{headers:D,status:x,statusText:H,url:q}=u(),m=null;x!==Sc.NoContent&&(m=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=m?Sc.Ok:0);let Z=x>=200&&x<300;if(r.responseType==="json"&&typeof m=="string"){let M=m;m=m.replace(oV,"");try{m=m!==""?JSON.parse(m):null}catch(Q){m=M,Z&&(Z=!1,m={error:Q,text:m})}}Z?(s.next(new Dc({body:m,headers:D,status:x,statusText:H,url:q||void 0})),s.complete()):s.error(new Li({error:m,headers:D,status:x,statusText:H,url:q||void 0}))},h=D=>{let{url:x}=u(),H=new Li({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(H)},p=!1,y=D=>{p||(s.next(u()),p=!0);let x={type:Ui.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(x.total=D.total),r.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},C=D=>{let x={type:Ui.UploadProgress,loaded:D.loaded};D.lengthComputable&&(x.total=D.total),s.next(x)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",C)),a.send(c),s.next({type:Ui.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",C)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(ta))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),tT=new K(""),aV="XSRF-TOKEN",cV=new K("",{providedIn:"root",factory:()=>aV}),lV="X-XSRF-TOKEN",uV=new K("",{providedIn:"root",factory:()=>lV}),Qd=class{},dV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(Ht),L(Nn),L(cV))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function hV(t,e){let n=t.url.toLowerCase();if(!R(tT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Qd).getToken(),i=R(uV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var iv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(iv||{});function nT(t,e){return{\u0275kind:t,\u0275providers:e}}function rT(...t){let e=[jo,Zb,Jb,{provide:Cc,useExisting:Jb},{provide:bc,useExisting:Zb},{provide:rv,useValue:hV,multi:!0},{provide:tT,useValue:!0},{provide:Qd,useClass:dV}];for(let n of t)e.push(...n.\u0275providers);return Fi(e)}function iT(t){return nT(iv.Interceptors,t.map(e=>({provide:rv,useValue:e,multi:!0})))}function oT(){return nT(iv.Fetch,[Jg,{provide:bc,useExisting:Jg},{provide:eT,useExisting:Jg}])}var aT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new av;let h=o<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},av=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pV=function(t){let e=aT(t);return cT.encodeByteArray(e,!0)},Ac=function(t){return pV(t).replace(/\./g,"")},lv=function(t){try{return cT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gV=()=>mV().__FIREBASE_DEFAULTS__,vV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&lv(t[1]);return e&&JSON.parse(e)},uv=()=>{try{return gV()||vV()||yV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dv=t=>{var e,n;return(n=(e=uv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lT=t=>{let e=dv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hv=()=>{var t;return(t=uv())===null||t===void 0?void 0:t.config},fv=t=>{var e;return(e=uv())===null||e===void 0?void 0:e[`_${t}`]};var Yd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(s)),""].join(".")}function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function hT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pT(){let t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pv(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var _V="FirebaseError",Tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_V,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}},ui=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tn(i,a,r)}};function wV(t,e){return t.replace(EV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EV=/\{\$([^}]+)}/g;function gT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(sT(o)&&sT(s)){if(!Uo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sT(t){return t!==null&&typeof t=="object"}function xc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vT(t,e){let n=new cv(t,e);return n.subscribe.bind(n)}var cv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sv),i.error===void 0&&(i.error=sv),i.complete===void 0&&(i.complete=sv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sv(){}var OQ=4*60*60*1e3;function Bi(t){return t&&t._delegate?t._delegate:t}var Vn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bo="[DEFAULT]";var mv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bV(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CV(t){return t===Bo?void 0:t}function bV(t){return t.instantiationMode==="EAGER"}var Xd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TV=[],Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{}),DV={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},SV=Ne.INFO,AV={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},xV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=AV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$i=class{constructor(e){this.name=e,this._logLevel=SV,this._logHandler=xV,this._userLogHandler=null,TV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var MV=(t,e)=>e.some(n=>t instanceof n),yT,_T;function PV(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OV(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wT=new WeakMap,vv=new WeakMap,ET=new WeakMap,gv=new WeakMap,_v=new WeakMap;function RV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),_v.set(e,t),e}function NV(t){if(vv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vv.set(t,e)}var yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IT(t){yv=t(yv)}function kV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jd(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),xr(r)}:OV().includes(t)?function(...e){return t.apply(Jd(this),e),xr(wT.get(this))}:function(...e){return xr(t.apply(Jd(this),e))}}function FV(t){return typeof t=="function"?kV(t):(t instanceof IDBTransaction&&NV(t),MV(t,PV())?new Proxy(t,yv):t)}function xr(t){if(t instanceof IDBRequest)return RV(t);if(gv.has(t))return gv.get(t);let e=FV(t);return e!==t&&(gv.set(t,e),_v.set(e,t)),e}var Jd=t=>_v.get(t);function bT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=xr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(xr(s.result),c.oldVersion,c.newVersion,xr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var VV=["get","getKey","getAll","getAllKeys","count"],LV=["put","add","delete","clear"],wv=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VV.includes(n)))return;let o=function(s,...a){return E(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return wv.set(e,o),o}IT(t=>xe(N({},t),{get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));var Iv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function jV(t){let e=t.getComponent();return e?.type==="VERSION"}var Cv="@firebase/app",TT="0.9.28";var $o=new $i("@firebase/app"),UV="@firebase/app-compat",BV="@firebase/analytics-compat",$V="@firebase/analytics",HV="@firebase/app-check-compat",zV="@firebase/app-check",qV="@firebase/auth",GV="@firebase/auth-compat",WV="@firebase/database",KV="@firebase/database-compat",QV="@firebase/functions",YV="@firebase/functions-compat",XV="@firebase/installations",JV="@firebase/installations-compat",ZV="@firebase/messaging",eL="@firebase/messaging-compat",tL="@firebase/performance",nL="@firebase/performance-compat",rL="@firebase/remote-config",iL="@firebase/remote-config-compat",oL="@firebase/storage",sL="@firebase/storage-compat",aL="@firebase/firestore",cL="@firebase/firestore-compat",lL="firebase",uL="10.8.1";var bv="[DEFAULT]",dL={[Cv]:"fire-core",[UV]:"fire-core-compat",[$V]:"fire-analytics",[BV]:"fire-analytics-compat",[zV]:"fire-app-check",[HV]:"fire-app-check-compat",[qV]:"fire-auth",[GV]:"fire-auth-compat",[WV]:"fire-rtdb",[KV]:"fire-rtdb-compat",[QV]:"fire-fn",[YV]:"fire-fn-compat",[XV]:"fire-iid",[JV]:"fire-iid-compat",[ZV]:"fire-fcm",[eL]:"fire-fcm-compat",[tL]:"fire-perf",[nL]:"fire-perf-compat",[rL]:"fire-rc",[iL]:"fire-rc-compat",[oL]:"fire-gcs",[sL]:"fire-gcs-compat",[aL]:"fire-fst",[cL]:"fire-fst-compat","fire-js":"fire-js",[lL]:"fire-js-all"};var Mc=new Map,Tv=new Map;function hL(t,e){try{t.container.addComponent(e)}catch(n){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){let e=t.name;if(Tv.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,t);for(let n of Mc.values())hL(n,t);return!0}function Oc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var fL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new ui("app","Firebase",fL);var Dv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var qi=uL;function xv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=hv()),!n)throw Hi.create("no-options");let o=Mc.get(i);if(o){if(Uo(n,o.options)&&Uo(r,o.config))return o;throw Hi.create("duplicate-app",{appName:i})}let s=new Xd(i);for(let c of Tv.values())s.addComponent(c);let a=new Dv(n,r,s);return Mc.set(i,a),a}function na(t=bv){let e=Mc.get(t);if(!e&&t===bv&&hv())return xv();if(!e)throw Hi.create("no-app",{appName:t});return e}function Zd(){return Array.from(Mc.values())}function wt(t,e,n){var r;let i=(r=dL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(a.join(" "));return}zi(new Vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var pL="firebase-heartbeat-database",mL=1,Pc="firebase-heartbeat-store",Ev=null;function xT(){return Ev||(Ev=bT(pL,mL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Ev}function gL(t){return E(this,null,function*(){try{let n=(yield xT()).transaction(Pc),r=yield n.objectStore(Pc).get(MT(t));return yield n.done,r}catch(e){if(e instanceof Tn)$o.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});$o.warn(n.message)}}})}function DT(t,e){return E(this,null,function*(){try{let r=(yield xT()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(e,MT(t)),yield r.done}catch(n){if(n instanceof Tn)$o.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});$o.warn(r.message)}}})}function MT(t){return`${t.name}!${t.options.appId}`}var vL=1024,yL=30*24*60*60*1e3,Sv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Av(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ST();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=yL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return E(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ST(),{heartbeatsToSend:r,unsentEntries:i}=_L(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function ST(){return new Date().toISOString().substring(0,10)}function _L(t,e=vL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Av=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return pv()?mT().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield gL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AT(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function wL(t){zi(new Vn("platform-logger",e=>new Iv(e),"PRIVATE")),zi(new Vn("heartbeat",e=>new Sv(e),"PRIVATE")),wt(Cv,TT,t),wt(Cv,TT,"esm2017"),wt("fire-js","")}wL("");var EL="firebase",IL="10.8.1";wt(EL,IL,"app");var zo=new Zr("ANGULARFIRE2_VERSION");function th(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Rc=(t,e)=>{let n=e?[e]:Zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ia=class{constructor(){return Rc(CL)}},CL="app-check";function ra(){}var eh=class{zone;delegate;constructor(e,n=Mp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Mv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra)),n.pipe(dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new eh(Zone.current)),this.insideAngular=n.run(()=>new eh(Zone.current,Os)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ce))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bL(t){return nh().ngZone.runOutsideAngular(()=>t())}function Ho(t){return nh().ngZone.run(()=>t())}function TL(t){return DL(nh())(t)}function DL(t){return function(n){return n=n.lift(new Mv(t.ngZone)),n.pipe(Ti(t.outsideAngular),bi(t.insideAngular))}}var SL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ho(()=>t.apply(void 0,r))},sa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ra,{},ra,ra))),r[o]=SL(r[o],n));let i=bL(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=nh();return i.pipe(Ti(o.outsideAngular),bi(o.insideAngular))}else return Ho(()=>i);return i instanceof se?i.pipe(TL):i instanceof Promise?Ho(()=>new Promise((o,s)=>i.then(a=>Ho(()=>o(a)),a=>Ho(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ho(()=>i)};var di=class{constructor(e){return e}},qo=class{constructor(){return Zd()}};function AL(t){return t&&t.length===1?t[0]:new di(na())}var Pv=new K("angularfire2._apps"),xL={provide:di,useFactory:AL,deps:[[new cn,Pv]]},ML={provide:qo,deps:[[new cn,Pv]]};function PL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new di(r)}}var OL=(()=>{class t{constructor(n){wt("angularfire",zo.full,"core"),wt("angularfire",zo.full,"app"),wt("angular",xb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Nn))};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[xL,ML]})}return t})();function PT(t,...e){return{ngModule:OL,providers:[{provide:Pv,useFactory:PL(t),multi:!0,deps:[Ce,rt,oa,...e]}]}}var OT=sa(xv,!0);function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WT=GT,KT=new ui("auth","Firebase",GT());var ch=new $i("@firebase/auth");function RL(t,...e){ch.logLevel<=Ne.WARN&&ch.warn(`Auth (${qi}): ${t}`,...e)}function ih(t,...e){ch.logLevel<=Ne.ERROR&&ch.error(`Auth (${qi}): ${t}`,...e)}function Wi(t,...e){throw Xv(t,...e)}function Go(t,...e){return Xv(t,...e)}function NL(t,e,n){let r=Object.assign(Object.assign({},WT()),{[e]:n});return new ui("auth","Firebase",r).create(e,{appName:t.name})}function Xv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KT.create(t,...e)}function de(t,e,...n){if(!t)throw Xv(e,...n)}function hi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ki(t,e){t||hi(e)}function kv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kL(){return RT()==="http:"||RT()==="https:"}function RT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||hT()||"connection"in navigator)?navigator.onLine:!0}function VL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Wo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=dT()||fT()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Jv(t,e){Ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var lh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jL=new Wo(3e4,6e4);function Zv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function aa(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>E(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=xc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),lh.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function QT(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},LL),e);try{let i=new Fv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw rh(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw NL(t,u,l);Wi(t,u)}}catch(i){if(i instanceof Tn)throw i;Wi(t,"network-request-failed",{message:String(i)})}})}function UL(o,s,a,c){return E(this,arguments,function*(t,e,n,r,i={}){let l=yield aa(t,e,n,r,i);return"mfaPendingCredential"in l&&Wi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Jv(t.config,i):`${t.config.apiScheme}://${i}`}var Fv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),jL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Go(t,e,r);return i.customData._tokenResponse=n,i}function BL(t,e){return E(this,null,function*(){return aa(t,"POST","/v1/accounts:delete",e)})}function $L(t,e){return E(this,null,function*(){return aa(t,"POST","/v1/accounts:lookup",e)})}function Nc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ey(t,e=!1){return E(this,null,function*(){let n=Bi(t),r=yield n.getIdToken(e),i=ty(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Nc(Ov(i.auth_time)),issuedAtTime:Nc(Ov(i.iat)),expirationTime:Nc(Ov(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ov(t){return Number(t)*1e3}function ty(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{let i=lv(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HL(t){let e=ty(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function kc(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tn&&zL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function zL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Vv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dh(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield kc(t,$L(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GL(o.providerUserInfo):[],a=qL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function ny(t){return E(this,null,function*(){let e=Bi(t);yield dh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GL(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function WL(t,e){return E(this,null,function*(){let n=yield QT(t,{},()=>E(this,null,function*(){let r=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=YT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function KL(t,e){return E(this,null,function*(){return aa(t,"POST","/v2/accounts:revokeToken",Zv(t,e))})}var hh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return E(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield WL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hi("not implemented")}};function Gi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield kc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ey(this,e)}reload(){return ny(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield dh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){let e=yield this.getIdToken();return yield kc(this,BL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:m,isAnonymous:Z,providerData:M,stsTokenManager:Q}=n;de(q&&Q,e,"internal-error");let ue=hh.fromJSON(this.name,Q);de(typeof q=="string",e,"internal-error"),Gi(d,e.name),Gi(h,e.name),de(typeof m=="boolean",e,"internal-error"),de(typeof Z=="boolean",e,"internal-error"),Gi(p,e.name),Gi(y,e.name),Gi(C,e.name),Gi(D,e.name),Gi(x,e.name),Gi(H,e.name);let Ie=new t({uid:q,auth:e,email:h,emailVerified:m,displayName:d,isAnonymous:Z,photoURL:y,phoneNumber:p,tenantId:C,stsTokenManager:ue,createdAt:x,lastLoginAt:H});return M&&Array.isArray(M)&&(Ie.providerData=M.map(De=>Object.assign({},De))),D&&(Ie._redirectEventId=D),Ie}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new hh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dh(o),o})}};var NT=new Map;function fi(t){Ki(t instanceof Function,"Expected a class definition");let e=NT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NT.set(t,e),e)}var QL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Lv=QL;function oh(t,e,n){return`firebase:${t}:${e}:${n}`}var fh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,o),this.fullPersistenceKey=oh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(fi(Lv),e,r);let i=(yield Promise.all(n.map(l=>E(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||fi(Lv),s=oh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Fc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>E(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function kT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tD(e))return"Blackberry";if(nD(e))return"Webos";if(ry(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(eD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XT(t=Mt()){return/firefox\//i.test(t)}function ry(t=Mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(t=Mt()){return/crios\//i.test(t)}function ZT(t=Mt()){return/iemobile/i.test(t)}function eD(t=Mt()){return/android/i.test(t)}function tD(t=Mt()){return/blackberry/i.test(t)}function nD(t=Mt()){return/webos/i.test(t)}function Eh(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YL(t=Mt()){var e;return Eh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XL(){return pT()&&document.documentMode===10}function rD(t=Mt()){return Eh(t)||eD(t)||nD(t)||tD(t)||/windows phone/i.test(t)||ZT(t)}function JL(){try{return!!(window&&window!==window.top)}catch{return!1}}function iD(t,e=[]){let n;switch(t){case"Browser":n=kT(Mt());break;case"Worker":n=`${kT(Mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}var jv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ZL(n){return E(this,arguments,function*(t,e={}){return aa(t,"GET","/v2/passwordPolicy",Zv(t,e))})}var e2=6,Uv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:e2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Bv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ph(this),this.idTokenSubscription=new ph(this),this.beforeStateQueue=new jv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield fh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=VL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){let n=e?Bi(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield ZL(this),n=new Uv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield fh.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&RL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function iy(t){return Bi(t)}var ph=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vT(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var oy={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t2(t){oy=t}function n2(t){return oy.loadJS(t)}function r2(){return oy.gapiScript}function oD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sy(t,e){let n=Oc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Uo(o,e??{}))return i;Wi(i,"already-initialized")}return n.initialize({options:e})}function i2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ay(t,e,n){let r=iy(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=sD(e),{host:s,port:a}=o2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||s2()}function sD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o2(t){let e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FT(s)}}}function FT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function s2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var mh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}};function Rv(t,e){return E(this,null,function*(){return UL(t,"POST","/v1/accounts:signInWithIdp",Zv(t,e))})}var gh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $v=class extends gh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Vc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let o=yield Fc._fromIdTokenResponse(e,r,i),s=VT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Hv=class t extends Tn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hv._fromErrorAndOperation(t,o,e,r):o})}function a2(t,e,n=!1){return E(this,null,function*(){let r=yield kc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Vc._forOperation(t,"link",r)})}function c2(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield kc(t,aD(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=ty(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),Vc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),o}})}function l2(t,e,n=!1){return E(this,null,function*(){let r="signIn",i=yield aD(t,r,e),o=yield Vc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function cy(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}function ly(t,e,n){return Bi(t).beforeAuthStateChanged(e,n)}var vh="__sak";var yh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function u2(){let t=Mt();return ry(t)||Eh(t)}var d2=1e3,h2=10,f2=(()=>{class t extends yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=u2()&&JL(),this.fallbackToPolling=rD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);XL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,h2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield Ei(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield Ei(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield Ei(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),cD=f2;var p2=(()=>{class t extends yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),uy=p2;function m2(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var g2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>E(this,null,function*(){return u(r.origin,s)})),l=yield m2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function lD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var zv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=lD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Mr(){return window}function v2(t){Mr().location.href=t}function uD(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}function y2(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function _2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w2(){return uD()?self:null}var dD="firebaseLocalStorageDb",E2=1,_h="firebaseLocalStorage",hD="fbase_key",Ko=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ih(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function I2(){let t=indexedDB.deleteDatabase(dD);return new Ko(t).toPromise()}function qv(){let t=indexedDB.open(dD,E2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(_h,{keyPath:hD})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),yield I2(),e(yield qv()))}))})}function LT(t,e,n){return E(this,null,function*(){let r=Ih(t,!0).put({[hD]:e,value:n});return new Ko(r).toPromise()})}function C2(t,e){return E(this,null,function*(){let n=Ih(t,!1).get(e),r=yield new Ko(n).toPromise();return r===void 0?null:r.value})}function jT(t,e){let n=Ih(t,!0).delete(e);return new Ko(n).toPromise()}var b2=800,T2=3,D2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield qv(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>T2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return uD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=g2._getInstance(w2()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield y2(),!this.activeServiceWorker)return;this.sender=new zv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield qv();return yield LT(n,vh,"1"),yield jT(n,vh),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>LT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>C2(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>jT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ih(o,!1).getAll();return new Ko(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fD=D2;var bY=oD("rcb"),TY=new Wo(3e4,6e4);function S2(t,e){return e?fi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Lc=class extends mh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function A2(t){return l2(t.auth,new Lc(t),t.bypassAuthState)}function x2(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),c2(n,new Lc(t),t.bypassAuthState)}function M2(t){return E(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),a2(n,new Lc(t),t.bypassAuthState)})}var Gv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:Wi(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var DY=new Wo(2e3,1e4);var P2="pendingRedirect",sh=new Map,Wv=class t extends Gv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=sh.get(this.auth._key());if(!e){try{let r=(yield O2(this.resolver,this.auth))?yield Ei(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Ei(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ei(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function O2(t,e){return E(this,null,function*(){let n=k2(e),r=N2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function R2(t,e){sh.set(t._key(),e)}function N2(t){return fi(t._redirectPersistence)}function k2(t){return oh(P2,t.config.apiKey,t.name)}function F2(t,e,n=!1){return E(this,null,function*(){let r=iy(t),i=S2(r,e),s=yield new Wv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var V2=10*60*1e3,Kv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Go(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V2&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}};function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function L2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(t);default:return!1}}function j2(n){return E(this,arguments,function*(t,e={}){return aa(t,"GET","/v1/projects",e)})}var U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;function $2(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield j2(t);for(let n of e)try{if(H2(n))return}catch{}Wi(t,"unauthorized-domain")})}function H2(t){let e=kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!B2.test(n))return!1;if(U2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var z2=new Wo(3e4,6e4);function BT(){let t=Mr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q2(t){return new Promise((e,n)=>{var r,i,o;function s(){BT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BT(),n(Go(t,"network-request-failed"))},timeout:z2.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)s();else{let a=oD("iframefcb");return Mr()[a]=()=>{gapi.load?s():n(Go(t,"network-request-failed"))},n2(`${r2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ah=null,e})}var ah=null;function G2(t){return ah=ah||q2(t),ah}var W2=new Wo(5e3,15e3),K2="__/auth/iframe",Q2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Jv(e,Q2):`https://${t.config.authDomain}/${K2}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=X2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xc(r).slice(1)}`}function Z2(t){return E(this,null,function*(){let e=yield G2(t),n=Mr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:J2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},r=>new Promise((i,o)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Go(t,"network-request-failed"),a=Mr().setTimeout(()=>{o(s)},W2.get());function c(){Mr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tj=500,nj=600,rj="_blank",ij="http://localhost",wh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function oj(t,e,n,r=tj,i=nj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},ej),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Mt().toLowerCase();n&&(a=JT(l)?rj:n),XT(l)&&(e=e||ij,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(YL(l)&&a!=="_self")return sj(e||"",a),new wh(null);let d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new wh(d)}function sj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var aj="__/auth/handler",cj="emulator/auth/handler",lj=encodeURIComponent("fac");function $T(t,e,n,r,i,o){return E(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof gh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",gT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof $v){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${lj}=${encodeURIComponent(c)}`:"";return`${uj(t)}?${xc(a).slice(1)}${l}`})}function uj({config:t}){return t.emulator?Jv(t,cj):`https://${t.authDomain}/${aj}`}var Nv="webStorageSupport",Qv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uy,this._completeRedirectFn=F2,this._overrideRedirectResult=R2}_openPopup(e,n,r,i){return E(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $T(e,n,r,kv(),i);return oj(e,s,lD())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let o=yield $T(e,n,r,kv(),i);return v2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield Z2(e),r=new Kv(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nv,{type:Nv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Nv];s!==void 0&&n(!!s),Wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rD()||ry()||Eh()}},mD=Qv;var HT="@firebase/auth",zT="1.6.1";var Yv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function dj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hj(t){zi(new Vn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iD(t)},l=new Bv(r,i,o,c);return i2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Vn("auth-internal",e=>{let n=iy(e.getProvider("auth").getImmediate());return(r=>new Yv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wt(HT,zT,dj(t)),wt(HT,zT,"esm2017")}var fj=5*60,pj=fv("authIdTokenMaxAge")||fj,qT=null,mj=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pj)return;let i=n?.token;qT!==i&&(qT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dy(t=na()){let e=Oc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=sy(t,{popupRedirectResolver:mD,persistence:[fD,cD,uy]}),r=fv("authTokenSyncURL");if(r){let o=mj(r);ly(n,o,()=>o(n.currentUser)),cy(n,s=>o(s))}let i=dv("auth");return i&&ay(n,`http://${i}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Go("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hj("Browser");var gD="auth",jc=class{constructor(e){return e}},Uc=class{constructor(){return Rc(gD)}};var hy=new K("angularfire2.auth-instances");function u3(t,e){let n=th(gD,t,e);return n&&new jc(n)}function d3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new jc(r)}}var h3={provide:Uc,deps:[[new cn,hy]]},f3={provide:jc,useFactory:u3,deps:[[new cn,hy],di]},p3=(()=>{class t{constructor(){wt("angularfire",zo.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[f3,h3]})}return t})();function vD(t,...e){return{ngModule:p3,providers:[{provide:hy,useFactory:d3(t),multi:!0,deps:[Ce,rt,oa,qo,[new cn,ia],...e]}]}}var yD=sa(dy,!0);var m3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={},U,Ny=Ny||{},ce=m3||self;function Fh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function el(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function g3(t){return Object.prototype.hasOwnProperty.call(t,fy)&&t[fy]||(t[fy]=++v3)}var fy="closure_uid_"+(1e9*Math.random()>>>0),v3=0;function y3(t,e,n){return t.call.apply(t.bind,arguments)}function _3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zt=y3:Zt=_3,Zt.apply(null,arguments)}function Ch(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Qi(){this.s=this.s,this.o=this.o}var w3=0;Qi.prototype.s=!1;Qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),w3!=0)&&g3(this)};Qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var PD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ky(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _D(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Fh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function en(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}en.prototype.h=function(){this.defaultPrevented=!0};var E3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}function Vh(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return Vh().indexOf(t)!=-1}function Fy(t){return Fy[" "](t),t}Fy[" "]=function(){};function I3(t,e){var n=uU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var C3=Pr("Opera"),da=Pr("Trident")||Pr("MSIE"),OD=Pr("Edge"),yy=OD||da,RD=Pr("Gecko")&&!(Vh().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),b3=Vh().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge");function ND(){var t=ce.document;return t?t.documentMode:void 0}var _y;e:{if(bh="",Th=function(){var t=Vh();if(RD)return/rv:([^\);]+)(\)|;)/.exec(t);if(OD)return/Edge\/([\d\.]+)/.exec(t);if(da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(b3)return/WebKit\/(\S+)/.exec(t);if(C3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Th&&(bh=Th?Th[1]:""),da&&(Dh=ND(),Dh!=null&&Dh>parseFloat(bh))){_y=String(Dh);break e}_y=bh}var bh,Th,Dh,wy;ce.document&&da?(py=ND(),wy=py||parseInt(_y,10)||void 0):wy=void 0;var py,T3=wy;function Wc(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(RD){e:{try{Fy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:D3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wc.$.h.call(this)}}Ot(Wc,en);var D3={2:"touch",3:"pen",4:"mouse"};Wc.prototype.h=function(){Wc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tl="closure_listenable_"+(1e6*Math.random()|0),S3=0;function A3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++S3,this.fa=this.ia=!1}function Lh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vy(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function x3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function kD(t){let e={};for(let n in t)e[n]=t[n];return e}var wD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<wD.length;o++)n=wD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jh(t){this.src=t,this.g={},this.h=0}jh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Iy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new A3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ey(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=PD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Iy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ly="closure_lm_"+(1e6*Math.random()|0),my={};function VD(t,e,n,r,i){if(r&&r.once)return jD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)VD(t,e[o],n,r,i);return null}return n=By(n),t&&t[tl]?t.O(e,n,el(r)?!!r.capture:!!r,i):LD(t,e,n,!1,r,i)}function LD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=el(i)?!!i.capture:!!i,a=Uy(t);if(a||(t[Ly]=a=new jh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=M3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)E3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M3(){function t(n){return e.call(t.src,t.listener,n)}let e=P3;return t}function jD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jD(t,e[o],n,r,i);return null}return n=By(n),t&&t[tl]?t.P(e,n,el(r)?!!r.capture:!!r,i):LD(t,e,n,!0,r,i)}function UD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)UD(t,e[o],n,r,i);else r=el(r)?!!r.capture:!!r,n=By(n),t&&t[tl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Iy(o,n,r,i),-1<n&&(Lh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Iy(e,n,r,i)),(n=-1<t?e[t]:null)&&jy(n))}function jy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[tl])Ey(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uy(e))?(Ey(n,t),n.h==0&&(n.src=null,e[Ly]=null)):Lh(t)}}}function BD(t){return t in my?my[t]:my[t]="on"+t}function P3(t,e){if(t.fa)t=!0;else{e=new Wc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jy(t),t=n.call(r,e)}return t}function Uy(t){return t=t[Ly],t instanceof jh?t:null}var gy="__closure_events_fn_"+(1e9*Math.random()>>>0);function By(t){return typeof t=="function"?t:(t[gy]||(t[gy]=function(e){return t.handleEvent(e)}),t[gy])}function Pt(){Qi.call(this),this.i=new jh(this),this.S=this,this.J=null}Ot(Pt,Qi);Pt.prototype[tl]=!0;Pt.prototype.removeEventListener=function(t,e,n,r){UD(this,t,e,n,r)};function qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new en(e,t);else if(e instanceof en)e.target=e.target||t;else{var i=e;e=new en(r,t),FD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Sh(s,r,!0,e)&&i}if(s=e.g=t,i=Sh(s,r,!0,e)&&i,i=Sh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Sh(s,r,!1,e)&&i}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lh(n[r]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Sh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Ey(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var $y=ce.JSON.stringify,Cy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function O3(){var t=Hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var by=class{constructor(){this.h=this.g=null}add(e,n){let r=$D.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},$D=new Cy(()=>new Ty,t=>t.reset()),Ty=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function R3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function N3(t){ce.setTimeout(()=>{throw t},0)}var Kc,Qc=!1,Hy=new by,HD=()=>{let t=ce.Promise.resolve(void 0);Kc=()=>{t.then(k3)}},k3=()=>{for(var t;t=O3();){try{t.h.call(t.g)}catch(n){N3(n)}var e=$D;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function Uh(t,e){Pt.call(this),this.h=t||1,this.g=e||ce,this.j=Zt(this.qb,this),this.l=Date.now()}Ot(Uh,Pt);U=Uh.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(zy(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Uh.$.N.call(this),zy(this),delete this.g};function qy(t,e,n){if(typeof t=="function")n&&(t=Zt(t,n));else if(t&&typeof t.handleEvent=="function")t=Zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function zD(t){t.g=qy(()=>{t.g=null,t.i&&(t.i=!1,zD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Dy=class extends Qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zD(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Yc(t){Qi.call(this),this.h=t,this.g={}}Ot(Yc,Qi);var ED=[];function qD(t,e,n,r){Array.isArray(n)||(n&&(ED[0]=n.toString()),n=ED);for(var i=0;i<n.length;i++){var o=VD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function GD(t){Vy(t.g,function(e,n){this.g.hasOwnProperty(n)&&jy(e)},t),t.g={}}Yc.prototype.N=function(){Yc.$.N.call(this),GD(this)};Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bh(){this.g=!0}Bh.prototype.Ea=function(){this.g=!1};function F3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function V3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function la(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+j3(t,n)+(r?" "+r:"")})}function L3(t,e){t.info(function(){return"TIMEOUT: "+e})}Bh.prototype.info=function(){};function j3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return $y(n)}catch{return e}}var Jo={},ID=null;function $h(){return ID=ID||new Pt}Jo.Ta="serverreachability";function WD(t){en.call(this,Jo.Ta,t)}Ot(WD,en);function Xc(t){let e=$h();qt(e,new WD(e))}Jo.STAT_EVENT="statevent";function KD(t,e){en.call(this,Jo.STAT_EVENT,t),this.stat=e}Ot(KD,en);function un(t){let e=$h();qt(e,new KD(e,t))}Jo.Ua="timingevent";function QD(t,e){en.call(this,Jo.Ua,t),this.size=e}Ot(QD,en);function nl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gy(){}Gy.prototype.h=null;function CD(t){return t.h||(t.h=t.i())}function XD(){}var rl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wy(){en.call(this,"d")}Ot(Wy,en);function Ky(){en.call(this,"c")}Ot(Ky,en);var Sy;function zh(){}Ot(zh,Gy);zh.prototype.g=function(){return new XMLHttpRequest};zh.prototype.i=function(){return{}};Sy=new zh;function il(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yc(this),this.P=U3,t=yy?125:void 0,this.V=new Uh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JD}function JD(){this.i=null,this.g="",this.h=!1}var U3=45e3,ZD={},Ay={};U=il.prototype;U.setTimeout=function(t){this.P=t};function xy(t,e,n){t.L=1,t.A=Gh(mi(e)),t.u=n,t.S=!0,eS(t,null)}function eS(t,e){t.G=Date.now(),ol(t),t.B=mi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),cS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new JD,t.g=xS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Dy(Zt(t.Pa,t,t.g),t.O)),qD(t.U,t.g,"readystatechange",t.nb),e=t.I?kD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Xc(),F3(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;let e=this.M;e&&Or(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{let u=Or(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||yy||this.g&&(this.h.h||this.g.ja()||SD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Xc(3):Xc(2)),qh(this);var n=this.g.da();this.ca=n;t:if(tS(this)){var r=SD(this.g);t="";var i=r.length,o=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qo(this),qc(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,V3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var l=a;break t}}l=null}if(n=l)la(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,My(this,n);else{this.i=!1,this.s=3,un(12),Qo(this),qc(this);break e}}this.S?(nS(this,u,s),yy&&this.i&&u==3&&(qD(this.U,this.V,"tick",this.mb),this.V.start())):(la(this.j,this.m,s,null),My(this,s)),u==4&&Qo(this),this.i&&!this.J&&(u==4?TS(this.l,this):(this.i=!1,ol(this)))}else aU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Qo(this),qc(this)}}}catch{}finally{}};function tS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function nS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=B3(t,n),i==Ay){e==4&&(t.s=4,un(14),r=!1),la(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ZD){t.s=4,un(15),la(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else la(t.j,t.m,i,null),My(t,i);tS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),e_(e),e.M=!0,un(11))):(la(t.j,t.m,n,"[Invalid Chunked Response]"),Qo(t),qc(t))}U.mb=function(){if(this.g){var t=Or(this.g),e=this.g.ja();this.o<e.length&&(qh(this),nS(this,t,e),this.i&&t!=4&&ol(this))}};function B3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ay:(n=Number(e.substring(n,r)),isNaN(n)?ZD:(r+=1,r+n>e.length?Ay:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,Qo(this)};function ol(t){t.Y=Date.now()+t.P,rS(t,t.P)}function rS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=nl(Zt(t.lb,t),e)}function qh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(L3(this.j,this.B),this.L!=2&&(Xc(),un(17)),Qo(this),this.s=2,qc(this)):rS(this,this.Y-t)};function qc(t){t.l.H==0||t.J||TS(t.l,t)}function Qo(t){qh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zy(t.V),GD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function My(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Py(n.i,t))){if(!t.K&&Py(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Oh(n),Qh(n);else break e;Zy(n),un(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nl(Zt(n.ib,n),6e3));if(1>=dS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yo(n,11)}else if((t.K||n.g==t)&&Oh(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Qy(o,o.h),o.h=null))}if(r.F){let C=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,We(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=AS(r,r.J?r.pa:null,r.Y),s.K){hS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(qh(a),ol(a)),r.g=s}else CS(r);0<n.j.length&&Yh(n)}else l[0]!="stop"&&l[0]!="close"||Yo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Yo(n,7):Jy(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Xc(4)}catch{}}function $3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function H3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function iS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=H3(t),r=$3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var oS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xo){this.h=t.h,Mh(this,t.j),this.s=t.s,this.g=t.g,Ph(this,t.m),this.l=t.l;var e=t.i,n=new Jc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bD(this,n),this.o=t.o}else t&&(e=String(t).match(oS))?(this.h=!1,Mh(this,e[1]||"",!0),this.s=Hc(e[2]||""),this.g=Hc(e[3]||"",!0),Ph(this,e[4]),this.l=Hc(e[5]||"",!0),bD(this,e[6]||"",!0),this.o=Hc(e[7]||"")):(this.h=!1,this.i=new Jc(null,this.h))}Xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zc(e,TD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zc(e,TD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zc(n,n.charAt(0)=="/"?W3:G3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zc(n,Q3)),t.join("")};function mi(t){return new Xo(t)}function Mh(t,e,n){t.j=n?Hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ph(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bD(t,e,n){e instanceof Jc?(t.i=e,Y3(t.i,t.h)):(n||(e=zc(e,K3)),t.i=new Jc(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Gh(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,q3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function q3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TD=/[#\/\?@]/g,G3=/[#\?:]/g,W3=/[#\?]/g,K3=/[#\?@]/g,Q3=/#/g;function Jc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Yi(t){t.g||(t.g=new Map,t.h=0,t.i&&z3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=Jc.prototype;U.add=function(t,e){Yi(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sS(t,e){Yi(t),e=ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aS(t,e){return Yi(t),e=ha(t,e),t.g.has(e)}U.forEach=function(t,e){Yi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Yi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};U.Z=function(t){Yi(this);let e=[];if(typeof t=="string")aS(this,t)&&(e=e.concat(this.g.get(ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Yi(this),this.i=null,t=ha(this,t),aS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cS(t,e,n){sS(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),ky(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Y3(t,e){e&&!t.j&&(Yi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sS(this,r),cS(this,i,n))},t)),t.j=e}var X3=class{constructor(t,e){this.g=t,this.map=e}};function lS(t){this.l=t||J3,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var J3=10;function uS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dS(t){return t.h?1:t.g?t.g.size:0}function Py(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qy(t,e){t.g?t.g.add(e):t.h=e}function hS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lS.prototype.cancel=function(){if(this.i=fS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function fS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return ky(t.i)}var Z3=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function eU(){this.g=new Z3}function tU(t,e,n){let r=n||"";try{iS(t,function(i,o){let s=i;el(i)&&(s=$y(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function nU(t,e){let n=new Bh;if(ce.Image){let r=new Image;r.onload=Ch(Ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ch(Ah,n,r,"TestLoadImage: error",!1,e),r.onabort=Ch(Ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ch(Ah,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sl(t){this.l=t.ec||null,this.j=t.ob||!1}Ot(sl,Gy);sl.prototype.g=function(){return new Wh(this.l,this.j)};sl.prototype.i=function(t){return function(){return t}}({});function Wh(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(Wh,Pt);var Yy=0;U=Wh.prototype;U.open=function(t,e){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zc(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=Yy};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?al(this):Zc(this),this.readyState==3&&pS(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,al(this))};U.Ya=function(t){this.g&&(this.response=t,al(this))};U.ka=function(){this.g&&al(this)};function al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zc(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rU=ce.JSON.parse;function it(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mS,this.L=this.M=!1}Ot(it,Pt);var mS="",iU=/^https?$/i,oU=["POST","PUT"];U=it.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sy.g(),this.C=this.u?CD(this.u):CD(Sy),this.g.onreadystatechange=Zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){DD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=PD(oU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yS(this),0<this.B&&((this.L=sU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zt(this.ua,this)):this.A=qy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){DD(this,o)}};function sU(t){return da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof Ny<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function DD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gS(t),Kh(t)}function gS(t){t.F||(t.F=!0,qt(t,"complete"),qt(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),Kh(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),it.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?vS(this):this.kb())};U.kb=function(){vS(this)};function vS(t){if(t.h&&typeof Ny<"u"&&(!t.C[1]||Or(t)!=4||t.da()!=2)){if(t.v&&Or(t)==4)qy(t.La,0,t);else if(qt(t,"readystatechange"),Or(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(oS)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!iU.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var o=2<Or(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",gS(t)}}finally{Kh(t)}}}}function Kh(t,e){if(t.g){yS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function yS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Or(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rU(e)}};function SD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function aU(t){let e={};t=(t.g&&2<=Or(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Gc(t[r]))continue;var n=R3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}x3(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _S(t){let e="";return Vy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_S(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function Bc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wS(t){this.Ga=0,this.j=[],this.l=new Bh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bc("baseRetryDelayMs",5e3,t),this.hb=Bc("retryDelaySeedMs",1e4,t),this.eb=Bc("forwardChannelMaxRetries",2,t),this.xa=Bc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lS(t&&t.concurrentRequestLimit),this.Ja=new eU,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=wS.prototype;U.ra=8;U.H=1;function Jy(t){if(ES(t),t.H==3){var e=t.W++,n=mi(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),cl(t,n),e=new il(t,t.l,e),e.L=2,e.A=Gh(mi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=xS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ol(e)}SS(t)}function Qh(t){t.g&&(e_(t),t.g.cancel(),t.g=null)}function ES(t){Qh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Oh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Yh(t){if(!uS(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||HD(),Qc||(Kc(),Qc=!0),Hy.add(e,t),t.C=0}}function cU(t,e){return dS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nl(Zt(t.Na,t,e),DS(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new il(this,this.l,t),o=this.s;if(this.U&&(o?(o=kD(o),FD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IS(this,i,e),n=mi(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),cl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_S(o)))+"&"+e:this.o&&Xy(n,this.o,o)),Qy(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,xy(i,n,null)):xy(i,n,e),this.H=2}}else this.H==3&&(t?AD(this,t):this.j.length==0||uS(this.i)||AD(this))};function AD(t,e){var n;e?n=e.m:n=t.W++;let r=mi(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),cl(t,r),t.o&&t.s&&Xy(r,t.o,t.s),n=new il(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qy(t.i,n),xy(n,r,e)}function cl(t,e){t.na&&Vy(t.na,function(n,r){We(e,r,n)}),t.h&&iS({},function(n,r){We(e,r,n)})}function IS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Zt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{tU(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||HD(),Qc||(Kc(),Qc=!0),Hy.add(e,t),t.A=0}}function Zy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nl(Zt(t.Ma,t),DS(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,bS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nl(Zt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,un(10),Qh(this),bS(this))};function e_(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function bS(t){t.g=new il(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mi(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),cl(t,e),t.o&&t.s&&Xy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gh(mi(e)),n.u=null,n.S=!0,eS(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Qh(this),Zy(this),un(19))};function Oh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function TS(t,e){var n=null;if(t.g==e){Oh(t),e_(t),t.g=null;var r=2}else if(Py(t.i,e))n=e.F,hS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=$h(),qt(r,new QD(r,n)),Yh(t)}else CS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&cU(t,e)||r==2&&Zy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Yo(t,5);break;case 4:Yo(t,10);break;case 3:Yo(t,6);break;default:Yo(t,2)}}}function DS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Yo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Zt(t.pb,t);n||(n=new Xo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Mh(n,"https"),Gh(n)),nU(n.toString(),r)}else un(2);t.H=0,t.h&&t.h.za(e),SS(t),ES(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),un(2)):(this.l.info("Failed to ping google.com"),un(1))};function SS(t){if(t.H=0,t.ma=[],t.h){let e=fS(t.i);(e.length!=0||t.j.length!=0)&&(_D(t.ma,e),_D(t.ma,t.j),t.i.i.length=0,ky(t.j),t.j.length=0),t.h.ya()}}function AS(t,e,n){var r=n instanceof Xo?mi(n):new Xo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ph(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Xo(null);r&&Mh(o,r),e&&(o.g=e),i&&Ph(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),cl(t,r),r}function xS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new it(new sl({ob:n})):new it(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function MS(){}U=MS.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function Rh(){if(da&&!(10<=Number(T3)))throw Error("Environmental error: no available transport.")}Rh.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){Pt.call(this),this.g=new wS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fa(this)}Ot(Dn,Pt);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AS(t,null,t.Y),Yh(t)};Dn.prototype.close=function(){Jy(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$y(t),t=n);e.j.push(new X3(e.fb++,t)),e.H==3&&Yh(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,Jy(this.g),delete this.g,Dn.$.N.call(this)};function PS(t){Wy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ot(PS,Wy);function OS(){Ky.call(this),this.status=1}Ot(OS,Ky);function fa(t){this.g=t}Ot(fa,MS);fa.prototype.Ba=function(){qt(this.g,"a")};fa.prototype.Aa=function(t){qt(this.g,new PS(t))};fa.prototype.za=function(t){qt(this.g,new OS)};fa.prototype.ya=function(){qt(this.g,"b")};function lU(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ot(ir,lU);ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)vy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){vy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){vy(this,r),i=0;break}}this.h=i,this.i+=e};ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var uU={};function t_(t){return-128<=t&&128>t?I3(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Rr(t){if(isNaN(t)||!isFinite(t))return ua;if(0>t)return zt(Rr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Oy;return new Ue(e,0)}function RS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return zt(RS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rr(Math.pow(e,8)),r=ua,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Rr(Math.pow(e,o)),r=r.R(o).add(Rr(s))):(r=r.R(n),r=r.add(Rr(s)))}return r}var Oy=4294967296,ua=t_(0),Ry=t_(1),xD=t_(16777216);U=Ue.prototype;U.ea=function(){if(Ln(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Oy+r)*e,e*=Oy}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pi(this))return"0";if(Ln(this))return"-"+zt(this).toString(t);for(var e=Rr(Math.pow(t,6)),n=this,r="";;){var i=kh(n,e).g;n=Nh(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ln(t){return t.h==-1}U.X=function(t){return t=Nh(this,t),Ln(t)?-1:pi(t)?0:1};function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(Ry)}U.abs=function(){return Ln(this)?zt(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function Nh(t,e){return t.add(zt(e))}U.R=function(t){if(pi(this)||pi(t))return ua;if(Ln(this))return Ln(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(Ln(t))return zt(this.R(zt(t)));if(0>this.X(xD)&&0>t.X(xD))return Rr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,xh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,xh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,xh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,xh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function xh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $c(t,e){this.g=t,this.h=e}function kh(t,e){if(pi(e))throw Error("division by zero");if(pi(t))return new $c(ua,ua);if(Ln(t))return e=kh(zt(t),e),new $c(zt(e.g),zt(e.h));if(Ln(e))return e=kh(t,zt(e)),new $c(zt(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ry,r=e;0>=r.X(t);)n=MD(n),r=MD(r);var i=ca(n,1),o=ca(r,1);for(r=ca(r,2),n=ca(n,2);!pi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ca(r,1),n=ca(n,1)}return e=Nh(t,i.R(e)),new $c(i,e)}for(i=ua;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Rr(n),s=o.R(e);Ln(s)||0<s.X(t);)n-=r,o=Rr(n),s=o.R(e);pi(o)&&(o=Ry),i=i.add(o),t=Nh(t,s)}return new $c(i,t)}U.gb=function(t){return kh(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function MD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function ca(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ue(i,t.h)}Rh.prototype.createWebChannel=Rh.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;Hh.NO_ERROR=0;Hh.TIMEOUT=8;Hh.HTTP_ERROR=6;YD.COMPLETE="complete";XD.EventType=rl;rl.OPEN="a";rl.CLOSE="b";rl.ERROR="c";rl.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;it.prototype.listenOnce=it.prototype.P;it.prototype.getLastError=it.prototype.Sa;it.prototype.getLastErrorCode=it.prototype.Ia;it.prototype.getStatus=it.prototype.da;it.prototype.getResponseJson=it.prototype.Wa;it.prototype.getResponseText=it.prototype.ja;it.prototype.send=it.prototype.ha;it.prototype.setWithCredentials=it.prototype.Oa;ir.prototype.digest=ir.prototype.l;ir.prototype.reset=ir.prototype.reset;ir.prototype.update=ir.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Rr;Ue.fromString=RS;var dU=or.createWebChannelTransport=function(){return new Rh},hU=or.getStatEventTarget=function(){return $h()},fU=or.ErrorCode=Hh,pU=or.EventType=YD,mU=or.Event=Jo,gU=or.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pX=or.FetchXmlHttpFactory=sl,vU=or.WebChannel=XD,yU=or.XhrIo=it,_U=or.Md5=ir,NS=or.Integer=Ue;var kS="@firebase/firestore";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var ll="10.8.1";var ma=new $i("@firebase/firestore");function Sn(t,...e){if(ma.logLevel<=Ne.DEBUG){let n=e.map(C_);ma.debug(`Firestore (${ll}): ${t}`,...n)}}function I_(t,...e){if(ma.logLevel<=Ne.ERROR){let n=e.map(C_);ma.error(`Firestore (${ll}): ${t}`,...n)}}function wU(t,...e){if(ma.logLevel<=Ne.WARN){let n=e.map(C_);ma.warn(`Firestore (${ll}): ${t}`,...n)}}function C_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function _n(t="Unexpected state"){let e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+t;throw I_(e),new Error(e)}function r_(t,e){t||_n()}var Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Et=class extends Tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ji=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Xh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},i_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}},o_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},s_=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>E(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ji)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(r_(typeof r.accessToken=="string"),new Xh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return r_(e===null||typeof e=="string"),new Rt(e)}},a_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},c_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new a_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},l_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},u_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Sn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(r_(typeof n.token=="string"),this.R=n.token,new l_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function EU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var d_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=EU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function jS(t,e){return t<e?-1:t>e?1:0}var h_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&_n(),r===void 0?r=e.length-n:r>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Xi=class t extends h_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Et(Gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Zo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Xi.fromString(e))}static fromName(e){return new t(Xi.fromString(e).popFirst(5))}static empty(){return new t(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Xi(e.slice()))}};var f_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};f_.UNKNOWN_ID=-1;function US(t){return t.name==="IndexedDbTransactionError"}function IU(t){return t===0&&1/t==-1/0}var CU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TX=[...CU,"documentOverlays"],bU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TU=bU,DX=[...TU,"indexConfiguration","indexState","indexEntries"];var ga=class t{constructor(e,n){this.comparator=e,this.root=n||kr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}},pa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();let e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}};kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(e,n,r,i,o){return this}insert(e,n,r){return new kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jh=class t{constructor(e){this.comparator=e,this.data=new ga(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var p_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var va=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new p_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};va.EMPTY_BYTE_STRING=new va("");var AX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function FS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function DU(t){return typeof t=="string"?va.fromBase64String(t):va.fromUint8Array(t)}var m_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},g_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function SU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xX=new ga(Zo.comparator);var MX=new ga(Zo.comparator);var PX=new ga(Zo.comparator),OX=new Jh(Zo.comparator);var RX=new Jh(jS);var VS,Te;(Te=VS||(VS={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var NX=new NS([4294967295,4294967295],0);var ef=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(FS(e.integerValue));else if("doubleValue"in e){let r=FS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),IU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(DU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?SU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):_n()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Zo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ef.bt=new ef;var kX=new Uint8Array(0);var Nr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(41943040,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);function n_(){return typeof document<"u"?document:null}var v_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Sn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var y_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(Gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function AU(t,e){if(I_("AsyncQueue",`${e}: ${t}`),US(t))return new Et(Gt.UNAVAILABLE,`${e}: ${t}`);throw t}var __=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>E(this,null,function*(){Sn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Sn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=AU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function BS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var LS=new Map;function xU(t,e,n,r){if(e===!0&&r===!0)throw new Et(Gt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_n()}function PU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Et(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=MU(t);throw new Et(Gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var tf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Et(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Et(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Et(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Et(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nf=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Et(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new i_;switch(r.type){case"firstParty":return new c_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=LS.get(n);r&&(Sn("ComponentProvider","Removing Datastore"),LS.delete(n),r.terminate())}(this),Promise.resolve()}};function $S(t,e,n,r={}){var i;let o=(t=PU(t,nf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&wU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Rt.MOCK_USER;else{a=uT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Et(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rt(l)}t._authCredentials=new o_(new Xh(a,c))}}var w_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new v_(this,"async_queue_retry"),this._u=()=>{let n=n_();n&&Sn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=n_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=n_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ji;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return E(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!US(e))throw e;Sn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw I_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=y_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&_n()}verifyOperationInProgress(){}hu(){return E(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var E_=class extends nf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new w_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OU(this),this._firestoreClient.terminate()}};function HS(t,e){let n=typeof t=="object"?t:na(),r=typeof t=="string"?t:e||"(default)",i=Oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lT("firestore");o&&$S(i,...o)}return i}function OU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new m_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,BS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new __(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var FX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){ll=i})(qi),zi(new Vn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new E_(new s_(r.getProvider("auth-internal")),new u_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Et(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new g_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),wt(kS,"4.4.3",e),wt(kS,"4.4.3","esm2017")})();var ul=class{constructor(e){return e}},zS="firestore",b_=class{constructor(){return Rc(zS)}};var T_=new K("angularfire2.firestore-instances");function RU(t,e){let n=th(zS,t,e);return n&&new ul(n)}function NU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ul(r)}}var kU={provide:b_,deps:[[new cn,T_]]},FU={provide:ul,useFactory:RU,deps:[[new cn,T_],di]},VU=(()=>{class t{constructor(){wt("angularfire",zo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=sn({type:t});static \u0275inj=an({providers:[FU,kU]})}return t})();function qS(t,...e){return{ngModule:VU,providers:[{provide:T_,useFactory:NU(t),multi:!0,deps:[Ce,rt,oa,qo,[new cn,Uc],[new cn,ia],...e]}]}}var GS=sa(HS,!0);var A_=class extends zd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},x_=class t extends A_{static makeCurrent(){$b(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LU();return n==null?null:jU(n)}resetBaseElement(){dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},dl=null;function LU(){return dl=dl||document.querySelector("base"),dl?dl.getAttribute("href"):null}function jU(t){return new URL(t,document.baseURI).pathname}var UU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),M_=new K(""),QS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(M_),L(Ce))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),rf=class{constructor(e){this._doc=e}},D_="ng-app-id",YS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ec(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${D_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(D_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(D_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Ht),L(gg),L(_g,8),L(Nn))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),S_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},O_=/%COMP%/g,XS="%COMP%",BU=`_nghost-${XS}`,$U=`_ngcontent-${XS}`,HU=!0,zU=new K("",{providedIn:"root",factory:()=>HU});function qU(t){return $U.replace(O_,t)}function GU(t){return BU.replace(O_,t)}function JS(t,e){return e.map(n=>n.replace(O_,t))}var of=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ec(c),this.defaultRenderer=new hl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_r.ShadowDom&&(i=xe(N({},i),{encapsulation:_r.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof sf?o.applyToHost(r):o instanceof fl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case _r.Emulated:s=new sf(l,u,i,this.appId,d,a,c,h);break;case _r.ShadowDom:return new P_(l,u,r,i,a,c,this.nonce,h);default:s=new fl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(QS),L(YS),L(gg),L(zU),L(Ht),L(Nn),L(Ce),L(_g))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),hl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(S_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=S_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=S_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xr.DashCase|Xr.Important)?e.style.setProperty(n,r,i&Xr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ci().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function WS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var P_=class extends hl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=JS(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fl=class extends hl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?JS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sf=class extends fl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=qU(l),this.hostAttr=GU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WU=(()=>{let e=class e extends rf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Ht))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),KS=["alt","control","meta","shift"],KU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YU=(()=>{let e=class e extends rf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ci().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),KS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=KU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),KS.forEach(a=>{if(a!==o){let c=QU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Ht))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function ZS(t,e){return kb(N({rootComponent:t},XU(e)))}function XU(t){return{appProviders:[...nB,...t?.providers??[]],platformProviders:tB}}function JU(){x_.makeCurrent()}function ZU(){return new Cr}function eB(){return $I(document),document}var tB=[{provide:Nn,useValue:Gb},{provide:vg,useValue:JU,multi:!0},{provide:Ht,useFactory:eB,deps:[]}];var nB=[{provide:Ad,useValue:"root"},{provide:Cr,useFactory:ZU,deps:[]},{provide:M_,useClass:WU,multi:!0,deps:[Ht,Ce,Nn]},{provide:M_,useClass:YU,multi:!0,deps:[Ht]},of,YS,QS,{provide:So,useExisting:of},{provide:ta,useClass:UU,deps:[]},[]];var eA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Ht))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var R_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=L(rB),o},providedIn:"root"});let t=e;return t})(),rB=(()=>{let e=class e extends R_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ii.NONE:return i;case ii.HTML:return Po(i,"HTML")?Tr(i):PC(this._doc,String(i)).toString();case ii.STYLE:return Po(i,"Style")?Tr(i):i;case ii.SCRIPT:if(Po(i,"Script"))return Tr(i);throw new O(5200,!1);case ii.URL:return Po(i,"URL")?Tr(i):Od(String(i));case ii.RESOURCE_URL:if(Po(i,"ResourceURL"))return Tr(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(r){return IC(r)}bypassSecurityTrustStyle(r){return CC(r)}bypassSecurityTrustScript(r){return bC(r)}bypassSecurityTrustUrl(r){return TC(r)}bypassSecurityTrustResourceUrl(r){return DC(r)}};e.\u0275fac=function(i){return new(i||e)(L(Ht))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(he||{}),Fr="*";function jn(t,e){return{type:he.Trigger,name:t,definitions:e,options:{}}}function It(t,e=null){return{type:he.Animate,styles:e,timings:t}}function nA(t,e=null){return{type:he.Sequence,steps:t,options:e}}function me(t){return{type:he.Style,styles:t,offset:null}}function rA(t,e,n){return{type:he.State,name:t,styles:e,options:n}}function ft(t,e,n=null){return{type:he.Transition,expr:t,animation:e,options:n}}var Zi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},pl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},af="!";function iA(t){return new O(3e3,!1)}function iB(){return new O(3100,!1)}function oB(){return new O(3101,!1)}function sB(t){return new O(3001,!1)}function aB(t){return new O(3003,!1)}function cB(t){return new O(3004,!1)}function lB(t,e){return new O(3005,!1)}function uB(){return new O(3006,!1)}function dB(){return new O(3007,!1)}function hB(t,e){return new O(3008,!1)}function fB(t){return new O(3002,!1)}function pB(t,e,n,r,i){return new O(3010,!1)}function mB(){return new O(3011,!1)}function gB(){return new O(3012,!1)}function vB(){return new O(3200,!1)}function yB(){return new O(3202,!1)}function _B(){return new O(3013,!1)}function wB(t){return new O(3014,!1)}function EB(t){return new O(3015,!1)}function IB(t){return new O(3016,!1)}function CB(t,e){return new O(3404,!1)}function bB(t){return new O(3502,!1)}function TB(t){return new O(3503,!1)}function DB(){return new O(3300,!1)}function SB(t){return new O(3504,!1)}function AB(t){return new O(3301,!1)}function xB(t,e){return new O(3302,!1)}function MB(t){return new O(3303,!1)}function PB(t,e){return new O(3400,!1)}function OB(t){return new O(3401,!1)}function RB(t){return new O(3402,!1)}function NB(t,e){return new O(3505,!1)}function eo(t){switch(t.length){case 0:return new Zi;case 1:return t[0];default:return new pl(t)}}function yA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,p)=>{let y=p,C=h;if(p!=="offset")switch(y=t.normalizePropertyName(y,i),C){case af:C=n.get(p);break;case Fr:C=r.get(p);break;default:C=t.normalizeStyleValue(p,y,C,i);break}d.set(y,C)}),u||o.push(d),a=d,s=l}),i.length)throw bB(i);return o}function n0(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&N_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&N_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&N_(n,"destroy",t)));break}}function N_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=r0(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function r0(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function xn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function oA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var kB=typeof document>"u"?null:document.documentElement;function i0(t){let e=t.parentNode||t.host||null;return e===kB?null:e}function FB(t){return t.substring(1,6)=="ebkit"}var es=null,sA=!1;function VB(t){es||(es=LB()||{},sA=es.style?"WebkitAppearance"in es.style:!1);let e=!0;return es.style&&!FB(t)&&(e=t in es.style,!e&&sA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in es.style)),e}function LB(){return typeof document<"u"?document.body:null}function _A(t,e){for(;e;){if(e===t)return!0;e=i0(e)}return!1}function wA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var o0=(()=>{let e=class e{validateStyleProperty(r){return VB(r)}matchesElement(r,i){return!1}containsElement(r,i){return _A(r,i)}getParentElement(r){return i0(r)}query(r,i,o){return wA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Zi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),l0=class l0{};l0.NOOP=new o0;var rs=l0,is=class{};var jB=1e3,EA="{{",UB="}}",IA="ng-enter",U_="ng-leave",cf="ng-trigger",ff=".ng-trigger",aA="ng-animating",B_=".ng-animating";function gi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$_(parseFloat(e[1]),e[2])}function $_(t,e){switch(e){case"s":return t*jB;default:return t}}function pf(t,e,n){return t.hasOwnProperty("duration")?t:BB(t,e,n)}function BB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(iA(t)),{duration:0,delay:0,easing:""};i=$_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=$_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(iB()),a=!0),o<0&&(e.push(oB()),a=!0),a&&e.splice(c,0,iA(t))}return{duration:i,delay:o,easing:s}}function $B(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Vr(t,e,n){e.forEach((r,i)=>{let o=s0(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ns(t,e){e.forEach((n,r)=>{let i=s0(r);t.style[i]=""})}function ml(t){return Array.isArray(t)?t.length==1?t[0]:nA(t):t}function HB(t,e,n){let r=e.params||{},i=CA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(sB(o))})}var H_=new RegExp(`${EA}\\s*(.+?)\\s*${UB}`,"g");function CA(t){let e=[];if(typeof t=="string"){let n;for(;n=H_.exec(t);)e.push(n[1]);H_.lastIndex=0}return e}function vl(t,e,n){let r=`${t}`,i=r.replace(H_,(o,s)=>{let a=e[s];return a==null&&(n.push(aB(s)),a=""),a.toString()});return i==r?t:i}var zB=/-+([a-z0-9])/g;function s0(t){return t.replace(zB,(...e)=>e[1].toUpperCase())}function qB(t,e){return t===0||e===0}function GB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,a0(t,a)))}}return e}function An(t,e,n){switch(e.type){case he.Trigger:return t.visitTrigger(e,n);case he.State:return t.visitState(e,n);case he.Transition:return t.visitTransition(e,n);case he.Sequence:return t.visitSequence(e,n);case he.Group:return t.visitGroup(e,n);case he.Animate:return t.visitAnimate(e,n);case he.Keyframes:return t.visitKeyframes(e,n);case he.Style:return t.visitStyle(e,n);case he.Reference:return t.visitReference(e,n);case he.AnimateChild:return t.visitAnimateChild(e,n);case he.AnimateRef:return t.visitAnimateRef(e,n);case he.Query:return t.visitQuery(e,n);case he.Stagger:return t.visitStagger(e,n);default:throw cB(e.type)}}function a0(t,e){return window.getComputedStyle(t)[e]}var WB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),mf=class extends is{normalizePropertyName(e,n){return s0(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(WB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(lB(e,r))}return s+o}};var gf="*";function KB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>QB(r,n,e)):n.push(t),n}function QB(t,e,n){if(t[0]==":"){let c=YB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(EB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(cA(i,s));let a=i==gf&&s==gf;o[0]=="<"&&!a&&e.push(cA(s,i))}function YB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(IB(t)),"* => *"}}var lf=new Set(["true","1"]),uf=new Set(["false","0"]);function cA(t,e){let n=lf.has(t)||uf.has(t),r=lf.has(e)||uf.has(e);return(i,o)=>{let s=t==gf||t==i,a=e==gf||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?lf.has(t):uf.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?lf.has(e):uf.has(e)),s&&a}}var bA=":self",XB=new RegExp(`s*${bA}s*,?`,"g");function TA(t,e,n,r){return new z_(t).build(e,n,r)}var lA="",z_=class{constructor(e){this._driver=e}build(e,n,r){let i=new q_(n);return this._resetContextStyleTimingState(i),An(this,ml(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lA,e.collectedStyles=new Map,e.collectedStyles.set(lA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(uB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==he.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==he.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(dB())}),{type:he.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{CA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(hB(e.name,[...o.values()]))}return{type:he.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=An(this,ml(e.animation),n),i=KB(e.expr,n.errors);return{type:he.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:ts(e.options)}}visitSequence(e,n){return{type:he.Sequence,steps:e.steps.map(r=>An(this,r,n)),options:ts(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=An(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:he.Group,steps:o,options:ts(e.options)}}visitAnimate(e,n){let r=t$(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:me({});if(o.type==he.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=me(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:he.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Fr?r.push(a):n.errors.push(fB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(EA)>=0){o=!0;break}}}),{type:he.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(pB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&HB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:he.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(mB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(x=>{let H=this._makeStyleAst(x,n),q=H.offset!=null?H.offset:e$(H.styles),m=0;return q!=null&&(o++,m=H.offset=q),c=c||m<0||m>1,a=a||m<l,l=m,s.push(m),H});c&&n.errors.push(gB()),a&&n.errors.push(vB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(yB()):o==0&&(h=i/(d-1));let p=d-1,y=n.currentTime,C=n.currentAnimateTimings,D=C.duration;return u.forEach((x,H)=>{let q=h>0?H==p?1:h*H:s[H],m=q*D;n.currentTime=y+C.delay+m,C.duration=m,this._validateStyleAst(x,n),x.offset=q,r.styles.push(x)}),r}visitReference(e,n){return{type:he.Reference,animation:An(this,ml(e.animation),n),options:ts(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:he.AnimateChild,options:ts(e.options)}}visitAnimateRef(e,n){return{type:he.AnimateRef,animation:this.visitReference(e.animation,n),options:ts(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=JB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,xn(n.collectedStyles,n.currentQuerySelector,new Map);let a=An(this,ml(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:he.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ts(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(_B());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:pf(e.timings,n.errors,!0);return{type:he.Stagger,animation:An(this,ml(e.animation),n),timings:r,options:null}}};function JB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==bA);return e&&(t=t.replace(XB,"")),t=t.replace(/@\*/g,ff).replace(/@\w+/g,n=>ff+"-"+n.slice(1)).replace(/:animating/g,B_),[t,e]}function ZB(t){return t?N({},t):null}var q_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function e$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function t$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=pf(t,e).duration;return k_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=k_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=pf(n,e);return k_(i.duration,i.delay,i.easing)}function ts(t){return t?(t=N({},t),t.params&&(t.params=ZB(t.params))):t={},t}function k_(t,e,n){return{duration:t,delay:e,easing:n}}function c0(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var yl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},n$=1,r$=":enter",i$=new RegExp(r$,"g"),o$=":leave",s$=new RegExp(o$,"g");function DA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new G_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var G_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new yl;let d=new W_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?gi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),An(this,r,d);let p=d.timelines.filter(y=>y.containsAnimation());if(p.length&&a.size){let y;for(let C=p.length-1;C>=0;C--){let D=p[C];if(D.element===n){y=D;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return p.length?p.map(y=>y.buildKeyframes()):[c0(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:gi(vl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?gi(r.duration):null,a=r.delay!=null?gi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),An(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==he.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vf);let s=gi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>An(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?gi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),An(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?vl(r,n.params,n.errors):r;return pf(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==he.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?gi(i.delay):0;o&&(n.previousNode.type===he.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),An(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;An(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},vf={},W_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new yf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=gi(r.duration)),r.delay!=null&&(i.delay=gi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=vl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new K_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(i$,"."+this._enterClassName),e=e.replace(s$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(wB(n)),a}},yf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=n$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Fr),this._currentKeyframe.set(n,Fr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=a$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=vl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===af?e.add(d):u===Fr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return c0(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},K_=class extends yf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",uA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),p=h.get("offset"),y=n+p*r;h.set("offset",uA(y/s)),o.push(h)}r=s,n=0,i="",e=o}return c0(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function uA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function a$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Fr)}else for(let[o,s]of i)n.set(o,s)}),n}function dA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var F_={},_f=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return c$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||F_,p=a&&a.params||F_,y=this.buildStyles(r,p,d),C=c&&c.params||F_,D=this.buildStyles(i,C,d),x=new Set,H=new Map,q=new Map,m=i==="void",Z={params:SA(C,h),delay:this.ast.options?.delay},M=u?[]:DA(e,n,this.ast.animation,o,s,y,D,Z,l,d),Q=0;return M.forEach(ue=>{Q=Math.max(ue.duration+ue.delay,Q)}),d.length?dA(n,this._triggerName,r,i,m,y,D,[],[],H,q,Q,d):(M.forEach(ue=>{let Ie=ue.element,De=xn(H,Ie,new Set);ue.preStyleProps.forEach(ke=>De.add(ke));let tt=xn(q,Ie,new Set);ue.postStyleProps.forEach(ke=>tt.add(ke)),Ie!==n&&x.add(Ie)}),dA(n,this._triggerName,r,i,m,y,D,M,[...x.values()],H,q,Q))}};function c$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function SA(t,e){let n=N({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Q_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=SA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=vl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function l$(t,e,n){return new Y_(t,e,n)}var Y_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Q_(i.style,o,r))}),hA(this.states,"true","1"),hA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new _f(e,i,this.states))}),this.fallbackTransition=u$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function u$(t,e,n){let r=[(s,a)=>!0],i={type:he.Sequence,steps:[],options:null},o={type:he.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new _f(t,o,e)}function hA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var d$=new yl,X_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=TA(this._driver,n,r,i);if(r.length)throw TB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=yA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=DA(this._driver,n,o,IA,U_,new Map,new Map,r,d$,i),s.forEach(u=>{let d=xn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(DB()),s=[]),i.length)throw SB(i);a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Fr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=eo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw AB(e);return n}listen(e,n,r,i){let o=r0(n,"","","");return n0(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},fA="ng-animate-queued",h$=".ng-animate-queued",V_="ng-animate-disabled",f$=".ng-animate-disabled",p$="ng-star-inserted",m$=".ng-star-inserted",g$=[],AA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},v$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sr="__ng_removed",_l=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=_$(i),r){let o=e,{value:s}=o,a=fp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},gl="void",L_=new _l(gl),J_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Un(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw xB(r,n);if(r==null||r.length==0)throw MB(n);if(!w$(r))throw PB(r,n);let o=xn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=xn(this._engine.statesByElement,e,new Map);return a.has(n)||(Un(e,cf),Un(e,cf+"-"+n),a.set(n,L_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw OB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new wl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Un(e,cf),Un(e,cf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new _l(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=L_),!(l.value===gl)&&c.value===l.value){if(!C$(c.params,l.params)){let C=[],D=o.matchStyles(c.value,c.params,C),x=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{ns(e,D),Vr(e,x)})}return}let h=xn(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let p=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!p){if(!i)return;p=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:p,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(Un(e,fA),s.onStart(()=>{ya(e,fA)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);let D=this._engine.playersByElement.get(e);if(D){let x=D.indexOf(s);x>=0&&D.splice(x,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ff,!0);r.forEach(i=>{if(i[sr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,gl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&eo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||L_,u=new _l(gl),d=new wl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[sr];(!o||o===AA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Un(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=r0(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,n0(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Z_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new J_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(df(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!df(n))return;let o=n[sr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Un(e,V_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ya(e,V_))}removeNode(e,n,r){if(df(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[sr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return df(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,ff,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,B_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[sr];if(n&&n.setForRemoval){if(e[sr]=AA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(V_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,f$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Un(i,p$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?eo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw RB(e)}_flushAnimations(e,n){let r=new yl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let $=this.driver.query(V,h$,!0);for(let z=0;z<$.length;z++)u.add($[z])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=gA(h,this.collectedEnterElements),y=new Map,C=0;p.forEach((V,$)=>{let z=IA+C++;y.set($,z),V.forEach(le=>Un(le,z))});let D=[],x=new Set,H=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let $=this.collectedLeaveElements[V],z=$[sr];z&&z.setForRemoval&&(D.push($),x.add($),z.hasAnimation?this.driver.query($,m$,!0).forEach(le=>x.add(le)):H.add($))}let q=new Map,m=gA(h,Array.from(x));m.forEach((V,$)=>{let z=U_+C++;q.set($,z),V.forEach(le=>Un(le,z))}),e.push(()=>{p.forEach((V,$)=>{let z=y.get($);V.forEach(le=>ya(le,z))}),m.forEach((V,$)=>{let z=q.get($);V.forEach(le=>ya(le,z))}),D.forEach(V=>{this.processLeaveNode(V)})});let Z=[],M=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach(z=>{let le=z.player,Le=z.element;if(Z.push(le),this.collectedEnterElements.length){let Xe=Le[sr];if(Xe&&Xe.setForMove){if(Xe.previousTriggersValues&&Xe.previousTriggersValues.has(z.triggerName)){let Vt=Xe.previousTriggersValues.get(z.triggerName),_t=this.statesByElement.get(z.element);if(_t&&_t.has(z.triggerName)){let En=_t.get(z.triggerName);En.value=Vt,_t.set(z.triggerName,En)}}le.destroy();return}}let Tt=!d||!this.driver.containsElement(d,Le),Ke=q.get(Le),Xt=y.get(Le),Se=this._buildInstruction(z,r,Xt,Ke,Tt);if(Se.errors&&Se.errors.length){M.push(Se);return}if(Tt){le.onStart(()=>ns(Le,Se.fromStyles)),le.onDestroy(()=>Vr(Le,Se.toStyles)),i.push(le);return}if(z.isFallbackTransition){le.onStart(()=>ns(Le,Se.fromStyles)),le.onDestroy(()=>Vr(Le,Se.toStyles)),i.push(le);return}let fn=[];Se.timelines.forEach(Xe=>{Xe.stretchStartingKeyframe=!0,this.disabledNodes.has(Xe.element)||fn.push(Xe)}),Se.timelines=fn,r.append(Le,Se.timelines);let Wn={instruction:Se,player:le,element:Le};s.push(Wn),Se.queriedElements.forEach(Xe=>xn(a,Xe,[]).push(le)),Se.preStyleProps.forEach((Xe,Vt)=>{if(Xe.size){let _t=c.get(Vt);_t||c.set(Vt,_t=new Set),Xe.forEach((En,pr)=>_t.add(pr))}}),Se.postStyleProps.forEach((Xe,Vt)=>{let _t=l.get(Vt);_t||l.set(Vt,_t=new Set),Xe.forEach((En,pr)=>_t.add(pr))})});if(M.length){let V=[];M.forEach($=>{V.push(NB($.triggerName,$.errors))}),Z.forEach($=>$.destroy()),this.reportError(V)}let Q=new Map,ue=new Map;s.forEach(V=>{let $=V.element;r.has($)&&(ue.set($,$),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,Q))}),i.forEach(V=>{let $=V.element;this._getPreviousPlayers($,!1,V.namespaceId,V.triggerName,null).forEach(le=>{xn(Q,$,[]).push(le),le.destroy()})});let Ie=D.filter(V=>vA(V,c,l)),De=new Map;mA(De,this.driver,H,l,Fr).forEach(V=>{vA(V,c,l)&&Ie.push(V)});let ke=new Map;p.forEach((V,$)=>{mA(ke,this.driver,new Set(V),c,af)}),Ie.forEach(V=>{let $=De.get(V),z=ke.get(V);De.set(V,new Map([...$?.entries()??[],...z?.entries()??[]]))});let $e=[],Qt=[],Yt={};s.forEach(V=>{let{element:$,player:z,instruction:le}=V;if(r.has($)){if(u.has($)){z.onDestroy(()=>Vr($,le.toStyles)),z.disabled=!0,z.overrideTotalTime(le.totalTime),i.push(z);return}let Le=Yt;if(ue.size>1){let Ke=$,Xt=[];for(;Ke=Ke.parentNode;){let Se=ue.get(Ke);if(Se){Le=Se;break}Xt.push(Ke)}Xt.forEach(Se=>ue.set(Se,Le))}let Tt=this._buildAnimation(z.namespaceId,le,Q,o,ke,De);if(z.setRealPlayer(Tt),Le===Yt)$e.push(z);else{let Ke=this.playersByElement.get(Le);Ke&&Ke.length&&(z.parentPlayer=eo(Ke)),i.push(z)}}else ns($,le.fromStyles),z.onDestroy(()=>Vr($,le.toStyles)),Qt.push(z),u.has($)&&i.push(z)}),Qt.forEach(V=>{let $=o.get(V.element);if($&&$.length){let z=eo($);V.setRealPlayer(z)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<D.length;V++){let $=D[V],z=$[sr];if(ya($,U_),z&&z.hasAnimation)continue;let le=[];if(a.size){let Tt=a.get($);Tt&&Tt.length&&le.push(...Tt);let Ke=this.driver.query($,B_,!0);for(let Xt=0;Xt<Ke.length;Xt++){let Se=a.get(Ke[Xt]);Se&&Se.length&&le.push(...Se)}}let Le=le.filter(Tt=>!Tt.destroyed);Le.length?E$(this,$,Le):this.processLeaveNode($)}return D.length=0,$e.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let $=this.players.indexOf(V);this.players.splice($,1)}),V.play()}),$e}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==gl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=xn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(p=>{let y=p.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),p.destroy(),d.push(p)})}ns(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(y=>{let C=y.element;u.add(C);let D=C[sr];if(D&&D.removedBeforeQueried)return new Zi(y.duration,y.delay);let x=C!==c,H=I$((r.get(C)||g$).map(Q=>Q.getRealPlayer())).filter(Q=>{let ue=Q;return ue.element?ue.element===C:!1}),q=o.get(C),m=s.get(C),Z=yA(this._normalizer,y.keyframes,q,m),M=this._buildPlayer(y,Z,H);if(y.subTimeline&&i&&d.add(C),x){let Q=new wl(e,a,C);Q.setRealPlayer(M),l.push(Q)}return M});l.forEach(y=>{xn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>y$(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Un(y,aA));let p=eo(h);return p.onDestroy(()=>{u.forEach(y=>ya(y,aA)),Vr(c,n.toStyles)}),d.forEach(y=>{xn(i,y,[]).push(p)}),p}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Zi(e.duration,e.delay)}},wl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>n0(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){xn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function y$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function _$(t){return t??null}function df(t){return t&&t.nodeType===1}function w$(t){return t=="start"||t=="done"}function pA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function mA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(pA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[sr]=v$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>pA(c,o[a++])),s}function gA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Un(t,e){t.classList?.add(e)}function ya(t,e){t.classList?.remove(e)}function E$(t,e,n){eo(n).onDone(()=>t.processLeaveNode(e))}function I$(t){let e=[];return xA(t,e),e}function xA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof pl?xA(r.players,e):e.push(r)}}function C$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function vA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var wa=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Z_(e.body,n,r,i),this._timelineEngine=new X_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=TA(this._driver,o,c,l);if(c.length)throw CB(i,c);l.length&&void 0,a=l$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=oA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=oA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function b$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=j_(e[0]),e.length>1&&(r=j_(e[e.length-1]))):e instanceof Map&&(n=j_(e)),n||r?new e0(t,n,r):null}var _a=class _a{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=_a.initialStylesByElement.get(e);i||_a.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Vr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vr(this._element,this._initialStyles),this._endStyles&&(Vr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_a.initialStylesByElement.delete(this._element),this._startStyles&&(ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),Vr(this._element,this._initialStyles),this._state=3)}};_a.initialStylesByElement=new WeakMap;var e0=_a;function j_(t){let e=null;return t.forEach((n,r)=>{T$(r)&&(e=e||new Map,e.set(r,n))}),e}function T$(t){return t==="display"||t==="position"}var wf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:a0(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ef=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return _A(e,n)}getParentElement(e){return i0(e)}query(e,n,r){return wA(e,n,r)}computeStyle(e,n,r){return a0(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(p=>p instanceof wf);qB(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((y,C)=>l.set(C,y))});let d=$B(n).map(p=>new Map(p));d=GB(e,d,l);let h=b$(e,d);return new wf(e,d,c,h)}};var hf="@",MA="@.disabled",If=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==hf&&n==MA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},t0=class extends If{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==hf?n.charAt(1)=="."&&n==MA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==hf){let i=D$(e),o=n.slice(1),s="";return o.charAt(0)!=hf&&([o,s]=S$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function D$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function S$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Cf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new If(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new t0(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var x$=(()=>{let e=class e extends wa{constructor(r,i,o){super(r,i,o,R(lc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(L(Ht),L(rs),L(is))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function M$(){return new mf}function P$(t,e,n){return new Cf(t,e,n)}var PA=[{provide:is,useFactory:M$},{provide:wa,useClass:x$},{provide:So,useFactory:P$,deps:[of,wa,Ce]}],O$=[{provide:rs,useFactory:()=>new Ef},{provide:yg,useValue:"BrowserAnimations"},...PA],VZ=[{provide:rs,useClass:o0},{provide:yg,useValue:"NoopAnimations"},...PA];function OA(){return Oo("NgEagerAnimations"),[...O$]}var fe="primary",kl=Symbol("RouteTitle"),p0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ta(t){return new p0(t)}function N$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function k$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}function Lr(t,e){let n=t?m0(t):void 0,r=e?m0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!LA(t[i],e[i]))return!1;return!0}function m0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jA(t){return t.length>0?t[t.length-1]:null}function io(t){return Rp(t)?t:Vo(t)?He(Promise.resolve(t)):ae(t)}var F$={exact:BA,subset:$A},UA={exact:V$,subset:L$,ignored:()=>!0};function RA(t,e,n){return F$[n.paths](t.root,e.root,n.matrixParams)&&UA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function V$(t,e){return Lr(t,e)}function BA(t,e,n){if(!ss(t.segments,e.segments)||!Df(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BA(t.children[r],e.children[r],n))return!1;return!0}function L$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LA(t[n],e[n]))}function $A(t,e,n){return HA(t,e,e.segments,n)}function HA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ss(i,n)||e.hasChildren()||!Df(i,n,r))}else if(t.segments.length===n.length){if(!ss(t.segments,n)||!Df(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$A(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ss(t.segments,i)||!Df(t.segments,i,r)||!t.children[fe]?!1:HA(t.children[fe],e,o,r)}}function Df(t,e,n){return e.every((r,i)=>UA[n](t[i].parameters,r.parameters))}var to=class{constructor(e=new Ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){return B$.serialize(this)}},Ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sf(this)}},os=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ta(this.parameters),this._parameterMap}toString(){return qA(this)}};function j$(t,e){return ss(t,e)&&t.every((n,r)=>Lr(n.parameters,e[r].parameters))}function ss(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function U$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var B0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new xf,providedIn:"root"});let t=e;return t})(),xf=class{parse(e){let n=new v0(e);return new to(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${El(e.root,!0)}`,r=z$(e.queryParams),i=typeof e.fragment=="string"?`#${$$(e.fragment)}`:"";return`${n}${r}${i}`}},B$=new xf;function Sf(t){return t.segments.map(e=>qA(e)).join("/")}function El(t,e){if(!t.hasChildren())return Sf(t);if(e){let n=t.children[fe]?El(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${El(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=U$(t,(r,i)=>i===fe?[El(t.children[fe],!1)]:[`${i}:${El(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${Sf(t)}/${n[0]}`:`${Sf(t)}/(${n.join("//")})`}}function zA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return zA(t).replace(/%3B/gi,";")}function $$(t){return encodeURI(t)}function g0(t){return zA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(t){return decodeURIComponent(t)}function NA(t){return Af(t.replace(/\+/g,"%20"))}function qA(t){return`${g0(t.path)}${H$(t.parameters)}`}function H$(t){return Object.entries(t).map(([e,n])=>`;${g0(e)}=${g0(n)}`).join("")}function z$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${bf(n)}=${bf(i)}`).join("&"):`${bf(n)}=${bf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var q$=/^[^\/()?;#]+/;function u0(t){let e=t.match(q$);return e?e[0]:""}var G$=/^[^\/()?;=#]+/;function W$(t){let e=t.match(G$);return e?e[0]:""}var K$=/^[^=?&#]+/;function Q$(t){let e=t.match(K$);return e?e[0]:""}var Y$=/^[^&#]+/;function X$(t){let e=t.match(Y$);return e?e[0]:""}var v0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Ve(e,n)),r}parseSegment(){let e=u0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new os(Af(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=W$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=u0(this.remaining);i&&(r=i,this.capture(r))}e[Af(n)]=Af(r)}parseQueryParam(e){let n=Q$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=X$(this.remaining);s&&(r=s,this.capture(r))}let i=NA(n),o=NA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=u0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function GA(t){return t.segments.length>0?new Ve([],{[fe]:t}):t}function WA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WA(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ve(t.segments,e);return J$(n)}function J$(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Ve(t.segments.concat(e.segments),e.children)}return t}function Da(t){return t instanceof to}function Z$(t,e,n=null,r=null){let i=KA(t);return QA(i,e,n,r)}function KA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ve(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=GA(r);return e??i}function QA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return d0(i,i,i,n,r);let o=e4(e);if(o.toRoot())return d0(i,i,new Ve([],{}),n,r);let s=t4(o,i,t),a=s.processChildren?bl(s.segmentGroup,s.index,o.commands):XA(s.segmentGroup,s.index,o.commands);return d0(i,s.segmentGroup,a,n,r)}function Mf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sl(t){return typeof t=="object"&&t!=null&&t.outlets}function d0(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=YA(t,e,n);let a=GA(WA(s));return new to(a,o,i)}function YA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YA(o,e,n)}),new Ve(t.segments,r)}var Pf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new O(4003,!1);let i=r.find(Sl);if(i&&i!==jA(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function e4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pf(n,e,r)}var Ca=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function t4(t,e,n){if(t.isAbsolute)return new Ca(e,!0,0);if(!n)return new Ca(e,!1,NaN);if(n.parent===null)return new Ca(n,!0,0);let r=Mf(t.commands[0])?0:1,i=n.segments.length-1+r;return n4(n,i,t.numberOfDoubleDots)}function n4(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function r4(t){return Sl(t[0])?t[0].outlets:{[fe]:t}}function XA(t,e,n){if(t??=new Ve([],{}),t.segments.length===0&&t.hasChildren())return bl(t,e,n);let r=i4(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ve(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Ve(t.segments.slice(r.pathIndex),t.children),bl(o,0,i)}else return r.match&&i.length===0?new Ve(t.segments,{}):r.match&&!t.hasChildren()?y0(t,e,n):r.match?bl(t,0,i):y0(t,e,n)}function bl(t,e,n){if(n.length===0)return new Ve(t.segments,{});{let r=r4(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=bl(t.children[fe],e,n);return new Ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ve(t.segments,i)}}function i4(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Sl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!FA(c,l,s))return o;r+=2}else{if(!FA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function y0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Sl(o)){let c=o4(o.outlets);return new Ve(r,c)}if(i===0&&Mf(n[0])){let c=t.segments[e];r.push(new os(c.path,kA(n[0]))),i++;continue}let s=Sl(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Mf(a)?(r.push(new os(s,kA(a))),i+=2):(r.push(new os(s,{})),i++)}return new Ve(r,{})}function o4(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=y0(new Ve([],{}),0,r))}),e}function kA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FA(t,e,n){return t==n.path&&Lr(e,n.parameters)}var Tl="imperative",Wt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Wt||{}),$n=class{constructor(e,n){this.id=e,this.url=n}},Al=class extends $n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},as=class extends $n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Bn||{}),_0=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_0||{}),no=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cs=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Wt.NavigationSkipped}},xl=class extends $n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Of=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w0=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E0=class extends $n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},I0=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},C0=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b0=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},T0=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},D0=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S0=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},A0=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},x0=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ml=class{},Pl=class{constructor(e){this.url=e}};var M0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Lf,this.attachRef=null}},Lf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new M0,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=P0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=P0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=O0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return O0(e,this._root).map(n=>n.value)}};function P0(t,e){if(t===e.value)return e;for(let n of e.children){let r=P0(t,n);if(r)return r}return null}function O0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=O0(t,n);if(r.length)return r.unshift(e),r}return[]}var Mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ia(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nf=class extends Rf{constructor(e,n){super(e),this.snapshot=n,H0(this,e)}toString(){return this.snapshot.toString()}};function JA(t){let e=s4(t),n=new jt([new os("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),s=new jt(""),a=new ro(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new Nf(new Mn(a,[]),e)}function s4(t){let e={},n={},r={},i="",o=new Ol([],e,r,i,n,fe,t,null,{});return new kf("",new Mn(o,[]))}var ro=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[kl]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),i?.data),t._resolvedData)}:r={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},i&&ex(i)&&(r.resolve[kl]=i.title),r}var Ol=class{get title(){return this.data?.[kl]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kf=class extends Rf{constructor(e,n){super(n),this.url=e,H0(this,n)}toString(){return ZA(this._root)}};function H0(t,e){e.value._routerState=t,e.children.forEach(n=>H0(t,n))}function ZA(t){let e=t.children.length>0?` { ${t.children.map(ZA).join(", ")} } `:"";return`${t.value}${e}`}function h0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Lr(e.params,n.params)||t.paramsSubject.next(n.params),k$(e.url,n.url)||t.urlSubject.next(n.url),Lr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function R0(t,e){let n=Lr(t.params,e.params)&&j$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||R0(t.parent,e.parent))}function ex(t){return typeof t.title=="string"||t.title===null}var z0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=R(Lf),this.location=R(Bt),this.changeDetector=R(Ar),this.environmentInjector=R(At),this.inputBinder=R(q0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new N0(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]});let t=e;return t})(),N0=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ro?this.route:e===Lf?this.childContexts:this.parent.get(e,n)}},q0=new K("");function a4(t,e,n){let r=Rl(t,e._root,n?n._root:void 0);return new Nf(r,e)}function Rl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=c4(t,e,n);return new Mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Rl(t,a)),s}}let r=l4(e.value),i=e.children.map(o=>Rl(t,o));return new Mn(r,i)}}function c4(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Rl(t,r,i);return Rl(t,r)})}function l4(t){return new ro(new jt(t.url),new jt(t.params),new jt(t.queryParams),new jt(t.fragment),new jt(t.data),t.outlet,t.component,t)}var tx="ngNavigationCancelingError";function nx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rx(!1,Bn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tx]=!0,n.cancellationCode=e,n}function u4(t){return ix(t)&&Da(t.url)}function ix(t){return!!t&&t[tx]}var d4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(i,o){i&1&&j(0,"router-outlet")},dependencies:[z0],encapsulation:2});let t=e;return t})();function h4(t,e){return t.providers&&!t._injector&&(t._injector=Ug(t.providers,e,`Route: ${t.path}`)),t._injector??e}function G0(t){let e=t.children&&t.children.map(G0),n=e?xe(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=d4),n}function jr(t){return t.outlet||fe}function f4(t,e){let n=t.filter(r=>jr(r)===e);return n.push(...t.filter(r=>jr(r)!==e)),n}function Fl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var p4=(t,e,n,r)=>ie(i=>(new k0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),k0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ia(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ia(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new x0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new S0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(h0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),h0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Fl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Ff=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ba=class{constructor(e,n){this.component=e,this.route=n}};function m4(t,e,n){let r=t._root,i=e?e._root:null;return Il(r,i,n,[r.value])}function g4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Aa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!HI(t)?t:e.get(t):r}function Il(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ia(e);return t.children.forEach(s=>{v4(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dl(a,n.getContext(s),i)),i}function v4(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=y4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ff(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Il(t,e,a?a.children:null,r,i):Il(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ba(a.outlet.component,s))}else s&&Dl(e,a,i),i.canActivateChecks.push(new Ff(r)),o.component?Il(t,null,a?a.children:null,r,i):Il(t,null,n,r,i);return i}function y4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ss(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ss(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R0(t,e)||!Lr(t.queryParams,e.queryParams);case"paramsChange":default:return!R0(t,e)}}function Dl(t,e,n){let r=Ia(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Dl(s,e.children.getContext(o),n):Dl(s,null,n):Dl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ba(e.outlet.component,i)):n.canDeactivateChecks.push(new ba(null,i)):n.canDeactivateChecks.push(new ba(null,i))}function Vl(t){return typeof t=="function"}function _4(t){return typeof t=="boolean"}function w4(t){return t&&Vl(t.canLoad)}function E4(t){return t&&Vl(t.canActivate)}function I4(t){return t&&Vl(t.canActivateChild)}function C4(t){return t&&Vl(t.canDeactivate)}function b4(t){return t&&Vl(t.canMatch)}function ox(t){return t instanceof Cn||t?.name==="EmptyError"}var Tf=Symbol("INITIAL_VALUE");function Sa(){return St(t=>Uu(t.map(e=>e.pipe(Gr(1),jp(Tf)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Tf)return Tf;if(n===!1||n instanceof to)return n}return!0}),Jt(e=>e!==Tf),Gr(1)))}function T4(t,e){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(xe(N({},n),{guardsResult:!0})):D4(s,r,i,t).pipe(ut(a=>a&&_4(a)?S4(r,o,t,e):ae(a)),ie(a=>xe(N({},n),{guardsResult:a})))})}function D4(t,e,n,r){return He(t).pipe(ut(i=>O4(i.component,i.route,n,e,r)),gr(i=>i!==!0,!0))}function S4(t,e,n,r){return He(e).pipe(Si(i=>ks(x4(i.route.parent,r),A4(i.route,r),P4(t,i.path,n),M4(t,i.route,n))),gr(i=>i!==!0,!0))}function A4(t,e){return t!==null&&e&&e(new A0(t)),ae(!0)}function x4(t,e){return t!==null&&e&&e(new D0(t)),ae(!0)}function M4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>Bu(()=>{let s=Fl(e)??n,a=Aa(o,s),c=E4(a)?a.canActivate(e,t):ti(s,()=>a(e,t));return io(c).pipe(gr())}));return ae(i).pipe(Sa())}function P4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>g4(s)).filter(s=>s!==null).map(s=>Bu(()=>{let a=s.guards.map(c=>{let l=Fl(s.node)??n,u=Aa(c,l),d=I4(u)?u.canActivateChild(r,t):ti(l,()=>u(r,t));return io(d).pipe(gr())});return ae(a).pipe(Sa())}));return ae(o).pipe(Sa())}function O4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Fl(e)??i,l=Aa(a,c),u=C4(l)?l.canDeactivate(t,e,n,r):ti(c,()=>l(t,e,n,r));return io(u).pipe(gr())});return ae(s).pipe(Sa())}function R4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Aa(s,t),c=w4(a)?a.canLoad(e,n):ti(t,()=>a(e,n));return io(c)});return ae(o).pipe(Sa(),sx(r))}function sx(t){return bp(dt(e=>{if(Da(e))throw nx(t,e)}),ie(e=>e===!0))}function N4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Aa(s,t),c=b4(a)?a.canMatch(e,n):ti(t,()=>a(e,n));return io(c)});return ae(o).pipe(Sa(),sx(r))}var Nl=class{constructor(e){this.segmentGroup=e||null}},Vf=class extends Error{constructor(e){super(),this.urlTree=e}};function Ea(t){return Di(new Nl(t))}function k4(t){return Di(new O(4e3,!1))}function F4(t){return Di(rx(!1,Bn.GuardRejected))}var F0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[fe])return k4(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Vf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new to(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},V0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V4(t,e,n,r,i){let o=W0(t,e,n);return o.matched?(r=h4(e,r),N4(r,e,n,i).pipe(ie(s=>s===!0?o:N({},V0)))):ae(o)}function W0(t,e,n){if(e.path==="**")return L4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},V0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N$)(n,t,e);if(!i)return N({},V0);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function L4(t){return{matched:!0,parameters:t.length>0?jA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VA(t,e,n,r){return n.length>0&&B4(t,n,r)?{segmentGroup:new Ve(e,U4(r,new Ve(n,t.children))),slicedSegments:[]}:n.length===0&&$4(t,n,r)?{segmentGroup:new Ve(t.segments,j4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ve(t.segments,t.children),slicedSegments:n}}function j4(t,e,n,r){let i={};for(let o of n)if(jf(t,e,o)&&!r[jr(o)]){let s=new Ve([],{});i[jr(o)]=s}return N(N({},r),i)}function U4(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&jr(r)!==fe){let i=new Ve([],{});n[jr(r)]=i}return n}function B4(t,e,n){return n.some(r=>jf(t,e,r)&&jr(r)!==fe)}function $4(t,e,n){return n.some(r=>jf(t,e,r))}function jf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function H4(t,e,n,r){return jr(t)!==r&&(r===fe||!jf(e,n,t))?!1:W0(e,t,n).matched}function z4(t,e,n){return e.length===0&&!t.children[n]}var L0=class{};function q4(t,e,n,r,i,o,s="emptyOnly"){return new j0(t,e,n,r,i,s,o).recognize()}var G4=31,j0=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new F0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=VA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Ol([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new Mn(r,n),o=new kf("",i),s=Z$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(Qn(r=>{if(r instanceof Vf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Nl?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=$0(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof Mn?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return He(i).pipe(Si(o=>{let s=r.children[o],a=f4(n,o);return this.processSegmentGroup(e,a,s,o)}),Lp((o,s)=>(o.push(...s),o)),Ai(null),Vp(),ut(o=>{if(o===null)return Ea(r);let s=ax(o);return W4(s),ae(s)}))}processSegment(e,n,r,i,o,s){return He(n).pipe(Si(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Qn(c=>{if(c instanceof Nl)return ae(null);throw c}))),gr(a=>!!a),Qn(a=>{if(ox(a))return z4(r,i,o)?ae(new L0):Ea(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return H4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ea(i):Ea(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=W0(n,i,o);if(!a)return Ea(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>G4&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ut(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=V4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(St(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,p=new Ol(u,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Q4(r),jr(r),r.component??r._loadedComponent??null,r,Y4(r)),{segmentGroup:y,slicedSegments:C}=VA(n,u,d,c);if(C.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(ie(x=>x===null?null:new Mn(p,x)));if(c.length===0&&C.length===0)return ae(new Mn(p,[]));let D=jr(r)===o;return this.processSegment(l,c,y,C,D?fe:o,!0).pipe(ie(x=>new Mn(p,x instanceof Mn?[x]:[])))}))):Ea(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):R4(e,n,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):F4(n))):ae({routes:[],injector:e})}};function W4(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function K4(t){let e=t.value.routeConfig;return e&&e.path===""}function ax(t){let e=[],n=new Set;for(let r of t){if(!K4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ax(r.children);e.push(new Mn(r.value,i))}return e.filter(r=>!n.has(r))}function Q4(t){return t.data||{}}function Y4(t){return t.resolve||{}}function X4(t,e,n,r,i,o){return ut(s=>q4(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>xe(N({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function J4(t,e){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of cx(c))s.add(l);let a=0;return He(s).pipe(Si(c=>o.has(c)?Z4(c,r,t,e):(c.data=$0(c,c.parent,t).resolve,ae(void 0))),dt(()=>a++),Vs(1),ut(c=>a===s.size?ae(n):pn))})}function cx(t){let e=t.children.map(n=>cx(n)).flat();return[t,...e]}function Z4(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ex(i)&&(o[kl]=i.title),eH(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=$0(t,t.parent,n).resolve,null)))}function eH(t,e,n,r){let i=m0(t);if(i.length===0)return ae({});let o={};return He(i).pipe(ut(s=>tH(t[s],e,n,r).pipe(gr(),dt(a=>{o[s]=a}))),Vs(1),Fp(o),Qn(s=>ox(s)?pn:Di(s)))}function tH(t,e,n,r){let i=Fl(e)??r,o=Aa(t,i),s=o.resolve?o.resolve(e,n):ti(i,()=>o(e,n));return io(s)}function f0(t){return St(e=>{let n=t(e);return n?He(n).pipe(ie(()=>e)):ae(e)})}var lx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[kl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(nH),providedIn:"root"});let t=e;return t})(),nH=(()=>{let e=class e extends lx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(eA))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uf=new K("",{providedIn:"root",factory:()=>({})}),K0=new K(""),rH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(qg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=io(r.loadComponent()).pipe(ie(ux),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vo(()=>{this.componentLoaders.delete(r)})),o=new As(i,()=>new Lt).pipe(Ss());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=iH(i,this.compiler,r,this.onLoadEndListener).pipe(vo(()=>{this.childrenLoaders.delete(i)})),a=new As(s,()=>new Lt).pipe(Ss());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iH(t,e,n,r){return io(t.loadChildren()).pipe(ie(ux),ut(i=>i instanceof uc||Array.isArray(i)?ae(i):He(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(K0,[],{optional:!0,self:!0}).flat()),{routes:s.map(G0),injector:o}}))}function oH(t){return t&&typeof t=="object"&&"default"in t}function ux(t){return oH(t)?t.default:t}var Q0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(sH),providedIn:"root"});let t=e;return t})(),sH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aH=new K("");var cH=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt,this.transitionAbortSubject=new Lt,this.configLoader=R(rH),this.environmentInjector=R(At),this.urlSerializer=R(B0),this.rootContexts=R(Lf),this.location=R(wc),this.inputBindingEnabled=R(q0,{optional:!0})!==null,this.titleStrategy=R(lx),this.options=R(Uf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Q0),this.createViewTransition=R(aH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=o=>this.events.next(new b0(o)),i=o=>this.events.next(new T0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(xe(N(N({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new jt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(s=>s.id!==0),ie(s=>xe(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),St(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(dt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?xe(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.rawUrl),h,_0.IgnoredSameUrlNavigation)),l.resolve(null),pn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(St(h=>{let p=this.transitions?.getValue();return this.events.next(new Al(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?pn:Promise.resolve(h)}),X4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=xe(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Of(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:C,extras:D}=l,x=new Al(h,this.urlSerializer.serialize(p),y,C);this.events.next(x);let H=JA(this.rootComponentType).snapshot;return this.currentTransition=s=xe(N({},l),{targetSnapshot:H,urlAfterRedirects:p,extras:xe(N({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ae(s)}else{let h="";return this.events.next(new cs(l.id,this.urlSerializer.serialize(l.extractedUrl),h,_0.IgnoredByUrlHandlingStrategy)),l.resolve(null),pn}}),dt(l=>{let u=new w0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=xe(N({},l),{guards:m4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),T4(this.environmentInjector,l=>this.events.next(l)),dt(l=>{if(s.guardsResult=l.guardsResult,Da(l.guardsResult))throw nx(this.urlSerializer,l.guardsResult);let u=new E0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Jt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Bn.GuardRejected),!1)),f0(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(dt(u=>{let d=new I0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),St(u=>{let d=!1;return ae(u).pipe(J4(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Bn.NoDataFromResolver)}}))}),dt(u=>{let d=new C0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),f0(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(dt(p=>{d.component=p}),ie(()=>{})));for(let p of d.children)h.push(...u(p));return h};return Uu(u(l.targetSnapshot.root)).pipe(Ai(null),Gr(1))}),f0(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?He(d).pipe(ie(()=>s)):ae(s)}),ie(l=>{let u=a4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=xe(N({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),dt(()=>{this.events.next(new Ml)}),p4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gr(1),dt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Yn(this.transitionAbortSubject.pipe(dt(l=>{throw l}))),vo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Bn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qn(l=>{if(c=!0,ix(l))this.events.next(new no(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),u4(l)?this.events.next(new Pl(l.url)):s.resolve(!1);else{this.events.next(new xl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return pn}))}))}cancelNavigationTransition(r,i,o){let s=new no(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lH(t){return t!==Tl}var uH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(dH),providedIn:"root"});let t=e;return t})(),U0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dH=(()=>{let e=class e extends U0{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>R(hH),providedIn:"root"});let t=e;return t})(),hH=(()=>{let e=class e extends dx{constructor(){super(...arguments),this.location=R(wc),this.urlSerializer=R(B0),this.options=R(Uf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Q0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new to,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Al)this.stateMemento=this.createStateMemento();else if(r instanceof cs)this.rawUrlTree=i.initialUrl;else if(r instanceof Of){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Ml?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof no&&(r.code===Bn.GuardRejected||r.code===Bn.NoDataFromResolver)?this.restoreHistory(i):r instanceof xl?this.restoreHistory(i,!0):r instanceof as&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=N(N({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Cl||{});function fH(t,e){t.events.pipe(Jt(n=>n instanceof as||n instanceof no||n instanceof xl||n instanceof cs),ie(n=>n instanceof as||n instanceof cs?Cl.COMPLETE:(n instanceof no?n.code===Bn.Redirect||n.code===Bn.SupersededByNewNavigation:!1)?Cl.REDIRECTING:Cl.FAILED),Jt(n=>n!==Cl.REDIRECTING),Gr(1)).subscribe(()=>{e()})}function pH(t){throw t}var mH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(Bd),this.stateManager=R(dx),this.options=R(Uf,{optional:!0})||{},this.pendingTasks=R(Ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(cH),this.urlSerializer=R(B0),this.location=R(wc),this.urlHandlingStrategy=R(Q0),this._events=new Lt,this.errorHandler=this.options.errorHandler||pH,this.navigated=!1,this.routeReuseStrategy=R(uH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R(K0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(q0,{optional:!0}),this.eventsSubscription=new lt,this.isNgZoneEnabled=R(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof no&&i.code!==Bn.Redirect&&i.code!==Bn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof as)this.navigated=!0;else if(i instanceof Pl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||lH(o.source)};this.scheduleNavigation(a,Tl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}yH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=N({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(G0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=o?o.snapshot:this.routerState.snapshot.root;h=KA(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return QA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Da(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Tl,null,i)}navigate(r,i={skipLocationChange:!1}){return vH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=N({},mH):i===!1?o=N({},gH):o=i,Da(r))return RA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return RA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,p)=>{c=h,l=p});let d=this.pendingTasks.add();return fH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function yH(t){return!(t instanceof Ml)&&!(t instanceof Pl)}var _H=new K("");function hx(t,...e){return Fi([{provide:K0,multi:!0,useValue:t},[],{provide:ro,useFactory:wH,deps:[wn]},{provide:$d,multi:!0,useFactory:IH},e.map(n=>n.\u0275providers)])}function wH(t){return t.routerState.root}function EH(t,e){return{\u0275kind:t,\u0275providers:e}}function IH(){let t=R(rt);return e=>{let n=t.get(Sr);if(e!==n.components[0])return;let r=t.get(wn),i=t.get(CH);t.get(bH)===1&&r.initialNavigation(),t.get(TH,null,ye.Optional)?.setUpPreloading(),t.get(_H,null,ye.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var CH=new K("",{factory:()=>new Lt}),bH=new K("",{providedIn:"root",factory:()=>1});var TH=new K("");function fx(t){return EH(5,[{provide:Uf,useValue:t}])}var ot="top",Ct="bottom",vt="right",pt="left",Bf="auto",oo=[ot,Ct,vt,pt],vi="start",ls="end",px="clippingParents",$f="viewport",xa="popper",mx="reference",X0=oo.reduce(function(t,e){return t.concat([e+"-"+vi,e+"-"+ls])},[]),Hf=[].concat(oo,[Bf]).reduce(function(t,e){return t.concat([e,e+"-"+vi,e+"-"+ls])},[]),DH="beforeRead",SH="read",AH="afterRead",xH="beforeMain",MH="main",PH="afterMain",OH="beforeWrite",RH="write",NH="afterWrite",gx=[DH,SH,AH,xH,MH,PH,OH,RH,NH];function Nt(t){return t?(t.nodeName||"").toLowerCase():null}function Ye(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Hn(t){var e=Ye(t).Element;return t instanceof e||t instanceof Element}function bt(t){var e=Ye(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ma(t){if(typeof ShadowRoot>"u")return!1;var e=Ye(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function kH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!bt(o)||!Nt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function FH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!bt(i)||!Nt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Ll={name:"applyStyles",enabled:!0,phase:"write",fn:kH,effect:FH,requires:["computeStyles"]};function kt(t){return t.split("-")[0]}var ar=Math.max,us=Math.min,yi=Math.round;function Pa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jl(){return!/^((?!chrome|android).)*safari/i.test(Pa())}function zn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&bt(t)&&(i=t.offsetWidth>0&&yi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&yi(r.height)/t.offsetHeight||1);var s=Hn(t)?Ye(t):window,a=s.visualViewport,c=!jl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function ds(t){var e=zn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ul(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ma(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dn(t){return Ye(t).getComputedStyle(t)}function J0(t){return["table","td","th"].indexOf(Nt(t))>=0}function Kt(t){return((Hn(t)?t.ownerDocument:t.document)||window.document).documentElement}function _i(t){return Nt(t)==="html"?t:t.assignedSlot||t.parentNode||(Ma(t)?t.host:null)||Kt(t)}function vx(t){return!bt(t)||dn(t).position==="fixed"?null:t.offsetParent}function VH(t){var e=/firefox/i.test(Pa()),n=/Trident/i.test(Pa());if(n&&bt(t)){var r=dn(t);if(r.position==="fixed")return null}var i=_i(t);for(Ma(i)&&(i=i.host);bt(i)&&["html","body"].indexOf(Nt(i))<0;){var o=dn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function cr(t){for(var e=Ye(t),n=vx(t);n&&J0(n)&&dn(n).position==="static";)n=vx(n);return n&&(Nt(n)==="html"||Nt(n)==="body"&&dn(n).position==="static")?e:n||VH(t)||e}function hs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fs(t,e,n){return ar(t,us(e,n))}function yx(t,e,n){var r=fs(t,e,n);return r>n?n:r}function Bl(){return{top:0,right:0,bottom:0,left:0}}function $l(t){return Object.assign({},Bl(),t)}function Hl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var LH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$l(typeof e!="number"?e:Hl(e,oo))};function jH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=kt(n.placement),c=hs(a),l=[pt,vt].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=LH(i.padding,n),h=ds(o),p=c==="y"?ot:pt,y=c==="y"?Ct:vt,C=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],D=s[c]-n.rects.reference[c],x=cr(o),H=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,q=C/2-D/2,m=d[p],Z=H-h[u]-d[y],M=H/2-h[u]/2+q,Q=fs(m,M,Z),ue=c;n.modifiersData[r]=(e={},e[ue]=Q,e.centerOffset=Q-M,e)}}function UH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ul(e.elements.popper,i)&&(e.elements.arrow=i))}var _x={name:"arrow",enabled:!0,phase:"main",fn:jH,effect:UH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qn(t){return t.split("-")[1]}var BH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $H(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:yi(n*i)/i||0,y:yi(r*i)/i||0}}function wx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,y=s.y,C=y===void 0?0:y,D=typeof u=="function"?u({x:p,y:C}):{x:p,y:C};p=D.x,C=D.y;var x=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),q=pt,m=ot,Z=window;if(l){var M=cr(n),Q="clientHeight",ue="clientWidth";if(M===Ye(n)&&(M=Kt(n),dn(M).position!=="static"&&a==="absolute"&&(Q="scrollHeight",ue="scrollWidth")),M=M,i===ot||(i===pt||i===vt)&&o===ls){m=Ct;var Ie=d&&M===Z&&Z.visualViewport?Z.visualViewport.height:M[Q];C-=Ie-r.height,C*=c?1:-1}if(i===pt||(i===ot||i===Ct)&&o===ls){q=vt;var De=d&&M===Z&&Z.visualViewport?Z.visualViewport.width:M[ue];p-=De-r.width,p*=c?1:-1}}var tt=Object.assign({position:a},l&&BH),ke=u===!0?$H({x:p,y:C},Ye(n)):{x:p,y:C};if(p=ke.x,C=ke.y,c){var $e;return Object.assign({},tt,($e={},$e[m]=H?"0":"",$e[q]=x?"0":"",$e.transform=(Z.devicePixelRatio||1)<=1?"translate("+p+"px, "+C+"px)":"translate3d("+p+"px, "+C+"px, 0)",$e))}return Object.assign({},tt,(e={},e[m]=H?C+"px":"",e[q]=x?p+"px":"",e.transform="",e))}function HH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:kt(e.placement),variation:qn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ex={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HH,data:{}};var zf={passive:!0};function zH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ye(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,zf)}),a&&c.addEventListener("resize",n.update,zf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,zf)}),a&&c.removeEventListener("resize",n.update,zf)}}var Ix={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zH,data:{}};var qH={left:"right",right:"left",bottom:"top",top:"bottom"};function Oa(t){return t.replace(/left|right|bottom|top/g,function(e){return qH[e]})}var GH={start:"end",end:"start"};function qf(t){return t.replace(/start|end/g,function(e){return GH[e]})}function ps(t){var e=Ye(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ms(t){return zn(Kt(t)).left+ps(t).scrollLeft}function Z0(t,e){var n=Ye(t),r=Kt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=jl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+ms(t),y:c}}function ew(t){var e,n=Kt(t),r=ps(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ar(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ar(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ms(t),c=-r.scrollTop;return dn(i||n).direction==="rtl"&&(a+=ar(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function gs(t){var e=dn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Gf(t){return["html","body","#document"].indexOf(Nt(t))>=0?t.ownerDocument.body:bt(t)&&gs(t)?t:Gf(_i(t))}function so(t,e){var n;e===void 0&&(e=[]);var r=Gf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ye(r),s=i?[o].concat(o.visualViewport||[],gs(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(so(_i(s)))}function Ra(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function WH(t,e){var n=zn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Cx(t,e,n){return e===$f?Ra(Z0(t,n)):Hn(e)?WH(e,n):Ra(ew(Kt(t)))}function KH(t){var e=so(_i(t)),n=["absolute","fixed"].indexOf(dn(t).position)>=0,r=n&&bt(t)?cr(t):t;return Hn(r)?e.filter(function(i){return Hn(i)&&Ul(i,r)&&Nt(i)!=="body"}):[]}function tw(t,e,n,r){var i=e==="clippingParents"?KH(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=Cx(t,l,r);return c.top=ar(u.top,c.top),c.right=us(u.right,c.right),c.bottom=us(u.bottom,c.bottom),c.left=ar(u.left,c.left),c},Cx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zl(t){var e=t.reference,n=t.element,r=t.placement,i=r?kt(r):null,o=r?qn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case ot:c={x:s,y:e.y-n.height};break;case Ct:c={x:s,y:e.y+e.height};break;case vt:c={x:e.x+e.width,y:a};break;case pt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?hs(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case vi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case ls:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function lr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?px:a,l=n.rootBoundary,u=l===void 0?$f:l,d=n.elementContext,h=d===void 0?xa:d,p=n.altBoundary,y=p===void 0?!1:p,C=n.padding,D=C===void 0?0:C,x=$l(typeof D!="number"?D:Hl(D,oo)),H=h===xa?mx:xa,q=t.rects.popper,m=t.elements[y?H:h],Z=tw(Hn(m)?m:m.contextElement||Kt(t.elements.popper),c,u,s),M=zn(t.elements.reference),Q=zl({reference:M,element:q,strategy:"absolute",placement:i}),ue=Ra(Object.assign({},q,Q)),Ie=h===xa?ue:M,De={top:Z.top-Ie.top+x.top,bottom:Ie.bottom-Z.bottom+x.bottom,left:Z.left-Ie.left+x.left,right:Ie.right-Z.right+x.right},tt=t.modifiersData.offset;if(h===xa&&tt){var ke=tt[i];Object.keys(De).forEach(function($e){var Qt=[vt,Ct].indexOf($e)>=0?1:-1,Yt=[ot,Ct].indexOf($e)>=0?"y":"x";De[$e]+=ke[Yt]*Qt})}return De}function nw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Hf:c,u=qn(r),d=u?a?X0:X0.filter(function(y){return qn(y)===u}):oo,h=d.filter(function(y){return l.indexOf(y)>=0});h.length===0&&(h=d);var p=h.reduce(function(y,C){return y[C]=lr(t,{placement:C,boundary:i,rootBoundary:o,padding:s})[kt(C)],y},{});return Object.keys(p).sort(function(y,C){return p[y]-p[C]})}function QH(t){if(kt(t)===Bf)return[];var e=Oa(t);return[qf(t),e,qf(e)]}function YH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,y=p===void 0?!0:p,C=n.allowedAutoPlacements,D=e.options.placement,x=kt(D),H=x===D,q=c||(H||!y?[Oa(D)]:QH(D)),m=[D].concat(q).reduce(function(Se,fn){return Se.concat(kt(fn)===Bf?nw(e,{placement:fn,boundary:u,rootBoundary:d,padding:l,flipVariations:y,allowedAutoPlacements:C}):fn)},[]),Z=e.rects.reference,M=e.rects.popper,Q=new Map,ue=!0,Ie=m[0],De=0;De<m.length;De++){var tt=m[De],ke=kt(tt),$e=qn(tt)===vi,Qt=[ot,Ct].indexOf(ke)>=0,Yt=Qt?"width":"height",V=lr(e,{placement:tt,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),$=Qt?$e?vt:pt:$e?Ct:ot;Z[Yt]>M[Yt]&&($=Oa($));var z=Oa($),le=[];if(o&&le.push(V[ke]<=0),a&&le.push(V[$]<=0,V[z]<=0),le.every(function(Se){return Se})){Ie=tt,ue=!1;break}Q.set(tt,le)}if(ue)for(var Le=y?3:1,Tt=function(fn){var Wn=m.find(function(Xe){var Vt=Q.get(Xe);if(Vt)return Vt.slice(0,fn).every(function(_t){return _t})});if(Wn)return Ie=Wn,"break"},Ke=Le;Ke>0;Ke--){var Xt=Tt(Ke);if(Xt==="break")break}e.placement!==Ie&&(e.modifiersData[r]._skip=!0,e.placement=Ie,e.reset=!0)}}var bx={name:"flip",enabled:!0,phase:"main",fn:YH,requiresIfExists:["offset"],data:{_skip:!1}};function Tx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Dx(t){return[ot,vt,Ct,pt].some(function(e){return t[e]>=0})}function XH(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=lr(e,{elementContext:"reference"}),a=lr(e,{altBoundary:!0}),c=Tx(s,r),l=Tx(a,i,o),u=Dx(c),d=Dx(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Sx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XH};function JH(t,e,n){var r=kt(t),i=[pt,ot].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[pt,vt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function ZH(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Hf.reduce(function(u,d){return u[d]=JH(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var Ax={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZH};function ez(t){var e=t.state,n=t.name;e.modifiersData[n]=zl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var xx={name:"popperOffsets",enabled:!0,phase:"read",fn:ez,data:{}};function rw(t){return t==="x"?"y":"x"}function tz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,y=n.tetherOffset,C=y===void 0?0:y,D=lr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),x=kt(e.placement),H=qn(e.placement),q=!H,m=hs(x),Z=rw(m),M=e.modifiersData.popperOffsets,Q=e.rects.reference,ue=e.rects.popper,Ie=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,De=typeof Ie=="number"?{mainAxis:Ie,altAxis:Ie}:Object.assign({mainAxis:0,altAxis:0},Ie),tt=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ke={x:0,y:0};if(M){if(o){var $e,Qt=m==="y"?ot:pt,Yt=m==="y"?Ct:vt,V=m==="y"?"height":"width",$=M[m],z=$+D[Qt],le=$-D[Yt],Le=p?-ue[V]/2:0,Tt=H===vi?Q[V]:ue[V],Ke=H===vi?-ue[V]:-Q[V],Xt=e.elements.arrow,Se=p&&Xt?ds(Xt):{width:0,height:0},fn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Bl(),Wn=fn[Qt],Xe=fn[Yt],Vt=fs(0,Q[V],Se[V]),_t=q?Q[V]/2-Le-Vt-Wn-De.mainAxis:Tt-Vt-Wn-De.mainAxis,En=q?-Q[V]/2+Le+Vt+Xe+De.mainAxis:Ke+Vt+Xe+De.mainAxis,pr=e.elements.arrow&&cr(e.elements.arrow),nu=pr?m==="y"?pr.clientTop||0:pr.clientLeft||0:0,Ha=($e=tt?.[m])!=null?$e:0,ru=$+_t-Ha-nu,iu=$+En-Ha,za=fs(p?us(z,ru):z,$,p?ar(le,iu):le);M[m]=za,ke[m]=za-$}if(a){var qa,ou=m==="x"?ot:pt,su=m==="x"?Ct:vt,qr=M[Z],wi=Z==="y"?"height":"width",Ga=qr+D[ou],uo=qr-D[su],Wa=[ot,pt].indexOf(x)!==-1,au=(qa=tt?.[Z])!=null?qa:0,cu=Wa?Ga:qr-Q[wi]-ue[wi]-au+De.altAxis,lu=Wa?qr+Q[wi]+ue[wi]-au-De.altAxis:uo,uu=p&&Wa?yx(cu,qr,lu):fs(p?cu:Ga,qr,p?lu:uo);M[Z]=uu,ke[Z]=uu-qr}e.modifiersData[r]=ke}}var Mx={name:"preventOverflow",enabled:!0,phase:"main",fn:tz,requiresIfExists:["offset"]};function iw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ow(t){return t===Ye(t)||!bt(t)?ps(t):iw(t)}function nz(t){var e=t.getBoundingClientRect(),n=yi(e.width)/t.offsetWidth||1,r=yi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sw(t,e,n){n===void 0&&(n=!1);var r=bt(e),i=bt(e)&&nz(e),o=Kt(e),s=zn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Nt(e)!=="body"||gs(o))&&(a=ow(e)),bt(e)?(c=zn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=ms(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function rz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function aw(t){var e=rz(t);return gx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function cw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Px={placement:"bottom",modifiers:[],strategy:"absolute"};function Ox(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Px:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Px,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,p={state:u,setOptions:function(x){var H=typeof x=="function"?x(u.options):x;C(),u.options=Object.assign({},o,u.options,H),u.scrollParents={reference:Hn(a)?so(a):a.contextElement?so(a.contextElement):[],popper:so(c)};var q=aw(lw([].concat(r,u.options.modifiers)));return u.orderedModifiers=q.filter(function(m){return m.enabled}),y(),p.update()},forceUpdate:function(){if(!h){var x=u.elements,H=x.reference,q=x.popper;if(Ox(H,q)){u.rects={reference:sw(H,cr(q),u.options.strategy==="fixed"),popper:ds(q)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(De){return u.modifiersData[De.name]=Object.assign({},De.data)});for(var m=0;m<u.orderedModifiers.length;m++){if(u.reset===!0){u.reset=!1,m=-1;continue}var Z=u.orderedModifiers[m],M=Z.fn,Q=Z.options,ue=Q===void 0?{}:Q,Ie=Z.name;typeof M=="function"&&(u=M({state:u,options:ue,name:Ie,instance:p})||u)}}}},update:cw(function(){return new Promise(function(D){p.forceUpdate(),D(u)})}),destroy:function(){C(),h=!0}};if(!Ox(a,c))return p;p.setOptions(l).then(function(D){!h&&l.onFirstUpdate&&l.onFirstUpdate(D)});function y(){u.orderedModifiers.forEach(function(D){var x=D.name,H=D.options,q=H===void 0?{}:H,m=D.effect;if(typeof m=="function"){var Z=m({state:u,name:x,instance:p,options:q}),M=function(){};d.push(Z||M)}})}function C(){d.forEach(function(D){return D()}),d=[]}return p}}var iz=[Ix,xx,Ex,Ll,Ax,bx,Mx,_x,Sx],uw=Rx({defaultModifiers:iz});var oz="tippy-box",Hx="tippy-content",sz="tippy-backdrop",zx="tippy-arrow",qx="tippy-svg-arrow",vs={passive:!0,capture:!0},Gx=function(){return document.body};function dw(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function vw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Wx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Nx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function az(t){return t.split(/\s+/).filter(Boolean)}function Na(t){return[].concat(t)}function kx(t,e){t.indexOf(e)===-1&&t.push(e)}function cz(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function lz(t){return t.split("-")[0]}function Kf(t){return[].slice.call(t)}function Fx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ql(){return document.createElement("div")}function Qf(t){return["Element","Fragment"].some(function(e){return vw(t,e)})}function uz(t){return vw(t,"NodeList")}function dz(t){return vw(t,"MouseEvent")}function hz(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function fz(t){return Qf(t)?[t]:uz(t)?Kf(t):Array.isArray(t)?t:Kf(document.querySelectorAll(t))}function hw(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Vx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function pz(t){var e,n=Na(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function mz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=lz(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,p=l==="right"?u.left.x:0,y=l==="left"?u.right.x:0,C=o.top-r+d>c,D=r-o.bottom-h>c,x=o.left-n+p>c,H=n-o.right-y>c;return C||D||x||H})}function fw(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Lx(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ur={isTouch:!1},jx=0;function gz(){Ur.isTouch||(Ur.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kx))}function Kx(){var t=performance.now();t-jx<20&&(Ur.isTouch=!1,document.removeEventListener("mousemove",Kx)),jx=t}function vz(){var t=document.activeElement;if(hz(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function yz(){document.addEventListener("touchstart",gz,vs),window.addEventListener("blur",vz)}var _z=typeof window<"u"&&typeof document<"u",wz=_z?!!window.msCrypto:!1;var Ez={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Iz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ur=Object.assign({appendTo:Gx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ez,Iz),Cz=Object.keys(ur),bz=function(e){var n=Object.keys(e);n.forEach(function(r){ur[r]=e[r]})};function Qx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=ur[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function Tz(t,e){var n=e?Object.keys(Qx(Object.assign({},ur,{plugins:e}))):Cz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Ux(t,e){var n=Object.assign({},e,{content:Wx(e.content,[t])},e.ignoreAttributes?{}:Tz(t,e.plugins));return n.aria=Object.assign({},ur.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Dz=function(){return"innerHTML"};function mw(t,e){t[Dz()]=e}function Bx(t){var e=ql();return t===!0?e.className=zx:(e.className=qx,Qf(t)?e.appendChild(t):mw(e,t)),e}function $x(t,e){Qf(e.content)?(mw(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?mw(t,e.content):t.textContent=e.content)}function gw(t){var e=t.firstElementChild,n=Kf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Hx)}),arrow:n.find(function(r){return r.classList.contains(zx)||r.classList.contains(qx)}),backdrop:n.find(function(r){return r.classList.contains(sz)})}}function Yx(t){var e=ql(),n=ql();n.className=oz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ql();r.className=Hx,r.setAttribute("data-state","hidden"),$x(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=gw(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&$x(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Bx(s.arrow))):c.appendChild(Bx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}Yx.$$tippy=!0;var Sz=1,Wf=[],pw=[];function Az(t,e){var n=Ux(t,Object.assign({},ur,Qx(Fx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,p=[],y=Nx(ru,n.interactiveDebounce),C,D=Sz++,x=null,H=cz(n.plugins),q={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:D,reference:t,popper:ql(),popperInstance:x,props:n,state:q,plugins:H,clearDelayTimeouts:cu,setProps:lu,setContent:uu,show:vP,hide:yP,hideWithInteractivity:_P,enable:Wa,disable:au,unmount:wP,destroy:EP};if(!n.render)return m;var Z=n.render(m),M=Z.popper,Q=Z.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+m.id,m.popper=M,t._tippy=m,M._tippy=m;var ue=H.map(function(T){return T.fn(m)}),Ie=t.hasAttribute("aria-expanded");return pr(),Le(),$(),z("onCreate",[m]),n.showOnCreate&&Ga(),M.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&Qt().addEventListener("mousemove",y)}),m;function De(){var T=m.props.touch;return Array.isArray(T)?T:[T,0]}function tt(){return De()[0]==="hold"}function ke(){var T;return!!((T=m.props.render)!=null&&T.$$tippy)}function $e(){return C||t}function Qt(){var T=$e().parentNode;return T?pz(T):document}function Yt(){return gw(M)}function V(T){return m.state.isMounted&&!m.state.isVisible||Ur.isTouch||u&&u.type==="focus"?0:dw(m.props.delay,T?0:1,ur.delay)}function $(T){T===void 0&&(T=!1),M.style.pointerEvents=m.props.interactive&&!T?"":"none",M.style.zIndex=""+m.props.zIndex}function z(T,W,oe){if(oe===void 0&&(oe=!0),ue.forEach(function(Ae){Ae[T]&&Ae[T].apply(Ae,W)}),oe){var je;(je=m.props)[T].apply(je,W)}}function le(){var T=m.props.aria;if(T.content){var W="aria-"+T.content,oe=M.id,je=Na(m.props.triggerTarget||t);je.forEach(function(Ae){var nn=Ae.getAttribute(W);if(m.state.isVisible)Ae.setAttribute(W,nn?nn+" "+oe:oe);else{var On=nn&&nn.replace(oe,"").trim();On?Ae.setAttribute(W,On):Ae.removeAttribute(W)}})}}function Le(){if(!(Ie||!m.props.aria.expanded)){var T=Na(m.props.triggerTarget||t);T.forEach(function(W){m.props.interactive?W.setAttribute("aria-expanded",m.state.isVisible&&W===$e()?"true":"false"):W.removeAttribute("aria-expanded")})}}function Tt(){Qt().removeEventListener("mousemove",y),Wf=Wf.filter(function(T){return T!==y})}function Ke(T){if(!(Ur.isTouch&&(c||T.type==="mousedown"))){var W=T.composedPath&&T.composedPath()[0]||T.target;if(!(m.props.interactive&&Lx(M,W))){if(Na(m.props.triggerTarget||t).some(function(oe){return Lx(oe,W)})){if(Ur.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[m,T]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),a=!0,setTimeout(function(){a=!1}),m.state.isMounted||Wn())}}}function Xt(){c=!0}function Se(){c=!1}function fn(){var T=Qt();T.addEventListener("mousedown",Ke,!0),T.addEventListener("touchend",Ke,vs),T.addEventListener("touchstart",Se,vs),T.addEventListener("touchmove",Xt,vs)}function Wn(){var T=Qt();T.removeEventListener("mousedown",Ke,!0),T.removeEventListener("touchend",Ke,vs),T.removeEventListener("touchstart",Se,vs),T.removeEventListener("touchmove",Xt,vs)}function Xe(T,W){_t(T,function(){!m.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&W()})}function Vt(T,W){_t(T,W)}function _t(T,W){var oe=Yt().box;function je(Ae){Ae.target===oe&&(fw(oe,"remove",je),W())}if(T===0)return W();fw(oe,"remove",d),fw(oe,"add",je),d=je}function En(T,W,oe){oe===void 0&&(oe=!1);var je=Na(m.props.triggerTarget||t);je.forEach(function(Ae){Ae.addEventListener(T,W,oe),p.push({node:Ae,eventType:T,handler:W,options:oe})})}function pr(){tt()&&(En("touchstart",Ha,{passive:!0}),En("touchend",iu,{passive:!0})),az(m.props.trigger).forEach(function(T){if(T!=="manual")switch(En(T,Ha),T){case"mouseenter":En("mouseleave",iu);break;case"focus":En(wz?"focusout":"blur",za);break;case"focusin":En("focusout",za);break}})}function nu(){p.forEach(function(T){var W=T.node,oe=T.eventType,je=T.handler,Ae=T.options;W.removeEventListener(oe,je,Ae)}),p=[]}function Ha(T){var W,oe=!1;if(!(!m.state.isEnabled||qa(T)||a)){var je=((W=u)==null?void 0:W.type)==="focus";u=T,C=T.currentTarget,Le(),!m.state.isVisible&&dz(T)&&Wf.forEach(function(Ae){return Ae(T)}),T.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||s)&&m.props.hideOnClick!==!1&&m.state.isVisible?oe=!0:Ga(T),T.type==="click"&&(s=!oe),oe&&!je&&uo(T)}}function ru(T){var W=T.target,oe=$e().contains(W)||M.contains(W);if(!(T.type==="mousemove"&&oe)){var je=wi().concat(M).map(function(Ae){var nn,On=Ae._tippy,ws=(nn=On.popperInstance)==null?void 0:nn.state;return ws?{popperRect:Ae.getBoundingClientRect(),popperState:ws,props:n}:null}).filter(Boolean);mz(je,T)&&(Tt(),uo(T))}}function iu(T){var W=qa(T)||m.props.trigger.indexOf("click")>=0&&s;if(!W){if(m.props.interactive){m.hideWithInteractivity(T);return}uo(T)}}function za(T){m.props.trigger.indexOf("focusin")<0&&T.target!==$e()||m.props.interactive&&T.relatedTarget&&M.contains(T.relatedTarget)||uo(T)}function qa(T){return Ur.isTouch?tt()!==T.type.indexOf("touch")>=0:!1}function ou(){su();var T=m.props,W=T.popperOptions,oe=T.placement,je=T.offset,Ae=T.getReferenceClientRect,nn=T.moveTransition,On=ke()?gw(M).arrow:null,ws=Ae?{getBoundingClientRect:Ae,contextElement:Ae.contextElement||$e()}:t,Lw={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(du){var Es=du.state;if(ke()){var IP=Yt(),hp=IP.box;["placement","reference-hidden","escaped"].forEach(function(hu){hu==="placement"?hp.setAttribute("data-placement",Es.placement):Es.attributes.popper["data-popper-"+hu]?hp.setAttribute("data-"+hu,""):hp.removeAttribute("data-"+hu)}),Es.attributes.popper={}}}},ho=[{name:"offset",options:{offset:je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!nn}},Lw];ke()&&On&&ho.push({name:"arrow",options:{element:On,padding:3}}),ho.push.apply(ho,W?.modifiers||[]),m.popperInstance=uw(ws,M,Object.assign({},W,{placement:oe,onFirstUpdate:h,modifiers:ho}))}function su(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function qr(){var T=m.props.appendTo,W,oe=$e();m.props.interactive&&T===Gx||T==="parent"?W=oe.parentNode:W=Wx(T,[oe]),W.contains(M)||W.appendChild(M),m.state.isMounted=!0,ou()}function wi(){return Kf(M.querySelectorAll("[data-tippy-root]"))}function Ga(T){m.clearDelayTimeouts(),T&&z("onTrigger",[m,T]),fn();var W=V(!0),oe=De(),je=oe[0],Ae=oe[1];Ur.isTouch&&je==="hold"&&Ae&&(W=Ae),W?r=setTimeout(function(){m.show()},W):m.show()}function uo(T){if(m.clearDelayTimeouts(),z("onUntrigger",[m,T]),!m.state.isVisible){Wn();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(T.type)>=0&&s)){var W=V(!1);W?i=setTimeout(function(){m.state.isVisible&&m.hide()},W):o=requestAnimationFrame(function(){m.hide()})}}function Wa(){m.state.isEnabled=!0}function au(){m.hide(),m.state.isEnabled=!1}function cu(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function lu(T){if(!m.state.isDestroyed){z("onBeforeUpdate",[m,T]),nu();var W=m.props,oe=Ux(t,Object.assign({},W,Fx(T),{ignoreAttributes:!0}));m.props=oe,pr(),W.interactiveDebounce!==oe.interactiveDebounce&&(Tt(),y=Nx(ru,oe.interactiveDebounce)),W.triggerTarget&&!oe.triggerTarget?Na(W.triggerTarget).forEach(function(je){je.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),Le(),$(),Q&&Q(W,oe),m.popperInstance&&(ou(),wi().forEach(function(je){requestAnimationFrame(je._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[m,T])}}function uu(T){m.setProps({content:T})}function vP(){var T=m.state.isVisible,W=m.state.isDestroyed,oe=!m.state.isEnabled,je=Ur.isTouch&&!m.props.touch,Ae=dw(m.props.duration,0,ur.duration);if(!(T||W||oe||je)&&!$e().hasAttribute("disabled")&&(z("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,ke()&&(M.style.visibility="visible"),$(),fn(),m.state.isMounted||(M.style.transition="none"),ke()){var nn=Yt(),On=nn.box,ws=nn.content;hw([On,ws],0)}h=function(){var ho;if(!(!m.state.isVisible||l)){if(l=!0,M.offsetHeight,M.style.transition=m.props.moveTransition,ke()&&m.props.animation){var dp=Yt(),du=dp.box,Es=dp.content;hw([du,Es],Ae),Vx([du,Es],"visible")}le(),Le(),kx(pw,m),(ho=m.popperInstance)==null||ho.forceUpdate(),z("onMount",[m]),m.props.animation&&ke()&&Vt(Ae,function(){m.state.isShown=!0,z("onShown",[m])})}},qr()}}function yP(){var T=!m.state.isVisible,W=m.state.isDestroyed,oe=!m.state.isEnabled,je=dw(m.props.duration,1,ur.duration);if(!(T||W||oe)&&(z("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,l=!1,s=!1,ke()&&(M.style.visibility="hidden"),Tt(),Wn(),$(!0),ke()){var Ae=Yt(),nn=Ae.box,On=Ae.content;m.props.animation&&(hw([nn,On],je),Vx([nn,On],"hidden"))}le(),Le(),m.props.animation?ke()&&Xe(je,m.unmount):m.unmount()}}function _P(T){Qt().addEventListener("mousemove",y),kx(Wf,y),y(T)}function wP(){m.state.isVisible&&m.hide(),m.state.isMounted&&(su(),wi().forEach(function(T){T._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),pw=pw.filter(function(T){return T!==m}),m.state.isMounted=!1,z("onHidden",[m]))}function EP(){m.state.isDestroyed||(m.clearDelayTimeouts(),m.unmount(),nu(),delete t._tippy,m.state.isDestroyed=!0,z("onDestroy",[m]))}}function Gl(t,e){e===void 0&&(e={});var n=ur.plugins.concat(e.plugins||[]);yz();var r=Object.assign({},e,{plugins:n}),i=fz(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&Az(l,r);return u&&c.push(u),c},[]);return Qf(t)?a[0]:a}Gl.defaultProps=ur;Gl.setDefaultProps=bz;Gl.currentInput=Ur;var sie=Object.assign({},Ll,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Gl.setDefaultProps({render:Yx});var yw=Gl;var _w=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Hd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function Yf(t){return t instanceof tr}function Wl(t){return typeof t=="function"}function Kl(t){return typeof t=="string"}var ww=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},Ew=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},xz=new K("Component context"),Iw=(()=>{let e=class e{constructor(){this.injector=R(rt),this.appRef=R(Sr),this.environmentInjector=R(At)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=si(i.context),o=rt.create({providers:[{provide:xz,useValue:s.asReadonly()}],parent:o})),new _w({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new ww({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(Yf(r))return this.createTemplate(r,i);if(Wl(r))return this.createComponent(r,i);if(Kl(r))return new Ew(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jx=!1,Zx=!1;typeof window<"u"&&(Jx="IntersectionObserver"in window,Zx="ResizeObserver"in window);function Xx(t,e={root:null,threshold:.3}){let n=rM(t);return new se(r=>{if(!Jx){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function eM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function Pz(t){let e=rM(t);return tM(e).pipe(kp(150),ie(()=>eM(e)))}function tM(t){return Oz(t)}function Oz(t){return new se(e=>{if(!Zx){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Ql(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function nM(t){return(Nz(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function Rz(t){return kz(t)?"":typeof t=="string"?t:`${t}px`}function Nz(t){return typeof t=="string"}function kz(t){return t==null}function rM(t){return t instanceof Je?t.nativeElement:t}var Cw,bw=new WeakMap;function Fz(t,e){return Cw??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||bw.get(r.target)()})}),bw.set(t,e),Cw.observe(t),()=>{bw.delete(t),Cw.unobserve(t)}}var Tw=new K("Tippy config",{providedIn:"root",factory(){return{}}}),iM=new K("TIPPY_REF"),tn=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new nt,this.destroyed=new Lt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Lt,this.contentChanged=new Lt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;Xf("content",r)&&this.contentChanged.next(),Xf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=N(N({},this.globalConfig.variations[o]),i)),Xf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),Xf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Xx(this.host).pipe(St(()=>this.isOverflowing$()),Yn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):Xx(this.host).pipe(Yn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Yn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Yn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=Fz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(N(N({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Ql(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=yw(this.host,xe(N(N(N({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Ql(this.globalConfig)),Ql(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of nM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);Kl(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!Kl(this.content)){let o=rt.create({providers:[{provide:iM,useValue:this.instance}],parent:this.injector});Wl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):Yf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,N({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Wl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),Kl(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){Fs(this.host,"contextmenu").pipe(Yn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Fs(document.body,"keydown").pipe(Jt(({code:r})=>r==="Escape"),Yn(Za(this.destroyed,this.visibleInternal.pipe(Jt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){tM(this.host).pipe(Yn(Za(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=Rz(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return Ec(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[Pz(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(St(()=>new se(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>eM(this.host)))),Za(...r)}};e.\u0275fac=function(i){return new(i||e)(b(Nn),b(Tw),b(rt),b(Iw),b(Bt),b(Ce),b(Je))},e.\u0275dir=Ge({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Fn],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",Fn],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Fn],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Fn],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Fn],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Fn],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",Fn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[jd,ni]});let t=e;return t})();function Xf(t,e){return t in e}var oM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=xe(N(N(N({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=rt.create({providers:[{provide:iM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,Yf(i)?c.$viewOptions.context=N({$implicit:c.hide.bind(c)},o.context):Wl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,N(N({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Ql(this.globalConfig)),this.globalConfig.variations[s]),Ql(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of nM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return yw(r,a)}};e.\u0275fac=function(i){return new(i||e)(L(Tw),L(Iw),L(rt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sM(t={}){return Fi([{provide:Tw,useValue:t}])}var Br=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}abort(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.abort(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var Lz=500,hn=Lz+"ms ease",Aie=jn("skip",[ft(":enter",[])]),ka=jn("fade",[ft(":enter",[me({opacity:0}),It(hn,me({opacity:1}))]),ft(":leave",[me({opacity:1,"pointer-events":"none"}),It(hn,me({opacity:0}))])]),xie=jn("scalefade",[ft(":enter",[me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),It(hn,me({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),ft(":leave",[me({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),It(hn,me({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),aM=jn("crossfade",[ft(":enter",[me({opacity:0}),It(hn,me({opacity:1}))]),ft(":leave",[me({opacity:1,"pointer-events":"none",position:"absolute"}),It(hn,me({opacity:0}))])]),cM=jn("enter",[ft(":enter",[me({opacity:0}),It(hn,me({opacity:1}))])]),Mie=jn("leave",[ft(":leave",[me({opacity:1}),It(hn,me({opacity:0}))])]),Pie=jn("hidden",[ft("* => true",[me({opacity:"*"}),It(hn,me({opacity:0}))]),ft("true => *",[me({opacity:0}),It(hn,me({opacity:"*"}))])]),ao=jn("drawer2",[rA("0",me({height:0})),ft("1 => void",[]),ft("1 => *",[me({height:"*"}),It(hn,me({height:0}))]),ft("0 => void",[me({height:0}),It(hn,me({height:0}))]),ft("0 => *",[me({height:0}),It(hn,me({height:"*"}))])]),lM=jn("drawer",[ft(":enter",[me({height:0,opacity:0}),It(hn,me({height:"*",opacity:"*"}))]),ft(":leave",[me({height:"*",opacity:"*"}),It(hn,me({height:0,opacity:0}))])]);var B=class t{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n){let i=e.length;if(Array.isArray(n)){if(n.length>0)if(r){let o=e.map(s=>r(s));for(let s of n.map(a=>r(a)))this._remove(e,s,o)}else for(let o of n)this._remove(e,o)}else r?this._remove(e,r(n),e.map(o=>r(o))):this._remove(e,n);return e.length!=i}}static _remove(e,n,r){let i=(r||e).indexOf(n);i!=-1&&(r?.splice(i,1),e.splice(i,1))}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static intersection(e,n){return t.isEmpty(e)?[]:t.isEmpty(n)?[]:e.filter(r=>n.includes(r))}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){e&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){e&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}static except(e,...n){return e||(e=[]),e.filter(r=>!n.includes(r))}};var Fa=(()=>{let e=class e{constructor(){this.stack=[]}register(r){B.makeFirst(this.stack,r)}unregister(r){B.remove(this.stack,r)}next(r){let i=r.target.nodeName;if(!["BODY","VIDEO"].includes(i))switch(r.key){case"Enter":B.getFirst(this.stack)?.processKeyboardShortcut(r);break;case"Escape":document.activeElement.blur();break}else B.getFirst(this.stack)?.processKeyboardShortcut(r)}requestFocus(r){B.makeFirst(this.stack,r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var st=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=si(void 0),this.changes=si(void 0),this.errors=si(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mt=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};var jz=["content"];function Uz(t,e){if(t&1){let n=X();f(0,"div",6,7),I("click",function(){S(n);let i=w(2);return A(i.overlayClick())}),g()}}function Bz(t,e){if(t&1){let n=X();f(0,"i",13),I("click",function(){S(n);let i=w(3);return A(i.contentComponentInstance.close())}),g()}}function $z(t,e){if(t&1){let n=X();f(0,"div",8,9),I("mousedown",function(i){S(n);let o=Ze(1),s=w(2);return A(s.onHeaderMouseDown(i,o))}),f(2,"span",10),P(3),g(),f(4,"div",11),k(5,Bz,1,0,"i",12),g()()}if(t&2){let n=w(2);v(3),Ee(n.getTitle()),v(2),_("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function Hz(t,e){if(t&1&&(Pe(0),j(1,"div",3),k(2,Uz,2,0,"div",4)(3,$z,6,2,"div",5),Oe()),t&2){let n=w();v(2),_("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),v(),_("ngIf",n.contentComponentInstance.configuration.title)}}function zz(t,e){t&1&&(f(0,"div",14),Bg(1,null,15),g())}function qz(t,e){if(t&1){let n=X();f(0,"i",20),I("click",function(){S(n);let i=w(2).$implicit;return A(i.click&&i.click())}),g()}if(t&2){let n=w(2).$implicit,r=w(2);wb("icon-button "+r.getButtonIconClass(n)),_e("disabled",r.isDisabled(n))}}function Gz(t,e){if(t&1){let n=X();f(0,"div",21),I("click",function(){S(n);let i=w(2).$implicit;return A(i.click&&i.click())}),P(1),g()}if(t&2){let n=w(2).$implicit,r=w(2);_e("disabled",r.isDisabled(n)),v(),Ee(r.getButtonText(n))}}function Wz(t,e){if(t&1&&(Pe(0),k(1,qz,1,4,"i",18)(2,Gz,2,3,"div",19),Oe()),t&2){let n=w().$implicit;v(),_("ngIf",n.iconClass),v(),_("ngIf",n.text)}}function Kz(t,e){if(t&1&&(Pe(0),k(1,Wz,3,2,"ng-container",0),Oe()),t&2){let n=e.$implicit,r=w(2);v(),_("ngIf",!r.isHidden(n))}}function Qz(t,e){if(t&1&&(f(0,"div",16),k(1,Kz,2,1,"ng-container",17),g()),t&2){let n=w();v(),_("ngForOf",n.contentComponentInstance.configuration.buttons)}}var uM=(()=>{let e=class e{constructor(r,i,o){this.elementRef=r,this.dialogService=i,this.keyboardShortcutService=o,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(s=>this.resolve=s)}ngAfterViewInit(){mt.isLargeScreen()&&(this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"))));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.keyboardShortcutService.register(this.contentComponentInstance),this.result.finally(()=>{this.keyboardShortcutService.unregister(this.contentComponentInstance),r.destroy()}),r.changeDetectorRef.detectChanges()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getTitle(){let r=this.contentComponentInstance.configuration;return typeof r.title=="function"?r.title():r.title}getButtonText(r){return typeof r.text=="function"?r.text():r.text}getButtonIconClass(r){return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,this.top!==void 0&&localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),this.left!==void 0&&localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.containerComponentInstances.indexOf(this);for(let i=r;i<this.dialogService.containerComponentInstances.length;i++){let o=this.dialogService.containerComponentInstances[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}onScreenResize(r){mt.isLargeScreen()||(this.top=null,this.left=null)}onClick(r){this.keyboardShortcutService.requestFocus(this.contentComponentInstance)}};e.\u0275fac=function(i){return new(i||e)(b(Je),b(at),b(Fa))},e.\u0275cmp=G({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&Sb(jz,5,Bt),i&2){let s;Hg(s=zg())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&I("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,bg)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,bg)("resize",function(a){return o.onScreenResize(a)},!1,Rd)("click",function(a){return o.onClick(a)}),i&2&&($t("top",o.top,"px")("left",o.left,"px"),_e("border-warning",o.borderWarning))},standalone:!0,features:[Y],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],[1,"flex","gap"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&k(0,Hz,4,2,"ng-container",0)(1,zz,3,0,"div",1)(2,Qz,2,1,"div",2),i&2&&(_("ngIf",o.contentComponentInstance),v(),_("ngIf",o.contentComponentType),v(),_("ngIf",o.contentComponentInstance))},dependencies:[J,Fe,be],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200;min-width:300px}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - .9999999999rem);max-height:calc(100% - .9999999999rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:var(--color-dialog-background);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var Ft=class{submit(){this.close()}processKeyboardShortcut(e){switch(e.key){case"Enter":this.submit();return;case"Escape":this.close();return}}};function Yz(t,e){if(t&1&&(f(0,"span"),P(1),g()),t&2){let n=e.$implicit;v(),Ee(n)}}var dM=(()=>{let e=class e extends Ft{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText||"Yes",click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText||"No",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[Qe,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),k(1,Yz,2,1,"span",1),g()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[J,Fe],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var wM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(b(oi),b(Je))},e.\u0275dir=Ge({type:e});let t=e;return t})(),Pw=(()=>{let e=class e extends wM{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,features:[Qe]});let t=e;return t})(),tp=new K("");var Xz={provide:tp,useExisting:Mo(()=>La),multi:!0};function Jz(){let t=ci()?ci().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Zz=new K(""),La=(()=>{let e=class e extends wM{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Jz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(b(oi),b(Je),b(Zz,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[yc([Xz]),Qe]});let t=e;return t})();var eq=new K(""),tq=new K("");function EM(t){return t!=null}function IM(t){return Vo(t)?He(t):t}function CM(t){let e={};return t.forEach(n=>{e=n!=null?N(N({},e),n):e}),Object.keys(e).length===0?null:e}function bM(t,e){return e.map(n=>n(t))}function nq(t){return!t.validate}function TM(t){return t.map(e=>nq(e)?e:n=>e.validate(n))}function rq(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){return CM(bM(n,e))}}function DM(t){return t!=null?rq(TM(t)):null}function iq(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){let r=bM(n,e).map(IM);return Np(r).pipe(ie(CM))}}function SM(t){return t!=null?iq(TM(t)):null}function hM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oq(t){return t._rawValidators}function sq(t){return t._rawAsyncValidators}function Sw(t){return t?Array.isArray(t)?t:[t]:[]}function Zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function fM(t,e){let n=Sw(e);return Sw(t).forEach(i=>{Zf(n,i)||n.push(i)}),n}function pM(t,e){return Sw(e).filter(n=>!Zf(t,n))}var ep=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Aw=class extends ep{get formDirective(){return null}get path(){return null}},Jl=class extends ep{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xw=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},aq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},doe=xe(N({},aq),{"[class.ng-submitted]":"isSubmitted"}),ja=(()=>{let e=class e extends xw{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(b(Jl,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&_e("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Qe]});let t=e;return t})();var Yl="VALID",Jf="INVALID",Va="PENDING",Xl="DISABLED";function cq(t){return(np(t)?t.validators:t)||null}function lq(t){return Array.isArray(t)?DM(t):t||null}function uq(t,e){return(np(e)?e.asyncValidators:t)||null}function dq(t){return Array.isArray(t)?SM(t):t||null}function np(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Mw=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yl}get invalid(){return this.status===Jf}get pending(){return this.status==Va}get disabled(){return this.status===Xl}get enabled(){return this.status!==Xl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pM(e,this._rawAsyncValidators))}hasValidator(e){return Zf(this._rawValidators,e)}hasAsyncValidator(e){return Zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Va,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xl,this.errors=null,this._forEachChild(r=>{r.disable(xe(N({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Yl,this._forEachChild(r=>{r.enable(xe(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xe(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yl||this.status===Va)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xl:Yl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Va,this._hasOwnPendingAsyncValidator=!0;let n=IM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Xl:this.errors?Jf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Va)?Va:this._anyControlsHaveStatus(Jf)?Jf:Yl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){np(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dq(this._rawAsyncValidators)}};var AM=new K("CallSetDisabledState",{providedIn:"root",factory:()=>Ow}),Ow="always";function hq(t,e){return[...e.path,t]}function fq(t,e,n=Ow){mq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gq(t,e),yq(t,e),vq(t,e),pq(t,e)}function mM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function mq(t,e){let n=oq(t);e.validator!==null?t.setValidators(hM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sq(t);e.asyncValidator!==null?t.setAsyncValidators(hM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();mM(e._rawValidators,i),mM(e._rawAsyncValidators,i)}function gq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xM(t,e)})}function vq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _q(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function wq(t){return Object.getPrototypeOf(t.constructor)===Pw}function Eq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===La?n=o:wq(o)?r=o:i=o}),i||r||n||null}function gM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Iq=class extends Mw{constructor(e=null,n,r){super(cq(n),uq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),np(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Cq={provide:Jl,useExisting:Mo(()=>ys)},yM=Promise.resolve(),ys=(()=>{let e=class e extends Jl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Iq,this._registered=!1,this.name="",this.update=new nt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Eq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),_q(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){yM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Fn(i);yM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?hq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(b(Aw,9),b(eq,10),b(tq,10),b(tp,10),b(Ar,8),b(AM,8))},e.\u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yc([Cq]),Qe,ni]});let t=e;return t})();var bq={provide:tp,useExisting:Mo(()=>rp),multi:!0};function MM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Tq(t){return t.split(":")[0]}var rp=(()=>{let e=class e extends Pw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=MM(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Tq(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yc([bq]),Qe]});let t=e;return t})(),PM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(MM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(b(Je),b(oi),b(rp,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Dq={provide:tp,useExisting:Mo(()=>OM),multi:!0};function _M(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Sq(t){return t.split(":")[0]}var OM=(()=>{let e=class e extends Pw{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Sq(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[yc([Dq]),Qe]});let t=e;return t})(),RM=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(_M(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(_M(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(b(Je),b(oi),b(OM,9))},e.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Aq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({});let t=e;return t})();var Gn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:AM,useValue:r.callSetDisabledState??Ow}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=sn({type:e}),e.\u0275inj=an({imports:[Aq]});let t=e;return t})();var yt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var NM=(()=>{let e=class e extends Ft{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return!(yt.isEmpty(this.value)||this.inputs.validationFn&&!this.inputs.validationFn(this.value))}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[Qe,Y],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(f(0,"input",0),Fo("ngModelChange",function(a){return ea(o.value,a)||(o.value=a),a}),g()),i&2&&(ko("ngModel",o.value),_("placeholder",o.inputs.placeholder))},dependencies:[J,Gn,La,ja,ys],styles:["[_nghost-%COMP%]{display:block;width:650px;padding:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function xq(t,e){if(t&1&&(f(0,"span"),P(1),g()),t&2){let n=e.$implicit;v(),Ee(n)}}var kM=(()=>{let e=class e extends Ft{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[Qe,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(f(0,"div",0),k(1,xq,2,1,"span",1),g()),i&2&&(v(),_("ngForOf",o.inputs.messages))},dependencies:[J,Fe],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem}"]});let t=e;return t})();function Mq(t,e){if(t&1&&(f(0,"option",3),P(1),g()),t&2){let n=w();_("ngValue",null)("selected",!n.value),v(),Vi("== ",n.inputs.nullOption," ==")}}function Pq(t,e){if(t&1&&(f(0,"option",3),P(1),g()),t&2){let n=e.$implicit,r=w();_("ngValue",n)("selected",r.value===n),v(),Ee(r.inputs.getText(n))}}var FM=(()=>{let e=class e extends Ft{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText||"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}canSubmit(){return this.inputs.nullOption!=null||this.value!=null}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ln(e)))(o||e)}})(),e.\u0275cmp=G({type:e,selectors:[["app-select-dialog"]],standalone:!0,features:[Qe,Y],decls:3,vars:3,consts:[[3,"ngModel","ngModelChange"],[3,"ngValue","selected",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[3,"ngValue","selected"]],template:function(i,o){i&1&&(f(0,"select",0),Fo("ngModelChange",function(a){return ea(o.value,a)||(o.value=a),a}),k(1,Mq,2,3,"option",1)(2,Pq,2,3,"option",2),g()),i&2&&(ko("ngModel",o.value),v(),_("ngIf",o.inputs.nullOption),v(),_("ngForOf",o.inputs.options))},dependencies:[J,Fe,be,Gn,PM,RM,rp,ja,ys],styles:["[_nghost-%COMP%]{display:block;padding:.3333333333rem}"]});let t=e;return t})();var at=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.containerComponentInstances=[]}createMessage(r){return this.create(kM,r)}createConfirmation(r){return this.create(dM,r)}createInput(r){return this.create(NM,r)}createSelect(r){return this.create(FM,r)}create(r,i){let o=B.getLast(this.containerComponentInstances.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=Hd(uM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{B.remove(this.containerComponentInstances,a),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.containerComponentInstances.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(L(Sr),L(At))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Oq(t,e){t&1&&j(0,"div",3),t&2&&_("@fade",void 0)}function Rq(t,e){t&1&&j(0,"span",4),t&2&&_("@fade",void 0)}var VM=(()=>{let e=class e{constructor(r,i,o){this.keyboardShortcutService=r,this.applicationService=i,this.dialogService=o,this.hideLoadingBarDelay=new Br(1500),ai(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}onKeyDown(r){this.keyboardShortcutService.next(r)}};e.\u0275fac=function(i){return new(i||e)(b(Fa),b(st),b(at))},e.\u0275cmp=G({type:e,selectors:[["app-root"]],hostBindings:function(i,o){i&1&&I("keydown",function(a){return o.onKeyDown(a)},!1,Rd)},standalone:!0,features:[Y],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(k(0,Oq,1,1,"div",0),j(1,"div",1),k(2,Rq,1,1,"span",2),j(3,"router-outlet")),i&2&&(_("ngIf",o.isBlurOverlayVisible()),v(),$t("background-color",o.getLoadingBarColor()),v(),_("ngIf",o.applicationService.loading()))},dependencies:[J,be,z0],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[ka]}});let t=e;return t})();var Pn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Ua=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return gn(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return gn(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return gn(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return gn(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return gn(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return gn(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}download(e){return E(this,null,function*(){let n="https://www.googleapis.com/drive/v3/files/"+e.id,r=yield gn(this.http.get(n,{params:{alt:"media"},responseType:"blob"})),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return gn(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?gn(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):gn(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var $r=(()=>{let e=class e extends Ua{constructor(r){super(r),this.http=r,this.FIELDS="id,name,mimeType,thumbnailLink,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return E(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield gn(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return E(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(L(jo))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nq(t,e){if(t&1){let n=X();f(0,"span",6),I("click",function(){let o=S(n).$implicit,s=w(2);return A(s.onDataFileClick(o))}),P(1),g()}if(t&2){let n=e.$implicit;v(),Ee(n.name.substring(0,n.name.length-10))}}function kq(t,e){if(t&1){let n=X();f(0,"span",6),I("click",function(){let o=S(n).$implicit,s=w(2);return A(s.onFolderClick(o))}),P(1),g()}if(t&2){let n=e.$implicit;v(),Ee(n.name)}}function Fq(t,e){if(t&1&&(f(0,"div",4),k(1,Nq,2,1,"span",5)(2,kq,2,1,"span",5),g()),t&2){let n=w();v(),_("ngForOf",n.dataFiles),v(),_("ngForOf",n.folders)}}var LM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return E(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Pn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return E(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(b(wn),b($r),b(st))},e.\u0275cmp=G({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),k(1,Fq,3,2,"div",1),f(2,"div",2)(3,"i",3),I("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),g()()()),i&2&&(_e("opacity-100",!o.applicationService.loading()),v(),_("ngIf",!0),v(2),_("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[J,gt,Fe,be],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var Be=class t{static collectParents(e,n=[]){return e.parent&&(n.unshift(e.parent),t.collectParents(e.parent,n)),n}static collectChildren(e,n=[]){if(e.children.length>0)for(let r of e.children)n.push(r),t.collectChildren(r,n);return n}static getCompleteName(e,n=" - "){return this.collectParents(e).concat(e).map(r=>r.name).join(n)}static getDepth(e){return this.collectParents(e).length}};var Nw=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var ip=class{};var op=class{};var sp=class extends op{};var jM=(()=>{let e=class e{constructor(){this.valueChange=new nt}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-checkbox"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},standalone:!0,features:[Y],decls:1,vars:1,consts:[[1,"cursor-pointer","fa-regular",3,"ngClass","click"]],template:function(i,o){i&1&&(f(0,"i",0),I("click",function(){return o.value=!o.value,o.valueChange.emit(o.value)}),g()),i&2&&_("ngClass",o.value?"fa-circle-check":"fa-circle")},dependencies:[J,gt]});let t=e;return t})();function Vq(t,e){if(t&1){let n=X();Pe(0),f(1,"div",1)(2,"span",2),P(3,"Dark Mode"),g(),f(4,"app-checkbox",3),I("valueChange",function(){S(n);let i=w();return A(i.applicationService.toggleTheme())}),g()(),j(5,"div",4),f(6,"div",1)(7,"span",2),P(8,"Show Tag Count"),g(),f(9,"app-checkbox",3),I("valueChange",function(i){S(n);let o=w();return A(o.onShowTagCountValueChange(i))}),g()(),j(10,"div",4),f(11,"div",1)(12,"span",2),P(13,"Show Videos"),g(),f(14,"app-checkbox",3),I("valueChange",function(i){S(n);let o=w();return A(o.onShowVideosValueChange(i))}),g()(),j(15,"div",4),f(16,"div",1)(17,"span",2),P(18,"Auto Bookmark"),g(),f(19,"app-checkbox",3),I("valueChange",function(i){S(n);let o=w();return A(o.onAutoBookmarkValueChange(i))}),g()(),j(20,"div",4),f(21,"div",5),I("click",function(){S(n);let i=w();return A(i.bookmarkImages())}),P(22,"Bookmark All Images"),g(),f(23,"div",5),I("click",function(){S(n);let i=w();return A(i.resetDialogPositions())}),P(24,"Reset Dialog Positions"),g(),Oe()}if(t&2){let n=w();v(4),_("value",n.applicationService.isDarkTheme()),v(5),_("value",n.stateService.settings.showTagCount),v(5),_("value",n.stateService.settings.showVideos),v(5),_("value",n.stateService.settings.autoBookmark)}}var ap=(()=>{let e=class e extends Ft{constructor(r,i,o){super(),this.dialogService=r,this.applicationService=i,this.stateService=o,this.configuration={title:"Settings",buttons:[{text:()=>"Save",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowTagCountValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.showTagCount=r}onShowVideosValueChange(r){this.needsDataUpdate=!0,this.needsFilterRefresh=!0,this.stateService.settings.showVideos=r}onAutoBookmarkValueChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r}bookmarkImages(){this.dialogService.createConfirmation({title:"Confirmation: Bookmark All Images",messages:["Are you sure you want to bookmark all images?"]}).then(r=>{r&&(this.stateService.images.forEach(i=>i.bookmark=!0),this.stateService.updateFilters(),this.stateService.save())})}resetDialogPositions(){this.dialogService.containerComponentInstances.forEach(r=>{r.top=null,r.left=null});for(let r=0;r<localStorage.length;r++){let i=localStorage.key(r);(i.endsWith(".top")||i.endsWith(".left"))&&localStorage.removeItem(i)}}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(b(at),b(st),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[Qe,Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"option-container"],[1,"nowrap","user-select-none"],[3,"value","valueChange"],[1,"h-separator"],[1,"button","action-button",3,"click"]],template:function(i,o){i&1&&k(0,Vq,25,4,"ng-container",0),i&2&&_("ngIf",o.stateService.settings)},dependencies:[J,be,jM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}[_nghost-%COMP%] > .option-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:.3333333333rem}"]});let t=e;return t})();var ct=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new Br(5e3),this.images=[],this.filter=si([]),this.target=si(null),this.tagManagerVisible=mt.isLargeScreen(),this.filterFavorite={},this.filterBookmark={},this.filterGroups={},this.filterVisible=mt.isLargeScreen()}processData(){return E(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter||0,this.filterBookmark.state=r.bookmarksFilter||0,this.filterGroups.state=r.filterGroups||0,this.comparison=r.comparison,r.imageProperties||(r.imageProperties=[]),r.groupProperties||(r.groupProperties=[]),r.tagProperties||(r.tagProperties=[]),this.tags=r.tagProperties.map(o=>this.parseTag(o)),this.tags.forEach(o=>o.children=r.tagProperties.find(s=>s.id==o.id).childIds.map(s=>this.tags.find(a=>a.id==s))),this.tags.forEach(o=>o.parent=this.tags.find(s=>s.children.includes(o))),r.settings?this.settings=r.settings:yield this.dialogService.create(ap);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),B.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new ip;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s}),this.updateFilters(),this.applicationService.loading.set(!1),r.settings||this.save()})}processImages(r,i,o,s){return E(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>Pn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));B.push(o,a.filter(c=>Pn.isImage(c)||Pn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new sp;if(a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Pn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),a.tags=[],i){a.heart=i.heart,a.bookmark=i.bookmark;let c;for(let l of i.tagIds)c=this.tags.find(u=>u.id==l),c&&a.tags.push(c)}else this.settings.autoBookmark&&(a.bookmark=!0);return a}save(r=!1){this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{let i={};i.dataFolderId=this.dataFolderId,i.archiveFolderId=this.archiveFolderId,i.heartsFilter=this.filterFavorite.state,i.bookmarksFilter=this.filterBookmark.state,i.filterGroups=this.filterGroups.state,i.settings=this.settings,i.comparison=this.comparison,i.imageProperties=this.images.map(o=>this.serializeImage(o)),i.groupProperties=this.groups.filter(o=>!B.isEmpty(o.images)).map(o=>this.serializeGroup(o)),i.tagProperties=this.tags.map(o=>this.serializeTag(o)),this.googleService.updateContent(this.googleService.dataFileId,i).then(o=>{o||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete()}serializeImage(r){let i={};return i.id=r.id,i.heart=r.heart,i.bookmark=r.bookmark,i.tagIds=r.tags.map(o=>o.id),i}serializeGroup(r){let i={};return i.imageIds=r.images.map(o=>o.id),i}serializeTag(r){let i={};return i.id=r.id,i.name=r.name,i.childIds=r.children.map(o=>o.id),i}parseTag(r){let i={};return i.id=r.id,i.name=r.name,i.children=[],i.state=0,i.open=!1,i}updateFilters(r){r?r.passesFilter=this.doesPassFilter(r):this.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}doesPassFilter(r){return!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.filterGroups.state==-1&&r.group||this.filterGroups.state==1&&!r.group||!this.settings.showVideos&&Pn.isVideo(r)?!1:this.doesPassTagsCheck(r,this.tags.filter(i=>!i.parent))}doesPassTagsCheck(r,i){for(let o of i)if(o.state==0){if(o.children.length!=0&&!this.doesPassTagsCheck(r,o.children))return!1}else if(o.children.length==0){let s=r.tags.includes(o);if(o.state==-1&&s||o.state==1&&!s)return!1}else{let s=B.intersection(r.tags,Be.collectChildren(o));if(o.state==-1&&s.length!=0||o.state==1&&s.length==0)return!1}return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return E(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation({title:"Confirmation",messages:["Are you sure you want to "+(i?"archive":"delete")+" this image?"]})))){if(this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),B.remove(this.images,this.images.find(s=>s.id==r.id)),r.group)if(r.group.images.length>2)B.remove(r.group.images,r);else{B.remove(this.groups,r.group);for(let s of r.group.images)delete s.group}if(this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&B.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.target.set(null),this.save(!0),this.applicationService.loading.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)(L(R_),L(st),L($r),L(at))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hr=(()=>{let e=class e{constructor(r,i){this.stateService=r,this.dialogService=i}getRootTags(){return this.stateService.tags.filter(r=>!r.parent)}getTagCount(r){return this.stateService.images.filter(i=>i.tags.includes(r)).length}openTagCreate(r){return E(this,null,function*(){if(r){let i=yield this.dialogService.createInput({title:"Create Tag",placeholder:"Tag Name",validationFn:o=>!r.children.map(s=>s.name).includes(o)});if(!yt.isEmpty(i)){let o={id:Nw(),name:i,state:0,parent:r,children:[],open:!0};r.children.push(o),r.children.sort((s,a)=>Be.getCompleteName(s).localeCompare(Be.getCompleteName(a))),this.stateService.tags.push(o),this.stateService.tags.sort((s,a)=>Be.getCompleteName(s).localeCompare(Be.getCompleteName(a))),this.stateService.save()}}else{let i=yield this.dialogService.createInput({title:"Create Tag",placeholder:"Tag Name",validationFn:o=>!this.stateService.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});yt.isEmpty(i)||(this.stateService.tags.push({id:Nw(),name:i,state:0,children:[],open:!0}),this.stateService.tags.sort((o,s)=>Be.getCompleteName(o).localeCompare(Be.getCompleteName(s))),this.stateService.save())}})}openTagRename(r){return E(this,null,function*(){let i=yield this.dialogService.createInput({title:"Rename Tag: "+Be.getCompleteName(r),placeholder:"Tag Name",defaultValue:r.name,validationFn:o=>r.parent?!r.parent.children.map(s=>s.name).includes(o):!this.stateService.tags.filter(s=>!s.parent).map(s=>s.name).includes(o)});yt.isEmpty(i)||(r.name=i,r.parent&&r.parent.children.sort((o,s)=>Be.getCompleteName(o).localeCompare(Be.getCompleteName(s))),this.stateService.tags.sort((o,s)=>Be.getCompleteName(o).localeCompare(Be.getCompleteName(s))),this.stateService.save())})}openTagDelete(r){return E(this,null,function*(){if(yield this.dialogService.createConfirmation({title:"Delete Tag",messages:["Delete '"+Be.getCompleteName(r)+"' and its descendats?"]})){r.parent&&B.remove(r.parent.children,r);let i=Be.collectChildren(r).concat(r);B.remove(this.stateService.tags,i);for(let o of this.stateService.images)B.remove(o.tags,i)&&this.stateService.updateFilters(o);this.stateService.save()}})}openTagParentChange(r){return E(this,null,function*(){let i=Be.collectChildren(r),o=this.stateService.tags.filter(a=>!(a==r||a==r.parent||i.includes(a)||a.children.map(c=>c.name).includes(r.name))),s=yield this.dialogService.createSelect({title:"Change Tag Parent: "+Be.getCompleteName(r),options:o,nullOption:r.parent?"Root":null,defaultValue:r.parent,getText:a=>Be.getCompleteName(a)});if(s){B.remove(r.parent?.children,r),r.parent=s,r.parent.open=!0,r.parent.children.push(r),r.parent.children.sort((a,c)=>Be.getCompleteName(a).localeCompare(Be.getCompleteName(c)));for(let a of this.stateService.images)a.tags.includes(r)&&this.stateService.updateFilters(a);this.stateService.save()}})}};e.\u0275fac=function(i){return new(i||e)(L(ct),L(at))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UM=(()=>{let e=class e extends Ft{constructor(r){super(),this.tagService=r,this.configuration={title:()=>"Tag: "+Be.getCompleteName(this.inputs.tag),buttons:[{text:()=>"Cancel",click:()=>this.close()}]}}renameTag(){this.tagService.openTagRename(this.inputs.tag),this.close()}deleteTag(){this.tagService.openTagDelete(this.inputs.tag),this.close()}changeTagParent(){this.tagService.openTagParentChange(this.inputs.tag),this.close()}createTagChild(){this.tagService.openTagCreate(this.inputs.tag),this.close()}submit(){}close(){this.resolve()}};e.\u0275fac=function(i){return new(i||e)(b(Hr))},e.\u0275cmp=G({type:e,selectors:[["app-gallery-tag-editor"]],standalone:!0,features:[Qe,Y],decls:8,vars:0,consts:[[1,"button","action-button",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.renameTag()}),P(1,"Rename"),g(),f(2,"div",0),I("click",function(){return o.deleteTag()}),P(3,"Delete"),g(),f(4,"div",0),I("click",function(){return o.createTagChild()}),P(5,"Create Child"),g(),f(6,"div",0),I("click",function(){return o.changeTagParent()}),P(7,"Change Parent"),g())},dependencies:[J],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .button.action-button[_ngcontent-%COMP%]{min-height:initial;padding:.3333333333rem 0}"]});let t=e;return t})();var Ba=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(b(Bt))},e.\u0275dir=Ge({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Lq(t,e){t&1&&(f(0,"span"),P(1,"No Images"),g())}function jq(t,e){if(t&1){let n=X();f(0,"div",4),I("click",function(){let o=S(n).$implicit,s=w(3);return A(s.stateService.target.set(o))}),f(1,"i",5),I("click",function(i){let s=S(n).$implicit,a=w(3);return i.stopPropagation(),A(a.removeImage(s))}),g(),f(2,"img",6,7),I("load",function(){S(n);let i=Ze(3);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(3);_("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),v(2),$t("width",120*n.aspectRatio,"px"),_("src",n.thumbnailLink,Dr)}}function Uq(t,e){if(t&1&&(f(0,"div",2),k(1,jq,4,5,"div",3),g()),t&2){let n=w(2);v(),_("ngForOf",n.stateService.groupEditorGroup.images)}}function Bq(t,e){if(t&1&&(Pe(0),k(1,Lq,2,0,"span",0)(2,Uq,2,1,"div",1),Oe()),t&2){let n=w();v(),_("ngIf",n.stateService.groupEditorGroup.images.length==0),v(),_("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var BM=(()=>{let e=class e extends Ft{constructor(r,i){super(),this.stateService=r,this.dialogService=i,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation({title:"Confirmation: Disband Image Group",messages:["Are you sure you want to disband this group of images?"]}).then(o=>{o&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length<2,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[]},this.stateService.updateFilters()}removeImage(r){B.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){B.remove(this.stateService.groups,r);for(let i of r.images)delete i.group;this.stateService.save(!0),this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(!0),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(b(ct),b(at))},e.\u0275cmp=G({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[Qe,Y],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&k(0,Bq,3,2,"ng-container",0),i&2&&_("ngIf",o.stateService.groupEditorGroup)},dependencies:[J,Fe,be,Ba,tn],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();var zr=(()=>{let e=class e{constructor(r,i){this.dialogService=r,this.tippyService=i}openFileInformation(r){this.dialogService.createMessage({title:"File Information",messages:["File Name: "+r.name,"File Type: "+r.mimeType,"Resolution: "+r.imageMediaMetadata.width+"\xD7"+r.imageMediaMetadata.height]})}openImageGroupEditor(r){this.dialogService.create(BM,{sourceGroup:r})}openSettings(){this.dialogService.create(ap)}openTagEditor(r){this.dialogService.create(UM,{tag:r})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(L(at),L(oM))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $q(t,e){t&1&&j(0,"i",12)}function Hq(t,e){if(t&1&&j(0,"i",13),t&2){let n=w(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function zq(t,e){if(t&1&&(f(0,"span",14),P(1),g()),t&2){let n=w(2);v(),Vi(" \u2022 ",n.tagService.getTagCount(n.tag),"")}}function qq(t,e){if(t&1){let n=X();f(0,"i",15),I("click",function(){S(n);let i=w(2);return A(i.toggleTagState())}),g()}}function Gq(t,e){if(t&1&&j(0,"app-filter-row",18),t&2){let n=e.$implicit;_("tag",n)}}function Wq(t,e){if(t&1&&(f(0,"div",16),k(1,Gq,1,1,"app-filter-row",17),g()),t&2){let n=w(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.tag.children)}}var Kq=()=>[];function Qq(t,e){if(t&1){let n=X();Pe(0),f(1,"div",1)(2,"div",2),I("click",function(){S(n);let i=w();return A(i.onTagClick())}),k(3,$q,1,0,"i",3)(4,Hq,1,1,"i",4),f(5,"div",5)(6,"span",6),P(7),g(),k(8,zq,2,1,"span",7),g()(),f(9,"div",8),k(10,qq,1,0,"i",9),f(11,"i",10),I("click",function(){S(n);let i=w();return A(i.galleryService.openTagEditor(i.tag))}),g()()(),k(12,Wq,2,2,"div",11),Oe()}if(t&2){let n=w();v(3),_("ngForOf",Ud(7,Kq).constructor(n.getOffset(n.tag))),v(),_("ngIf",n.isGroup()),v(),_("ngClass",n.getTextClass()),v(2),Ee(n.tag.name),v(),_("ngIf",!n.isGroup()&&n.stateService.settings.showTagCount),v(2),_("ngIf",n.isGroup()),v(2),_("ngIf",n.isGroup())}}var $M=(()=>{let e=class e{constructor(r,i,o){this.tagService=r,this.galleryService=i,this.stateService=o}onTagClick(){this.tag.children.length==0?this.toggleTagState():this.tag.open=!this.tag.open}toggleTagState(){this.tag.state=this.tag.state==0?1:this.tag.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}getTextClass(){switch(this.tag.state){case 1:return"positive";case-1:return"negative"}}getOffset(r){let i=Be.getDepth(r);return!r.parent&&r.children.length==0&&i++,i}isGroup(){return this.tag.children.length!=0}};e.\u0275fac=function(i){return new(i||e)(b(Hr),b(zr),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-filter-row"]],inputs:{tag:"tag"},standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","gap","cursor-pointer","hover-brighten","hover-container",2,"line-height","24px"],[1,"flex","gap","flex-1","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px;",3,"ngClass",4,"ngIf"],[1,"flex-1","overflow-hidden",2,"text-overflow","ellipsis",3,"ngClass"],[1,"white-space-nowrap"],["style","white-space: pre;",4,"ngIf"],[1,"flex","gap","align-items-center","hover-visible"],["class","hover-positive fa-solid fa-angles-down",3,"click",4,"ngIf"],[1,"hover-positive","fa-solid","fa-ellipsis",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[2,"white-space","pre"],[1,"hover-positive","fa-solid","fa-angles-down",3,"click"],[1,"flex","column","overflow-hidden"],[3,"tag",4,"ngFor","ngForOf"],[3,"tag"]],template:function(i,o){i&1&&k(0,Qq,13,8,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,J,gt,Fe,be],data:{animation:[ao]}});let t=e;return t})();function Yq(t,e){if(t&1){let n=X();Pe(0),f(1,"i",17),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterFavorite))}),g(),f(2,"i",18),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterBookmark))}),g(),f(3,"i",19),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterGroups))}),g(),Oe()}if(t&2){let n=w();v(),_("ngClass",n.getFilterIconClass(n.stateService.filterFavorite)),v(),_("ngClass",n.getFilterIconClass(n.stateService.filterBookmark)),v(),_("ngClass",n.getFilterIconClass(n.stateService.filterGroups))}}function Xq(t,e){if(t&1){let n=X();Pe(0),j(1,"div",7),f(2,"div",20)(3,"div",21),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterFavorite))}),j(4,"i",22),f(5,"span",23),P(6,"Favorites"),g()(),f(7,"div",21),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterBookmark))}),j(8,"i",24),f(9,"span",23),P(10,"Bookmarks"),g()(),f(11,"div",21),I("click",function(){S(n);let i=w();return A(i.toggleFilter(i.stateService.filterGroups))}),j(12,"i",25),f(13,"span",23),P(14,"Groups"),g()()(),Oe()}if(t&2){let n=w();v(4),_("ngClass",n.getFilterIconClass(n.stateService.filterFavorite)),v(),_("ngClass",n.getFilterClass(n.stateService.filterFavorite)),v(3),_("ngClass",n.getFilterIconClass(n.stateService.filterBookmark)),v(),_("ngClass",n.getFilterClass(n.stateService.filterBookmark)),v(3),_("ngClass",n.getFilterIconClass(n.stateService.filterGroups)),v(),_("ngClass",n.getFilterClass(n.stateService.filterGroups))}}function Jq(t,e){t&1&&j(0,"div",28)}function Zq(t,e){if(t&1&&(Pe(0),k(1,Jq,1,0,"div",26),j(2,"app-filter-row",27),Oe()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(),_("tag",n)}}var HM=(()=>{let e=class e{get classVisible(){return this.stateService.filterVisible}constructor(r,i){this.tagService=r,this.stateService=i,this.ScreenUtils=mt}getFilterClass(r){switch(r.state){case 1:return"positive";case-1:return"negative"}}getFilterIconClass(r){switch(r.state){case 1:return"positive fa-solid";case-1:return"negative fa-solid";default:return"fa-regular"}}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters(),this.stateService.save()}canClear(){return this.stateService.tags?.some(r=>r.state!=0)}};e.\u0275fac=function(i){return new(i||e)(b(Hr),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-filter"]],hostVars:2,hostBindings:function(i,o){i&2&&_e("visible",o.classVisible)},standalone:!0,features:[Y],decls:22,vars:6,consts:[[1,"filter-container"],[1,"header"],[1,"flex","gap"],["tp","Collapse","tpPlacement","right",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],[4,"ngIf"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"h-separator","gap-bottom","margins"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"v-separator","desktop-only"],[1,"icon-button","fa-heart",3,"ngClass","click"],[1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"icon-button","fa-object-group",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-heart",2,"margin-top","1px",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",2,"margin-top","1px",3,"ngClass"],[1,"fa-object-group",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),I("click",function(){return o.stateService.filterVisible=!1}),g()(),f(4,"span",4),P(5,"Filter Configuration"),g(),f(6,"div",5),k(7,Yq,4,3,"ng-container",6),g()(),k(8,Xq,15,6,"ng-container",6),j(9,"div",7),f(10,"div",8)(11,"div",9),k(12,Zq,3,2,"ng-container",10),g()(),j(13,"div",11),f(14,"div",12)(15,"div",13),I("click",function(){return o.tagService.openTagCreate()}),j(16,"i",14),P(17,"Create"),g(),f(18,"div",13),I("click",function(){return o.clearFilters()}),j(19,"i",15),P(20,"Clear"),g()()(),j(21,"div",16)),i&2&&(v(3),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-left":"fa-times"),v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()),v(6),_e("disabled",!o.canClear()))},dependencies:[J,gt,Fe,be,tn,$M],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){margin-left:-300.8px}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[ao]}});let t=e;return t})();function eG(t,e){t&1&&j(0,"i",11)}function tG(t,e){if(t&1&&j(0,"i",12),t&2){let n=w(2);_("ngClass",n.tag.open?"fa-angle-down":"fa-angle-right")}}function nG(t,e){if(t&1&&(f(0,"span",13),P(1),g()),t&2){let n=w(2);v(),Vi(" \u2022 ",n.tagService.getTagCount(n.tag),"")}}function rG(t,e){if(t&1&&j(0,"app-tag-manager-row",16),t&2){let n=e.$implicit,r=w(3);_("tag",n)("target",r.target)("groupMode",r.groupMode)}}function iG(t,e){if(t&1&&(f(0,"div",14),k(1,rG,1,3,"app-tag-manager-row",15),g()),t&2){let n=w(2);_("@drawer2",n.tag.open),v(),_("ngForOf",n.tag.children)}}var oG=()=>[];function sG(t,e){if(t&1){let n=X();Pe(0),f(1,"div",1)(2,"div",2),I("click",function(){S(n);let i=w();return A(i.onTagClick())}),k(3,eG,1,0,"i",3)(4,tG,1,1,"i",4),f(5,"div",5)(6,"span",6),P(7),g(),k(8,nG,2,1,"span",7),g()(),f(9,"div",8)(10,"i",9),I("click",function(){S(n);let i=w();return A(i.galleryService.openTagEditor(i.tag))}),g()()(),k(11,iG,2,2,"div",10),Oe()}if(t&2){let n=w();v(3),_("ngForOf",Ud(6,oG).constructor(n.getOffset(n.tag))),v(),_("ngIf",n.isGroup()),v(),_("ngClass",n.getTextClass()),v(2),Ee(n.tag.name),v(),_("ngIf",!n.isGroup()&&n.stateService.settings.showTagCount),v(3),_("ngIf",n.isGroup())}}var zM=(()=>{let e=class e{constructor(r,i,o){this.tagService=r,this.galleryService=i,this.stateService=o}onTagClick(){this.tag.children.length==0?(this.groupMode&&this.target.group?this.target.group.images.every(r=>r.tags.includes(this.tag))?this.target.group.images.forEach(r=>B.remove(r.tags,this.tag)):this.target.group.images.forEach(r=>B.push(r.tags,this.tag)):B.toggle(this.target.tags,this.tag),this.stateService.save(),this.stateService.updateFilters()):this.tag.open=!this.tag.open}getTextClass(){let r=[];if(this.target)return this.tag.children.length==0?(this.target.tags.includes(this.tag)&&r.push("positive"),this.target.group&&(this.target.group.images.every(i=>i.tags.includes(this.tag))?r.push("underline"):this.target.group.images.some(i=>i!=this.target&&i.tags.includes(this.tag))&&r.push("underline-dashed"))):this.groupMode&&this.target.group?(this.tag.children.every(i=>this.target.group.images.every(o=>o.tags.includes(i)))&&(r.push("positive"),r.push("underline")),this.tag.children.some(i=>this.target.group.images.every(o=>o.tags.includes(i)))&&r.push("underline-dashed-positive"),this.tag.children.some(i=>this.target.group.images.some(o=>o.tags.includes(i)))&&r.push("underline-dashed")):this.target.tags.some(i=>this.tag.children.some(o=>o==i))&&r.push("underline-dashed-positive"),r.join(" ")}getOffset(r){let i=Be.getDepth(r);return!r.parent&&r.children.length==0&&i++,i}isGroup(){return this.tag.children.length!=0}};e.\u0275fac=function(i){return new(i||e)(b(Hr),b(zr),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-tag-manager-row"]],inputs:{tag:"tag",target:"target",groupMode:"groupMode"},standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","gap","cursor-pointer","hover-brighten","hover-container",2,"line-height","24px"],[1,"flex","gap","flex-1","align-items-center",3,"click"],["class","fa-solid fa-angle-down opacity-0",4,"ngFor","ngForOf"],["class","fa-solid","style","margin-top: 1px;",3,"ngClass",4,"ngIf"],[1,"flex-1","overflow-hidden",2,"text-overflow","ellipsis",3,"ngClass"],[1,"white-space-nowrap"],["style","white-space: pre;",4,"ngIf"],[1,"flex","gap","align-items-center","hover-visible"],[1,"hover-positive","fa-solid","fa-ellipsis",3,"click"],["class","flex column overflow-hidden",4,"ngIf"],[1,"fa-solid","fa-angle-down","opacity-0"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[2,"white-space","pre"],[1,"flex","column","overflow-hidden"],[3,"tag","target","groupMode",4,"ngFor","ngForOf"],[3,"tag","target","groupMode"]],template:function(i,o){i&1&&k(0,sG,12,7,"ng-container",0),i&2&&_("ngIf",o.tag)},dependencies:[e,J,gt,Fe,be],data:{animation:[ao]}});let t=e;return t})();function aG(t,e){if(t&1){let n=X();Pe(0),f(1,"i",15),I("click",function(){S(n);let i=w();return A(i.groupMode=!i.groupMode)}),g(),Oe()}if(t&2){let n=w();v(),_e("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function cG(t,e){if(t&1){let n=X();Pe(0),j(1,"div",8),f(2,"div",16)(3,"div",17),I("click",function(){S(n);let i=w();return A(i.groupMode=!i.groupMode)}),j(4,"i",18),f(5,"span"),P(6,"Group Mode"),g()()(),Oe()}if(t&2){let n=w();v(3),_e("disabled",(n.target==null?null:n.target.group)==null)("positive",n.groupMode),v(),_("ngClass",n.groupMode?"fa-images":"fa-image")}}function lG(t,e){t&1&&j(0,"div",21)}function uG(t,e){if(t&1&&(Pe(0),k(1,lG,1,0,"div",19),j(2,"app-tag-manager-row",20),Oe()),t&2){let n=e.$implicit,r=e.index,i=w();v(),_("ngIf",r!=0),v(),_("tag",n)("target",i.target)("groupMode",i.groupMode)}}var qM=(()=>{let e=class e{get classVisible(){return this.stateService.tagManagerVisible}constructor(r,i){this.tagService=r,this.stateService=i,this.ScreenUtils=mt,this.groupMode=!1,ai(()=>{this.target=this.stateService.target(),this.target==null&&(this.groupMode=!1)})}};e.\u0275fac=function(i){return new(i||e)(b(Hr),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-tag-manager"]],hostVars:2,hostBindings:function(i,o){i&2&&_e("visible",o.classVisible)},standalone:!0,features:[Y],decls:18,vars:4,consts:[[1,"v-separator","desktop-only"],[1,"tag-manager-container"],[1,"header"],[1,"flex","gap"],[4,"ngIf"],[1,"margins-3-h"],[1,"flex","gap","flex-end-h"],["tp","Collapse","tpPlacement","left",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"h-separator","margins"],[1,"filters-container","y-scrollbar-container"],[1,"flex","column","margins-1-h"],[4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"icon-button","fa-solid","hover-brighten",3,"ngClass","click"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],["class","h-separator subtle",4,"ngIf"],[3,"tag","target","groupMode"],[1,"h-separator","subtle"]],template:function(i,o){i&1&&(j(0,"div",0),f(1,"div",1)(2,"div",2)(3,"div",3),k(4,aG,2,5,"ng-container",4),g(),f(5,"span",5),P(6,"Tag Manager"),g(),f(7,"div",6)(8,"i",7),I("click",function(){return o.stateService.tagManagerVisible=!1}),g()()(),k(9,cG,7,5,"ng-container",4),j(10,"div",8),f(11,"div",9)(12,"div",10),k(13,uG,3,4,"ng-container",11),g()(),f(14,"div",12)(15,"div",13),I("click",function(){return o.tagService.openTagCreate()}),j(16,"i",14),P(17,"Create"),g()()()),i&2&&(v(4),_("ngIf",!o.ScreenUtils.isLargeScreen()),v(4),_("ngClass",o.ScreenUtils.isLargeScreen()?"fa-caret-right":"fa-times"),v(),_("ngIf",o.ScreenUtils.isLargeScreen()),v(4),_("ngForOf",o.tagService.getRootTags()))},dependencies:[J,gt,Fe,be,tn,zM],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden;height:100%}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){width:0;min-width:0}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box}@media screen and (max-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;margin:.3333333333rem}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]{flex:1;scrollbar-gutter:stable}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .filters-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-top:1px}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:0 .3333333333rem .3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"],data:{animation:[ao]}});let t=e;return t})();var GM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new kw,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(b(Bt),b(tr))},e.\u0275dir=Ge({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),kw=class{};function dG(t,e){if(t&1){let n=X();f(0,"i",24),I("click",function(){S(n);let i=w(2);return A(i.setRandomGroupTarget())}),g()}}function hG(t,e){if(t&1){let n=X();Pe(0),f(1,"i",25),I("click",function(){S(n);let i=w(2);return A(i.flip=!i.flip)}),g(),j(2,"div",6),f(3,"i",26),I("click",function(){S(n);let i=w().ngVar,o=w();return A(o.googleService.download(i))}),g(),j(4,"div",6),f(5,"i",27),I("click",function(i){S(n);let o=w().ngVar,s=w();return i.stopPropagation(),A(s.googleService.openSearch(o.name))}),g(),f(6,"i",28),I("click",function(i){S(n);let o=w().ngVar,s=w();return i.stopPropagation(),A(s.galleryService.openYandexReverseImageSearch(i,o))}),g(),j(7,"div",6),Oe()}}function fG(t,e){if(t&1){let n=X();f(0,"div",34)(1,"img",35,36),I("click",function(){let o=S(n).$implicit,s=w(4);return A(s.onImageClick(o))})("load",function(){S(n);let i=Ze(2);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(4);_("@fade",void 0),v(),_e("flip-h",r.flip),_("src",r.getSrc(n),Dr)}}var Fw=t=>[t];function pG(t,e){if(t&1&&(f(0,"div",32),k(1,fG,3,4,"div",33),g()),t&2){let n=w(2).ngVar;_("@fade",void 0),v(),_("ngForOf",_c(2,Fw,n))}}function mG(t,e){if(t&1){let n=X();f(0,"div",34)(1,"img",35,36),I("click",function(){let o=S(n).$implicit,s=w(4);return A(s.onImageClick(o))})("load",function(){S(n);let i=Ze(2);return A(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(4);_("@fadeBetweenGroupImages",void 0),v(),_e("flip-h",r.flip),_("src",r.getSrc(n),Dr)}}var gG=t=>({target:t});function vG(t,e){if(t&1){let n=X();f(0,"img",43,44),I("click",function(){let o=S(n).$implicit,s=w(5);return A(s.stateService.target.set(o))})("load",function(){S(n);let i=Ze(1);return A(i.style.opacity="1")}),g()}if(t&2){let n=e.$implicit,r=w(4).ngVar;$t("height",120,"px")("width",120*n.aspectRatio,"px"),_("ngClass",_c(6,gG,n==r))("src",n.thumbnailLink,Dr)}}function yG(t,e){if(t&1&&(f(0,"div",41),k(1,vG,2,8,"img",42),g()),t&2){let n=e.$implicit;_("@fade",void 0),v(),_("ngForOf",n.images)}}function _G(t,e){if(t&1&&(f(0,"div",37)(1,"div",38),k(2,mG,3,4,"div",33),g(),f(3,"div",39),k(4,yG,2,2,"div",40),g()()),t&2){let n=w(2).ngVar;_("@fade",void 0),v(2),_("ngForOf",_c(3,Fw,n)),v(2),_("ngForOf",_c(5,Fw,n.group))}}function wG(t,e){if(t&1&&(f(0,"div",29),k(1,pG,2,4,"div",30)(2,_G,5,7,"div",31),g()),t&2){let n=w().ngVar;_("@fade",void 0),v(),_("ngIf",!n.group),v(),_("ngIf",n.group)}}function EG(t,e){if(t&1){let n=X();f(0,"i",45),I("click",function(){S(n);let i=w().ngVar,o=w();return A(o.galleryService.openImageGroupEditor(i.group))}),g()}}function IG(t,e){if(t&1){let n=X();Pe(0),f(1,"img",1),I("load",function(){S(n);let i=w();return A(i.loadingT=!1)}),g(),f(2,"img",1),I("load",function(){S(n);let i=w();return A(i.loadingC=!1)}),g(),f(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),I("click",function(){S(n);let i=w();return A(i.stateService.target.set(null))}),g(),j(7,"div",6),f(8,"i",7),I("click",function(){S(n);let i=w();return A(i.setRandomTarget())}),g(),k(9,dG,1,0,"i",8),g(),j(10,"div",9),f(11,"div",10),k(12,hG,8,0,"ng-container",11),f(13,"i",12),I("click",function(){let o=S(n).ngVar,s=w();return A(s.stateService.delete(o,!0))}),g(),f(14,"i",13),I("click",function(){let o=S(n).ngVar,s=w();return A(s.stateService.delete(o,!1))}),g()()(),f(15,"div",14),k(16,wG,3,3,"div",15),g(),f(17,"div",16)(18,"div",4)(19,"i",17),I("click",function(){S(n);let i=w();return A(i.stateService.target.set(null))}),g(),j(20,"div",6),f(21,"i",18),I("click",function(){let o=S(n).ngVar,s=w();return A(s.stateService.toggleFavorite(o,!0))}),g(),f(22,"i",19),I("click",function(){let o=S(n).ngVar,s=w();return A(s.stateService.toggleBookmark(o,!0))}),g(),f(23,"div",20)(24,"i",21),I("click",function(){S(n);let i=w();return A(i.stateService.tagManagerVisible=!i.stateService.tagManagerVisible)}),g()()(),j(25,"div",9),f(26,"div",10),k(27,EG,1,0,"i",22),f(28,"i",23),I("click",function(){let o=S(n).ngVar,s=w();return A(s.galleryService.openFileInformation(o))}),g()()()(),Oe()}if(t&2){let n=e.ngVar,r=w();v(),_("src",n==null?null:n.thumbnailLink,Dr),v(),_("src",n==null?null:n.contentLink,Dr),v(7),_("ngIf",n==null?null:n.group),v(3),_("ngIf",r.ScreenUtils.isLargeScreen()),v(4),_("ngIf",n),v(5),_("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),v(),_("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),v(),_e("drawer-visible",!r.stateService.tagManagerVisible),v(4),_("ngIf",n==null?null:n.group)}}var WM=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.applicationService=r,this.keyboardShortcutService=i,this.googleService=o,this.stateService=s,this.dialogService=a,this.galleryService=c,this.ScreenUtils=mt,this.loadingT=!0,this.loadingC=!0,this.video=!1,this.flip=!1,ai(()=>{let l=this.stateService.target();l?(Pn.isVideo(l)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0),this.keyboardShortcutService.requestFocus(this)):this.flip=!1})}ngOnInit(){this.keyboardShortcutService.register(this)}ngOnDestroy(){this.keyboardShortcutService.unregister(this)}processKeyboardShortcut(r){if(this.stateService.target())switch(r.code){case"Escape":this.stateService.target.set(null);break;case"KeyR":this.setRandomTarget();break;case"KeyG":this.setRandomGroupTarget();break}}setRandomTarget(){if(!B.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=B.getRandom(this.stateService.filter(),i.group.images):r=B.getRandom(this.stateService.filter(),[i]):r=B.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(B.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return B.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return B.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(B.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(B.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}};e.\u0275fac=function(i){return new(i||e)(b(st),b(Fa),b($r),b(ct),b(at),b(zr))},e.\u0275cmp=G({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"h-separator","gap"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],[4,"ngIf"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"width-100","height-100"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Close","tpPlacement","left",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"drawer-container"],["tp","Open Tag Manager","tpPlacement","left",1,"icon-button","fa-solid","fa-tags",3,"click"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager","tpPlacement","left",3,"click",4,"ngIf"],["tp","File Information","tpPlacement","left",1,"icon-button","fa-solid","fa-circle-info",3,"click"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tp","Flip","tpPlacement","right",1,"icon-button","fa-solid","fa-left-right",3,"click"],["tp","Download","tpPlacement","right",1,"icon-button","fa-solid","fa-download",3,"click"],["tp","Google Drive","tpPlacement","right",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Yandex RIS","tpPlacement","right",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","has-group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"has-group-container"],[1,"another-container","stack-container"],[1,"stack-container","height-auto","justify-content-center"],["class","group-images-container",4,"ngFor","ngForOf"],[1,"group-images-container"],[3,"ngClass","height","width","src","click","load",4,"ngFor","ngForOf"],[3,"ngClass","src","click","load"],["groupImageElement",""],["tp","Group Manager","tpPlacement","left",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&k(0,IG,29,10,"ng-container",0),i&2&&_("ngVar",o.stateService.target())},dependencies:[J,gt,Fe,be,GM,tn],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]{min-width:100%}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-visible){width:0;min-width:0;opacity:0;transform:translate(3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0;justify-content:flex-end}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:hidden;padding:0;gap:.3333333333rem}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;cursor:pointer;border-radius:4px}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]   img.target[_ngcontent-%COMP%]{outline:3px solid var(--color-positive);outline-offset:-2px}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem;z-index:1}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[ka,jn("fadeBetweenGroupImages",[ft(":enter",[me({opacity:0}),It("333ms ease",me({opacity:1}))]),ft(":leave",[me({opacity:1,"pointer-events":"none","z-index":-1}),It("333ms 333ms ease",me({opacity:0}))])])]}});let t=e;return t})();var KM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new nt}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(b(Je))},e.\u0275dir=Ge({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var QM=(()=>{let e=class e{constructor(r,i,o){this.galleryService=r,this.stateService=i,this.googleService=o}openGoogleDriveDataFolder(){this.googleService.openFolderById(this.stateService.dataFolderId)}};e.\u0275fac=function(i){return new(i||e)(b(zr),b(ct),b($r))},e.\u0275cmp=G({type:e,selectors:[["app-header"]],standalone:!0,features:[Y],decls:8,vars:2,consts:[[1,"header-start"],[1,"drawer-container"],["tp","Open Filter Configuration",1,"icon-button","fa-solid","fa-filter",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.stateService.filterVisible=!o.stateService.filterVisible}),g()(),f(3,"i",3),I("click",function(){return o.galleryService.openImageGroupEditor()}),g()(),j(4,"div",4),f(5,"div",5)(6,"i",6),I("click",function(){return o.openGoogleDriveDataFolder()}),g(),f(7,"i",7),I("click",function(){return o.galleryService.openSettings()}),g()()),i&2&&(v(),_e("drawer-hidden",!o.stateService.filterVisible))},dependencies:[J,tn],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between;overflow:hidden}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,margin,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-hidden){width:0;min-width:0;opacity:0;margin-right:-.3333333333rem;transform:translate(-3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:1fr auto 1fr}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function CG(t,e){if(t&1){let n=X();f(0,"i",13),I("click",function(i){S(n);let o=w(2).$implicit;return w().galleryService.openImageGroupEditor(o.group),A(i.stopPropagation())}),g()}}function bG(t,e){if(t&1){let n=X();Pe(0),f(1,"div",8)(2,"i",9),I("click",function(i){S(n);let o=w().$implicit,s=w();return i.stopPropagation(),A(s.stateService.toggleFavorite(o,!0))}),g(),f(3,"i",10),I("click",function(i){S(n);let o=w().$implicit,s=w();return i.stopPropagation(),A(s.stateService.toggleBookmark(o,!0))}),g()(),f(4,"div",11),k(5,CG,1,0,"i",12),g(),Oe()}if(t&2){let n=w().$implicit;v(2),_("ngClass",n.heart?"fa-solid active":"fa-regular"),v(),_("ngClass",n.bookmark?"fa-solid active":"fa-regular"),v(2),_("ngIf",n.group)}}function TG(t,e){if(t&1){let n=X();f(0,"div",3),I("click",function(){let o=S(n).$implicit,s=w();return A(s.onImageClick(o))}),f(1,"div",4)(2,"img",5,6),I("create",function(i){let s=S(n).$implicit,a=w();return A(a.bricks[s.id]=i.nativeElement)})("load",function(){S(n);let i=Ze(3);return A(i.style.opacity="1")}),g()(),k(4,bG,6,3,"ng-container",7),g()}if(t&2){let n=e.$implicit,r=w();$t("width",n.masonryWidth,"px")("height",n.masonryHeight,"px")("top",n.masonryTop,"px")("left",n.masonryLeft,"px")("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),_("@fade",void 0),v(2),_("src",n.thumbnailLink,Dr),v(2),_("ngIf",r.areBrickButtonsVisible())}}var YM=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.cdr=i,this.applicationService=o,this.stateService=s,this.googleService=a,this.galleryService=c,this.bricks={},this.layoutUpdateDelay=new Br(100),ai(()=>this.updateLayout()),new ResizeObserver(()=>{mt.isLargeScreen()&&this.requestLayoutUpdate()}).observe(r.nativeElement)}requestLayoutUpdate(){this.layoutUpdateDelay.restart(()=>{let r=this.masonryScrollContainer.scrollTop/(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight);this.updateLayout();let i=(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight)*r;setTimeout(()=>this.masonryScrollContainer.scrollTo({top:i,behavior:"smooth"}),500),this.cdr.detectChanges()})}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilter):!0),this.masonryImages.length==0)return;let r=mt.isLargeScreen()?250:200,i=mt.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.masonryWidth!=a&&(u.masonryWidth=a,u.masonryHeight=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.masonryTop=c[d],u.masonryLeft=l[d],c[d]=c[d]+u.masonryHeight+i}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r;this.bricks[i?.id].scrollIntoView()}}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;B.toggle(i.images,r);return}this.stateService.target.set(r)}areBrickButtonsVisible(){return mt.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(b(Je),b(Ar),b(st),b(ct),b($r),b(zr))},e.\u0275cmp=G({type:e,selectors:[["app-masonry"]],standalone:!0,features:[Y],decls:4,vars:1,consts:[[1,"masonry-scroll-container",3,"create"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"width","height","top","left","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],["loading","lazy",3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager",3,"click",4,"ngIf"],["tp","Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&(j(0,"app-header"),f(1,"div",0),I("create",function(a){return o.masonryScrollContainer=a.nativeElement}),f(2,"div",1),I("create",function(a){return o.masonryContainer=a.nativeElement,o.updateLayout()}),k(3,TG,5,13,"div",2),g()()),i&2&&(v(3),_("ngForOf",o.masonryImages))},dependencies:[J,gt,Fe,be,KM,tn,QM],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left,width,height,opacity;transition-duration:.5s;padding-bottom:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[ka]}});let t=e;return t})();function DG(t,e){if(t&1&&(f(0,"div",1)(1,"div",2),j(2,"app-filter")(3,"app-masonry"),g(),f(4,"div",3),j(5,"app-fullscreen")(6,"app-tag-manager"),g()()),t&2){let n=w();_("@enter",void 0),v(4),_e("transparent",!n.stateService.target())}}var XM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.loading=!0,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData().then(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(b(st),b(ct))},e.\u0275cmp=G({type:e,selectors:[["app-gallery"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[["class","stack-container",4,"ngIf"],[1,"stack-container"],[1,"flex",2,"height","100vh"],[1,"fullscreen-container",2,"height","100vh"]],template:function(i,o){i&1&&k(0,DG,7,3,"div",0),i&2&&_("ngIf",!o.loading)},dependencies:[J,be,HM,YM,WM,qM],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background);transition:.5s;z-index:1}"],data:{animation:[cM]}});let t=e;return t})();var _s=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function SG(t,e){if(t&1){let n=X();f(0,"div",5)(1,"div",6)(2,"span"),P(3,"po\u010Det t\xEDmov"),g(),f(4,"input",7,8),I("input",function(){S(n);let i=Ze(5),o=w();return A(o.onTeamCountChange(i))}),g()(),f(6,"div",6)(7,"span"),P(8,"trvanie kola"),g(),f(9,"input",7,9),I("input",function(){S(n);let i=Ze(10),o=w();return A(o.onRoundDurationChange(i))}),g()(),f(11,"span",10),I("click",function(){S(n);let i=w();return A(i.settingsDone())}),P(12,"\u0161tart"),g()()}if(t&2){let n=w();v(4),_("value",4),v(5),_("value",60),v(2),_e("disabled",!n.validateSettings())}}function AG(t,e){t&1&&(f(0,"span"),P(1,"pre v\u0161etk\xFDch"),g())}function xG(t,e){if(t&1){let n=X();f(0,"div",11),k(1,AG,2,0,"span",12),f(2,"span"),P(3),g(),f(4,"span"),P(5),g(),f(6,"span",10),I("click",function(){S(n);let i=w();return A(i.startRound())}),P(7,"\u0161tart"),g()()}if(t&2){let n=w();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),Ee(n.getCurrentDiscipline()),v(2),Ee(n.availablePhrases[0])}}function MG(t,e){if(t&1){let n=X();f(0,"span",10),I("click",function(){S(n);let i=w(2);return A(i.endRoundEarly())}),P(1,"hotovo"),g()}}function PG(t,e){if(t&1&&(f(0,"div",13)(1,"span"),P(2),g(),k(3,MG,2,0,"span",14),g()),t&2){let n=w();v(2),Ee(n.timeLeft),v(),_("ngIf",n.showEndRoundEarlyButton)}}function OG(t,e){t&1&&(f(0,"span"),P(1,"pre v\u0161etk\xFDch"),g())}function RG(t,e){if(t&1){let n=X();f(0,"input",18,19),I("input",function(){S(n);let i=Ze(1),o=w(2);return A(o.onForEveryoneWinnerChange(i))}),g()}}function NG(t,e){if(t&1){let n=X();f(0,"div",15),k(1,OG,2,0,"span",12),f(2,"span"),P(3),g(),f(4,"span"),P(5),g(),f(6,"div",16),k(7,RG,2,0,"input",17),f(8,"span",10),I("click",function(){S(n);let i=w();return A(i.roundOver(!0))}),P(9,"uh\xE1dli"),g()(),f(10,"span",10),I("click",function(){S(n);let i=w();return A(i.roundOver(!1))}),P(11,"neuh\xE1dli"),g()()}if(t&2){let n=w();v(),_("ngIf",n.isCurrentRoundForEveryone()),v(2),Ee(n.getCurrentDiscipline()),v(2),Ee(n.availablePhrases[0]),v(),$t("gap","2rem"),v(),_("ngIf",n.isCurrentRoundForEveryone()),v(),$t("width",100,"%"),_e("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function kG(t,e){if(t&1&&(f(0,"span"),P(1),g()),t&2){let n=e.$implicit,r=e.index;v(),No("",r+1,". t\xEDm: ",n.wins,"")}}function FG(t,e){if(t&1){let n=X();f(0,"div",20)(1,"span"),P(2,"sk\xF3re"),g(),k(3,kG,2,2,"span",21),f(4,"span",10),I("click",function(){S(n);let i=w();return A(i.currentView="instructions")}),P(5,"\u010Fa\u013E\u0161ie kolo"),g()()}if(t&2){let n=w();v(3),_("ngForOf",n.teams)}}var JM=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=B.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>B.push(s.roundDisciplines,B.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(_s.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-activity"]],standalone:!0,features:[Y],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&k(0,SG,13,4,"div",0)(1,xG,8,3,"div",1)(2,PG,4,2,"div",2)(3,NG,12,10,"div",3)(4,FG,6,1,"div",4),i&2&&(_("ngIf",o.currentView=="settings"),v(),_("ngIf",o.currentView=="instructions"),v(),_("ngIf",o.currentView=="countdown"),v(),_("ngIf",o.currentView=="result"),v(),_("ngIf",o.currentView=="score"))},dependencies:[J,Fe,be,Gn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var ZM=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],eP=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],tP=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var nP=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,B.push(this.availableQuestions,ZM),B.push(this.availableQuestions,eP),B.push(this.availableQuestions,tP),B.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[Y],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.next()}),f(1,"span"),P(2),g()()),i&2&&(v(2),Ee(o.currentQuestion))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var rP=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=_s.from(this.limbs,this.limb),[this.color,this.backgroundColor]=_s.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-twister"]],standalone:!0,features:[Y],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.spin()}),f(1,"span"),P(2),g()()),i&2&&($t("background-color",o.backgroundColor),v(2),No("",o.limb," ",o.color,""))},dependencies:[J],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function VG(t,e){if(t&1){let n=X();Pe(0),f(1,"span",1),I("click",function(){S(n);let i=w();return A(i.navigate("gallery"))}),P(2,"Gallery"),g(),f(3,"span",1),I("click",function(){S(n);let i=w();return A(i.navigate("story-manager"))}),P(4,"Story Manager"),g(),f(5,"span",1),I("click",function(){S(n);let i=w();return A(i.navigate("comparison"))}),P(6,"Comparison"),g(),Oe()}}var iP=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(b(wn),b(st))},e.\u0275cmp=G({type:e,selectors:[["app-landing"]],standalone:!0,features:[Y],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span",1),I("click",function(){return o.navigate("games/activity")}),P(2,"Activity"),g(),f(3,"span",1),I("click",function(){return o.navigate("games/twister")}),P(4,"Twister"),g(),f(5,"span",1),I("click",function(){return o.navigate("games/nikdy-som")}),P(6,"Nikdy som"),g(),k(7,VG,7,0,"ng-container",2),g(),j(8,"div",3),f(9,"div",0)(10,"i",4),I("click",function(){return o.applicationService.toggleTheme()}),g()(),f(11,"div",5),I("click",function(){return o.dev=o.dev+1}),g()),i&2&&(v(7),_("ngIf",o.dev>4),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[J,gt,be],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var oP="https://mazacik.github.io",Vw={production:!0,baseUrl:oP,redirectUrl:oP+"/login"};var $a=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+Vw.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return E(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:Vw.redirectUrl,plugin_name:"TagalleryWeb"};yield Vu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return E(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Vu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(L(jo))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(b(ro),b(wn),b($a))},e.\u0275cmp=G({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(f(0,"div",0),I("click",function(){return o.signIn()}),j(1,"img",1),f(2,"span",2),P(3,"Sign in with Google"),g()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var cp=(t,e)=>E(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=R(wn),r=R($a);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var aP=(t,e)=>{let n=R(wn),r=sessionStorage.getItem("dataFileId");return yt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var cP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return R(wn).createUrlTree([""])};var lP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=G({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&$g("@crossfade",o.crossfade)},standalone:!0,features:[Y],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(f(0,"span",0),P(1),g(),f(2,"span"),P(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),g(),f(4,"span"),P(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),g(),j(6,"img",1)),i&2&&(v(),Ee(o.userAgent))},dependencies:[J,Gn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[aM]}});let t=e;return t})();var co=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!B.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],B.isEmpty(this.currentStory.notes)||(this.currentNote=B.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=yt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lo=(()=>{let e=class e extends Ua{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new Br(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage({title:"Error",messages:["Google Drive Error, check console."]}),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.abort(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(L(jo),L(st),L(co),L(at))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jG(t,e){if(t&1){let n=X();f(0,"div",6),I("click",function(){let o=S(n).$implicit,s=w();return A(s.remove(o))}),f(1,"i",7),I("click",function(i){let s=S(n).$implicit;return w().editTag(s),A(i.stopPropagation())}),g(),f(2,"span"),P(3),g(),j(4,"i",8),g()}if(t&2){let n=e.$implicit,r=w();_("dragdrop",n)("dragdropParent",r.currentTags),v(3),Ee(n)}}function UG(t,e){if(t&1){let n=X();f(0,"div",9),I("click",function(){let o=S(n).$implicit,s=w();return A(s.add(o))}),j(1,"i",10),f(2,"span"),P(3),g(),f(4,"div",11)(5,"i",7),I("click",function(i){let s=S(n).$implicit;return w().editTag(s),A(i.stopPropagation())}),g(),f(6,"i",12),I("click",function(i){let s=S(n).$implicit;return w().deleteTag(s),A(i.stopPropagation())}),g()()()}if(t&2){let n=e.$implicit;v(3),Ee(n)}}var uP=(()=>{let e=class e extends Ft{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),B.remove(this.availableTags,r)}remove(r){B.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput({title:"Rename Tag",placeholder:"Tag Title",defaultValue:r}).then(i=>{if(!yt.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(B.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(B.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),B.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation({title:"Delete Tag",messages:['Are you sure you want to delete "'+r+'"?']}).then(i=>{i&&(this.currentTags.includes(r)?B.remove(this.currentTags,r):B.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>B.remove(o.tags,r)),B.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(b(at),b(lo))},e.\u0275cmp=G({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[Qe,Y],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span"),P(2,"Tags"),g(),j(3,"div",1),k(4,jG,5,3,"div",2),g(),j(5,"div",3),f(6,"div",0)(7,"span"),P(8,"Available Tags"),g(),j(9,"div",1),k(10,UG,7,1,"div",4),f(11,"i",5),I("click",function(){return o.editTag()}),g()()),i&2&&(v(4),_("ngForOf",o.currentTags),v(6),_("ngForOf",o.availableTags))},dependencies:[J,Fe,Ba],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function BG(t,e){t&1&&j(0,"div",31)}function $G(t,e){if(t&1&&(Pe(0),k(1,BG,1,0,"div",29),f(2,"span",30),P(3),g(),Oe()),t&2){let n=e.$implicit,r=e.index;v(),_("ngIf",r!=0),v(2),Ee(n)}}function HG(t,e){if(t&1){let n=X();f(0,"div",20),I("click",function(){let o=S(n).$implicit,s=w(3);return A(s.setCurrentNote(o))})("dragend",function(){S(n);let i=w(3);return A(i.googleService.update())}),f(1,"div",21)(2,"span",22),P(3),g(),f(4,"div",23),k(5,$G,4,2,"ng-container",24),g()(),f(6,"div",25)(7,"span",26),P(8),g(),f(9,"div",27)(10,"i",28),I("click",function(i){let s=S(n).$implicit;return w(3).editTags(s),A(i.stopPropagation())}),g(),f(11,"i",13),I("click",function(i){let s=S(n).$implicit;return w(3).renameNote(s),A(i.stopPropagation())}),g(),f(12,"i",14),I("click",function(i){let s=S(n).$implicit,a=w(2).$implicit;return w().deleteNote(a,s),A(i.stopPropagation())}),g()()()()}if(t&2){let n=e.$implicit,r=w(2).$implicit,i=w();_("dragdrop",n)("dragdropParent",r.notes),v(2),_e("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),v(),Ee(n.title),v(2),_("ngForOf",n.tags),v(3),Ee(n.wordCount)}}function zG(t,e){if(t&1){let n=X();f(0,"div",16),k(1,HG,13,9,"div",17),f(2,"div",18)(3,"i",19),I("click",function(i){S(n);let o=w().$implicit;return w().createNote(o),A(i.stopPropagation())}),g()()()}if(t&2){let n=w().$implicit;_("@drawer",void 0),v(),_("ngForOf",n.notes)}}function qG(t,e){if(t&1){let n=X();f(0,"div",7)(1,"div",8),I("click",function(){let o=S(n).$implicit,s=w();return A(s.setCurrentStory(o,!0))})("dragend",function(){S(n);let i=w();return A(i.googleService.update())}),f(2,"span",9),P(3),g(),f(4,"div",10)(5,"span",11),P(6),g(),f(7,"div",12)(8,"i",13),I("click",function(i){let s=S(n).$implicit;return w().renameStory(s),A(i.stopPropagation())}),g(),f(9,"i",14),I("click",function(i){let s=S(n).$implicit;return w().deleteStory(s),A(i.stopPropagation())}),g()()()(),k(10,zG,4,2,"div",15),g()}if(t&2){let n=e.$implicit,r=w();v(),_("dragdrop",n)("dragdropParent",r.stateService.stories),v(),_e("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),v(),Ee(n.title),v(3),Ee(r.getNotesWordCount(n)),v(4),_("ngIf",n==r.stateService.currentStory)}}var dP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,mt.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r,i=!1){this.stateService.currentStory=r,i&&!B.isEmpty(r.notes)&&(this.stateService.currentNote=r.notes[0])}createStory(){this.dialogService.createInput({title:"Create Story",placeholder:"Story Title"}).then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput({title:"Rename Story",placeholder:"Story Title",defaultValue:r.title}).then(i=>{yt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation({title:"Delete Story",messages:['Are you sure you want to delete "'+r.title+'"?']}).then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(B.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),B.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(uP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput({title:"Create Note",placeholder:"Note Title"}).then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput({title:"Rename Note",placeholder:"Note Title",defaultValue:r.title}).then(i=>{yt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation({title:"Delete Note",messages:['Are you sure you want to delete "'+i.title+'"?']}).then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),B.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!yt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(B.push(this.searchStories,i),B.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(b(at),b(lo),b(co))},e.\u0275cmp=G({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[Y],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=X();f(0,"input",0,1),I("input",function(){S(s);let c=Ze(1);return A(o.onSearchInputChange(c))})("focus",function(){S(s);let c=Ze(1);return A(c.select())}),g(),j(2,"div",2),f(3,"div",3),k(4,qG,11,9,"div",4),g(),j(5,"div",2),f(6,"div",5)(7,"i",6),I("click",function(){return o.createStory()}),g()()}i&2&&(v(4),_("ngForOf",o.stateService.stories))},dependencies:[J,Fe,be,Gn,Ba,tn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[lM]}});let t=e;return t})();function GG(t,e){if(t&1){let n=X();Pe(0),f(1,"div",1)(2,"span",2),P(3),g()(),f(4,"div",3)(5,"textarea",4),Fo("ngModelChange",function(i){S(n);let o=w();return ea(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),A(i)}),I("ngModelChange",function(){S(n);let i=w();return A(i.onChange())}),g()(),Oe()}if(t&2){let n=w();v(),_e("focus-mode",!n.stateService.sidebarVisible),v(2),No("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),v(2),_e("focus-mode",!n.stateService.sidebarVisible),ko("ngModel",n.stateService.currentNote.text)}}var hP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=yt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(b(lo),b(st),b(co))},e.\u0275cmp=G({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&k(0,GG,6,7,"ng-container",0),i&2&&_("ngIf",o.stateService.currentNote)},dependencies:[J,be,Gn,La,ja,ys],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.5rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var fP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(b(lo),b(st),b(co))},e.\u0275cmp=G({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[Y],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=X();f(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g(),f(3,"i",3),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g()(),f(4,"div",4)(5,"input",5,6),I("click",function(){S(s);let c=Ze(6);return A(o.onCountdownInputClick(c))})("input",function(){S(s);let c=Ze(6);return A(o.onCountdownInputChange(c))})("keypress",function(c){S(s);let l=Ze(6);return A(o.onCountdownInputSubmit(c,l))})("focus",function(){S(s);let c=Ze(6);return A(c.select())}),g()(),f(7,"div",7)(8,"i",8),I("click",function(){return o.applicationService.toggleTheme()}),g()()(),f(9,"div",9),j(10,"app-sidebar")(11,"div",10),f(12,"div",11),j(13,"app-note-editor"),g()()}if(i&2){let s=Ze(6);v(3),_("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),v(2),_e("user-select-none",s.readOnly),v(3),_("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),v(2),_e("display-none",!o.stateService.sidebarVisible),v(),_e("mobile-only",!o.stateService.sidebarVisible),v(),_e("desktop-only",o.stateService.sidebarVisible)}},dependencies:[J,gt,dP,hP,tn],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var pP=[{path:"messenger-browser",canActivate:[cP],component:lP},{path:"login",component:sP},{path:"story-manager",canActivate:[cp],component:fP},{path:"folder-picker",canActivate:[cp],component:LM},{path:"gallery",canActivate:[cp,aP],component:XM},{path:"home",component:iP},{path:"games",children:[{path:"activity",component:JM},{path:"twister",component:rP},{path:"nikdy-som",component:nP},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var gP=(t,e)=>{let n=R($a);return e(mP(n,t)).pipe(Qn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),He(n.requestAccessToken()).pipe(St(()=>e(mP(n,t))),Qn(i=>Di(()=>i)))}))},mP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;ZS(VM,{providers:[OA(),hx(pP,fx({paramsInheritanceStrategy:"always"})),rT(oT(),iT([gP])),mc(PT(()=>OT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),mc(qS(()=>GS())),mc(vD(()=>yD())),sM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"contextmenu",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
