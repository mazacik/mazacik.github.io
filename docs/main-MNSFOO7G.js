var CW=Object.create;var b_=Object.defineProperty,EW=Object.defineProperties,IW=Object.getOwnPropertyDescriptor,SW=Object.getOwnPropertyDescriptors,TW=Object.getOwnPropertyNames,w_=Object.getOwnPropertySymbols,O2=Object.getPrototypeOf,nS=Object.prototype.hasOwnProperty,k2=Object.prototype.propertyIsEnumerable,DW=Reflect.get;var P2=(t,e,n)=>e in t?b_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,re=(t,e)=>{for(var n in e||={})nS.call(e,n)&&P2(t,n,e[n]);if(w_)for(var n of w_(e))k2.call(e,n)&&P2(t,n,e[n]);return t},xt=(t,e)=>EW(t,SW(e));var iS=(t,e)=>{var n={};for(var i in t)nS.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&w_)for(var i of w_(t))e.indexOf(i)<0&&k2.call(t,i)&&(n[i]=t[i]);return n};var xW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),AW=(t,e)=>{for(var n in e)b_(t,n,{get:e[n],enumerable:!0})},MW=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of TW(e))!nS.call(t,r)&&r!==n&&b_(t,r,{get:()=>e[r],enumerable:!(i=IW(e,r))||i.enumerable});return t};var PW=(t,e,n)=>(n=t!=null?CW(O2(t)):{},MW(e||!t||!t.__esModule?b_(n,"default",{value:t,enumerable:!0}):n,t));var Ga=(t,e,n)=>DW(O2(t),n,e);var I=(t,e,n)=>new Promise((i,r)=>{var o=d=>{try{l(n.next(d))}catch(f){r(f)}},a=d=>{try{l(n.throw(d))}catch(f){r(f)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((n=n.apply(t,e)).next())});var EG=xW((COe,CE)=>{(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(S,x){x=x||{};var k=document.createEvent("CustomEvent");return k.initCustomEvent(S,!!x.bubbles,!!x.cancelable,x.detail||null),k},t.prototype=window.Event.prototype);function e(C){for(;C&&C!==document.body;){var S=window.getComputedStyle(C),x=function(k,V){return!(S[k]===void 0||S[k]===V)};if(S.opacity<1||x("zIndex","auto")||x("transform","none")||x("mixBlendMode","normal")||x("filter","none")||x("perspective","none")||S.isolation==="isolate"||S.position==="fixed"||S.webkitOverflowScrolling==="touch")return!0;C=C.parentElement}return!1}function n(C){for(;C;){if(C.localName==="dialog")return C;C=C.parentElement}return null}function i(C){C&&C.blur&&C!==document.body&&C.blur()}function r(C,S){for(var x=0;x<C.length;++x)if(C[x]===S)return!0;return!1}function o(C){return!C||!C.hasAttribute("method")?!1:C.getAttribute("method").toLowerCase()==="dialog"}function a(C){if(this.dialog_=C,this.replacedStyleTop_=!1,this.openAsModal_=!1,C.hasAttribute("role")||C.setAttribute("role","dialog"),C.show=this.show.bind(this),C.showModal=this.showModal.bind(this),C.close=this.close.bind(this),"returnValue"in C||(C.returnValue=""),"MutationObserver"in window){var S=new MutationObserver(this.maybeHideModal.bind(this));S.observe(C,{attributes:!0,attributeFilter:["open"]})}else{var x=!1,k=(function(){x?this.downgradeModal():this.maybeHideModal(),x=!1}).bind(this),V,G=function(A){if(A.target===C){var ie="DOMNodeRemoved";x|=A.type.substr(0,ie.length)===ie,window.clearTimeout(V),V=window.setTimeout(k,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(A){C.addEventListener(A,G)})}Object.defineProperty(C,"open",{set:this.setOpen.bind(this),get:C.hasAttribute.bind(C,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}a.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(C){C?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(C){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var S=document.createElement("div");this.dialog_.insertBefore(S,this.dialog_.firstChild),S.tabIndex=-1,S.focus(),this.dialog_.removeChild(S)}var x=document.createEvent("MouseEvents");x.initMouseEvent(C.type,C.bubbles,C.cancelable,window,C.detail,C.screenX,C.screenY,C.clientX,C.clientY,C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget),this.dialog_.dispatchEvent(x),C.stopPropagation()},focus_:function(){var C=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!C&&this.dialog_.tabIndex>=0&&(C=this.dialog_),!C){var S=["button","input","keygen","select","textarea"],x=S.map(function(k){return k+":not([disabled])"});x.push('[tabindex]:not([disabled]):not([tabindex=""])'),C=this.dialog_.querySelector(x.join(", "))}i(document.activeElement),C&&C.focus()},updateZIndex:function(C,S){if(C<S)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=C,this.backdrop_.style.zIndex=S},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");e(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(C){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),C!==void 0&&(this.dialog_.returnValue=C);var S=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(S)}};var l={};if(l.reposition=function(C){var S=document.body.scrollTop||document.documentElement.scrollTop,x=S+(window.innerHeight-C.offsetHeight)/2;C.style.top=Math.max(S,x)+"px"},l.isInlinePositionSetByStylesheet=function(C){for(var S=0;S<document.styleSheets.length;++S){var x=document.styleSheets[S],k=null;try{k=x.cssRules}catch{}if(k)for(var V=0;V<k.length;++V){var G=k[V],A=null;try{A=document.querySelectorAll(G.selectorText)}catch{}if(!(!A||!r(A,C))){var ie=G.style.getPropertyValue("top"),B=G.style.getPropertyValue("bottom");if(ie&&ie!=="auto"||B&&B!=="auto")return!0}}}return!1},l.needsCentering=function(C){var S=window.getComputedStyle(C);return S.position!=="absolute"||C.style.top!=="auto"&&C.style.top!==""||C.style.bottom!=="auto"&&C.style.bottom!==""?!1:!l.isInlinePositionSetByStylesheet(C)},l.forceRegisterDialog=function(C){if((window.HTMLDialogElement||C.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",C),C.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new a(C)},l.registerDialog=function(C){C.showModal||l.forceRegisterDialog(C)},l.DialogManager=function(){this.pendingDialogStack=[];var C=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(S){this.forwardTab_=void 0,S.stopPropagation(),C([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(S){var x=[];S.forEach(function(k){for(var V=0,G;G=k.removedNodes[V];++V){if(G instanceof Element)G.localName==="dialog"&&x.push(G);else continue;x=x.concat(G.querySelectorAll("dialog"))}}),x.length&&C(x)}))},l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var C=this.zIndexHigh_,S=0,x;x=this.pendingDialogStack[S];++S)x.updateZIndex(--C,--C),S===0&&(this.overlay.style.zIndex=--C);var k=this.pendingDialogStack[0];if(k){var V=k.dialog.parentNode||document.body;V.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(C){for(;C=n(C);){for(var S=0,x;x=this.pendingDialogStack[S];++S)if(x.dialog===C)return S===0;C=C.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(C){if(!this.containedByTopDialog_(C.target)&&(C.preventDefault(),C.stopPropagation(),i(C.target),this.forwardTab_!==void 0)){var S=this.pendingDialogStack[0],x=S.dialog,k=x.compareDocumentPosition(C.target);return k&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?S.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(C){if(this.forwardTab_=void 0,C.keyCode===27){C.preventDefault(),C.stopPropagation();var S=new t("cancel",{bubbles:!1,cancelable:!0}),x=this.pendingDialogStack[0];x&&x.dialog.dispatchEvent(S)&&x.dialog.close()}else C.keyCode===9&&(this.forwardTab_=!C.shiftKey)},l.DialogManager.prototype.checkDOM_=function(C){var S=this.pendingDialogStack.slice();S.forEach(function(x){C.indexOf(x.dialog)!==-1?x.downgradeModal():x.maybeHideModal()})},l.DialogManager.prototype.pushDialog=function(C){var S=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=S?!1:(this.pendingDialogStack.unshift(C)===1&&this.blockDocument(),this.updateStacking(),!0)},l.DialogManager.prototype.removeDialog=function(C){var S=this.pendingDialogStack.indexOf(C);S!==-1&&(this.pendingDialogStack.splice(S,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var p=f.get;f.get=function(){return o(this)?"dialog":p.call(this)};var v=f.set;f.set=function(C){return typeof C=="string"&&C.toLowerCase()==="dialog"?this.setAttribute("method",C):v.call(this,C)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(C){if(l.formSubmitter=null,l.useValue=null,!C.defaultPrevented){var S=C.target;if(!(!S||!o(S.form))){var x=S.type==="submit"&&["button","input"].indexOf(S.localName)>-1;if(!x){if(!(S.localName==="input"&&S.type==="image"))return;l.useValue=C.offsetX+","+C.offsetY}var k=n(S);k&&(l.formSubmitter=S)}}},!1);var w=HTMLFormElement.prototype.submit,E=function(){if(!o(this))return w.call(this);var C=n(this);C&&C.close()};HTMLFormElement.prototype.submit=E,document.addEventListener("submit",function(C){var S=C.target;if(o(S)){C.preventDefault();var x=n(S);if(x){var k=l.formSubmitter;k&&k.form===S?x.close(l.useValue||k.value):x.close(),l.formSubmitter=null}}},!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,typeof define=="function"&&"amd"in define?define(function(){return l}):typeof CE=="object"&&typeof CE.exports=="object"?CE.exports=l:window.dialogPolyfill=l})()});function OW(t,e){return Object.is(t,e)}var ui=null,Up=!1,C_=1,za=Symbol("SIGNAL");function Ot(t){let e=ui;return ui=t,e}function kW(){return Up}var E_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function R2(t){if(Up)throw new Error("");if(ui===null)return;ui.consumerOnSignalRead(t);let e=ui.nextProducerIndex++;if(Dd(ui),e<ui.producerNode.length&&ui.producerNode[e]!==t&&Bp(ui)){let n=ui.producerNode[e];S_(n,ui.producerIndexOfThis[e])}ui.producerNode[e]!==t&&(ui.producerNode[e]=t,ui.producerIndexOfThis[e]=Bp(ui)?V2(t,ui,e):0),ui.producerLastReadVersion[e]=t.version}function RW(){C_++}function NW(t){if(!(Bp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===C_)){if(!t.producerMustRecompute(t)&&!I_(t)){t.dirty=!1,t.lastCleanEpoch=C_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=C_}}function N2(t){if(t.liveConsumerNode===void 0)return;let e=Up;Up=!0;try{for(let n of t.liveConsumerNode)n.dirty||L2(n)}finally{Up=e}}function F2(){return ui?.consumerAllowSignalWrites!==!1}function L2(t){t.dirty=!0,N2(t),t.consumerMarkedDirty?.(t)}function oS(t){return t&&(t.nextProducerIndex=0),Ot(t)}function sS(t,e){if(Ot(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)S_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function I_(t){Dd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(NW(n),i!==n.version))return!0}return!1}function aS(t){if(Dd(t),Bp(t))for(let e=0;e<t.producerNode.length;e++)S_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function V2(t,e,n){if(j2(t),Dd(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=V2(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function S_(t,e){if(j2(t),Dd(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)S_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Dd(r),r.producerIndexOfThis[i]=e}}function Bp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function j2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FW(){throw new Error}var U2=FW;function B2(){U2()}function $2(t){U2=t}var LW=null;function H2(t){let e=Object.create(z2);e.value=t;let n=()=>(R2(e),e.value);return n[za]=e,n}function cS(t,e){F2()||B2(),t.equal(t.value,e)||(t.value=e,VW(t))}function G2(t,e){F2()||B2(),cS(t,e(t.value))}var z2=xt(re({},E_),{equal:OW,value:void 0});function VW(t){t.version++,RW(),N2(t),LW?.()}function W2(t,e,n){let i=Object.create(jW);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=d=>{i.cleanupFn=d};function o(d){return d.fn===null&&d.schedule===null}function a(d){o(d)||(aS(d),d.cleanupFn(),d.fn=null,d.schedule=null,d.cleanupFn=rS)}let l=()=>{if(i.fn===null)return;if(kW())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!I_(i))return;i.hasRun=!0;let d=oS(i);try{i.cleanupFn(),i.cleanupFn=rS,i.fn(r)}finally{sS(i,d)}};return i.ref={notify:()=>L2(i),run:l,cleanup:()=>i.cleanupFn(),destroy:()=>a(i),[za]:i},i.ref}var rS=()=>{},jW=xt(re({},E_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:rS});function De(t){return typeof t=="function"}function xd(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var T_=xd(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var kn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(De(i))try{i()}catch(o){e=o instanceof T_?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{q2(o)}catch(a){e=e??[],a instanceof T_?e=[...e,...a.errors]:e.push(a)}}if(e)throw new T_(e)}}add(e){var n;if(e&&e!==this)if(this.closed)q2(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hl(n,e)}remove(e){let{_finalizers:n}=this;n&&hl(n,e),e instanceof t&&e._removeParent(this)}};kn.EMPTY=(()=>{let t=new kn;return t.closed=!0,t})();var lS=kn.EMPTY;function D_(t){return t instanceof kn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function q2(t){De(t)?t():t.unsubscribe()}var mo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ad={setTimeout(t,e,...n){let{delegate:i}=Ad;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ad;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function x_(t){Ad.setTimeout(()=>{let{onUnhandledError:e}=mo;if(e)e(t);else throw t})}function $p(){}var K2=uS("C",void 0,void 0);function Y2(t){return uS("E",void 0,t)}function Q2(t){return uS("N",t,void 0)}function uS(t,e,n){return{kind:t,value:e,error:n}}var fl=null;function Md(t){if(mo.useDeprecatedSynchronousErrorHandling){let e=!fl;if(e&&(fl={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=fl;if(fl=null,n)throw i}}else t()}function X2(t){mo.useDeprecatedSynchronousErrorHandling&&fl&&(fl.errorThrown=!0,fl.error=t)}var pl=class extends kn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,D_(e)&&e.add(this)):this.destination=$W}static create(e,n,i){return new Wa(e,n,i)}next(e){this.isStopped?hS(Q2(e),this):this._next(e)}error(e){this.isStopped?hS(Y2(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hS(K2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UW=Function.prototype.bind;function dS(t,e){return UW.call(t,e)}var fS=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){A_(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){A_(i)}else A_(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){A_(n)}}},Wa=class extends pl{constructor(e,n,i){super();let r;if(De(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&mo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&dS(e.next,o),error:e.error&&dS(e.error,o),complete:e.complete&&dS(e.complete,o)}):r=e}this.destination=new fS(r)}};function A_(t){mo.useDeprecatedSynchronousErrorHandling?X2(t):x_(t)}function BW(t){throw t}function hS(t,e){let{onStoppedNotification:n}=mo;n&&Ad.setTimeout(()=>n(t,e))}var $W={closed:!0,next:$p,error:BW,complete:$p};var Pd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function br(t){return t}function pS(...t){return mS(t)}function mS(t){return t.length===0?br:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=GW(n)?n:new Wa(n,i,r);return Md(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=J2(i),new i((r,o)=>{let a=new Wa({next:l=>{try{n(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Pd](){return this}pipe(...n){return mS(n)(this)}toPromise(n){return n=J2(n),new n((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function J2(t){var e;return(e=t??mo.Promise)!==null&&e!==void 0?e:Promise}function HW(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}function GW(t){return t&&t instanceof pl||HW(t)&&D_(t)}function gS(t){return De(t?.lift)}function gt(t){return e=>{if(gS(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,i,r){return new vS(t,e,n,i,r)}var vS=class extends pl{constructor(e,n,i,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Od(){return gt((t,e)=>{let n=null;t._refCount++;let i=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var kd=class extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kn;let n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kn.EMPTY)}return e}refCount(){return Od()(this)}};var Z2=xd(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var di=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new M_(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Z2}next(n){Md(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Md(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Md(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?lS:(this.currentObservers=null,o.push(n),new kn(()=>{this.currentObservers=null,hl(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new $e;return n.source=this,n}}return t.create=(e,n)=>new M_(e,n),t})(),M_=class extends di{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:lS}};var Xn=class extends di{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var yS={now(){return(yS.delegate||Date).now()},delegate:void 0};var P_=class extends kn{constructor(e,n){super()}schedule(e,n=0){return this}};var Hp={setInterval(t,e,...n){let{delegate:i}=Hp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Hp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Rd=class extends P_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Hp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Hp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hl(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Nd=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Nd.now=yS.now;var Fd=class extends Nd{constructor(e,n=Nd.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Ld=new Fd(Rd),_S=Ld;var O_=class extends Rd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var k_=class extends Fd{};var wS=new k_(O_);var cr=new $e(t=>t.complete());function R_(t){return t&&De(t.schedule)}function bS(t){return t[t.length-1]}function N_(t){return De(bS(t))?t.pop():void 0}function Qo(t){return R_(bS(t))?t.pop():void 0}function e3(t,e){return typeof bS(t)=="number"?t.pop():e}function F_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function n3(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(p){try{f(i.next(p))}catch(v){a(v)}}function d(p){try{f(i.throw(p))}catch(v){a(v)}}function f(p){p.done?o(p.value):r(p.value).then(l,d)}f((i=i.apply(t,e||[])).next())})}function t3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ml(t){return this instanceof ml?(this.v=t,this):new ml(t)}function i3(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(w){i[w]&&(r[w]=function(E){return new Promise(function(C,S){o.push([w,E,C,S])>1||l(w,E)})})}function l(w,E){try{d(i[w](E))}catch(C){v(o[0][3],C)}}function d(w){w.value instanceof ml?Promise.resolve(w.value.v).then(f,p):v(o[0][2],w)}function f(w){l("next",w)}function p(w){l("throw",w)}function v(w,E){w(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function r3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof t3=="function"?t3(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,d){a=t[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(f){o({value:f,done:l})},a)}}var Vd=t=>t&&typeof t.length=="number"&&typeof t!="function";function L_(t){return De(t?.then)}function V_(t){return De(t[Pd])}function j_(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function U_(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var B_=zW();function $_(t){return De(t?.[B_])}function H_(t){return i3(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield ml(n.read());if(r)return yield ml(void 0);yield yield ml(i)}}finally{n.releaseLock()}})}function G_(t){return De(t?.getReader)}function Yt(t){if(t instanceof $e)return t;if(t!=null){if(V_(t))return WW(t);if(Vd(t))return qW(t);if(L_(t))return KW(t);if(j_(t))return o3(t);if($_(t))return YW(t);if(G_(t))return QW(t)}throw U_(t)}function WW(t){return new $e(e=>{let n=t[Pd]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qW(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KW(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,x_)})}function YW(t){return new $e(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function o3(t){return new $e(e=>{XW(t,e).catch(n=>e.error(n))})}function QW(t){return o3(H_(t))}function XW(t,e){var n,i,r,o;return n3(this,void 0,void 0,function*(){try{for(n=r3(t);i=yield n.next(),!i.done;){let a=i.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function lr(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function qa(t,e=0){return gt((n,i)=>{n.subscribe(at(i,r=>lr(i,t,()=>i.next(r),e),()=>lr(i,t,()=>i.complete(),e),r=>lr(i,t,()=>i.error(r),e)))})}function Ka(t,e=0){return gt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function s3(t,e){return Yt(t).pipe(Ka(e),qa(e))}function a3(t,e){return Yt(t).pipe(Ka(e),qa(e))}function c3(t,e){return new $e(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function l3(t,e){return new $e(n=>{let i;return lr(n,e,()=>{i=t[B_](),lr(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){n.error(a);return}o?n.complete():n.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}function z_(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{lr(n,e,()=>{let i=t[Symbol.asyncIterator]();lr(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function u3(t,e){return z_(H_(t),e)}function d3(t,e){if(t!=null){if(V_(t))return s3(t,e);if(Vd(t))return c3(t,e);if(L_(t))return a3(t,e);if(j_(t))return z_(t,e);if($_(t))return l3(t,e);if(G_(t))return u3(t,e)}throw U_(t)}function Qt(t,e){return e?d3(t,e):Yt(t)}function Ne(...t){let e=Qo(t);return Qt(t,e)}function jd(t,e){let n=De(t)?t:()=>t,i=r=>r.error(n());return new $e(e?r=>e.schedule(i,0,r):i)}function CS(t){return!!t&&(t instanceof $e||De(t.lift)&&De(t.subscribe))}var Cr=xd(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Er(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,a;t.subscribe({next:l=>{a=l,o=!0},error:r,complete:()=>{o?i(a):n?i(e.defaultValue):r(new Cr)}})})}function W_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new Wa({next:a=>{i(a),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new Cr)}});t.subscribe(o)})}function h3(t){return t instanceof Date&&!isNaN(t)}function Fe(t,e){return gt((n,i)=>{let r=0;n.subscribe(at(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:JW}=Array;function ZW(t,e){return JW(e)?t(...e):t(e)}function Ud(t){return Fe(e=>ZW(t,e))}var{isArray:eq}=Array,{getPrototypeOf:tq,prototype:nq,keys:iq}=Object;function q_(t){if(t.length===1){let e=t[0];if(eq(e))return{args:e,keys:null};if(rq(e)){let n=iq(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function rq(t){return t&&typeof t=="object"&&tq(t)===nq}function K_(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Y_(...t){let e=Qo(t),n=N_(t),{args:i,keys:r}=q_(t);if(i.length===0)return Qt([],e);let o=new $e(oq(i,e,r?a=>K_(r,a):br));return n?o.pipe(Ud(n)):o}function oq(t,e,n=br){return i=>{f3(e,()=>{let{length:r}=t,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)f3(e,()=>{let f=Qt(t[d],e),p=!1;f.subscribe(at(i,v=>{o[d]=v,p||(p=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function f3(t,e,n){t?lr(n,t,e):e()}function p3(t,e,n,i,r,o,a,l){let d=[],f=0,p=0,v=!1,w=()=>{v&&!d.length&&!f&&e.complete()},E=S=>f<i?C(S):d.push(S),C=S=>{o&&e.next(S),f++;let x=!1;Yt(n(S,p++)).subscribe(at(e,k=>{r?.(k),o?E(k):e.next(k)},()=>{x=!0},void 0,()=>{if(x)try{for(f--;d.length&&f<i;){let k=d.shift();a?lr(e,a,()=>C(k)):C(k)}w()}catch(k){e.error(k)}}))};return t.subscribe(at(e,E,()=>{v=!0,w()})),()=>{l?.()}}function Rn(t,e,n=1/0){return De(e)?Rn((i,r)=>Fe((o,a)=>e(i,o,r,a))(Yt(t(i,r))),n):(typeof e=="number"&&(n=e),gt((i,r)=>p3(i,r,t,n)))}function Ya(t=1/0){return Rn(br,t)}function m3(){return Ya(1)}function Bd(...t){return m3()(Qt(t,Qo(t)))}function Q_(t){return new $e(e=>{Yt(t()).subscribe(e)})}function ES(...t){let e=N_(t),{args:n,keys:i}=q_(t),r=new $e(o=>{let{length:a}=n;if(!a){o.complete();return}let l=new Array(a),d=a,f=a;for(let p=0;p<a;p++){let v=!1;Yt(n[p]).subscribe(at(o,w=>{v||(v=!0,f--),l[p]=w},()=>d--,void 0,()=>{(!d||!v)&&(f||o.next(i?K_(i,l):l),o.complete())}))}});return e?r.pipe(Ud(e)):r}var sq=["addListener","removeListener"],aq=["addEventListener","removeEventListener"],cq=["on","off"];function $d(t,e,n,i){if(De(n)&&(i=n,n=void 0),i)return $d(t,e,n).pipe(Ud(i));let[r,o]=dq(t)?aq.map(a=>l=>t[a](e,l,n)):lq(t)?sq.map(g3(t,e)):uq(t)?cq.map(g3(t,e)):[];if(!r&&Vd(t))return Rn(a=>$d(a,e,n))(Yt(t));if(!r)throw new TypeError("Invalid event target");return new $e(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function g3(t,e){return n=>i=>t[n](e,i)}function lq(t){return De(t.addListener)&&De(t.removeListener)}function uq(t){return De(t.on)&&De(t.off)}function dq(t){return De(t.addEventListener)&&De(t.removeEventListener)}function v3(t=0,e,n=_S){let i=-1;return e!=null&&(R_(e)?n=e:i=e),new $e(r=>{let o=h3(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Gp(...t){let e=Qo(t),n=e3(t,1/0),i=t;return i.length?i.length===1?Yt(i[0]):Ya(n)(Qt(i,e)):cr}function hi(t,e){return gt((n,i)=>{let r=0;n.subscribe(at(i,o=>t.call(e,o,r++)&&i.next(o)))})}function y3(t){return gt((e,n)=>{let i=!1,r=null,o=null,a=!1,l=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let f=r;r=null,n.next(f)}a&&n.complete()},d=()=>{o=null,a&&n.complete()};e.subscribe(at(n,f=>{i=!0,r=f,o||Yt(t(f)).subscribe(o=at(n,l,d))},()=>{a=!0,(!i||!o||o.closed)&&n.complete()}))})}function IS(t,e=Ld){return y3(()=>v3(t,e))}function Xo(t){return gt((e,n)=>{let i=null,r=!1,o;i=e.subscribe(at(n,void 0,void 0,a=>{o=Yt(t(a,Xo(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function _3(t,e,n,i,r){return(o,a)=>{let l=n,d=e,f=0;o.subscribe(at(a,p=>{let v=f++;d=l?t(d,p,v):(l=!0,p),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Qa(t,e){return De(e)?Rn(t,e,1):Rn(t,1)}function Xa(t){return gt((e,n)=>{let i=!1;e.subscribe(at(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function zs(t){return t<=0?()=>cr:gt((e,n)=>{let i=0;e.subscribe(at(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function SS(t){return Fe(()=>t)}function X_(t=hq){return gt((e,n)=>{let i=!1;e.subscribe(at(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function hq(){return new Cr}function gl(t){return gt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jo(t,e){let n=arguments.length>=2;return i=>i.pipe(t?hi((r,o)=>t(r,o,i)):br,zs(1),n?Xa(e):X_(()=>new Cr))}function Hd(t){return t<=0?()=>cr:gt((e,n)=>{let i=[];e.subscribe(at(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function TS(t,e){let n=arguments.length>=2;return i=>i.pipe(t?hi((r,o)=>t(r,o,i)):br,Hd(1),n?Xa(e):X_(()=>new Cr))}function DS(t,e){return gt(_3(t,e,arguments.length>=2,!0))}function xS(t){return hi((e,n)=>t<=n)}function AS(...t){let e=Qo(t);return gt((n,i)=>{(e?Bd(t,n,e):Bd(t,n)).subscribe(i)})}function Oi(t,e){return gt((n,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();n.subscribe(at(i,d=>{r?.unsubscribe();let f=0,p=o++;Yt(t(d,p)).subscribe(r=at(i,v=>i.next(e?e(d,v,p,f++):v),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function go(t){return gt((e,n)=>{Yt(t).subscribe(at(n,()=>n.complete(),$p)),!n.closed&&e.subscribe(n)})}function Nn(t,e,n){let i=De(t)||e||n?{next:t,error:e,complete:n}:t;return i?gt((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(at(o,d=>{var f;(f=i.next)===null||f===void 0||f.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var f;l=!1,(f=i.error)===null||f===void 0||f.call(i,d),o.error(d)},()=>{var d,f;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(f=i.finalize)===null||f===void 0||f.call(i)}))}):br}var aL="https://g.co/ng/security#xss",te=class extends Error{constructor(e,n){super(M0(e,n)),this.code=e}};function M0(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var zS=class extends di{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=Ot(null);try{super.next(e)}finally{Ot(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),a=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=MS(o),r&&(r=MS(r)),a&&(a=MS(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof kn&&e.add(l),l}};function MS(t){return e=>{setTimeout(t,void 0,e)}}var zt=zS;var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lt||{});function Yi(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Yi).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function WS(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var cL=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cL||{}),ts=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ts||{});function nm(t){return{toString:t}.toString()}var Ws=globalThis;var Yd={},ur=[];function Wt(t){for(let e in t)if(t[e]===Wt)return e;throw Error("Could not find renamed property on target object.")}function fq(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var pq=Wt({\u0275cmp:Wt}),mq=Wt({\u0275dir:Wt}),gq=Wt({\u0275pipe:Wt}),vq=Wt({\u0275mod:Wt}),d0=Wt({\u0275fac:Wt}),zp=Wt({__NG_ELEMENT_ID__:Wt}),w3=Wt({__NG_ENV_ID__:Wt}),xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(xe||{});function lL(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function qS(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],a=n[i++],l=n[i++];t.setAttribute(e,a,l,o)}else{let o=r,a=n[++i];yq(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),i++}}return i}function uL(t){return t===3||t===4||t===6}function yq(t){return t.charCodeAt(0)===64}function Wp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?b3(t,n,r,null,e[++i]):b3(t,n,r,null,null))}}return t}function b3(t,e,n,i,r){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let l=t[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<t.length;){let l=t[o];if(typeof l=="number")break;if(l===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var dL="ng-template";function _q(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let a=t[i++];if(n&&o==="class"&&lL(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function hL(t){return t.type===4&&t.value!==dL}function wq(t,e,n){let i=t.type===4&&!n?dL:t.value;return e===i}function bq(t,e,n){let i=4,r=t.attrs||[],o=Iq(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!vo(i)&&!vo(d))return!1;if(a&&vo(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!wq(t,d,n)||d===""&&e.length===1){if(vo(i))return!1;a=!0}}else{let f=i&8?d:e[++l];if(i&8&&t.attrs!==null){if(!_q(t.attrs,f,n)){if(vo(i))return!1;a=!0}continue}let p=i&8?"class":d,v=Cq(p,r,hL(t),n);if(v===-1){if(vo(i))return!1;a=!0;continue}if(f!==""){let w;v>o?w="":w=r[v+1].toLowerCase();let E=i&8?w:null;if(E&&lL(E,f,0)!==-1||i&2&&f!==w){if(vo(i))return!1;a=!0}}}}return vo(i)||a}function vo(t){return(t&1)===0}function Cq(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let a=e[r];if(a===t)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return Sq(e,t)}function Eq(t,e,n=!1){for(let i=0;i<e.length;i++)if(bq(t,e[i],n))return!0;return!1}function Iq(t){for(let e=0;e<t.length;e++){let n=t[e];if(uL(n))return e}return t.length}function Sq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function C3(t,e){return t?":not("+e.trim()+")":e}function Tq(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(i&2){let l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!vo(a)&&(e+=C3(o,r),r=""),i=a,o=o||!vo(i);n++}return r!==""&&(e+=C3(o,r)),e}function Dq(t){return t.map(Tq).join(",")}function xq(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!vo(r))break;r=o}i++}return{attrs:e,classes:n}}function le(t){return nm(()=>{let e=vL(t),n=xt(re({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cL.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ts.Emulated,styles:t.styles||ur,_:null,schemas:t.schemas||null,tView:null,id:""});yL(n);let i=t.dependencies;return n.directiveDefs=I3(i,!1),n.pipeDefs=I3(i,!0),n.id=Pq(n),n})}function Aq(t){return ec(t)||fL(t)}function Mq(t){return t!==null}function Qi(t){return nm(()=>({type:t.type,bootstrap:t.bootstrap||ur,declarations:t.declarations||ur,imports:t.imports||ur,exports:t.exports||ur,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function E3(t,e){if(t==null)return Yd;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,a,l=xe.None;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o):(o=r,a=r),e?(n[o]=l!==xe.None?[i,l]:i,e[o]=a):n[o]=i}return n}function At(t){return nm(()=>{let e=vL(t);return yL(e),e})}function ec(t){return t[pq]||null}function fL(t){return t[mq]||null}function pL(t){return t[gq]||null}function mL(t){let e=ec(t)||fL(t)||pL(t);return e!==null?e.standalone:!1}function gL(t,e){let n=t[vq]||null;if(!n&&e===!0)throw new Error(`Type ${Yi(t)} does not have '\u0275mod' property.`);return n}function vL(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yd,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ur,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:E3(t.inputs,e),outputs:E3(t.outputs),debugInfo:null}}function yL(t){t.features?.forEach(e=>e(t))}function I3(t,e){if(!t)return null;let n=e?pL:Aq;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(Mq)}function Pq(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var ss=0,ct=1,Re=2,Ci=3,yo=4,bo=5,h0=6,qp=7,_o=8,Qd=9,qs=10,wn=11,Kp=12,S3=13,sh=14,ns=15,im=16,Gd=17,Ks=18,P0=19,_L=20,Za=21,r0=22,_l=23,is=25,W1=1;var wl=7,f0=8,Xd=9,Ir=10,q1=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(q1||{});function vl(t){return Array.isArray(t)&&typeof t[W1]=="object"}function ea(t){return Array.isArray(t)&&t[W1]===!0}function K1(t){return(t.flags&4)!==0}function O0(t){return t.componentOffset>-1}function k0(t){return(t.flags&1)===1}function Ys(t){return!!t.template}function Oq(t){return(t[Re]&512)!==0}var kq="svg",Rq="math",Nq=!1;function Fq(){return Nq}function rs(t){for(;Array.isArray(t);)t=t[ss];return t}function Lq(t){for(;Array.isArray(t);){if(typeof t[W1]=="object")return t;t=t[ss]}return null}function wL(t,e){return rs(e[t])}function Ur(t,e){return rs(e[t.index])}function bL(t,e){return t.data[e]}function Vq(t,e){return t[e]}function ic(t,e){let n=e[t];return vl(n)?n:n[ss]}function jq(t){return(t[Re]&4)===4}function Y1(t){return(t[Re]&128)===128}function Uq(t){return ea(t[Ci])}function Jd(t,e){return e==null?null:t[e]}function CL(t){t[Gd]=0}function Bq(t){t[Re]&1024||(t[Re]|=1024,Y1(t)&&Yp(t))}function $q(t,e){for(;t>0;)e=e[sh],t--;return e}function Q1(t){return!!(t[Re]&9216||t[_l]?.dirty)}function KS(t){Q1(t)?Yp(t):t[Re]&64&&(Fq()?(t[Re]|=1024,Yp(t)):t[qs].changeDetectionScheduler?.notify())}function Yp(t){t[qs].changeDetectionScheduler?.notify();let e=Qp(t);for(;e!==null&&!(e[Re]&8192||(e[Re]|=8192,!Y1(e)));)e=Qp(e)}function EL(t,e){if((t[Re]&256)===256)throw new te(911,!1);t[Za]===null&&(t[Za]=[]),t[Za].push(e)}function Hq(t,e){if(t[Za]===null)return;let n=t[Za].indexOf(e);n!==-1&&t[Za].splice(n,1)}function Qp(t){let e=t[Ci];return ea(e)?e[Ci]:e}var nt={lFrame:PL(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Gq(){return nt.lFrame.elementDepthCount}function zq(){nt.lFrame.elementDepthCount++}function Wq(){nt.lFrame.elementDepthCount--}function IL(){return nt.bindingsEnabled}function qq(){return nt.skipHydrationRootTNode!==null}function Kq(t){return nt.skipHydrationRootTNode===t}function Yq(){nt.skipHydrationRootTNode=null}function It(){return nt.lFrame.lView}function Gn(){return nt.lFrame.tView}function R(t){return nt.lFrame.contextLView=t,t[_o]}function N(t){return nt.lFrame.contextLView=null,t}function ki(){let t=SL();for(;t!==null&&t.type===64;)t=t.parent;return t}function SL(){return nt.lFrame.currentTNode}function Qq(){let t=nt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Dl(t,e){let n=nt.lFrame;n.currentTNode=t,n.isParent=e}function X1(){return nt.lFrame.isParent}function TL(){nt.lFrame.isParent=!1}function Xq(){return nt.lFrame.contextLView}function Jq(){let t=nt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zq(){return nt.lFrame.bindingIndex}function e7(t){return nt.lFrame.bindingIndex=t}function rm(){return nt.lFrame.bindingIndex++}function J1(t){let e=nt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function t7(){return nt.lFrame.inI18n}function n7(t,e){let n=nt.lFrame;n.bindingIndex=n.bindingRootIndex=t,YS(e)}function i7(){return nt.lFrame.currentDirectiveIndex}function YS(t){nt.lFrame.currentDirectiveIndex=t}function DL(t){let e=nt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xL(){return nt.lFrame.currentQueryIndex}function Z1(t){nt.lFrame.currentQueryIndex=t}function r7(t){let e=t[ct];return e.type===2?e.declTNode:e.type===1?t[bo]:null}function AL(t,e,n){if(n&lt.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&lt.Host);)if(r=r7(o),r===null||(o=o[sh],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=nt.lFrame=ML();return i.currentTNode=e,i.lView=t,!0}function eT(t){let e=ML(),n=t[ct];nt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ML(){let t=nt.lFrame,e=t===null?null:t.child;return e===null?PL(t):e}function PL(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OL(){let t=nt.lFrame;return nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kL=OL;function tT(){let t=OL();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function o7(t){return(nt.lFrame.contextLView=$q(t,nt.lFrame.contextLView))[_o]}function rc(){return nt.lFrame.selectedIndex}function bl(t){nt.lFrame.selectedIndex=t}function R0(){let t=nt.lFrame;return bL(t.tView,t.selectedIndex)}function s7(){return nt.lFrame.currentNamespace}var RL=!0;function N0(){return RL}function F0(t){RL=t}function a7(){return ah(ki(),It())}function ah(t,e){return new nn(Ur(t,e))}var nn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=a7;let t=e;return t})();function c7(t){return t instanceof nn?t.nativeElement:t}function l7(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function u7(t){return t.flat(Number.POSITIVE_INFINITY)}function nT(t,e){t.forEach(n=>Array.isArray(n)?nT(n,e):e(n))}function NL(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function p0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function d7(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function L0(t,e,n){let i=om(t,e);return i>=0?t[i|1]=n:(i=~i,d7(t,i,e,n)),i}function PS(t,e){let n=om(t,e);if(n>=0)return t[n|1]}function om(t,e){return h7(t,e,1)}function h7(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),a=t[o<<n];if(e===a)return o<<n;a>e?r=o:i=o+1}return~(r<<n)}function f7(){return this._results[Symbol.iterator]()}var QS=class t{get changes(){return this._changes??=new zt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=f7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=u7(e);(this._changesDetected=!l7(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function FL(t){return(t.flags&128)===128}var XS;function LL(t){XS=t}function p7(){if(XS!==void 0)return XS;if(typeof document<"u")return document;throw new te(210,!1)}function ne(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xi(t){return{providers:t.providers||[],imports:t.imports||[]}}function V0(t){return T3(t,jL)||T3(t,UL)}function VL(t){return V0(t)!==null}function T3(t,e){return t.hasOwnProperty(e)?t[e]:null}function m7(t){let e=t&&(t[jL]||t[UL]);return e||null}function D3(t){return t&&(t.hasOwnProperty(x3)||t.hasOwnProperty(g7))?t[x3]:null}var jL=Wt({\u0275prov:Wt}),x3=Wt({\u0275inj:Wt}),UL=Wt({ngInjectableDef:Wt}),g7=Wt({ngInjectorDef:Wt}),we=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},iT=new we("",{providedIn:"root",factory:()=>v7}),v7="ng",rT=new we(""),Br=new we("",{providedIn:"platform",factory:()=>"unknown"});var oT=new we(""),sT=new we("",{providedIn:"root",factory:()=>p7().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var y7=Wt({__forward_ref__:Wt});function oc(t){return t.__forward_ref__=oc,t.toString=function(){return Yi(this())},t}function Ki(t){return BL(t)?t():t}function BL(t){return typeof t=="function"&&t.hasOwnProperty(y7)&&t.__forward_ref__===oc}function $L(t){return t&&!!t.\u0275providers}function Zd(t){return typeof t=="string"?t:t==null?"":String(t)}function _7(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zd(t)}function w7(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,t)}function aT(t,e){throw new te(-201,!1)}var JS;function HL(){return JS}function jr(t){let e=JS;return JS=t,e}function GL(t,e,n){let i=V0(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&lt.Optional)return null;if(e!==void 0)return e;aT(t,"Injector")}var b7={},Xp=b7,ZS="__NG_DI_FLAG__",m0="ngTempTokenPath",C7="ngTokenPath",E7=/\n/gm,I7="\u0275",A3="__source",qd;function S7(){return qd}function Ja(t){let e=qd;return qd=t,e}function T7(t,e=lt.Default){if(qd===void 0)throw new te(-203,!1);return qd===null?GL(t,void 0,e):qd.get(t,e&lt.Optional?null:void 0,e)}function ae(t,e=lt.Default){return(HL()||T7)(Ki(t),e)}function ee(t,e=lt.Default){return ae(t,j0(e))}function j0(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function e1(t){let e=[];for(let n=0;n<t.length;n++){let i=Ki(t[n]);if(Array.isArray(i)){if(i.length===0)throw new te(900,!1);let r,o=lt.Default;for(let a=0;a<i.length;a++){let l=i[a],d=D7(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(ae(r,o))}else e.push(ae(i))}return e}function zL(t,e){return t[ZS]=e,t.prototype[ZS]=e,t}function D7(t){return t[ZS]}function x7(t,e,n,i){let r=t[m0];throw e[A3]&&r.unshift(e[A3]),t.message=A7(`
`+t.message,r,n,i),t[C7]=r,t[m0]=null,t}function A7(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==I7?t.slice(2):t;let r=Yi(e);if(Array.isArray(e))r=e.map(Yi).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Yi(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(E7,`
  `)}`}var M7="h",P7="b";var O7=()=>null;function cT(t,e,n=!1){return O7(t,e,n)}var J_="__parameters__";function k7(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function WL(t,e,n){return nm(()=>{let i=k7(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,f,p){let v=d.hasOwnProperty(J_)?d[J_]:Object.defineProperty(d,J_,{value:[]})[J_];for(;v.length<=p;)v.push(null);return(v[p]=v[p]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ji=zL(WL("Optional"),8);var qL=zL(WL("SkipSelf"),4);function eh(t,e){let n=t.hasOwnProperty(d0);return n?t[d0]:null}var th=new we(""),KL=new we("",-1),YL=new we(""),g0=class{get(e,n=Xp){if(n===Xp){let i=new Error(`NullInjectorError: No provider for ${Yi(e)}!`);throw i.name="NullInjectorError",i}return n}};function sc(t){return{\u0275providers:t}}function sm(...t){return{\u0275providers:QL(!0,t),\u0275fromNgModule:!0}}function QL(t,...e){let n=[],i=new Set,r,o=a=>{n.push(a)};return nT(e,a=>{let l=a;t1(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&XL(r,o),n}function XL(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];lT(r,o=>{e(o,i)})}}function t1(t,e,n,i){if(t=Ki(t),!t)return!1;let r=null,o=D3(t),a=!o&&ec(t);if(!o&&!a){let d=t.ngModule;if(o=D3(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=t}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of d)t1(f,e,n,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let f;try{nT(o.imports,p=>{t1(p,e,n,i)&&(f||=[],f.push(p))})}finally{}f!==void 0&&XL(f,e)}if(!l){let f=eh(r)||(()=>new r);e({provide:r,useFactory:f,deps:ur},r),e({provide:YL,useValue:r,multi:!0},r),e({provide:th,useValue:()=>ae(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let f=t;lT(d,p=>{e(p,f)})}}else return!1;return r!==t&&t.providers!==void 0}function lT(t,e){for(let n of t)$L(n)&&(n=n.\u0275providers),Array.isArray(n)?lT(n,e):e(n)}var R7=Wt({provide:String,useValue:Wt});function JL(t){return t!==null&&typeof t=="object"&&R7 in t}function N7(t){return!!(t&&t.useExisting)}function F7(t){return!!(t&&t.useFactory)}function nh(t){return typeof t=="function"}function L7(t){return!!t.useClass}var U0=new we(""),o0={},V7={},OS;function B0(){return OS===void 0&&(OS=new g0),OS}var fi=class{},Jp=class extends fi{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,i1(e,a=>this.processProvider(a)),this.records.set(KL,zd(void 0,this)),r.has("environment")&&this.records.set(fi,zd(void 0,this));let o=this.records.get(U0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(YL,ur,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ot(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ja(this),i=jr(void 0),r;try{return e()}finally{Ja(n),jr(i)}}get(e,n=Xp,i=lt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(w3))return e[w3](this);i=j0(i);let r,o=Ja(this),a=jr(void 0);try{if(!(i&lt.SkipSelf)){let d=this.records.get(e);if(d===void 0){let f=H7(e)&&V0(e);f&&this.injectableDefInScope(f)?d=zd(n1(e),o0):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&lt.Self?B0():this.parent;return n=i&lt.Optional&&n===Xp?null:n,l.get(e,n)}catch(l){if(l.name==="NullInjectorError"){if((l[m0]=l[m0]||[]).unshift(Yi(e)),o)throw l;return x7(l,e,"R3InjectorError",this.source)}else throw l}finally{jr(a),Ja(o)}}resolveInjectorInitializers(){let e=Ot(null),n=Ja(this),i=jr(void 0),r;try{let o=this.get(th,ur,lt.Self);for(let a of o)a()}finally{Ja(n),jr(i),Ot(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Yi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Ki(e);let n=nh(e)?e:Ki(e&&e.provide),i=U7(e);if(!nh(e)&&e.multi===!0){let r=this.records.get(n);r||(r=zd(void 0,o0,!0),r.factory=()=>e1(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ot(null);try{return n.value===o0&&(n.value=V7,n.value=n.factory()),typeof n.value=="object"&&n.value&&$7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ot(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ki(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function n1(t){let e=V0(t),n=e!==null?e.factory:eh(t);if(n!==null)return n;if(t instanceof we)throw new te(204,!1);if(t instanceof Function)return j7(t);throw new te(204,!1)}function j7(t){if(t.length>0)throw new te(204,!1);let n=m7(t);return n!==null?()=>n.factory(t):()=>new t}function U7(t){if(JL(t))return zd(void 0,t.useValue);{let e=ZL(t);return zd(e,o0)}}function ZL(t,e,n){let i;if(nh(t)){let r=Ki(t);return eh(r)||n1(r)}else if(JL(t))i=()=>Ki(t.useValue);else if(F7(t))i=()=>t.useFactory(...e1(t.deps||[]));else if(N7(t))i=()=>ae(Ki(t.useExisting));else{let r=Ki(t&&(t.useClass||t.provide));if(B7(t))i=()=>new r(...e1(t.deps));else return eh(r)||n1(r)}return i}function zd(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function B7(t){return!!t.deps}function $7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function H7(t){return typeof t=="function"||typeof t=="object"&&t instanceof we}function i1(t,e){for(let n of t)Array.isArray(n)?i1(n,e):n&&$L(n)?i1(n.\u0275providers,e):e(n)}function ta(t,e){t instanceof Jp&&t.assertNotDestroyed();let n,i=Ja(t),r=jr(void 0);try{return e()}finally{Ja(i),jr(r)}}function G7(t){if(!HL()&&!S7())throw new te(-203,!1)}function z7(t){return typeof t=="function"}var r1=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function eV(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Co(){return tV}function tV(t){return t.type.prototype.ngOnChanges&&(t.setInput=q7),W7}Co.ngInherit=!0;function W7(){let t=iV(this),e=t?.current;if(e){let n=t.previous;if(n===Yd)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function q7(t,e,n,i,r){let o=this.declaredInputs[i],a=iV(t)||K7(t,{previous:Yd,current:null}),l=a.current||(a.current={}),d=a.previous,f=d[o];l[o]=new r1(f&&f.currentValue,n,d===Yd),eV(t,e,r,n)}var nV="__ngSimpleChanges__";function iV(t){return t[nV]||null}function K7(t,e){return t[nV]=e}var M3=null;var Zo=function(t,e,n){M3?.(t,e,n)};function Y7(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let a=tV(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function $0(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:f,ngOnDestroy:p}=o;a&&(t.contentHooks??=[]).push(-n,a),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),d&&(t.viewHooks??=[]).push(-n,d),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function s0(t,e,n){rV(t,e,3,n)}function a0(t,e,n,i){(t[Re]&3)===n&&rV(t,e,n,i)}function kS(t,e){let n=t[Re];(n&3)===e&&(n&=16383,n+=1,t[Re]=n)}function rV(t,e,n,i){let r=i!==void 0?t[Gd]&65535:0,o=i??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(t[Gd]+=65536),(l<o||o==-1)&&(Q7(t,n,e,d),t[Gd]=(t[Gd]&4294901760)+d+2),d++}function P3(t,e){Zo(4,t,e);let n=Ot(null);try{e.call(t)}finally{Ot(n),Zo(5,t,e)}}function Q7(t,e,n,i){let r=n[i]<0,o=n[i+1],a=r?-n[i]:n[i],l=t[a];r?t[Re]>>14<t[Gd]>>16&&(t[Re]&3)===e&&(t[Re]+=16384,P3(l,o)):P3(l,o)}var Kd=-1,Cl=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function X7(t){return t instanceof Cl}function J7(t){return(t.flags&8)!==0}function Z7(t){return(t.flags&16)!==0}function oV(t){return t!==Kd}function v0(t){return t&32767}function eK(t){return t>>16}function y0(t,e){let n=eK(t),i=e;for(;n>0;)i=i[sh],n--;return i}var o1=!0;function O3(t){let e=o1;return o1=t,e}var tK=256,sV=tK-1,aV=5,nK=0,es={};function iK(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(zp)&&(i=n[zp]),i==null&&(i=n[zp]=nK++);let r=i&sV,o=1<<r;e.data[t+(r>>aV)]|=o}function _0(t,e){let n=cV(t,e);if(n!==-1)return n;let i=e[ct];i.firstCreatePass&&(t.injectorIndex=e.length,RS(i.data,t),RS(e,null),RS(i.blueprint,null));let r=uT(t,e),o=t.injectorIndex;if(oV(r)){let a=v0(r),l=y0(r,e),d=l[ct].data;for(let f=0;f<8;f++)e[o+f]=l[a+f]|d[a+f]}return e[o+8]=r,o}function RS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cV(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function uT(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=fV(r),i===null)return Kd;if(n++,r=r[sh],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Kd}function s1(t,e,n){iK(t,e,n)}function rK(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(uL(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function lV(t,e,n){if(n&lt.Optional||t!==void 0)return t;aT(e,"NodeInjector")}function uV(t,e,n,i){if(n&lt.Optional&&i===void 0&&(i=null),!(n&(lt.Self|lt.Host))){let r=t[Qd],o=jr(void 0);try{return r?r.get(e,i,n&lt.Optional):GL(e,i,n&lt.Optional)}finally{jr(o)}}return lV(i,e,n)}function dV(t,e,n,i=lt.Default,r){if(t!==null){if(e[Re]&2048&&!(i&lt.Self)){let a=cK(t,e,n,i,es);if(a!==es)return a}let o=hV(t,e,n,i,es);if(o!==es)return o}return uV(e,n,i,r)}function hV(t,e,n,i,r){let o=sK(n);if(typeof o=="function"){if(!AL(e,t,i))return i&lt.Host?lV(r,n,i):uV(e,n,i,r);try{let a;if(a=o(i),a==null&&!(i&lt.Optional))aT(n);else return a}finally{kL()}}else if(typeof o=="number"){let a=null,l=cV(t,e),d=Kd,f=i&lt.Host?e[ns][bo]:null;for((l===-1||i&lt.SkipSelf)&&(d=l===-1?uT(t,e):e[l+8],d===Kd||!R3(i,!1)?l=-1:(a=e[ct],l=v0(d),e=y0(d,e)));l!==-1;){let p=e[ct];if(k3(o,l,p.data)){let v=oK(l,e,n,a,i,f);if(v!==es)return v}d=e[l+8],d!==Kd&&R3(i,e[ct].data[l+8]===f)&&k3(o,l,e)?(a=p,l=v0(d),e=y0(d,e)):l=-1}}return r}function oK(t,e,n,i,r,o){let a=e[ct],l=a.data[t+8],d=i==null?O0(l)&&o1:i!=a&&(l.type&3)!==0,f=r&lt.Host&&o===l,p=c0(l,a,n,d,f);return p!==null?El(e,a,p,l):es}function c0(t,e,n,i,r){let o=t.providerIndexes,a=e.data,l=o&1048575,d=t.directiveStart,f=t.directiveEnd,p=o>>20,v=i?l:l+p,w=r?l+p:f;for(let E=v;E<w;E++){let C=a[E];if(E<d&&n===C||E>=d&&C.type===n)return E}if(r){let E=a[d];if(E&&Ys(E)&&E.type===n)return d}return null}function El(t,e,n,i){let r=t[n],o=e.data;if(X7(r)){let a=r;a.resolving&&w7(_7(o[n]));let l=O3(a.canSeeViewProviders);a.resolving=!0;let d,f=a.injectImpl?jr(a.injectImpl):null,p=AL(t,i,lt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&Y7(n,o[n],e)}finally{f!==null&&jr(f),O3(l),a.resolving=!1,kL()}}return r}function sK(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zp)?t[zp]:void 0;return typeof e=="number"?e>=0?e&sV:aK:e}function k3(t,e,n){let i=1<<t;return!!(n[e+(t>>aV)]&i)}function R3(t,e){return!(t&lt.Self)&&!(t&lt.Host&&e)}var yl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return dV(this._tNode,this._lView,e,j0(i),n)}};function aK(){return new yl(ki(),It())}function Ri(t){return nm(()=>{let e=t.prototype.constructor,n=e[d0]||a1(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[d0]||a1(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function a1(t){return BL(t)?()=>{let e=a1(Ki(t));return e&&e()}:eh(t)}function cK(t,e,n,i,r){let o=t,a=e;for(;o!==null&&a!==null&&a[Re]&2048&&!(a[Re]&512);){let l=hV(o,a,n,i|lt.Self,es);if(l!==es)return l;let d=o.parent;if(!d){let f=a[_L];if(f){let p=f.get(n,es,i);if(p!==es)return p}d=fV(a),a=a[sh]}o=d}return r}function fV(t){let e=t[ct],n=e.type;return n===2?e.declTNode:n===1?t[bo]:null}function dT(t){return rK(ki(),t)}function N3(t,e=null,n=null,i){let r=pV(t,e,n,i);return r.resolveInjectorInitializers(),r}function pV(t,e=null,n=null,i,r=new Set){let o=[n||ur,sm(t)];return i=i||(typeof t=="object"?void 0:Yi(t)),new Jp(o,e||B0(),i||null,r)}var ln=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return N3({name:""},r,i,"");{let o=i.name??"";return N3({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Xp,e.NULL=new g0,e.\u0275prov=ne({token:e,providedIn:"any",factory:()=>ae(KL)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),lK="ngOriginalError";function NS(t){return t[lK]}var os=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&NS(e);for(;n&&NS(n);)n=NS(n);return n||null}},mV=new we("",{providedIn:"root",factory:()=>ee(os).handleError.bind(void 0)});var gV=!1,uK=new we("",{providedIn:"root",factory:()=>gV}),Z_;function dK(){if(Z_===void 0&&(Z_=null,Ws.trustedTypes))try{Z_=Ws.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Z_}function H0(t){return dK()?.createHTML(t)||t}var e0;function hK(){if(e0===void 0&&(e0=null,Ws.trustedTypes))try{e0=Ws.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return e0}function F3(t){return hK()?.createScriptURL(t)||t}var Qs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aL})`}},c1=class extends Qs{getTypeName(){return"HTML"}},l1=class extends Qs{getTypeName(){return"Style"}},u1=class extends Qs{getTypeName(){return"Script"}},d1=class extends Qs{getTypeName(){return"URL"}},h1=class extends Qs{getTypeName(){return"ResourceURL"}};function $r(t){return t instanceof Qs?t.changingThisBreaksApplicationSecurity:t}function ac(t,e){let n=fK(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aL})`)}return n===e}function fK(t){return t instanceof Qs&&t.getTypeName()||null}function vV(t){return new c1(t)}function yV(t){return new l1(t)}function _V(t){return new u1(t)}function wV(t){return new d1(t)}function bV(t){return new h1(t)}function pK(t){let e=new p1(t);return mK()?new f1(e):e}var f1=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(H0(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},p1=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=H0(e),n}};function mK(){try{return!!new window.DOMParser().parseFromString(H0(""),"text/html")}catch{return!1}}var gK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function G0(t){return t=String(t),t.match(gK)?t:"unsafe:"+t}function na(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function am(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var CV=na("area,br,col,hr,img,wbr"),EV=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IV=na("rp,rt"),vK=am(IV,EV),yK=am(EV,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_K=am(IV,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),L3=am(CV,yK,_K,vK),SV=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wK=na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bK=na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),CK=am(SV,wK,bK),EK=na("script,style,template"),m1=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!L3.hasOwnProperty(n))return this.sanitizedSomething=!0,!EK.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!CK.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;SV[l]&&(d=G0(d)),this.buf.push(" ",a,'="',V3(d),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();L3.hasOwnProperty(n)&&!CV.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(V3(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},IK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SK=/([^\#-~ |!])/g;function V3(t){return t.replace(/&/g,"&amp;").replace(IK,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(SK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var t0;function TV(t,e){let n=null;try{t0=t0||pK(t);let i=e?String(e):"";n=t0.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=t0.getInertBodyElement(i)}while(i!==o);let l=new m1().sanitizeChildren(j3(n)||n);return H0(l)}finally{if(n){let i=j3(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function j3(t){return"content"in t&&TK(t)?t.content:null}function TK(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var as=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(as||{});function Zn(t){let e=xV();return e?e.sanitize(as.URL,t)||"":ac(t,"URL")?$r(t):G0(Zd(t))}function hT(t){let e=xV();if(e)return F3(e.sanitize(as.RESOURCE_URL,t)||"");if(ac(t,"ResourceURL"))return F3($r(t));throw new te(904,!1)}function DK(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hT:Zn}function DV(t,e,n){return DK(e,n)(t)}function xV(){let t=It();return t&&t[qs].sanitizer}var xK=/^>|^->|<!--|-->|--!>|<!-$/g,AK=/(<|>)/g,MK="\u200B$1\u200B";function PK(t){return t.replace(xK,e=>e.replace(AK,MK))}var AV=new Map,OK=0;function kK(){return OK++}function RK(t){AV.set(t[P0],t)}function NK(t){AV.delete(t[P0])}var U3="__ngContext__";function tc(t,e){vl(e)?(t[U3]=e[P0],RK(e)):t[U3]=e}function $t(t){return t.ownerDocument.defaultView}function MV(t){return t.ownerDocument}function PV(t){return t instanceof Function?t():t}var Xs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xs||{}),FK;function fT(t,e){return FK(t,e)}function Wd(t,e,n,i,r){if(i!=null){let o,a=!1;ea(i)?o=i:vl(i)&&(a=!0,i=i[ss]);let l=rs(i);t===0&&n!==null?r==null?FV(e,n,l):w0(e,n,l,r||null,!0):t===1&&n!==null?w0(e,n,l,r||null,!0):t===2?eY(e,l,a):t===3&&e.destroyNode(l),o!=null&&nY(e,t,o,n,r)}}function LK(t,e){return t.createText(e)}function VK(t,e,n){t.setValue(e,n)}function jK(t,e){return t.createComment(PK(e))}function OV(t,e,n){return t.createElement(e,n)}function UK(t,e){kV(t,e),e[ss]=null,e[bo]=null}function BK(t,e,n,i,r,o){i[ss]=r,i[bo]=e,W0(t,i,n,1,r,o)}function kV(t,e){W0(t,e,e[wn],2,null,null)}function $K(t){let e=t[Kp];if(!e)return FS(t[ct],t);for(;e;){let n=null;if(vl(e))n=e[Kp];else{let i=e[Ir];i&&(n=i)}if(!n){for(;e&&!e[yo]&&e!==t;)vl(e)&&FS(e[ct],e),e=e[Ci];e===null&&(e=t),vl(e)&&FS(e[ct],e),n=e&&e[yo]}e=n}}function HK(t,e,n,i){let r=Ir+i,o=n.length;i>0&&(n[r-1][yo]=e),i<o-Ir?(e[yo]=n[r],NL(n,Ir+i,e)):(n.push(e),e[yo]=null),e[Ci]=n;let a=e[im];a!==null&&n!==a&&GK(a,e);let l=e[Ks];l!==null&&l.insertView(t),KS(e),e[Re]|=128}function GK(t,e){let n=t[Xd],r=e[Ci][Ci][ns];e[ns]!==r&&(t[Re]|=q1.HasTransplantedViews),n===null?t[Xd]=[e]:n.push(e)}function RV(t,e){let n=t[Xd],i=n.indexOf(e);n.splice(i,1)}function g1(t,e){if(t.length<=Ir)return;let n=Ir+e,i=t[n];if(i){let r=i[im];r!==null&&r!==t&&RV(r,i),e>0&&(t[n-1][yo]=i[yo]);let o=p0(t,Ir+e);UK(i[ct],i);let a=o[Ks];a!==null&&a.detachView(o[ct]),i[Ci]=null,i[yo]=null,i[Re]&=-129}return i}function NV(t,e){if(!(e[Re]&256)){let n=e[wn];n.destroyNode&&W0(t,e,n,3,null,null),$K(e)}}function FS(t,e){if(e[Re]&256)return;let n=Ot(null);try{e[Re]&=-129,e[Re]|=256,e[_l]&&aS(e[_l]),WK(t,e),zK(t,e),e[ct].type===1&&e[wn].destroy();let i=e[im];if(i!==null&&ea(e[Ci])){i!==e[Ci]&&RV(i,e);let r=e[Ks];r!==null&&r.detachView(t)}NK(e)}finally{Ot(n)}}function zK(t,e){let n=t.cleanup,i=e[qp];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[n[o+1]];n[o].call(a)}i!==null&&(e[qp]=null);let r=e[Za];if(r!==null){e[Za]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function WK(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Cl)){let o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Zo(4,l,d);try{d.call(l)}finally{Zo(5,l,d)}}else{Zo(4,r,o);try{o.call(r)}finally{Zo(5,r,o)}}}}}function qK(t,e,n){return KK(t,e.parent,n)}function KK(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[ss];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===ts.None||o===ts.Emulated)return null}return Ur(i,n)}}function w0(t,e,n,i,r){t.insertBefore(e,n,i,r)}function FV(t,e,n){t.appendChild(e,n)}function B3(t,e,n,i,r){i!==null?w0(t,e,n,i,r):FV(t,e,n)}function YK(t,e,n,i){t.removeChild(e,n,i)}function pT(t,e){return t.parentNode(e)}function QK(t,e){return t.nextSibling(e)}function XK(t,e,n){return ZK(t,e,n)}function JK(t,e,n){return t.type&40?Ur(t,n):null}var ZK=JK,$3;function z0(t,e,n,i){let r=qK(t,i,e),o=e[wn],a=i.parent||e[bo],l=XK(a,i,e);if(r!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)B3(o,r,n[d],l,!1);else B3(o,r,n,l,!1);$3!==void 0&&$3(o,i,e,n,r)}function l0(t,e){if(e!==null){let n=e.type;if(n&3)return Ur(e,t);if(n&4)return v1(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return l0(t,i);{let r=t[e.index];return ea(r)?v1(-1,r):rs(r)}}else{if(n&32)return fT(e,t)()||rs(t[e.index]);{let i=LV(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Qp(t[ns]);return l0(r,i)}else return l0(t,e.next)}}}return null}function LV(t,e){if(e!==null){let i=t[ns][bo],r=e.projection;return i.projection[r]}return null}function v1(t,e){let n=Ir+t+1;if(n<e.length){let i=e[n],r=i[ct].firstChild;if(r!==null)return l0(i,r)}return e[wl]}function eY(t,e,n){let i=pT(t,e);i&&YK(t,i,e,n)}function mT(t,e,n,i,r,o,a){for(;n!=null;){let l=i[n.index],d=n.type;if(a&&e===0&&(l&&tc(rs(l),i),n.flags|=2),(n.flags&32)!==32)if(d&8)mT(t,e,n.child,i,r,o,!1),Wd(e,t,r,l,o);else if(d&32){let f=fT(n,i),p;for(;p=f();)Wd(e,t,r,p,o);Wd(e,t,r,l,o)}else d&16?tY(t,e,i,n,r,o):Wd(e,t,r,l,o);n=a?n.projectionNext:n.next}}function W0(t,e,n,i,r,o){mT(n,i,t.firstChild,e,r,o,!1)}function tY(t,e,n,i,r,o){let a=n[ns],d=a[bo].projection[i.projection];if(Array.isArray(d))for(let f=0;f<d.length;f++){let p=d[f];Wd(e,t,r,p,o)}else{let f=d,p=a[Ci];FL(i)&&(f.flags|=128),mT(t,e,f,p,r,o,!0)}}function nY(t,e,n,i,r){let o=n[wl],a=rs(n);o!==a&&Wd(e,t,i,o,r);for(let l=Ir;l<n.length;l++){let d=n[l];W0(d[ct],d,t,e,i,o)}}function iY(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Xs.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xs.Important),t.setStyle(n,i,r,o))}}function rY(t,e,n){t.setAttribute(e,"style",n)}function VV(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jV(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&qS(t,e,i),r!==null&&VV(t,e,r),o!==null&&rY(t,e,o)}var Eo={};function T(t=1){UV(Gn(),It(),rc()+t,!1)}function UV(t,e,n,i){if(!i)if((e[Re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&s0(e,o,n)}else{let o=t.preOrderHooks;o!==null&&a0(e,o,0,n)}bl(n)}function L(t,e=lt.Default){let n=It();if(n===null)return ae(t,e);let i=ki();return dV(i,n,Ki(t),e)}function BV(t,e,n,i,r,o){let a=Ot(null);try{let l=null;r&xe.SignalBased&&(l=e[i][za]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&xe.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,l,o,n,i):eV(e,l,i,o)}finally{Ot(a)}}function oY(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bl(~r);else{let o=r,a=n[++i],l=n[++i];n7(a,o);let d=e[o];l(2,d)}}}finally{bl(-1)}}function q0(t,e,n,i,r,o,a,l,d,f,p){let v=e.blueprint.slice();return v[ss]=r,v[Re]=i|4|128|8|64,(f!==null||t&&t[Re]&2048)&&(v[Re]|=2048),CL(v),v[Ci]=v[sh]=t,v[_o]=n,v[qs]=a||t&&t[qs],v[wn]=l||t&&t[wn],v[Qd]=d||t&&t[Qd]||null,v[bo]=o,v[P0]=kK(),v[h0]=p,v[_L]=f,v[ns]=e.type==2?t[ns]:v,v}function cm(t,e,n,i,r){let o=t.data[e];if(o===null)o=sY(t,e,n,i,r),t7()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let a=Qq();o.injectorIndex=a===null?-1:a.injectorIndex}return Dl(o,!0),o}function sY(t,e,n,i,r){let o=SL(),a=X1(),l=a?o:o&&o.parent,d=t.data[e]=hY(t,l,n,e,i,r);return t.firstChild===null&&(t.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function $V(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function HV(t,e,n,i,r){let o=rc(),a=i&2;try{bl(-1),a&&e.length>is&&UV(t,e,is,!1),Zo(a?2:0,r),n(i,r)}finally{bl(o),Zo(a?3:1,r)}}function gT(t,e,n){if(K1(e)){let i=Ot(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=t.data[a];if(l.contentQueries){let d=n[a];l.contentQueries(1,d,a)}}}finally{Ot(i)}}}function vT(t,e,n){IL()&&(yY(t,e,n,Ur(n,e)),(n.flags&64)===64&&WV(t,e,n))}function yT(t,e,n=Ur){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?n(e,t):t[a];t[r++]=l}}}function GV(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_T(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _T(t,e,n,i,r,o,a,l,d,f,p){let v=is+i,w=v+r,E=aY(v,w),C=typeof f=="function"?f():f;return E[ct]={type:t,blueprint:E,template:n,queries:null,viewQuery:l,declTNode:e,data:E.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:C,incompleteFirstPass:!1,ssrId:p}}function aY(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Eo);return n}function cY(t,e,n,i){let o=i.get(uK,gV)||n===ts.ShadowDom,a=t.selectRootElement(e,o);return lY(a),a}function lY(t){uY(t)}var uY=()=>null;function dY(t,e,n,i){let r=YV(e);r.push(n),t.firstCreatePass&&QV(t).push(i,r.length-1)}function hY(t,e,n,i,r,o){let a=e?e.injectorIndex:-1,l=0;return qq()&&(l|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function H3(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let a=e[o];if(a===void 0)continue;i??={};let l,d=xe.None;Array.isArray(a)?(l=a[0],d=a[1]):l=a;let f=o;if(r!==null){if(!r.hasOwnProperty(o))continue;f=r[o]}t===0?G3(i,n,f,l,d):G3(i,n,f,l)}return i}function G3(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function fY(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,a=e.attrs,l=[],d=null,f=null;for(let p=i;p<r;p++){let v=o[p],w=n?n.get(v):null,E=w?w.inputs:null,C=w?w.outputs:null;d=H3(0,v.inputs,p,d,E),f=H3(1,v.outputs,p,f,C);let S=d!==null&&a!==null&&!hL(e)?AY(d,p,a):null;l.push(S)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=f}function pY(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wT(t,e,n,i,r,o,a,l){let d=Ur(e,n),f=e.inputs,p;!l&&f!=null&&(p=f[i])?(CT(t,n,p,i,r),O0(e)&&mY(n,e.index)):e.type&3?(i=pY(i),r=a!=null?a(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function mY(t,e){let n=ic(e,t);n[Re]&16||(n[Re]|=64)}function bT(t,e,n,i){if(IL()){let r=i===null?null:{"":-1},o=wY(t,n),a,l;o===null?a=l=null:[a,l]=o,a!==null&&zV(t,e,n,a,r,l),r&&bY(n,i,r)}n.mergedAttrs=Wp(n.mergedAttrs,n.attrs)}function zV(t,e,n,i,r,o){for(let f=0;f<i.length;f++)s1(_0(n,e),t,i[f].type);EY(n,t.data.length,i.length);for(let f=0;f<i.length;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,d=$V(t,e,i.length,null);for(let f=0;f<i.length;f++){let p=i[f];n.mergedAttrs=Wp(n.mergedAttrs,p.hostAttrs),IY(t,n,e,d,p),CY(d,p,r),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let v=p.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}fY(t,n,o)}function gY(t,e,n,i,r){let o=r.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let l=~e.index;vY(a)!=l&&a.push(l),a.push(n,i,o)}}function vY(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yY(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;O0(n)&&SY(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||_0(n,e),tc(i,e);let a=n.initialInputs;for(let l=r;l<o;l++){let d=t.data[l],f=El(e,t,l,n);if(tc(f,e),a!==null&&xY(e,l-r,f,d,n,a),Ys(d)){let p=ic(n.index,e);p[_o]=El(e,t,l,n)}}}function WV(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,a=i7();try{bl(o);for(let l=i;l<r;l++){let d=t.data[l],f=e[l];YS(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&_Y(d,f)}}finally{bl(-1),YS(a)}}function _Y(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wY(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let a=n[o];if(Eq(e,a.selectors,!1))if(i||(i=[]),Ys(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),i.unshift(...l,a);let d=l.length;y1(t,e,d)}else i.unshift(a),y1(t,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return i===null?null:[i,r]}function y1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bY(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new te(-301,!1);i.push(e[r],o)}}}function CY(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ys(e)&&(n[""]=t)}}function EY(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IY(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=eh(r.type,!0)),a=new Cl(o,Ys(r),L);t.blueprint[i]=a,n[i]=a,gY(t,e,i,$V(t,n,r.hostVars,Eo),r)}function SY(t,e,n){let i=Ur(e,t),r=GV(n),o=t[qs].rendererFactory,a=16;n.signals?a=4096:n.onPush&&(a=64);let l=K0(t,q0(t,r,null,a,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=l}function TY(t,e,n,i,r,o){let a=Ur(t,e);DY(e[wn],a,o,t.value,n,i,r)}function DY(t,e,n,i,r,o,a){if(o==null)t.removeAttribute(e,r,n);else{let l=a==null?Zd(o):a(o,i||"",r);t.setAttribute(e,r,l,n)}}function xY(t,e,n,i,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],f=a[l++],p=a[l++],v=a[l++];BV(i,n,d,f,p,v)}}function AY(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let a=t[o];for(let l=0;l<a.length;l+=3)if(a[l]===e){i.push(o,a[l+1],a[l+2],n[r+1]);break}}r+=2}return i}function qV(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function KV(t,e){let n=t.contentQueries;if(n!==null){let i=Ot(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],a=n[r+1];if(a!==-1){let l=t.data[a];Z1(o),l.contentQueries(2,e[a],a)}}}finally{Ot(i)}}}function K0(t,e){return t[Kp]?t[S3][yo]=e:t[Kp]=e,t[S3]=e,e}function _1(t,e,n){Z1(0);let i=Ot(null);try{e(t,n)}finally{Ot(i)}}function YV(t){return t[qp]||(t[qp]=[])}function QV(t){return t.cleanup||(t.cleanup=[])}function MY(t,e,n){return(t===null||Ys(t))&&(n=Lq(n[e.index])),n[wn]}function XV(t,e){let n=t[Qd],i=n?n.get(os,null):null;i&&i.handleError(e)}function CT(t,e,n,i,r){for(let o=0;o<n.length;){let a=n[o++],l=n[o++],d=n[o++],f=e[a],p=t.data[a];BV(p,f,i,l,d,r)}}function JV(t,e,n){let i=wL(e,t);VK(t[wn],i,n)}function PY(t,e){let n=ic(e,t),i=n[ct];OY(i,n);let r=n[ss];r!==null&&n[h0]===null&&(n[h0]=cT(r,n[Qd])),ET(i,n,n[_o])}function OY(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ET(t,e,n){eT(e);try{let i=t.viewQuery;i!==null&&_1(1,i,n);let r=t.template;r!==null&&HV(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ks]?.finishViewCreation(t),t.staticContentQueries&&KV(t,e),t.staticViewQueries&&_1(2,t.viewQuery,n);let o=t.components;o!==null&&kY(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Re]&=-5,tT()}}function kY(t,e){for(let n=0;n<e.length;n++)PY(t,e[n])}function RY(t,e,n,i){let r=Ot(null);try{let o=e.tView,l=t[Re]&4096?4096:16,d=q0(t,o,n,l,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),f=t[e.index];d[im]=f;let p=t[Ks];return p!==null&&(d[Ks]=p.createEmbeddedView(o)),ET(o,d,n),d}finally{Ot(r)}}function z3(t,e){return!e||e.firstChild===null||FL(t)}function NY(t,e,n,i=!0){let r=e[ct];if(HK(r,e,t,n),i){let a=v1(n,t),l=e[wn],d=pT(l,t[wl]);d!==null&&BK(r,t[bo],l,e,d,a)}let o=e[h0];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function b0(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(rs(o)),ea(o)&&FY(o,i);let a=n.type;if(a&8)b0(t,e,n.child,i);else if(a&32){let l=fT(n,e),d;for(;d=l();)i.push(d)}else if(a&16){let l=LV(e,n);if(Array.isArray(l))i.push(...l);else{let d=Qp(e[ns]);b0(d[ct],d,l,i,!0)}}n=r?n.projectionNext:n.next}return i}function FY(t,e){for(let n=Ir;n<t.length;n++){let i=t[n],r=i[ct].firstChild;r!==null&&b0(i[ct],i,r,e)}t[wl]!==t[ss]&&e.push(t[wl])}var ZV=[];function LY(t){return t[_l]??VY(t)}function VY(t){let e=ZV.pop()??Object.create(UY);return e.lView=t,e}function jY(t){t.lView[_l]!==t&&(t.lView=null,ZV.push(t))}var UY=xt(re({},E_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yp(t.lView)},consumerOnSignalRead(){this.lView[_l]=this}});function ej(t){return nj(t[Kp])}function tj(t){return nj(t[yo])}function nj(t){for(;t!==null&&!ea(t);)t=t[yo];return t}var ij=100;function rj(t,e=!0,n=0){let i=t[qs],r=i.rendererFactory,o=!1;o||r.begin?.();try{BY(t,n)}catch(a){throw e&&XV(t,a),a}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function BY(t,e){w1(t,e);let n=0;for(;Q1(t);){if(n===ij)throw new te(103,!1);n++,w1(t,1)}}function $Y(t,e,n,i){let r=e[Re];if((r&256)===256)return;let o=!1;!o&&e[qs].inlineEffectRunner?.flush(),eT(e);let a=null,l=null;!o&&HY(t)&&(l=LY(e),a=oS(l));try{CL(e),e7(t.bindingStartIndex),n!==null&&HV(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let v=t.preOrderCheckHooks;v!==null&&s0(e,v,null)}else{let v=t.preOrderHooks;v!==null&&a0(e,v,0,null),kS(e,0)}if(GY(e),oj(e,0),t.contentQueries!==null&&KV(t,e),!o)if(d){let v=t.contentCheckHooks;v!==null&&s0(e,v)}else{let v=t.contentHooks;v!==null&&a0(e,v,1),kS(e,1)}oY(t,e);let f=t.components;f!==null&&aj(e,f,0);let p=t.viewQuery;if(p!==null&&_1(2,p,i),!o)if(d){let v=t.viewCheckHooks;v!==null&&s0(e,v)}else{let v=t.viewHooks;v!==null&&a0(e,v,2),kS(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[r0]){for(let v of e[r0])v();e[r0]=null}o||(e[Re]&=-73)}catch(d){throw Yp(e),d}finally{l!==null&&(sS(l,a),jY(l)),tT()}}function HY(t){return t.type!==2}function oj(t,e){for(let n=ej(t);n!==null;n=tj(n))for(let i=Ir;i<n.length;i++){let r=n[i];sj(r,e)}}function GY(t){for(let e=ej(t);e!==null;e=tj(e)){if(!(e[Re]&q1.HasTransplantedViews))continue;let n=e[Xd];for(let i=0;i<n.length;i++){let r=n[i],o=r[Ci];Bq(r)}}}function zY(t,e,n){let i=ic(e,t);sj(i,n)}function sj(t,e){Y1(t)&&w1(t,e)}function w1(t,e){let i=t[ct],r=t[Re],o=t[_l],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&I_(o)),o&&(o.dirty=!1),t[Re]&=-9217,a)$Y(i,t,i.template,t[_o]);else if(r&8192){oj(t,1);let l=i.components;l!==null&&aj(t,l,1)}}function aj(t,e,n){for(let i=0;i<e.length;i++)zY(t,e[i],n)}function IT(t){for(t[qs].changeDetectionScheduler?.notify();t;){t[Re]|=64;let e=Qp(t);if(Oq(t)&&!e)return t;t=e}return null}var Il=class{get rootNodes(){let e=this._lView,n=e[ct];return b0(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_o]}set context(e){this._lView[_o]=e}get destroyed(){return(this._lView[Re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ci];if(ea(e)){let n=e[f0],i=n?n.indexOf(this):-1;i>-1&&(g1(e,i),p0(n,i))}this._attachedToViewContainer=!1}NV(this._lView[ct],this._lView)}onDestroy(e){EL(this._lView,e)}markForCheck(){IT(this._cdRefInjectingView||this._lView)}detach(){this._lView[Re]&=-129}reattach(){KS(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,rj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,kV(this._lView[ct],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e,KS(this._lView)}},wo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KY;let t=e;return t})(),WY=wo,qY=class extends WY{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=RY(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new Il(r)}};function KY(){return Y0(ki(),It())}function Y0(t,e){return t.type&4?new qY(e,t,ah(t,e)):null}var dwe=new RegExp(`^(\\d+)*(${P7}|${M7})*(.*)`);var YY=()=>null;function W3(t,e){return YY(t,e)}var Zp=class{},b1=class{},C0=class{};function QY(t){let e=Error(`No component factory found for ${Yi(t)}.`);return e[XY]=t,e}var XY="ngComponent";var C1=class{resolveComponentFactory(e){throw QY(e)}},Q0=(()=>{let e=class e{};e.NULL=new C1;let t=e;return t})(),Sl=class{},Io=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>JY();let t=e;return t})();function JY(){let t=It(),e=ki(),n=ic(e.index,t);return(vl(n)?n:t)[wn]}var ZY=(()=>{let e=class e{};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),LS={},cj=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eQ,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),E1=class extends cj{constructor(e){super(),this._lView=e}onDestroy(e){return EL(this._lView,e),()=>Hq(this._lView,e)}};function eQ(){return new E1(It())}var q3=new Set;function xl(t){q3.has(t)||(q3.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function K3(...t){}function tQ(){let t=typeof Ws.requestAnimationFrame=="function",e=Ws[t?"requestAnimationFrame":"setTimeout"],n=Ws[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Et=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zt(!1),this.onMicrotaskEmpty=new zt(!1),this.onStable=new zt(!1),this.onError=new zt(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=tQ().nativeRequestAnimationFrame,rQ(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new te(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,nQ,K3,K3);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},nQ={};function ST(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iQ(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ws,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,I1(t),t.isCheckStableRunning=!0,ST(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),I1(t))}function rQ(t){let e=()=>{iQ(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{if(oQ(l))return n.invokeTask(r,o,a,l);try{return Y3(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Q3(t)}},onInvoke:(n,i,r,o,a,l,d)=>{try{return Y3(t),n.invoke(r,o,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&e(),Q3(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,I1(t),ST(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function I1(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Y3(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q3(t){t._nesting--,ST(t)}function oQ(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var lj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function E0(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=WS(r,l);else if(o==2){let d=l,f=e[++a];i=WS(i,d+": "+f+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var I0=class extends Q0{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ec(e);return new ih(n,this.ngModule)}};function X3(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function sQ(t){let e=t.toLowerCase();return e==="svg"?kq:e==="math"?Rq:null}var S1=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=j0(i);let r=this.injector.get(e,LS,i);return r!==LS||n===LS?r:this.parentInjector.get(e,n,i)}},ih=class extends C0{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=X3(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return X3(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Dq(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ot(null);try{r=r||this.ngModule;let a=r instanceof fi?r:r?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new S1(e,a):e,d=l.get(Sl,null);if(d===null)throw new te(407,!1);let f=l.get(ZY,null),p=l.get(lj,null),v=l.get(Zp,null),w={rendererFactory:d,sanitizer:f,inlineEffectRunner:null,afterRenderEventManager:p,changeDetectionScheduler:v},E=d.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=i?cY(E,i,this.componentDef.encapsulation,l):OV(E,C,sQ(C)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let k=null;S!==null&&(k=cT(S,l,!0));let V=_T(0,null,null,1,0,null,null,null,null,null,null),G=q0(null,V,null,x,null,null,w,E,l,null,k);eT(G);let A,ie;try{let B=this.componentDef,se,Ee=null;B.findHostDirectiveDefs?(se=[],Ee=new Map,B.findHostDirectiveDefs(B,se,Ee),se.push(B)):se=[B];let We=aQ(G,S),et=cQ(We,S,B,se,G,w,E);ie=bL(V,is),S&&dQ(E,B,S,i),n!==void 0&&hQ(ie,this.ngContentSelectors,n),A=uQ(et,B,se,Ee,G,[fQ]),ET(V,G,null)}finally{tT()}return new T1(this.componentType,A,ah(ie,G),G,ie)}finally{Ot(o)}}},T1=class extends b1{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Il(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;CT(o[ct],o,r,e,n),this.previousInputValues.set(e,n);let a=ic(this._tNode.index,o);IT(a)}}get injector(){return new yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aQ(t,e){let n=t[ct],i=is;return t[i]=e,cm(n,i,2,"#host",null)}function cQ(t,e,n,i,r,o,a){let l=r[ct];lQ(i,t,e,a);let d=null;e!==null&&(d=cT(e,r[Qd]));let f=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let v=q0(r,GV(n),null,p,r[t.index],t,o,f,null,null,d);return l.firstCreatePass&&y1(l,t,i.length-1),K0(r,v),r[t.index]=v}function lQ(t,e,n,i){for(let r of t)e.mergedAttrs=Wp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(E0(e,e.mergedAttrs,!0),n!==null&&jV(i,n,e))}function uQ(t,e,n,i,r,o){let a=ki(),l=r[ct],d=Ur(a,r);zV(l,r,a,n,null,i);for(let p=0;p<n.length;p++){let v=a.directiveStart+p,w=El(r,l,v,a);tc(w,r)}WV(l,r,a),d&&tc(d,r);let f=El(r,l,a.directiveStart+a.componentOffset,a);if(t[_o]=r[_o]=f,o!==null)for(let p of o)p(f,e);return gT(l,a,r),f}function dQ(t,e,n,i){if(i)qS(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=xq(e.selectors[0]);r&&qS(t,n,r),o&&o.length>0&&VV(t,n,o.join(" "))}}function hQ(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function fQ(){let t=ki();$0(It()[ct],t)}var Ei=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pQ;let t=e;return t})();function pQ(){let t=ki();return dj(t,It())}var mQ=Ei,uj=class extends mQ{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new yl(this._hostTNode,this._hostLView)}get parentInjector(){let e=uT(this._hostTNode,this._hostLView);if(oV(e)){let n=y0(e,this._hostLView),i=v0(e),r=n[ct].data[i+8];return new yl(r,n)}else return new yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=J3(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=W3(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(l,r,z3(this._hostTNode,a)),l}createComponent(e,n,i,r,o){let a=e&&!z7(e),l;if(a)l=n;else{let C=n||{};l=C.index,i=C.injector,r=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let d=a?e:new ih(ec(e)),f=i||this.parentInjector;if(!o&&d.ngModule==null){let S=(a?f:this.parentInjector).get(fi,null);S&&(o=S)}let p=ec(d.componentType??{}),v=W3(this._lContainer,p?.id??null),w=v?.firstChild??null,E=d.create(f,r,w,o);return this.insertImpl(E.hostView,l,z3(this._hostTNode,v)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(Uq(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[Ci],f=new uj(d,d[bo],d[Ci]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return NY(a,r,o,i),e.attachToViewContainerRef(),NL(VS(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=J3(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=g1(this._lContainer,n);i&&(p0(VS(this._lContainer),n),NV(i[ct],i))}detach(e){let n=this._adjustIndex(e,-1),i=g1(this._lContainer,n);return i&&p0(VS(this._lContainer),n)!=null?new Il(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function J3(t){return t[f0]}function VS(t){return t[f0]||(t[f0]=[])}function dj(t,e){let n,i=e[t.index];return ea(i)?n=i:(n=qV(i,e,null,t),e[t.index]=n,K0(e,n)),vQ(n,e,t,i),new uj(n,t,e)}function gQ(t,e){let n=t[wn],i=n.createComment(""),r=Ur(e,t),o=pT(n,r);return w0(n,o,i,QK(n,r),!1),i}var vQ=wQ,yQ=()=>!1;function _Q(t,e,n){return yQ(t,e,n)}function wQ(t,e,n,i){if(t[wl])return;let r;n.type&8?r=rs(i):r=gQ(e,n),t[wl]=r}var D1=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},x1=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let a=n.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)TT(e,n).matches!==null&&this.queries[n].setDirty()}},S0=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=xQ(e):this.predicate=e}},A1=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},M1=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,bQ(n,o)),this.matchTNodeWithReadOption(e,n,c0(n,e,o,!1,!1))}else i===wo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,c0(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===nn||r===Ei||r===wo&&n.type&4)this.addMatch(n.index,-2);else{let o=c0(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function bQ(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function CQ(t,e){return t.type&11?ah(t,e):t.type&4?Y0(t,e):null}function EQ(t,e,n,i){return n===-1?CQ(e,t):n===-2?IQ(t,e,i):El(t,t[ct],n,e)}function IQ(t,e,n){if(n===nn)return ah(e,t);if(n===wo)return Y0(e,t);if(n===Ei)return dj(e,t)}function hj(t,e,n,i){let r=e[Ks].queries[i];if(r.matches===null){let o=t.data,a=n.matches,l=[];for(let d=0;a!==null&&d<a.length;d+=2){let f=a[d];if(f<0)l.push(null);else{let p=o[f];l.push(EQ(e,p,a[d+1],n.metadata.read))}}r.matches=l}return r.matches}function P1(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let a=hj(t,e,r,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(a[l/2]);else{let f=o[l+1],p=e[-d];for(let v=Ir;v<p.length;v++){let w=p[v];w[im]===w[Ci]&&P1(w[ct],w,f,i)}if(p[Xd]!==null){let v=p[Xd];for(let w=0;w<v.length;w++){let E=v[w];P1(E[ct],E,f,i)}}}}}return i}function SQ(t,e){return t[Ks].queries[e].queryList}function fj(t,e,n){let i=new QS((n&4)===4);return dY(t,e,i,i.destroy),(e[Ks]??=new x1).queries.push(new D1(i))-1}function TQ(t,e,n){let i=Gn();return i.firstCreatePass&&(pj(i,new S0(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),fj(i,It(),e)}function DQ(t,e,n,i){let r=Gn();if(r.firstCreatePass){let o=ki();pj(r,new S0(e,n,i),o.index),AQ(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return fj(r,It(),n)}function xQ(t){return t.split(",").map(e=>e.trim())}function pj(t,e,n){t.queries===null&&(t.queries=new A1),t.queries.track(new M1(e,n))}function AQ(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function TT(t,e){return t.queries.getByIndex(e)}function MQ(t,e){let n=t[ct],i=TT(n,e);return i.crossesNgTemplate?P1(n,t,e,[]):hj(n,t,i,e)}function PQ(t){return typeof t=="function"&&t[za]!==void 0}function cc(t,e){xl("NgSignals");let n=H2(t),i=n[za];return e?.equal&&(i.equal=e.equal),n.set=r=>cS(i,r),n.update=r=>G2(i,r),n.asReadonly=OQ.bind(n),n}function OQ(){let t=this[za];if(t.readonlyFn===void 0){let e=()=>this();e[za]=t,t.readonlyFn=e}return t.readonlyFn}function mj(t){return PQ(t)&&typeof t.set=="function"}function kQ(t){return Object.getPrototypeOf(t.prototype).constructor}function ft(t){let e=kQ(t.type),n=!0,i=[t];for(;e;){let r;if(Ys(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let a=t;a.inputs=n0(t.inputs),a.inputTransforms=n0(t.inputTransforms),a.declaredInputs=n0(t.declaredInputs),a.outputs=n0(t.outputs);let l=r.hostBindings;l&&VQ(t,l);let d=r.viewQuery,f=r.contentQueries;if(d&&FQ(t,d),f&&LQ(t,f),RQ(t,r),fq(t.outputs,r.outputs),Ys(r)&&r.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(t),l===ft&&(n=!1)}}e=Object.getPrototypeOf(e)}NQ(i)}function RQ(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function NQ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Wp(r.hostAttrs,n=Wp(n,r.hostAttrs))}}function n0(t){return t===Yd?{}:t===ur?[]:t}function FQ(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function LQ(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function VQ(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function lm(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var nc=class{},em=class{};var O1=class extends nc{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I0(this);let r=gL(e);this._bootstrapComponents=PV(r.bootstrap),this._r3Injector=pV(e,n,[{provide:nc,useValue:this},{provide:Q0,useValue:this.componentFactoryResolver},...i],Yi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},k1=class extends em{constructor(e){super(),this.moduleType=e}create(e){return new O1(this.moduleType,e,[])}};var T0=class extends nc{constructor(e){super(),this.componentFactoryResolver=new I0(this),this.instance=null;let n=new Jp([...e.providers,{provide:nc,useValue:this},{provide:Q0,useValue:this.componentFactoryResolver}],e.parent||B0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function DT(t,e,n=null){return new T0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Al=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gj(t){return UQ(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function jQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function UQ(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function BQ(t,e,n){return t[e]=n}function $Q(t,e){return t[e]}function Js(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function HQ(t,e,n,i){let r=Js(t,e,n);return Js(t,e+1,i)||r}function GQ(t,e,n,i,r,o,a,l,d){let f=e.consts,p=cm(e,t,4,a||null,Jd(f,l));bT(e,n,p,Jd(f,d)),$0(e,p);let v=p.tView=_T(2,p,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,p),v.queries=e.queries.embeddedTView(p)),p}function U(t,e,n,i,r,o,a,l){let d=It(),f=Gn(),p=t+is,v=f.firstCreatePass?GQ(p,f,d,e,n,i,r,o,a):f.data[p];Dl(v,!1);let w=zQ(f,d,v,t);N0()&&z0(f,d,w,v),tc(w,d);let E=qV(w,d,w,v);return d[p]=E,K0(d,E),_Q(E,v,d),k0(v)&&vT(f,d,v),a!=null&&yT(d,v,l),U}var zQ=WQ;function WQ(t,e,n,i){return F0(!0),e[wn].createComment("")}function X0(t,e,n,i){let r=It(),o=rm();if(Js(r,o,e)){let a=Gn(),l=R0();TY(l,r,t,e,n,i)}return X0}function qQ(t,e,n,i){return Js(t,rm(),n)?e+Zd(n)+i:Eo}function KQ(t,e,n,i,r,o){let a=Zq(),l=HQ(t,a,n,r);return J1(2),l?e+Zd(n)+i+Zd(r)+o:Eo}function i0(t,e){return t<<17|e<<2}function Tl(t){return t>>17&32767}function YQ(t){return(t&2)==2}function QQ(t,e){return t&131071|e<<17}function R1(t){return t|2}function rh(t){return(t&131068)>>2}function jS(t,e){return t&-131069|e<<2}function XQ(t){return(t&1)===1}function N1(t){return t|1}function JQ(t,e,n,i,r,o){let a=o?e.classBindings:e.styleBindings,l=Tl(a),d=rh(a);t[i]=n;let f=!1,p;if(Array.isArray(n)){let v=n;p=v[1],(p===null||om(v,p)>0)&&(f=!0)}else p=n;if(r)if(d!==0){let w=Tl(t[l+1]);t[i+1]=i0(w,l),w!==0&&(t[w+1]=jS(t[w+1],i)),t[l+1]=QQ(t[l+1],i)}else t[i+1]=i0(l,0),l!==0&&(t[l+1]=jS(t[l+1],i)),l=i;else t[i+1]=i0(d,0),l===0?l=i:t[d+1]=jS(t[d+1],i),d=i;f&&(t[i+1]=R1(t[i+1])),Z3(t,p,i,!0),Z3(t,p,i,!1),ZQ(e,p,t,i,o),a=i0(l,d),o?e.classBindings=a:e.styleBindings=a}function ZQ(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&om(o,e)>=0&&(n[i+1]=N1(n[i+1]))}function Z3(t,e,n,i){let r=t[n+1],o=e===null,a=i?Tl(r):rh(r),l=!1;for(;a!==0&&(l===!1||o);){let d=t[a],f=t[a+1];eX(d,e)&&(l=!0,t[a+1]=i?N1(f):R1(f)),a=i?Tl(f):rh(f)}l&&(t[n+1]=i?R1(r):N1(r))}function eX(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?om(t,e)>=0:!1}var Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vj(t){return t.substring(Jn.key,Jn.keyEnd)}function tX(t){return t.substring(Jn.value,Jn.valueEnd)}function nX(t){return wj(t),yj(t,oh(t,0,Jn.textEnd))}function yj(t,e){let n=Jn.textEnd;return n===e?-1:(e=Jn.keyEnd=rX(t,Jn.key=e,n),oh(t,e,n))}function iX(t){return wj(t),_j(t,oh(t,0,Jn.textEnd))}function _j(t,e){let n=Jn.textEnd,i=Jn.key=oh(t,e,n);return n===i?-1:(i=Jn.keyEnd=oX(t,i,n),i=eL(t,i,n,58),i=Jn.value=oh(t,i,n),i=Jn.valueEnd=sX(t,i,n),eL(t,i,n,59))}function wj(t){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=t.length}function oh(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function rX(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function oX(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function eL(t,e,n,i){return e=oh(t,e,n),e<n&&e++,e}function sX(t,e,n){let i=-1,r=-1,o=-1,a=e,l=a;for(;a<n;){let d=t.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=tL(t,d,a,n):e===a-4&&o===85&&r===82&&i===76&&d===40?l=a=tL(t,41,a,n):d>32&&(l=a),o=r,r=i,i=d&-33}return l}function tL(t,e,n,i){let r=-1,o=n;for(;o<i;){let a=t.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function P(t,e,n){let i=It(),r=rm();if(Js(i,r,e)){let o=Gn(),a=R0();wT(o,a,i,t,e,i[wn],n,!1)}return P}function F1(t,e,n,i,r){let o=e.inputs,a=r?"class":"style";CT(t,n,o[a],a,i)}function Zi(t,e,n){return Cj(t,e,n,!1),Zi}function Ae(t,e){return Cj(t,e,null,!0),Ae}function J0(t){Ej(Tj,aX,t,!1)}function aX(t,e){for(let n=iX(e);n>=0;n=_j(e,n))Tj(t,vj(e),tX(e))}function bj(t){Ej(pX,cX,t,!0)}function cX(t,e){for(let n=nX(e);n>=0;n=yj(e,n))L0(t,vj(e),!0)}function Cj(t,e,n,i){let r=It(),o=Gn(),a=J1(2);if(o.firstUpdatePass&&Sj(o,t,a,i),e!==Eo&&Js(r,a,e)){let l=o.data[rc()];Dj(o,l,r,r[wn],t,r[a+1]=gX(e,n),i,a)}}function Ej(t,e,n,i){let r=Gn(),o=J1(2);r.firstUpdatePass&&Sj(r,null,o,i);let a=It();if(n!==Eo&&Js(a,o,n)){let l=r.data[rc()];if(xj(l,i)&&!Ij(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(n=WS(d,n||"")),F1(r,l,a,n,i)}else mX(r,l,a,a[wn],a[o+1],a[o+1]=fX(t,e,n),i,o)}}function Ij(t,e){return e>=t.expandoStartIndex}function Sj(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[rc()],a=Ij(t,n);xj(o,i)&&e===null&&!a&&(e=!1),e=lX(r,o,e,i),JQ(r,o,e,n,a,i)}}function lX(t,e,n,i){let r=DL(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=US(null,t,e,n,i),n=tm(n,e.attrs,i),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==r)if(n=US(r,t,e,n,i),o===null){let d=uX(t,e,i);d!==void 0&&Array.isArray(d)&&(d=US(null,t,e,d[1],i),d=tm(d,e.attrs,i),dX(t,e,i,d))}else o=hX(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function uX(t,e,n){let i=n?e.classBindings:e.styleBindings;if(rh(i)!==0)return t[Tl(i)]}function dX(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Tl(r)]=i}function hX(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=t[o].hostAttrs;i=tm(i,a,n)}return tm(i,e.attrs,n)}function US(t,e,n,i,r){let o=null,a=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<a&&(o=e[l],i=tm(i,o.hostAttrs,r),o!==t);)l++;return t!==null&&(n.directiveStylingLast=l),i}function tm(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),L0(t,a,n?!0:e[++o]))}return t===void 0?null:t}function fX(t,e,n){if(n==null||n==="")return ur;let i=[],r=$r(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Tj(t,e,n){L0(t,e,$r(n))}function pX(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&L0(t,i,n)}function mX(t,e,n,i,r,o,a,l){r===Eo&&(r=ur);let d=0,f=0,p=0<r.length?r[0]:null,v=0<o.length?o[0]:null;for(;p!==null||v!==null;){let w=d<r.length?r[d+1]:void 0,E=f<o.length?o[f+1]:void 0,C=null,S;p===v?(d+=2,f+=2,w!==E&&(C=v,S=E)):v===null||p!==null&&p<v?(d+=2,C=p):(f+=2,C=v,S=E),C!==null&&Dj(t,e,n,i,C,S,a,l),p=d<r.length?r[d]:null,v=f<o.length?o[f]:null}}function Dj(t,e,n,i,r,o,a,l){if(!(e.type&3))return;let d=t.data,f=d[l+1],p=XQ(f)?nL(d,e,n,r,rh(f),a):void 0;if(!D0(p)){D0(o)||YQ(f)&&(o=nL(d,null,n,r,l,a));let v=wL(rc(),n);iY(i,a,v,r,o)}}function nL(t,e,n,i,r,o){let a=e===null,l;for(;r>0;){let d=t[r],f=Array.isArray(d),p=f?d[1]:d,v=p===null,w=n[r+1];w===Eo&&(w=v?ur:void 0);let E=v?PS(w,i):p===i?w:void 0;if(f&&!D0(E)&&(E=PS(d,i)),D0(E)&&(l=E,a))return l;let C=t[r+1];r=a?Tl(C):rh(C)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=PS(d,i))}return l}function D0(t){return t!==void 0}function gX(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Yi($r(t)))),t}function xj(t,e){return(t.flags&(e?8:16))!==0}function vX(t,e,n,i,r,o){let a=e.consts,l=Jd(a,r),d=cm(e,t,2,i,l);return bT(e,n,d,Jd(a,o)),d.attrs!==null&&E0(d,d.attrs,!1),d.mergedAttrs!==null&&E0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function y(t,e,n,i){let r=It(),o=Gn(),a=is+t,l=r[wn],d=o.firstCreatePass?vX(a,o,r,e,n,i):o.data[a],f=yX(o,r,d,l,e,t);r[a]=f;let p=k0(d);return Dl(d,!0),jV(l,f,d),(d.flags&32)!==32&&N0()&&z0(o,r,f,d),Gq()===0&&tc(f,r),zq(),p&&(vT(o,r,d),gT(o,d,r)),i!==null&&yT(r,d),y}function _(){let t=ki();X1()?TL():(t=t.parent,Dl(t,!1));let e=t;Kq(e)&&Yq(),Wq();let n=Gn();return n.firstCreatePass&&($0(n,t),K1(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&J7(e)&&F1(n,e,It(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Z7(e)&&F1(n,e,It(),e.stylesWithoutHost,!1),_}function Z(t,e,n,i){return y(t,e,n,i),_(),Z}var yX=(t,e,n,i,r,o)=>(F0(!0),OV(i,r,s7()));function _X(t,e,n,i,r){let o=e.consts,a=Jd(o,i),l=cm(e,t,8,"ng-container",a);a!==null&&E0(l,a,!0);let d=Jd(o,r);return bT(e,n,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function it(t,e,n){let i=It(),r=Gn(),o=t+is,a=r.firstCreatePass?_X(o,r,i,e,n):r.data[o];Dl(a,!0);let l=wX(r,i,a,t);return i[o]=l,N0()&&z0(r,i,l,a),tc(l,i),k0(a)&&(vT(r,i,a),gT(r,a,i)),n!=null&&yT(i,a),it}function rt(){let t=ki(),e=Gn();return X1()?TL():(t=t.parent,Dl(t,!1)),e.firstCreatePass&&($0(e,t),K1(t)&&e.queries.elementEnd(t)),rt}function xT(t,e,n){return it(t,e,n),rt(),xT}var wX=(t,e,n,i)=>(F0(!0),jK(e[wn],""));function Y(){return It()}function Ml(t,e,n){let i=It(),r=rm();if(Js(i,r,e)){let o=Gn(),a=R0(),l=DL(o.data),d=MY(l,a,i);wT(o,a,i,t,e,d,n,!0)}return Ml}var x0="en-US";var bX=x0;function CX(t){typeof t=="string"&&(bX=t.toLowerCase().replace(/_/g,"-"))}function O(t,e,n,i){let r=It(),o=Gn(),a=ki();return Aj(o,r,r[wn],a,t,e,i),O}function EX(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===n&&r[o+1]===i){let l=e[qp],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function Aj(t,e,n,i,r,o,a){let l=k0(i),f=t.firstCreatePass&&QV(t),p=e[_o],v=YV(e),w=!0;if(i.type&3||a){let S=Ur(i,e),x=a?a(S):S,k=v.length,V=a?A=>a(rs(A[i.index])):i.index,G=null;if(!a&&l&&(G=EX(t,e,r,i.index)),G!==null){let A=G.__ngLastListenerFn__||G;A.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,w=!1}else{o=rL(i,e,p,o,!1);let A=n.listen(x,r,o);v.push(o,A),f&&f.push(r,V,k,k+1)}}else o=rL(i,e,p,o,!1);let E=i.outputs,C;if(w&&E!==null&&(C=E[r])){let S=C.length;if(S)for(let x=0;x<S;x+=2){let k=C[x],V=C[x+1],ie=e[k][V].subscribe(o),B=v.length;if(v.push(o,ie),f){let se=typeof ie=="function"?B+1:-(B+1);f.push(r,i.index,B,se)}}}}function iL(t,e,n,i){let r=Ot(null);try{return Zo(6,e,n),n(i)!==!1}catch(o){return XV(t,o),!1}finally{Zo(7,e,n),Ot(r)}}function rL(t,e,n,i,r){return function o(a){if(a===Function)return i;let l=t.componentOffset>-1?ic(t.index,e):e;IT(l);let d=iL(e,n,i,a),f=o.__ngNextListenerFn__;for(;f;)d=iL(e,n,f,a)&&d,f=f.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function D(t=1){return o7(t)}function Mj(t,e,n,i){DQ(t,e,n,i)}function Pj(t,e,n){TQ(t,e,n)}function Z0(t){let e=It(),n=Gn(),i=xL();Z1(i+1);let r=TT(n,i);if(t.dirty&&jq(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=MQ(e,i);t.reset(o,c7),t.notifyOnChanges()}return!0}return!1}function ew(){return SQ(It(),xL())}function dr(t){let e=Xq();return Vq(e,is+t)}function F(t,e=""){let n=It(),i=Gn(),r=t+is,o=i.firstCreatePass?cm(i,r,1,e,null):i.data[r],a=IX(i,n,o,e,t);n[r]=a,N0()&&z0(i,n,a,o),Dl(o,!1)}var IX=(t,e,n,i,r)=>(F0(!0),LK(e[wn],i));function ce(t){return Oj("",t,""),ce}function Oj(t,e,n){let i=It(),r=qQ(i,t,e,n);return r!==Eo&&JV(i,rc(),r),Oj}function Sr(t,e,n,i,r){let o=It(),a=KQ(o,t,e,n,i,r);return a!==Eo&&JV(o,rc(),a),Sr}function Le(t,e,n){mj(e)&&(e=e());let i=It(),r=rm();if(Js(i,r,e)){let o=Gn(),a=R0();wT(o,a,i,t,e,i[wn],n,!1)}return Le}function Ue(t,e){let n=mj(t);return n&&t.set(e),n}function Ve(t,e){let n=It(),i=Gn(),r=ki();return Aj(i,n,n[wn],r,t,e),Ve}function SX(t,e,n){let i=Gn();if(i.firstCreatePass){let r=Ys(t);L1(n,i.data,i.blueprint,r,!0),L1(e,i.data,i.blueprint,r,!1)}}function L1(t,e,n,i,r){if(t=Ki(t),Array.isArray(t))for(let o=0;o<t.length;o++)L1(t[o],e,n,i,r);else{let o=Gn(),a=It(),l=ki(),d=nh(t)?t:Ki(t.provide),f=ZL(t),p=l.providerIndexes&1048575,v=l.directiveStart,w=l.providerIndexes>>20;if(nh(t)||!t.multi){let E=new Cl(f,r,L),C=$S(d,e,r?p:p+w,v);C===-1?(s1(_0(l,a),o,d),BS(o,t,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(E),a.push(E)):(n[C]=E,a[C]=E)}else{let E=$S(d,e,p+w,v),C=$S(d,e,p,p+w),S=E>=0&&n[E],x=C>=0&&n[C];if(r&&!x||!r&&!S){s1(_0(l,a),o,d);let k=xX(r?DX:TX,n.length,r,i,f);!r&&x&&(n[C].providerFactory=k),BS(o,t,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(k),a.push(k)}else{let k=kj(n[r?C:E],f,!r&&i);BS(o,t,E>-1?E:C,k)}!r&&i&&x&&n[C].componentProviders++}}}function BS(t,e,n,i){let r=nh(e),o=L7(e);if(r||o){let d=(o?Ki(e.useClass):e).prototype.ngOnDestroy;if(d){let f=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let p=f.indexOf(n);p===-1?f.push(n,[i,d]):f[p+1].push(i,d)}else f.push(n,d)}}}function kj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $S(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function TX(t,e,n,i){return V1(this.multi,[])}function DX(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=El(n,n[ct],this.providerFactory.index,i);o=l.slice(0,a),V1(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],V1(r,o);return o}function V1(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function xX(t,e,n,i,r){let o=new Cl(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,kj(o,r,i&&!n),o}function ch(t,e=[]){return n=>{n.providersResolver=(i,r)=>SX(i,r?r(t):t,e)}}var AX=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=QL(!1,i.type),o=r.length>0?DT([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ne({token:e,providedIn:"environment",factory:()=>new e(ae(fi))});let t=e;return t})();function ue(t){xl("NgStandalone"),t.getStandaloneInjector=e=>e.get(AX).getOrCreateStandaloneInjector(t)}function Pl(t,e,n){let i=Jq()+t,r=It();return r[i]===Eo?BQ(r,i,n?e.call(n):e()):$Q(r,i)}function Rj(t,e){return Y0(t,e)}var Zs=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Nj=new Zs("17.2.4"),tw=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fj=new we("");function Ol(t){return!!t&&typeof t.then=="function"}function Lj(t){return!!t&&typeof t.subscribe=="function"}var Vj=new we(""),jj=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=ee(Vj,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let a=o();if(Ol(a))i.push(a);else if(Lj(a)){let l=new Promise((d,f)=>{a.subscribe({complete:d,error:f})});i.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nw=new we("");function MX(){$2(()=>{throw new te(600,!1)})}function PX(t){return t.isBoundToModule}function OX(t,e,n){try{let i=n();return Ol(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var cs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ee(mV),this.afterRenderEffectManager=ee(lj),this.componentTypes=[],this.components=[],this.isStable=ee(Al).hasPendingTasks.pipe(Fe(i=>!i)),this._injector=ee(fi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof C0;if(!this._injector.get(jj).done){let E=!o&&mL(i),C=!1;throw new te(405,C)}let l;o?l=i:l=this._injector.get(Q0).resolveComponentFactory(i),this.componentTypes.push(l.componentType);let d=PX(l)?void 0:this._injector.get(nc),f=r||l.selector,p=l.create(ln.NULL,[],f,d),v=p.location.nativeElement,w=p.injector.get(Fj,null);return w?.registerApplication(v),p.onDestroy(()=>{this.detachView(p.hostView),HS(this.components,p),w?.unregisterApplication(v)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new te(101,!1);let i=Ot(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ot(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===ij)throw new te(103,!1);let o=i===0;for(let{_lView:a,notifyErrorHandler:l}of this._views)!o&&!GS(a)||this.detectChangesInView(a,l,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:a})=>GS(a))&&(r.execute(),!this._views.some(({_lView:a})=>GS(a))))break}}detectChangesInView(i,r,o){let a;o?(a=0,i[Re]|=1024):i[Re]&64?a=0:a=1,rj(i,r,a)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;HS(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(nw,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>HS(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new te(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GS(t){return Q1(t)}var j1=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},AT=(()=>{let e=class e{compileModuleSync(i){return new k1(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=gL(i),a=PV(o.declarations).reduce((l,d)=>{let f=ec(d);return f&&l.push(new ih(f)),l},[]);return new j1(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kX=(()=>{let e=class e{constructor(){this.zone=ee(Et),this.applicationRef=ee(cs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RX(t){return[{provide:Et,useFactory:t},{provide:th,multi:!0,useFactory:()=>{let e=ee(kX,{optional:!0});return()=>e.initialize()}},{provide:th,multi:!0,useFactory:()=>{let e=ee(VX);return()=>{e.initialize()}}},{provide:mV,useFactory:NX}]}function NX(){let t=ee(Et),e=ee(os);return n=>t.runOutsideAngular(()=>e.handleError(n))}function FX(t){let e=RX(()=>new Et(LX(t)));return sc([[],e])}function LX(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VX=(()=>{let e=class e{constructor(){this.subscription=new kn,this.initialized=!1,this.zone=ee(Et),this.pendingTasks=ee(Al)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Et.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Et.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jX(){return typeof $localize<"u"&&$localize.locale||x0}var MT=new we("",{providedIn:"root",factory:()=>ee(MT,lt.Optional|lt.SkipSelf)||jX()});var Uj=new we("");var u0=null;function UX(t=[],e){return ln.create({name:e,providers:[{provide:U0,useValue:"platform"},{provide:Uj,useValue:new Set([()=>u0=null])},...t]})}function BX(t=[]){if(u0)return u0;let e=UX(t);return u0=e,MX(),$X(e),e}function $X(t){t.get(rT,null)?.forEach(n=>n())}var ia=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HX;let t=e;return t})();function HX(t){return GX(ki(),It(),(t&16)===16)}function GX(t,e,n){if(O0(t)&&!n){let i=ic(t.index,e);return new Il(i,i)}else if(t.type&47){let i=e[ns];return new Il(i,e)}return null}var U1=class{constructor(){}supports(e){return gj(e)}create(e){return new B1(e)}},zX=(t,e)=>e,B1=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zX}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let a=!i||n&&n.currentIndex<oL(i,r,o)?n:i,l=oL(a,r,o),d=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,a.previousIndex==null)r++;else{o||(o=[]);let f=l-r,p=d-r;if(f!=p){for(let w=0;w<f;w++){let E=w<o.length?o[w]:o[w]=0,C=E+w;p<=C&&C<f&&(o[w]=E+1)}let v=a.previousIndex;o[v]=p-f}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!gj(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,o,a,l),i=!0):(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,jQ(e,l=>{a=this._trackByFn(r,l),n===null||!Object.is(n.trackById,a)?(n=this._mismatch(n,l,a,r),i=!0):(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new $1(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new A0),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new A0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$1=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},H1=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},A0=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new H1,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oL(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function sL(){return new PT([new U1])}var PT=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||sL()),deps:[[e,new qL,new Ji]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new te(901,!1)}};e.\u0275prov=ne({token:e,providedIn:"root",factory:sL});let t=e;return t})();function Bj(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=BX(i),o=[FX(),...n||[]],l=new T0({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(Et);return d.run(()=>{l.resolveInjectorInitializers();let f=l.get(os,null),p;d.runOutsideAngular(()=>{p=d.onError.subscribe({next:E=>{f.handleError(E)}})});let v=()=>l.destroy(),w=r.get(Uj);return w.add(v),l.onDestroy(()=>{p.unsubscribe(),w.delete(v)}),OX(f,d,()=>{let E=l.get(jj);return E.runInitializers(),E.donePromise.then(()=>{let C=l.get(MT,x0);CX(C||x0);let S=l.get(cs);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function er(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var WX=new we("",{providedIn:"root",factory:()=>ee(qX)}),qX=(()=>{let e=class e{};e.\u0275prov=ne({token:e,providedIn:"root",factory:()=>new G1});let t=e;return t})(),G1=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ee(Al),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},z1=class{constructor(e,n,i,r,o,a){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=W2(l=>this.runEffect(l),()=>this.schedule(),a),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(os,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ra(t,e){xl("NgSignals"),!e?.injector&&G7(ra);let n=e?.injector??ee(ln),i=e?.manualCleanup!==!0?n.get(cj):null,r=new z1(n.get(WX),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(ia,null,{optional:!0});return!o||!(o._lView[Re]&8)?r.watcher.notify():(o._lView[r0]??=[]).push(r.watcher.notify),r}function iw(t,e){let n=ec(t),i=e.elementInjector||B0();return new ih(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}var qj=null;function oa(){return qj}function Kj(t){qj??=t}var rw=class{};var Ii=new we(""),Yj=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(KX),providedIn:"platform"});let t=e;return t})();var KX=(()=>{let e=class e extends Yj{constructor(){super(),this._doc=ee(Ii),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oa().getBaseHref(this._doc)}onPopState(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Qj(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $j(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function kl(t){return t&&t[0]!=="?"?"?"+t:t}var uh=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(Xj),providedIn:"root"});let t=e;return t})(),YX=new we(""),Xj=(()=>{let e=class e extends uh{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ee(Ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Qj(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+kl(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){let l=this.prepareExternalUrl(o+kl(a));this._platformLocation.pushState(i,r,l)}replaceState(i,r,o,a){let l=this.prepareExternalUrl(o+kl(a));this._platformLocation.replaceState(i,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ae(Yj),ae(YX,8))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var um=(()=>{let e=class e{constructor(i){this._subject=new zt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=JX($j(Hj(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+kl(r))}normalize(i){return e.stripTrailingSlash(XX(this._basePath,Hj(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+kl(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+kl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=kl,e.joinWithSlash=Qj,e.stripTrailingSlash=$j,e.\u0275fac=function(r){return new(r||e)(ae(uh))},e.\u0275prov=ne({token:e,factory:()=>QX(),providedIn:"root"});let t=e;return t})();function QX(){return new um(ae(uh))}function XX(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hj(t){return t.replace(/\/index.html$/,"")}function JX(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ow(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var OT=/\s+/,Gj=[],pi=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=Gj,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(OT):Gj}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(OT):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(OT).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(L(nn),L(Io))},e.\u0275dir=At({type:e,selectors:[["","ngClass",""]],inputs:{klass:[xe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var kT=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Be=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new kT(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),zj(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);zj(a,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(Ei),L(wo),L(PT))},e.\u0275dir=At({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function zj(t,e){t.context.$implicit=e.item}var Ge=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new RT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Wj("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Wj("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(L(Ei),L(wo))},e.\u0275dir=At({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),RT=class{constructor(){this.$implicit=null,this.ngIf=null}};function Wj(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Yi(e)}'.`)}var fe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Xi({});let t=e;return t})(),Jj="browser",ZX="server";function dm(t){return t===ZX}var lh=class{};var fm=class{},pm=class{},sa=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var LT=class{encodeKey(e){return Zj(e)}encodeValue(e){return Zj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function nJ(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(l),n.set(a,d)}),n}var iJ=/%(\d[a-f0-9])/gi,rJ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zj(t){return encodeURIComponent(t).replace(iJ,(e,n)=>rJ[n]??e)}function sw(t){return`${t}`}var uc=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LT,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nJ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(sw):[sw(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(sw(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(sw(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var VT=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oJ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tU(t){return typeof Blob<"u"&&t instanceof Blob}function nU(t){return typeof FormData<"u"&&t instanceof FormData}function sJ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var hm=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(oJ(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new sa,this.context??=new VT,!this.params)this.params=new uc,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),d=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+d+a}}}serializeBody(){return this.body===null?null:eU(this.body)||tU(this.body)||nU(this.body)||sJ(this.body)||typeof this.body=="string"?this.body:this.body instanceof uc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nU(this.body)?null:tU(this.body)?this.body.type||null:eU(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof uc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((v,w)=>v.set(w,e.setHeaders[w]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((v,w)=>v.set(w,e.setParams[w]),f)),new t(n,i,o,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:a})}},dc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(dc||{}),mm=class{constructor(e,n=vm.Ok,i="OK"){this.headers=e.headers||new sa,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},aw=class t extends mm{constructor(e={}){super(e),this.type=dc.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gm=class t extends mm{constructor(e={}){super(e),this.type=dc.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lc=class extends mm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},vm=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(vm||{});function NT(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Rl=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof hm)a=i;else{let f;o.headers instanceof sa?f=o.headers:f=new sa(o.headers);let p;o.params&&(o.params instanceof uc?p=o.params:p=new uc({fromObject:o.params})),a=new hm(i,r,o.body!==void 0?o.body:null,{headers:f,context:o.context,params:p,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Ne(a).pipe(Qa(f=>this.handler.handle(f)));if(i instanceof hm||o.observe==="events")return l;let d=l.pipe(hi(f=>f instanceof gm));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Fe(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe(Fe(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe(Fe(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe(Fe(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new uc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,NT(o,r))}post(i,r,o={}){return this.request("POST",i,NT(o,r))}put(i,r,o={}){return this.request("PUT",i,NT(o,r))}};e.\u0275fac=function(r){return new(r||e)(ae(fm))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),aJ=/^\)\]\}',?\n/,cJ="X-Request-URL";function iU(t){if(t.url)return t.url;let e=cJ.toLocaleLowerCase();return t.headers.get(e)}var FT=(()=>{let e=class e{constructor(){this.fetchImpl=ee(jT,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=ee(Et)}handle(i){return new $e(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(UT,a=>r.error(new lc({error:a}))),()=>o.abort()})}doRequest(i,r,o){return I(this,null,function*(){let a=this.createRequestInit(i),l;try{let C=this.fetchImpl(i.urlWithParams,re({signal:r},a));lJ(C),o.next({type:dc.Sent}),l=yield C}catch(C){o.error(new lc({error:C,status:C.status??0,statusText:C.statusText,url:i.urlWithParams,headers:C.headers}));return}let d=new sa(l.headers),f=l.statusText,p=iU(l)??i.urlWithParams,v=l.status,w=null;if(i.reportProgress&&o.next(new aw({headers:d,status:v,statusText:f,url:p})),l.body){let C=l.headers.get("content-length"),S=[],x=l.body.getReader(),k=0,V,G,A=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:B,value:se}=yield x.read();if(B)break;if(S.push(se),k+=se.length,i.reportProgress){G=i.responseType==="text"?(G??"")+(V??=new TextDecoder).decode(se,{stream:!0}):void 0;let Ee=()=>o.next({type:dc.DownloadProgress,total:C?+C:void 0,loaded:k,partialText:G});A?A.run(Ee):Ee()}}}));let ie=this.concatChunks(S,k);try{let B=l.headers.get("Content-Type")??"";w=this.parseBody(i,ie,B)}catch(B){o.error(new lc({error:B,headers:new sa(l.headers),status:l.status,statusText:l.statusText,url:iU(l)??i.urlWithParams}));return}}v===0&&(v=w?vm.Ok:0),v>=200&&v<300?(o.next(new gm({body:w,headers:d,status:v,statusText:f,url:p})),o.complete()):o.error(new lc({error:w,headers:d,status:v,statusText:f,url:p}))})}parseBody(i,r,o){switch(i.responseType){case"json":let a=new TextDecoder().decode(r).replace(aJ,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((a,l)=>r[a]=l.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let a=i.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),a=0;for(let l of i)o.set(l,a),a+=l.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),jT=class{};function UT(){}function lJ(t){t.then(UT,UT)}function uJ(t,e){return e(t)}function dJ(t,e,n){return(i,r)=>ta(n,()=>e(i,o=>t(o,r)))}var BT=new we(""),hJ=new we(""),sU=new we("");var rU=(()=>{let e=class e extends fm{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=ee(Al);let o=ee(sU,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(BT),...this.injector.get(hJ,[])]));this.chain=o.reduceRight((a,l)=>dJ(a,l,this.injector),uJ)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(gl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(ae(pm),ae(fi))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();var fJ=/^\)\]\}',?\n/;function pJ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oU=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Qt(r.\u0275loadImpl()):Ne(null)).pipe(Oi(()=>new $e(a=>{let l=r.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((x,k)=>l.setRequestHeader(x,k.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let x=i.detectContentTypeHeader();x!==null&&l.setRequestHeader("Content-Type",x)}if(i.responseType){let x=i.responseType.toLowerCase();l.responseType=x!=="json"?x:"text"}let d=i.serializeBody(),f=null,p=()=>{if(f!==null)return f;let x=l.statusText||"OK",k=new sa(l.getAllResponseHeaders()),V=pJ(l)||i.url;return f=new aw({headers:k,status:l.status,statusText:x,url:V}),f},v=()=>{let{headers:x,status:k,statusText:V,url:G}=p(),A=null;k!==vm.NoContent&&(A=typeof l.response>"u"?l.responseText:l.response),k===0&&(k=A?vm.Ok:0);let ie=k>=200&&k<300;if(i.responseType==="json"&&typeof A=="string"){let B=A;A=A.replace(fJ,"");try{A=A!==""?JSON.parse(A):null}catch(se){A=B,ie&&(ie=!1,A={error:se,text:A})}}ie?(a.next(new gm({body:A,headers:x,status:k,statusText:V,url:G||void 0})),a.complete()):a.error(new lc({error:A,headers:x,status:k,statusText:V,url:G||void 0}))},w=x=>{let{url:k}=p(),V=new lc({error:x,status:l.status||0,statusText:l.statusText||"Unknown Error",url:k||void 0});a.error(V)},E=!1,C=x=>{E||(a.next(p()),E=!0);let k={type:dc.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),i.responseType==="text"&&l.responseText&&(k.partialText=l.responseText),a.next(k)},S=x=>{let k={type:dc.UploadProgress,loaded:x.loaded};x.lengthComputable&&(k.total=x.total),a.next(k)};return l.addEventListener("load",v),l.addEventListener("error",w),l.addEventListener("timeout",w),l.addEventListener("abort",w),i.reportProgress&&(l.addEventListener("progress",C),d!==null&&l.upload&&l.upload.addEventListener("progress",S)),l.send(d),a.next({type:dc.Sent}),()=>{l.removeEventListener("error",w),l.removeEventListener("abort",w),l.removeEventListener("load",v),l.removeEventListener("timeout",w),i.reportProgress&&(l.removeEventListener("progress",C),d!==null&&l.upload&&l.upload.removeEventListener("progress",S)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(ae(lh))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),aU=new we(""),mJ="XSRF-TOKEN",gJ=new we("",{providedIn:"root",factory:()=>mJ}),vJ="X-XSRF-TOKEN",yJ=new we("",{providedIn:"root",factory:()=>vJ}),cw=class{},_J=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ow(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(ae(Ii),ae(Br),ae(gJ))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function wJ(t,e){let n=t.url.toLowerCase();if(!ee(aU)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=ee(cw).getToken(),r=ee(yJ);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var $T=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}($T||{});function cU(t,e){return{\u0275kind:t,\u0275providers:e}}function lU(...t){let e=[Rl,oU,rU,{provide:fm,useExisting:rU},{provide:pm,useExisting:oU},{provide:BT,useValue:wJ,multi:!0},{provide:aU,useValue:!0},{provide:cw,useClass:_J}];for(let n of t)e.push(...n.\u0275providers);return sc(e)}function uU(t){return cU($T.Interceptors,t.map(e=>({provide:BT,useValue:e,multi:!0})))}function dU(){return cU($T.Fetch,[FT,{provide:pm,useExisting:FT},{provide:sU,useExisting:FT}])}var hD={};AW(hD,{FirebaseError:()=>zn,SDK_VERSION:()=>To,_DEFAULT_ENTRY_NAME:()=>ds,_addComponent:()=>Em,_addOrOverwriteComponent:()=>dD,_apps:()=>pc,_clearComponents:()=>_Z,_components:()=>bm,_getProvider:()=>jl,_registerComponent:()=>So,_removeServiceInstance:()=>FU,deleteApp:()=>vw,getApp:()=>Ul,getApps:()=>Im,initializeApp:()=>hh,onLog:()=>yw,registerVersion:()=>un,setLogLevel:()=>_w});var fU=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},bJ=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],a=t[n++],l=t[n++],d=((r&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},pU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],a=r+1<t.length,l=a?t[r+1]:0,d=r+2<t.length,f=d?t[r+2]:0,p=o>>2,v=(o&3)<<4|l>>4,w=(l&15)<<2|f>>6,E=f&63;d||(E=64,a||(w=64)),i.push(n[p],n[v],n[w],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;let f=r<t.length?n[t.charAt(r)]:64;++r;let v=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||l==null||f==null||v==null)throw new zT;let w=o<<2|l>>4;if(i.push(w),f!==64){let E=l<<4&240|f>>2;if(i.push(E),v!==64){let C=f<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CJ=function(t){let e=fU(t);return pU.encodeByteArray(e,!0)},ym=function(t){return CJ(t).replace(/\./g,"")},qT=function(t){try{return pU.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _m(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!EJ(n)||(t[n]=_m(t[n],e[n]));return t}function EJ(t){return t!=="__proto__"}function IJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SJ=()=>IJ().__FIREBASE_DEFAULTS__,TJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&qT(t[1]);return e&&JSON.parse(e)},uw=()=>{try{return SJ()||TJ()||DJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KT=t=>{var e,n;return(n=(e=uw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mU=t=>{let e=KT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},YT=()=>{var t;return(t=uw())===null||t===void 0?void 0:t.config},QT=t=>{var e;return(e=uw())===null||e===void 0?void 0:e[`_${t}`]};var lw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function gU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ym(JSON.stringify(n)),ym(JSON.stringify(a)),""].join(".")}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function dw(){var t;let e=(t=uw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yU(){return typeof self=="object"&&self.self===self}function hw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fw(){let t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _U(){return!dw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hc(){try{return typeof indexedDB=="object"}catch{return!1}}function wU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var xJ="FirebaseError",zn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xJ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}},Hr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?AJ(o,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new zn(r,l,i)}};function AJ(t,e){return t.replace(MJ,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var MJ=/\{\$([^}]+)}/g;function XT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],a=e[r];if(hU(o)&&hU(a)){if(!Nl(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function hU(t){return t!==null&&typeof t=="object"}function Fl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function dh(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pw(t,e){let n=new WT(t,e);return n.subscribe.bind(n)}var WT=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");PJ(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=GT),r.error===void 0&&(r.error=GT),r.complete===void 0&&(r.complete=GT);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PJ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function GT(){}var Qwe=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var Ni=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ll="[DEFAULT]";var JT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new lw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kJ(e))try{this.getOrInitializeService({instanceIdentifier:Ll})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ll){return this.instances.has(e)}getOptions(e=Ll){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,a]of this.instancesDeferred.entries()){let l=this.normalizeInstanceIdentifier(o);i===l&&a.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OJ(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ll){return this.component?this.component.multipleInstances?e:Ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OJ(t){return t===Ll?void 0:t}function kJ(t){return t.instantiationMode==="EAGER"}var mw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new JT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ZT=[],pt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pt||{}),CU={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},RJ=pt.INFO,NJ={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},FJ=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=NJ[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ls=class{constructor(e){this.name=e,this._logLevel=RJ,this._logHandler=FJ,this._userLogHandler=null,ZT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}};function EU(t){ZT.forEach(e=>{e.setLogLevel(t)})}function IU(t,e){for(let n of ZT){let i=null;e&&e.level&&(i=CU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,o,...a)=>{let l=a.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??r.logLevel)&&t({level:pt[o].toLowerCase(),message:l,args:a,type:r.name})}}}var LJ=(t,e)=>e.some(n=>t instanceof n),SU,TU;function VJ(){return SU||(SU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jJ(){return TU||(TU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DU=new WeakMap,tD=new WeakMap,xU=new WeakMap,eD=new WeakMap,iD=new WeakMap;function UJ(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(us(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&DU.set(n,t)}).catch(()=>{}),iD.set(e,t),e}function BJ(t){if(tD.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});tD.set(t,e)}var nD={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AU(t){nD=t(nD)}function $J(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(gw(this),e,...n);return xU.set(i,e.sort?e.sort():[e]),us(i)}:jJ().includes(t)?function(...e){return t.apply(gw(this),e),us(DU.get(this))}:function(...e){return us(t.apply(gw(this),e))}}function HJ(t){return typeof t=="function"?$J(t):(t instanceof IDBTransaction&&BJ(t),LJ(t,VJ())?new Proxy(t,nD):t)}function us(t){if(t instanceof IDBRequest)return UJ(t);if(eD.has(t))return eD.get(t);let e=HJ(t);return e!==t&&(eD.set(t,e),iD.set(e,t)),e}var gw=t=>iD.get(t);function PU(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(t,e),l=us(a);return i&&a.addEventListener("upgradeneeded",d=>{i(us(a.result),d.oldVersion,d.newVersion,us(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),l.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}var GJ=["get","getKey","getAll","getAllKeys","count"],zJ=["put","add","delete","clear"],rD=new Map;function MU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rD.get(e))return rD.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=zJ.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||GJ.includes(n)))return;let o=function(a,...l){return I(this,null,function*(){let d=this.transaction(a,r?"readwrite":"readonly"),f=d.store;return i&&(f=f.index(l.shift())),(yield Promise.all([f[n](...l),r&&d.done]))[0]})};return rD.set(e,o),o}AU(t=>xt(re({},t),{get:(e,n,i)=>MU(e,n)||t.get(e,n,i),has:(e,n)=>!!MU(e,n)||t.has(e,n)}));var sD=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WJ(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function WJ(t){let e=t.getComponent();return e?.type==="VERSION"}var aD="@firebase/app",OU="0.9.28";var Vl=new ls("@firebase/app"),qJ="@firebase/app-compat",KJ="@firebase/analytics-compat",YJ="@firebase/analytics",QJ="@firebase/app-check-compat",XJ="@firebase/app-check",JJ="@firebase/auth",ZJ="@firebase/auth-compat",eZ="@firebase/database",tZ="@firebase/database-compat",nZ="@firebase/functions",iZ="@firebase/functions-compat",rZ="@firebase/installations",oZ="@firebase/installations-compat",sZ="@firebase/messaging",aZ="@firebase/messaging-compat",cZ="@firebase/performance",lZ="@firebase/performance-compat",uZ="@firebase/remote-config",dZ="@firebase/remote-config-compat",hZ="@firebase/storage",fZ="@firebase/storage-compat",pZ="@firebase/firestore",mZ="@firebase/firestore-compat",gZ="firebase",vZ="10.8.1";var ds="[DEFAULT]",yZ={[aD]:"fire-core",[qJ]:"fire-core-compat",[YJ]:"fire-analytics",[KJ]:"fire-analytics-compat",[XJ]:"fire-app-check",[QJ]:"fire-app-check-compat",[JJ]:"fire-auth",[ZJ]:"fire-auth-compat",[eZ]:"fire-rtdb",[tZ]:"fire-rtdb-compat",[nZ]:"fire-fn",[iZ]:"fire-fn-compat",[rZ]:"fire-iid",[oZ]:"fire-iid-compat",[sZ]:"fire-fcm",[aZ]:"fire-fcm-compat",[cZ]:"fire-perf",[lZ]:"fire-perf-compat",[uZ]:"fire-rc",[dZ]:"fire-rc-compat",[hZ]:"fire-gcs",[fZ]:"fire-gcs-compat",[pZ]:"fire-fst",[mZ]:"fire-fst-compat","fire-js":"fire-js",[gZ]:"fire-js-all"};var pc=new Map,bm=new Map;function Em(t,e){try{t.container.addComponent(e)}catch(n){Vl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dD(t,e){t.container.addOrOverwriteComponent(e)}function So(t){let e=t.name;if(bm.has(e))return Vl.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,t);for(let n of pc.values())Em(n,t);return!0}function jl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function FU(t,e,n=ds){jl(t,e).clearInstance(n)}function _Z(){bm.clear()}var wZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},aa=new Hr("app","Firebase",wZ);var cD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}};var To=vZ;function hh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:ds,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw aa.create("bad-app-name",{appName:String(r)});if(n||(n=YT()),!n)throw aa.create("no-options");let o=pc.get(r);if(o){if(Nl(n,o.options)&&Nl(i,o.config))return o;throw aa.create("duplicate-app",{appName:r})}let a=new mw(r);for(let d of bm.values())a.addComponent(d);let l=new cD(n,i,a);return pc.set(r,l),l}function Ul(t=ds){let e=pc.get(t);if(!e&&t===ds&&YT())return hh();if(!e)throw aa.create("no-app",{appName:t});return e}function Im(){return Array.from(pc.values())}function vw(t){return I(this,null,function*(){let e=t.name;pc.has(e)&&(pc.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function un(t,e,n){var i;let r=(i=yZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vl.warn(l.join(" "));return}So(new Ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function yw(t,e){if(t!==null&&typeof t!="function")throw aa.create("invalid-log-argument");IU(t,e)}function _w(t){EU(t)}var bZ="firebase-heartbeat-database",CZ=1,Cm="firebase-heartbeat-store",oD=null;function LU(){return oD||(oD=PU(bZ,CZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cm)}catch(n){console.warn(n)}}}}).catch(t=>{throw aa.create("idb-open",{originalErrorMessage:t.message})})),oD}function EZ(t){return I(this,null,function*(){try{let n=(yield LU()).transaction(Cm),i=yield n.objectStore(Cm).get(VU(t));return yield n.done,i}catch(e){if(e instanceof zn)Vl.warn(e.message);else{let n=aa.create("idb-get",{originalErrorMessage:e?.message});Vl.warn(n.message)}}})}function kU(t,e){return I(this,null,function*(){try{let i=(yield LU()).transaction(Cm,"readwrite");yield i.objectStore(Cm).put(e,VU(t)),yield i.done}catch(n){if(n instanceof zn)Vl.warn(n.message);else{let i=aa.create("idb-set",{originalErrorMessage:n?.message});Vl.warn(i.message)}}})}function VU(t){return`${t.name}!${t.options.appId}`}var IZ=1024,SZ=30*24*60*60*1e3,lD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new uD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return I(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RU();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let l=new Date(a.date).valueOf();return Date.now()-l<=SZ}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RU(),{heartbeatsToSend:i,unsentEntries:r}=TZ(this._heartbeatsCache.heartbeats),o=ym(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function RU(){return new Date().toISOString().substring(0,10)}function TZ(t,e=IZ){let n=[],i=t.slice();for(let r of t){let o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),NU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),NU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var uD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return hc()?wU().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function NU(t){return ym(JSON.stringify({version:2,heartbeats:t})).length}function DZ(t){So(new Ni("platform-logger",e=>new sD(e),"PRIVATE")),So(new Ni("heartbeat",e=>new lD(e),"PRIVATE")),un(aD,OU,t),un(aD,OU,"esm2017"),un("fire-js","")}DZ("");var xZ="firebase",AZ="10.8.1";un(xZ,AZ,"app");var $l=new Zs("ANGULARFIRE2_VERSION");function bw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sm=(t,e)=>{let n=e?[e]:Im(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},ph=class{constructor(){return Sm(MZ)}},MZ="app-check";function fh(){}var ww=class{zone;delegate;constructor(e,n=wS){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(o,n,i)}},fD=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fh,{},fh,fh)),n.pipe(Nn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ww(Zone.current)),this.insideAngular=n.run(()=>new ww(Zone.current,Ld)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(ae(Et))};static \u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cw(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function PZ(t){return Cw().ngZone.runOutsideAngular(()=>t())}function Bl(t){return Cw().ngZone.run(()=>t())}function OZ(t){return kZ(Cw())(t)}function kZ(t){return function(n){return n=n.lift(new fD(t.ngZone)),n.pipe(Ka(t.outsideAngular),qa(t.insideAngular))}}var RZ=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Bl(()=>t.apply(void 0,i))},Do=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fh,{},fh,fh))),i[o]=RZ(i[o],n));let r=PZ(()=>t.apply(this,i));if(!e)if(r instanceof $e){let o=Cw();return r.pipe(Ka(o.outsideAngular),qa(o.insideAngular))}else return Bl(()=>r);return r instanceof $e?r.pipe(OZ):r instanceof Promise?Bl(()=>new Promise((o,a)=>r.then(l=>Bl(()=>o(l)),l=>Bl(()=>a(l))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Bl(()=>r)};var ca=class{constructor(e){return e}},Hl=class{constructor(){return Im()}};function NZ(t){return t&&t.length===1?t[0]:new ca(Ul())}var pD=new we("angularfire2._apps"),FZ={provide:ca,useFactory:NZ,deps:[[new Ji,pD]]},LZ={provide:Hl,deps:[[new Ji,pD]]};function VZ(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ca(i)}}var jZ=(()=>{class t{constructor(n){un("angularfire",$l.full,"core"),un("angularfire",$l.full,"app"),un("angular",Nj.full,n.toString())}static \u0275fac=function(i){return new(i||t)(ae(Br))};static \u0275mod=Qi({type:t});static \u0275inj=Xi({providers:[FZ,LZ]})}return t})();function jU(t,...e){return{ngModule:jZ,providers:[{provide:pD,useFactory:VZ(t),multi:!0,deps:[Et,ln,mh,...e]}]}}var UU=Do(hh,!0);var yc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var ha={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function UZ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function nB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jw=UZ,zD=nB,iB=new Hr("auth","Firebase",nB());var Tw=new ls("@firebase/auth");function BZ(t,...e){Tw.logLevel<=pt.WARN&&Tw.warn(`Auth (${To}): ${t}`,...e)}function Iw(t,...e){Tw.logLevel<=pt.ERROR&&Tw.error(`Auth (${To}): ${t}`,...e)}function Fn(t,...e){throw WD(t,...e)}function mi(t,...e){return WD(t,...e)}function rB(t,e,n){let i=Object.assign(Object.assign({},zD()),{[e]:n});return new Hr("auth","Firebase",i).create(e,{appName:t.name})}function bh(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Fn(t,"argument-error"),rB(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function WD(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return iB.create(t,...e)}function J(t,e,...n){if(!t)throw WD(e,...n)}function hs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Iw(e),new Error(e)}function Gr(t,e){t||hs(e)}function Am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qD(){return BU()==="http:"||BU()==="https:"}function BU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function $Z(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qD()||hw()||"connection"in navigator)?navigator.onLine:!0}function HZ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Gl=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=vU()||wm()}get(){return $Z()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KD(t,e){Gr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Mm=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var GZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var zZ=new Gl(3e4,6e4);function bn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cn(o,a,l,d){return I(this,arguments,function*(t,e,n,i,r={}){return oB(t,r,()=>I(this,null,function*(){let f={},p={};i&&(e==="GET"?p=i:f={body:JSON.stringify(i)});let v=Fl(Object.assign({key:t.config.apiKey},p)).slice(1),w=yield t._getAdditionalHeaders();return w["Content-Type"]="application/json",t.languageCode&&(w["X-Firebase-Locale"]=t.languageCode),Mm.fetch()(sB(t,t.config.apiHost,n,v),Object.assign({method:e,headers:w,referrerPolicy:"no-referrer"},f))}))})}function oB(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},GZ),e);try{let r=new _D(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Tm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let l=o.ok?a.errorMessage:a.error.message,[d,f]=l.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tm(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Tm(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Tm(t,"user-disabled",a);let p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw rB(t,p,f);Fn(t,p)}}catch(r){if(r instanceof zn)throw r;Fn(t,"network-request-failed",{message:String(r)})}})}function fa(o,a,l,d){return I(this,arguments,function*(t,e,n,i,r={}){let f=yield Cn(t,e,n,i,r);return"mfaPendingCredential"in f&&Fn(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function sB(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?KD(t.config,r):`${t.config.apiScheme}://${r}`}function WZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _D=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(mi(this.auth,"network-request-failed")),zZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tm(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=mi(t,e,i);return r.customData._tokenResponse=n,r}function $U(t){return t!==void 0&&t.getResponse!==void 0}function HU(t){return t!==void 0&&t.enterprise!==void 0}var wD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function qZ(t){return I(this,null,function*(){return(yield Cn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function KZ(t,e){return I(this,null,function*(){return Cn(t,"GET","/v2/recaptchaConfig",bn(t,e))})}function YZ(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:delete",e)})}function QZ(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function XZ(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:lookup",e)})}function Dm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uw(t,e=!1){return I(this,null,function*(){let n=Je(t),i=yield n.getIdToken(e),r=Bw(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:Dm(mD(r.auth_time)),issuedAtTime:Dm(mD(r.iat)),expirationTime:Dm(mD(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function mD(t){return Number(t)*1e3}function Bw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Iw("JWT malformed, contained fewer than 3 sections"),null;try{let r=qT(n);return r?JSON.parse(r):(Iw("Failed to decode base64 JWT payload"),null)}catch(r){return Iw("Caught error parsing JWT payload as JSON",r?.toString()),null}}function JZ(t){let e=Bw(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ua(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof zn&&ZZ(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function ZZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dw=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Pm(t){return I(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield ua(t,XZ(n,{idToken:i}));J(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tee(o.providerUserInfo):[],l=eee(t.providerData,a),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!l?.length,p=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Dw(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)})}function $w(t){return I(this,null,function*(){let e=Je(t);yield Pm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eee(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function tee(t){return t.map(e=>{var{providerId:n}=e,i=F_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function nee(t,e){return I(this,null,function*(){let n=yield oB(t,{},()=>I(this,null,function*(){let i=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=sB(t,r,"/v1/token",`key=${o}`),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Mm.fetch()(a,{method:"POST",headers:l,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function iee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v2/accounts:revokeToken",bn(t,e))})}var xw=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JZ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return I(this,null,function*(){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield nee(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new t;return i&&(J(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hs("not implemented")}};function mc(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gh=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=F_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield ua(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Uw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Pm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){let e=yield this.getIdToken();return yield ua(this,YZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,l,d,f,p;let v=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,k=(f=n.createdAt)!==null&&f!==void 0?f:void 0,V=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:A,isAnonymous:ie,providerData:B,stsTokenManager:se}=n;J(G&&se,e,"internal-error");let Ee=xw.fromJSON(this.name,se);J(typeof G=="string",e,"internal-error"),mc(v,e.name),mc(w,e.name),J(typeof A=="boolean",e,"internal-error"),J(typeof ie=="boolean",e,"internal-error"),mc(E,e.name),mc(C,e.name),mc(S,e.name),mc(x,e.name),mc(k,e.name),mc(V,e.name);let We=new t({uid:G,auth:e,email:w,emailVerified:A,displayName:v,isAnonymous:ie,photoURL:C,phoneNumber:E,tenantId:S,stsTokenManager:Ee,createdAt:k,lastLoginAt:V});return B&&Array.isArray(B)&&(We.providerData=B.map(et=>Object.assign({},et))),x&&(We._redirectEventId=x),We}static _fromIdTokenResponse(e,n,i=!1){return I(this,null,function*(){let r=new xw;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Pm(o),o})}};var GU=new Map;function Fi(t){Gr(t instanceof Function,"Expected a class definition");let e=GU.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GU.set(t,e),e)}var ree=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,i){return I(this,null,function*(){this.storage[n]=i})}_get(n){return I(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),da=ree;function fs(t,e,n){return`firebase:${t}:${e}:${n}`}var Aw=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=fs(this.userKey,r.apiKey,o),this.fullPersistenceKey=fs("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?gh._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return I(this,null,function*(){if(!n.length)return new t(Fi(da),e,i);let r=(yield Promise.all(n.map(f=>I(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=r[0]||Fi(da),a=fs(i,e.config.apiKey,e.name),l=null;for(let f of n)try{let p=yield f._get(a);if(p){let v=gh._fromJSON(e,p);f!==o&&(l=v),o=f;break}}catch{}let d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],l&&(yield o._set(a,l.toJSON())),yield Promise.all(n.map(f=>I(this,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new t(o,e,i))})}};function zU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uB(e))return"Blackberry";if(dB(e))return"Webos";if(YD(e))return"Safari";if((e.includes("chrome/")||cB(e))&&!e.includes("edge/"))return"Chrome";if(Ch(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function aB(t=qt()){return/firefox\//i.test(t)}function YD(t=qt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cB(t=qt()){return/crios\//i.test(t)}function lB(t=qt()){return/iemobile/i.test(t)}function Ch(t=qt()){return/android/i.test(t)}function uB(t=qt()){return/blackberry/i.test(t)}function dB(t=qt()){return/webos/i.test(t)}function Ql(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hB(t=qt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function oee(t=qt()){var e;return Ql(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function see(){return fw()&&document.documentMode===10}function fB(t=qt()){return Ql(t)||Ch(t)||dB(t)||uB(t)||/windows phone/i.test(t)||lB(t)}function aee(){try{return!!(window&&window!==window.top)}catch{return!1}}function QD(t,e=[]){let n;switch(t){case"Browser":n=zU(qt());break;case"Worker":n=`${zU(qt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${i}`}var CD=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((a,l)=>{try{let d=e(o);a(d)}catch(d){l(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function cee(n){return I(this,arguments,function*(t,e={}){return Cn(t,"GET","/v2/passwordPolicy",bn(t,e))})}var lee=6,ED=class{constructor(e){var n,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:lee,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,l;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Mw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new CD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Aw.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Pm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=HZ()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){let n=e?Je(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield cee(this),n=new ED(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield iee(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fi(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield Aw.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{a=!0,d()}}else{let d=e.addObserver(n);return()=>{a=!0,d()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&BZ(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function rn(t){return Je(t)}var Pw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pw(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lm={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uee(t){Lm=t}function XD(t){return Lm.loadJS(t)}function dee(){return Lm.recaptchaV2Script}function hee(){return Lm.recaptchaEnterpriseScript}function fee(){return Lm.gapiScript}function pB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var pee="recaptcha-enterprise",mee="NO_RECAPTCHA",ID=class{constructor(e){this.type=pee,this.auth=rn(e)}verify(e="verify",n=!1){return I(this,null,function*(){function i(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,l)=>I(this,null,function*(){KZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{let f=new wD(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(d=>{l(d)})}))})}function r(o,a,l){let d=window.grecaptcha;HU(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(mee)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(l=>{if(!n&&HU(window.grecaptcha))r(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=hee();d.length!==0&&(d+=l),XD(d).then(()=>{r(l,o,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})})}};function WU(t,e,n,i=!1){return I(this,null,function*(){let r=new ID(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Om(t,e,n,i){return I(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield WU(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield WU(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)}))})}function Hw(t,e){let n=jl(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Nl(o,e??{}))return r;Fn(r,"already-initialized")}return n.initialize({options:e})}function gee(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Eh(t,e,n){let i=rn(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=mB(e),{host:a,port:l}=vee(e),d=l===null?"":`:${l}`;i.config.emulator={url:`${o}//${a}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||yee()}function mB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vee(t){let e=mB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:qU(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:qU(a)}}}function qU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function yee(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}};function gB(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:resetPassword",bn(t,e))})}function _ee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function wee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:signUp",e)})}function bee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",bn(t,e))})}function Cee(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithPassword",bn(t,e))})}function Gw(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:sendOobCode",bn(t,e))})}function Eee(t,e){return I(this,null,function*(){return Gw(t,e)})}function Iee(t,e){return I(this,null,function*(){return Gw(t,e)})}function See(t,e){return I(this,null,function*(){return Gw(t,e)})}function Tee(t,e){return I(this,null,function*(){return Gw(t,e)})}function Dee(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))})}function xee(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",bn(t,e))})}var vh=class t extends xo{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",Cee);case"emailLink":return Dee(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,i,"signUpPassword",wee);case"emailLink":return xee(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function la(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithIdp",bn(t,e))})}var Aee="http://localhost",zr=class t extends xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=F_(n,["providerId","signInMethod"]);if(!i||!r)return null;let a=new t(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,la(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){let e={requestUri:Aee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}};function Mee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:sendVerificationCode",bn(t,e))})}function Pee(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e))})}function Oee(t,e){return I(this,null,function*(){let n=yield fa(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,e));if(n.temporaryProof)throw Tm(t,"account-exists-with-different-credential",n);return n})}var kee={USER_NOT_FOUND:"user-not-found"};function Ree(t,e){return I(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return fa(t,"POST","/v1/accounts:signInWithPhoneNumber",bn(t,n),kee)})}var zl=class t extends xo{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Pee(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Oee(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Ree(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o}=e;return!i&&!n&&!r&&!o?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:o})}};function Nee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fee(t){let e=fc(dh(t)).link,n=e?fc(dh(e)).deep_link_id:null,i=fc(dh(t)).deep_link_id;return(i?fc(dh(i)).link:null)||i||n||e||t}var yh=class t{constructor(e){var n,i,r,o,a,l;let d=fc(dh(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,v=Nee((r=d.mode)!==null&&r!==void 0?r:null);J(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=d.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){let n=Fee(e);try{return new t(n)}catch{return null}}};var Ih=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return vh._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=yh.parseLink(i);return J(r,"argument-error"),vh._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ao=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vc=class extends Ao{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Wl=class t extends vc{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return J("providerId"in n&&"signInMethod"in n,"argument-error"),zr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return J(e.idToken||e.accessToken,"argument-error"),zr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:o,nonce:a,providerId:l}=e;if(!i&&!r&&!n&&!o||!l)return null;try{return new t(l)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}};var Vm=(()=>{class t extends vc{constructor(){super("facebook.com")}static credential(n){return zr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Xl=(()=>{class t extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return zr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),jm=(()=>{class t extends vc{constructor(){super("github.com")}static credential(n){return zr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),Lee="http://localhost",ql=class t extends xo{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,la(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,la(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:o}=n;return!i||!r||!o||i!==r?null:new t(i,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:Lee,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Vee="saml.",_h=class t extends Ao{constructor(e){J(e.startsWith(Vee),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=ql.fromJSON(e);return J(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return ql._create(i,n)}catch{return null}}};var Um=(()=>{class t extends vc{constructor(){super("twitter.com")}static credential(n,i){return zr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:i,oauthTokenSecret:r}=n;if(!i||!r)return null;try{return t.credential(i,r)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function vB(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signUp",bn(t,e))})}var Mo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return I(this,null,function*(){let o=yield gh._fromIdTokenResponse(e,i,r),a=KU(i);return new t({user:o,providerId:a,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return I(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=KU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function KU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Bm(t){return I(this,null,function*(){var e;let n=rn(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Mo({user:n.currentUser,providerId:null,operationType:"signIn"});let i=yield vB(n,{returnSecureToken:!0}),r=yield Mo._fromIdTokenResponse(n,"signIn",i,!0);return yield n._updateCurrentUser(r.user),r})}var SD=class t extends zn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function yB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?SD._fromErrorAndOperation(t,o,e,i):o})}function _B(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function $m(t,e){return I(this,null,function*(){let n=Je(t);yield zw(!0,n,e);let{providerUserInfo:i}=yield QZ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),r=_B(i||[]);return n.providerData=n.providerData.filter(o=>r.has(o.providerId)),r.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function JD(t,e,n=!1){return I(this,null,function*(){let i=yield ua(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Mo._forOperation(t,"link",i)})}function zw(t,e,n){return I(this,null,function*(){yield Pm(e);let i=_B(e.providerData),r=t===!1?"provider-already-linked":"no-such-provider";J(i.has(n)===t,e.auth,r)})}function wB(t,e,n=!1){return I(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let o=yield ua(t,yB(i,r,e,t),n);J(o.idToken,i,"internal-error");let a=Bw(o.idToken);J(a,i,"internal-error");let{sub:l}=a;return J(t.uid===l,i,"user-mismatch"),Mo._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Fn(i,"user-mismatch"),o}})}function bB(t,e,n=!1){return I(this,null,function*(){let i="signIn",r=yield yB(t,i,e),o=yield Mo._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function _c(t,e){return I(this,null,function*(){return bB(rn(t),e)})}function Sh(t,e){return I(this,null,function*(){let n=Je(t);return yield zw(!1,n,e.providerId),JD(n,e)})}function Th(t,e){return I(this,null,function*(){return wB(Je(t),e)})}function jee(t,e){return I(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithCustomToken",bn(t,e))})}function Hm(t,e){return I(this,null,function*(){let n=rn(t),i=yield jee(n,{token:e,returnSecureToken:!0}),r=yield Mo._fromIdTokenResponse(n,"signIn",i);return yield n._updateCurrentUser(r.user),r})}var Kl=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?TD._fromServerResponse(e,n):"totpInfo"in n?DD._fromServerResponse(e,n):Fn(e,"internal-error")}},TD=class t extends Kl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},DD=class t extends Kl{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Ww(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function ZD(t){return I(this,null,function*(){let e=rn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Gm(t,e,n){return I(this,null,function*(){let i=rn(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Ww(i,r,n),yield Om(i,r,"getOobCode",Iee)})}function zm(t,e,n){return I(this,null,function*(){yield gB(Je(t),{oobCode:e,newPassword:n}).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&ZD(t),i}))})}function Wm(t,e){return I(this,null,function*(){yield bee(Je(t),{oobCode:e})})}function Dh(t,e){return I(this,null,function*(){let n=Je(t),i=yield gB(n,{oobCode:e}),r=i.requestType;switch(J(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(i.mfaInfo,n,"internal-error");default:J(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Kl._fromServerResponse(rn(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:r}})}function qm(t,e){return I(this,null,function*(){let{data:n}=yield Dh(Je(t),e);return n.email})}function Km(t,e,n){return I(this,null,function*(){let i=rn(t),a=yield Om(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vB).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ZD(t),d}),l=yield Mo._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l})}function Ym(t,e,n){return _c(Je(t),Ih.credential(e,n)).catch(i=>I(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&ZD(t),i}))}function Qm(t,e,n){return I(this,null,function*(){let i=rn(t),r={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){J(l.handleCodeInApp,i,"argument-error"),l&&Ww(i,a,l)}o(r,n),yield Om(i,r,"getOobCode",See)})}function Xm(t,e){let n=yh.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Jm(t,e,n){return I(this,null,function*(){let i=Je(t),r=Ih.credentialWithLink(e,n||Am());return J(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),_c(i,r)})}function Uee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:createAuthUri",bn(t,e))})}function Zm(t,e){return I(this,null,function*(){let n=qD()?Am():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:r}=yield Uee(Je(t),i);return r||[]})}function eg(t,e){return I(this,null,function*(){let n=Je(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Ww(n.auth,r,e);let{email:o}=yield Eee(n.auth,r);o!==t.email&&(yield t.reload())})}function tg(t,e,n){return I(this,null,function*(){let i=Je(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Ww(i.auth,o,n);let{email:a}=yield Tee(i.auth,o);a!==t.email&&(yield t.reload())})}function Bee(t,e){return I(this,null,function*(){return Cn(t,"POST","/v1/accounts:update",e)})}function ng(i,r){return I(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Je(t),l={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=yield ua(o,Bee(o.auth,l));o.displayName=d.displayName||null,o.photoURL=d.photoUrl||null;let f=o.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=o.displayName,f.photoURL=o.photoURL),yield o._updateTokensIfNecessary(d)})}function ig(t,e){return CB(Je(t),e,null)}function rg(t,e){return CB(Je(t),null,e)}function CB(t,e,n){return I(this,null,function*(){let{auth:i}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let a=yield ua(t,_ee(i,o));yield t._updateTokensIfNecessary(a,!0)})}function $ee(t){var e,n;if(!t)return null;let{providerId:i}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&t?.idToken){let a=(n=(e=Bw(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){let l=a!=="anonymous"&&a!=="custom"?a:null;return new gc(o,l)}}if(!i)return null;switch(i){case"facebook.com":return new xD(o,r);case"github.com":return new AD(o,r);case"google.com":return new MD(o,r);case"twitter.com":return new PD(o,r,t.screenName||null);case"custom":case"anonymous":return new gc(o,null);default:return new gc(o,i,r)}}var gc=class{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}},Ow=class extends gc{constructor(e,n,i,r){super(e,n,i),this.username=r}},xD=class extends gc{constructor(e,n){super(e,"facebook.com",n)}},AD=class extends Ow{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},MD=class extends gc{constructor(e,n){super(e,"google.com",n)}},PD=class extends Ow{constructor(e,n,i){super(e,"twitter.com",n,i)}};function og(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$ee(n)}function qw(t,e,n,i){return Je(t).onIdTokenChanged(e,n,i)}function Kw(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}var kw=class t{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var OD=class t{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){let i=rn(e),r=n.customData._serverResponse,o=(r.mfaInfo||[]).map(l=>Kl._fromServerResponse(i,l));J(r.mfaPendingCredential,i,"internal-error");let a=kw._fromMfaPendingCredential(r.mfaPendingCredential);return new t(a,o,l=>I(this,null,function*(){let d=yield l._process(i,a);delete r.mfaInfo,delete r.mfaPendingCredential;let f=Object.assign(Object.assign({},r),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":let p=yield Mo._fromIdTokenResponse(i,n.operationType,f);return yield i._updateCurrentUser(p.user),p;case"reauthenticate":return J(n.user,i,"internal-error"),Mo._forOperation(n.user,n.operationType,f);default:Fn(i,"internal-error")}}))}resolveSignIn(e){return I(this,null,function*(){let n=e;return this.signInResolver(n)})}};function sg(t,e){var n;let i=Je(t),r=e;return J(e.customData.operationType,i,"argument-error"),J((n=r.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),OD._fromError(i,r)}function Hee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:start",bn(t,e))}function Gee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:finalize",bn(t,e))}function zee(t,e){return Cn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",bn(t,e))}var kD=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Kl._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new t(e)}getSession(){return I(this,null,function*(){return kw._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return I(this,null,function*(){let i=e,r=yield this.getSession(),o=yield ua(this.user,i._process(this.user.auth,r,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return I(this,null,function*(){let n=typeof e=="string"?e:e.uid,i=yield this.user.getIdToken();try{let r=yield ua(this.user,zee(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(r),yield this.user.reload()}catch(r){throw r}})}},gD=new WeakMap;function ag(t){let e=Je(t);return gD.has(e)||gD.set(e,kD._fromUser(e)),gD.get(e)}var Rw="__sak";var Nw=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rw,"1"),this.storage.removeItem(Rw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Wee(){let t=qt();return YD(t)||Ql(t)}var qee=1e3,Kee=10,Yee=(()=>{class t extends Nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Wee()&&aee(),this.fallbackToPolling=fB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let l=this.storage.getItem(r);if(n.newValue!==l)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let l=this.storage.getItem(r);!i&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);see()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Kee):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return I(this,null,function*(){yield Ga(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return I(this,null,function*(){let i=yield Ga(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return I(this,null,function*(){yield Ga(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ps=Yee;var Qee=(()=>{class t extends Nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Wr=Qee;function Xee(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Jee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let i=n,{eventId:r,eventType:o,data:a}=i.data,l=this.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(l).map(p=>I(this,null,function*(){return p(i.origin,a)})),f=yield Xee(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Jl(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var RD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return I(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((l,d)=>{let f=Jl("",20);r.port1.start();let p=setTimeout(()=>{d(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(v){let w=v;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(w.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Wn(){return window}function Zee(t){Wn().location.href=t}function ex(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}function ete(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tte(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nte(){return ex()?self:null}var EB="firebaseLocalStorageDb",ite=1,Fw="firebaseLocalStorage",IB="fbase_key",Yl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yw(t,e){return t.transaction([Fw],e?"readwrite":"readonly").objectStore(Fw)}function rte(){let t=indexedDB.deleteDatabase(EB);return new Yl(t).toPromise()}function ND(){let t=indexedDB.open(EB,ite);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Fw,{keyPath:IB})}catch(r){n(r)}}),t.addEventListener("success",()=>I(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Fw)?e(i):(i.close(),yield rte(),e(yield ND()))}))})}function YU(t,e,n){return I(this,null,function*(){let i=Yw(t,!0).put({[IB]:e,value:n});return new Yl(i).toPromise()})}function ote(t,e){return I(this,null,function*(){let n=Yw(t,!1).get(e),i=yield new Yl(n).toPromise();return i===void 0?null:i.value})}function QU(t,e){let n=Yw(t,!0).delete(e);return new Yl(n).toPromise()}var ste=800,ate=3,cte=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield ND(),this.db)})}_withRetries(n){return I(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>ate)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return ex()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=Jee._getInstance(nte()),this.receiver._subscribe("keyChanged",(n,i)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,i;if(this.activeServiceWorker=yield ete(),!this.activeServiceWorker)return;this.sender=new RD(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tte()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ND();return yield YU(n,Rw,"1"),yield QU(n,Rw),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>YU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let i=yield this._withRetries(r=>ote(r,n));return this.localCache[n]=i,i})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>QU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let a=Yw(o,!1).getAll();return new Yl(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),ste)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pa=cte;function lte(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:start",bn(t,e))}function ute(t,e){return Cn(t,"POST","/v2/accounts/mfaSignIn:finalize",bn(t,e))}var dte=500,hte=6e4,Ew=1e12,FD=class{constructor(e){this.auth=e,this.counter=Ew,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new LD(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||Ew;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||Ew;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return I(this,null,function*(){var n;let i=e||Ew;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},LD=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;J(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=fte(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},hte)},dte))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function fte(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var vD=pB("rcb"),pte=new Gl(3e4,6e4),VD=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Wn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return J(mte(n),e,"argument-error"),this.shouldResolveImmediately(n)&&$U(Wn().grecaptcha)?Promise.resolve(Wn().grecaptcha):new Promise((i,r)=>{let o=Wn().setTimeout(()=>{r(mi(e,"network-request-failed"))},pte.get());Wn()[vD]=()=>{Wn().clearTimeout(o),delete Wn()[vD];let l=Wn().grecaptcha;if(!l||!$U(l)){r(mi(e,"internal-error"));return}let d=l.render;l.render=(f,p)=>{let v=d(f,p);return this.counter++,v},this.hostLanguage=n,i(l)};let a=`${dee()}?${Fl({onload:vD,render:"explicit",hl:n})}`;XD(a).catch(()=>{clearTimeout(o),r(mi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Wn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function mte(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var jD=class{load(e){return I(this,null,function*(){return new FD(e)})}clearedOneInstance(){}};var SB="recaptcha",gte={theme:"light",type:"image"},wh=class{constructor(e,n,i=Object.assign({},gte)){this.parameters=i,this.type=SB,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rn(e),this.isInvisible=this.parameters.size==="invisible",J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;J(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jD:new VD,this.validateStartingState()}verify(){return I(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let o=a=>{a&&(this.tokenChangeListeners.delete(o),r(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=Wn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return I(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return I(this,null,function*(){J(qD()&&!ex(),this.auth,"internal-error"),yield vte(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield qZ(this.auth);J(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function vte(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var km=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=zl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function cg(t,e,n){return I(this,null,function*(){let i=rn(t),r=yield Qw(i,e,Je(n));return new km(r,o=>_c(i,o))})}function lg(t,e,n){return I(this,null,function*(){let i=Je(t);yield zw(!1,i,"phone");let r=yield Qw(i.auth,e,Je(n));return new km(r,o=>Sh(i,o))})}function ug(t,e,n){return I(this,null,function*(){let i=Je(t),r=yield Qw(i.auth,e,Je(n));return new km(r,o=>Th(i,o))})}function Qw(t,e,n){return I(this,null,function*(){var i;let r=yield n.verify();try{J(typeof r=="string",t,"argument-error"),J(n.type===SB,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let a=o.session;if("phoneNumber"in o)return J(a.type==="enroll",t,"internal-error"),(yield Hee(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{J(a.type==="signin",t,"internal-error");let l=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return J(l,t,"missing-multi-factor-info"),(yield lte(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:a}=yield Mee(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return a}}finally{n._reset()}})}function dg(t,e){return I(this,null,function*(){yield JD(Je(t),e)})}var wc=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=rn(n)}verifyPhoneNumber(n,i){return Qw(this.auth,n,Je(i))}static credential(n,i){return zl._fromVerification(n,i)}static credentialFromResult(n){let i=n;return t.credentialFromTaggedObject(i)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:i,temporaryProof:r}=n;return i&&r?zl._fromTokenResponse(i,r):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Zl(t,e){return e?Fi(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Rm=class extends xo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function yte(t){return bB(t.auth,new Rm(t),t.bypassAuthState)}function _te(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),wB(n,new Rm(t),t.bypassAuthState)}function wte(t){return I(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),JD(n,new Rm(t),t.bypassAuthState)})}var Lw=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(d))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yte;case"linkViaPopup":case"linkViaRedirect":return wte;case"reauthViaPopup":case"reauthViaRedirect":return _te;default:Fn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bte=new Gl(2e3,1e4);function hg(t,e,n){return I(this,null,function*(){let i=rn(t);bh(t,e,Ao);let r=Zl(i,n);return new tx(i,"signInViaPopup",e,r).executeNotNull()})}function fg(t,e,n){return I(this,null,function*(){let i=Je(t);bh(i.auth,e,Ao);let r=Zl(i.auth,n);return new tx(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})}function pg(t,e,n){return I(this,null,function*(){let i=Je(t);bh(i.auth,e,Ao);let r=Zl(i.auth,n);return new tx(i.auth,"linkViaPopup",e,r,i).executeNotNull()})}var tx=(()=>{class t extends Lw{constructor(n,i,r,o,a){super(n,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let n=yield this.execute();return J(n,this.auth,"internal-error"),n})}onExecution(){return I(this,null,function*(){Gr(this.filter.length===1,"Popup operations only handle one event");let n=Jl();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,bte.get())};n()}}t.currentPopupAction=null;return t})(),Cte="pendingRedirect",xm=new Map,UD=class t extends Lw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return I(this,null,function*(){let e=xm.get(this.auth._key());if(!e){try{let i=(yield Ete(this.resolver,this.auth))?yield Ga(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Ga(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ga(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function Ete(t,e){return I(this,null,function*(){let n=xB(e),i=DB(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function nx(t,e){return I(this,null,function*(){return DB(t)._set(xB(e),"true")})}function TB(){xm.clear()}function xh(t,e){xm.set(t._key(),e)}function DB(t){return Fi(t._redirectPersistence)}function xB(t){return fs(Cte,t.config.apiKey,t.name)}function mg(t,e,n){return Ite(t,e,n)}function Ite(t,e,n){return I(this,null,function*(){let i=rn(t);bh(t,e,Ao),yield i._initializationPromise;let r=Zl(i,n);return yield nx(r,i),r._openRedirect(i,e,"signInViaRedirect")})}function gg(t,e,n){return Ste(t,e,n)}function Ste(t,e,n){return I(this,null,function*(){let i=Je(t);bh(i.auth,e,Ao),yield i.auth._initializationPromise;let r=Zl(i.auth,n);yield nx(r,i.auth);let o=yield AB(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",o)})}function vg(t,e,n){return Tte(t,e,n)}function Tte(t,e,n){return I(this,null,function*(){let i=Je(t);bh(i.auth,e,Ao),yield i.auth._initializationPromise;let r=Zl(i.auth,n);yield zw(!1,i,e.providerId),yield nx(r,i.auth);let o=yield AB(i);return r._openRedirect(i.auth,e,"linkViaRedirect",o)})}function yg(t,e){return I(this,null,function*(){return yield rn(t)._initializationPromise,eu(t,e,!1)})}function eu(t,e,n=!1){return I(this,null,function*(){let i=rn(t),r=Zl(i,e),a=yield new UD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}function AB(t){return I(this,null,function*(){let e=Jl(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var Dte=10*60*1e3,Nm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!MB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dte&&this.cachedEventUids.clear(),this.cachedEventUids.has(XU(e))}saveEventToCache(e){this.cachedEventUids.add(XU(e)),this.lastProcessedEventTime=Date.now()}};function XU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MB(t);default:return!1}}function ix(n){return I(this,arguments,function*(t,e={}){return Cn(t,"GET","/v1/projects",e)})}var Ate=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mte=/^https?/;function Pte(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield ix(t);for(let n of e)try{if(Ote(n))return}catch{}Fn(t,"unauthorized-domain")})}function Ote(t){let e=Am(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Mte.test(n))return!1;if(Ate.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var kte=new Gl(3e4,6e4);function JU(){let t=Wn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rte(t){return new Promise((e,n)=>{var i,r,o;function a(){JU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JU(),n(mi(t,"network-request-failed"))},timeout:kte.get()})}if(!((r=(i=Wn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Wn().gapi)===null||o===void 0)&&o.load)a();else{let l=pB("iframefcb");return Wn()[l]=()=>{gapi.load?a():n(mi(t,"network-request-failed"))},XD(`${fee()}?onload=${l}`).catch(d=>n(d))}}).catch(e=>{throw Sw=null,e})}var Sw=null;function Nte(t){return Sw=Sw||Rte(t),Sw}var Fte=new Gl(5e3,15e3),Lte="__/auth/iframe",Vte="emulator/auth/iframe",jte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ute=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bte(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?KD(e,Vte):`https://${t.config.authDomain}/${Lte}`,i={apiKey:e.apiKey,appName:t.name,v:To},r=Ute.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Fl(i).slice(1)}`}function $te(t){return I(this,null,function*(){let e=yield Nte(t),n=Wn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:Bte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jte,dontclear:!0},i=>new Promise((r,o)=>I(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=mi(t,"network-request-failed"),l=Wn().setTimeout(()=>{o(a)},Fte.get());function d(){Wn().clearTimeout(l),r(i)}i.ping(d).then(d,()=>{o(a)})})))})}var Hte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gte=500,zte=600,Wte="_blank",qte="http://localhost",Fm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Kte(t,e,n,i=Gte,r=zte){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",d=Object.assign(Object.assign({},Hte),{width:i.toString(),height:r.toString(),top:o,left:a}),f=qt().toLowerCase();n&&(l=cB(f)?Wte:n),aB(f)&&(e=e||qte,d.scrollbars="yes");let p=Object.entries(d).reduce((w,[E,C])=>`${w}${E}=${C},`,"");if(oee(f)&&l!=="_self")return Yte(e||"",l),new Fm(null);let v=window.open(e||"",l,p);J(v,t,"popup-blocked");try{v.focus()}catch{}return new Fm(v)}function Yte(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var Qte="__/auth/handler",Xte="emulator/auth/handler",Jte=encodeURIComponent("fac");function Vw(t,e,n,i,r,o){return I(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:To,eventId:r};if(e instanceof Ao){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",bU(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,v]of Object.entries(o||{}))a[p]=v}if(e instanceof vc){let p=e.getScopes().filter(v=>v!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);let l=a;for(let p of Object.keys(l))l[p]===void 0&&delete l[p];let d=yield t._getAppCheckToken(),f=d?`#${Jte}=${encodeURIComponent(d)}`:"";return`${Zte(t)}?${Fl(l).slice(1)}${f}`})}function Zte({config:t}){return t.emulator?KD(t,Xte):`https://${t.authDomain}/${Qte}`}var yD="webStorageSupport",BD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wr,this._completeRedirectFn=eu,this._overrideRedirectResult=xh}_openPopup(e,n,i,r){return I(this,null,function*(){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield Vw(e,n,i,Am(),r);return Kte(e,a,Jl())})}_openRedirect(e,n,i,r){return I(this,null,function*(){yield this._originValidation(e);let o=yield Vw(e,n,i,Am(),r);return Zee(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Gr(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return I(this,null,function*(){let n=yield $te(e),i=new Nm(e);return n.register("authEvent",r=>(J(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yD,{type:yD},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[yD];a!==void 0&&n(!!a),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fB()||YD()||Ql()}},_g=BD,$D=class{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return hs("unexpected MultiFactorSessionType")}}},HD=class t extends $D{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,i){return Gee(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ute(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Xw=(()=>{class t{constructor(){}static assertion(n){return HD._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var ZU="@firebase/auth",eB="1.6.1";var GD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ene(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tne(t){So(new Ni("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QD(t)},f=new Mw(i,r,o,d);return gee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),So(new Ni("auth-internal",e=>{let n=rn(e.getProvider("auth").getImmediate());return(i=>new GD(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(ZU,eB,ene(t)),un(ZU,eB,"esm2017")}var nne=5*60,ine=QT("authIdTokenMaxAge")||nne,tB=null,rne=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ine)return;let r=n?.token;tB!==r&&(tB=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Jw(t=Ul()){let e=jl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hw(t,{popupRedirectResolver:_g,persistence:[pa,ps,Wr]}),i=QT("authTokenSyncURL");if(i){let o=rne(i);Kw(n,o,()=>o(n.currentUser)),qw(n,a=>o(a))}let r=KT("auth");return r&&Eh(n,`http://${r}`),n}function one(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uee({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=mi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",one().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tne("Browser");var $B="auth",tu=class{constructor(e){return e}},wg=class{constructor(){return Sm($B)}};var rx=new we("angularfire2.auth-instances");function hne(t,e){let n=bw($B,t,e);return n&&new tu(n)}function fne(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new tu(i)}}var pne={provide:wg,deps:[[new Ji,rx]]},mne={provide:tu,useFactory:hne,deps:[[new Ji,rx],ca]},gne=(()=>{class t{constructor(){un("angularfire",$l.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Xi({providers:[mne,pne]})}return t})();function HB(t,...e){return{ngModule:gne,providers:[{provide:rx,useFactory:fne(t),multi:!0,deps:[Et,ln,mh,Hl,[new Ji,ph],...e]}]}}var GB=Do(Jw,!0);var yne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oo={},de,Tx=Tx||{},He=yne||self;function hb(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rg(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _ne(t){return Object.prototype.hasOwnProperty.call(t,ox)&&t[ox]||(t[ox]=++wne)}var ox="closure_uid_"+(1e9*Math.random()>>>0),wne=0;function bne(t,e,n){return t.call.apply(t.bind,arguments)}function Cne(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Li(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Li=bne:Li=Cne,Li.apply(null,arguments)}function Zw(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function vi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[r].apply(i,a)}}function bc(){this.s=this.s,this.o=this.o}var Ene=0;bc.prototype.s=!1;bc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ene!=0)&&_ne(this)};bc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var i6=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dx(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function zB(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(hb(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let a=0;a<o;a++)t[r+a]=i[a]}else t.push(i)}}function Vi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vi.prototype.h=function(){this.defaultPrevented=!0};var Ine=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};He.addEventListener("test",n,e),He.removeEventListener("test",n,e)}catch{}return t}();function Tg(t){return/^[\s\xa0]*$/.test(t)}function fb(){var t=He.navigator;return t&&(t=t.userAgent)?t:""}function ms(t){return fb().indexOf(t)!=-1}function xx(t){return xx[" "](t),t}xx[" "]=function(){};function Sne(t,e){var n=fie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Tne=ms("Opera"),Oh=ms("Trident")||ms("MSIE"),r6=ms("Edge"),ux=r6||Oh,o6=ms("Gecko")&&!(fb().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge"))&&!(ms("Trident")||ms("MSIE"))&&!ms("Edge"),Dne=fb().toLowerCase().indexOf("webkit")!=-1&&!ms("Edge");function s6(){var t=He.document;return t?t.documentMode:void 0}var dx;e:{if(eb="",tb=function(){var t=fb();if(o6)return/rv:([^\);]+)(\)|;)/.exec(t);if(r6)return/Edge\/([\d\.]+)/.exec(t);if(Oh)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Dne)return/WebKit\/(\S+)/.exec(t);if(Tne)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),tb&&(eb=tb?tb[1]:""),Oh&&(nb=s6(),nb!=null&&nb>parseFloat(eb))){dx=String(nb);break e}dx=eb}var eb,tb,nb,hx;He.document&&Oh?(sx=s6(),hx=sx||parseInt(dx,10)||void 0):hx=void 0;var sx,xne=hx;function Dg(t,e){if(Vi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(o6){e:{try{xx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ane[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dg.$.h.call(this)}}vi(Dg,Vi);var Ane={2:"touch",3:"pen",4:"mouse"};Dg.prototype.h=function(){Dg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ng="closure_listenable_"+(1e6*Math.random()|0),Mne=0;function Pne(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++Mne,this.fa=this.ia=!1}function pb(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ax(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function One(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function a6(t){let e={};for(let n in t)e[n]=t[n];return e}var WB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c6(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<WB.length;o++)n=WB[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function mb(t){this.src=t,this.g={},this.h=0}mb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=px(t,e,i,r);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new Pne(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function fx(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=i6(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(pb(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function px(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Mx="closure_lm_"+(1e6*Math.random()|0),ax={};function l6(t,e,n,i,r){if(i&&i.once)return d6(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)l6(t,e[o],n,i,r);return null}return n=kx(n),t&&t[Ng]?t.O(e,n,Rg(i)?!!i.capture:!!i,r):u6(t,e,n,!1,i,r)}function u6(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=Rg(r)?!!r.capture:!!r,l=Ox(t);if(l||(t[Mx]=l=new mb(t)),n=l.add(e,n,i,a,o),n.proxy)return n;if(i=kne(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ine||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(f6(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kne(){function t(n){return e.call(t.src,t.listener,n)}let e=Rne;return t}function d6(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)d6(t,e[o],n,i,r);return null}return n=kx(n),t&&t[Ng]?t.P(e,n,Rg(i)?!!i.capture:!!i,r):u6(t,e,n,!0,i,r)}function h6(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)h6(t,e[o],n,i,r);else i=Rg(i)?!!i.capture:!!i,n=kx(n),t&&t[Ng]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=px(o,n,i,r),-1<n&&(pb(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ox(t))&&(e=t.g[e.toString()],t=-1,e&&(t=px(e,n,i,r)),(n=-1<t?e[t]:null)&&Px(n))}function Px(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ng])fx(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(f6(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Ox(e))?(fx(n,t),n.h==0&&(n.src=null,e[Mx]=null)):pb(t)}}}function f6(t){return t in ax?ax[t]:ax[t]="on"+t}function Rne(t,e){if(t.fa)t=!0;else{e=new Dg(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Px(t),t=n.call(i,e)}return t}function Ox(t){return t=t[Mx],t instanceof mb?t:null}var cx="__closure_events_fn_"+(1e9*Math.random()>>>0);function kx(t){return typeof t=="function"?t:(t[cx]||(t[cx]=function(e){return t.handleEvent(e)}),t[cx])}function gi(){bc.call(this),this.i=new mb(this),this.S=this,this.J=null}vi(gi,bc);gi.prototype[Ng]=!0;gi.prototype.removeEventListener=function(t,e,n,i){h6(this,t,e,n,i)};function Ti(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Vi(e,t);else if(e instanceof Vi)e.target=e.target||t;else{var r=e;e=new Vi(i,t),c6(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];r=ib(a,i,!0,e)&&r}if(a=e.g=t,r=ib(a,i,!0,e)&&r,r=ib(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)a=e.g=n[o],r=ib(a,i,!1,e)&&r}gi.prototype.N=function(){if(gi.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)pb(n[i]);delete t.g[e],t.h--}}this.J=null};gi.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};gi.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ib(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,d=a.la||a.src;a.ia&&fx(t.i,a),r=l.call(d,i)!==!1&&r}}return r&&!i.defaultPrevented}var Rx=He.JSON.stringify,mx=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Nne(){var t=Nx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var gx=class{constructor(){this.h=this.g=null}add(e,n){let i=p6.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},p6=new mx(()=>new vx,t=>t.reset()),vx=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function Fne(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Lne(t){He.setTimeout(()=>{throw t},0)}var xg,Ag=!1,Nx=new gx,m6=()=>{let t=He.Promise.resolve(void 0);xg=()=>{t.then(Vne)}},Vne=()=>{for(var t;t=Nne();){try{t.h.call(t.g)}catch(n){Lne(n)}var e=p6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ag=!1};function gb(t,e){gi.call(this),this.h=t||1,this.g=e||He,this.j=Li(this.qb,this),this.l=Date.now()}vi(gb,gi);de=gb.prototype;de.ga=!1;de.T=null;de.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ti(this,"tick"),this.ga&&(Fx(this),this.start()))}};de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}de.N=function(){gb.$.N.call(this),Fx(this),delete this.g};function Lx(t,e,n){if(typeof t=="function")n&&(t=Li(t,n));else if(t&&typeof t.handleEvent=="function")t=Li(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:He.setTimeout(t,e||0)}function g6(t){t.g=Lx(()=>{t.g=null,t.i&&(t.i=!1,g6(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var yx=class extends bc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g6(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Mg(t){bc.call(this),this.h=t,this.g={}}vi(Mg,bc);var qB=[];function v6(t,e,n,i){Array.isArray(n)||(n&&(qB[0]=n.toString()),n=qB);for(var r=0;r<n.length;r++){var o=l6(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function y6(t){Ax(t.g,function(e,n){this.g.hasOwnProperty(n)&&Px(e)},t),t.g={}}Mg.prototype.N=function(){Mg.$.N.call(this),y6(this)};Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vb(){this.g=!0}vb.prototype.Ea=function(){this.g=!1};function jne(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+f+"&"):a+(p+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+a})}function Une(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+a})}function Mh(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$ne(t,n)+(i?" "+i:"")})}function Bne(t,e){t.info(function(){return"TIMEOUT: "+e})}vb.prototype.info=function(){};function $ne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return Rx(n)}catch{return e}}var ou={},KB=null;function yb(){return KB=KB||new gi}ou.Ta="serverreachability";function _6(t){Vi.call(this,ou.Ta,t)}vi(_6,Vi);function Pg(t){let e=yb();Ti(e,new _6(e))}ou.STAT_EVENT="statevent";function w6(t,e){Vi.call(this,ou.STAT_EVENT,t),this.stat=e}vi(w6,Vi);function tr(t){let e=yb();Ti(e,new w6(e,t))}ou.Ua="timingevent";function b6(t,e){Vi.call(this,ou.Ua,t),this.size=e}vi(b6,Vi);function Fg(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){t()},e)}var _b={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},C6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vx(){}Vx.prototype.h=null;function YB(t){return t.h||(t.h=t.i())}function E6(){}var Lg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jx(){Vi.call(this,"d")}vi(jx,Vi);function Ux(){Vi.call(this,"c")}vi(Ux,Vi);var _x;function wb(){}vi(wb,Vx);wb.prototype.g=function(){return new XMLHttpRequest};wb.prototype.i=function(){return{}};_x=new wb;function Vg(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Mg(this),this.P=Hne,t=ux?125:void 0,this.V=new gb(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new I6}function I6(){this.i=null,this.g="",this.h=!1}var Hne=45e3,S6={},wx={};de=Vg.prototype;de.setTimeout=function(t){this.P=t};function bx(t,e,n){t.L=1,t.A=Cb(ga(e)),t.u=n,t.S=!0,T6(t,null)}function T6(t,e){t.G=Date.now(),jg(t),t.B=ga(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),R6(n.i,"t",i),t.o=0,n=t.l.J,t.h=new I6,t.g=t4(t.l,n?e:null,!t.u),0<t.O&&(t.M=new yx(Li(t.Pa,t,t.g),t.O)),v6(t.U,t.g,"readystatechange",t.nb),e=t.I?a6(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pg(),jne(t.j,t.v,t.B,t.m,t.W,t.u)}de.nb=function(t){t=t.target;let e=this.M;e&&gs(t)==3?e.l():this.Pa(t)};de.Pa=function(t){try{if(t==this.g)e:{let p=gs(this.g);var e=this.g.Ia();let v=this.g.da();if(!(3>p)&&(p!=3||ux||this.g&&(this.h.h||this.g.ja()||ZB(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Pg(3):Pg(2)),bb(this);var n=this.g.da();this.ca=n;t:if(D6(this)){var i=ZB(this.g);t="";var r=i.length,o=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),Sg(this);var a="";break t}this.h.i=new He.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,Une(this.j,this.v,this.B,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tg(l)){var f=l;break t}}f=null}if(n=f)Mh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cx(this,n);else{this.i=!1,this.s=3,tr(12),nu(this),Sg(this);break e}}this.S?(x6(this,p,a),ux&&this.i&&p==3&&(v6(this.U,this.V,"tick",this.mb),this.V.start())):(Mh(this.j,this.m,a,null),Cx(this,a)),p==4&&nu(this),this.i&&!this.J&&(p==4?X6(this.l,this):(this.i=!1,jg(this)))}else uie(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,tr(12)):(this.s=0,tr(13)),nu(this),Sg(this)}}}catch{}finally{}};function D6(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function x6(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=Gne(t,n),r==wx){e==4&&(t.s=4,tr(14),i=!1),Mh(t.j,t.m,null,"[Incomplete Response]");break}else if(r==S6){t.s=4,tr(15),Mh(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Mh(t.j,t.m,r,null),Cx(t,r);D6(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tr(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wx(e),e.M=!0,tr(11))):(Mh(t.j,t.m,n,"[Invalid Chunked Response]"),nu(t),Sg(t))}de.mb=function(){if(this.g){var t=gs(this.g),e=this.g.ja();this.o<e.length&&(bb(this),x6(this,t,e),this.i&&t!=4&&jg(this))}};function Gne(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?wx:(n=Number(e.substring(n,i)),isNaN(n)?S6:(i+=1,i+n>e.length?wx:(e=e.slice(i,i+n),t.o=i+n,e)))}de.cancel=function(){this.J=!0,nu(this)};function jg(t){t.Y=Date.now()+t.P,A6(t,t.P)}function A6(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fg(Li(t.lb,t),e)}function bb(t){t.C&&(He.clearTimeout(t.C),t.C=null)}de.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(Bne(this.j,this.B),this.L!=2&&(Pg(),tr(17)),nu(this),this.s=2,Sg(this)):A6(this,this.Y-t)};function Sg(t){t.l.H==0||t.J||X6(t.l,t)}function nu(t){bb(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fx(t.V),y6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cx(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ex(n.i,t))){if(!t.K&&Ex(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cb(n),Sb(n);else break e;zx(n),tr(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fg(Li(n.ib,n),6e3));if(1>=L6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else iu(n,11)}else if((t.K||n.g==t)&&cb(n),!Tg(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let f=r[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];let p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));let v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));let w=f[5];w!=null&&typeof w=="number"&&0<w&&(i=1.5*w,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let E=t.g;if(E){let C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var o=i.i;o.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Bx(o,o.h),o.h=null))}if(i.F){let S=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(i.Da=S,on(i.I,i.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=e4(i,i.J?i.pa:null,i.Y),a.K){V6(i.i,a);var l=a,d=i.L;d&&l.setTimeout(d),l.C&&(bb(l),jg(l)),i.g=a}else Y6(i);0<n.j.length&&Tb(n)}else f[0]!="stop"&&f[0]!="close"||iu(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?iu(n,7):Gx(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Pg(4)}catch{}}function zne(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hb(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Wne(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hb(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function M6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hb(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Wne(t),i=zne(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var P6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ru(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ru){this.h=t.h,sb(this,t.j),this.s=t.s,this.g=t.g,ab(this,t.m),this.l=t.l;var e=t.i,n=new Og;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QB(this,n),this.o=t.o}else t&&(e=String(t).match(P6))?(this.h=!1,sb(this,e[1]||"",!0),this.s=Eg(e[2]||""),this.g=Eg(e[3]||"",!0),ab(this,e[4]),this.l=Eg(e[5]||"",!0),QB(this,e[6]||"",!0),this.o=Eg(e[7]||"")):(this.h=!1,this.i=new Og(null,this.h))}ru.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ig(e,XB,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ig(e,XB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ig(n,n.charAt(0)=="/"?Qne:Yne,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ig(n,Jne)),t.join("")};function ga(t){return new ru(t)}function sb(t,e,n){t.j=n?Eg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ab(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QB(t,e,n){e instanceof Og?(t.i=e,Zne(t.i,t.h)):(n||(e=Ig(e,Xne)),t.i=new Og(e,t.h))}function on(t,e,n){t.i.set(e,n)}function Cb(t){return on(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Eg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ig(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Kne),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kne(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var XB=/[#\/\?@]/g,Yne=/[#\?:]/g,Qne=/[#\?]/g,Xne=/[#\?@]/g,Jne=/#/g;function Og(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cc(t){t.g||(t.g=new Map,t.h=0,t.i&&qne(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}de=Og.prototype;de.add=function(t,e){Cc(this),this.i=null,t=kh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function O6(t,e){Cc(t),e=kh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function k6(t,e){return Cc(t),e=kh(t,e),t.g.has(e)}de.forEach=function(t,e){Cc(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};de.ta=function(){Cc(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};de.Z=function(t){Cc(this);let e=[];if(typeof t=="string")k6(this,t)&&(e=e.concat(this.g.get(kh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};de.set=function(t,e){return Cc(this),this.i=null,t=kh(this,t),k6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};de.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function R6(t,e,n){O6(t,e),0<n.length&&(t.i=null,t.g.set(kh(t,e),Dx(n)),t.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=o;a[i]!==""&&(r+="="+encodeURIComponent(String(a[i]))),t.push(r)}}return this.i=t.join("&")};function kh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Zne(t,e){e&&!t.j&&(Cc(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(O6(this,i),R6(this,r,n))},t)),t.j=e}var eie=class{constructor(t,e){this.g=t,this.map=e}};function N6(t){this.l=t||tie,He.PerformanceNavigationTiming?(t=He.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tie=10;function F6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function L6(t){return t.h?1:t.g?t.g.size:0}function Ex(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Bx(t,e){t.g?t.g.add(e):t.h=e}function V6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}N6.prototype.cancel=function(){if(this.i=j6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function j6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Dx(t.i)}var nie=class{stringify(t){return He.JSON.stringify(t,void 0)}parse(t){return He.JSON.parse(t,void 0)}};function iie(){this.g=new nie}function rie(t,e,n){let i=n||"";try{M6(t,function(r,o){let a=r;Rg(r)&&(a=Rx(r)),e.push(i+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function oie(t,e){let n=new vb;if(He.Image){let i=new Image;i.onload=Zw(rb,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Zw(rb,n,i,"TestLoadImage: error",!1,e),i.onabort=Zw(rb,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zw(rb,n,i,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function rb(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Ug(t){this.l=t.ec||null,this.j=t.ob||!1}vi(Ug,Vx);Ug.prototype.g=function(){return new Eb(this.l,this.j)};Ug.prototype.i=function(t){return function(){return t}}({});function Eb(t,e){gi.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=$x,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi(Eb,gi);var $x=0;de=Eb.prototype;de.open=function(t,e){if(this.readyState!=$x)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kg(this)};de.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bg(this)),this.readyState=$x};de.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kg(this)),this.g&&(this.readyState=3,kg(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function U6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}de.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bg(this):kg(this),this.readyState==3&&U6(this)}};de.Za=function(t){this.g&&(this.response=this.responseText=t,Bg(this))};de.Ya=function(t){this.g&&(this.response=t,Bg(this))};de.ka=function(){this.g&&Bg(this)};function Bg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kg(t)}de.setRequestHeader=function(t,e){this.v.append(t,e)};de.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sie=He.JSON.parse;function En(t){gi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=B6,this.L=this.M=!1}vi(En,gi);var B6="",aie=/^https?$/i,cie=["POST","PUT"];de=En.prototype;de.Oa=function(t){this.M=t};de.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_x.g(),this.C=this.u?YB(this.u):YB(_x),this.g.onreadystatechange=Li(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){JB(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=He.FormData&&t instanceof He.FormData,!(0<=i6(cie,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{G6(this),0<this.B&&((this.L=lie(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Li(this.ua,this)):this.A=Lx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){JB(this,o)}};function lie(t){return Oh&&typeof t.timeout=="number"&&t.ontimeout!==void 0}de.ua=function(){typeof Tx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))};function JB(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$6(t),Ib(t)}function $6(t){t.F||(t.F=!0,Ti(t,"complete"),Ti(t,"error"))}de.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ti(this,"complete"),Ti(this,"abort"),Ib(this))};de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ib(this,!0)),En.$.N.call(this)};de.La=function(){this.s||(this.G||this.v||this.l?H6(this):this.kb())};de.kb=function(){H6(this)};function H6(t){if(t.h&&typeof Tx<"u"&&(!t.C[1]||gs(t)!=4||t.da()!=2)){if(t.v&&gs(t)==4)Lx(t.La,0,t);else if(Ti(t,"readystatechange"),gs(t)==4){t.h=!1;try{let a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var r=String(t.I).match(P6)[1]||null;!r&&He.self&&He.self.location&&(r=He.self.location.protocol.slice(0,-1)),i=!aie.test(r?r.toLowerCase():"")}n=i}if(n)Ti(t,"complete"),Ti(t,"success");else{t.m=6;try{var o=2<gs(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",$6(t)}}finally{Ib(t)}}}}function Ib(t,e){if(t.g){G6(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ti(t,"ready");try{n.onreadystatechange=i}catch{}}}function G6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(He.clearTimeout(t.A),t.A=null)}de.isActive=function(){return!!this.g};function gs(t){return t.g?t.g.readyState:0}de.da=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}};de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sie(e)}};function ZB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case B6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uie(t){let e={};t=(t.g&&2<=gs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Tg(t[i]))continue;var n=Fne(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}One(e,function(i){return i.join(", ")})}de.Ia=function(){return this.m};de.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function z6(t){let e="";return Ax(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Hx(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=z6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):on(t,e,n))}function bg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function W6(t){this.Ga=0,this.j=[],this.l=new vb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bg("baseRetryDelayMs",5e3,t),this.hb=bg("retryDelaySeedMs",1e4,t),this.eb=bg("forwardChannelMaxRetries",2,t),this.xa=bg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new N6(t&&t.concurrentRequestLimit),this.Ja=new iie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}de=W6.prototype;de.ra=8;de.H=1;function Gx(t){if(q6(t),t.H==3){var e=t.W++,n=ga(t.I);if(on(n,"SID",t.K),on(n,"RID",e),on(n,"TYPE","terminate"),$g(t,n),e=new Vg(t,t.l,e),e.L=2,e.A=Cb(ga(n)),n=!1,He.navigator&&He.navigator.sendBeacon)try{n=He.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&He.Image&&(new Image().src=e.A,n=!0),n||(e.g=t4(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jg(e)}Z6(t)}function Sb(t){t.g&&(Wx(t),t.g.cancel(),t.g=null)}function q6(t){Sb(t),t.u&&(He.clearTimeout(t.u),t.u=null),cb(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&He.clearTimeout(t.m),t.m=null)}function Tb(t){if(!F6(t.i)&&!t.m){t.m=!0;var e=t.Na;xg||m6(),Ag||(xg(),Ag=!0),Nx.add(e,t),t.C=0}}function die(t,e){return L6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fg(Li(t.Na,t,e),J6(t,t.C)),t.C++,!0)}de.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Vg(this,this.l,t),o=this.s;if(this.U&&(o?(o=a6(o),c6(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=K6(this,r,e),n=ga(this.I),on(n,"RID",t),on(n,"CVER",22),this.F&&on(n,"X-HTTP-Session-Id",this.F),$g(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(z6(o)))+"&"+e:this.o&&Hx(n,this.o,o)),Bx(this.i,r),this.bb&&on(n,"TYPE","init"),this.P?(on(n,"$req",e),on(n,"SID","null"),r.aa=!0,bx(r,n,null)):bx(r,n,e),this.H=2}}else this.H==3&&(t?e6(this,t):this.j.length==0||F6(this.i)||e6(this))};function e6(t,e){var n;e?n=e.m:n=t.W++;let i=ga(t.I);on(i,"SID",t.K),on(i,"RID",n),on(i,"AID",t.V),$g(t,i),t.o&&t.s&&Hx(i,t.o,t.s),n=new Vg(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=K6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Bx(t.i,n),bx(n,i,e)}function $g(t,e){t.na&&Ax(t.na,function(n,i){on(e,i,n)}),t.h&&M6({},function(n,i){on(e,i,n)})}function K6(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Li(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let a=["count="+n];o==-1?0<n?(o=r[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let d=0;d<n;d++){let f=r[d].g,p=r[d].map;if(f-=o,0>f)o=Math.max(0,r[d].g-100),l=!1;else try{rie(p,a,"req"+f+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function Y6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xg||m6(),Ag||(xg(),Ag=!0),Nx.add(e,t),t.A=0}}function zx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fg(Li(t.Ma,t),J6(t,t.A)),t.A++,!0)}de.Ma=function(){if(this.u=null,Q6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fg(Li(this.jb,this),t)}};de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),Sb(this),Q6(this))};function Wx(t){t.B!=null&&(He.clearTimeout(t.B),t.B=null)}function Q6(t){t.g=new Vg(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ga(t.wa);on(e,"RID","rpc"),on(e,"SID",t.K),on(e,"AID",t.V),on(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&on(e,"TO",t.qa),on(e,"TYPE","xmlhttp"),$g(t,e),t.o&&t.s&&Hx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Cb(ga(e)),n.u=null,n.S=!0,T6(n,t)}de.ib=function(){this.v!=null&&(this.v=null,Sb(this),zx(this),tr(19))};function cb(t){t.v!=null&&(He.clearTimeout(t.v),t.v=null)}function X6(t,e){var n=null;if(t.g==e){cb(t),Wx(t),t.g=null;var i=2}else if(Ex(t.i,e))n=e.F,V6(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=yb(),Ti(i,new b6(i,n)),Tb(t)}else Y6(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&die(t,e)||i==2&&zx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:iu(t,5);break;case 4:iu(t,10);break;case 3:iu(t,6);break;default:iu(t,2)}}}function J6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function iu(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Li(t.pb,t);n||(n=new ru("//www.google.com/images/cleardot.gif"),He.location&&He.location.protocol=="http"||sb(n,"https"),Cb(n)),oie(n.toString(),i)}else tr(2);t.H=0,t.h&&t.h.za(e),Z6(t),q6(t)}de.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))};function Z6(t){if(t.H=0,t.ma=[],t.h){let e=j6(t.i);(e.length!=0||t.j.length!=0)&&(zB(t.ma,e),zB(t.ma,t.j),t.i.i.length=0,Dx(t.j),t.j.length=0),t.h.ya()}}function e4(t,e,n){var i=n instanceof ru?ga(n):new ru(n);if(i.g!="")e&&(i.g=e+"."+i.g),ab(i,i.m);else{var r=He.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ru(null);i&&sb(o,i),e&&(o.g=e),r&&ab(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&on(i,n,e),on(i,"VER",t.ra),$g(t,i),i}function t4(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new En(new Ug({ob:n})):new En(t.va),e.Oa(t.J),e}de.isActive=function(){return!!this.h&&this.h.isActive(this)};function n4(){}de=n4.prototype;de.Ba=function(){};de.Aa=function(){};de.za=function(){};de.ya=function(){};de.isActive=function(){return!0};de.Va=function(){};function lb(){if(Oh&&!(10<=Number(xne)))throw Error("Environmental error: no available transport.")}lb.prototype.g=function(t,e){return new Tr(t,e)};function Tr(t,e){gi.call(this),this.g=new W6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tg(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rh(this)}vi(Tr,gi);Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=e4(t,null,t.Y),Tb(t)};Tr.prototype.close=function(){Gx(this.g)};Tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Rx(t),t=n);e.j.push(new eie(e.fb++,t)),e.H==3&&Tb(e)};Tr.prototype.N=function(){this.g.h=null,delete this.j,Gx(this.g),delete this.g,Tr.$.N.call(this)};function i4(t){jx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vi(i4,jx);function r4(){Ux.call(this),this.status=1}vi(r4,Ux);function Rh(t){this.g=t}vi(Rh,n4);Rh.prototype.Ba=function(){Ti(this.g,"a")};Rh.prototype.Aa=function(t){Ti(this.g,new i4(t))};Rh.prototype.za=function(t){Ti(this.g,new r4)};Rh.prototype.ya=function(){Ti(this.g,"b")};function hie(){this.blockSize=-1}function Po(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vi(Po,hie);Po.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lx(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],a=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(a<<17&4294967295|a>>>15),a=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(a<<22&4294967295|a>>>10),a=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(a<<20&4294967295|a>>>12),a=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(a<<16&4294967295|a>>>16),a=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(a<<23&4294967295|a>>>9),a=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(a<<21&4294967295|a>>>11),a=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(a<<15&4294967295|a>>>17),a=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Po.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)lx(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){lx(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){lx(this,i),r=0;break}}this.h=r,this.i+=e};Po.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Bt(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var fie={};function qx(t){return-128<=t&&128>t?Sne(t,function(e){return new Bt([e|0],0>e?-1:0)}):new Bt([t|0],0>t?-1:0)}function vs(t){if(isNaN(t)||!isFinite(t))return Ph;if(0>t)return Si(vs(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ix;return new Bt(e,0)}function o4(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Si(o4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vs(Math.pow(e,8)),i=Ph,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),a=parseInt(t.substring(r,r+o),e);8>o?(o=vs(Math.pow(e,o)),i=i.R(o).add(vs(a))):(i=i.R(n),i=i.add(vs(a)))}return i}var Ix=4294967296,Ph=qx(0),Sx=qx(1),t6=qx(16777216);de=Bt.prototype;de.ea=function(){if(qr(this))return-Si(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ix+i)*e,e*=Ix}return t};de.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ma(this))return"0";if(qr(this))return"-"+Si(this).toString(t);for(var e=vs(Math.pow(t,6)),n=this,i="";;){var r=db(n,e).g;n=ub(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,ma(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};de.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ma(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qr(t){return t.h==-1}de.X=function(t){return t=ub(this,t),qr(t)?-1:ma(t)?0:1};function Si(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Bt(n,~t.h).add(Sx)}de.abs=function(){return qr(this)?Si(this):this};de.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),a=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=a>>>16,o&=65535,a&=65535,n[r]=a<<16|o}return new Bt(n,n[n.length-1]&-2147483648?-1:0)};function ub(t,e){return t.add(Si(e))}de.R=function(t){if(ma(this)||ma(t))return Ph;if(qr(this))return qr(t)?Si(this).R(Si(t)):Si(Si(this).R(t));if(qr(t))return Si(this.R(Si(t)));if(0>this.X(t6)&&0>t.X(t6))return vs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,a=this.D(i)&65535,l=t.D(r)>>>16,d=t.D(r)&65535;n[2*i+2*r]+=a*d,ob(n,2*i+2*r),n[2*i+2*r+1]+=o*d,ob(n,2*i+2*r+1),n[2*i+2*r+1]+=a*l,ob(n,2*i+2*r+1),n[2*i+2*r+2]+=o*l,ob(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Bt(n,0)};function ob(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cg(t,e){this.g=t,this.h=e}function db(t,e){if(ma(e))throw Error("division by zero");if(ma(t))return new Cg(Ph,Ph);if(qr(t))return e=db(Si(t),e),new Cg(Si(e.g),Si(e.h));if(qr(e))return e=db(t,Si(e)),new Cg(Si(e.g),e.h);if(30<t.g.length){if(qr(t)||qr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sx,i=e;0>=i.X(t);)n=n6(n),i=n6(i);var r=Ah(n,1),o=Ah(i,1);for(i=Ah(i,2),n=Ah(n,2);!ma(i);){var a=o.add(i);0>=a.X(t)&&(r=r.add(n),o=a),i=Ah(i,1),n=Ah(n,1)}return e=ub(t,r.R(e)),new Cg(r,e)}for(r=Ph;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=vs(n),a=o.R(e);qr(a)||0<a.X(t);)n-=i,o=vs(n),a=o.R(e);ma(o)&&(o=Sx),r=r.add(o),t=ub(t,a)}return new Cg(r,t)}de.gb=function(t){return db(this,t).h};de.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Bt(n,this.h&t.h)};de.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Bt(n,this.h|t.h)};de.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Bt(n,this.h^t.h)};function n6(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Bt(n,t.h)}function Ah(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Bt(r,t.h)}lb.prototype.createWebChannel=lb.prototype.g;Tr.prototype.send=Tr.prototype.u;Tr.prototype.open=Tr.prototype.m;Tr.prototype.close=Tr.prototype.close;_b.NO_ERROR=0;_b.TIMEOUT=8;_b.HTTP_ERROR=6;C6.COMPLETE="complete";E6.EventType=Lg;Lg.OPEN="a";Lg.CLOSE="b";Lg.ERROR="c";Lg.MESSAGE="d";gi.prototype.listen=gi.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Po.prototype.digest=Po.prototype.l;Po.prototype.reset=Po.prototype.reset;Po.prototype.update=Po.prototype.j;Bt.prototype.add=Bt.prototype.add;Bt.prototype.multiply=Bt.prototype.R;Bt.prototype.modulo=Bt.prototype.gb;Bt.prototype.compare=Bt.prototype.X;Bt.prototype.toNumber=Bt.prototype.ea;Bt.prototype.toString=Bt.prototype.toString;Bt.prototype.getBits=Bt.prototype.D;Bt.fromNumber=vs;Bt.fromString=o4;var s4=Oo.createWebChannelTransport=function(){return new lb},a4=Oo.getStatEventTarget=function(){return yb()},Db=Oo.ErrorCode=_b,c4=Oo.EventType=C6,l4=Oo.Event=ou,Kx=Oo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xbe=Oo.FetchXmlHttpFactory=Ug,Hg=Oo.WebChannel=E6,u4=Oo.XhrIo=En,d4=Oo.Md5=Po,su=Oo.Integer=Bt;var h4="@firebase/firestore";var yi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");var rf="10.8.1";var du=new ls("@firebase/firestore");function Gg(){return du.logLevel}function he(t,...e){if(du.logLevel<=pt.DEBUG){let n=e.map(RM);du.debug(`Firestore (${rf}): ${t}`,...n)}}function Es(t,...e){if(du.logLevel<=pt.ERROR){let n=e.map(RM);du.error(`Firestore (${rf}): ${t}`,...n)}}function $h(t,...e){if(du.logLevel<=pt.WARN){let n=e.map(RM);du.warn(`Firestore (${rf}): ${t}`,...n)}}function RM(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function je(t="Unexpected state"){let e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+t;throw Es(e),new Error(e)}function Xt(t,e){t||je()}function Ye(t,e){return t}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ce=class extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ro=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ob=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yi.UNAUTHENTICATED))}shutdown(){}},eA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},tA=class{constructor(e){this.t=e,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ro,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let d=o;e.enqueueRetryable(()=>I(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},l=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>l(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?l(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ro)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string"),new Ob(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new yi(e)}},nA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},iA=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new nA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rA=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},oA=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xt(typeof n.token=="string"),this.R=n.token,new rA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function pie(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var kb=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=pie(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Rt(t,e){return t<e?-1:t>e?1:0}function Hh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Di=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ke=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Di(0,0))}static max(){return new t(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Rb=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&je(),i===void 0?i=e.length-n:i>e.length-n&&je(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),a=n.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Sn=class t extends Rb{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Ce(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},mie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dr=class t extends Rb{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return mie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new Ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},a=!1;for(;r<e.length;){let l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(o(),r++)}if(o(),a)throw new Ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Me=class t{constructor(e){this.path=e}static fromPath(e){return new t(Sn.fromString(e))}static fromName(e){return new t(Sn.fromString(e).popFirst(5))}static empty(){return new t(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Sn(e.slice()))}};var sA=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};sA.UNKNOWN_ID=-1;function gie(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ke.fromTimestamp(i===1e9?new Di(n+1,0):new Di(n,i));return new hu(r,Me.empty(),e)}function vie(t){return new hu(t.readTime,t.key,-1)}var hu=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Ke.min(),Me.empty(),-1)}static max(){return new t(Ke.max(),Me.empty(),-1)}};function yie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}var _ie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aA=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function av(t){return I(this,null,function*(){if(t.code!==q.FAILED_PRECONDITION||t.message!==_ie)throw t;he("LocalStore","Unexpectedly lost primary lease")})}var Q=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++o,a&&o===r&&n()},d=>i(d))}),a=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,a=new Array(o),l=0;for(let d=0;d<o;d++){let f=d;n(e[f]).next(p=>{a[f]=p,++l,l===o&&i(a)},p=>r(p))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var cA=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ro,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new uu(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=NM(i.target.error);this.V.reject(new uu(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new uu(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(he("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new uA(n)}},Nb=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(qt())===12.2&&Es("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return he("SimpleDb","Removing database:",e),au(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hc())return!1;if(t.C())return!0;let e=qt(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return I(this,null,function*(){return this.db||(he("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let a=o.target.result;n(a)},r.onblocked=()=>{i(new uu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let a=o.target.error;a.name==="VersionError"?i(new Ce(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new Ce(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new uu(e,a))},r.onupgradeneeded=o=>{he("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let a=o.target.result;this.p.N(a,r.transaction,o.oldVersion,this.version).next(()=>{he("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return I(this,null,function*(){let o=n==="readonly",a=0;for(;;){++a;try{this.db=yield this.O(e);let l=cA.open(this.db,e,o?"readonly":"readwrite",i),d=r(l).next(f=>(l.g(),f)).catch(f=>(l.abort(f),Q.reject(f))).toPromise();return d.catch(()=>{}),yield l.m,d}catch(l){let d=l,f=d.name!=="FirebaseError"&&a<3;if(he("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}})}close(){this.db&&this.db.close(),this.db=void 0}},lA=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return au(this.k.delete())}},uu=class extends Ce{constructor(e,n){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function cv(t){return t.name==="IndexedDbTransactionError"}var uA=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(he("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(he("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),au(i)}add(e){return he("SimpleDb","ADD",this.store.name,e,e),au(this.store.add(e))}get(e){return au(this.store.get(e)).next(n=>(n===void 0&&(n=null),he("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return he("SimpleDb","DELETE",this.store.name,e),au(this.store.delete(e))}count(){return he("SimpleDb","COUNT",this.store.name),au(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new Q((a,l)=>{o.onerror=d=>{l(d.target.error)},o.onsuccess=d=>{a(d.target.result)}})}{let o=this.cursor(i),a=[];return this.G(o,(l,d)=>{a.push(d)}).next(()=>a)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new Q((r,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}H(e,n){he("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,a,l)=>l.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new Q((i,r)=>{n.onerror=o=>{let a=NM(o.target.error);r(a)},n.onsuccess=o=>{let a=o.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}G(e,n){let i=[];return new Q((r,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{let l=a.target.result;if(!l)return void r();let d=new lA(l),f=n(l.primaryKey,l.value,d);if(f instanceof Q){let p=f.catch(v=>(d.done(),Q.reject(v)));i.push(p)}d.isDone?r():d.$===null?l.continue():l.continue(d.$)}}).next(()=>Q.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function au(t){return new Q((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=NM(i.target.error);n(r)}})}var f4=!1;function NM(t){let e=Nb.S(qt());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f4||(f4=!0,setTimeout(()=>{throw i},0)),i}}return t}var U4=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function aC(t){return t==null}function Qg(t){return t===0&&1/t==-1/0}function wie(t){return typeof t=="number"&&Number.isInteger(t)&&!Qg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bie=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sCe=[...bie,"documentOverlays"],Cie=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Eie=Cie,aCe=[...Eie,"indexConfiguration","indexState","indexEntries"];function p4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function of(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tn=class t{constructor(e,n){this.comparator=e,this.root=n||ws.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}},Vh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ws=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();let e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}};ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1;ws.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,i,r,o){return this}insert(e,n,i){return new ws(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ui=class t{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Fb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _s=class t{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ui(Dr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Lb=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lb("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nr.EMPTY_BYTE_STRING=new nr("");var Iie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(t){if(Xt(!!t),typeof t=="string"){let e=0,n=Iie.exec(t);if(Xt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tc(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}function FM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LM(t){let e=t.mapValue.fields.__previous_value__;return FM(e)?LM(e):e}function Xg(t){let e=Sc(t.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}var dA=class{constructor(e,n,i,r,o,a,l,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=d,this.useFetchStreams=f}},Vb=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var xb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FM(t)?4:$4(t)?9007199254740991:10:je()}function Is(t,e){if(t===e)return!0;let n=fu(t);if(n!==fu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xg(t).isEqual(Xg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=Sc(r.timestampValue),l=Sc(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Tc(r.bytesValue).isEqual(Tc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return In(r.geoPointValue.latitude)===In(o.geoPointValue.latitude)&&In(r.geoPointValue.longitude)===In(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return In(r.integerValue)===In(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=In(r.doubleValue),l=In(o.doubleValue);return a===l?Qg(a)===Qg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Hh(t.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:return function(r,o){let a=r.mapValue.fields||{},l=o.mapValue.fields||{};if(p4(a)!==p4(l))return!1;for(let d in a)if(a.hasOwnProperty(d)&&(l[d]===void 0||!Is(a[d],l[d])))return!1;return!0}(t,e);default:return je()}}function Jg(t,e){return(t.values||[]).find(n=>Is(n,e))!==void 0}function Gh(t,e){if(t===e)return 0;let n=fu(t),i=fu(e);if(n!==i)return Rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return function(o,a){let l=In(o.integerValue||o.doubleValue),d=In(a.integerValue||a.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(t,e);case 3:return m4(t.timestampValue,e.timestampValue);case 4:return m4(Xg(t),Xg(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return function(o,a){let l=Tc(o),d=Tc(a);return l.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let l=o.split("/"),d=a.split("/");for(let f=0;f<l.length&&f<d.length;f++){let p=Rt(l[f],d[f]);if(p!==0)return p}return Rt(l.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let l=Rt(In(o.latitude),In(a.latitude));return l!==0?l:Rt(In(o.longitude),In(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){let l=o.values||[],d=a.values||[];for(let f=0;f<l.length&&f<d.length;++f){let p=Gh(l[f],d[f]);if(p)return p}return Rt(l.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===xb.mapValue&&a===xb.mapValue)return 0;if(o===xb.mapValue)return 1;if(a===xb.mapValue)return-1;let l=o.fields||{},d=Object.keys(l),f=a.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){let w=Rt(d[v],p[v]);if(w!==0)return w;let E=Gh(l[d[v]],f[p[v]]);if(E!==0)return E}return Rt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw je()}}function m4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);let n=Sc(t),i=Sc(e),r=Rt(n.seconds,i.seconds);return r!==0?r:Rt(n.nanos,i.nanos)}function zh(t){return hA(t)}function hA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Sc(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=hA(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${hA(n.fields[a])}`;return r+"}"}(t.mapValue):je()}function fA(t){return!!t&&"integerValue"in t}function VM(t){return!!t&&"arrayValue"in t}function g4(t){return!!t&&"nullValue"in t}function v4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mb(t){return!!t&&"mapValue"in t}function Wg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return of(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Wg(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ko=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Mb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wg(n)}setAll(e){let n=Dr.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=Wg(a):r.push(l.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Mb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Mb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){of(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Wg(this.value))}};function H4(t){let e=[];return of(t.fields,(n,i)=>{let r=new Dr([n]);if(Mb(i)){let o=H4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new _s(e)}var No=class t{constructor(e,n,i,r,o,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new t(e,0,Ke.min(),Ke.min(),Ke.min(),ko.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Ke.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Ke.min(),Ke.min(),ko.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ke.min(),Ke.min(),ko.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Wh=class{constructor(e,n){this.position=e,this.inclusive=n}};function y4(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],a=t.position[r];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(a.referenceValue),n.key):i=Gh(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function _4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Is(t.position[n],e.position[n]))return!1;return!0}var qh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Sie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var jb=class{},ei=class t extends jb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new mA(e,n,i):n==="array-contains"?new yA(e,i):n==="in"?new _A(e,i):n==="not-in"?new wA(e,i):n==="array-contains-any"?new bA(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new gA(e,i):new vA(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gh(n,this.value)):n!==null&&fu(this.value)===fu(n)&&this.matchesComparison(Gh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ss=class t extends jb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return G4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function G4(t){return t.op==="and"}function z4(t){return Tie(t)&&G4(t)}function Tie(t){for(let e of t.filters)if(e instanceof Ss)return!1;return!0}function pA(t){if(t instanceof ei)return t.field.canonicalString()+t.op.toString()+zh(t.value);if(z4(t))return t.filters.map(e=>pA(e)).join(",");{let e=t.filters.map(n=>pA(n)).join(",");return`${t.op}(${e})`}}function W4(t,e){return t instanceof ei?function(i,r){return r instanceof ei&&i.op===r.op&&i.field.isEqual(r.field)&&Is(i.value,r.value)}(t,e):t instanceof Ss?function(i,r){return r instanceof Ss&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,l)=>o&&W4(a,r.filters[l]),!0):!1}(t,e):void je()}function q4(t){return t instanceof ei?function(n){return`${n.field.canonicalString()} ${n.op} ${zh(n.value)}`}(t):t instanceof Ss?function(n){return n.op.toString()+" {"+n.getFilters().map(q4).join(" ,")+"}"}(t):"Filter"}var mA=class extends ei{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){let n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}},gA=class extends ei{constructor(e,n){super(e,"in",n),this.keys=K4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vA=class extends ei{constructor(e,n){super(e,"not-in",n),this.keys=K4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function K4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Me.fromName(i.referenceValue))}var yA=class extends ei{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return VM(n)&&Jg(n.arrayValue,this.value)}},_A=class extends ei{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Jg(this.value.arrayValue,n)}},wA=class extends ei{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Jg(this.value.arrayValue,n)}},bA=class extends ei{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!VM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Jg(this.value.arrayValue,i))}};var CA=class{constructor(e,n=null,i=[],r=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=l,this.ce=null}};function w4(t,e=null,n=[],i=[],r=null,o=null,a=null){return new CA(t,e,n,i,r,o,a)}function jM(t){let e=Ye(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>pA(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),aC(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>zh(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>zh(i)).join(",")),e.ce=n}return e.ce}function UM(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_4(t.startAt,e.startAt)&&_4(t.endAt,e.endAt)}function EA(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Kh=class{constructor(e,n=null,i=[],r=[],o=null,a="F",l=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function Die(t,e,n,i,r,o,a,l){return new Kh(t,e,n,i,r,o,a,l)}function Y4(t){return new Kh(t)}function b4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xie(t){return t.collectionGroup!==null}function qg(t){let e=Ye(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ui(Dr.comparator);return a.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qh(o,i))}),n.has(Dr.keyField().canonicalString())||e.le.push(new qh(Dr.keyField(),i))}return e.le}function bs(t){let e=Ye(t);return e.he||(e.he=Aie(e,qg(t))),e.he}function Aie(t,e){if(t.limitType==="F")return w4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new qh(r.field,o)});let n=t.endAt?new Wh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Wh(t.startAt.position,t.startAt.inclusive):null;return w4(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function IA(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cC(t,e){return UM(bs(t),bs(e))&&t.limitType===e.limitType}function Q4(t){return`${jM(bs(t))}|lt:${t.limitType}`}function Nh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>q4(r)).join(", ")}]`),aC(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>zh(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>zh(r)).join(",")),`Target(${i})`}(bs(t))}; limitType=${t.limitType})`}function lC(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of qg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,d){let f=y4(a,l,d);return a.inclusive?f<=0:f<0}(i.startAt,qg(i),r)||i.endAt&&!function(a,l,d){let f=y4(a,l,d);return a.inclusive?f>=0:f>0}(i.endAt,qg(i),r))}(t,e)}function Mie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X4(t){return(e,n)=>{let i=!1;for(let r of qg(t)){let o=Pie(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Pie(t,e,n){let i=t.field.isKeyField()?Me.comparator(e.key,n.key):function(o,a,l){let d=a.data.field(o),f=l.data.field(o);return d!==null&&f!==null?Gh(d,f):je()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}var Dc=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){of(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return B4(this.inner)}size(){return this.innerSize}};var Oie=new Tn(Me.comparator);function va(){return Oie}var J4=new Tn(Me.comparator);function zg(...t){let e=J4;for(let n of t)e=e.insert(n.key,n);return e}function Z4(t){let e=J4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function cu(){return Kg()}function e5(){return Kg()}function Kg(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}var kie=new Tn(Me.comparator),Rie=new Ui(Me.comparator);function vt(...t){let e=Rie;for(let n of t)e=e.add(n);return e}var Nie=new Ui(Rt);function Fie(){return Nie}function t5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qg(e)?"-0":e}}function n5(t){return{integerValue:""+t}}function Lie(t,e){return wie(e)?n5(e):t5(t,e)}var Yh=class{constructor(){this._=void 0}};function Vie(t,e,n){return t instanceof Qh?function(r,o){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&FM(o)&&(o=LM(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof pu?r5(t,e):t instanceof mu?o5(t,e):function(r,o){let a=i5(r,o),l=C4(a)+C4(r.Ie);return fA(a)&&fA(r.Ie)?n5(l):t5(r.serializer,l)}(t,e)}function jie(t,e,n){return t instanceof pu?r5(t,e):t instanceof mu?o5(t,e):n}function i5(t,e){return t instanceof Xh?function(i){return fA(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Qh=class extends Yh{},pu=class extends Yh{constructor(e){super(),this.elements=e}};function r5(t,e){let n=s5(e);for(let i of t.elements)n.some(r=>Is(r,i))||n.push(i);return{arrayValue:{values:n}}}var mu=class extends Yh{constructor(e){super(),this.elements=e}};function o5(t,e){let n=s5(e);for(let i of t.elements)n=n.filter(r=>!Is(r,i));return{arrayValue:{values:n}}}var Xh=class extends Yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function C4(t){return In(t.integerValue||t.doubleValue)}function s5(t){return VM(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uie(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof pu&&r instanceof pu||i instanceof mu&&r instanceof mu?Hh(i.elements,r.elements,Is):i instanceof Xh&&r instanceof Xh?Is(i.Ie,r.Ie):i instanceof Qh&&r instanceof Qh}(t.transform,e.transform)}var SA=class{constructor(e,n){this.version=e,this.transformResults=n}},Ec=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Pb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Jh=class{};function a5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,Ec.none()):new gu(t.key,t.data,Ec.none());{let n=t.data,i=ko.empty(),r=new Ui(Dr.comparator);for(let o of e.fields)if(!r.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new ya(t.key,i,new _s(r.toArray()),Ec.none())}}function Bie(t,e,n){t instanceof gu?function(r,o,a){let l=r.value.clone(),d=I4(r.fieldTransforms,o,a.transformResults);l.setAll(d),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(r,o,a){if(!Pb(r.precondition,o))return void o.convertToUnknownDocument(a.version);let l=I4(r.fieldTransforms,o,a.transformResults),d=o.data;d.setAll(c5(r)),d.setAll(l),o.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Yg(t,e,n,i){return t instanceof gu?function(o,a,l,d){if(!Pb(o.precondition,a))return l;let f=o.value.clone(),p=S4(o.fieldTransforms,d,a);return f.setAll(p),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof ya?function(o,a,l,d){if(!Pb(o.precondition,a))return l;let f=S4(o.fieldTransforms,d,a),p=a.data;return p.setAll(c5(o)),p.setAll(f),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,a,l){return Pb(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function $ie(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=i5(i.transform,r||null);o!=null&&(n===null&&(n=ko.empty()),n.set(i.field,o))}return n||null}function E4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hh(i,r,(o,a)=>Uie(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var gu=class extends Jh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ya=class extends Jh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function c5(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function I4(t,e,n){let i=new Map;Xt(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],a=o.transform,l=e.data.field(o.field);i.set(o.field,jie(a,l,n[r]))}return i}function S4(t,e,n){let i=new Map;for(let r of t){let o=r.transform,a=n.data.field(r.field);i.set(r.field,Vie(o,a,e))}return i}var Zg=class extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},TA=class extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var DA=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Bie(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Yg(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Yg(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=e5();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,l=this.applyToLocalView(a,o.mutatedFields);l=n.has(r.key)?null:l;let d=a5(a,l);d!==null&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Hh(this.mutations,e.mutations,(n,i)=>E4(n,i))&&Hh(this.baseMutations,e.baseMutations,(n,i)=>E4(n,i))}},xA=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Xt(e.mutations.length===i.length);let r=function(){return kie}(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)}};var AA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var MA=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qn,St;function Hie(t){switch(t){default:return je();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function l5(t){if(t===void 0)return Es("GRPC error has no .code"),q.UNKNOWN;switch(t){case qn.OK:return q.OK;case qn.CANCELLED:return q.CANCELLED;case qn.UNKNOWN:return q.UNKNOWN;case qn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case qn.INTERNAL:return q.INTERNAL;case qn.UNAVAILABLE:return q.UNAVAILABLE;case qn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case qn.NOT_FOUND:return q.NOT_FOUND;case qn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case qn.ABORTED:return q.ABORTED;case qn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case qn.DATA_LOSS:return q.DATA_LOSS;default:return je()}}(St=qn||(qn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";var T4=null;function Gie(){return new TextEncoder}var zie=new su([4294967295,4294967295],0);function D4(t){let e=Gie().encode(t),n=new d4;return n.update(e),new Uint8Array(n.digest())}function x4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new su([n,i],0),new su([r,o],0)]}var PA=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(i<0)throw new lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=su.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(su.fromNumber(i)));return r.compare(zie)===1&&(r=new su([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=D4(e),[i,r]=x4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);if(!this.Ae(a))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Te===0)return;let n=D4(e),[i,r]=x4(n);for(let o=0;o<this.hashCount;o++){let a=this.de(i,r,o);this.Re(a)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},lu=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ub=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,ev.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Ke.min(),r,new Tn(Rt),va(),vt())}},ev=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,vt(),vt(),vt())}};var Uh=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},Bb=class{constructor(e,n){this.targetId=e,this.fe=n}},$b=class{constructor(e,n,i=nr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Hb=class{constructor(){this.ge=0,this.pe=M4(),this.ye=nr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=vt(),n=vt(),i=vt();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:je()}}),new ev(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=M4()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Xt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},OA=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=va(),this.Qe=A4(),this.Ke=new Tn(Rt)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(EA(o))if(i===0){let a=new Me(o.path);this.We(n,a,No.newNoDocument(a,Ke.min()))}else Xt(i===1);else{let a=this.Ze(n);if(a!==i){let l=this.Xe(e),d=l?this.et(l,e,a):1;if(d!==0){this.He(n);let f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}T4?.tt(function(p,v,w,E,C){var S,x,k,V,G,A;let ie={localCacheCount:p,existenceFilterCount:v.count,databaseId:w.database,projectId:w.projectId},B=v.unchangedNames;return B&&(ie.bloomFilter={applied:C===0,hashCount:(S=B?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(V=(k=(x=B?.bits)===null||x===void 0?void 0:x.bitmap)===null||k===void 0?void 0:k.length)!==null&&V!==void 0?V:0,padding:(A=(G=B?.bits)===null||G===void 0?void 0:G.padding)!==null&&A!==void 0?A:0,mightContain:se=>{var Ee;return(Ee=E?.mightContain(se))!==null&&Ee!==void 0&&Ee}}),ie}(a,e.fe,this.Le.nt(),l,d))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,a,l;try{a=Tc(i).toUint8Array()}catch(d){if(d instanceof Lb)return $h("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{l=new PA(a,r,o)}catch(d){return $h(d instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return l.Te===0?null:l}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let a=this.Le.nt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,a)=>{let l=this.Ye(a);if(l){if(o.current&&EA(l.target)){let d=new Me(l.target.path);this.qe.get(d)!==null||this.st(a,d)||this.We(a,d,No.newNoDocument(d,e))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=vt();this.Qe.forEach((o,a)=>{let l=!0;a.forEachWhile(d=>{let f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(e));let r=new Ub(e,n,this.Ke,this.qe,i);return this.qe=va(),this.Qe=A4(),this.Ke=new Tn(Rt),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Hb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ui(Rt),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Hb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function A4(){return new Tn(Me.comparator)}function M4(){return new Tn(Me.comparator)}var Wie={asc:"ASCENDING",desc:"DESCENDING"},qie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kie={and:"AND",or:"OR"},kA=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function RA(t,e){return t.useProto3Json||aC(e)?e:{value:e}}function Gb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yie(t,e){return Gb(t,e.toTimestamp())}function Cs(t){return Xt(!!t),Ke.fromTimestamp(function(n){let i=Sc(n);return new Di(i.seconds,i.nanos)}(t))}function BM(t,e){return NA(t,e).canonicalString()}function NA(t,e){let n=function(r){return new Sn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function d5(t){let e=Sn.fromString(t);return Xt(g5(e)),e}function FA(t,e){return BM(t.databaseId,e.path)}function Yx(t,e){let n=d5(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(f5(n))}function h5(t,e){return BM(t.databaseId,e)}function Qie(t){let e=d5(t);return e.length===4?Sn.emptyPath():f5(e)}function LA(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f5(t){return Xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P4(t,e,n){return{name:FA(t,e),fields:n.value.mapValue.fields}}function Xie(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Xt(p===void 0||typeof p=="string"),nr.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Uint8Array),nr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){let p=f.code===void 0?q.UNKNOWN:l5(f.code);return new Ce(p,f.message||"")}(a);n=new $b(i,r,o,l||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Yx(t,i.document.name),o=Cs(i.document.updateTime),a=i.document.createTime?Cs(i.document.createTime):Ke.min(),l=new ko({mapValue:{fields:i.document.fields}}),d=No.newFoundDocument(r,o,a,l),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Uh(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Yx(t,i.document),o=i.readTime?Cs(i.readTime):Ke.min(),a=No.newNoDocument(r,o),l=i.removedTargetIds||[];n=new Uh([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Yx(t,i.document),o=i.removedTargetIds||[];n=new Uh([],o,r,null)}else{if(!("filter"in e))return je();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new MA(r,o),l=i.targetId;n=new Bb(l,a)}}return n}function Jie(t,e){let n;if(e instanceof gu)n={update:P4(t,e.key,e.value)};else if(e instanceof Zg)n={delete:FA(t,e.key)};else if(e instanceof ya)n={update:P4(t,e.key,e.data),updateMask:are(e.fieldMask)};else{if(!(e instanceof TA))return je();n={verify:FA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,a){let l=a.transform;if(l instanceof Qh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof mu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xh)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw je()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Yie(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:je()}(t,e.precondition)),n}function Zie(t,e){return t&&t.length>0?(Xt(e!==void 0),t.map(n=>function(r,o){let a=r.updateTime?Cs(r.updateTime):Cs(o);return a.isEqual(Ke.min())&&(a=Cs(o)),new SA(a,r.transformResults||[])}(n,e))):[]}function ere(t,e){return{documents:[h5(t,e.path)]}}function tre(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=h5(t,r);let o=function(f){if(f.length!==0)return m5(Ss.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(f){if(f.length!==0)return f.map(p=>function(w){return{field:Fh(w.field),direction:rre(w.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let l=RA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ut:n,parent:r}}function nre(t){let e=Qie(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Xt(i===1);let p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){let w=p5(v);return w instanceof Ss&&z4(w)?w.getFilters():[w]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(w=>function(C){return new qh(Lh(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(v){let w;return w=typeof v=="object"?v.value:v,aC(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(v){let w=!!v.before,E=v.values||[];return new Wh(E,w)}(n.startAt));let f=null;return n.endAt&&(f=function(v){let w=!v.before,E=v.values||[];return new Wh(E,w)}(n.endAt)),Die(e,r,a,o,l,"F",d,f)}function ire(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function p5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Lh(n.unaryFilter.field);return ei.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Lh(n.unaryFilter.field);return ei.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Lh(n.unaryFilter.field);return ei.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Lh(n.unaryFilter.field);return ei.create(a,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(t):t.fieldFilter!==void 0?function(n){return ei.create(Lh(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ss.create(n.compositeFilter.filters.map(i=>p5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return je()}}(n.compositeFilter.op))}(t):je()}function rre(t){return Wie[t]}function ore(t){return qie[t]}function sre(t){return Kie[t]}function Fh(t){return{fieldPath:t.canonicalString()}}function Lh(t){return Dr.fromServerFormat(t.fieldPath)}function m5(t){return t instanceof ei?function(n){if(n.op==="=="){if(v4(n.value))return{unaryFilter:{field:Fh(n.field),op:"IS_NAN"}};if(g4(n.value))return{unaryFilter:{field:Fh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v4(n.value))return{unaryFilter:{field:Fh(n.field),op:"IS_NOT_NAN"}};if(g4(n.value))return{unaryFilter:{field:Fh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fh(n.field),op:ore(n.op),value:n.value}}}(t):t instanceof Ss?function(n){let i=n.getFilters().map(r=>m5(r));return i.length===1?i[0]:{compositeFilter:{op:sre(n.op),filters:i}}}(t):je()}function are(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function g5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var tv=class t{constructor(e,n,i,r,o=Ke.min(),a=Ke.min(),l=nr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var VA=class{constructor(e){this.ct=e}};function cre(t){let e=nre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IA(e,e.limit,"L"):e}var zb=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(In(e.integerValue));else if("doubleValue"in e){let i=In(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Qg(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Tc(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?$4(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):je()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Me.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};zb.bt=new zb;var jA=class{constructor(){this._n=new UA}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(hu.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(hu.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}},UA=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ui(Sn.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ui(Sn.comparator)).toArray()}};var lCe=new Uint8Array(0);var ys=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);var nv=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var BA=class{constructor(){this.changes=new Dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,No.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $A=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var HA=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Yg(i.mutation,r,_s.empty(),Di.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,vt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=vt()){let r=cu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let a=zg();return o.forEach((l,d)=>{a=a.insert(l,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let i=cu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,vt()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let o=va(),a=Kg(),l=function(){return Kg()}();return n.forEach((d,f)=>{let p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof ya)?o=o.insert(f.key,f):p!==void 0?(a.set(f.key,p.mutation.getFieldMask()),Yg(p.mutation,f,p.mutation.getFieldMask(),Di.now())):a.set(f.key,_s.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,p)=>a.set(f,p)),n.forEach((f,p)=>{var v;return l.set(f,new $A(p,(v=a.get(f))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){let i=Kg(),r=new Tn((a,l)=>a-l),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let l of a)l.keys().forEach(d=>{let f=n.get(d);if(f===null)return;let p=i.get(d)||_s.empty();p=l.applyToLocalView(f,p),i.set(d,p);let v=(r.get(l.batchId)||vt()).add(d);r=r.insert(l.batchId,v)})}).next(()=>{let a=[],l=r.getReverseIterator();for(;l.hasNext();){let d=l.getNext(),f=d.key,p=d.value,v=e5();p.forEach(w=>{if(!o.has(w)){let E=a5(n.get(w),i.get(w));E!==null&&v.set(w,E),o=o.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Q.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xie(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):Q.resolve(cu()),l=-1,d=o;return a.next(f=>Q.forEach(f,(p,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),o.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{d=d.insert(p,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,vt())).next(p=>({batchId:l,changes:Z4(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(i=>{let r=zg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,a=zg();return this.indexManager.getCollectionParents(e,o).next(l=>Q.forEach(l,d=>{let f=function(v,w){return new Kh(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,w)=>{a=a.insert(v,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(a=>{o.forEach((d,f)=>{let p=f.getKey();a.get(p)===null&&(a=a.insert(p,No.newInvalidDocument(p)))});let l=zg();return a.forEach((d,f)=>{let p=o.get(d);p!==void 0&&Yg(p.mutation,f,_s.empty(),Di.now()),lC(n,f)&&(l=l.insert(d,f))}),l})}};var GA=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Cs(r.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:cre(r.bundledQuery),readTime:Cs(r.readTime)}}(n)),Q.resolve()}};var zA=class{constructor(){this.overlays=new Tn(Me.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){let i=cu();return Q.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){let r=cu(),o=n.length+1,a=new Me(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){let d=l.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Tn((f,p)=>f-p),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=cu(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}let l=cu(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=r)););return Q.resolve(l)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new AA(n,i));let o=this.hr.get(n);o===void 0&&(o=vt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var iv=class{constructor(){this.Pr=new Ui(Kn.Ir),this.Tr=new Ui(Kn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Kn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Kn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Me(new Sn([])),i=new Kn(n,e),r=new Kn(n,e+1),o=[];return this.Tr.forEachInRange([i,r],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Me(new Sn([])),i=new Kn(n,e),r=new Kn(n,e+1),o=vt();return this.Tr.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Kn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Kn=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Me.comparator(e.key,n.key)||Rt(e.pr,n.pr)}static Er(e,n){return Rt(e.pr,n.pr)||Me.comparator(e.key,n.key)}};var WA=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ui(Kn.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new DA(o,n,i,r);this.mutationQueue.push(a);for(let l of r)this.wr=this.wr.add(new Kn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Kn(n,0),r=new Kn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],a=>{let l=this.Sr(a.pr);o.push(l)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ui(Rt);return n.forEach(r=>{let o=new Kn(r,0),a=new Kn(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{i=i.add(l.pr)})}),Q.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Me.isDocumentKey(o)||(o=o.child(""));let a=new Kn(new Me(o),0),l=new Ui(Rt);return this.wr.forEachWhile(d=>{let f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.pr)),!0)},a),Q.resolve(this.Dr(l))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Xt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return Q.forEach(n.mutations,r=>{let o=new Kn(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Kn(n,0),r=this.wr.firstAfterOrEqual(i);return Q.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qA=class{constructor(e){this.vr=e,this.docs=function(){return new Tn(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():No.newInvalidDocument(n))}getEntries(e,n){let i=va();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():No.newInvalidDocument(r))}),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=va(),a=n.path,l=new Me(a.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){let{key:f,value:{document:p}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||yie(vie(p),i)<=0||(r.has(p.key)||lC(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,i,r){je()}Fr(e,n){return Q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new KA(this)}getSize(e){return Q.resolve(this.size)}},KA=class extends BA{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var YA=class{constructor(e){this.persistence=e,this.Mr=new Dc(n=>jM(n),UM),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iv,this.targetCount=0,this.Br=nv.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new nv(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Q.waitFor(o).next(()=>r)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}};var QA=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new U4(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new YA(this),this.indexManager=new jA,this.remoteDocumentCache=function(r){return new qA(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new VA(n),this.$r=new GA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new WA(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);let r=new XA(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return Q.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},XA=class extends aA{constructor(e){super(),this.currentSequenceNumber=e}},JA=class t{constructor(e){this.persistence=e,this.zr=new iv,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw je()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,i=>{let r=Me.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,Ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var ZA=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=vt(),r=vt();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var eM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tM=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _U()?8:Nb.v(qt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new eM;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Gg()<=pt.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Nh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Gg()<=pt.DEBUG&&he("QueryEngine","Query:",Nh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Gg()<=pt.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Nh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):Q.resolve())}ji(e,n){if(b4(n))return Q.resolve(null);let i=bs(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=IA(n,null,"F"),i=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=vt(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(d=>{let f=this.Zi(n,l);return this.Xi(n,f,a,d.readTime)?this.ji(e,IA(n,null,"F")):this.es(e,f,n,d)}))})))}Hi(e,n,i,r){return b4(n)||r.isEqual(Ke.min())?Q.resolve(null):this.zi.getDocuments(e,i).next(o=>{let a=this.Zi(n,o);return this.Xi(n,a,i,r)?Q.resolve(null):(Gg()<=pt.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(n)),this.es(e,a,n,gie(r,-1)).next(l=>l))})}Zi(e,n){let i=new Ui(X4(e));return n.forEach((r,o)=>{lC(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Gg()<=pt.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Nh(n)),this.zi.getDocumentsMatchingQuery(e,n,hu.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var nM=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Tn(Rt),this.rs=new Dc(o=>jM(o),UM),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function lre(t,e,n,i){return new nM(t,e,n,i)}function v5(t,e){return I(this,null,function*(){let n=Ye(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],l=[],d=vt();for(let f of r){a.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}for(let f of o){l.push(f.batchId);for(let p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(i,d).next(f=>({us:f,removedBatchIds:a,addedBatchIds:l}))})})})}function ure(t,e){let n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,d,f,p){let v=f.batch,w=v.keys(),E=Q.resolve();return w.forEach(C=>{E=E.next(()=>p.getEntry(d,C)).next(S=>{let x=f.docVersions.get(C);Xt(x!==null),S.version.compareTo(x)<0&&(v.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=vt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function y5(t){let e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function dre(t,e){let n=Ye(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let l=[];e.targetChanges.forEach((p,v)=>{let w=r.get(v);if(!w)return;l.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,v)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(nr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,i)),r=r.insert(v,E),function(S,x,k){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(w,E,p)&&l.push(n.Qr.updateTargetData(o,E))});let d=va(),f=vt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(hre(o,a,e.documentUpdates).next(p=>{d=p.cs,f=p.ls})),!i.isEqual(Ke.min())){let p=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));l.push(p)}return Q.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ns=r,o))}function hre(t,e,n){let i=vt(),r=vt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let a=va();return n.forEach((l,d)=>{let f=o.get(l);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(l)),d.isNoDocument()&&d.version.isEqual(Ke.min())?(e.removeEntry(l,d.readTime),a=a.insert(l,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(l,d)):he("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",d.version)}),{cs:a,ls:r}})}function fre(t,e){let n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function pre(t,e){let n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,Q.resolve(r)):n.Qr.allocateTargetId(i).next(a=>(r=new tv(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function iM(t,e,n){return I(this,null,function*(){let i=Ye(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!cv(a))throw a;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function O4(t,e,n){let i=Ye(t),r=Ke.min(),o=vt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(d,f,p){let v=Ye(d),w=v.rs.get(p);return w!==void 0?Q.resolve(v.ns.get(w)):v.Qr.getTargetData(f,p)}(i,a,bs(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,l.targetId).next(d=>{o=d})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?r:Ke.min(),n?o:vt())).next(l=>(mre(i,Mie(e),l),{documents:l,hs:o})))}function mre(t,e,n){let i=t.ss.get(e)||Ke.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Wb=class{constructor(){this.activeTargetIds=Fie()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rM=class{constructor(){this.no=new Wb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var oM=class{io(e){}shutdown(){}};var qb=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ab=null;function Qx(){return Ab===null?Ab=function(){return 268435456+Math.round(2147483648*Math.random())}():Ab++,"0x"+Ab.toString(16)}var gre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var sM=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ji="WebChannelConnection",aM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get wo(){return!1}So(n,i,r,o,a){let l=Qx(),d=this.bo(n,i.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${l}:`,d,r);let f={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(f,o,a),this.Co(n,d,f,r).then(p=>(he("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw $h("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",d,"request:",r),p})}vo(n,i,r,o,a,l){return this.So(n,i,r,o,a)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),r&&r.headers.forEach((o,a)=>n[a]=o)}bo(n,i){let r=gre[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let o=Qx();return new Promise((a,l)=>{let d=new u4;d.setWithCredentials(!0),d.listenOnce(c4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Db.NO_ERROR:let p=d.getResponseJson();he(ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Db.TIMEOUT:he(ji,`RPC '${e}' ${o} timed out`),l(new Ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:let v=d.getStatus();if(he(ji,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);let E=w?.error;if(E&&E.status&&E.message){let C=function(x){let k=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(k)>=0?k:q.UNKNOWN}(E.status);l(new Ce(C,E.message))}else l(new Ce(q.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ce(q.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{he(ji,`RPC '${e}' ${o} completed.`)}});let f=JSON.stringify(r);he(ji,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",f,i,15)})}Fo(e,n,i){let r=Qx(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=s4(),l=a4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let p=o.join("");he(ji,`Creating RPC '${e}' stream ${r}: ${p}`,d);let v=a.createWebChannel(p,d),w=!1,E=!1,C=new sM({lo:x=>{E?he(ji,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(w||(he(ji,`Opening RPC '${e}' stream ${r} transport.`),v.open(),w=!0),he(ji,`RPC '${e}' stream ${r} sending:`,x),v.send(x))},ho:()=>v.close()}),S=(x,k,V)=>{x.listen(k,G=>{try{V(G)}catch(A){setTimeout(()=>{throw A},0)}})};return S(v,Hg.EventType.OPEN,()=>{E||he(ji,`RPC '${e}' stream ${r} transport opened.`)}),S(v,Hg.EventType.CLOSE,()=>{E||(E=!0,he(ji,`RPC '${e}' stream ${r} transport closed`),C.Vo())}),S(v,Hg.EventType.ERROR,x=>{E||(E=!0,$h(ji,`RPC '${e}' stream ${r} transport errored:`,x),C.Vo(new Ce(q.UNAVAILABLE,"The operation could not be completed")))}),S(v,Hg.EventType.MESSAGE,x=>{var k;if(!E){let V=x.data[0];Xt(!!V);let G=V,A=G.error||((k=G[0])===null||k===void 0?void 0:k.error);if(A){he(ji,`RPC '${e}' stream ${r} received error:`,A);let ie=A.status,B=function(We){let et=qn[We];if(et!==void 0)return l5(et)}(ie),se=A.message;B===void 0&&(B=q.INTERNAL,se="Unknown error status: "+ie+" with message "+A.message),E=!0,C.Vo(new Ce(B,se)),v.close()}else he(ji,`RPC '${e}' stream ${r} received:`,V),C.mo(V)}}),S(l,l4.STAT_EVENT,x=>{x.stat===Kx.PROXY?he(ji,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Kx.NOPROXY&&he(ji,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}};function Xx(){return typeof document<"u"?document:null}function uC(t){return new kA(t,!0)}var Kb=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Yb=class{constructor(e,n,i,r,o,a,l,d){this.oi=e,this.$o=i,this.Uo=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Kb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return I(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return I(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return I(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new Ce(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>I(this,null,function*(){this.state=0,this.start()}))}__(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cM=class extends Yb{constructor(e,n,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=Xie(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ke.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Ke.min():a.readTime?Cs(a.readTime):Ke.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=LA(this.serializer),n.addTarget=function(o,a){let l,d=a.target;if(l=EA(d)?{documents:ere(o,d)}:{query:tre(o,d).ut},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=u5(o,a.resumeToken);let f=RA(o,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Gb(o,a.snapshotVersion.toTimestamp());let f=RA(o,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);let i=ire(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=LA(this.serializer),n.removeTarget=e,this.t_(n)}},lM=class extends Yb{constructor(e,n,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=Zie(e.writeResults,e.commitTime),i=Cs(e.commitTime);return this.listener.T_(i,n)}return Xt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=LA(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Jie(this.serializer,i))};this.t_(n)}};var uM=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,NA(n,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(q.UNKNOWN,o.toString())})}vo(e,n,i,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,NA(n,i),r,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(q.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var dM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Es(n),this.g_=!1):he("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var hM=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(()=>I(this,null,function*(){vu(this)&&(he("RemoteStore","Restarting streams for network reachability change."),yield function(d){return I(this,null,function*(){let f=Ye(d);f.v_.add(4),yield lv(f),f.x_.set("Unknown"),f.v_.delete(4),yield dC(f)})}(this))}))}),this.x_=new dM(i,r)}};function dC(t){return I(this,null,function*(){if(vu(t))for(let e of t.F_)yield e(!0)})}function lv(t){return I(this,null,function*(){for(let e of t.F_)yield e(!1)})}function _5(t,e){let n=Ye(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),GM(n)?HM(n):sf(n).Jo()&&$M(n,e))}function w5(t,e){let n=Ye(t),i=sf(n);n.C_.delete(e),i.Jo()&&b5(n,e),n.C_.size===0&&(i.Jo()?i.Xo():vu(n)&&n.x_.set("Unknown"))}function $M(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sf(t).c_(e)}function b5(t,e){t.O_.Oe(e),sf(t).l_(e)}function HM(t){t.O_=new OA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),sf(t).start(),t.x_.p_()}function GM(t){return vu(t)&&!sf(t).Ho()&&t.C_.size>0}function vu(t){return Ye(t).v_.size===0}function C5(t){t.O_=void 0}function vre(t){return I(this,null,function*(){t.C_.forEach((e,n)=>{$M(t,e)})})}function yre(t,e){return I(this,null,function*(){C5(t),GM(t)?(t.x_.S_(e),HM(t)):t.x_.set("Unknown")})}function _re(t,e,n){return I(this,null,function*(){if(t.x_.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{yield function(r,o){return I(this,null,function*(){let a=o.cause;for(let l of o.targetIds)r.C_.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r.C_.delete(l),r.O_.removeTarget(l))})}(t,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Qb(t,i)}else if(e instanceof Uh?t.O_.$e(e):e instanceof Bb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ke.min()))try{let i=yield y5(t.localStore);n.compareTo(i)>=0&&(yield function(o,a){let l=o.O_.it(a);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){let p=o.C_.get(f);p&&o.C_.set(f,p.withResumeToken(d.resumeToken,a))}}),l.targetMismatches.forEach((d,f)=>{let p=o.C_.get(d);if(!p)return;o.C_.set(d,p.withResumeToken(nr.EMPTY_BYTE_STRING,p.snapshotVersion)),b5(o,d);let v=new tv(p.target,d,f,p.sequenceNumber);$M(o,v)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){he("RemoteStore","Failed to raise snapshot:",i),yield Qb(t,i)}})}function Qb(t,e,n){return I(this,null,function*(){if(!cv(e))throw e;t.v_.add(1),yield lv(t),t.x_.set("Offline"),n||(n=()=>y5(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){he("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield dC(t)}))})}function E5(t,e){return e().catch(n=>Qb(t,n,e))}function hC(t){return I(this,null,function*(){let e=Ye(t),n=xc(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;wre(e);)try{let r=yield fre(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,bre(e,r)}catch(r){yield Qb(e,r)}I5(e)&&S5(e)})}function wre(t){return vu(t)&&t.D_.length<10}function bre(t,e){t.D_.push(e);let n=xc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function I5(t){return vu(t)&&!xc(t).Ho()&&t.D_.length>0}function S5(t){xc(t).start()}function Cre(t){return I(this,null,function*(){xc(t).d_()})}function Ere(t){return I(this,null,function*(){let e=xc(t);for(let n of t.D_)e.I_(n.mutations)})}function Ire(t,e,n){return I(this,null,function*(){let i=t.D_.shift(),r=xA.from(i,e,n);yield E5(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield hC(t)})}function Sre(t,e){return I(this,null,function*(){e&&xc(t).P_&&(yield function(i,r){return I(this,null,function*(){if(function(a){return Hie(a)&&a!==q.ABORTED}(r.code)){let o=i.D_.shift();xc(i).Zo(),yield E5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield hC(i)}})}(t,e)),I5(t)&&S5(t)})}function k4(t,e){return I(this,null,function*(){let n=Ye(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");let i=vu(n);n.v_.add(3),yield lv(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield dC(n)})}function Tre(t,e){return I(this,null,function*(){let n=Ye(t);e?(n.v_.delete(2),yield dC(n)):e||(n.v_.add(2),yield lv(n),n.x_.set("Unknown"))})}function sf(t){return t.N_||(t.N_=function(n,i,r){let o=Ye(n);return o.R_(),new cM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:vre.bind(null,t),To:yre.bind(null,t),u_:_re.bind(null,t)}),t.F_.push(e=>I(this,null,function*(){e?(t.N_.Zo(),GM(t)?HM(t):t.x_.set("Unknown")):(yield t.N_.stop(),C5(t))}))),t.N_}function xc(t){return t.B_||(t.B_=function(n,i,r){let o=Ye(n);return o.R_(),new lM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:Cre.bind(null,t),To:Sre.bind(null,t),E_:Ere.bind(null,t),T_:Ire.bind(null,t)}),t.F_.push(e=>I(this,null,function*(){e?(t.B_.Zo(),yield hC(t)):(yield t.B_.stop(),t.D_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var fM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let a=Date.now()+i,l=new t(e,n,a,r,o);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zM(t,e){if(Es("AsyncQueue",`${e}: ${t}`),cv(t))return new Ce(q.UNAVAILABLE,`${e}: ${t}`);throw t}var Xb=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=zg(),this.sortedSet=new Tn(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Jb=class{constructor(){this.L_=new Tn(Me.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):je():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},Zh=class t{constructor(e,n,i,r,o,a,l,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){let a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new t(e,n,Xb.emptySet(n),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var pM=class{constructor(){this.q_=void 0,this.Q_=[]}},mM=class{constructor(){this.queries=new Dc(e=>Q4(e),cC),this.onlineState="Unknown",this.K_=new Set}};function Dre(t,e){return I(this,null,function*(){let n=Ye(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new pM),r)try{o.q_=yield n.onListen(i)}catch(a){let l=zM(a,`Initialization of query '${Nh(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&WM(n)})}function xre(t,e){return I(this,null,function*(){let n=Ye(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let a=o.Q_.indexOf(e);a>=0&&(o.Q_.splice(a,1),r=o.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function Are(t,e){let n=Ye(t),i=!1;for(let r of e){let o=r.query,a=n.queries.get(o);if(a){for(let l of a.Q_)l.W_(r)&&(i=!0);a.q_=r}}i&&WM(n)}function Mre(t,e,n){let i=Ye(t),r=i.queries.get(e);if(r)for(let o of r.Q_)o.onError(n);i.queries.delete(e)}function WM(t){t.K_.forEach(e=>{e.next()})}var gM=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Zh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Zb=class{constructor(e){this.key=e}},eC=class{constructor(e){this.key=e}},vM=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=vt(),this.mutatedKeys=vt(),this.ua=X4(e),this.ca=new Xb(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new Jb,r=n?n.ca:this.ca,o=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{let w=r.get(p),E=lC(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),x=!1;w&&E?w.data.isEqual(E.data)?C!==S&&(i.track({type:3,doc:E}),x=!0):this.Ia(w,E)||(i.track({type:2,doc:E}),x=!0,(d&&this.ua(E,d)>0||f&&this.ua(E,f)<0)&&(l=!0)):!w&&E?(i.track({type:0,doc:E}),x=!0):w&&!E&&(i.track({type:1,doc:w}),x=!0,(d||f)&&(l=!0)),x&&(E?(a=a.add(E),o=S?o.add(p):o.delete(p)):(a=a.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{ca:a,Pa:i,Xi:l,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let a=e.Pa.k_();a.sort((p,v)=>function(E,C){let S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return S(E)-S(C)}(p.type,v.type)||this.ua(p.doc,v.doc)),this.Ta(i),r=r!=null&&r;let l=n&&!r?this.Ea():[],d=this.aa.size===0&&this.current&&!r?1:0,f=d!==this._a;return this._a=d,a.length!==0||f?{snapshot:new Zh(this.query,e.ca,o,a,e.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:l}:{da:l}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Jb,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=vt(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new eC(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Zb(i))}),n}Ra(e){this.oa=e.hs,this.aa=vt();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Zh.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},yM=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},_M=class{constructor(e){this.key=e,this.ma=!1}},wM=class{constructor(e,n,i,r,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Dc(l=>Q4(l),cC),this.pa=new Map,this.ya=new Set,this.wa=new Tn(Me.comparator),this.Sa=new Map,this.ba=new iv,this.Da={},this.Ca=new Map,this.va=nv.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function Pre(t,e){return I(this,null,function*(){let n=Bre(t),i,r,o=n.ga.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Va();else{let a=yield pre(n.localStore,bs(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Ore(n,e,i,l==="current",a.resumeToken),n.isPrimaryClient&&_5(n.remoteStore,a)}return r})}function Ore(t,e,n,i,r){return I(this,null,function*(){t.Ma=(v,w,E)=>function(S,x,k,V){return I(this,null,function*(){let G=x.view.ha(k);G.Xi&&(G=yield O4(S.localStore,x.query,!1).then(({documents:se})=>x.view.ha(se,G)));let A=V&&V.targetChanges.get(x.targetId),ie=V&&V.targetMismatches.get(x.targetId)!=null,B=x.view.applyChanges(G,S.isPrimaryClient,A,ie);return N4(S,x.targetId,B.da),B.snapshot})}(t,v,w,E);let o=yield O4(t.localStore,e,!0),a=new vM(e,o.hs),l=a.ha(o.documents),d=ev.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=a.applyChanges(l,t.isPrimaryClient,d);N4(t,n,f.da);let p=new yM(e,n,a);return t.ga.set(e,p),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),f.snapshot})}function kre(t,e){return I(this,null,function*(){let n=Ye(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(o=>!cC(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield iM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),w5(n.remoteStore,i.targetId),bM(n,i.targetId)}).catch(av))):(bM(n,i.targetId),yield iM(n.localStore,i.targetId,!0))})}function Rre(t,e,n){return I(this,null,function*(){let i=$re(t);try{let r=yield function(a,l){let d=Ye(a),f=Di.now(),p=l.reduce((E,C)=>E.add(C.key),vt()),v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=va(),S=vt();return d.os.getEntries(E,p).next(x=>{C=x,C.forEach((k,V)=>{V.isValidDocument()||(S=S.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,C)).next(x=>{v=x;let k=[];for(let V of l){let G=$ie(V,v.get(V.key).overlayedDocument);G!=null&&k.push(new ya(V.key,G,H4(G.value.mapValue),Ec.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,k,l)}).next(x=>{w=x;let k=x.applyToLocalDocumentSet(v,S);return d.documentOverlayCache.saveOverlays(E,x.batchId,k)})}).then(()=>({batchId:w.batchId,changes:Z4(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,d){let f=a.Da[a.currentUser.toKey()];f||(f=new Tn(Rt)),f=f.insert(l,d),a.Da[a.currentUser.toKey()]=f}(i,r.batchId,n),yield uv(i,r.changes),yield hC(i.remoteStore)}catch(r){let o=zM(r,"Failed to persist write");n.reject(o)}})}function T5(t,e){return I(this,null,function*(){let n=Ye(t);try{let i=yield dre(n.localStore,e);e.targetChanges.forEach((r,o)=>{let a=n.Sa.get(o);a&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ma=!0:r.modifiedDocuments.size>0?Xt(a.ma):r.removedDocuments.size>0&&(Xt(a.ma),a.ma=!1))}),yield uv(n,i,e)}catch(i){yield av(i)}})}function R4(t,e,n){let i=Ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((o,a)=>{let l=a.view.U_(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){let d=Ye(a);d.onlineState=l;let f=!1;d.queries.forEach((p,v)=>{for(let w of v.Q_)w.U_(l)&&(f=!0)}),f&&WM(d)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Nre(t,e,n){return I(this,null,function*(){let i=Ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),o=r&&r.key;if(o){let a=new Tn(Me.comparator);a=a.insert(o,No.newNoDocument(o,Ke.min()));let l=vt().add(o),d=new Ub(Ke.min(),new Map,new Tn(Rt),a,l);yield T5(i,d),i.wa=i.wa.remove(o),i.Sa.delete(e),qM(i)}else yield iM(i.localStore,e,!1).then(()=>bM(i,e,n)).catch(av)})}function Fre(t,e){return I(this,null,function*(){let n=Ye(t),i=e.batch.batchId;try{let r=yield ure(n.localStore,e);x5(n,i,null),D5(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield uv(n,r)}catch(r){yield av(r)}})}function Lre(t,e,n){return I(this,null,function*(){let i=Ye(t);try{let r=yield function(a,l){let d=Ye(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,l).next(v=>(Xt(v!==null),p=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,e);x5(i,e,n),D5(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield uv(i,r)}catch(r){yield av(r)}})}function D5(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function x5(t,e,n){let i=Ye(t),r=i.Da[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function bM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||A5(t,i)})}function A5(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(w5(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),qM(t))}function N4(t,e,n){for(let i of n)i instanceof Zb?(t.ba.addReference(i.key,e),Vre(t,i)):i instanceof eC?(he("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||A5(t,i.key)):je()}function Vre(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(he("SyncEngine","New document in limbo: "+n),t.ya.add(i),qM(t))}function qM(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new Me(Sn.fromString(e)),i=t.va.next();t.Sa.set(i,new _M(n)),t.wa=t.wa.insert(n,i),_5(t.remoteStore,new tv(bs(Y4(n.path)),i,"TargetPurposeLimboResolution",U4._e))}}function uv(t,e,n){return I(this,null,function*(){let i=Ye(t),r=[],o=[],a=[];i.ga.isEmpty()||(i.ga.forEach((l,d)=>{a.push(i.Ma(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f?.fromCache?"not-current":"current"),f){r.push(f);let p=ZA.Ki(d.targetId,f);o.push(p)}}))}),yield Promise.all(a),i.fa.u_(r),yield function(d,f){return I(this,null,function*(){let p=Ye(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Q.forEach(f,w=>Q.forEach(w.qi,E=>p.persistence.referenceDelegate.addReference(v,w.targetId,E)).next(()=>Q.forEach(w.Qi,E=>p.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))}catch(v){if(!cv(v))throw v;he("LocalStore","Failed to update sequence numbers: "+v)}for(let v of f){let w=v.targetId;if(!v.fromCache){let E=p.ns.get(w),C=E.snapshotVersion,S=E.withLastLimboFreeSnapshotVersion(C);p.ns=p.ns.insert(w,S)}}})}(i.localStore,o))})}function jre(t,e){return I(this,null,function*(){let n=Ye(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());let i=yield v5(n.localStore,e);n.currentUser=e,function(o,a){o.Ca.forEach(l=>{l.forEach(d=>{d.reject(new Ce(q.CANCELLED,a))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield uv(n,i.us)}})}function Ure(t,e){let n=Ye(t),i=n.Sa.get(e);if(i&&i.ma)return vt().add(i.key);{let r=vt(),o=n.pa.get(e);if(!o)return r;for(let a of o){let l=n.ga.get(a);r=r.unionWith(l.view.la)}return r}}function Bre(t){let e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ure.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nre.bind(null,e),e.fa.u_=Are.bind(null,e.eventManager),e.fa.xa=Mre.bind(null,e.eventManager),e}function $re(t){let e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lre.bind(null,e),e}var tC=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=uC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lre(this.persistence,new tM,e.initialUser,this.serializer)}createPersistence(e){return new QA(JA.Hr,this.serializer)}createSharedClientState(e){return new rM}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var CM=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>R4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jre.bind(null,this.syncEngine),yield Tre(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new mM}()}createDatastore(e){let n=uC(e.databaseInfo.databaseId),i=function(o){return new aM(o)}(e.databaseInfo);return function(o,a,l,d){return new uM(o,a,l,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,a,l){return new hM(i,r,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>R4(this.syncEngine,n,0),function(){return qb.D()?new qb:new oM}())}createSyncEngine(e,n){return function(r,o,a,l,d,f,p){let v=new wM(r,o,a,l,d,f);return p&&(v.Fa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e;yield function(i){return I(this,null,function*(){let r=Ye(i);he("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield lv(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var EM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var IM=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=yi.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>I(this,null,function*(){he("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=zM(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Jx(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>I(this,null,function*(){i.isEqual(r)||(yield v5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function F4(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Gre(t);he("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>k4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>k4(e.remoteStore,r)),t._onlineComponents=e})}function Hre(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Gre(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jx(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Hre(n))throw n;$h("Error using user provided cache. Falling back to memory cache: "+n),yield Jx(t,new tC)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield Jx(t,new tC);return t._offlineComponents})}function M5(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield F4(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield F4(t,new CM))),t._onlineComponents})}function zre(t){return M5(t).then(e=>e.syncEngine)}function Wre(t){return I(this,null,function*(){let e=yield M5(t),n=e.eventManager;return n.onListen=Pre.bind(null,e.syncEngine),n.onUnlisten=kre.bind(null,e.syncEngine),n})}function qre(t,e,n={}){let i=new Ro;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,a,l,d,f){let p=new EM({next:w=>{a.enqueueAndForget(()=>xre(o,v)),w.fromCache&&d.source==="server"?f.reject(new Ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new gM(l,p,{includeMetadataChanges:!0,Z_:!0});return Dre(o,v)}(yield Wre(t),t.asyncQueue,e,n,i)})),i.promise}function P5(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var L4=new Map;function O5(t,e,n){if(!n)throw new Ce(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kre(t,e,n,i){if(e===!0&&i===!0)throw new Ce(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V4(t){if(!Me.isDocumentKey(t))throw new Ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j4(t){if(Me.isDocumentKey(t))throw new Ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function ef(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=KM(t);throw new Ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var nC=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},tf=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nC(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Zx;switch(i.type){case"firstParty":return new iA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=L4.get(n);i&&(he("ComponentProvider","Removing Datastore"),L4.delete(n),i.terminate())}(this),Promise.resolve()}};function k5(t,e,n,i={}){var r;let o=(t=ef(t,tf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&$h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let l,d;if(typeof i.mockUserToken=="string")l=i.mockUserToken,d=yi.MOCK_USER;else{l=gU(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yi(f)}t._authCredentials=new eA(new Ob(l,d))}}var iC=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Kr=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ic=class t extends iC{constructor(e,n,i){super(e,n,Y4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new Me(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function R5(t,e,...n){if(t=Je(t),O5("collection","path",e),t instanceof tf){let i=Sn.fromString(e,...n);return j4(i),new Ic(t,null,i)}{if(!(t instanceof Kr||t instanceof Ic))throw new Ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Sn.fromString(e,...n));return j4(i),new Ic(t.firestore,null,i)}}function N5(t,e,...n){if(t=Je(t),arguments.length===1&&(e=kb.newId()),O5("doc","path",e),t instanceof tf){let i=Sn.fromString(e,...n);return V4(i),new Kr(t,null,new Me(i))}{if(!(t instanceof Kr||t instanceof Ic))throw new Ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Sn.fromString(e,...n));return V4(i),new Kr(t.firestore,t instanceof Ic?t.converter:null,new Me(i))}}var SM=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Kb(this,"async_queue_retry"),this._u=()=>{let n=Xx();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Xx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Xx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Ro;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return I(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!cv(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Es("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=fM.createAndSchedule(this,e,n,i,o=>this.lu(o));return this.nu.push(r),r}au(){this.ru&&je()}verifyOperationInProgress(){}hu(){return I(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var nf=class extends tf{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new SM}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||V5(this),this._firestoreClient.terminate()}};function F5(t,e){let n=typeof t=="object"?t:Ul(),i=typeof t=="string"?t:e||"(default)",r=jl(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=mU("firestore");o&&k5(r,...o)}return r}function L5(t){return t._firestoreClient||V5(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function V5(t){var e,n,i;let r=t._freezeSettings(),o=function(l,d,f,p){return new dA(l,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,P5(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new IM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var rv=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nr.fromBase64String(e))}catch(n){throw new Ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ov=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rC=class{constructor(e){this._methodName=e}};var sv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}};var Yre=/^__.*__$/,TM=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}};function j5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}var DM=class t{constructor(e,n,i,r,o,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return oC(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(j5(this.du)&&Yre.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},xM=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||uC(e)}Su(e,n,i,r=!1){return new DM({du:e,methodName:n,wu:i,path:Dr.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qre(t){let e=t._freezeSettings(),n=uC(t._databaseId);return new xM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xre(t,e,n,i,r,o={}){let a=t.Su(o.merge||o.mergeFields?2:0,e,n,r);H5("Data must be an object, but it was:",a,i);let l=B5(i,a),d,f;if(o.merge)d=new _s(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){let p=[];for(let v of o.mergeFields){let w=Jre(e,v,n);if(!a.contains(w))throw new Ce(q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eoe(p,w)||p.push(w)}d=new _s(p),f=a.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=a.fieldTransforms;return new TM(new ko(l),d,f)}function U5(t,e){if($5(t=Je(t)))return H5("Unsupported field value:",e,t),B5(t,e);if(t instanceof rC)return function(i,r){if(!j5(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let o=[],a=0;for(let l of i){let d=U5(l,r.gu(a));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),a++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Je(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lie(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Di.fromDate(i);return{timestampValue:Gb(r.serializer,o)}}if(i instanceof Di){let o=new Di(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gb(r.serializer,o)}}if(i instanceof sv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof rv)return{bytesValue:u5(r.serializer,i._byteString)};if(i instanceof Kr){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.pu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${KM(i)}`)}(t,e)}function B5(t,e){let n={};return B4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):of(t,(i,r)=>{let o=U5(r,e.Ru(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function $5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Di||t instanceof sv||t instanceof rv||t instanceof Kr||t instanceof rC)}function H5(t,e,n){if(!$5(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=KM(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function Jre(t,e,n){if((e=Je(e))instanceof ov)return e._internalPath;if(typeof e=="string")return G5(t,e);throw oC("Field path arguments must be of type string or ",t,!1,void 0,n)}var Zre=new RegExp("[~\\*/\\[\\]]");function G5(t,e,n){if(e.search(Zre)>=0)throw oC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ov(...e.split("."))._internalPath}catch{throw oC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oC(t,e,n,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(o||a)&&(d+=" (found",o&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new Ce(q.INVALID_ARGUMENT,l+t+d)}function eoe(t,e){return t.some(n=>n.isEqual(e))}var sC=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(z5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},AM=class extends sC{data(){return super.data()}};function z5(t,e){return typeof e=="string"?G5(t,e):e instanceof ov?e._internalPath:e._delegate._internalPath}function toe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var MM=class{convertValue(e,n="none"){switch(fu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return of(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new sv(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=LM(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Xg(e));default:return null}}convertTimestamp(e){let n=Sc(e);return new Di(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Sn.fromString(e);Xt(g5(i));let r=new Vb(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return r.isEqual(n)||Es(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function noe(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var jh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},PM=class extends sC{constructor(e,n,i,r,o,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(z5("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Bh=class extends PM{data(e={}){return super.data(e)}},OM=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new jh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Bh(this._firestore,this._userDataWriter,i.key,i,new jh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{let d=new Bh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let d=new Bh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),f=-1,p=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:ioe(l.type),doc:d,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function ioe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}var kM=class extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new rv(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}};function W5(t){t=ef(t,iC);let e=ef(t.firestore,nf),n=L5(e),i=new kM(e);return toe(t._query),qre(n,t._query).then(r=>new OM(e,i,t,r))}function q5(t,e,n){t=ef(t,Kr);let i=ef(t.firestore,nf),r=noe(t.converter,e,n);return Y5(i,[Xre(Qre(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ec.none())])}function K5(t){return Y5(ef(t.firestore,nf),[new Zg(t._key,Ec.none())])}function Y5(t,e){return function(i,r){let o=new Ro;return i.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Rre(yield zre(i),r,o)})),o.promise}(L5(t),e)}(function(e,n=!0){(function(r){rf=r})(To),So(new Ni("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),l=new nf(new tA(i.getProvider("auth-internal")),new oA(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vb(f.options.projectId,p)}(a,r),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),un(h4,"4.4.3",e),un(h4,"4.4.3","esm2017")})();var yu=class{constructor(e){return e}},Q5="firestore",YM=class{constructor(){return Sm(Q5)}};var QM=new we("angularfire2.firestore-instances");function roe(t,e){let n=bw(Q5,t,e);return n&&new yu(n)}function ooe(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new yu(i)}}var soe={provide:YM,deps:[[new Ji,QM]]},aoe={provide:yu,useFactory:roe,deps:[[new Ji,QM],ca]},coe=(()=>{class t{constructor(){un("angularfire",$l.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Qi({type:t});static \u0275inj=Xi({providers:[aoe,soe]})}return t})();function X5(t,...e){return{ngModule:coe,providers:[{provide:QM,useFactory:ooe(t),multi:!0,deps:[Et,ln,mh,Hl,[new Ji,wg],[new Ji,ph],...e]}]}}var J5=Do(R5,!0);var Z5=Do(K5,!0);var XM=Do(N5,!0);var e9=Do(W5,!0);var t9=Do(F5,!0);var n9=Do(q5,!0);var eP=class extends rw{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tP=class t extends eP{static makeCurrent(){Kj(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=uoe();return n==null?null:doe(n)}resetBaseElement(){dv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ow(document.cookie,e)}},dv=null;function uoe(){return dv=dv||document.querySelector("base"),dv?dv.getAttribute("href"):null}function doe(t){return new URL(t,document.baseURI).pathname}var hoe=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),nP=new we(""),o9=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(ae(nP),ae(Et))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),fC=class{constructor(e){this._doc=e}},JM="ng-app-id",s9=(()=>{let e=class e{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dm(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${JM}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(JM),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(JM,this.appId),i.appendChild(l),l}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ae(Ii),ae(iT),ae(sT,8),ae(Br))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),ZM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rP=/%COMP%/g,a9="%COMP%",foe=`_nghost-${a9}`,poe=`_ngcontent-${a9}`,moe=!0,goe=new we("",{providedIn:"root",factory:()=>moe});function voe(t){return poe.replace(rP,t)}function yoe(t){return foe.replace(rP,t)}function c9(t,e){return e.map(n=>n.replace(rP,t))}var pC=(()=>{let e=class e{constructor(i,r,o,a,l,d,f,p=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=f,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=dm(d),this.defaultRenderer=new hv(i,l,f,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ts.ShadowDom&&(r=xt(re({},r),{encapsulation:ts.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof mC?o.applyToHost(i):o instanceof fv&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,f=this.eventManager,p=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(r.encapsulation){case ts.Emulated:a=new mC(f,p,r,this.appId,v,l,d,w);break;case ts.ShadowDom:return new iP(f,p,i,r,l,d,this.nonce,w);default:a=new fv(f,p,r,v,l,d,w);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ae(o9),ae(s9),ae(iT),ae(goe),ae(Ii),ae(Br),ae(Et),ae(sT))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),hv=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ZM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(i9(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(i9(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new te(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=ZM[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=ZM[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xs.DashCase|Xs.Important)?e.style.setProperty(n,i,r&Xs.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=oa().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function i9(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var iP=class extends hv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=c9(r.id,r.styles);for(let p of f){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=p,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fv=class extends hv{constructor(e,n,i,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?c9(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},mC=class extends fv{constructor(e,n,i,r,o,a,l,d){let f=r+"-"+i.id;super(e,n,i,o,a,l,d,f),this.contentAttr=voe(f),this.hostAttr=yoe(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},_oe=(()=>{let e=class e extends fC{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(ae(Ii))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),r9=["alt","control","meta","shift"],woe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},boe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Coe=(()=>{let e=class e extends fC{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oa().onAndCancel(i,a.domEventName,l))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),r9.forEach(p=>{let v=r.indexOf(p);v>-1&&(r.splice(v,1),l+=p+".")}),l+=a,r.length!=0||a.length===0)return null;let f={};return f.domEventName=o,f.fullKey=l,f}static matchEventFullKeyCode(i,r){let o=woe[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),r9.forEach(l=>{if(l!==o){let d=boe[l];d(i)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{e.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(ae(Ii))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function l9(t,e){return Bj(re({rootComponent:t},Eoe(e)))}function Eoe(t){return{appProviders:[...xoe,...t?.providers??[]],platformProviders:Doe}}function Ioe(){tP.makeCurrent()}function Soe(){return new os}function Toe(){return LL(document),document}var Doe=[{provide:Br,useValue:Jj},{provide:rT,useValue:Ioe,multi:!0},{provide:Ii,useFactory:Toe,deps:[]}];var xoe=[{provide:U0,useValue:"root"},{provide:os,useFactory:Soe,deps:[]},{provide:nP,useClass:_oe,multi:!0,deps:[Ii,Et,Br]},{provide:nP,useClass:Coe,multi:!0,deps:[Ii]},pC,s9,o9,{provide:Sl,useExisting:pC},{provide:lh,useClass:hoe,deps:[]},[]];var u9=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(ae(Ii))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=ae(Aoe),o},providedIn:"root"});let t=e;return t})(),Aoe=(()=>{let e=class e extends oP{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case as.NONE:return r;case as.HTML:return ac(r,"HTML")?$r(r):TV(this._doc,String(r)).toString();case as.STYLE:return ac(r,"Style")?$r(r):r;case as.SCRIPT:if(ac(r,"Script"))return $r(r);throw new te(5200,!1);case as.URL:return ac(r,"URL")?$r(r):G0(String(r));case as.RESOURCE_URL:if(ac(r,"ResourceURL"))return $r(r);throw new te(5201,!1);default:throw new te(5202,!1)}}bypassSecurityTrustHtml(i){return vV(i)}bypassSecurityTrustStyle(i){return yV(i)}bypassSecurityTrustScript(i){return _V(i)}bypassSecurityTrustUrl(i){return wV(i)}bypassSecurityTrustResourceUrl(i){return bV(i)}};e.\u0275fac=function(r){return new(r||e)(ae(Ii))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Qe||{}),Ts="*";function Yr(t,e){return{type:Qe.Trigger,name:t,definitions:e,options:{}}}function ti(t,e=null){return{type:Qe.Animate,styles:e,timings:t}}function h9(t,e=null){return{type:Qe.Sequence,steps:t,options:e}}function ot(t){return{type:Qe.Style,styles:t,offset:null}}function f9(t,e,n){return{type:Qe.State,name:t,styles:e,options:n}}function Ln(t,e,n=null){return{type:Qe.Transition,expr:t,animation:e,options:n}}var Ac=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},pv=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},gC="!";function p9(t){return new te(3e3,!1)}function Moe(){return new te(3100,!1)}function Poe(){return new te(3101,!1)}function Ooe(t){return new te(3001,!1)}function koe(t){return new te(3003,!1)}function Roe(t){return new te(3004,!1)}function Noe(t,e){return new te(3005,!1)}function Foe(){return new te(3006,!1)}function Loe(){return new te(3007,!1)}function Voe(t,e){return new te(3008,!1)}function joe(t){return new te(3002,!1)}function Uoe(t,e,n,i,r){return new te(3010,!1)}function Boe(){return new te(3011,!1)}function $oe(){return new te(3012,!1)}function Hoe(){return new te(3200,!1)}function Goe(){return new te(3202,!1)}function zoe(){return new te(3013,!1)}function Woe(t){return new te(3014,!1)}function qoe(t){return new te(3015,!1)}function Koe(t){return new te(3016,!1)}function Yoe(t,e){return new te(3404,!1)}function Qoe(t){return new te(3502,!1)}function Xoe(t){return new te(3503,!1)}function Joe(){return new te(3300,!1)}function Zoe(t){return new te(3504,!1)}function ese(t){return new te(3301,!1)}function tse(t,e){return new te(3302,!1)}function nse(t){return new te(3303,!1)}function ise(t,e){return new te(3400,!1)}function rse(t){return new te(3401,!1)}function ose(t){return new te(3402,!1)}function sse(t,e){return new te(3505,!1)}function Mc(t){switch(t.length){case 0:return new Ac;case 1:return t[0];default:return new pv(t)}}function x9(t,e,n=new Map,i=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let f=d.get("offset"),p=f==a,v=p&&l||new Map;d.forEach((w,E)=>{let C=E,S=w;if(E!=="offset")switch(C=t.normalizePropertyName(C,r),S){case gC:S=n.get(E);break;case Ts:S=i.get(E);break;default:S=t.normalizeStyleValue(E,C,S,r);break}v.set(C,S)}),p||o.push(v),l=v,a=f}),r.length)throw Qoe(r);return o}function xP(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&sP(n,"start",t)));break;case"done":t.onDone(()=>i(n&&sP(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&sP(n,"destroy",t)));break}}function sP(t,e,n){let i=n.totalTime,r=!!n.disabled,o=AP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function AP(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ar(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function m9(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var ase=typeof document>"u"?null:document.documentElement;function MP(t){let e=t.parentNode||t.host||null;return e===ase?null:e}function cse(t){return t.substring(1,6)=="ebkit"}var _u=null,g9=!1;function lse(t){_u||(_u=use()||{},g9=_u.style?"WebkitAppearance"in _u.style:!1);let e=!0;return _u.style&&!cse(t)&&(e=t in _u.style,!e&&g9&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _u.style)),e}function use(){return typeof document<"u"?document.body:null}function A9(t,e){for(;e;){if(e===t)return!0;e=MP(e)}return!1}function M9(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var PP=(()=>{let e=class e{validateStyleProperty(i){return lse(i)}matchesElement(i,r){return!1}containsElement(i,r){return A9(i,r)}getParentElement(i){return MP(i)}query(i,r,o){return M9(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,a,l,d=[],f){return new Ac(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})(),NP=class NP{};NP.NOOP=new PP;var Cu=NP,Eu=class{};var dse=1e3,P9="{{",hse="}}",O9="ng-enter",hP="ng-leave",vC="ng-trigger",CC=".ng-trigger",v9="ng-animating",fP=".ng-animating";function _a(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pP(parseFloat(e[1]),e[2])}function pP(t,e){switch(e){case"s":return t*dse;default:return t}}function EC(t,e,n){return t.hasOwnProperty("duration")?t:fse(t,e,n)}function fse(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let l=t.match(i);if(l===null)return e.push(p9(t)),{duration:0,delay:0,easing:""};r=pP(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=pP(parseFloat(d),l[4]));let f=l[5];f&&(a=f)}else r=t;if(!n){let l=!1,d=e.length;r<0&&(e.push(Moe()),l=!0),o<0&&(e.push(Poe()),l=!0),l&&e.splice(d,0,p9(t))}return{duration:r,delay:o,easing:a}}function pse(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ds(t,e,n){e.forEach((i,r)=>{let o=OP(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function bu(t,e){e.forEach((n,i)=>{let r=OP(i);t.style[r]=""})}function mv(t){return Array.isArray(t)?t.length==1?t[0]:h9(t):t}function mse(t,e,n){let i=e.params||{},r=k9(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(Ooe(o))})}var mP=new RegExp(`${P9}\\s*(.+?)\\s*${hse}`,"g");function k9(t){let e=[];if(typeof t=="string"){let n;for(;n=mP.exec(t);)e.push(n[1]);mP.lastIndex=0}return e}function vv(t,e,n){let i=`${t}`,r=i.replace(mP,(o,a)=>{let l=e[a];return l==null&&(n.push(koe(a)),l=""),l.toString()});return r==i?t:r}var gse=/-+([a-z0-9])/g;function OP(t){return t.replace(gse,(...e)=>e[1].toUpperCase())}function vse(t,e){return t===0||e===0}function yse(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,kP(t,l)))}}return e}function xr(t,e,n){switch(e.type){case Qe.Trigger:return t.visitTrigger(e,n);case Qe.State:return t.visitState(e,n);case Qe.Transition:return t.visitTransition(e,n);case Qe.Sequence:return t.visitSequence(e,n);case Qe.Group:return t.visitGroup(e,n);case Qe.Animate:return t.visitAnimate(e,n);case Qe.Keyframes:return t.visitKeyframes(e,n);case Qe.Style:return t.visitStyle(e,n);case Qe.Reference:return t.visitReference(e,n);case Qe.AnimateChild:return t.visitAnimateChild(e,n);case Qe.AnimateRef:return t.visitAnimateRef(e,n);case Qe.Query:return t.visitQuery(e,n);case Qe.Stagger:return t.visitStagger(e,n);default:throw Roe(e.type)}}function kP(t,e){return window.getComputedStyle(t)[e]}var _se=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),IC=class extends Eu{normalizePropertyName(e,n){return OP(e)}normalizeStyleValue(e,n,i,r){let o="",a=i.toString().trim();if(_se.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(Noe(e,i))}return a+o}};var SC="*";function wse(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>bse(i,n,e)):n.push(t),n}function bse(t,e,n){if(t[0]==":"){let d=Cse(t,n);if(typeof d=="function"){e.push(d);return}t=d}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(qoe(t)),e;let r=i[1],o=i[2],a=i[3];e.push(y9(r,a));let l=r==SC&&a==SC;o[0]=="<"&&!l&&e.push(y9(a,r))}function Cse(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(Koe(t)),"* => *"}}var yC=new Set(["true","1"]),_C=new Set(["false","0"]);function y9(t,e){let n=yC.has(t)||_C.has(t),i=yC.has(e)||_C.has(e);return(r,o)=>{let a=t==SC||t==r,l=e==SC||e==o;return!a&&n&&typeof r=="boolean"&&(a=r?yC.has(t):_C.has(t)),!l&&i&&typeof o=="boolean"&&(l=o?yC.has(e):_C.has(e)),a&&l}}var R9=":self",Ese=new RegExp(`s*${R9}s*,?`,"g");function N9(t,e,n,i){return new gP(t).build(e,n,i)}var _9="",gP=class{constructor(e){this._driver=e}build(e,n,i){let r=new vP(n);return this._resetContextStyleTimingState(r),xr(this,mv(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=_9,e.collectedStyles=new Map,e.collectedStyles.set(_9,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&n.errors.push(Foe()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),l.type==Qe.State){let d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(p=>{d.name=p,o.push(this.visitState(d,n))}),d.name=f}else if(l.type==Qe.Transition){let d=this.visitTransition(l,n);i+=d.queryCount,r+=d.depCount,a.push(d)}else n.errors.push(Loe())}),{type:Qe.Trigger,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,a=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{k9(d).forEach(f=>{a.hasOwnProperty(f)||o.add(f)})})}),o.size&&n.errors.push(Voe(e.name,[...o.values()]))}return{type:Qe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=xr(this,mv(e.animation),n),r=wse(e.expr,n.errors);return{type:Qe.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:wu(e.options)}}visitSequence(e,n){return{type:Qe.Sequence,steps:e.steps.map(i=>xr(this,i,n)),options:wu(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(a=>{n.currentTime=i;let l=xr(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:Qe.Group,steps:o,options:wu(e.options)}}visitAnimate(e,n){let i=Dse(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:ot({});if(o.type==Qe.Keyframes)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;let f={};i.easing&&(f.easing=i.easing),a=ot(f)}n.currentTime+=i.duration+i.delay;let d=this.visitStyle(a,n);d.isEmptyStep=l,r=d}return n.currentAnimateTimings=null,{type:Qe.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Ts?i.push(l):n.errors.push(joe(l)):i.push(new Map(Object.entries(l)));let o=!1,a=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(P9)>=0){o=!0;break}}}),{type:Qe.Style,styles:i,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let f=n.collectedStyles.get(n.currentQuerySelector),p=f.get(d),v=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(n.errors.push(Uoe(d,p.startTime,p.endTime,o,r)),v=!1),o=p.startTime),v&&f.set(d,{startTime:o,endTime:r}),n.options&&mse(l,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Qe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Boe()),i;let r=1,o=0,a=[],l=!1,d=!1,f=0,p=e.steps.map(k=>{let V=this._makeStyleAst(k,n),G=V.offset!=null?V.offset:Tse(V.styles),A=0;return G!=null&&(o++,A=V.offset=G),d=d||A<0||A>1,l=l||A<f,f=A,a.push(A),V});d&&n.errors.push($oe()),l&&n.errors.push(Hoe());let v=e.steps.length,w=0;o>0&&o<v?n.errors.push(Goe()):o==0&&(w=r/(v-1));let E=v-1,C=n.currentTime,S=n.currentAnimateTimings,x=S.duration;return p.forEach((k,V)=>{let G=w>0?V==E?1:w*V:a[V],A=G*x;n.currentTime=C+S.delay+A,S.duration=A,this._validateStyleAst(k,n),k.offset=G,i.styles.push(k)}),i}visitReference(e,n){return{type:Qe.Reference,animation:xr(this,mv(e.animation),n),options:wu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Qe.AnimateChild,options:wu(e.options)}}visitAnimateRef(e,n){return{type:Qe.AnimateRef,animation:this.visitReference(e.animation,n),options:wu(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,a]=Ise(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Ar(n.collectedStyles,n.currentQuerySelector,new Map);let l=xr(this,mv(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Qe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:wu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(zoe());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:EC(e.timings,n.errors,!0);return{type:Qe.Stagger,animation:xr(this,mv(e.animation),n),timings:i,options:null}}};function Ise(t){let e=!!t.split(/\s*,\s*/).find(n=>n==R9);return e&&(t=t.replace(Ese,"")),t=t.replace(/@\*/g,CC).replace(/@\w+/g,n=>CC+"-"+n.slice(1)).replace(/:animating/g,fP),[t,e]}function Sse(t){return t?re({},t):null}var vP=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Tse(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Dse(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=EC(t,e).duration;return aP(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=aP(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=EC(n,e);return aP(r.duration,r.delay,r.easing)}function wu(t){return t?(t=re({},t),t.params&&(t.params=Sse(t.params))):t={},t}function aP(t,e,n){return{duration:t,delay:e,easing:n}}function RP(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var yv=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},xse=1,Ase=":enter",Mse=new RegExp(Ase,"g"),Pse=":leave",Ose=new RegExp(Pse,"g");function F9(t,e,n,i,r,o=new Map,a=new Map,l,d,f=[]){return new yP().buildKeyframes(t,e,n,i,r,o,a,l,d,f)}var yP=class{buildKeyframes(e,n,i,r,o,a,l,d,f,p=[]){f=f||new yv;let v=new _P(e,n,f,r,o,p,[]);v.options=d;let w=d.delay?_a(d.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([a],null,v.errors,d),xr(this,i,v);let E=v.timelines.filter(C=>C.containsAnimation());if(E.length&&l.size){let C;for(let S=E.length-1;S>=0;S--){let x=E[S];if(x.element===n){C=x;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([l],null,v.errors,d)}return E.length?E.map(C=>C.buildKeyframes()):[RP(n,[],[],[],0,w,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:_a(vv(o,r?.params??{},n.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,a=i.duration!=null?_a(i.duration):null,l=i.delay!=null?_a(i.delay):null;return a!==0&&e.forEach(d=>{let f=n.appendInstructionToTimeline(d,a,l);o=Math.max(o,f.duration+f.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),xr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Qe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TC);let a=_a(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>xr(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?_a(e.options.delay):0;e.steps.forEach(a=>{let l=n.createSubContext(e.options);o&&l.delayNextStep(o),xr(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?vv(i,n.params,n.errors):i;return EC(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Qe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let f=d.offset||0;l.forwardTime(f*o),l.setStyles(d.styles,d.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?_a(r.delay):0;o&&(n.previousNode.type===Qe.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=TC);let a=i,l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let d=null;l.forEach((f,p)=>{n.currentQueryIndex=p;let v=n.createSubContext(e.options,f);o&&v.delayNextStep(o),f===n.element&&(d=v.currentTimeline),xr(this,e.animation,v),v.currentTimeline.applyStylesToKeyframe();let w=v.currentTimeline.currentTime;a=Math.max(a,w)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),d&&(n.currentTimeline.mergeTimelineCollectedStyles(d),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1),d=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let p=n.currentTimeline;d&&p.delayNextStep(d);let v=p.currentTime;xr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-v+(r.startTime-i.currentTimeline.startTime)}},TC={},_P=class t{constructor(e,n,i,r,o,a,l,d){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new DC(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=_a(i.duration)),i.delay!=null&&(r.delay=_a(i.delay));let o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=vv(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=TC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new wP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(Mse,"."+this._enterClassName),e=e.replace(Ose,"."+this._leaveClassName);let d=i!=1,f=this._driver.query(this.element,e,d);i!==0&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!o&&l.length==0&&a.push(Woe(n)),l}},DC=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xse,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Ts),this._currentKeyframe.set(n,Ts);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},a=kse(e,this._globalTimelineStyles);for(let[l,d]of a){let f=vv(d,o,i);this._pendingStyles.set(l,f),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ts),this._updateStyle(l,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let f=new Map([...this._backFill,...l]);f.forEach((p,v)=>{p===gC?e.add(v):p===Ts&&n.add(v)}),i||f.set("offset",d/this.duration),r.push(f)});let o=[...e.values()],a=[...n.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return RP(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},wP=class extends DC{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],a=i+n,l=n/a,d=new Map(e[0]);d.set("offset",0),o.push(d);let f=new Map(e[0]);f.set("offset",w9(l)),o.push(f);let p=e.length-1;for(let v=1;v<=p;v++){let w=new Map(e[v]),E=w.get("offset"),C=n+E*i;w.set("offset",w9(C/a)),o.push(w)}i=a,n=0,r="",e=o}return RP(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function w9(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function kse(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Ts)}else for(let[o,a]of r)n.set(o,a)}),n}function b9(t,e,n,i,r,o,a,l,d,f,p,v,w){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:p,totalTime:v,errors:w}}var cP={},xC=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return Rse(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,a,l,d,f,p){let v=[],w=this.ast.options&&this.ast.options.params||cP,E=l&&l.params||cP,C=this.buildStyles(i,E,v),S=d&&d.params||cP,x=this.buildStyles(r,S,v),k=new Set,V=new Map,G=new Map,A=r==="void",ie={params:L9(S,w),delay:this.ast.options?.delay},B=p?[]:F9(e,n,this.ast.animation,o,a,C,x,ie,f,v),se=0;return B.forEach(Ee=>{se=Math.max(Ee.duration+Ee.delay,se)}),v.length?b9(n,this._triggerName,i,r,A,C,x,[],[],V,G,se,v):(B.forEach(Ee=>{let We=Ee.element,et=Ar(V,We,new Set);Ee.preStyleProps.forEach(ze=>et.add(ze));let Ie=Ar(G,We,new Set);Ee.postStyleProps.forEach(ze=>Ie.add(ze)),We!==n&&k.add(We)}),b9(n,this._triggerName,i,r,A,C,x,B,[...k.values()],V,G,se))}};function Rse(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function L9(t,e){let n=re({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var bP=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=L9(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=vv(a,r,n));let d=this.normalizer.normalizePropertyName(l,n);a=this.normalizer.normalizeStyleValue(l,d,a,n),i.set(l,a)})}),i}};function Nse(t,e,n){return new CP(t,e,n)}var CP=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new bP(r.style,o,i))}),C9(this.states,"true","1"),C9(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new xC(e,r,this.states))}),this.fallbackTransition=Fse(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function Fse(t,e,n){let i=[(a,l)=>!0],r={type:Qe.Sequence,steps:[],options:null},o={type:Qe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new xC(t,o,e)}function C9(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Lse=new yv,EP=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=N9(this._driver,n,i,r);if(i.length)throw Xoe(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=x9(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=F9(this._driver,n,o,O9,hP,new Map,new Map,i,Lse,r),a.forEach(p=>{let v=Ar(l,p.element,new Map);p.postStyleProps.forEach(w=>v.set(w,null))})):(r.push(Joe()),a=[]),r.length)throw Zoe(r);l.forEach((p,v)=>{p.forEach((w,E)=>{p.set(E,this._driver.computeStyle(v,E,Ts))})});let d=a.map(p=>{let v=l.get(p.element);return this._buildPlayer(p,new Map,v)}),f=Mc(d);return this._playersById.set(e,f),f.onDestroy(()=>this.destroy(e)),this.players.push(f),f}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw ese(e);return n}listen(e,n,i,r){let o=AP(n,"","","");return xP(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let a=r[0]||{};this.create(e,n,a);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},E9="ng-animate-queued",Vse=".ng-animate-queued",lP="ng-animate-disabled",jse=".ng-animate-disabled",Use="ng-star-inserted",Bse=".ng-star-inserted",$se=[],V9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fo="__ng_removed",_v=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=zse(r),i){let o=e,{value:a}=o,l=iS(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},gv="void",uP=new _v(gv),IP=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw tse(i,n);if(i==null||i.length==0)throw nse(n);if(!Wse(i))throw ise(i,n);let o=Ar(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);let l=Ar(this._engine.statesByElement,e,new Map);return l.has(n)||(Qr(e,vC),Qr(e,vC+"-"+n),l.set(n,uP)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(n)||l.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw rse(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),a=new wv(this.id,n,e),l=this._engine.statesByElement.get(e);l||(Qr(e,vC),Qr(e,vC+"-"+n),this._engine.statesByElement.set(e,l=new Map));let d=l.get(n),f=new _v(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l.set(n,f),d||(d=uP),!(f.value===gv)&&d.value===f.value){if(!Yse(d.params,f.params)){let S=[],x=o.matchStyles(d.value,d.params,S),k=o.matchStyles(f.value,f.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{bu(e,x),Ds(e,k)})}return}let w=Ar(this._engine.playersByElement,e,[]);w.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let E=o.matchTransition(d.value,f.value,e,f.params),C=!1;if(!E){if(!r)return;E=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:E,fromState:d,toState:f,player:a,isFallbackTransition:C}),C||(Qr(e,E9),a.onStart(()=>{af(e,E9)})),a.onDone(()=>{let S=this.players.indexOf(a);S>=0&&this.players.splice(S,1);let x=this._engine.playersByElement.get(e);if(x){let k=x.indexOf(a);k>=0&&x.splice(k,1)}}),this.players.push(a),w.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,CC,!0);i.forEach(r=>{if(r[Fo])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,f)=>{if(a.set(f,d.value),this._triggers.has(f)){let p=this.trigger(e,f,gv,r);p&&l.push(p)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,a),i&&Mc(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,f=i.get(a)||uP,p=new _v(gv),v=new wv(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:f,toState:p,player:v,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Fo];(!o||o===V9)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Qr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){let d=AP(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,xP(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},SP=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i,r){this.bodyNode=e,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new IP(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,l=this.driver.getParentElement(n);for(;l;){let d=r.get(l);if(d){let f=i.indexOf(d);i.splice(f+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(wC(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!wC(n))return;let o=n[Fo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qr(e,lP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),af(e,lP))}removeNode(e,n,i){if(wC(n)){this.scheduler?.notify();let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Fo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return wC(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,CC,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,fP,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mc(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Fo];if(n&&n.setForRemoval){if(e[Fo]=V9,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(lP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,jse,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Qr(r,Use)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Mc(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw ose(e)}_flushAnimations(e,n){let i=new yv,r=[],o=new Map,a=[],l=new Map,d=new Map,f=new Map,p=new Set;this.disabledNodes.forEach(H=>{p.add(H);let oe=this.driver.query(H,Vse,!0);for(let pe=0;pe<oe.length;pe++)p.add(oe[pe])});let v=this.bodyNode,w=Array.from(this.statesByElement.keys()),E=T9(w,this.collectedEnterElements),C=new Map,S=0;E.forEach((H,oe)=>{let pe=O9+S++;C.set(oe,pe),H.forEach(Oe=>Qr(Oe,pe))});let x=[],k=new Set,V=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let oe=this.collectedLeaveElements[H],pe=oe[Fo];pe&&pe.setForRemoval&&(x.push(oe),k.add(oe),pe.hasAnimation?this.driver.query(oe,Bse,!0).forEach(Oe=>k.add(Oe)):V.add(oe))}let G=new Map,A=T9(w,Array.from(k));A.forEach((H,oe)=>{let pe=hP+S++;G.set(oe,pe),H.forEach(Oe=>Qr(Oe,pe))}),e.push(()=>{E.forEach((H,oe)=>{let pe=C.get(oe);H.forEach(Oe=>af(Oe,pe))}),A.forEach((H,oe)=>{let pe=G.get(oe);H.forEach(Oe=>af(Oe,pe))}),x.forEach(H=>{this.processLeaveNode(H)})});let ie=[],B=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(n).forEach(pe=>{let Oe=pe.player,st=pe.element;if(ie.push(Oe),this.collectedEnterElements.length){let mt=st[Fo];if(mt&&mt.setForMove){if(mt.previousTriggersValues&&mt.previousTriggersValues.has(pe.triggerName)){let jn=mt.previousTriggersValues.get(pe.triggerName),an=this.statesByElement.get(pe.element);if(an&&an.has(pe.triggerName)){let $i=an.get(pe.triggerName);$i.value=jn,an.set(pe.triggerName,$i)}}Oe.destroy();return}}let An=!v||!this.driver.containsElement(v,st),Nt=G.get(st),ri=C.get(st),yt=this._buildInstruction(pe,i,ri,Nt,An);if(yt.errors&&yt.errors.length){B.push(yt);return}if(An){Oe.onStart(()=>bu(st,yt.fromStyles)),Oe.onDestroy(()=>Ds(st,yt.toStyles)),r.push(Oe);return}if(pe.isFallbackTransition){Oe.onStart(()=>bu(st,yt.fromStyles)),Oe.onDestroy(()=>Ds(st,yt.toStyles)),r.push(Oe);return}let Mi=[];yt.timelines.forEach(mt=>{mt.stretchStartingKeyframe=!0,this.disabledNodes.has(mt.element)||Mi.push(mt)}),yt.timelines=Mi,i.append(st,yt.timelines);let pr={instruction:yt,player:Oe,element:st};a.push(pr),yt.queriedElements.forEach(mt=>Ar(l,mt,[]).push(Oe)),yt.preStyleProps.forEach((mt,jn)=>{if(mt.size){let an=d.get(jn);an||d.set(jn,an=new Set),mt.forEach(($i,Fr)=>an.add(Fr))}}),yt.postStyleProps.forEach((mt,jn)=>{let an=f.get(jn);an||f.set(jn,an=new Set),mt.forEach(($i,Fr)=>an.add(Fr))})});if(B.length){let H=[];B.forEach(oe=>{H.push(sse(oe.triggerName,oe.errors))}),ie.forEach(oe=>oe.destroy()),this.reportError(H)}let se=new Map,Ee=new Map;a.forEach(H=>{let oe=H.element;i.has(oe)&&(Ee.set(oe,oe),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,se))}),r.forEach(H=>{let oe=H.element;this._getPreviousPlayers(oe,!1,H.namespaceId,H.triggerName,null).forEach(Oe=>{Ar(se,oe,[]).push(Oe),Oe.destroy()})});let We=x.filter(H=>D9(H,d,f)),et=new Map;S9(et,this.driver,V,f,Ts).forEach(H=>{D9(H,d,f)&&We.push(H)});let ze=new Map;E.forEach((H,oe)=>{S9(ze,this.driver,new Set(H),d,gC)}),We.forEach(H=>{let oe=et.get(H),pe=ze.get(H);et.set(H,new Map([...oe?.entries()??[],...pe?.entries()??[]]))});let Te=[],sn=[],Xe={};a.forEach(H=>{let{element:oe,player:pe,instruction:Oe}=H;if(i.has(oe)){if(p.has(oe)){pe.onDestroy(()=>Ds(oe,Oe.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Oe.totalTime),r.push(pe);return}let st=Xe;if(Ee.size>1){let Nt=oe,ri=[];for(;Nt=Nt.parentNode;){let yt=Ee.get(Nt);if(yt){st=yt;break}ri.push(Nt)}ri.forEach(yt=>Ee.set(yt,st))}let An=this._buildAnimation(pe.namespaceId,Oe,se,o,ze,et);if(pe.setRealPlayer(An),st===Xe)Te.push(pe);else{let Nt=this.playersByElement.get(st);Nt&&Nt.length&&(pe.parentPlayer=Mc(Nt)),r.push(pe)}}else bu(oe,Oe.fromStyles),pe.onDestroy(()=>Ds(oe,Oe.toStyles)),sn.push(pe),p.has(oe)&&r.push(pe)}),sn.forEach(H=>{let oe=o.get(H.element);if(oe&&oe.length){let pe=Mc(oe);H.setRealPlayer(pe)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<x.length;H++){let oe=x[H],pe=oe[Fo];if(af(oe,hP),pe&&pe.hasAnimation)continue;let Oe=[];if(l.size){let An=l.get(oe);An&&An.length&&Oe.push(...An);let Nt=this.driver.query(oe,fP,!0);for(let ri=0;ri<Nt.length;ri++){let yt=l.get(Nt[ri]);yt&&yt.length&&Oe.push(...yt)}}let st=Oe.filter(An=>!An.destroyed);st.length?qse(this,oe,st):this.processLeaveNode(oe)}return x.length=0,Te.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let oe=this.players.indexOf(H);this.players.splice(oe,1)}),H.play()}),Te}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==gv;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:r;for(let d of n.timelines){let f=d.element,p=f!==o,v=Ar(i,f,[]);this._getPreviousPlayers(f,p,a,l,n.toState).forEach(E=>{let C=E.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),E.destroy(),v.push(E)})}bu(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){let l=n.triggerName,d=n.element,f=[],p=new Set,v=new Set,w=n.timelines.map(C=>{let S=C.element;p.add(S);let x=S[Fo];if(x&&x.removedBeforeQueried)return new Ac(C.duration,C.delay);let k=S!==d,V=Kse((i.get(S)||$se).map(se=>se.getRealPlayer())).filter(se=>{let Ee=se;return Ee.element?Ee.element===S:!1}),G=o.get(S),A=a.get(S),ie=x9(this._normalizer,C.keyframes,G,A),B=this._buildPlayer(C,ie,V);if(C.subTimeline&&r&&v.add(S),k){let se=new wv(e,l,S);se.setRealPlayer(B),f.push(se)}return B});f.forEach(C=>{Ar(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>Gse(this.playersByQueriedElement,C.element,C))}),p.forEach(C=>Qr(C,v9));let E=Mc(w);return E.onDestroy(()=>{p.forEach(C=>af(C,v9)),Ds(d,n.toStyles)}),v.forEach(C=>{Ar(r,C,[]).push(E)}),E}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Ac(e.duration,e.delay)}},wv=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Ac,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>xP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Ar(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function Gse(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function zse(t){return t??null}function wC(t){return t&&t.nodeType===1}function Wse(t){return t=="start"||t=="done"}function I9(t,e){let n=t.style.display;return t.style.display=e??"none",n}function S9(t,e,n,i,r){let o=[];n.forEach(d=>o.push(I9(d)));let a=[];i.forEach((d,f)=>{let p=new Map;d.forEach(v=>{let w=e.computeStyle(f,v,r);p.set(v,w),(!w||w.length==0)&&(f[Fo]=Hse,a.push(f))}),t.set(f,p)});let l=0;return n.forEach(d=>I9(d,o[l++])),a}function T9(t,e){let n=new Map;if(t.forEach(l=>n.set(l,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function a(l){if(!l)return i;let d=o.get(l);if(d)return d;let f=l.parentNode;return n.has(f)?d=f:r.has(f)?d=i:d=a(f),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==i&&n.get(d).push(l)}),n}function Qr(t,e){t.classList?.add(e)}function af(t,e){t.classList?.remove(e)}function qse(t,e,n){Mc(n).onDone(()=>t.processLeaveNode(e))}function Kse(t){let e=[];return j9(t,e),e}function j9(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof pv?j9(i.players,e):e.push(i)}}function Yse(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function D9(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var lf=class{constructor(e,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,a)=>{},this._transitionEngine=new SP(e.body,n,i,r),this._timelineEngine=new EP(e.body,n,i),this._transitionEngine.onRemovalComplete=(o,a)=>this.onRemovalComplete(o,a)}registerTrigger(e,n,i,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],f=[],p=N9(this._driver,o,d,f);if(d.length)throw Yoe(r,d);f.length&&void 0,l=Nse(r,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,a]=m9(i),l=r;this._timelineEngine.command(o,n,a,l)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[a,l]=m9(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Qse(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=dP(e[0]),e.length>1&&(i=dP(e[e.length-1]))):e instanceof Map&&(n=dP(e)),n||i?new TP(t,n,i):null}var cf=class cf{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=cf.initialStylesByElement.get(e);r||cf.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ds(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ds(this._element,this._initialStyles),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(cf.initialStylesByElement.delete(this._element),this._startStyles&&(bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),Ds(this._element,this._initialStyles),this._state=3)}};cf.initialStylesByElement=new WeakMap;var TP=cf;function dP(t){let e=null;return t.forEach((n,i)=>{Xse(i)&&(e=e||new Map,e.set(i,n))}),e}function Xse(t){return t==="display"||t==="position"}var AC=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:kP(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},MC=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return A9(e,n)}getParentElement(e){return MP(e)}query(e,n,i){return M9(e,n,i)}computeStyle(e,n,i){return kP(e,n)}animate(e,n,i,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let f=new Map,p=a.filter(E=>E instanceof AC);vse(i,r)&&p.forEach(E=>{E.currentSnapshot.forEach((C,S)=>f.set(S,C))});let v=pse(n).map(E=>new Map(E));v=yse(e,v,f);let w=Qse(e,v);return new AC(e,v,d,w)}};var bC="@",U9="@.disabled",PC=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==bC&&n==U9?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},DP=class extends PC{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==bC?n.charAt(1)=="."&&n==U9?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==bC){let r=Jse(e),o=n.slice(1),a="";return o.charAt(0)!=bC&&([o,a]=Zse(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,n,i)}};function Jse(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Zse(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var OC=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let f=this._rendererCache,p=f.get(r);if(!p){let v=()=>f.delete(r);p=new PC(i,r,this.engine,v),f.set(r,p)}return p}let o=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(o,a,e,f.name,f)};return n.data.animation.forEach(l),new DP(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var tae=(()=>{let e=class e extends lf{constructor(i,r,o){super(i,r,o,ee(Zp,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(ae(Ii),ae(Cu),ae(Eu))},e.\u0275prov=ne({token:e,factory:e.\u0275fac});let t=e;return t})();function nae(){return new IC}function iae(t,e,n){return new OC(t,e,n)}var B9=[{provide:Eu,useFactory:nae},{provide:lf,useClass:tae},{provide:Sl,useFactory:iae,deps:[pC,lf,Et]}],rae=[{provide:Cu,useFactory:()=>new MC},{provide:oT,useValue:"BrowserAnimations"},...B9],sIe=[{provide:Cu,useClass:PP},{provide:oT,useValue:"NoopAnimations"},...B9];function $9(){return xl("NgEagerAnimations"),[...rae]}var Ze="primary",Nv=Symbol("RouteTitle"),UP=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function pf(t){return new UP(t)}function oae(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function sae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xs(t[n],e[n]))return!1;return!0}function xs(t,e){let n=t?BP(t):void 0,i=e?BP(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!K9(t[r],e[r]))return!1;return!0}function BP(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function K9(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function Y9(t){return t.length>0?t[t.length-1]:null}function kc(t){return CS(t)?t:Ol(t)?Qt(Promise.resolve(t)):Ne(t)}var aae={exact:X9,subset:J9},Q9={exact:cae,subset:lae,ignored:()=>!0};function H9(t,e,n){return aae[n.paths](t.root,e.root,n.matrixParams)&&Q9[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cae(t,e){return xs(t,e)}function X9(t,e,n){if(!Su(t.segments,e.segments)||!NC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!X9(t.children[i],e.children[i],n))return!1;return!0}function lae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>K9(t[n],e[n]))}function J9(t,e,n){return Z9(t,e,e.segments,n)}function Z9(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Su(r,n)||e.hasChildren()||!NC(r,n,i))}else if(t.segments.length===n.length){if(!Su(t.segments,n)||!NC(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!J9(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Su(t.segments,r)||!NC(t.segments,r,i)||!t.children[Ze]?!1:Z9(t.children[Ze],e,o,i)}}function NC(t,e,n){return e.every((i,r)=>Q9[n](t[r].parameters,i.parameters))}var Pc=class{constructor(e=new Vt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=pf(this.queryParams),this._queryParamMap}toString(){return hae.serialize(this)}},Vt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return FC(this)}},Iu=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=pf(this.parameters),this._parameterMap}toString(){return t$(this)}};function uae(t,e){return Su(t,e)&&t.every((n,i)=>xs(n.parameters,e[i].parameters))}function Su(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function dae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Ze&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Ze&&(n=n.concat(e(r,i)))}),n}var fO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>new VC,providedIn:"root"});let t=e;return t})(),VC=class{parse(e){let n=new HP(e);return new Pc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bv(e.root,!0)}`,i=mae(e.queryParams),r=typeof e.fragment=="string"?`#${fae(e.fragment)}`:"";return`${n}${i}${r}`}},hae=new VC;function FC(t){return t.segments.map(e=>t$(e)).join("/")}function bv(t,e){if(!t.hasChildren())return FC(t);if(e){let n=t.children[Ze]?bv(t.children[Ze],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Ze&&i.push(`${r}:${bv(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=dae(t,(i,r)=>r===Ze?[bv(t.children[Ze],!1)]:[`${r}:${bv(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ze]!=null?`${FC(t)}/${n[0]}`:`${FC(t)}/(${n.join("//")})`}}function e$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kC(t){return e$(t).replace(/%3B/gi,";")}function fae(t){return encodeURI(t)}function $P(t){return e$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function LC(t){return decodeURIComponent(t)}function G9(t){return LC(t.replace(/\+/g,"%20"))}function t$(t){return`${$P(t.path)}${pae(t.parameters)}`}function pae(t){return Object.entries(t).map(([e,n])=>`;${$P(e)}=${$P(n)}`).join("")}function mae(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${kC(n)}=${kC(r)}`).join("&"):`${kC(n)}=${kC(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gae=/^[^\/()?;#]+/;function FP(t){let e=t.match(gae);return e?e[0]:""}var vae=/^[^\/()?;=#]+/;function yae(t){let e=t.match(vae);return e?e[0]:""}var _ae=/^[^=?&#]+/;function wae(t){let e=t.match(_ae);return e?e[0]:""}var bae=/^[^&#]+/;function Cae(t){let e=t.match(bae);return e?e[0]:""}var HP=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Ze]=new Vt(e,n)),i}parseSegment(){let e=FP(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new Iu(LC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=FP(this.remaining);r&&(i=r,this.capture(i))}e[LC(n)]=LC(i)}parseQueryParam(e){let n=wae(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=Cae(this.remaining);a&&(i=a,this.capture(i))}let r=G9(n),o=G9(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=FP(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new te(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ze);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[Ze]:new Vt([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function n$(t){return t.segments.length>0?new Vt([],{[Ze]:t}):t}function i$(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=i$(r);if(i===Ze&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Vt(t.segments,e);return Eae(n)}function Eae(t){if(t.numberOfChildren===1&&t.children[Ze]){let e=t.children[Ze];return new Vt(t.segments.concat(e.segments),e.children)}return t}function mf(t){return t instanceof Pc}function Iae(t,e,n=null,i=null){let r=r$(t);return o$(r,e,n,i)}function r$(t){let e;function n(o){let a={};for(let d of o.children){let f=n(d);a[d.outlet]=f}let l=new Vt(o.url,a);return o===t&&(e=l),l}let i=n(t.root),r=n$(i);return e??r}function o$(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return LP(r,r,r,n,i);let o=Sae(e);if(o.toRoot())return LP(r,r,new Vt([],{}),n,i);let a=Tae(o,r,t),l=a.processChildren?Iv(a.segmentGroup,a.index,o.commands):a$(a.segmentGroup,a.index,o.commands);return LP(r,a.segmentGroup,l,n,i)}function jC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Dv(t){return typeof t=="object"&&t!=null&&t.outlets}function LP(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,f])=>{o[d]=Array.isArray(f)?f.map(p=>`${p}`):`${f}`});let a;t===e?a=n:a=s$(t,e,n);let l=n$(i$(a));return new Pc(l,o,r)}function s$(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=s$(o,e,n)}),new Vt(t.segments,i)}var UC=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&jC(i[0]))throw new te(4003,!1);let r=i.find(Dv);if(r&&r!==Y9(i))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Sae(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new UC(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,f])=>{l[d]=typeof f=="string"?f.split("/"):f}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new UC(n,e,i)}var hf=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function Tae(t,e,n){if(t.isAbsolute)return new hf(e,!0,0);if(!n)return new hf(e,!1,NaN);if(n.parent===null)return new hf(n,!0,0);let i=jC(t.commands[0])?0:1,r=n.segments.length-1+i;return Dae(n,r,t.numberOfDoubleDots)}function Dae(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new te(4005,!1);r=i.segments.length}return new hf(i,!1,r-o)}function xae(t){return Dv(t[0])?t[0].outlets:{[Ze]:t}}function a$(t,e,n){if(t??=new Vt([],{}),t.segments.length===0&&t.hasChildren())return Iv(t,e,n);let i=Aae(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Vt(t.segments.slice(0,i.pathIndex),{});return o.children[Ze]=new Vt(t.segments.slice(i.pathIndex),t.children),Iv(o,0,r)}else return i.match&&r.length===0?new Vt(t.segments,{}):i.match&&!t.hasChildren()?GP(t,e,n):i.match?Iv(t,0,r):GP(t,e,n)}function Iv(t,e,n){if(n.length===0)return new Vt(t.segments,{});{let i=xae(n),r={};if(Object.keys(i).some(o=>o!==Ze)&&t.children[Ze]&&t.numberOfChildren===1&&t.children[Ze].segments.length===0){let o=Iv(t.children[Ze],e,n);return new Vt(t.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=a$(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new Vt(t.segments,r)}}function Aae(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let a=t.segments[r],l=n[i];if(Dv(l))break;let d=`${l}`,f=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&f&&typeof f=="object"&&f.outlets===void 0){if(!W9(d,f,a))return o;i+=2}else{if(!W9(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function GP(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Dv(o)){let d=Mae(o.outlets);return new Vt(i,d)}if(r===0&&jC(n[0])){let d=t.segments[e];i.push(new Iu(d.path,z9(n[0]))),r++;continue}let a=Dv(o)?o.outlets[Ze]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&jC(l)?(i.push(new Iu(a,z9(l))),r+=2):(i.push(new Iu(a,{})),r++)}return new Vt(i,{})}function Mae(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=GP(new Vt([],{}),0,i))}),e}function z9(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function W9(t,e,n){return t==n.path&&xs(e,n.parameters)}var Sv="imperative",xi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xi||{}),Jr=class{constructor(e,n){this.id=e,this.url=n}},xv=class extends Jr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=xi.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wa=class extends Jr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=xi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Xr||{}),zP=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zP||{}),Oc=class extends Jr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=xi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tu=class extends Jr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=xi.NavigationSkipped}},Av=class extends Jr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=xi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},BC=class extends Jr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},WP=class extends Jr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qP=class extends Jr{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=xi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},KP=class extends Jr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YP=class extends Jr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=xi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QP=class{constructor(e){this.route=e,this.type=xi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},XP=class{constructor(e){this.route=e,this.type=xi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},JP=class{constructor(e){this.snapshot=e,this.type=xi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ZP=class{constructor(e){this.snapshot=e,this.type=xi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eO=class{constructor(e){this.snapshot=e,this.type=xi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tO=class{constructor(e){this.snapshot=e,this.type=xi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mv=class{},Pv=class{constructor(e){this.url=e}};var nO=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qC,this.attachRef=null}},qC=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new nO,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$C=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=iO(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=iO(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=rO(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return rO(e,this._root).map(n=>n.value)}};function iO(t,e){if(t===e.value)return e;for(let n of e.children){let i=iO(t,n);if(i)return i}return null}function rO(t,e){if(t===e.value)return[e];for(let n of e.children){let i=rO(t,n);if(i.length)return i.unshift(e),i}return[]}var Mr=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function df(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var HC=class extends $C{constructor(e,n){super(e),this.snapshot=n,mO(this,e)}toString(){return this.snapshot.toString()}};function c$(t){let e=Pae(t),n=new Xn([new Iu("",{})]),i=new Xn({}),r=new Xn({}),o=new Xn({}),a=new Xn(""),l=new ir(n,i,o,a,r,Ze,t,e.root);return l.snapshot=e.root,new HC(new Mr(l,[]),e)}function Pae(t){let e={},n={},i={},r="",o=new Ov([],e,i,r,n,Ze,t,null,{});return new GC("",new Mr(o,[]))}var ir=class{constructor(e,n,i,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Fe(f=>f[Nv]))??Ne(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(e=>pf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(e=>pf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pO(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:re(re({},e.params),t.params),data:re(re({},e.data),t.data),resolve:re(re(re(re({},t.data),e.data),r?.data),t._resolvedData)}:i={params:re({},t.params),data:re({},t.data),resolve:re(re({},t.data),t._resolvedData??{})},r&&u$(r)&&(i.resolve[Nv]=r.title),i}var Ov=class{get title(){return this.data?.[Nv]}constructor(e,n,i,r,o,a,l,d,f){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pf(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},GC=class extends $C{constructor(e,n){super(n),this.url=e,mO(this,n)}toString(){return l$(this._root)}};function mO(t,e){e.value._routerState=t,e.children.forEach(n=>mO(t,n))}function l$(t){let e=t.children.length>0?` { ${t.children.map(l$).join(", ")} } `:"";return`${t.value}${e}`}function VP(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xs(e.params,n.params)||t.paramsSubject.next(n.params),sae(e.url,n.url)||t.urlSubject.next(n.url),xs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function oO(t,e){let n=xs(t.params,e.params)&&uae(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||oO(t.parent,e.parent))}function u$(t){return typeof t.title=="string"||t.title===null}var Fv=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new zt,this.deactivateEvents=new zt,this.attachEvents=new zt,this.detachEvents=new zt,this.parentContexts=ee(qC),this.location=ee(Ei),this.changeDetector=ee(ia),this.environmentInjector=ee(fi),this.inputBinder=ee(gO,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=i;let o=this.location,l=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new sO(i,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:f,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=At({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Co]});let t=e;return t})(),sO=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===ir?this.route:e===qC?this.childContexts:this.parent.get(e,n)}},gO=new we("");function Oae(t,e,n){let i=kv(t,e._root,n?n._root:void 0);return new HC(i,e)}function kv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=kae(t,e,n);return new Mr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>kv(t,l)),a}}let i=Rae(e.value),r=e.children.map(o=>kv(t,o));return new Mr(i,r)}}function kae(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return kv(t,i,r);return kv(t,i)})}function Rae(t){return new ir(new Xn(t.url),new Xn(t.params),new Xn(t.queryParams),new Xn(t.fragment),new Xn(t.data),t.outlet,t.component,t)}var d$="ngNavigationCancelingError";function h$(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=mf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=f$(!1,Xr.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function f$(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[d$]=!0,n.cancellationCode=e,n}function Nae(t){return p$(t)&&mf(t.url)}function p$(t){return!!t&&t[d$]}var Fae=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["ng-component"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(r,o){r&1&&Z(0,"router-outlet")},dependencies:[Fv],encapsulation:2});let t=e;return t})();function Lae(t,e){return t.providers&&!t._injector&&(t._injector=DT(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vO(t){let e=t.children&&t.children.map(vO),n=e?xt(re({},t),{children:e}):re({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=Fae),n}function As(t){return t.outlet||Ze}function Vae(t,e){let n=t.filter(i=>As(i)===e);return n.push(...t.filter(i=>As(i)!==e)),n}function Lv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jae=(t,e,n,i)=>Fe(r=>(new aO(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),aO=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),VP(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=df(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=df(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=df(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=df(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new tO(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ZP(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(VP(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),VP(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Lv(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}},zC=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ff=class{constructor(e,n){this.component=e,this.route=n}};function Uae(t,e,n){let i=t._root,r=e?e._root:null;return Cv(i,r,n,[i.value])}function Bae(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yf(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!VL(t)?t:e.get(t):i}function Cv(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=df(e);return t.children.forEach(a=>{$ae(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Tv(l,n.getContext(a),r)),r}function $ae(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Hae(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new zC(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Cv(t,e,l?l.children:null,i,r):Cv(t,e,n,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ff(l.outlet.component,a))}else a&&Tv(e,l,r),r.canActivateChecks.push(new zC(i)),o.component?Cv(t,null,l?l.children:null,i,r):Cv(t,null,n,i,r);return r}function Hae(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Su(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Su(t.url,e.url)||!xs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oO(t,e)||!xs(t.queryParams,e.queryParams);case"paramsChange":default:return!oO(t,e)}}function Tv(t,e,n){let i=df(t),r=t.value;Object.entries(i).forEach(([o,a])=>{r.component?e?Tv(a,e.children.getContext(o),n):Tv(a,null,n):Tv(a,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ff(e.outlet.component,r)):n.canDeactivateChecks.push(new ff(null,r)):n.canDeactivateChecks.push(new ff(null,r))}function Vv(t){return typeof t=="function"}function Gae(t){return typeof t=="boolean"}function zae(t){return t&&Vv(t.canLoad)}function Wae(t){return t&&Vv(t.canActivate)}function qae(t){return t&&Vv(t.canActivateChild)}function Kae(t){return t&&Vv(t.canDeactivate)}function Yae(t){return t&&Vv(t.canMatch)}function m$(t){return t instanceof Cr||t?.name==="EmptyError"}var RC=Symbol("INITIAL_VALUE");function gf(){return Oi(t=>Y_(t.map(e=>e.pipe(zs(1),AS(RC)))).pipe(Fe(e=>{for(let n of e)if(n!==!0){if(n===RC)return RC;if(n===!1||n instanceof Pc)return n}return!0}),hi(e=>e!==RC),zs(1)))}function Qae(t,e){return Rn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?Ne(xt(re({},n),{guardsResult:!0})):Xae(a,i,r,t).pipe(Rn(l=>l&&Gae(l)?Jae(i,o,t,e):Ne(l)),Fe(l=>xt(re({},n),{guardsResult:l})))})}function Xae(t,e,n,i){return Qt(t).pipe(Rn(r=>ice(r.component,r.route,n,e,i)),Jo(r=>r!==!0,!0))}function Jae(t,e,n,i){return Qt(e).pipe(Qa(r=>Bd(ece(r.route.parent,i),Zae(r.route,i),nce(t,r.path,n),tce(t,r.route,n))),Jo(r=>r!==!0,!0))}function Zae(t,e){return t!==null&&e&&e(new eO(t)),Ne(!0)}function ece(t,e){return t!==null&&e&&e(new JP(t)),Ne(!0)}function tce(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Ne(!0);let r=i.map(o=>Q_(()=>{let a=Lv(e)??n,l=yf(o,a),d=Wae(l)?l.canActivate(e,t):ta(a,()=>l(e,t));return kc(d).pipe(Jo())}));return Ne(r).pipe(gf())}function nce(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>Bae(a)).filter(a=>a!==null).map(a=>Q_(()=>{let l=a.guards.map(d=>{let f=Lv(a.node)??n,p=yf(d,f),v=qae(p)?p.canActivateChild(i,t):ta(f,()=>p(i,t));return kc(v).pipe(Jo())});return Ne(l).pipe(gf())}));return Ne(o).pipe(gf())}function ice(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ne(!0);let a=o.map(l=>{let d=Lv(e)??r,f=yf(l,d),p=Kae(f)?f.canDeactivate(t,e,n,i):ta(d,()=>f(t,e,n,i));return kc(p).pipe(Jo())});return Ne(a).pipe(gf())}function rce(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Ne(!0);let o=r.map(a=>{let l=yf(a,t),d=zae(l)?l.canLoad(e,n):ta(t,()=>l(e,n));return kc(d)});return Ne(o).pipe(gf(),g$(i))}function g$(t){return pS(Nn(e=>{if(mf(e))throw h$(t,e)}),Fe(e=>e===!0))}function oce(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Ne(!0);let o=r.map(a=>{let l=yf(a,t),d=Yae(l)?l.canMatch(e,n):ta(t,()=>l(e,n));return kc(d)});return Ne(o).pipe(gf(),g$(i))}var Rv=class{constructor(e){this.segmentGroup=e||null}},WC=class extends Error{constructor(e){super(),this.urlTree=e}};function uf(t){return jd(new Rv(t))}function sce(t){return jd(new te(4e3,!1))}function ace(t){return jd(f$(!1,Xr.GuardRejected))}var cO=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Ne(i);if(r.numberOfChildren>1||!r.children[Ze])return sce(e.redirectTo);r=r.children[Ze]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new WC(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Pc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);i[r]=n[l]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),a={};return Object.entries(n.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,i,r)}),new Vt(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new te(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},lO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cce(t,e,n,i,r){let o=yO(t,e,n);return o.matched?(i=Lae(e,i),oce(i,e,n,r).pipe(Fe(a=>a===!0?o:re({},lO)))):Ne(o)}function yO(t,e,n){if(e.path==="**")return lce(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?re({},lO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||oae)(n,t,e);if(!r)return re({},lO);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?re(re({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function lce(t){return{matched:!0,parameters:t.length>0?Y9(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function q9(t,e,n,i){return n.length>0&&hce(t,n,i)?{segmentGroup:new Vt(e,dce(i,new Vt(n,t.children))),slicedSegments:[]}:n.length===0&&fce(t,n,i)?{segmentGroup:new Vt(t.segments,uce(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Vt(t.segments,t.children),slicedSegments:n}}function uce(t,e,n,i){let r={};for(let o of n)if(KC(t,e,o)&&!i[As(o)]){let a=new Vt([],{});r[As(o)]=a}return re(re({},i),r)}function dce(t,e){let n={};n[Ze]=e;for(let i of t)if(i.path===""&&As(i)!==Ze){let r=new Vt([],{});n[As(i)]=r}return n}function hce(t,e,n){return n.some(i=>KC(t,e,i)&&As(i)!==Ze)}function fce(t,e,n){return n.some(i=>KC(t,e,i))}function KC(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pce(t,e,n,i){return As(t)!==i&&(i===Ze||!KC(e,n,t))?!1:yO(e,t,n).matched}function mce(t,e,n){return e.length===0&&!t.children[n]}var uO=class{};function gce(t,e,n,i,r,o,a="emptyOnly"){return new dO(t,e,n,i,r,a,o).recognize()}var vce=31,dO=class{constructor(e,n,i,r,o,a,l){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new cO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=q9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Fe(n=>{let i=new Ov([],Object.freeze({}),Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),r=new Mr(i,n),o=new GC("",r),a=Iae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ze).pipe(Xo(i=>{if(i instanceof WC)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Rv?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=pO(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Fe(o=>o instanceof Mr?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Qt(r).pipe(Qa(o=>{let a=i.children[o],l=Vae(n,o);return this.processSegmentGroup(e,l,a,o)}),DS((o,a)=>(o.push(...a),o)),Xa(null),TS(),Rn(o=>{if(o===null)return uf(i);let a=v$(o);return yce(a),Ne(a)}))}processSegment(e,n,i,r,o,a){return Qt(n).pipe(Qa(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,a).pipe(Xo(d=>{if(d instanceof Rv)return Ne(null);throw d}))),Jo(l=>!!l),Xo(l=>{if(m$(l))return mce(i,r,o)?Ne(new uO):uf(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,a,l){return pce(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,a):uf(r):uf(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=yO(n,r,o);if(!l)return uf(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vce&&(this.allowRedirects=!1));let v=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f);return this.applyRedirects.lineralizeSegments(r,v).pipe(Rn(w=>this.processSegment(e,i,n,w.concat(p),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let a=cce(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Oi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Oi(({routes:d})=>{let f=i._loadedInjector??e,{consumedSegments:p,remainingSegments:v,parameters:w}=l,E=new Ov(p,w,Object.freeze(re({},this.urlTree.queryParams)),this.urlTree.fragment,wce(i),As(i),i.component??i._loadedComponent??null,i,bce(i)),{segmentGroup:C,slicedSegments:S}=q9(n,p,v,d);if(S.length===0&&C.hasChildren())return this.processChildren(f,d,C).pipe(Fe(k=>k===null?null:new Mr(E,k)));if(d.length===0&&S.length===0)return Ne(new Mr(E,[]));let x=As(i)===o;return this.processSegment(f,d,C,S,x?Ze:o,!0).pipe(Fe(k=>new Mr(E,k instanceof Mr?[k]:[])))}))):uf(n)))}getChildConfig(e,n,i){return n.children?Ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Ne({routes:n._loadedRoutes,injector:n._loadedInjector}):rce(e,n,i,this.urlSerializer).pipe(Rn(r=>r?this.configLoader.loadChildren(e,n).pipe(Nn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ace(n))):Ne({routes:[],injector:e})}};function yce(t){t.sort((e,n)=>e.value.outlet===Ze?-1:n.value.outlet===Ze?1:e.value.outlet.localeCompare(n.value.outlet))}function _ce(t){let e=t.value.routeConfig;return e&&e.path===""}function v$(t){let e=[],n=new Set;for(let i of t){if(!_ce(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=v$(i.children);e.push(new Mr(i.value,r))}return e.filter(i=>!n.has(i))}function wce(t){return t.data||{}}function bce(t){return t.resolve||{}}function Cce(t,e,n,i,r,o){return Rn(a=>gce(t,e,n,i,a.extractedUrl,r,o).pipe(Fe(({state:l,tree:d})=>xt(re({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function Ece(t,e){return Rn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ne(n);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let f of y$(d))a.add(f);let l=0;return Qt(a).pipe(Qa(d=>o.has(d)?Ice(d,i,t,e):(d.data=pO(d,d.parent,t).resolve,Ne(void 0))),Nn(()=>l++),Hd(1),Rn(d=>l===a.size?Ne(n):cr))})}function y$(t){let e=t.children.map(n=>y$(n)).flat();return[t,...e]}function Ice(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!u$(r)&&(o[Nv]=r.title),Sce(o,t,e,i).pipe(Fe(a=>(t._resolvedData=a,t.data=pO(t,t.parent,n).resolve,null)))}function Sce(t,e,n,i){let r=BP(t);if(r.length===0)return Ne({});let o={};return Qt(r).pipe(Rn(a=>Tce(t[a],e,n,i).pipe(Jo(),Nn(l=>{o[a]=l}))),Hd(1),SS(o),Xo(a=>m$(a)?cr:jd(a)))}function Tce(t,e,n,i){let r=Lv(e)??i,o=yf(t,r),a=o.resolve?o.resolve(e,n):ta(r,()=>o(e,n));return kc(a)}function jP(t){return Oi(e=>{let n=t(e);return n?Qt(n).pipe(Fe(()=>e)):Ne(e)})}var _$=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Ze);return r}getResolvedTitleForRoute(i){return i.data[Nv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(Dce),providedIn:"root"});let t=e;return t})(),Dce=(()=>{let e=class e extends _${constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ae(u9))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YC=new we("",{providedIn:"root",factory:()=>({})}),_O=new we(""),xce=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(AT)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ne(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=kc(i.loadComponent()).pipe(Fe(w$),Nn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),gl(()=>{this.componentLoaders.delete(i)})),o=new kd(r,()=>new di).pipe(Od());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=Ace(r,this.compiler,i,this.onLoadEndListener).pipe(gl(()=>{this.childrenLoaders.delete(r)})),l=new kd(a,()=>new di).pipe(Od());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ace(t,e,n,i){return kc(t.loadChildren()).pipe(Fe(w$),Rn(r=>r instanceof em||Array.isArray(r)?Ne(r):Qt(e.compileModuleAsync(r))),Fe(r=>{i&&i(t);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(n).injector,a=o.get(_O,[],{optional:!0,self:!0}).flat()),{routes:a.map(vO),injector:o}}))}function Mce(t){return t&&typeof t=="object"&&"default"in t}function w$(t){return Mce(t)?t.default:t}var wO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(Pce),providedIn:"root"});let t=e;return t})(),Pce=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oce=new we("");var kce=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new di,this.transitionAbortSubject=new di,this.configLoader=ee(xce),this.environmentInjector=ee(fi),this.urlSerializer=ee(fO),this.rootContexts=ee(qC),this.location=ee(um),this.inputBindingEnabled=ee(gO,{optional:!0})!==null,this.titleStrategy=ee(_$),this.options=ee(YC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(wO),this.createViewTransition=ee(Oce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ne(void 0),this.rootComponentType=null;let i=o=>this.events.next(new QP(o)),r=o=>this.events.next(new XP(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(xt(re(re({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Xn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hi(a=>a.id!==0),Fe(a=>xt(re({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Oi(a=>{this.currentTransition=a;let l=!1,d=!1;return Ne(a).pipe(Nn(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?xt(re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Oi(f=>{let p=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!p&&v!=="reload"){let w="";return this.events.next(new Tu(f.id,this.urlSerializer.serialize(f.rawUrl),w,zP.IgnoredSameUrlNavigation)),f.resolve(null),cr}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Ne(f).pipe(Oi(w=>{let E=this.transitions?.getValue();return this.events.next(new xv(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?cr:Promise.resolve(w)}),Cce(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Nn(w=>{a.targetSnapshot=w.targetSnapshot,a.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=xt(re({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let E=new BC(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:w,extractedUrl:E,source:C,restoredState:S,extras:x}=f,k=new xv(w,this.urlSerializer.serialize(E),C,S);this.events.next(k);let V=c$(this.rootComponentType).snapshot;return this.currentTransition=a=xt(re({},f),{targetSnapshot:V,urlAfterRedirects:E,extras:xt(re({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,Ne(a)}else{let w="";return this.events.next(new Tu(f.id,this.urlSerializer.serialize(f.extractedUrl),w,zP.IgnoredByUrlHandlingStrategy)),f.resolve(null),cr}}),Nn(f=>{let p=new WP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Fe(f=>(this.currentTransition=a=xt(re({},f),{guards:Uae(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),a)),Qae(this.environmentInjector,f=>this.events.next(f)),Nn(f=>{if(a.guardsResult=f.guardsResult,mf(f.guardsResult))throw h$(this.urlSerializer,f.guardsResult);let p=new qP(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(p)}),hi(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Xr.GuardRejected),!1)),jP(f=>{if(f.guards.canActivateChecks.length)return Ne(f).pipe(Nn(p=>{let v=new KP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),Oi(p=>{let v=!1;return Ne(p).pipe(Ece(this.paramsInheritanceStrategy,this.environmentInjector),Nn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(p,"",Xr.NoDataFromResolver)}}))}),Nn(p=>{let v=new YP(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}))}),jP(f=>{let p=v=>{let w=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(v.routeConfig).pipe(Nn(E=>{v.component=E}),Fe(()=>{})));for(let E of v.children)w.push(...p(E));return w};return Y_(p(f.targetSnapshot.root)).pipe(Xa(null),zs(1))}),jP(()=>this.afterPreactivation()),Oi(()=>{let{currentSnapshot:f,targetSnapshot:p}=a,v=this.createViewTransition?.(this.environmentInjector,f.root,p.root);return v?Qt(v).pipe(Fe(()=>a)):Ne(a)}),Fe(f=>{let p=Oae(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=a=xt(re({},f),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),Nn(()=>{this.events.next(new Mv)}),jae(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),zs(1),Nn({next:f=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wa(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{l=!0}}),go(this.transitionAbortSubject.pipe(Nn(f=>{throw f}))),gl(()=>{!l&&!d&&this.cancelNavigationTransition(a,"",Xr.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xo(f=>{if(d=!0,p$(f))this.events.next(new Oc(a.id,this.urlSerializer.serialize(a.extractedUrl),f.message,f.cancellationCode)),Nae(f)?this.events.next(new Pv(f.url)):a.resolve(!1);else{this.events.next(new Av(a.id,this.urlSerializer.serialize(a.extractedUrl),f,a.targetSnapshot??void 0));try{a.resolve(i.errorHandler(f))}catch(p){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(p)}}return cr}))}))}cancelNavigationTransition(i,r,o){let a=new Oc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rce(t){return t!==Sv}var Nce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(Fce),providedIn:"root"});let t=e;return t})(),hO=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Fce=(()=>{let e=class e extends hO{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:()=>ee(Lce),providedIn:"root"});let t=e;return t})(),Lce=(()=>{let e=class e extends b${constructor(){super(...arguments),this.location=ee(um),this.urlSerializer=ee(fO),this.options=ee(YC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(wO),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=c$(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof xv)this.stateMemento=this.createStateMemento();else if(i instanceof Tu)this.rawUrlTree=r.initialUrl;else if(i instanceof BC){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof Mv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Oc&&(i.code===Xr.GuardRejected||i.code===Xr.NoDataFromResolver)?this.restoreHistory(r):i instanceof Av?this.restoreHistory(r,!0):i instanceof wa&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=re(re({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=re(re({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ev=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ev||{});function Vce(t,e){t.events.pipe(hi(n=>n instanceof wa||n instanceof Oc||n instanceof Av||n instanceof Tu),Fe(n=>n instanceof wa||n instanceof Tu?Ev.COMPLETE:(n instanceof Oc?n.code===Xr.Redirect||n.code===Xr.SupersededByNewNavigation:!1)?Ev.REDIRECTING:Ev.FAILED),hi(n=>n!==Ev.REDIRECTING),zs(1)).subscribe(()=>{e()})}function jce(t){throw t}var Uce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ee(tw),this.stateManager=ee(b$),this.options=ee(YC,{optional:!0})||{},this.pendingTasks=ee(Al),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(kce),this.urlSerializer=ee(fO),this.location=ee(um),this.urlHandlingStrategy=ee(wO),this._events=new di,this.errorHandler=this.options.errorHandler||jce,this.navigated=!1,this.routeReuseStrategy=ee(Nce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(_O,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(gO,{optional:!0}),this.eventsSubscription=new kn,this.isNgZoneEnabled=ee(Et)instanceof Et&&Et.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof Oc&&r.code!==Xr.Redirect&&r.code!==Xr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wa)this.navigated=!0;else if(r instanceof Pv){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Rce(o.source)};this.scheduleNavigation(l,Sv,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Hce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let f=re({},o);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(a.state=f)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(vO),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:f}=r,p=f?this.currentUrlTree.fragment:l,v=null;switch(d){case"merge":v=re(re({},this.currentUrlTree.queryParams),a);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=a||null}v!==null&&(v=this.removeEmptyProps(v));let w;try{let E=o?o.snapshot:this.routerState.snapshot.root;w=r$(E)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),w=this.currentUrlTree.root}return o$(w,i,v,p??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=mf(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Sv,null,r)}navigate(i,r={skipLocationChange:!1}){return $ce(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=re({},Uce):r===!1?o=re({},Bce):o=r,mf(i))return H9(this.currentUrlTree,i,o);let a=this.parseUrl(i);return H9(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,f,p;l?(d=l.resolve,f=l.reject,p=l.promise):p=new Promise((w,E)=>{d=w,f=E});let v=this.pendingTasks.add();return Vce(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $ce(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new te(4008,!1)}function Hce(t){return!(t instanceof Mv)&&!(t instanceof Pv)}var vf=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=a,this.el=l,this.locationStrategy=d,this.href=null,this.commands=null,this.onChanges=new di,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let f=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=f==="a"||f==="area",this.isAnchorElement?this.subscription=i.events.subscribe(p=>{p instanceof wa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,a,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||a||l||typeof this.target=="string"&&this.target!="_self"))return!0;let f={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,f),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:DV(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,a=this.el.nativeElement;r!==null?o.setAttribute(a,i,r):o.removeAttribute(a,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(ir),dT("tabindex"),L(Io),L(nn),L(uh))},e.\u0275dir=At({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&O("click",function(l){return o.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),r&2&&X0("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[xe.HasDecoratorInputTransform,"preserveFragment","preserveFragment",er],skipLocationChange:[xe.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",er],replaceUrl:[xe.HasDecoratorInputTransform,"replaceUrl","replaceUrl",er],routerLink:"routerLink"},standalone:!0,features:[lm,Co]});let t=e;return t})(),C$=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,a,l){this.router=i,this.element=r,this.renderer=o,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new zt,this.routerEventsSubscription=i.events.subscribe(d=>{d instanceof wa&&this.update()})}ngAfterContentInit(){Ne(this.links.changes,Ne(null)).pipe(Ya()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Qt(i).pipe(Ya()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(i))})}isLinkActive(i){let r=Gce(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let a=o.urlTree;return a?i.isActive(a,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(nn),L(Io),L(ia),L(vf,8))},e.\u0275dir=At({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,a){if(r&1&&Mj(a,vf,5),r&2){let l;Z0(l=ew())&&(o.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Co]});let t=e;return t})();function Gce(t){return!!t.paths}var zce=new we("");function E$(t,...e){return sc([{provide:_O,multi:!0,useValue:t},[],{provide:ir,useFactory:Wce,deps:[Dn]},{provide:nw,multi:!0,useFactory:Kce},e.map(n=>n.\u0275providers)])}function Wce(t){return t.routerState.root}function qce(t,e){return{\u0275kind:t,\u0275providers:e}}function Kce(){let t=ee(ln);return e=>{let n=t.get(cs);if(e!==n.components[0])return;let i=t.get(Dn),r=t.get(Yce);t.get(Qce)===1&&i.initialNavigation(),t.get(Xce,null,lt.Optional)?.setUpPreloading(),t.get(zce,null,lt.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Yce=new we("",{factory:()=>new di}),Qce=new we("",{providedIn:"root",factory:()=>1});var Xce=new we("");function I$(t){return qce(5,[{provide:YC,useValue:t}])}var xn="top",ni="bottom",Yn="right",Vn="left",QC="auto",Rc=[xn,ni,Yn,Vn],ba="start",Du="end",S$="clippingParents",XC="viewport",wf="popper",T$="reference",bO=Rc.reduce(function(t,e){return t.concat([e+"-"+ba,e+"-"+Du])},[]),JC=[].concat(Rc,[QC]).reduce(function(t,e){return t.concat([e,e+"-"+ba,e+"-"+Du])},[]),Jce="beforeRead",Zce="read",ele="afterRead",tle="beforeMain",nle="main",ile="afterMain",rle="beforeWrite",ole="write",sle="afterWrite",D$=[Jce,Zce,ele,tle,nle,ile,rle,ole,sle];function _i(t){return t?(t.nodeName||"").toLowerCase():null}function dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Zr(t){var e=dn(t).Element;return t instanceof e||t instanceof Element}function ii(t){var e=dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function bf(t){if(typeof ShadowRoot>"u")return!1;var e=dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ale(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ii(o)||!_i(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var l=r[a];l===!1?o.removeAttribute(a):o.setAttribute(a,l===!0?"":l)}))})}function cle(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),l=a.reduce(function(d,f){return d[f]="",d},{});!ii(r)||!_i(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var jv={name:"applyStyles",enabled:!0,phase:"write",fn:ale,effect:cle,requires:["computeStyles"]};function wi(t){return t.split("-")[0]}var Lo=Math.max,xu=Math.min,Ca=Math.round;function Cf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Uv(){return!/^((?!chrome|android).)*safari/i.test(Cf())}function eo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&ii(t)&&(r=t.offsetWidth>0&&Ca(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ca(i.height)/t.offsetHeight||1);var a=Zr(t)?dn(t):window,l=a.visualViewport,d=!Uv()&&n,f=(i.left+(d&&l?l.offsetLeft:0))/r,p=(i.top+(d&&l?l.offsetTop:0))/o,v=i.width/r,w=i.height/o;return{width:v,height:w,top:p,right:f+v,bottom:p+w,left:f,x:f,y:p}}function Au(t){var e=eo(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Bv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&bf(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function rr(t){return dn(t).getComputedStyle(t)}function CO(t){return["table","td","th"].indexOf(_i(t))>=0}function Ai(t){return((Zr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ea(t){return _i(t)==="html"?t:t.assignedSlot||t.parentNode||(bf(t)?t.host:null)||Ai(t)}function x$(t){return!ii(t)||rr(t).position==="fixed"?null:t.offsetParent}function lle(t){var e=/firefox/i.test(Cf()),n=/Trident/i.test(Cf());if(n&&ii(t)){var i=rr(t);if(i.position==="fixed")return null}var r=Ea(t);for(bf(r)&&(r=r.host);ii(r)&&["html","body"].indexOf(_i(r))<0;){var o=rr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Vo(t){for(var e=dn(t),n=x$(t);n&&CO(n)&&rr(n).position==="static";)n=x$(n);return n&&(_i(n)==="html"||_i(n)==="body"&&rr(n).position==="static")?e:n||lle(t)||e}function Mu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Pu(t,e,n){return Lo(t,xu(e,n))}function A$(t,e,n){var i=Pu(t,e,n);return i>n?n:i}function $v(){return{top:0,right:0,bottom:0,left:0}}function Hv(t){return Object.assign({},$v(),t)}function Gv(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var ule=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hv(typeof e!="number"?e:Gv(e,Rc))};function dle(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=wi(n.placement),d=Mu(l),f=[Vn,Yn].indexOf(l)>=0,p=f?"height":"width";if(!(!o||!a)){var v=ule(r.padding,n),w=Au(o),E=d==="y"?xn:Vn,C=d==="y"?ni:Yn,S=n.rects.reference[p]+n.rects.reference[d]-a[d]-n.rects.popper[p],x=a[d]-n.rects.reference[d],k=Vo(o),V=k?d==="y"?k.clientHeight||0:k.clientWidth||0:0,G=S/2-x/2,A=v[E],ie=V-w[p]-v[C],B=V/2-w[p]/2+G,se=Pu(A,B,ie),Ee=d;n.modifiersData[i]=(e={},e[Ee]=se,e.centerOffset=se-B,e)}}function hle(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Bv(e.elements.popper,r)&&(e.elements.arrow=r))}var M$={name:"arrow",enabled:!0,phase:"main",fn:dle,effect:hle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function to(t){return t.split("-")[1]}var fle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ple(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Ca(n*r)/r||0,y:Ca(i*r)/r||0}}function P$(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,l=t.position,d=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,v=t.isFixed,w=a.x,E=w===void 0?0:w,C=a.y,S=C===void 0?0:C,x=typeof p=="function"?p({x:E,y:S}):{x:E,y:S};E=x.x,S=x.y;var k=a.hasOwnProperty("x"),V=a.hasOwnProperty("y"),G=Vn,A=xn,ie=window;if(f){var B=Vo(n),se="clientHeight",Ee="clientWidth";if(B===dn(n)&&(B=Ai(n),rr(B).position!=="static"&&l==="absolute"&&(se="scrollHeight",Ee="scrollWidth")),B=B,r===xn||(r===Vn||r===Yn)&&o===Du){A=ni;var We=v&&B===ie&&ie.visualViewport?ie.visualViewport.height:B[se];S-=We-i.height,S*=d?1:-1}if(r===Vn||(r===xn||r===ni)&&o===Du){G=Yn;var et=v&&B===ie&&ie.visualViewport?ie.visualViewport.width:B[Ee];E-=et-i.width,E*=d?1:-1}}var Ie=Object.assign({position:l},f&&fle),ze=p===!0?ple({x:E,y:S},dn(n)):{x:E,y:S};if(E=ze.x,S=ze.y,d){var Te;return Object.assign({},Ie,(Te={},Te[A]=V?"0":"",Te[G]=k?"0":"",Te.transform=(ie.devicePixelRatio||1)<=1?"translate("+E+"px, "+S+"px)":"translate3d("+E+"px, "+S+"px, 0)",Te))}return Object.assign({},Ie,(e={},e[A]=V?S+"px":"",e[G]=k?E+"px":"",e.transform="",e))}function mle(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,d=l===void 0?!0:l,f={placement:wi(e.placement),variation:to(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,P$(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,P$(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var O$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mle,data:{}};var ZC={passive:!0};function gle(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,l=a===void 0?!0:a,d=dn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(p){p.addEventListener("scroll",n.update,ZC)}),l&&d.addEventListener("resize",n.update,ZC),function(){o&&f.forEach(function(p){p.removeEventListener("scroll",n.update,ZC)}),l&&d.removeEventListener("resize",n.update,ZC)}}var k$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:gle,data:{}};var vle={left:"right",right:"left",bottom:"top",top:"bottom"};function Ef(t){return t.replace(/left|right|bottom|top/g,function(e){return vle[e]})}var yle={start:"end",end:"start"};function eE(t){return t.replace(/start|end/g,function(e){return yle[e]})}function Ou(t){var e=dn(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function ku(t){return eo(Ai(t)).left+Ou(t).scrollLeft}function EO(t,e){var n=dn(t),i=Ai(t),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,l=0,d=0;if(r){o=r.width,a=r.height;var f=Uv();(f||!f&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:a,x:l+ku(t),y:d}}function IO(t){var e,n=Ai(t),i=Ou(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Lo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Lo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+ku(t),d=-i.scrollTop;return rr(r||n).direction==="rtl"&&(l+=Lo(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:l,y:d}}function Ru(t){var e=rr(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function tE(t){return["html","body","#document"].indexOf(_i(t))>=0?t.ownerDocument.body:ii(t)&&Ru(t)?t:tE(Ea(t))}function Nc(t,e){var n;e===void 0&&(e=[]);var i=tE(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=dn(i),a=r?[o].concat(o.visualViewport||[],Ru(i)?i:[]):i,l=e.concat(a);return r?l:l.concat(Nc(Ea(a)))}function If(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function _le(t,e){var n=eo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function R$(t,e,n){return e===XC?If(EO(t,n)):Zr(e)?_le(e,n):If(IO(Ai(t)))}function wle(t){var e=Nc(Ea(t)),n=["absolute","fixed"].indexOf(rr(t).position)>=0,i=n&&ii(t)?Vo(t):t;return Zr(i)?e.filter(function(r){return Zr(r)&&Bv(r,i)&&_i(r)!=="body"}):[]}function SO(t,e,n,i){var r=e==="clippingParents"?wle(t):[].concat(e),o=[].concat(r,[n]),a=o[0],l=o.reduce(function(d,f){var p=R$(t,f,i);return d.top=Lo(p.top,d.top),d.right=xu(p.right,d.right),d.bottom=xu(p.bottom,d.bottom),d.left=Lo(p.left,d.left),d},R$(t,a,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function zv(t){var e=t.reference,n=t.element,i=t.placement,r=i?wi(i):null,o=i?to(i):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,d;switch(r){case xn:d={x:a,y:e.y-n.height};break;case ni:d={x:a,y:e.y+e.height};break;case Yn:d={x:e.x+e.width,y:l};break;case Vn:d={x:e.x-n.width,y:l};break;default:d={x:e.x,y:e.y}}var f=r?Mu(r):null;if(f!=null){var p=f==="y"?"height":"width";switch(o){case ba:d[f]=d[f]-(e[p]/2-n[p]/2);break;case Du:d[f]=d[f]+(e[p]/2-n[p]/2);break;default:}}return d}function jo(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,d=l===void 0?S$:l,f=n.rootBoundary,p=f===void 0?XC:f,v=n.elementContext,w=v===void 0?wf:v,E=n.altBoundary,C=E===void 0?!1:E,S=n.padding,x=S===void 0?0:S,k=Hv(typeof x!="number"?x:Gv(x,Rc)),V=w===wf?T$:wf,G=t.rects.popper,A=t.elements[C?V:w],ie=SO(Zr(A)?A:A.contextElement||Ai(t.elements.popper),d,p,a),B=eo(t.elements.reference),se=zv({reference:B,element:G,strategy:"absolute",placement:r}),Ee=If(Object.assign({},G,se)),We=w===wf?Ee:B,et={top:ie.top-We.top+k.top,bottom:We.bottom-ie.bottom+k.bottom,left:ie.left-We.left+k.left,right:We.right-ie.right+k.right},Ie=t.modifiersData.offset;if(w===wf&&Ie){var ze=Ie[r];Object.keys(et).forEach(function(Te){var sn=[Yn,ni].indexOf(Te)>=0?1:-1,Xe=[xn,ni].indexOf(Te)>=0?"y":"x";et[Te]+=ze[Xe]*sn})}return et}function TO(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,d=n.allowedAutoPlacements,f=d===void 0?JC:d,p=to(i),v=p?l?bO:bO.filter(function(C){return to(C)===p}):Rc,w=v.filter(function(C){return f.indexOf(C)>=0});w.length===0&&(w=v);var E=w.reduce(function(C,S){return C[S]=jo(t,{placement:S,boundary:r,rootBoundary:o,padding:a})[wi(S)],C},{});return Object.keys(E).sort(function(C,S){return E[C]-E[S]})}function ble(t){if(wi(t)===QC)return[];var e=Ef(t);return[eE(t),e,eE(e)]}function Cle(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!0:a,d=n.fallbackPlacements,f=n.padding,p=n.boundary,v=n.rootBoundary,w=n.altBoundary,E=n.flipVariations,C=E===void 0?!0:E,S=n.allowedAutoPlacements,x=e.options.placement,k=wi(x),V=k===x,G=d||(V||!C?[Ef(x)]:ble(x)),A=[x].concat(G).reduce(function(yt,Mi){return yt.concat(wi(Mi)===QC?TO(e,{placement:Mi,boundary:p,rootBoundary:v,padding:f,flipVariations:C,allowedAutoPlacements:S}):Mi)},[]),ie=e.rects.reference,B=e.rects.popper,se=new Map,Ee=!0,We=A[0],et=0;et<A.length;et++){var Ie=A[et],ze=wi(Ie),Te=to(Ie)===ba,sn=[xn,ni].indexOf(ze)>=0,Xe=sn?"width":"height",H=jo(e,{placement:Ie,boundary:p,rootBoundary:v,altBoundary:w,padding:f}),oe=sn?Te?Yn:Vn:Te?ni:xn;ie[Xe]>B[Xe]&&(oe=Ef(oe));var pe=Ef(oe),Oe=[];if(o&&Oe.push(H[ze]<=0),l&&Oe.push(H[oe]<=0,H[pe]<=0),Oe.every(function(yt){return yt})){We=Ie,Ee=!1;break}se.set(Ie,Oe)}if(Ee)for(var st=C?3:1,An=function(Mi){var pr=A.find(function(mt){var jn=se.get(mt);if(jn)return jn.slice(0,Mi).every(function(an){return an})});if(pr)return We=pr,"break"},Nt=st;Nt>0;Nt--){var ri=An(Nt);if(ri==="break")break}e.placement!==We&&(e.modifiersData[i]._skip=!0,e.placement=We,e.reset=!0)}}var N$={name:"flip",enabled:!0,phase:"main",fn:Cle,requiresIfExists:["offset"],data:{_skip:!1}};function F$(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function L$(t){return[xn,Yn,ni,Vn].some(function(e){return t[e]>=0})}function Ele(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=jo(e,{elementContext:"reference"}),l=jo(e,{altBoundary:!0}),d=F$(a,i),f=F$(l,r,o),p=L$(d),v=L$(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:p,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":v})}var V$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ele};function Ile(t,e,n){var i=wi(t),r=[Vn,xn].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*r,[Vn,Yn].indexOf(i)>=0?{x:l,y:a}:{x:a,y:l}}function Sle(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=JC.reduce(function(p,v){return p[v]=Ile(v,e.rects,o),p},{}),l=a[e.placement],d=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=a}var j$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Sle};function Tle(t){var e=t.state,n=t.name;e.modifiersData[n]=zv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var U$={name:"popperOffsets",enabled:!0,phase:"read",fn:Tle,data:{}};function DO(t){return t==="x"?"y":"x"}function Dle(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,l=a===void 0?!1:a,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,v=n.padding,w=n.tether,E=w===void 0?!0:w,C=n.tetherOffset,S=C===void 0?0:C,x=jo(e,{boundary:d,rootBoundary:f,padding:v,altBoundary:p}),k=wi(e.placement),V=to(e.placement),G=!V,A=Mu(k),ie=DO(A),B=e.modifiersData.popperOffsets,se=e.rects.reference,Ee=e.rects.popper,We=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,et=typeof We=="number"?{mainAxis:We,altAxis:We}:Object.assign({mainAxis:0,altAxis:0},We),Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ze={x:0,y:0};if(B){if(o){var Te,sn=A==="y"?xn:Vn,Xe=A==="y"?ni:Yn,H=A==="y"?"height":"width",oe=B[A],pe=oe+x[sn],Oe=oe-x[Xe],st=E?-Ee[H]/2:0,An=V===ba?se[H]:Ee[H],Nt=V===ba?-Ee[H]:-se[H],ri=e.elements.arrow,yt=E&&ri?Au(ri):{width:0,height:0},Mi=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$v(),pr=Mi[sn],mt=Mi[Xe],jn=Pu(0,se[H],yt[H]),an=G?se[H]/2-st-jn-pr-et.mainAxis:An-jn-pr-et.mainAxis,$i=G?-se[H]/2+st+jn+mt+et.mainAxis:Nt+jn+mt+et.mainAxis,Fr=e.elements.arrow&&Vo(e.elements.arrow),Hc=Fr?A==="y"?Fr.clientTop||0:Fr.clientLeft||0:0,Ia=(Te=Ie?.[A])!=null?Te:0,Uu=oe+an-Ia-Hc,oi=oe+$i-Ia,Gc=Pu(E?xu(pe,Uu):pe,oe,E?Lo(Oe,oi):Oe);B[A]=Gc,ze[A]=Gc-oe}if(l){var zc,Bu=A==="x"?xn:Vn,$u=A==="x"?ni:Yn,oo=B[ie],$o=ie==="y"?"height":"width",Wc=oo+x[Bu],so=oo-x[$u],Lr=[xn,Vn].indexOf(k)!==-1,qc=(zc=Ie?.[ie])!=null?zc:0,Sa=Lr?Wc:oo-se[$o]-Ee[$o]-qc+et.altAxis,Kc=Lr?oo+se[$o]+Ee[$o]-qc-et.altAxis:so,Fs=E&&Lr?A$(Sa,oo,Kc):Pu(E?Sa:Wc,oo,E?Kc:so);B[ie]=Fs,ze[ie]=Fs-oo}e.modifiersData[i]=ze}}var B$={name:"preventOverflow",enabled:!0,phase:"main",fn:Dle,requiresIfExists:["offset"]};function xO(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function AO(t){return t===dn(t)||!ii(t)?Ou(t):xO(t)}function xle(t){var e=t.getBoundingClientRect(),n=Ca(e.width)/t.offsetWidth||1,i=Ca(e.height)/t.offsetHeight||1;return n!==1||i!==1}function MO(t,e,n){n===void 0&&(n=!1);var i=ii(e),r=ii(e)&&xle(e),o=Ai(e),a=eo(t,r,n),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!n)&&((_i(e)!=="body"||Ru(o))&&(l=AO(e)),ii(e)?(d=eo(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=ku(o))),{x:a.left+l.scrollLeft-d.x,y:a.top+l.scrollTop-d.y,width:a.width,height:a.height}}function Ale(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function PO(t){var e=Ale(t);return D$.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function OO(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function kO(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var $$={placement:"bottom",modifiers:[],strategy:"absolute"};function H$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function G$(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?$$:r;return function(l,d,f){f===void 0&&(f=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},$$,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},v=[],w=!1,E={state:p,setOptions:function(k){var V=typeof k=="function"?k(p.options):k;S(),p.options=Object.assign({},o,p.options,V),p.scrollParents={reference:Zr(l)?Nc(l):l.contextElement?Nc(l.contextElement):[],popper:Nc(d)};var G=PO(kO([].concat(i,p.options.modifiers)));return p.orderedModifiers=G.filter(function(A){return A.enabled}),C(),E.update()},forceUpdate:function(){if(!w){var k=p.elements,V=k.reference,G=k.popper;if(H$(V,G)){p.rects={reference:MO(V,Vo(G),p.options.strategy==="fixed"),popper:Au(G)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(et){return p.modifiersData[et.name]=Object.assign({},et.data)});for(var A=0;A<p.orderedModifiers.length;A++){if(p.reset===!0){p.reset=!1,A=-1;continue}var ie=p.orderedModifiers[A],B=ie.fn,se=ie.options,Ee=se===void 0?{}:se,We=ie.name;typeof B=="function"&&(p=B({state:p,options:Ee,name:We,instance:E})||p)}}}},update:OO(function(){return new Promise(function(x){E.forceUpdate(),x(p)})}),destroy:function(){S(),w=!0}};if(!H$(l,d))return E;E.setOptions(f).then(function(x){!w&&f.onFirstUpdate&&f.onFirstUpdate(x)});function C(){p.orderedModifiers.forEach(function(x){var k=x.name,V=x.options,G=V===void 0?{}:V,A=x.effect;if(typeof A=="function"){var ie=A({state:p,name:k,instance:E,options:G}),B=function(){};v.push(ie||B)}})}function S(){v.forEach(function(x){return x()}),v=[]}return E}}var Mle=[k$,U$,O$,jv,j$,N$,B$,M$,V$],RO=G$({defaultModifiers:Mle});var Ple="tippy-box",eH="tippy-content",Ole="tippy-backdrop",tH="tippy-arrow",nH="tippy-svg-arrow",Nu={passive:!0,capture:!0},iH=function(){return document.body};function NO(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function BO(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function rH(t,e){return typeof t=="function"?t.apply(void 0,e):t}function z$(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function kle(t){return t.split(/\s+/).filter(Boolean)}function Sf(t){return[].concat(t)}function W$(t,e){t.indexOf(e)===-1&&t.push(e)}function Rle(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Nle(t){return t.split("-")[0]}function iE(t){return[].slice.call(t)}function q$(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Wv(){return document.createElement("div")}function rE(t){return["Element","Fragment"].some(function(e){return BO(t,e)})}function Fle(t){return BO(t,"NodeList")}function Lle(t){return BO(t,"MouseEvent")}function Vle(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function jle(t){return rE(t)?[t]:Fle(t)?iE(t):Array.isArray(t)?t:iE(document.querySelectorAll(t))}function FO(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function K$(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Ule(t){var e,n=Sf(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Ble(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,a=r.popperState,l=r.props,d=l.interactiveBorder,f=Nle(a.placement),p=a.modifiersData.offset;if(!p)return!0;var v=f==="bottom"?p.top.y:0,w=f==="top"?p.bottom.y:0,E=f==="right"?p.left.x:0,C=f==="left"?p.right.x:0,S=o.top-i+v>d,x=i-o.bottom-w>d,k=o.left-n+E>d,V=n-o.right-C>d;return S||x||k||V})}function LO(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function Y$(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Ms={isTouch:!1},Q$=0;function $le(){Ms.isTouch||(Ms.isTouch=!0,window.performance&&document.addEventListener("mousemove",oH))}function oH(){var t=performance.now();t-Q$<20&&(Ms.isTouch=!1,document.removeEventListener("mousemove",oH)),Q$=t}function Hle(){var t=document.activeElement;if(Vle(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Gle(){document.addEventListener("touchstart",$le,Nu),window.addEventListener("blur",Hle)}var zle=typeof window<"u"&&typeof document<"u",Wle=zle?!!window.msCrypto:!1;var qle={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Kle={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Uo=Object.assign({appendTo:iH,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},qle,Kle),Yle=Object.keys(Uo),Qle=function(e){var n=Object.keys(e);n.forEach(function(i){Uo[i]=e[i]})};function sH(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,a=r.defaultValue;if(o){var l;i[o]=t[o]!==void 0?t[o]:(l=Uo[o])!=null?l:a}return i},{});return Object.assign({},t,n)}function Xle(t,e){var n=e?Object.keys(sH(Object.assign({},Uo,{plugins:e}))):Yle,i=n.reduce(function(r,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return r;if(o==="content")r[o]=a;else try{r[o]=JSON.parse(a)}catch{r[o]=a}return r},{});return i}function X$(t,e){var n=Object.assign({},e,{content:rH(e.content,[t])},e.ignoreAttributes?{}:Xle(t,e.plugins));return n.aria=Object.assign({},Uo.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Jle=function(){return"innerHTML"};function jO(t,e){t[Jle()]=e}function J$(t){var e=Wv();return t===!0?e.className=tH:(e.className=nH,rE(t)?e.appendChild(t):jO(e,t)),e}function Z$(t,e){rE(e.content)?(jO(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?jO(t,e.content):t.textContent=e.content)}function UO(t){var e=t.firstElementChild,n=iE(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(eH)}),arrow:n.find(function(i){return i.classList.contains(tH)||i.classList.contains(nH)}),backdrop:n.find(function(i){return i.classList.contains(Ole)})}}function aH(t){var e=Wv(),n=Wv();n.className=Ple,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Wv();i.className=eH,i.setAttribute("data-state","hidden"),Z$(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,a){var l=UO(e),d=l.box,f=l.content,p=l.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Z$(f,t.props),a.arrow?p?o.arrow!==a.arrow&&(d.removeChild(p),d.appendChild(J$(a.arrow))):d.appendChild(J$(a.arrow)):p&&d.removeChild(p)}return{popper:e,onUpdate:r}}aH.$$tippy=!0;var Zle=1,nE=[],VO=[];function eue(t,e){var n=X$(t,Object.assign({},Uo,sH(q$(e)))),i,r,o,a=!1,l=!1,d=!1,f=!1,p,v,w,E=[],C=z$(Uu,n.interactiveDebounce),S,x=Zle++,k=null,V=Rle(n.plugins),G={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:x,reference:t,popper:Wv(),popperInstance:k,props:n,state:G,plugins:V,clearDelayTimeouts:Sa,setProps:Kc,setContent:Fs,show:Ta,hide:Ls,hideWithInteractivity:ay,enable:Lr,disable:qc,unmount:SE,destroy:TE};if(!n.render)return A;var ie=n.render(A),B=ie.popper,se=ie.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+A.id,A.popper=B,t._tippy=A,B._tippy=A;var Ee=V.map(function($){return $.fn(A)}),We=t.hasAttribute("aria-expanded");return Fr(),st(),oe(),pe("onCreate",[A]),n.showOnCreate&&Wc(),B.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&sn().addEventListener("mousemove",C)}),A;function et(){var $=A.props.touch;return Array.isArray($)?$:[$,0]}function Ie(){return et()[0]==="hold"}function ze(){var $;return!!(($=A.props.render)!=null&&$.$$tippy)}function Te(){return S||t}function sn(){var $=Te().parentNode;return $?Ule($):document}function Xe(){return UO(B)}function H($){return A.state.isMounted&&!A.state.isVisible||Ms.isTouch||p&&p.type==="focus"?0:NO(A.props.delay,$?0:1,Uo.delay)}function oe($){$===void 0&&($=!1),B.style.pointerEvents=A.props.interactive&&!$?"":"none",B.style.zIndex=""+A.props.zIndex}function pe($,ve,Se){if(Se===void 0&&(Se=!0),Ee.forEach(function(_t){_t[$]&&_t[$].apply(_t,ve)}),Se){var Mt;(Mt=A.props)[$].apply(Mt,ve)}}function Oe(){var $=A.props.aria;if($.content){var ve="aria-"+$.content,Se=B.id,Mt=Sf(A.props.triggerTarget||t);Mt.forEach(function(_t){var si=_t.getAttribute(ve);if(A.state.isVisible)_t.setAttribute(ve,si?si+" "+Se:Se);else{var Hi=si&&si.replace(Se,"").trim();Hi?_t.setAttribute(ve,Hi):_t.removeAttribute(ve)}})}}function st(){if(!(We||!A.props.aria.expanded)){var $=Sf(A.props.triggerTarget||t);$.forEach(function(ve){A.props.interactive?ve.setAttribute("aria-expanded",A.state.isVisible&&ve===Te()?"true":"false"):ve.removeAttribute("aria-expanded")})}}function An(){sn().removeEventListener("mousemove",C),nE=nE.filter(function($){return $!==C})}function Nt($){if(!(Ms.isTouch&&(d||$.type==="mousedown"))){var ve=$.composedPath&&$.composedPath()[0]||$.target;if(!(A.props.interactive&&Y$(B,ve))){if(Sf(A.props.triggerTarget||t).some(function(Se){return Y$(Se,ve)})){if(Ms.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else pe("onClickOutside",[A,$]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),l=!0,setTimeout(function(){l=!1}),A.state.isMounted||pr())}}}function ri(){d=!0}function yt(){d=!1}function Mi(){var $=sn();$.addEventListener("mousedown",Nt,!0),$.addEventListener("touchend",Nt,Nu),$.addEventListener("touchstart",yt,Nu),$.addEventListener("touchmove",ri,Nu)}function pr(){var $=sn();$.removeEventListener("mousedown",Nt,!0),$.removeEventListener("touchend",Nt,Nu),$.removeEventListener("touchstart",yt,Nu),$.removeEventListener("touchmove",ri,Nu)}function mt($,ve){an($,function(){!A.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&ve()})}function jn($,ve){an($,ve)}function an($,ve){var Se=Xe().box;function Mt(_t){_t.target===Se&&(LO(Se,"remove",Mt),ve())}if($===0)return ve();LO(Se,"remove",v),LO(Se,"add",Mt),v=Mt}function $i($,ve,Se){Se===void 0&&(Se=!1);var Mt=Sf(A.props.triggerTarget||t);Mt.forEach(function(_t){_t.addEventListener($,ve,Se),E.push({node:_t,eventType:$,handler:ve,options:Se})})}function Fr(){Ie()&&($i("touchstart",Ia,{passive:!0}),$i("touchend",oi,{passive:!0})),kle(A.props.trigger).forEach(function($){if($!=="manual")switch($i($,Ia),$){case"mouseenter":$i("mouseleave",oi);break;case"focus":$i(Wle?"focusout":"blur",Gc);break;case"focusin":$i("focusout",Gc);break}})}function Hc(){E.forEach(function($){var ve=$.node,Se=$.eventType,Mt=$.handler,_t=$.options;ve.removeEventListener(Se,Mt,_t)}),E=[]}function Ia($){var ve,Se=!1;if(!(!A.state.isEnabled||zc($)||l)){var Mt=((ve=p)==null?void 0:ve.type)==="focus";p=$,S=$.currentTarget,st(),!A.state.isVisible&&Lle($)&&nE.forEach(function(_t){return _t($)}),$.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||a)&&A.props.hideOnClick!==!1&&A.state.isVisible?Se=!0:Wc($),$.type==="click"&&(a=!Se),Se&&!Mt&&so($)}}function Uu($){var ve=$.target,Se=Te().contains(ve)||B.contains(ve);if(!($.type==="mousemove"&&Se)){var Mt=$o().concat(B).map(function(_t){var si,Hi=_t._tippy,ao=(si=Hi.popperInstance)==null?void 0:si.state;return ao?{popperRect:_t.getBoundingClientRect(),popperState:ao,props:n}:null}).filter(Boolean);Ble(Mt,$)&&(An(),so($))}}function oi($){var ve=zc($)||A.props.trigger.indexOf("click")>=0&&a;if(!ve){if(A.props.interactive){A.hideWithInteractivity($);return}so($)}}function Gc($){A.props.trigger.indexOf("focusin")<0&&$.target!==Te()||A.props.interactive&&$.relatedTarget&&B.contains($.relatedTarget)||so($)}function zc($){return Ms.isTouch?Ie()!==$.type.indexOf("touch")>=0:!1}function Bu(){$u();var $=A.props,ve=$.popperOptions,Se=$.placement,Mt=$.offset,_t=$.getReferenceClientRect,si=$.moveTransition,Hi=ze()?UO(B).arrow:null,ao=_t?{getBoundingClientRect:_t,contextElement:_t.contextElement||Te()}:t,cy={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Da){var Ho=Da.state;if(ze()){var Lf=Xe(),Vs=Lf.box;["placement","reference-hidden","escaped"].forEach(function(Go){Go==="placement"?Vs.setAttribute("data-placement",Ho.placement):Ho.attributes.popper["data-popper-"+Go]?Vs.setAttribute("data-"+Go,""):Vs.removeAttribute("data-"+Go)}),Ho.attributes.popper={}}}},Pi=[{name:"offset",options:{offset:Mt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!si}},cy];ze()&&Hi&&Pi.push({name:"arrow",options:{element:Hi,padding:3}}),Pi.push.apply(Pi,ve?.modifiers||[]),A.popperInstance=RO(ao,B,Object.assign({},ve,{placement:Se,onFirstUpdate:w,modifiers:Pi}))}function $u(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function oo(){var $=A.props.appendTo,ve,Se=Te();A.props.interactive&&$===iH||$==="parent"?ve=Se.parentNode:ve=rH($,[Se]),ve.contains(B)||ve.appendChild(B),A.state.isMounted=!0,Bu()}function $o(){return iE(B.querySelectorAll("[data-tippy-root]"))}function Wc($){A.clearDelayTimeouts(),$&&pe("onTrigger",[A,$]),Mi();var ve=H(!0),Se=et(),Mt=Se[0],_t=Se[1];Ms.isTouch&&Mt==="hold"&&_t&&(ve=_t),ve?i=setTimeout(function(){A.show()},ve):A.show()}function so($){if(A.clearDelayTimeouts(),pe("onUntrigger",[A,$]),!A.state.isVisible){pr();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf($.type)>=0&&a)){var ve=H(!1);ve?r=setTimeout(function(){A.state.isVisible&&A.hide()},ve):o=requestAnimationFrame(function(){A.hide()})}}function Lr(){A.state.isEnabled=!0}function qc(){A.hide(),A.state.isEnabled=!1}function Sa(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function Kc($){if(!A.state.isDestroyed){pe("onBeforeUpdate",[A,$]),Hc();var ve=A.props,Se=X$(t,Object.assign({},ve,q$($),{ignoreAttributes:!0}));A.props=Se,Fr(),ve.interactiveDebounce!==Se.interactiveDebounce&&(An(),C=z$(Uu,Se.interactiveDebounce)),ve.triggerTarget&&!Se.triggerTarget?Sf(ve.triggerTarget).forEach(function(Mt){Mt.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),st(),oe(),se&&se(ve,Se),A.popperInstance&&(Bu(),$o().forEach(function(Mt){requestAnimationFrame(Mt._tippy.popperInstance.forceUpdate)})),pe("onAfterUpdate",[A,$])}}function Fs($){A.setProps({content:$})}function Ta(){var $=A.state.isVisible,ve=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=Ms.isTouch&&!A.props.touch,_t=NO(A.props.duration,0,Uo.duration);if(!($||ve||Se||Mt)&&!Te().hasAttribute("disabled")&&(pe("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,ze()&&(B.style.visibility="visible"),oe(),Mi(),A.state.isMounted||(B.style.transition="none"),ze()){var si=Xe(),Hi=si.box,ao=si.content;FO([Hi,ao],0)}w=function(){var Pi;if(!(!A.state.isVisible||f)){if(f=!0,B.offsetHeight,B.style.transition=A.props.moveTransition,ze()&&A.props.animation){var Yc=Xe(),Da=Yc.box,Ho=Yc.content;FO([Da,Ho],_t),K$([Da,Ho],"visible")}Oe(),st(),W$(VO,A),(Pi=A.popperInstance)==null||Pi.forceUpdate(),pe("onMount",[A]),A.props.animation&&ze()&&jn(_t,function(){A.state.isShown=!0,pe("onShown",[A])})}},oo()}}function Ls(){var $=!A.state.isVisible,ve=A.state.isDestroyed,Se=!A.state.isEnabled,Mt=NO(A.props.duration,1,Uo.duration);if(!($||ve||Se)&&(pe("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,f=!1,a=!1,ze()&&(B.style.visibility="hidden"),An(),pr(),oe(!0),ze()){var _t=Xe(),si=_t.box,Hi=_t.content;A.props.animation&&(FO([si,Hi],Mt),K$([si,Hi],"hidden"))}Oe(),st(),A.props.animation?ze()&&mt(Mt,A.unmount):A.unmount()}}function ay($){sn().addEventListener("mousemove",C),W$(nE,C),C($)}function SE(){A.state.isVisible&&A.hide(),A.state.isMounted&&($u(),$o().forEach(function($){$._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),VO=VO.filter(function($){return $!==A}),A.state.isMounted=!1,pe("onHidden",[A]))}function TE(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),Hc(),delete t._tippy,A.state.isDestroyed=!0,pe("onDestroy",[A]))}}function qv(t,e){e===void 0&&(e={});var n=Uo.plugins.concat(e.plugins||[]);Gle();var i=Object.assign({},e,{plugins:n}),r=jle(t);if(0)var o,a;var l=r.reduce(function(d,f){var p=f&&eue(f,i);return p&&d.push(p),d},[]);return rE(t)?l[0]:l}qv.defaultProps=Uo;qv.setDefaultProps=Qle;qv.currentInput=Ms;var DDe=Object.assign({},jv,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});qv.setDefaultProps({render:aH});var $O=qv;var HO=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=iw(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function oE(t){return t instanceof wo}function Kv(t){return typeof t=="function"}function Yv(t){return typeof t=="string"}var GO=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},zO=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},tue=new we("Component context"),WO=(()=>{let e=class e{constructor(){this.injector=ee(ln),this.appRef=ee(cs),this.environmentInjector=ee(fi)}createComponent(i,r={}){let o=r.injector??this.injector,a;return r.context&&(a=cc(r.context),o=ln.create({providers:[{provide:tue,useValue:a.asReadonly()}],parent:o})),new HO({component:i,vcr:r.vcr,injector:o,appRef:this.appRef,environmentInjector:r.environmentInjector||this.environmentInjector,contextSignal:a})}createTemplate(i,r={}){return new GO({vcr:r.vcr,appRef:this.appRef,tpl:i,context:r.context,injector:r.injector})}createView(i,r={}){if(oE(i))return this.createTemplate(i,r);if(Kv(i))return this.createComponent(i,r);if(Yv(i))return new zO(i);throw"Type of content is not supported"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lH=!1,uH=!1;typeof window<"u"&&(lH="IntersectionObserver"in window,uH="ResizeObserver"in window);function cH(t,e={root:null,threshold:.3}){let n=pH(t);return new $e(i=>{if(!lH){i.next(),i.complete();return}let r=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(i.next(),i.complete())},e);return r.observe(n),()=>r.disconnect()})}function dH(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function iue(t){let e=pH(t);return hH(e).pipe(IS(150),Fe(()=>dH(e)))}function hH(t){return rue(t)}function rue(t){return new $e(e=>{if(!uH){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Qv(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],i=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(e[r]=t[r])}),e}function fH(t){return(sue(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function oue(t){return aue(t)?"":typeof t=="string"?t:`${t}px`}function sue(t){return typeof t=="string"}function aue(t){return t==null}function pH(t){return t instanceof nn?t.nativeElement:t}var qO,KO=new WeakMap;function cue(t,e){return qO??=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting||KO.get(i.target)()})}),KO.set(t,e),qO.observe(t),()=>{KO.delete(t),qO.unobserve(t)}}var YO=new we("Tippy config",{providedIn:"root",factory(){return{}}}),mH=new we("TIPPY_REF"),Fc=(()=>{let e=class e{set appendTo(i){this.updateProps({appendTo:i})}constructor(i,r,o,a,l,d,f){this.platformId=i,this.globalConfig=r,this.injector=o,this.viewService=a,this.vcr=l,this.zone=d,this.hostRef=f,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new zt,this.destroyed=new di,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new di,this.contentChanged=new di}ngOnChanges(i){if(this.isServerSide)return;let r=Object.keys(i).reduce((a,l)=>(l==="isVisible"||(a[l]=i[l].currentValue),a),{}),o;sE("content",i)&&this.contentChanged.next(),sE("variation",i)?(o=i.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(r=re(re({},this.globalConfig.variations[o]),r)),sE("isEnabled",i)&&(this.enabled=i.isEnabled.currentValue,this.setStatus()),sE("isVisible",i)&&(this.isVisible?this.show():this.hide()),this.updateProps(r)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?cH(this.host).pipe(Oi(()=>this.isOverflowing$()),go(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):cH(this.host).pipe(go(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(go(this.destroyed)).subscribe(i=>{this.checkOverflow(i)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(go(this.destroyed)).subscribe(i=>{i?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=cue(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(i){this.setProps(re(re({},this.props),i))}setProps(i){this.props=i,this.instance?.setProps(Qv(i))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=$O(this.host,xt(re(re(re({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Qv(this.globalConfig)),Qv(this.props)),{onMount:i=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(i)},onCreate:i=>{if(i.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let r of fH(this.className))i.popper.classList.add(r);this.globalConfig.onCreate?.(i),this.isVisible===!0&&i.show()},onShow:i=>{i.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let r=this.resolveContent(i);Yv(r)&&(i.setProps({allowHTML:!1}),r?.trim()?this.enable():this.disable()),i.setContent(r),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(i,this.hostWidth):this.popperWidth&&this.setInstanceWidth(i,this.popperWidth),this.globalConfig.onShow?.(i)},onHide(i){i.reference.removeAttribute("data-tippy-open")},onHidden:i=>{this.onHidden(i)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(i){if(!this.viewOptions$&&!Yv(this.content)){let o=ln.create({providers:[{provide:mH,useValue:this.instance}],parent:this.injector});Kv(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):oE(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,re({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Kv(this.content)&&this.viewRef.detectChanges();let r=this.viewRef.getElement();return this.useTextContent&&(r=i.reference.textContent),Yv(r)&&this.globalConfig.beforeRender&&(r=this.globalConfig.beforeRender(r)),r}handleContextMenu(){$d(this.host,"contextmenu").pipe(go(this.destroyed)).subscribe(i=>{i.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.clientY,bottom:i.clientY,left:i.clientX,right:i.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{$d(document.body,"keydown").pipe(hi(({code:i})=>i==="Escape"),go(Gp(this.destroyed,this.visibleInternal.pipe(hi(i=>!i))))).subscribe(()=>this.hide())})}checkOverflow(i){i?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){hH(this.host).pipe(go(Gp(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(i,r){let o=oue(r);i.popper.style.width=o,i.popper.style.maxWidth=o,i.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return dm(this.platformId)}onHidden(i=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(i)}isOverflowing$(){let i=[iue(this.host)];return this.staticWidthHost&&i.push(this.contentChanged.asObservable().pipe(Oi(()=>new $e(r=>{let o=window.requestAnimationFrame(()=>{r.next(),r.complete()});return()=>cancelAnimationFrame(o)})),Fe(()=>dH(this.host)))),Gp(...i)}};e.\u0275fac=function(r){return new(r||e)(L(Br),L(YO),L(ln),L(WO),L(Ei),L(Et),L(nn))},e.\u0275dir=At({type:e,selectors:[["","tp",""]],inputs:{appendTo:[xe.None,"tpAppendTo","appendTo"],content:[xe.None,"tp","content"],delay:[xe.None,"tpDelay","delay"],duration:[xe.None,"tpDuration","duration"],hideOnClick:[xe.None,"tpHideOnClick","hideOnClick"],interactive:[xe.None,"tpInteractive","interactive"],interactiveBorder:[xe.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[xe.None,"tpMaxWidth","maxWidth"],offset:[xe.None,"tpOffset","offset"],placement:[xe.None,"tpPlacement","placement"],popperOptions:[xe.None,"tpPopperOptions","popperOptions"],showOnCreate:[xe.None,"tpShowOnCreate","showOnCreate"],trigger:[xe.None,"tpTrigger","trigger"],triggerTarget:[xe.None,"tpTriggerTarget","triggerTarget"],zIndex:[xe.None,"tpZIndex","zIndex"],animation:[xe.None,"tpAnimation","animation"],useTextContent:[xe.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",er],isLazy:[xe.HasDecoratorInputTransform,"tpIsLazy","isLazy",er],variation:[xe.None,"tpVariation","variation"],isEnabled:[xe.None,"tpIsEnabled","isEnabled"],className:[xe.None,"tpClassName","className"],onlyTextOverflow:[xe.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",er],staticWidthHost:[xe.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",er],data:[xe.None,"tpData","data"],useHostWidth:[xe.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",er],hideOnEscape:[xe.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",er],detectChangesComponent:[xe.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[xe.None,"tpPopperWidth","popperWidth"],customHost:[xe.None,"tpHost","customHost"],isVisible:[xe.HasDecoratorInputTransform,"tpIsVisible","isVisible",er]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[lm,Co]});let t=e;return t})();function sE(t,e){return t in e}var gH=(()=>{let e=class e{constructor(i,r,o){this.globalConfig=i,this.view=r,this.injector=o}create(i,r,o={}){let a=o.variation||this.globalConfig.defaultVariation,l=xt(re(re(re({onShow:d=>{if(i.setAttribute("data-tippy-open",""),!d.$viewOptions){d.$viewOptions={};let f=ln.create({providers:[{provide:mH,useValue:d}],parent:o.injector||this.injector});d.$viewOptions.injector=f,oE(r)?d.$viewOptions.context=re({$implicit:d.hide.bind(d)},o.context):Kv(r)&&(d.context=o.context,d.data=o.data)}d.view||(d.view=this.view.createView(r,re(re({},o),d.$viewOptions))),d.setContent(d.view.getElement()),o?.onShow?.(d)},onHidden:d=>{i.removeAttribute("data-tippy-open"),o.preserveView||(d.view.destroy(),d.view=null),o?.onHidden?.(d)}},Qv(this.globalConfig)),this.globalConfig.variations[a]),Qv(o)),{onCreate:d=>{if(d.popper.classList.add(`tippy-variation-${a}`),o.className)for(let f of fH(o.className))d.popper.classList.add(f);this.globalConfig.onCreate?.(d),o.onCreate?.(d)}});return $O(i,l)}};e.\u0275fac=function(r){return new(r||e)(ae(YO),ae(WO),ae(ln))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vH(t={}){return sc([{provide:YO,useValue:t}])}var Lc=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var uue=500,or=uue+"ms ease",aE=Yr("skip",[Ln(":enter",[])]),Vc=Yr("fade",[Ln(":enter",[ot({opacity:0}),ti(or,ot({opacity:1}))]),Ln(":leave",[ot({opacity:1,"pointer-events":"none"}),ti(or,ot({opacity:0}))])]),YDe=Yr("scalefade",[Ln(":enter",[ot({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),ti(or,ot({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Ln(":leave",[ot({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),ti(or,ot({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),cE=Yr("crossfade",[Ln(":enter",[ot({opacity:0}),ti(or,ot({opacity:1}))]),Ln(":leave",[ot({opacity:1,"pointer-events":"none",position:"absolute"}),ti(or,ot({opacity:0}))])]),yH=Yr("enter",[Ln(":enter",[ot({opacity:0}),ti(or,ot({opacity:1}))])]),_H=Yr("leave",[Ln(":leave",[ot({opacity:1}),ti(or,ot({opacity:0}))])]),QDe=Yr("hidden",[Ln("* => true",[ot({opacity:"*"}),ti(or,ot({opacity:0}))]),Ln("true => *",[ot({opacity:0}),ti(or,ot({opacity:"*"}))])]),lE=Yr("drawer2",[f9("0",ot({height:0})),Ln("1 => void",[]),Ln("1 => *",[ot({height:"*"}),ti(or,ot({height:0}))]),Ln("0 => void",[ot({height:0}),ti(or,ot({height:0}))]),Ln("0 => *",[ot({height:0}),ti(or,ot({height:"*"}))])]),wH=Yr("drawer",[Ln(":enter",[ot({height:0,opacity:0}),ti(or,ot({height:"*",opacity:"*"}))]),Ln(":leave",[ot({height:"*",opacity:"*"}),ti(or,ot({height:0,opacity:0}))])]);var K=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,i){if(!this.isEmpty(e)&&n)return i?e.map(r=>i(r)).includes(i(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let i of n)i!=null&&!e.includes(i)&&e.push(i);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,i){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(i){let r=e.map(o=>i(o));for(let o of n.map(a=>i(a)))this._remove(e,o,r)}else for(let r of n)this._remove(e,r)}else return i?this._remove(e,i(n),e.map(r=>i(r))):this._remove(e,n)}static _remove(e,n,i){if(i){let r=i.indexOf(n);if(r!=-1)return i.splice(r,1),e.splice(r,1).length>0}else{let r=e.indexOf(n);if(r!=-1)return e.splice(r,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static difference(e,n,i){if(!this.isEmpty(e)&&!this.isEmpty(n)){let r=[];for(let o of e)n.some(a=>i(o,a))||r.push(o);return r}return[]}static unique(e,n){if(!this.isEmpty(e)){let i=[],r=new Map,o;for(let a of e)o=n(a),r.has(o)||(r.set(o,!0),i.push(a));return i}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(i?e[e.length-1]:void 0)}static findPrevious(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a>0;)if(i(e[--a]))return e[a];if(r){for(a=e.length-1;a>o;)if(i(e[--a]))return e[a]}return}}static getNext(e,n,i=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(i?e[0]:void 0)}static findNext(e,n,i,r=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),a=o;for(;a<e.length-1;)if(i(e[++a]))return e[a];if(r){for(a=0;a<o;)if(i(e[++a]))return e[a]}return}}static findClosest(e,n,i){if(!this.isEmpty(e)){let r=e.indexOf(n),o=0,a,l=!0,d=!0;for(;l||d;)if(o++,d&&(a=e[r+o],a||(d=!1),a&&(!i||i(a)))||l&&(a=e[r-o],a||(l=!1),a&&(!i||i(a))))return a;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,i){if(n+1<e.length){for(let r=n+1;r<e.length;r++)if(!i||i(e[r]))return e[r]}if(n>0){for(let r=n-1;r>-1;r--)if(!i||i(e[r]))return e[r]}return null}static shuffle(e){let n=e.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[e[n],e[i]]=[e[i],e[n]];return e}};var jc=class extends Xn{constructor(e){super(e)}next(e){e!==this.value&&super.next(e)}subscribe(e,n,i){return typeof e=="function"?super.pipe(xS(1)).subscribe(e,n,i):super.subscribe(e)}};var hn=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=new jc(!1),this.changes=new jc(!1),this.errors=new jc(!1)}initTheme(){this.darkTheme?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme=!this.darkTheme,document.body.classList.toggle("light-theme",!this.darkTheme),document.body.classList.toggle("dark-theme",this.darkTheme)}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(i){window.localStorage.setItem("REDUCE_BANDWIDTH",i?"1":"0")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jt=class{};var Jt=(()=>{let e=class e{static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(i,r){if(i){let o=i.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=(r?r.clientHeight:window.innerHeight)&&o.right<=(r?r.clientWidth:window.innerWidth)}}};e.MOUSE_MOVEMENT_TOLERANCE=10;let t=e;return t})();function due(t,e){if(t&1){let n=Y();y(0,"i",4),O("mousedown",function(r){R(n);let o=D();return N(o.onMouseDown(r))})("click",function(r){R(n);let o=D();return N(o.nextState(r))})("contextmenu",function(r){R(n);let o=D();return N(o.previousState(r))}),_()}if(t&2){let n=D();P("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function hue(t,e){if(t&1){let n=Y();y(0,"i",5),O("mousedown",function(r){R(n);let o=D();return N(o.onMouseDown(r))})("click",function(r){R(n);let o=D();return N(o.nextState(r))})("contextmenu",function(r){R(n);let o=D();return N(o.previousState(r))}),_()}}function fue(t,e){if(t&1){let n=Y();y(0,"i",6),O("mousedown",function(r){R(n);let o=D();return N(o.onMouseDown(r))})("click",function(r){R(n);let o=D();return N(o.nextState(r))})("contextmenu",function(r){R(n);let o=D();return N(o.previousState(r))}),_()}}var uE=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new zt}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(i){this.clickX=i.pageX,this.clickY=i.pageY}nextState(i){if(Math.abs(i.pageX-this.clickX)<Jt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Jt.MOUSE_MOVEMENT_TOLERANCE){switch(this.state){case-1:this.state=this.tri?0:1,i.state=this.tri?0:1;break;case 0:this.state=1,i.state=1;break;case 1:this.state=-1,i.state=-1;break}this.stateChange.emit(i)}}previousState(i){if(Math.abs(i.pageX-this.clickX)<Jt.MOUSE_MOVEMENT_TOLERANCE&&Math.abs(i.pageY-this.clickY)<Jt.MOUSE_MOVEMENT_TOLERANCE){switch(i.preventDefault(),this.state){case-1:this.state=1,i.state=1;break;case 0:this.state=-1,i.state=-1;break;case 1:this.state=this.tri?0:-1,i.state=this.tri?0:-1;break}this.stateChange.emit(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[ue],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,due,1,1,"i",1)(2,hue,1,0,"i",2)(3,fue,1,0,"i",3),_()),r&2&&(Ae("tri",o.tri),T(),P("ngIf",o.state==-1),T(),P("ngIf",o.state==0),T(),P("ngIf",o.state==1))},dependencies:[fe,pi,Ge],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();var dE=class{static openYandexReverseImageSearch(e,n,i){let r="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(n.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));e.altKey?(navigator.clipboard.writeText(r),i.create(e.target,"URL copied to clipboard!",{trigger:"click",onShow(o){setTimeout(()=>{o.hide()},3e3)},onHidden(o){o.destroy()}}).show()):window.open(r,"_blank")}};var Tf=class{constructor(){this.images=[]}};var Df=(()=>{let e=class e{constructor(i){let r=i.element.nativeElement;r.draggable=!0,r.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),r.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),r.ondragend=()=>e.onDragEnd(this.array),r.ondragover=o=>o.preventDefault()}static onDragStart(i,r){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=i,this.currentIndex=r)}static onDragEnter(i,r){this.currentArray==i&&this.currentIndex!=r&&(this.currentArray.splice(r,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=r)}static onDragEnd(i){this.currentArray==i&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(r){return new(r||e)(L(Ei))},e.\u0275dir=At({type:e,selectors:[["","dragdrop",""]],inputs:{object:[xe.None,"dragdrop","object"],array:[xe.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function pue(t,e){if(t&1){let n=Y();y(0,"div",4),O("click",function(){let o=R(n).$implicit,a=D();return N(a.target=o)}),Z(1,"img",5),_()}if(t&2){let n=e.$implicit,i=D();Ae("active",n==i.target),P("dragdrop",n)("dragdropParent",i.images),T(),P("src",n.thumbnailLink,Zn)}}var bH=(()=>{let e=class e extends jt{constructor(){super(...arguments),this.configuration={title:"Group Order",buttons:[{text:()=>"Save",click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.target=K.getFirst(this.images)}submit(){this.resolve(this.images)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-group-order"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)("keydown.escape",function(l){return o.close(l)},!1,$t)},inputs:{images:"images"},standalone:!0,features:[ft,ue],decls:4,vars:2,consts:[[1,"image-container"],[1,"image-content",3,"src"],[1,"results"],["class","image-container",3,"active","dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"image",3,"src"]],template:function(r,o){r&1&&(y(0,"div",0),Z(1,"img",1),_(),y(2,"div",2),U(3,pue,2,5,"div",3),_()),r&2&&(T(),P("src",o.target.contentLink,Zn),T(2),P("ngForOf",o.images))},dependencies:[fe,Be,Df],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{min-height:0;display:flex;justify-content:center}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{max-width:100%;padding:.3333333333rem .3333333333rem 0;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:120px;min-height:120px;padding:.3333333333rem;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container.active[_ngcontent-%COMP%]{outline:.1666666667rem solid var(--color-secondary);outline-offset:-.1666666667rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var xf=class{constructor(e,n,i={}){this.queue=[],this.waitingForOpponent=null,this.previousWinner=null,this.outcome=[],this.comparisonCount=0,this.data=e.slice(),this.getKey=n,this.directlyBetterThan=i;let r;this.data.forEach(o=>{r=this.getKey(o),this.directlyBetterThan[r]||(this.directlyBetterThan[r]=[])}),this.createQueue(this.data),this.nextComparison()}createQueue(e){this.queue.length=0;let n,i,r=K.shuffle(e.slice());for(;r.length>0;)n=r.shift(),i=r.shift(),i?this.queue.push([n,i]):this.waitingForOpponent=n}nextComparison(){let e=this.queue.shift();if(!e){this.resolveTies(this.waitingForOpponent);return}let n=null;this.getBetterThan(e[0]).includes(e[1])?n=e[0]:this.getBetterThan(e[1]).includes(e[0])&&(n=e[1]),n?(this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,n]),this.waitingForOpponent=null):this.waitingForOpponent=n,this.nextComparison()):this.comparison=e}resolveTies(e){if(this.waitingForOpponent=null,e){this.outcome.push(e),this.previousWinner&&(this.directlyBetterThan[this.getKey(this.previousWinner)]=[e],this.previousWinner=null);let n=this.directlyBetterThan[this.getKey(e)].length;n>1?(this.previousWinner=e,this.createQueue(this.directlyBetterThan[this.getKey(e)]),this.nextComparison()):n==1?this.resolveTies(this.directlyBetterThan[this.getKey(e)][0]):n==0&&(this.comparison=null)}}addComparisonResult(e,n){this.comparisonCount++,this.waitingForOpponent?(this.queue.push([this.waitingForOpponent,e]),this.waitingForOpponent=null):this.waitingForOpponent=e,this.directlyBetterThan[this.getKey(e)].push(n),this.nextComparison()}getBetterThan(e,n=[]){for(let i of this.directlyBetterThan[this.getKey(e)])n.includes(i)||(n.push(i),this.getBetterThan(i,n));return n}reset(){this.outcome.length=0,this.comparisonCount=0;for(let e of Object.keys(this.directlyBetterThan))this.directlyBetterThan[e].length=0;this.createQueue(this.data),this.nextComparison()}};function mue(t,e){if(t&1){let n=Y();y(0,"div",4)(1,"div",5),O("click",function(){R(n);let r=D();return N(r.onImageClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),Z(2,"img",6),_(),Z(3,"div",7),y(4,"div",5),O("click",function(){R(n);let r=D();return N(r.onImageClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),Z(5,"img",6),_()()}if(t&2){let n=D();T(2),P("src",n.tournament.comparison[0].thumbnailLink,Zn),T(3),P("src",n.tournament.comparison[1].thumbnailLink,Zn)}}function gue(t,e){if(t&1&&(y(0,"div",8),Z(1,"img",6),_()),t&2){let n=e.$implicit;T(),P("src",n.thumbnailLink,Zn)}}var CH=(()=>{let e=class e extends jt{constructor(){super(...arguments),this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.tournament=new xf(this.images,i=>i.id)}onImageClick(i,r){this.tournament.addComparisonResult(i,r)}reset(){this.tournament.reset()}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-image-comparison"]],inputs:{images:"images"},standalone:!0,features:[ft,ue],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(r,o){r&1&&(U(0,mue,6,2,"div",0),Z(1,"div",1),y(2,"div",2),U(3,gue,2,1,"div",3),_()),r&2&&(P("ngIf",o.tournament.comparison),T(3),P("ngForOf",o.tournament.outcome))},dependencies:[fe,Be,Ge],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var hE=class{};var fE=class extends hE{};var Pr=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Af=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,i){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Er(this.http.post(r,{name:e,parents:n,mimeType:i}))}createFolder(e,n){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return Er(this.http.post(i,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let i="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(i)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Er(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return Er(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let i="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return Er(this.http.patch(i,n))}move(e,n,i){let r="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+i+"&key="+this.API_KEY;return Er(this.http.patch(r,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,i){return this.updateMetadata(e,{appProperties:{[n]:i}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e;window.open(n,"_blank")}updateMetadata(e,n){let i="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return Er(this.http.patch(i,n))}getFileArrayPromise(e,n){return n?Er(this.http.post(e,n).pipe(Fe(i=>i?i.files:[]))):Er(this.http.get(e).pipe(Fe(i=>i?i.files:[])))}};var Mf=(()=>{let e=class e extends Af{constructor(i){super(i),this.http=i,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let i=sessionStorage.getItem("dataFileId");i&&(this._fileId=i)}return this._fileId}set dataFileId(i){this._fileId=i,sessionStorage.setItem("dataFileId",i)}getData(){return I(this,null,function*(){let i="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield Er(this.http.get(i,{params:{alt:"media"},responseType:"json"})).catch(r=>r)})}getBase64(i){return I(this,null,function*(){return new Promise(r=>{let o="https://www.googleapis.com/drive/v3/files/"+i;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(a=>{let l=new FileReader;l.onload=d=>r(d.target.result),l.readAsDataURL(a)})})})}};e.\u0275fac=function(r){return new(r||e)(ae(Rl))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bi=(()=>{let e=class e{constructor(i,r,o){this.sanitizer=i,this.applicationService=r,this.googleService=o,this.updateDelay=new Lc(5e3),this.usePlaceholder=!1,this.placeholderThumb="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/A_black_image.jpg/320px-A_black_image.jpg",this.placeholderImage="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/A_black_image.jpg/1280px-A_black_image.jpg",this.fullscreenVisible=cc(!1),this.sidebarVisible=Jt.isLargeScreen()||this.applicationService.reduceBandwidth,this.filter=cc([]),this.target=cc(null),this.tagCounts={}}processData(){return I(this,null,function*(){let i=yield this.googleService.getData();return this.dataFolderId=i.dataFolderId,this.archiveFolderId=i.archiveFolderId,this.heartsFilter=i.heartsFilter,this.bookmarksFilter=i.bookmarksFilter,this.settings=i.settings,this.groupSizeFilterMin=i.groupSizeFilterMin,this.groupSizeFilterMax=i.groupSizeFilterMax,this.tagGroups=i.tagGroups,this.tagGroups.forEach(r=>r.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase())),i})}processImages(i,r=this.dataFolderId,o=[],a={calls:0}){a.calls++,this.googleService.getFolderMetadata(r).then(l=>{for(let d of l.filter(f=>Pr.isFolder(f)))this.processImages(i,d.id,o,a);if(K.push(o,l.filter(d=>Pr.isImage(d)||Pr.isVideo(d)).map(d=>this.metaToImage(d,i.imageProperties.find(f=>f.id==d.id),r,this.applicationService.reduceBandwidth))),--a.calls==0){this.images=o,this.groups=i.groupProperties.map(d=>{let f=new Tf;return f.images=this.images.filter(p=>d.imageIds.includes(p.id)),f.images.sort((p,v)=>d.imageIds.indexOf(p.id)-d.imageIds.indexOf(v.id)),f.images.forEach(p=>p.group=f),f}),this.refreshFilter(),this.target.set(K.getFirst(this.filter()));for(let d of K.difference(i.imageProperties,this.images,(f,p)=>f.id==p.id))console.log(d),console.log("This image does not exist, but has a data entry. Removing image entry from data."),K.remove(this.images,this.images.find(f=>f.id==d.id));this.refreshTagCounts(),this.applicationService.loading.next(!1)}})}metaToImage(i,r,o,a){let l=new fE;return l.id=i.id,l.name=i.name,l.mimeType=i.mimeType,l.parentFolderId=o,this.usePlaceholder?(l.thumbnailLink=this.placeholderThumb,l.imageMediaMetadata={width:1280,height:960},l.aspectRatio=1.333,l.contentLink=this.placeholderImage):i.thumbnailLink&&(a?l.thumbnailLink=i.thumbnailLink:l.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"),Pr.isImage(l)?(l.imageMediaMetadata=i.imageMediaMetadata,l.aspectRatio=l.imageMediaMetadata.width/l.imageMediaMetadata.height,l.contentLink=i.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Pr.isVideo(l)&&(l.videoMediaMetadata=i.videoMediaMetadata,l.videoMediaMetadata||(l.videoMediaMetadata={}),(!l.videoMediaMetadata.width||l.videoMediaMetadata.width==0)&&(l.videoMediaMetadata.width=1920),(!l.videoMediaMetadata.height||l.videoMediaMetadata.height==0)&&(l.videoMediaMetadata.height=1080),l.aspectRatio=l.videoMediaMetadata.width/l.videoMediaMetadata.height,l.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+l.id+"/preview"))),r?(l.heart=r.heart,l.bookmark=r.bookmark,l.tags=r.tags||[],l.likes=r.likes||0):(this.settings.autoBookmark&&(l.bookmark=!0),l.tags=[],l.likes=0),l}updateData(){this.applicationService.changes.next(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tags:i.tags,likes:i.likes})),groupProperties:this.groups.map(i=>({imageIds:i.images.map(r=>r.id)})),tagGroups:this.tagGroups,heartsFilter:this.heartsFilter,bookmarksFilter:this.bookmarksFilter,groupSizeFilterMin:this.groupSizeFilterMin,groupSizeFilterMax:this.groupSizeFilterMax}).then(i=>{i||this.applicationService.errors.next(!0)}).finally(()=>{this.applicationService.changes.next(!1)})})}refreshTagCounts(){if(Object.keys(this.tagCounts).length==0)for(let i of this.tagGroups)for(let r of i.tags)this.tagCounts[r.id]=0;else for(let i in this.tagCounts)this.tagCounts[i]=0;this.tagCounts._heart=this.images.filter(i=>i.heart).length,this.tagCounts._bookmark=this.images.filter(i=>i.bookmark).length;for(let i of this.images)for(let r of i.tags)this.tagCounts[r]++}setRandomTarget(){if(!K.isEmpty(this.filter())){let i,r=this.target();r?r.group?i=K.getRandom(this.filter(),r.group.images):i=K.getRandom(this.filter(),[r]):i=K.getRandom(this.filter()),i&&this.target.set(i)}}setRandomGroupTarget(){let i=this.target();i?.group&&this.target.set(K.getRandom(i.group.images,[i]))}refreshFilter(i){i?this.actuallyRefreshFilter(i):this.images.forEach(r=>this.actuallyRefreshFilter(r)),this.filter.set(this.images.filter(r=>r.passesFilter))}actuallyRefreshFilter(i){i.group?i.group.open?i.passesFilter=this.doesPassFilter(i):i.group.images.forEach(r=>r.passesFilter=this.doesPassFilter(r)):i.passesFilter=this.doesPassFilter(i)}doesPassFilter(i){if(!i||this.heartsFilter==-1&&i.heart||this.heartsFilter==1&&!i.heart||this.bookmarksFilter==-1&&i.bookmark||this.bookmarksFilter==1&&!i.bookmark||this.settings.showVideos==-1&&Pr.isVideo(i))return!1;let r=i.group?i.group.images.length:0;if(r<this.groupSizeFilterMin||r>this.groupSizeFilterMax)return!1;let o;for(let l of this.tagGroups)if(o=l.tags.some(d=>i.tags.includes(d.id)),l.state==-1&&o||l.state==1&&!o)return!1;let a;for(let l of this.tagGroups.flatMap(d=>d.tags))if(a=i.tags.includes(l.id),l.state==-1&&a||l.state==1&&!a)return!1;return!0}toggleHeart(i){i.heart=!i.heart,this.tagCounts._heart=this.images.filter(r=>r.heart).length,this.refreshFilter(i),this.updateData()}toggleBookmark(i){i.bookmark=!i.bookmark,this.tagCounts._bookmark=this.images.filter(r=>r.bookmark).length,this.refreshFilter(i),this.updateData()}addTag(i,r){i.tags.includes(r)||i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}toggleTag(i,r){i.tags.includes(r)?K.remove(i.tags,r):i.tags.push(r),this.tagCounts[r]=this.images.filter(o=>o.tags.includes(r)).length,this.refreshFilter(i),this.updateData()}like(i){i.likes++,this.updateData()}dislike(i){i.likes>0&&(i.likes--,this.updateData())}remove(i,r){return I(this,null,function*(){this.applicationService.loading.next(!0);let o;i.group?(o=K.getNext(i.group.images,i),o||(o=K.getPrevious(i.group.images,i))):(o=K.getNext(this.masonryImages,this.masonryTargetReference),o||(o=K.getPrevious(this.masonryImages,this.masonryTargetReference))),r?yield this.googleService.move(i.id,i.parentFolderId,this.archiveFolderId):yield this.googleService.trash(i.id),K.remove(this.images,this.images.find(a=>a.id==i.id)),i.group&&(i.group.images.length>2?K.remove(i.group.images,i):(i.group.images.forEach(a=>delete a.group),K.remove(this.groups,i.group))),this.refreshFilter(),this.target.set(o),this.refreshTagCounts(),this.updateData(),this.applicationService.loading.next(!1)})}};e.\u0275fac=function(r){return new(r||e)(ae(oP),ae(hn),ae(Mf))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vue(t,e){if(t&1){let n=Y();y(0,"span",12),O("click",function(){R(n);let r=D();return N(r.reorderGroup())}),F(1,"Reorder Group"),_()}}var EH=(()=>{let e=class e extends jt{constructor(i,r,o,a,l){super(),this.applicationService=i,this.stateService=r,this.googleService=o,this.dialogService=a,this.tippyService=l,this.configuration={title:"Settings",buttons:[{text:()=>"Close",click:()=>this.close()}]},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){}modifyGroup(){let i,r=this.stateService.target();r.group?(i=r.group.open,r.group.open=!0,this.stateService.modifyingGroup=r.group.images.slice()):this.stateService.modifyingGroup=[r];let o=[{text:()=>"Confirm: "+this.stateService.modifyingGroup?.length+" images",click:()=>null},{iconClass:()=>"fa-solid fa-times"}];this.dialogService.create(null,{buttons:o},!1,"bottom").then(a=>{if(a)if(this.stateService.modifyingGroup.length>1){if(r.group)r.group.images=this.stateService.modifyingGroup,r.group.images.forEach(l=>l.group=r.group);else{let l=new Tf;l.images=this.stateService.modifyingGroup,l.images.forEach(d=>d.group=l),this.stateService.groups.push(l)}this.stateService.updateData()}else r.group&&(r.group.images.forEach(l=>l.group=null),K.remove(this.stateService.groups,r.group));r.group&&(r.group.open=i),this.stateService.modifyingGroup=null,r.group&&r.group.images.forEach(l=>this.stateService.refreshFilter(l))}),r.group&&r.group.images.forEach(a=>this.stateService.refreshFilter(a)),this.close()}reorderGroup(){this.dialogService.create(bH,{images:this.stateService.target().group.images.slice()}).then(i=>{if(i){let r=new Map;i.forEach((o,a)=>r.set(o.id,a)),this.stateService.target().group.images.sort((o,a)=>r.get(o.id)-r.get(a.id)),this.stateService.refreshFilter(),this.stateService.updateData()}}),this.close()}openYandexReverseImageSearch(i){dE.openYandexReverseImageSearch(i,this.stateService.target(),this.tippyService),this.close()}startImageComparison(){this.dialogService.create(CH,{images:this.stateService.images.filter(i=>i.passesFilter)}),this.close()}copyTargetBase64(){this.googleService.getBase64(this.stateService.target().id).then(i=>navigator.clipboard.writeText(i)),this.close()}openTargetInGoogleDrive(){this.googleService.openSearch(this.stateService.target().name),this.close()}onShowVideosStateChange(i){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=i.state}onAutoBookmarkStateChange(i){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=i.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.refreshFilter(),this.needsDataUpdate&&this.stateService.updateData()),this.resolve(!0)}};e.\u0275fac=function(r){return new(r||e)(L(hn),L(Bi),L(Mf),L(Zt),L(gH))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.close(l)},!1,$t)("keydown.escape",function(l){return o.close(l)},!1,$t)},standalone:!0,features:[ft,ue],decls:22,vars:3,consts:[["tp","Modify Group",1,"button",3,"click"],["class","button","tp","Reorder Group",3,"click",4,"ngIf"],["tp","Yandex Reverse Image Search",1,"button",3,"click"],["tp","Pairwise Comparison",1,"button",3,"click"],["tp","Toggle Brightness Mode",1,"button",3,"click"],["tp","Copy Base64 Data",1,"button","mobile-display-none",3,"click"],["tp","Open in Google Drive",1,"button","mobile-display-none",3,"click"],[1,"h-separator"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"],["tp","Reorder Group",1,"button",3,"click"]],template:function(r,o){if(r&1&&(y(0,"span",0),O("click",function(){return o.modifyGroup()}),F(1,"Modify Group"),_(),U(2,vue,2,0,"span",1),y(3,"span",2),O("click",function(l){return o.openYandexReverseImageSearch(l)}),F(4,"Yandex RIS"),_(),y(5,"span",3),O("click",function(){return o.startImageComparison()}),F(6,"Comparison"),_(),y(7,"span",4),O("click",function(){return o.applicationService.toggleTheme()}),F(8,"Theme"),_(),y(9,"span",5),O("click",function(){return o.copyTargetBase64()}),F(10,"Base64"),_(),y(11,"span",6),O("click",function(){return o.openTargetInGoogleDrive()}),F(12,"Google Drive"),_(),Z(13,"div",7),y(14,"div",8)(15,"app-switch",9),O("stateChange",function(l){return o.onShowVideosStateChange(l)}),_(),y(16,"span",10),F(17,"Show Videos"),_()(),y(18,"div",8)(19,"app-switch",11),O("stateChange",function(l){return o.onAutoBookmarkStateChange(l)}),_(),y(20,"span",10),F(21,"Auto Bookmark"),_()()),r&2){let a;T(2),P("ngIf",(a=o.stateService.target())==null?null:a.group),T(13),P("state",o.stateService.settings.showVideos),T(4),P("state",o.stateService.settings.autoBookmark)}},dependencies:[fe,Ge,uE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var yue=["content"];function _ue(t,e){if(t&1){let n=Y();y(0,"div",4)(1,"span"),F(2),_(),y(3,"i",5),O("click",function(){R(n);let r=D();return N(r.close())}),_()()}if(t&2){let n=D();T(2),ce(n.contentInstance.configuration.title)}}function wue(t,e){t&1&&(y(0,"div",6),xT(1,null,7),_())}function bue(t,e){if(t&1){let n=Y();y(0,"i",11),O("click",function(){R(n);let r=D(2).$implicit;return N(r.click&&r.click())}),_()}if(t&2){let n=D(2).$implicit,i=D();bj("icon-button "+i.getIconClass(n)),Ae("disabled",i.isDisabled(n))}}function Cue(t,e){if(t&1){let n=Y();y(0,"div",12),O("click",function(){R(n);let r=D(2).$implicit;return N(r.click&&r.click())}),F(1),_()}if(t&2){let n=D(2).$implicit,i=D();Ae("disabled",i.isDisabled(n)),T(),ce(i.getText(n))}}function Eue(t,e){if(t&1&&(it(0),U(1,bue,1,4,"i",9)(2,Cue,2,3,"div",10),rt()),t&2){let n=D().$implicit;T(),P("ngIf",n.iconClass),T(),P("ngIf",n.text)}}function Iue(t,e){if(t&1&&(it(0),U(1,Eue,3,2,"ng-container",8),rt()),t&2){let n=e.$implicit,i=D();T(),P("ngIf",!i.isHidden(n))}}var IH=(()=>{let e=class e{get isActive(){return this.active()}get isBottom(){return this.position=="bottom"}get isVisible(){return this.visible?"visible":"hidden"}constructor(){this.visible=!0,this.result=new Promise(i=>this.resolve=i)}ngAfterViewInit(){if(this.contentComponentType){let i=this.containerRef.createComponent(this.contentComponentType);if(this.contentInstance=i.instance,this.contentInstance.resolve=this.resolve,this.result.then(()=>{this.visible=!1,setTimeout(()=>i.destroy(),250)}),this.inputs)for(let[r,o]of Object.entries(this.inputs))i.setInput(r,o);this.visible=!0,i.changeDetectorRef.detectChanges()}else{let i=this.inputs.buttons;for(let r of i)if(r.click){let o=r.click;r.click=()=>{o(),this.resolve(!0)}}else r.click=()=>this.resolve(!1);this.contentInstance={resolve:this.resolve,configuration:{title:null,buttons:i},close:()=>this.resolve(!1)},this.result.then(()=>{this.visible=!1;for(let r of i)r.text&&typeof r.text=="function"&&(r.text=r.text())}),this.visible=!0}}close(){this.contentInstance?.close()}isHidden(i){return i.hidden&&i.hidden()}isDisabled(i){return i.disabled&&i.disabled()}getText(i){if(i.text)return typeof i.text=="function"?i.text():i.text}getIconClass(i){if(i.iconClass)return typeof i.iconClass=="function"?i.iconClass():i.iconClass}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-dialog-base"]],viewQuery:function(r,o){if(r&1&&Pj(yue,5,Ei),r&2){let a;Z0(a=ew())&&(o.containerRef=a.first)}},hostVars:5,hostBindings:function(r,o){r&1&&O("keydown.escape",function(l){return o.close(l)},!1,$t),r&2&&(Ml("@overlayFade",o.isVisible),Ae("active",o.isActive)("bottom",o.isBottom))},standalone:!0,features:[ue],decls:4,vars:3,consts:[["class","header",4,"ngIf"],["class","content",4,"ngIf"],[1,"buttons"],[4,"ngFor","ngForOf"],[1,"header"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[4,"ngIf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(r,o){r&1&&(U(0,_ue,4,1,"div",0)(1,wue,3,0,"div",1),y(2,"div",2),U(3,Iue,2,1,"ng-container",3),_()),r&2&&(P("ngIf",o.contentInstance==null?null:o.contentInstance.configuration.title),T(),P("ngIf",o.contentComponentType),T(2),P("ngForOf",o.contentInstance==null?null:o.contentInstance.configuration.buttons))},dependencies:[fe,Be,Ge],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);background-color:var(--color-background-primary);position:fixed;top:50%;left:50%;transform:translate(-50%) translateY(-50%);border-radius:.5rem;overflow:hidden;z-index:200;transition:filter .25s}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.bottom[_nghost-%COMP%]{top:auto;bottom:.3333333333rem;transform:translate(-50%)}[_nghost-%COMP%]:not(.active){filter:blur(3px);pointer-events:none}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;overflow:auto;border:1px solid var(--color-border);border-radius:.3333333333rem;margin:0 .3333333333rem}.header[_ngcontent-%COMP%]{height:2rem;padding:.3333333333rem .3333333333rem .3333333333rem .6666666666rem;display:flex;align-items:center;justify-content:space-between}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:2rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}"],data:{animation:[Yr("overlayFade",[Ln("* => visible",[ot({opacity:0}),ti("250ms ease",ot({opacity:1}))]),Ln("* => hidden",[ot({opacity:1}),ti("250ms ease",ot({opacity:0}))])])]}});let t=e;return t})();function Sue(t,e){if(t&1&&(y(0,"span"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}var SH=(()=>{let e=class e extends jt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>this.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)("keydown.escape",function(l){return o.close(l)},!1,$t)},inputs:{title:"title",messages:"messages",positiveButtonText:"positiveButtonText",negativeButtonText:"negativeButtonText"},standalone:!0,features:[ft,ue],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,Sue,2,1,"span",1),_()),r&2&&(T(),P("ngForOf",o.messages))},dependencies:[fe,Be],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();function Tue(t,e){if(t&1&&(y(0,"span"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}var TH=(()=>{let e=class e extends jt{ngOnInit(){this.configuration={title:this.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275cmp=le({type:e,selectors:[["app-message-dialog"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)("keydown.escape",function(l){return o.close(l)},!1,$t)},inputs:{title:"title",messages:"messages"},features:[ft],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,Tue,2,1,"span",1),_()),r&2&&(T(),P("ngForOf",o.messages))},styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var Zt=(()=>{let e=class e{constructor(i,r){this.appRef=i,this.injector=r,this.stack=[]}openSettings(){return this.create(EH)}createMessage(i,r){return this.create(TH,{title:i,messages:r})}createConfirmation(i,r,o,a){return this.create(SH,{title:i,messages:r,positiveButtonText:o,negativeButtonText:a})}create(i,r,o=!0,a="center"){let l=iw(IH,{environmentInjector:this.injector}),d=l.instance;return d.contentComponentType=i,d.inputs=r,d.blurOverlay=o,d.position=a,d.active=()=>K.isLast(this.stack,d),d.result.then(()=>{K.remove(this.stack,d),setTimeout(()=>{this.appRef.detachView(l.hostView),l.destroy()},250)}),this.stack.push(d),this.appRef.attachView(l.hostView),document.body.firstElementChild.appendChild(l.location.nativeElement),l.changeDetectorRef.detectChanges(),d.result}};e.\u0275fac=function(r){return new(r||e)(ae(cs),ae(fi))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Due(t,e){t&1&&Z(0,"div",3),t&2&&P("@fade",void 0)}function xue(t,e){t&1&&Z(0,"span",4),t&2&&P("@fade",void 0)}var DH=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.dialogService=r,this.hideLoadingBarDelay=new Lc(1500),this.applicationService.initTheme(),this.applicationService.changes.subscribe(o=>{o===!1&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading.value||K.getLast(this.dialogService.stack)?.blurOverlay}getLoadingBarColor(){return this.applicationService.changes.value?"orange":this.applicationService.errors.value?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(r){return new(r||e)(L(hn),L(Zt))},e.\u0275cmp=le({type:e,selectors:[["app-root"]],standalone:!0,features:[ue],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(r,o){r&1&&(U(0,Due,1,1,"div",0),Z(1,"div",1),U(2,xue,1,1,"span",2),Z(3,"router-outlet")),r&2&&(P("ngIf",o.isBlurOverlayVisible()),T(),Zi("background-color",o.getLoadingBarColor()),T(),P("ngIf",o.applicationService.loading.value))},dependencies:[fe,Ge,Fv],styles:[".light-theme[_nghost-%COMP%], .light-theme   [_nghost-%COMP%]{--color-background-primary: white;--color-border: rgba(0, 0, 0, .2);--color-hover: rgba(0, 0, 0, .1);--color-text: black;--color-text-hover: rgb(28, 28, 28);--color-text-shadow: white;--color-highlight: blueviolet;--color-primary: #0075ff;--color-secondary: #155197;--color-positive: forestgreen;--color-negative: orangered}.dark-theme[_nghost-%COMP%], .dark-theme   [_nghost-%COMP%]{--color-background-primary: #202124;--color-background-secondary: #2b2c2f;--color-border: rgba(255, 255, 255, .2);--color-hover: rgba(255, 255, 255, .1);--color-text-shadow: black;--color-text: #e1e1e1;--color-text-hover: white;--color-primary: #0075ff;--color-secondary: #155197;--color-highlight: blueviolet;--color-positive: yellowgreen;--color-negative: lightcoral}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Vc]}});let t=e;return t})();var FH=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(L(Io),L(nn))},e.\u0275dir=At({type:e});let t=e;return t})(),vE=(()=>{let e=class e extends FH{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275dir=At({type:e,features:[ft]});let t=e;return t})(),ey=new we("");var Aue={provide:ey,useExisting:oc(()=>Ht),multi:!0};function Mue(){let t=oa()?oa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pue=new we(""),Ht=(()=>{let e=class e extends FH{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Mue())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(L(Io),L(nn),L(Pue,8))},e.\u0275dir=At({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&O("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[ch([Aue]),ft]});let t=e;return t})();var Oue=new we(""),kue=new we("");function LH(t){return t!=null}function VH(t){return Ol(t)?Qt(t):t}function jH(t){let e={};return t.forEach(n=>{e=n!=null?re(re({},e),n):e}),Object.keys(e).length===0?null:e}function UH(t,e){return e.map(n=>n(t))}function Rue(t){return!t.validate}function BH(t){return t.map(e=>Rue(e)?e:n=>e.validate(n))}function Nue(t){if(!t)return null;let e=t.filter(LH);return e.length==0?null:function(n){return jH(UH(n,e))}}function $H(t){return t!=null?Nue(BH(t)):null}function Fue(t){if(!t)return null;let e=t.filter(LH);return e.length==0?null:function(n){let i=UH(n,e).map(VH);return ES(i).pipe(Fe(jH))}}function HH(t){return t!=null?Fue(BH(t)):null}function xH(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Lue(t){return t._rawValidators}function Vue(t){return t._rawAsyncValidators}function XO(t){return t?Array.isArray(t)?t:[t]:[]}function mE(t,e){return Array.isArray(t)?t.includes(e):t===e}function AH(t,e){let n=XO(e);return XO(t).forEach(r=>{mE(n,r)||n.push(r)}),n}function MH(t,e){return XO(e).filter(n=>!mE(t,n))}var gE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$H(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},JO=class extends gE{get formDirective(){return null}get path(){return null}},Zv=class extends gE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ZO=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},jue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},BAe=xt(re({},jue),{"[class.ng-submitted]":"isSubmitted"}),en=(()=>{let e=class e extends ZO{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(Zv,2))},e.\u0275dir=At({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ae("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ft]});let t=e;return t})();var Xv="VALID",pE="INVALID",Pf="PENDING",Jv="DISABLED";function Uue(t){return(yE(t)?t.validators:t)||null}function Bue(t){return Array.isArray(t)?$H(t):t||null}function $ue(t,e){return(yE(e)?e.asyncValidators:t)||null}function Hue(t){return Array.isArray(t)?HH(t):t||null}function yE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var ek=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xv}get invalid(){return this.status===pE}get pending(){return this.status==Pf}get disabled(){return this.status===Jv}get enabled(){return this.status!==Jv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MH(e,this._rawAsyncValidators))}hasValidator(e){return mE(this._rawValidators,e)}hasAsyncValidator(e){return mE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pf,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jv,this.errors=null,this._forEachChild(i=>{i.disable(xt(re({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xt(re({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xv,this._forEachChild(i=>{i.enable(xt(re({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xt(re({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xv||this.status===Pf)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jv:Xv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pf,this._hasOwnPendingAsyncValidator=!0;let n=VH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zt,this.statusChanges=new zt}_calculateStatus(){return this._allControlsDisabled()?Jv:this.errors?pE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pf)?Pf:this._anyControlsHaveStatus(pE)?pE:Xv}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Bue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hue(this._rawAsyncValidators)}};var GH=new we("CallSetDisabledState",{providedIn:"root",factory:()=>tk}),tk="always";function Gue(t,e){return[...e.path,t]}function zue(t,e,n=tk){que(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Kue(t,e),Que(t,e),Yue(t,e),Wue(t,e)}function PH(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Wue(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function que(t,e){let n=Lue(t);e.validator!==null?t.setValidators(xH(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Vue(t);e.asyncValidator!==null?t.setAsyncValidators(xH(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();PH(e._rawValidators,r),PH(e._rawAsyncValidators,r)}function Kue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&zH(t,e)})}function Yue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&zH(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function zH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Que(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Xue(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Jue(t){return Object.getPrototypeOf(t.constructor)===vE}function Zue(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ht?n=o:Jue(o)?i=o:r=o}),r||i||n||null}function OH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kH(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ede=class extends ek{constructor(e=null,n,i){super(Uue(n),$ue(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var tde={provide:Zv,useExisting:oc(()=>Kt)},RH=Promise.resolve(),Kt=(()=>{let e=class e extends Zv{constructor(i,r,o,a,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new ede,this._registered=!1,this.name="",this.update=new zt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Zue(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Xue(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){RH.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&er(r);RH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Gue(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(L(JO,9),L(Oue,10),L(kue,10),L(ey,10),L(ia,8),L(GH,8))},e.\u0275dir=At({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[xe.None,"disabled","isDisabled"],model:[xe.None,"ngModel","model"],options:[xe.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ch([tde]),ft,Co]});let t=e;return t})();var nde={provide:ey,useExisting:oc(()=>Fu),multi:!0},Fu=(()=>{let e=class e extends vE{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&O("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[ch([nde]),ft]});let t=e;return t})();var ide={provide:ey,useExisting:oc(()=>io),multi:!0};function WH(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rde(t){return t.split(":")[0]}var io=(()=>{let e=class e extends vE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=WH(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=rde(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&O("change",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ch([ide]),ft]});let t=e;return t})(),Ps=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(WH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(nn),L(Io),L(io,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),ode={provide:ey,useExisting:oc(()=>qH),multi:!0};function NH(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sde(t){return t.split(":")[0]}var qH=(()=>{let e=class e extends vE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(a=>this._getOptionId(a));r=(a,l)=>{a._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,a)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],a=r.selectedOptions;if(a!==void 0){let l=a;for(let d=0;d<l.length;d++){let f=l[d],p=this._getOptionValue(f.value);o.push(p)}}else{let l=r.options;for(let d=0;d<l.length;d++){let f=l[d];if(f.selected){let p=this._getOptionValue(f.value);o.push(p)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=sde(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ri(e)))(o||e)}})(),e.\u0275dir=At({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&O("change",function(l){return o.onChange(l.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ch([ode]),ft]});let t=e;return t})(),Os=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(NH(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(NH(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(L(nn),L(Io),L(qH,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var ade=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Xi({});let t=e;return t})();var ut=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:GH,useValue:i.callSetDisabledState??tk}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Qi({type:e}),e.\u0275inj=Xi({imports:[ade]});let t=e;return t})();var ks=(()=>{let e=class e{constructor(i){this.elementRef=i,this.create=new zt}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(r){return new(r||e)(L(nn))},e.\u0275dir=At({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var Of=(()=>{let e=class e{set ngVar(i){this.context.ngVar=i}static ngTemplateContextGuard(i,r){return!0}constructor(i,r){this.containerRef=i,this.templateRef=r,this.context=new nk,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(r){return new(r||e)(L(Ei),L(wo))},e.\u0275dir=At({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),nk=class{};var Tt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var Bc=(()=>{let e=class e{constructor(){}onNodeClick(i){}renderNotes(){}process(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tn=function(t){return t.ALWAYS="ALWAYS",t.NEVER="NEVER",t.AND="AND",t.OR="OR",t.NOT="NOT",t.EQ="EQ",t.NEQ="NEQ",t.CHANCE="CHANCE",t}(tn||{});var ty=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Ct=class{static createScenario(){return{characters:[],variables:[],nodes:[],buttons:[],notes:[]}}static createCharacter(){return{color:"#FFFFFF"}}static createVariable(){return{options:[]}}static createDialogueNode(){return{id:ty(),lines:[],buttonIds:[]}}static createDialogueLine(){return{}}static createButton(){return{id:ty(),logic:[this.createLogic(tn.ALWAYS)],disabled:this.createCondition(tn.NEVER),hidden:this.createCondition(tn.NEVER)}}static createLogic(e){return{operator:e,conditions:[],actions:[this.createAction()]}}static createCondition(e){return{operator:e}}static createAction(){return{weight:100,storyChanges:[],variableChanges:[]}}};var fn=(()=>{let e=class e{constructor(){}getCurrentNode(){return this.currentScenario?.currentNode}getCurrentNote(){return this.currentScenario?.currentNote}getScenario(i){return this.scenarios.find(r=>r.id==i)}getNodes(){return this.scenarios.flatMap(i=>i.nodes)}getButtons(){return this.scenarios.flatMap(i=>i.buttons)}getButtonsForNode(i=this.getCurrentNode()){return i?.buttonIds.map(r=>this.getButton(r,this.getScenario(i.parentScenarioId)))}getCharacters(){return this.scenarios.flatMap(i=>i.characters)}getVariables(){return this.scenarios.flatMap(i=>i.variables)}getNode(i){if(i)return this.getNodes().find(r=>r.id==i)}getButton(i,r){if(i)return r?r.buttons.find(o=>o.id==i):this.getButtons().find(o=>o.id==i)}getCharacter(i){if(i)return this.getCharacters().find(r=>r.id==i)}getVariable(i){if(i)return this.getVariables().find(r=>r.id==i)}initialize(i){if(i&&i.scenarios){this.scenarios=i.scenarios;for(let r of this.scenarios);for(let r of this.scenarios){r.currentNode=r.nodes[0],r.currentNote=r.notes[0];for(let o of r.nodes)o.parentScenarioId=r.id;for(let o of r.notes)o.wordCount=Tt.getWordCount(o.text);for(let o of r.buttons)o.logic||(o.logic=[Ct.createLogic(tn.ALWAYS)])}this.currentScenario=i.scenarios[0],this.story=[]}}serialize(){return{scenarios:this.scenarios.map(i=>({id:i.id,label:i.label,characters:i.characters.map(r=>({id:r.id,name:r.name,color:r.color})),variables:i.variables.map(r=>({id:r.id,type:r.type,options:r.options,initialValue:r.initialValue})),nodes:i.nodes.map(r=>({id:r.id,description:r.description,lines:r.lines,buttonIds:r.buttonIds})),buttons:i.buttons.map(r=>({id:r.id,text:r.text,tooltip:r.tooltip,logic:r.logic,disabled:r.disabled,hidden:r.hidden})),notes:i.notes.map(r=>({label:r.label,text:r.text}))}))}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $c=(()=>{let e=class e extends Af{constructor(i,r,o,a){super(i),this.http=i,this.injector=r,this.applicationService=o,this.stateService=a,this.delay=new Lc(3e3),this.FILE_ID="1l3MbDnNr9VKc1aADVATWCYe1tMwLUTp-",this.FIELDS="id,name,mimeType,appProperties"}requestAdventure(){return this.getContent(this.FILE_ID)}updateAdventure(i=!1,r=!1){r&&this.injector.get(Bc).renderNotes(),this.applicationService.changes.next(!0);let o=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(a=>{this.applicationService.errors.next(a==null)}).finally(()=>{this.applicationService.changes.next(!1)})};i?(this.delay.stop(),o()):this.delay.restart(()=>o())}};e.\u0275fac=function(r){return new(r||e)(ae(Rl),ae(ln),ae(hn),ae(fn))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wE=class extends jc{constructor(e){super(e)}toggle(){this.next(!this.value)}};function cde(t,e){if(t&1){let n=Y();it(0),y(1,"div",2)(2,"span",3),F(3,"Weight"),_()(),y(4,"div",4)(5,"input",12),Ve("ngModelChange",function(r){R(n);let o=D();return Ue(o.action.weight,r)||(o.action.weight=r),N(r)}),O("input",function(r){R(n);let o=D();return N(o.onWeightChange(r))}),_(),y(6,"i",13),O("click",function(){R(n);let r=D();return N(r.onRemoveActionClick())}),_()(),rt()}if(t&2){let n=D();T(5),Le("ngModel",n.action.weight)}}function lde(t,e){t&1&&Z(0,"div",8)}function ude(t,e){if(t&1&&(y(0,"option",14),F(1),_()),t&2){let n=e.$implicit,i=D();P("ngValue",n.id),T(),Sr("(",i.getParentScenario(n).label," ",n.description,")")}}function dde(t,e){if(t&1){let n=Y();y(0,"div",4)(1,"input",5),Ve("ngModelChange",function(r){let a=R(n).$implicit;return Ue(a.value,r)||(a.value=r),N(r)}),_(),y(2,"i",15),O("click",function(){let o=R(n).$implicit,a=D();return N(a.removeStoryChange(o))}),_()()}if(t&2){let n=e.$implicit;T(),Le("ngModel",n.value)}}function hde(t,e){if(t&1&&(y(0,"option",14),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ce(n.id)}}function fde(t,e){if(t&1&&(y(0,"option",14),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),ce(n.value)}}function pde(t,e){if(t&1){let n=Y();y(0,"div",4)(1,"select",5),Ve("ngModelChange",function(r){let a=R(n).$implicit;return Ue(a.id,r)||(a.id=r),N(r)}),U(2,hde,2,2,"option",6),_(),y(3,"select",5),Ve("ngModelChange",function(r){let a=R(n).$implicit;return Ue(a.value,r)||(a.value=r),N(r)}),U(4,fde,2,2,"option",6),_(),y(5,"i",16),O("click",function(){let o=R(n).$implicit,a=D();return N(a.removeVariableChange(o))}),_()()}if(t&2){let n=e.$implicit,i=D();T(),Le("ngModel",n.id),T(),P("ngForOf",i.getAvailableVariables()),T(),Ae("disabled",!n.id),Le("ngModel",n.value),T(),P("ngForOf",i.getVariableOptions(n))}}var KH=(()=>{let e=class e{constructor(i,r){this.editorService=i,this.stateService=r,this.removeAction=new zt}ngOnInit(){}getParentScenario(i){return this.stateService.getScenario(i.parentScenarioId)}getAvailableNodes(){let i=this.stateService.currentScenario.nodes.indexOf(this.stateService.currentScenario.currentNode),r=this.stateService.currentScenario.nodes.filter(a=>this.stateService.currentScenario.nodes.indexOf(a)>i),o=this.stateService.getNodes().filter(a=>!r.includes(a));return r.concat(o)}getAvailableVariables(){let i=this.stateService.currentScenario.variables,r=this.stateService.getVariables().filter(o=>!i.includes(o));return i.concat(r)}getVariableOptions(i){if(i?.id)return this.stateService.getVariable(i.id).options}createVariableChange(){this.action.variableChanges.push({})}removeVariableChange(i){K.remove(this.action.variableChanges,i)}createStoryChange(){this.action.storyChanges.push({id:null,value:""})}removeStoryChange(i){K.remove(this.action.storyChanges,i)}onWeightChange(i){let r=i.target;isNaN(r.valueAsNumber)||r.valueAsNumber<=0?(r.valueAsNumber=0,this.action.weight=0):(r.valueAsNumber=Math.floor(r.valueAsNumber),this.action.weight=r.valueAsNumber)}onRemoveActionClick(){this.removeAction.emit(this.action)}createNode(){this.editorService.openDialogueNodeEditor(Ct.createDialogueNode(),this.stateService.currentScenario).then(i=>{this.action.nextNodeId=i.id})}};e.\u0275fac=function(r){return new(r||e)(L(hr),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-action-editor"]],inputs:{action:"action",weightVisible:"weightVisible"},outputs:{removeAction:"removeAction"},standalone:!0,features:[ue],decls:21,vars:6,consts:[[4,"ngIf"],["class","h-separator",4,"ngIf"],[1,"section-header"],[1,"section-title"],[1,"section-container"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"h-separator"],["tp","Create Story Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","section-container",4,"ngFor","ngForOf"],["tp","Create Variable Change",1,"icon-button","fa-solid","fa-plus",3,"click"],["type","number",3,"ngModel","ngModelChange","input"],["tp","Remove Action",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],["tp","Remove Story Change",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Remove Variable Change",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(U(0,cde,7,1,"ng-container",0)(1,lde,1,0,"div",1),y(2,"div",2)(3,"span",3),F(4,"Next Node"),_()(),y(5,"div",4)(6,"select",5),Ve("ngModelChange",function(l){return Ue(o.action.nextNodeId,l)||(o.action.nextNodeId=l),l}),U(7,ude,2,3,"option",6),_(),y(8,"i",7),O("click",function(){return o.createNode()}),_()(),Z(9,"div",8),y(10,"div",2)(11,"span",3),F(12,"Story Changes"),_(),y(13,"i",9),O("click",function(){return o.createStoryChange()}),_()(),U(14,dde,3,1,"div",10),Z(15,"div",8),y(16,"div",2)(17,"span",3),F(18,"Variable Changes"),_(),y(19,"i",11),O("click",function(){return o.createVariableChange()}),_()(),U(20,pde,6,6,"div",10)),r&2&&(P("ngIf",o.weightVisible),T(),P("ngIf",o.weightVisible),T(5),Le("ngModel",o.action.nextNodeId),T(),P("ngForOf",o.getAvailableNodes()),T(7),P("ngForOf",o.action.storyChanges),T(6),P("ngForOf",o.action.variableChanges))},dependencies:[fe,Be,Ge,ut,Ps,Os,Ht,Fu,io,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .section-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function mde(t,e){if(t&1&&(y(0,"option"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}function gde(t,e){if(t&1){let n=Y();y(0,"div")(1,"select",3),Ve("ngModelChange",function(r){R(n);let o=D();return Ue(o.logic.operator,r)||(o.logic.operator=r),N(r)}),U(2,mde,2,1,"option",1),_(),y(3,"i",4),O("click",function(){R(n);let r=D();return N(r.onRemoveLogicClick())}),_()()}if(t&2){let n=D();T(),Ae("select-disabled",n.logic.conditions.length==0),Le("ngModel",n.logic.operator),T(),P("ngForOf",n.getLogicalOperators())}}function vde(t,e){if(t&1&&(y(0,"option",8),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.id)}}function yde(t,e){if(t&1&&(y(0,"option"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}function _de(t,e){if(t&1&&(y(0,"option",8),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.value)}}function wde(t,e){if(t&1){let n=Y();y(0,"div")(1,"select",5),Ve("ngModelChange",function(r){R(n);let o=D().$implicit;return Ue(o.variable,r)||(o.variable=r),N(r)}),U(2,vde,2,2,"option",6),_(),y(3,"select",3),Ve("ngModelChange",function(r){R(n);let o=D().$implicit;return Ue(o.operator,r)||(o.operator=r),N(r)}),U(4,yde,2,1,"option",1),_(),y(5,"select",5),Ve("ngModelChange",function(r){R(n);let o=D().$implicit;return Ue(o.value,r)||(o.value=r),N(r)}),U(6,_de,2,2,"option",6),_(),y(7,"span",7),O("click",function(){R(n);let r=D().$implicit,o=D();return N(o.onRemoveConditionClick(r))}),_()()}if(t&2){let n=D().$implicit,i=D();T(),Le("ngModel",n.variable),P("compareWith",i.compareVariables),T(),P("ngForOf",i.stateService.getVariables()),T(),Le("ngModel",n.operator),T(),P("ngForOf",i.getComparisonOperators()),T(),Ae("disabled",!n.variable.id),Le("ngModel",n.value),P("compareWith",i.compareOptions),T(),P("ngForOf",n.variable.options)}}function bde(t,e){if(t&1){let n=Y();y(0,"div")(1,"span",9)(2,"input",10),Ve("ngModelChange",function(r){R(n);let o=D().$implicit;return Ue(o.chance,r)||(o.chance=r),N(r)}),O("input",function(r){R(n);let o=D().$implicit,a=D();return N(a.onChanceChange(o,r))}),_(),F(3,"%"),_(),y(4,"span",7),O("click",function(){R(n);let r=D().$implicit,o=D();return N(o.onRemoveConditionClick(r))}),_()()}if(t&2){let n=D().$implicit;T(2),Le("ngModel",n.chance)}}function Cde(t,e){if(t&1&&(it(0),U(1,wde,8,10,"div",0)(2,bde,5,1,"div",0),rt()),t&2){let n=e.$implicit,i=D();T(),P("ngIf",i.isVariableCondition(n)),T(),P("ngIf",i.isChanceCondition(n))}}function Ede(t,e){if(t&1){let n=Y();y(0,"i",13),O("click",function(){R(n);let r=D(2);return N(r.createChanceCheck())}),_()}}function Ide(t,e){if(t&1){let n=Y();y(0,"div")(1,"i",11),O("click",function(){R(n);let r=D();return N(r.createVariableCheck())}),_(),U(2,Ede,1,0,"i",12),_()}if(t&2){let n=D();T(2),P("ngIf",!n.hasChanceCheck())}}function Sde(t,e){t&1&&Z(0,"div",14)}function Tde(t,e){if(t&1){let n=Y();it(0),y(1,"div",15)(2,"span",16),F(3,"Action"),_(),y(4,"i",17),O("click",function(){R(n);let r=D();return N(r.createAction())}),_()(),y(5,"app-action-editor",18),O("removeAction",function(r){R(n);let o=D();return N(o.onRemoveAction(r))}),_(),rt()}if(t&2){let n=e.$implicit,i=D();T(5),P("action",n)("weightVisible",i.logic.actions.length>1)}}var YH=(()=>{let e=class e{constructor(i){this.stateService=i,this.removeLogic=new zt}ngOnInit(){}createVariableCheck(){let i=Ct.createCondition(tn.EQ);i.variable=Ct.createVariable(),this.logic.conditions.push(i)}createChanceCheck(){this.logic.conditions.push(Ct.createCondition(tn.CHANCE))}createAction(){this.logic.actions.push(Ct.createAction())}isLogicalCondition(i){return this.getLogicalOperators().includes(i?.operator)}isVariableCondition(i){return this.getComparisonOperators().includes(i?.operator)}isChanceCondition(i){return i?.operator==tn.CHANCE}compareVariables(i,r){return i&&r?i.id==r.id:i==r}compareOptions(i,r){return i&&r?i.id==r.id:i==r}onRemoveConditionClick(i){K.remove(this.logic.conditions,i)}hasChanceCheck(){return this.logic.conditions.some(i=>this.isChanceCondition(i))}onRemoveLogicClick(){this.removeLogic.emit(this.logic)}onRemoveAction(i){K.remove(this.logic.actions,i)}onChanceChange(i,r){let o=r.target;isNaN(o.valueAsNumber)?(o.value="",i.chance=void 0):o.valueAsNumber<0?(o.valueAsNumber=0,i.chance=0):o.valueAsNumber>100?(o.valueAsNumber=100,i.chance=100):(o.valueAsNumber=Math.floor(o.valueAsNumber),i.chance=o.valueAsNumber)}getLogicalOperators(){return K.isEmpty(this.logic.conditions)?[tn.ALWAYS]:[tn.AND,tn.OR]}getComparisonOperators(){return[tn.EQ,tn.NEQ]}};e.\u0275fac=function(r){return new(r||e)(L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-logic-editor"]],inputs:{logic:"logic",removable:"removable"},outputs:{removeLogic:"removeLogic"},standalone:!0,features:[ue],decls:5,vars:5,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","h-separator",4,"ngIf"],[3,"ngModel","ngModelChange"],["tp","Remove Logic",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["tp","Remove Condition",1,"icon-button","fa-solid","fa-times",3,"click"],[3,"ngValue"],[1,"input-percentage-container"],["type","number",3,"ngModel","ngModelChange","input"],[1,"icon-button","fa-solid","fa-question",3,"click"],["class","icon-button fa-solid fa-percent","tp","Chance",3,"click",4,"ngIf"],["tp","Chance",1,"icon-button","fa-solid","fa-percent",3,"click"],[1,"h-separator"],[1,"section-header"],[1,"section-title"],["tp","Create Action",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"action","weightVisible","removeAction"]],template:function(r,o){r&1&&U(0,gde,4,4,"div",0)(1,Cde,3,2,"ng-container",1)(2,Ide,3,1,"div",0)(3,Sde,1,0,"div",2)(4,Tde,6,2,"ng-container",1),r&2&&(P("ngIf",o.removable),T(),P("ngForOf",o.logic.conditions),T(),P("ngIf",o.removable),T(),P("ngIf",o.removable),T(),P("ngForOf",o.logic.actions))},dependencies:[fe,Be,Ge,ut,Ps,Os,Ht,Fu,io,en,Kt,KH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}select[_ngcontent-%COMP%]{width:100%;border-color:var(--color-border);border-radius:.3333333333rem;color:var(--color-text);padding:2.2px;background-color:transparent;font-family:inherit;font-size:inherit}select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{color:var(--color-text);background-color:var(--color-background-primary)}select.select-disabled[_ngcontent-%COMP%]{padding:0 .3333333333rem;appearance:none;pointer-events:none}.input-percentage-container[_ngcontent-%COMP%]{width:100%;display:flex;border:1px solid var(--color-border);align-items:center;border-radius:.3333333333rem;padding:.3333333333rem}.input-percentage-container[_ngcontent-%COMP%] > input[type=number][_ngcontent-%COMP%]{width:100%;padding:0;border:none;outline:none;color:var(--color-text);background-color:transparent;font-size:inherit;font-weight:inherit;font-family:inherit}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let t=e;return t})();function Dde(t,e){if(t&1){let n=Y();y(0,"app-logic-editor",6),O("removeLogic",function(r){R(n);let o=D();return N(o.onRemoveLogic(r))}),_()}if(t&2){let n=e.$implicit,i=e.index;P("logic",n)("removable",i>0)}}var QH=(()=>{let e=class e extends jt{constructor(i){super(),this.dialogService=i,this.configuration={title:"Button Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableButton=Ct.createButton(),this.sourceButton&&(this.editableButton.text=this.sourceButton.text,this.editableButton.tooltip=this.sourceButton.tooltip,this.editableButton.logic=this.sourceButton.logic,this.editableButton.disabled=this.sourceButton.disabled,this.editableButton.hidden=this.sourceButton.hidden)}createLogicEntry(){this.editableButton.logic.push(Ct.createLogic(tn.ALWAYS))}onRemoveLogic(i){K.isEmpty(i.conditions)&&i.actions.every(r=>K.isEmpty(r.storyChanges)&&K.isEmpty(r.variableChanges))?K.remove(this.editableButton.logic,i):this.dialogService.createConfirmation("Remove Logic Entry",["Are you sure you want to remove this logic entry?"],"Yes","No").then(r=>{r&&K.remove(this.editableButton.logic,i)})}canSubmit(){return!Tt.isEmpty(this.editableButton.text)}submit(){if(this.canSubmit()){this.sourceButton.text=this.editableButton.text,this.sourceButton.tooltip=this.editableButton.tooltip;for(let i of this.editableButton.logic)for(let r of i.actions)r.storyChanges=r.storyChanges.filter(o=>!Tt.isEmpty(o.value)),r.variableChanges=r.variableChanges.filter(o=>!Tt.isEmpty(o.value));this.sourceButton.logic=this.editableButton.logic,this.sourceButton.hidden=Ct.createCondition(tn.NEVER),this.sourceButton.disabled=Ct.createCondition(tn.NEVER),this.resolve(this.sourceButton)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt))},e.\u0275cmp=le({type:e,selectors:[["app-button-editor"]],inputs:{sourceButton:"sourceButton"},standalone:!0,features:[ft,ue],decls:15,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Logic",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"logic","removable","removeLogic",4,"ngFor","ngForOf"],[3,"logic","removable","removeLogic"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"Text"),_()(),y(3,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableButton.text,l)||(o.editableButton.text=l),l}),_(),Z(4,"div",3),y(5,"div",0)(6,"span",1),F(7,"Tooltip"),_()(),y(8,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableButton.tooltip,l)||(o.editableButton.tooltip=l),l}),_(),Z(9,"div",3),y(10,"div",0)(11,"span",1),F(12,"Logic"),_(),y(13,"i",4),O("click",function(){return o.createLogicEntry()}),_()(),U(14,Dde,1,2,"app-logic-editor",5)),r&2&&(T(3),Le("ngModel",o.editableButton.text),T(5),Le("ngModel",o.editableButton.tooltip),T(6),P("ngForOf",o.editableButton.logic))},dependencies:[fe,Be,ut,Ht,en,Kt,YH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var XH=(()=>{let e=class e extends jt{constructor(){super(),this.configuration={title:"Character Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableCharacter=Ct.createCharacter(),this.sourceCharacter&&(this.editableCharacter.id=this.sourceCharacter.id,this.editableCharacter.name=this.sourceCharacter.name,this.editableCharacter.color=this.sourceCharacter.color)}canSubmit(){return!(Tt.isEmpty(this.editableCharacter.id)||Tt.isEmpty(this.editableCharacter.name)||Tt.isEmpty(this.editableCharacter.color))}submit(){this.canSubmit()&&(this.sourceCharacter.id=this.editableCharacter.id,this.sourceCharacter.name=this.editableCharacter.name,this.sourceCharacter.color=this.editableCharacter.color,this.resolve(this.sourceCharacter))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-character-editor"]],inputs:{sourceCharacter:"sourceCharacter"},standalone:!0,features:[ft,ue],decls:14,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"ID"),_()(),y(3,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableCharacter.id,l)||(o.editableCharacter.id=l),l}),_(),Z(4,"div",3),y(5,"div",0)(6,"span",1),F(7,"Name"),_()(),y(8,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableCharacter.name,l)||(o.editableCharacter.name=l),l}),_(),Z(9,"div",3),y(10,"div",0)(11,"span",1),F(12,"Color"),_()(),y(13,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableCharacter.color,l)||(o.editableCharacter.color=l),l}),_()),r&2&&(T(3),Le("ngModel",o.editableCharacter.id),T(5),Le("ngModel",o.editableCharacter.name),T(5),Le("ngModel",o.editableCharacter.color))},dependencies:[fe,ut,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}"]});let t=e;return t})();function xde(t,e){if(t&1&&(y(0,"option",6),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n.id),T(),Sr("",n.id," (",n.name,")")}}var JH=(()=>{let e=class e extends jt{constructor(i,r){super(),this.editorService=i,this.stateService=r,this.configuration={title:"Dialogue Line Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableLine=Ct.createDialogueLine(),this.sourceLine&&(this.editableLine.characterId=this.sourceLine.characterId,this.editableLine.text=this.sourceLine.text)}openCharacterEditor(){this.editorService.openCharacterEditor(Ct.createCharacter(),this.stateService.currentScenario)}getCharacters(){return this.stateService.currentScenario.characters}canSubmit(){return!(Tt.isEmpty(this.editableLine.characterId)||Tt.isEmpty(this.editableLine.text))}submit(){this.canSubmit()&&(this.sourceLine.characterId=this.editableLine.characterId,this.sourceLine.text=this.editableLine.text,this.resolve(this.sourceLine))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(hr),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-dialogue-line-editor"]],inputs:{sourceLine:"sourceLine"},standalone:!0,features:[ft,ue],decls:11,vars:3,consts:[[1,"section-header"],[1,"section-title"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"h-separator"],[3,"ngValue"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"Character"),_(),y(3,"i",2),O("click",function(){return o.openCharacterEditor()}),_()(),y(4,"select",3),Ve("ngModelChange",function(l){return Ue(o.editableLine.characterId,l)||(o.editableLine.characterId=l),l}),U(5,xde,2,3,"option",4),_(),Z(6,"div",5),y(7,"div",0)(8,"span",1),F(9,"Text"),_()(),y(10,"input",3),Ve("ngModelChange",function(l){return Ue(o.editableLine.text,l)||(o.editableLine.text=l),l}),_()),r&2&&(T(4),Le("ngModel",o.editableLine.characterId),T(),P("ngForOf",o.getCharacters()),T(5),Le("ngModel",o.editableLine.text))},dependencies:[fe,Be,ut,Ps,Os,Ht,io,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Ade(t,e){if(t&1){let n=Y();y(0,"div",7)(1,"span",8),F(2),_(),y(3,"div",9)(4,"i",10),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openDialogueLineEditor(o))}),_(),y(5,"i",11),O("click",function(){let o=R(n).$implicit,a=D();return N(a.deleteDialogueLine(o))}),_()()()}if(t&2){let n=e.$implicit,i=D();T(2),Sr("",i.stateService.getCharacter(n.characterId).id,": ",n.text,"")}}function Mde(t,e){if(t&1){let n=Y();y(0,"div",7)(1,"span",8),F(2),_(),y(3,"div",9)(4,"i",12),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openButtonEditor(o))}),_(),y(5,"i",13),O("click",function(){let o=R(n).$implicit,a=D();return N(a.deleteButton(o))}),_()()()}if(t&2){let n=e.$implicit,i=D();T(2),ce(i.stateService.getButton(n).text)}}var ZH=(()=>{let e=class e extends jt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Dialogue Node Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableNode=Ct.createDialogueNode(),this.sourceNode&&(this.editableNode.description=this.sourceNode.description,this.editableNode.lines=[...this.sourceNode.lines],this.editableNode.buttonIds=[...this.sourceNode.buttonIds])}getAvailableButtons(){return this.stateService.getButtons().filter(i=>!this.editableNode.buttonIds.includes(i.id))}openDialogueLineEditor(i=Ct.createDialogueLine()){this.editorService.openDialogueLineEditor(i,this.editableNode)}deleteDialogueLine(i){this.dialogService.createConfirmation("Remove Dialogue Line",["Remove dialogue line "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&K.remove(this.editableNode.lines,i)})}openButtonEditor(i){this.editorService.openButtonEditor(i?this.stateService.getButton(i):Ct.createButton(),this.stateService.getScenario(this.editableNode.parentScenarioId),this.editableNode)}deleteButton(i){let r=this.stateService.getButton(i);this.dialogService.createConfirmation("Remove Button",["Remove button "+r.text,"Are you sure?"],"Yes","No").then(o=>{o&&K.remove(this.editableNode.buttonIds,i)})}canSubmit(){return!(Tt.isEmpty(this.editableNode.description)||K.isEmpty(this.editableNode.lines)||K.isEmpty(this.editableNode.buttonIds))}submit(){this.canSubmit()&&(this.sourceNode.description=this.editableNode.description,this.sourceNode.lines=this.editableNode.lines,this.sourceNode.buttonIds=this.editableNode.buttonIds,this.resolve(this.sourceNode))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(hr),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-dialogue-node-editor"]],inputs:{sourceNode:"sourceNode"},standalone:!0,features:[ft,ue],decls:16,vars:3,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Dialogue Line",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",4,"ngFor","ngForOf"],["tp","Create Button",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Dialogue Line",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Dialogue Line",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Button",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Button",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"Description"),_()(),y(3,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableNode.description,l)||(o.editableNode.description=l),l}),_(),Z(4,"div",3),y(5,"div",0)(6,"span",1),F(7,"Lines"),_(),y(8,"i",4),O("click",function(){return o.openDialogueLineEditor()}),_()(),U(9,Ade,6,2,"div",5),Z(10,"div",3),y(11,"div",0)(12,"span",1),F(13,"Buttons"),_(),y(14,"i",6),O("click",function(){return o.openButtonEditor()}),_()(),U(15,Mde,6,1,"div",5)),r&2&&(T(3),Le("ngModel",o.editableNode.description),T(6),P("ngForOf",o.editableNode.lines),T(6),P("ngForOf",o.editableNode.buttonIds))},dependencies:[fe,Be,ut,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function Pde(t,e){if(t&1){let n=Y();y(0,"div",8)(1,"span",9),F(2),_(),y(3,"div",10)(4,"i",11),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openCharacterEditor(o))}),_(),y(5,"i",12),O("click",function(){let o=R(n).$implicit,a=D();return N(a.deleteCharacter(o))}),_()()()}if(t&2){let n=e.$implicit,i=D();P("dragdrop",n)("dragdropParent",i.editableScenario.characters),T(2),Sr("",n.id," (",n.name,")")}}function Ode(t,e){if(t&1){let n=Y();y(0,"div",8)(1,"span",9),F(2),_(),y(3,"div",10)(4,"i",13),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openVariableEditor(o))}),_(),y(5,"i",14),O("click",function(){let o=R(n).$implicit,a=D();return N(a.deleteVariable(o))}),_()()()}if(t&2){let n=e.$implicit,i=D();P("dragdrop",n)("dragdropParent",i.editableScenario.variables),T(2),ce(n.id)}}function kde(t,e){if(t&1){let n=Y();y(0,"div",8)(1,"span",9),F(2),_(),y(3,"div",10)(4,"i",15),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openNodeEditor(o))}),_(),y(5,"i",16),O("click",function(){let o=R(n).$implicit,a=D();return N(a.deleteNode(o))}),_()()()}if(t&2){let n=e.$implicit,i=D();P("dragdrop",n)("dragdropParent",i.editableScenario.nodes),T(2),ce(n.description)}}var eG=(()=>{let e=class e extends jt{constructor(i,r,o){super(),this.dialogService=i,this.editorService=r,this.stateService=o,this.configuration={title:"Scenario Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableScenario=Ct.createScenario(),this.sourceScenario&&(this.editableScenario.label=this.sourceScenario.label,this.editableScenario.characters=[...this.sourceScenario.characters],this.editableScenario.variables=[...this.sourceScenario.variables],this.editableScenario.nodes=[...this.sourceScenario.nodes])}openCharacterEditor(i=Ct.createCharacter()){this.editorService.openCharacterEditor(i,this.editableScenario)}deleteCharacter(i){this.dialogService.createConfirmation("Remove Character",["Remove character "+i.name,"Are you sure?"],"Yes","No").then(r=>{r&&K.remove(this.editableScenario.characters,i)})}openVariableEditor(i=Ct.createVariable()){this.editorService.openVariableEditor(i,this.editableScenario)}deleteVariable(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.id,"Are you sure?"],"Yes","No").then(r=>{if(r){for(let o of this.editableScenario.buttons)for(let a of o.logic)for(let l of a.actions)if(l.variableChanges.some(d=>d.id==i.id)){alert("Variable '"+i.id+"' is used in button '"+o.text+"'.");return}K.remove(this.editableScenario.variables,i)}})}openNodeEditor(i=Ct.createDialogueNode()){this.editorService.openDialogueNodeEditor(i,this.editableScenario)}deleteNode(i){this.dialogService.createConfirmation("Remove Variable",["Remove variable "+i.description,"Are you sure?"],"Yes","No").then(r=>{r&&K.remove(this.editableScenario.nodes,i)})}openButtonEditor(i=Ct.createButton()){this.editorService.openButtonEditor(i,this.editableScenario)}deleteButton(i){this.dialogService.createConfirmation("Remove Button",["Remove button "+i.text,"Are you sure?"],"Yes","No").then(r=>{r&&(this.stateService.getNodes().forEach(o=>K.remove(o.buttonIds,i.id)),K.remove(this.editableScenario.buttons,i))})}canSubmit(){return!Tt.isEmpty(this.editableScenario.label)}submit(){this.canSubmit()&&(this.sourceScenario.label=this.editableScenario.label,this.sourceScenario.characters=this.editableScenario.characters,this.sourceScenario.variables=this.editableScenario.variables,this.sourceScenario.nodes=this.editableScenario.nodes,this.resolve(this.sourceScenario))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(hr),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-scenario-editor"]],inputs:{sourceScenario:"sourceScenario"},standalone:!0,features:[ft,ue],decls:22,vars:4,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],["tp","Create Character",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","list-container",3,"dragdrop","dragdropParent",4,"ngFor","ngForOf"],["tp","Create Variable",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Create Node",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"list-container",3,"dragdrop","dragdropParent"],[1,"list-element"],[1,"section-buttons"],["tp","Edit Character",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Character",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Variable",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Variable",1,"icon-button","fa-solid","fa-trash",3,"click"],["tp","Edit Node",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Node",1,"icon-button","fa-solid","fa-trash",3,"click"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"Label"),_()(),y(3,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableScenario.label,l)||(o.editableScenario.label=l),l}),_(),Z(4,"div",3),y(5,"div",0)(6,"span",1),F(7,"Characters"),_(),y(8,"i",4),O("click",function(){return o.openCharacterEditor()}),_()(),U(9,Pde,6,4,"div",5),Z(10,"div",3),y(11,"div",0)(12,"span",1),F(13,"Variables"),_(),y(14,"i",6),O("click",function(){return o.openVariableEditor()}),_()(),U(15,Ode,6,3,"div",5),Z(16,"div",3),y(17,"div",0)(18,"span",1),F(19,"Nodes"),_(),y(20,"i",7),O("click",function(){return o.openNodeEditor()}),_()(),U(21,kde,6,3,"div",5)),r&2&&(T(3),Le("ngModel",o.editableScenario.label),T(6),P("ngForOf",o.editableScenario.characters),T(6),P("ngForOf",o.editableScenario.variables),T(6),P("ngForOf",o.editableScenario.nodes))},dependencies:[fe,Be,ut,Ht,en,Kt,Df],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.3333333333rem;cursor:grab;border-radius:.3333333333rem}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-element[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();var Rr=function(t){return t.BOOLEAN="Boolean",t.NUMBER="Number",t.ENUM="Enum",t}(Rr||{});function Rde(t,e){if(t&1&&(y(0,"option"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}function Nde(t,e){if(t&1){let n=Y();y(0,"div",9)(1,"input",2),Ve("ngModelChange",function(r){let a=R(n).$implicit;return Ue(a.value,r)||(a.value=r),N(r)}),_(),y(2,"i",10),O("click",function(){let o=R(n).$implicit,a=D(2);return N(a.removeOption(o))}),_()()}if(t&2){let n=e.$implicit;T(),Le("ngModel",n.value)}}function Fde(t,e){if(t&1){let n=Y();it(0),Z(1,"div",3),y(2,"div",6)(3,"div",0)(4,"span",1),F(5,"Options"),_(),y(6,"i",7),O("click",function(){R(n);let r=D();return N(r.createOption())}),_()(),U(7,Nde,3,1,"div",8),_(),rt()}if(t&2){let n=D();T(7),P("ngForOf",n.editableVariable.options)}}function Lde(t,e){if(t&1){let n=Y();it(0),y(1,"select",2),Ve("ngModelChange",function(r){R(n);let o=D();return Ue(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),N(r)}),y(2,"option",11),F(3,"True"),_(),y(4,"option",12),F(5,"False"),_()(),rt()}if(t&2){let n=D();T(),Le("ngModel",n.editableVariable.initialValue)}}function Vde(t,e){if(t&1){let n=Y();it(0),y(1,"input",13),Ve("ngModelChange",function(r){R(n);let o=D();return Ue(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),N(r)}),_(),rt()}if(t&2){let n=D();T(),Le("ngModel",n.editableVariable.initialValue)}}function jde(t,e){if(t&1&&(y(0,"option",16),F(1),_()),t&2){let n=e.$implicit;P("value",n.value),T(),ce(n.value)}}function Ude(t,e){if(t&1){let n=Y();it(0),y(1,"select",2),Ve("ngModelChange",function(r){R(n);let o=D();return Ue(o.editableVariable.initialValue,r)||(o.editableVariable.initialValue=r),N(r)}),Z(2,"option",14),U(3,jde,2,2,"option",15),_(),rt()}if(t&2){let n=D();T(),Le("ngModel",n.editableVariable.initialValue),T(2),P("ngForOf",n.editableVariable.options)}}var tG=(()=>{let e=class e extends jt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Variable Editor",buttons:[{text:()=>"Done",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()}]}}ngOnInit(){this.editableVariable=Ct.createVariable(),this.sourceVariable?(this.editableVariable.id=this.sourceVariable.id,this.editableVariable.type=this.sourceVariable.type,this.editableVariable.options=this.sourceVariable.options):this.editableVariable.type=Rr.ENUM}createOption(){this.editableVariable.options.push({value:""})}removeOption(i){Tt.isEmpty(i.value)?K.remove(this.editableVariable.options,i):this.dialogService.createConfirmation("Remove Option",["Remove option "+i.value,"Are you sure?"],"Yes","No").then(r=>{r&&K.remove(this.editableVariable.options,i)})}getVariableTypes(){return Object.values(Rr)}onVariableTypeChange(i){switch(i){case Rr.BOOLEAN:this.editableVariable.initialValue="false";break;case Rr.NUMBER:this.editableVariable.initialValue="0";break;case Rr.ENUM:this.editableVariable.initialValue=null;break}}processVariableChange(){for(let i of this.stateService.getButtons())for(let r of i.logic)for(let o of r.actions)for(let a of o.variableChanges)a.id==this.sourceVariable.id&&(a.id=this.editableVariable.id)}canSubmit(){if(Tt.isEmpty(this.editableVariable.id)||Tt.isEmpty(this.editableVariable.type))return!1;switch(this.editableVariable.type){case Rr.BOOLEAN:if(Tt.isEmpty(this.editableVariable.initialValue))return!1;break;case Rr.NUMBER:if(this.editableVariable.initialValue==null||this.editableVariable.initialValue.length==0)return!1;break;case Rr.ENUM:if(!this.editableVariable.options.some(i=>i.value))return!1;break}return!0}submit(){if(this.canSubmit()){switch(this.sourceVariable.id&&this.processVariableChange(),this.sourceVariable.id=this.editableVariable.id,this.sourceVariable.type=this.editableVariable.type,this.editableVariable.type){case Rr.BOOLEAN:case Rr.NUMBER:this.sourceVariable.options.length=0;break;case Rr.ENUM:this.sourceVariable.options=this.editableVariable.options.filter(i=>!Tt.isEmpty(i.value));break}this.sourceVariable.initialValue=this.editableVariable.initialValue,this.resolve(this.sourceVariable)}}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-variable-editor"]],inputs:{sourceVariable:"sourceVariable"},standalone:!0,features:[ft,ue],decls:18,vars:7,consts:[[1,"section-header"],[1,"section-title"],[3,"ngModel","ngModelChange"],[1,"h-separator"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"options-container"],["tp","Create Option",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","option-container",4,"ngFor","ngForOf"],[1,"option-container"],["tp","Remove Option",1,"icon-button","fa-solid","fa-times",3,"click"],["value","true"],["value","false"],["type","number",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),F(2,"ID"),_()(),y(3,"input",2),Ve("ngModelChange",function(l){return Ue(o.editableVariable.id,l)||(o.editableVariable.id=l),l}),_(),Z(4,"div",3),y(5,"div",0)(6,"span",1),F(7,"Type"),_()(),y(8,"select",2),Ve("ngModelChange",function(l){return Ue(o.editableVariable.type,l)||(o.editableVariable.type=l),l}),O("ngModelChange",function(l){return o.onVariableTypeChange(l)}),U(9,Rde,2,1,"option",4),_(),U(10,Fde,8,1,"ng-container",5),Z(11,"div",3),y(12,"div",0)(13,"span",1),F(14,"Initial Value"),_()(),U(15,Lde,6,1,"ng-container",5)(16,Vde,2,1,"ng-container",5)(17,Ude,4,2,"ng-container",5)),r&2&&(T(3),Le("ngModel",o.editableVariable.id),T(5),Le("ngModel",o.editableVariable.type),T(),P("ngForOf",o.getVariableTypes()),T(),P("ngIf",o.editableVariable.type=="Enum"),T(5),P("ngIf",o.editableVariable.type=="Boolean"),T(),P("ngIf",o.editableVariable.type=="Number"),T(),P("ngIf",o.editableVariable.type=="Enum"))},dependencies:[fe,Be,Ge,ut,Ps,Os,Ht,Fu,io,en,Kt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px;padding:.3333333333rem;gap:.3333333333rem}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{padding-left:.3333333333rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:700;align-self:center}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:.3333333333rem}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .section-buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .options-container[_ngcontent-%COMP%]   .option-container[_ngcontent-%COMP%]{display:flex;gap:6px}"]});let t=e;return t})();var hr=(()=>{let e=class e{constructor(i,r,o){this.googleService=i,this.stateService=r,this.dialogService=o,this.sidebarVisible=new wE(!0),this.storyVisible=!1,this.flowchartVisible=!1,this.focusMode=!1}openScenarioEditor(i){return I(this,null,function*(){this.stateService.currentScenario=i;let r=yield this.dialogService.create(eG,{sourceScenario:i});return r&&(this.stateService.scenarios.includes(r)||this.stateService.scenarios.push(r),this.googleService.updateAdventure()),r})}openCharacterEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(XH,{sourceCharacter:i});return o&&r&&!r.characters.includes(o)&&r.characters.push(o),o})}openVariableEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(tG,{sourceVariable:i});return o&&r&&!r.variables.includes(o)&&r.variables.push(o),o})}openDialogueNodeEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(ZH,{sourceNode:i});return o&&(r.nodes.includes(o)||(o.parentScenarioId=r.id,r.nodes.push(o))),o})}openDialogueLineEditor(i,r){return I(this,null,function*(){let o=yield this.dialogService.create(JH,{sourceLine:i});return o&&(r.lines.includes(o)||r.lines.push(o)),o})}openButtonEditor(i,r,o){return I(this,null,function*(){let a=yield this.dialogService.create(QH,{sourceButton:i});return a&&(r.buttons.find(l=>l.id==a.id)||r.buttons.push(a),o&&(o.buttonIds.find(l=>l==a.id)||o.buttonIds.push(a.id))),a})}};e.\u0275fac=function(r){return new(r||e)(ae($c),ae(fn),ae(Zt))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bde(t,e){if(t&1){let n=Y();it(0),y(1,"input",2),Ve("ngModelChange",function(r){R(n);let o=D().ngVar;return Ue(o.label,r)||(o.label=r),N(r)}),O("input",function(){R(n);let r=D(2);return N(r.googleService.updateAdventure())}),_(),y(2,"textarea",3),Ve("ngModelChange",function(r){R(n);let o=D().ngVar;return Ue(o.text,r)||(o.text=r),N(r)}),O("input",function(){R(n);let r=D(2);return N(r.onNoteInput())})("create",function(r){R(n);let o=D(2);return N(o.initTab(r))}),_(),rt()}if(t&2){let n=D().ngVar;T(),Le("ngModel",n.label),T(),Le("ngModel",n.text)}}function $de(t,e){if(t&1&&(it(0),U(1,Bde,3,2,"ng-container",1),rt()),t&2){let n=e.ngVar;T(),P("ngIf",n)}}var nG=(()=>{let e=class e{constructor(i,r,o,a,l){this.googleService=i,this.applicationService=r,this.adventureService=o,this.graphService=a,this.stateService=l,this.applicationService.loading.next(!0)}ngOnInit(){}initTab(i){let r=this;i.nativeElement.addEventListener("keydown",function(o){if(o.key=="Tab"){o.preventDefault();let a=this.selectionStart,l=this.selectionEnd;this.value=this.value.substring(0,a)+"	"+this.value.substring(l),this.selectionStart=this.selectionEnd=a+1,r.onNoteInput()}})}onNoteInput(){let i=this.stateService.getCurrentNote();i.wordCount=Tt.getWordCount(i.text),this.googleService.updateAdventure(),i.label=="Flowchart"&&this.graphService.renderNotes()}noteContentCutLine(i){if(i.ctrlKey&&i.code=="KeyX"){let r=document.getElementsByClassName("note-content")[0];if(r.selectionEnd==r.selectionStart){let o=this.stateService.getCurrentNote(),a=o.text,l=a.substring(0,r.selectionEnd).lastIndexOf(`
`)+1,d=a.indexOf(`
`,r.selectionEnd)+1;navigator.clipboard.writeText(a.substring(l,d)),o.text=a.substring(0,l)+a.substring(d==0?a.length:d),o.wordCount=Tt.getWordCount(o.text),setTimeout(()=>r.setSelectionRange(l,l)),this.googleService.updateAdventure()}}}};e.\u0275fac=function(r){return new(r||e)(L($c),L(hn),L(hr),L(Bc),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-notes"]],hostBindings:function(r,o){r&1&&O("keydown",function(l){return o.noteContentCutLine(l)},!1,$t)},standalone:!0,features:[ue],decls:1,vars:1,consts:[[4,"ngVar"],[4,"ngIf"],["placeholder","Title",1,"note-title",3,"ngModel","ngModelChange","input"],["placeholder","Text",1,"note-content",3,"ngModel","ngModelChange","input","create"]],template:function(r,o){r&1&&U(0,$de,2,1,"ng-container",0),r&2&&P("ngVar",o.stateService.getCurrentNote())},dependencies:[fe,Ge,ut,Ht,en,Kt,ks,Of],styles:["[_nghost-%COMP%]{flex:1;min-width:50%;display:flex;flex-direction:column;justify-content:center;position:relative;padding:0 .3333333333rem;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-title[_ngcontent-%COMP%]{min-width:100px;border:0;border-radius:0;padding-left:0;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;padding:.1666666667rem 0}"]});let t=e;return t})();function Hde(t,e){if(t&1){let n=Y();y(0,"div",18),O("click",function(){let o=R(n).$implicit,a=D(2).$implicit,l=D();return N(l.setCurrentNote(a,o))})("dragend",function(){R(n);let r=D(3);return N(r.googleService.updateAdventure())}),y(1,"span",19),F(2),_(),y(3,"div",20)(4,"span",21),F(5),_(),y(6,"div",22)(7,"i",23),O("click",function(){let o=R(n).$implicit,a=D(2).$implicit,l=D();return N(l.removeNote(a,o))}),_()()()()}if(t&2){let n=e.$implicit,i=D(2).$implicit,r=D();P("dragdrop",n)("dragdropParent",i.notes),T(),Ae("highlight",n==r.stateService.currentScenario.currentNote),T(),ce(n.label),T(3),ce(n.wordCount)}}function Gde(t,e){if(t&1&&(y(0,"div",16),U(1,Hde,8,6,"div",17),_()),t&2){let n=D().$implicit;P("@drawer",void 0),T(),P("ngForOf",n.notes)}}function zde(t,e){if(t&1){let n=Y();y(0,"div",6)(1,"div",7),O("click",function(){let o=R(n).$implicit,a=D();return N(a.setCurrentScenario(o))})("dragend",function(){R(n);let r=D();return N(r.googleService.updateAdventure())}),y(2,"span",8),F(3),_(),y(4,"div",9)(5,"span",10),F(6),_(),y(7,"div",11)(8,"i",12),O("click",function(){let o=R(n).$implicit,a=D();return N(a.createNote(o))}),_(),y(9,"i",13),O("click",function(){let o=R(n).$implicit,a=D();return N(a.openScenarioEditor(o))}),_(),y(10,"i",14),O("click",function(){let o=R(n).$implicit,a=D();return N(a.removeScenario(o))}),_()()()(),U(11,Gde,2,2,"div",15),_()}if(t&2){let n=e.$implicit,i=D();T(),P("dragdrop",n)("dragdropParent",i.stateService.scenarios),T(),Ae("highlight",n==i.stateService.currentScenario),T(),ce(n.label),T(3),ce(i.getNotesWordCount(n)),T(5),P("ngIf",i.stateService.currentScenario==n)}}var iG=(()=>{let e=class e{constructor(i,r,o,a,l){this.editorService=i,this.graphService=r,this.dialogService=o,this.googleService=a,this.stateService=l}ngOnInit(){}setCurrentNote(i,r){this.setCurrentScenario(i),this.stateService.currentScenario.currentNote=r}setCurrentScenario(i){this.stateService.currentScenario=i,Jt.isLargeScreen()||this.editorService.sidebarVisible.next(!1),K.isEmpty(i.nodes)||(i.currentNode=i.nodes[0]),this.graphService.renderNotes()}setRandom(){let i=K.getRandom(this.stateService.scenarios,[this.stateService.currentScenario]),r=K.getRandom(i.notes);this.setCurrentNote(i,r),document.querySelector(".content-container").children[this.stateService.scenarios.indexOf(i)].children[1].children[i.notes.indexOf(r)].scrollIntoView({block:"center",behavior:"smooth"})}removeScenario(i){this.dialogService.createConfirmation("Delete Scenario",['Do you really want to delete "'+i.label+'"?'],"Yes","No").then(r=>{r&&(i==this.stateService.currentScenario&&this.setCurrentScenario(K.nearestRightFirst(this.stateService.scenarios,this.stateService.scenarios.indexOf(i))),K.remove(this.stateService.scenarios,i),this.googleService.updateAdventure())})}openScenarioEditor(i=Ct.createScenario()){this.editorService.openScenarioEditor(i)}getNotesWordCount(i){let r=i.notes.flatMap(o=>o.wordCount).reduce((o,a)=>o+a,0);return r>0?r+"":""}createNote(i){i.notes||(i.notes=[]);let r={label:"New Note",text:"",wordCount:0};i.notes.push(r),i.currentNote=r,this.googleService.updateAdventure()}removeNote(i,r){let o=i.notes;this.dialogService.createConfirmation("Delete Note",['Do you really want to delete "'+r.label+'"?'],"Yes","No").then(a=>{a&&(i.currentNote=K.nearestRightFirst(o,o.indexOf(r)),K.remove(o,r),this.googleService.updateAdventure())})}};e.\u0275fac=function(r){return new(r||e)(L(hr),L(Bc),L(Zt),L($c),L(fn))},e.\u0275cmp=le({type:e,selectors:[["app-scenario-browser"]],standalone:!0,features:[ue],decls:6,vars:1,consts:[[1,"content-container","y-scrollbar-container"],["class","scenario-container",4,"ngFor","ngForOf"],[1,"h-separator","margins"],[1,"button-container"],["tp","Create Scenario",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Select Random Scenario and Note",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"scenario-container"],[1,"scenario-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"scenario-label"],[1,"scenario-info"],[1,"scenario-notes-word-count"],[1,"scenario-buttons"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",3,"click"],["tp","Edit Scenario",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Remove Scenario",1,"icon-button","fa-solid","fa-times",3,"click"],["class","scenario-notes-container",4,"ngIf"],[1,"scenario-notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-label"],[1,"note-info"],[1,"note-word-count"],[1,"note-buttons"],["tp","Remove Note",1,"icon-button","fa-solid","fa-times",3,"click"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,zde,12,7,"div",1),_(),Z(2,"div",2),y(3,"div",3)(4,"i",4),O("click",function(){return o.openScenarioEditor()}),_(),y(5,"i",5),O("click",function(){return o.setRandom()}),_()()),r&2&&(T(),P("ngForOf",o.stateService.scenarios))},dependencies:[fe,Be,Ge,Df],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]:hover   .scenario-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-container[_ngcontent-%COMP%]   .scenario-label-container[_ngcontent-%COMP%]   .scenario-info[_ngcontent-%COMP%]   .scenario-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:space-between;line-height:2rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;padding-left:.9999999999rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .scenario-notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[wH]}});let t=e;return t})();var Bo=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(i=>!n.includes(i)):e=e.filter(i=>i!=n)),console.log(e),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),i=.95,r=Math.floor(e*6),o=e*6-r,a=i*(1-n),l=i*(1-o*n),d=i*(1-(1-o)*n),f,p,v;switch(r%6){case 0:f=i,p=d,v=a;break;case 1:f=l,p=i,v=a;break;case 2:f=a,p=i,v=d;break;case 3:f=a,p=l,v=i;break;case 4:f=d,p=a,v=i;break;case 5:f=i,p=a,v=l;break}return"#"+Math.round(f*255).toString(16)+Math.round(p*255).toString(16)+Math.round(v*255).toString(16)}};var rG=(()=>{let e=class e{constructor(i){this.stateService=i}executeAction(i){if(i.nextNodeId){let r=this.stateService.getNodes().find(a=>a.id==i.nextNodeId),o=this.stateService.getScenario(r.parentScenarioId);this.stateService.currentScenario!=o&&(this.stateService.currentScenario=o),o.currentNode=r}K.isEmpty(i.storyChanges)||K.push(this.stateService.story,i.storyChanges);for(let r of i.variableChanges){let o=this.stateService.getVariables().find(a=>a.id==r.id);o.value=r.value}return i.nextNodeId}executeButton(i){let r={variableChanges:[]};for(let o of i.logic)if(this.evaluate(o)){let a=this.processActionWeights(o.actions);r.nextNodeId||(r.nextNodeId=a.nextNodeId),r.storyChanges||(r.storyChanges=a.storyChanges);for(let l of a.variableChanges)K.includes(r.variableChanges,l,d=>d.id)||r.variableChanges.push(l)}this.executeAction(r)}executeRandomButton(){let i=this.stateService.getCurrentNode().buttonIds.map(r=>this.stateService.getButton(r)).filter(r=>!this.evaluate(r.hidden)&&!this.evaluate(r.disabled));this.executeButton(Bo.from(i))}processActionWeights(i){let r=0;i.forEach(a=>r+=a.weight);let o=Bo.random(r);for(let a of i)if(o-a.weight<0)return a}evaluate(i){switch(i.operator){case tn.ALWAYS:return!0;case tn.NEVER:return!1;case tn.EQ:return i.variable.value==i.value;case tn.NEQ:return i.variable.value!=i.value;case tn.CHANCE:return Bo.percentage(i.chance);default:return!1}}};e.\u0275fac=function(r){return new(r||e)(ae(fn))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qde(t,e){if(t&1&&(y(0,"span"),F(1),_()),t&2){let n=e.$implicit;T(),ce(n)}}function Kde(t,e){if(t&1){let n=Y();y(0,"span",21),O("click",function(){R(n);let r=D().$implicit,o=D(2);return N(o.actionService.executeButton(r))}),F(1),_()}if(t&2){let n=D().$implicit;P("tp",n.tooltip),T(),ce(n.text)}}function Yde(t,e){if(t&1&&(it(0),U(1,Kde,2,2,"span",20),rt()),t&2){let n=e.$implicit,i=D(2);T(),P("ngIf",!i.actionService.evaluate(n.hidden))}}function Qde(t,e){if(t&1&&(it(0),Z(1,"div",17),y(2,"div",18)(3,"span"),F(4),_(),y(5,"div",19),U(6,Yde,2,1,"ng-container",15),_()(),rt()),t&2){let n=D();T(4),ce(n.stateService.getCurrentNode().description),T(2),P("ngForOf",n.stateService.getButtonsForNode())}}var oG=(()=>{let e=class e{constructor(i,r,o,a,l,d){this.googleService=i,this.graphService=r,this.editorService=o,this.applicationService=a,this.stateService=l,this.actionService=d,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.applicationService.loading.next(!0)}ngOnInit(){this.googleService.requestAdventure().then(i=>{this.stateService.initialize(i),this.graphService.renderNotes(),this.applicationService.loading.next(!1)})}import(){navigator.clipboard.readText().then(i=>this.stateService.initialize(JSON.parse(i)))}export(){let i=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(i),console.log(i)}onCountdownInputChange(i){i.value.replace(/\W/g,"").match(this.countdownInputRegex)?i.classList.remove("error"):i.classList.add("error")}onCountdownInputSubmit(i,r){if(i.key==="Enter"){let o=r.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){r.readOnly=!0;let a=l=>l&&l.map(d=>d.replace(/\D/g,"")).reduce((d,f)=>d+Number.parseInt(f),0);this.countdown.hours=a(o.match(/\d+h/gi)),this.countdown.minutes=a(o.match(/\d+m/gi)),this.countdown.seconds=a(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?r.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?r.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":r.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(i){i.readOnly&&(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(r){return new(r||e)(L($c),L(Bc),L(hr),L(hn),L(fn),L(rG))},e.\u0275cmp=le({type:e,selectors:[["app-adventure"]],standalone:!0,features:[ue],decls:19,vars:18,consts:[[1,"header"],[1,"header-start"],["tp","Sidebar",1,"icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"icon-button","fa-solid","mobile-display-none",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","mobile-display-none"],[1,"modules"],[1,"flowchart"],[1,"adventure-container"],[1,"story-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"h-separator"],[1,"node-container"],[1,"node-buttons-container"],["class","button",3,"tp","click",4,"ngIf"],[1,"button",3,"tp","click"]],template:function(r,o){if(r&1){let a=Y();y(0,"div",0)(1,"div",1)(2,"i",2),O("click",function(){return o.editorService.sidebarVisible.toggle()}),_(),y(3,"i",3),O("click",function(){return o.editorService.focusMode=!o.editorService.focusMode}),_()(),y(4,"div",4)(5,"input",5,6),O("click",function(){R(a);let d=dr(6);return N(o.onCountdownInputClick(d))})("input",function(){R(a);let d=dr(6);return N(o.onCountdownInputChange(d))})("keypress",function(d){R(a);let f=dr(6);return N(o.onCountdownInputSubmit(d,f))})("focus",function(){R(a);let d=dr(6);return N(d.select())}),_()(),y(7,"div",7)(8,"i",8),O("click",function(){return o.applicationService.toggleTheme()}),_()()(),y(9,"div",9),Z(10,"app-scenario-browser")(11,"div",10),y(12,"div",11),Z(13,"app-notes")(14,"pre",12),y(15,"div",13)(16,"div",14),U(17,qde,2,1,"span",15),_(),U(18,Qde,7,2,"ng-container",16),_()()()}if(r&2){let a=dr(6);T(3),P("ngClass",o.editorService.focusMode?"fa-up-right-and-down-left-from-center":"fa-down-left-and-up-right-to-center"),T(2),Ae("user-select-none",a.readOnly),T(3),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),T(2),Ae("display-none",!o.editorService.sidebarVisible.value),T(),Ae("desktop-display-none",!o.editorService.sidebarVisible.value),T(),Ae("mobile-display-none",o.editorService.sidebarVisible.value)("focus-mode",o.editorService.focusMode),T(2),Ae("hidden",!o.editorService.flowchartVisible),T(),Zi("display",o.editorService.storyVisible?"":"none"),T(2),P("ngForOf",o.stateService.story),T(),P("ngIf",o.stateService.getCurrentNode())}},dependencies:[fe,pi,Be,Ge,iG,nG,Fc],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules.focus-mode[_ngcontent-%COMP%] > app-notes[_ngcontent-%COMP%]{max-width:50%}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var sG=[{text:"Vyr\xE1\u017Eame spolu v dohodnut\xFD \u010Das",description:"Na ka\u017Ed\xFD de\u0148 si dopredu zvol\xEDme \u010Das, po ktorom ak bude v\xE4\u010D\u0161ina \xFA\u010Dastn\xEDkov pripraven\xE1 splavova\u0165, vyr\xE1\u017Eame. Zvy\u0161ok bude takto ma\u0165 priestor da\u0165 sa dokopy vlastn\xFDm tempom, zavola\u0165 si tax\xEDk a do ve\u010Dera sa zab\xE1va\u0165 v cie\u013Eovom kempe."},{text:"Splavujeme spolu a \u010Dak\xE1me sa",description:"Ide\xE1lne sa dr\u017E\xEDme pokope tak, aby sme na ostatn\xE9 rafty vedeli aspo\u0148 kri\u010Da\u0165 a dohodn\xFA\u0165 sa, \u010Do a ako. Bezd\xF4vodne nezastavujeme. Ak v\u0161ak pos\xE1dka prv\xE9ho raftu t\xFDch za nimi u\u017E ani nevid\xED, spomalia alebo zastavia a po\u010Dkaj\xFA."}];var kf=(()=>{let e=class e{constructor(i){this.firestore=i,this.cache={}}read(i,r){return I(this,null,function*(){return r&&this.cache[i]?this.cache[i]:(this.cache[i]=(yield e9(J5(this.firestore,i))).docs.map(o=>o.data()),this.cache[i])})}write(i,r,o){return n9(XM(this.firestore,i,r),o)}delete(i,r){return Z5(XM(this.firestore,i,r))}};e.\u0275fac=function(r){return new(r||e)(ae(yu))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ok=class{constructor(e,n){this._delegate=e,this.firebase=n,Em(e,new Ni("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vw(this._delegate)))}_getService(e,n=ds){var i;this._delegate.checkDestroyed();let r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=ds){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Em(this._delegate,e)}_addOrOverwriteComponent(e){dD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var Xde={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},aG=new Hr("app-compat","Firebase",Xde);function Jde(t){let e={},n={__esModule:!0,initializeApp:o,app:r,registerVersion:un,setLogLevel:_w,onLog:yw,apps:null,SDK_VERSION:To,INTERNAL:{registerComponent:l,removeApp:i,useAsService:d,modularAPIs:hD}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(f){delete e[f]}function r(f){if(f=f||ds,!XT(e,f))throw aG.create("no-app",{appName:f});return e[f]}r.App=t;function o(f,p={}){let v=hh(f,p);if(XT(e,v.name))return e[v.name];let w=new t(v,n);return e[v.name]=w,w}function a(){return Object.keys(e).map(f=>e[f])}function l(f){let p=f.name,v=p.replace("-compat","");if(So(f)&&f.type==="PUBLIC"){let w=(E=r())=>{if(typeof E[v]!="function")throw aG.create("invalid-app-argument",{appName:p});return E[v]()};f.serviceProps!==void 0&&_m(w,f.serviceProps),n[v]=w,t.prototype[v]=function(...E){return this._getService.bind(this,p).apply(this,f.multipleInstances?E:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,p){return p==="serverAuth"?null:p}return n}function lG(){let t=Jde(ok);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:lG,extendNamespace:e,createSubscribe:pw,ErrorFactory:Hr,deepExtend:_m});function e(n){_m(t,n)}return t}var Zde=lG();var cG=new ls("@firebase/app-compat"),ehe="@firebase/app-compat",the="0.2.28";function nhe(t){un(ehe,the,t)}if(yU()&&self.firebase!==void 0){cG.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&cG.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var be=Zde;nhe();var ihe="firebase",rhe="10.8.1";be.registerVersion(ihe,rhe,"app-compat");function Vu(){return window}var ohe=2e3;function she(t,e,n){return I(this,null,function*(){var i;let{BuildInfo:r}=Vu();Gr(e.sessionId,"AuthEvent did not contain a session ID");let o=yield dhe(e.sessionId),a={};return Ql()?a.ibi=r.packageName:Ch()?a.apn=r.packageName:Fn(t,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=o,Vw(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)})}function ahe(t){return I(this,null,function*(){let{BuildInfo:e}=Vu(),n={};Ql()?n.iosBundleId=e.packageName:Ch()?n.androidPackageName=e.packageName:Fn(t,"operation-not-supported-in-this-environment"),yield ix(t,n)})}function che(t){let{cordova:e}=Vu();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(t):r=e.InAppBrowser.open(t,hB()?"_blank":"_system","location=yes"),n(r)})})}function lhe(t,e,n){return I(this,null,function*(){let{cordova:i}=Vu(),r=()=>{};try{yield new Promise((o,a)=>{let l=null;function d(){var v;o();let w=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof w=="function"&&w(),typeof n?.close=="function"&&n.close()}function f(){l||(l=window.setTimeout(()=>{a(mi(t,"redirect-cancelled-by-user"))},ohe))}function p(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Ch()&&document.addEventListener("visibilitychange",p,!1),r=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),l&&window.clearTimeout(l)}})}finally{r()}})}function uhe(t){var e,n,i,r,o,a,l,d,f,p;let v=Vu();J(typeof((e=v?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof((n=v?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J(typeof((o=(r=(i=v?.cordova)===null||i===void 0?void 0:i.plugins)===null||r===void 0?void 0:r.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((d=(l=(a=v?.cordova)===null||a===void 0?void 0:a.plugins)===null||l===void 0?void 0:l.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((p=(f=v?.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function dhe(t){return I(this,null,function*(){let e=hhe(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")})}function hhe(t){if(Gr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}var fhe=20,sk=class extends Nm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return I(this,null,function*(){yield this.initPromise})}};function phe(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:vhe(),postBody:null,tenantId:t.tenantId,error:mi(t,"no-auth-event")}}function mhe(t,e){return ak()._set(ck(t),e)}function uG(t){return I(this,null,function*(){let e=yield ak()._get(ck(t));return e&&(yield ak()._remove(ck(t))),e})}function ghe(t,e){var n,i;let r=_he(e);if(r.includes("/__/auth/callback")){let o=bE(r),a=o.firebaseError?yhe(decodeURIComponent(o.firebaseError)):null,l=(i=(n=a?.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=l?mi(l):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:r,postBody:null}}return null}function vhe(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<fhe;n++){let i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function ak(){return Fi(ps)}function ck(t){return fs("authEvent",t.config.apiKey,t.name)}function yhe(t){try{return JSON.parse(t)}catch{return null}}function _he(t){let e=bE(t),n=e.link?decodeURIComponent(e.link):void 0,i=bE(n).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return bE(r).link||r||i||n||t}function bE(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return fc(n.join("?"))}var whe=500,lk=class{constructor(){this._redirectPersistence=Wr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=eu,this._overrideRedirectResult=xh}_initialize(e){return I(this,null,function*(){let n=e._key(),i=this.eventManagers.get(n);return i||(i=new sk(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i})}_openPopup(e){Fn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,i,r){return I(this,null,function*(){uhe(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),TB(),yield this._originValidation(e);let a=phe(e,i,r);yield mhe(e,a);let l=yield she(e,a,n),d=yield che(l);return lhe(e,o,d)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ahe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:i,handleOpenURL:r,BuildInfo:o}=Vu(),a=setTimeout(()=>I(this,null,function*(){yield uG(e),n.onEvent(dG())}),whe),l=p=>I(this,null,function*(){clearTimeout(a);let v=yield uG(e),w=null;v&&p?.url&&(w=ghe(v,p.url)),n.onEvent(w||dG())});typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,l);let d=r,f=`${o.packageName.toLowerCase()}://`;Vu().handleOpenURL=p=>I(this,null,function*(){if(p.toLowerCase().startsWith(f)&&l({url:p}),typeof d=="function")try{d(p)}catch(v){console.error(v)}})}},hG=lk;function dG(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mi("no-auth-event")}}function fG(t,e){rn(t)._logFramework(e)}var Che="@firebase/auth-compat",Ehe="0.5.3";var Ihe=1e3;function oy(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function She(){return oy()==="http:"||oy()==="https:"}function gG(t=qt()){return!!((oy()==="file:"||oy()==="ionic:"||oy()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function The(){return wm()||dw()}function Dhe(){return fw()&&document?.documentMode===11}function xhe(t=qt()){return/Edge\/\d+/.test(t)}function Ahe(t=qt()){return Dhe()||xhe(t)}function vG(){try{let t=self.localStorage,e=Jl();if(t)return t.setItem(e,"1"),t.removeItem(e),Ahe()?hc():!0}catch{return mk()&&hc()}return!1}function mk(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uk(){return(She()||hw()||gG())&&!The()&&vG()&&!mk()}function yG(){return gG()&&typeof document<"u"}function Mhe(){return I(this,null,function*(){return yG()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},Ihe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function Phe(){return typeof window<"u"?window:null}var Nr={LOCAL:"local",NONE:"none",SESSION:"session"},iy=J,_G="persistence";function Ohe(t,e){if(iy(Object.values(Nr).includes(e),t,"invalid-persistence-type"),wm()){iy(e!==Nr.SESSION,t,"unsupported-persistence-type");return}if(dw()){iy(e===Nr.NONE,t,"unsupported-persistence-type");return}if(mk()){iy(e===Nr.NONE||e===Nr.LOCAL&&hc(),t,"unsupported-persistence-type");return}iy(e===Nr.NONE||vG(),t,"unsupported-persistence-type")}function dk(t){return I(this,null,function*(){yield t._initializationPromise;let e=wG(),n=fs(_G,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())})}function khe(t,e){let n=wG();if(!n)return[];let i=fs(_G,t,e);switch(n.getItem(i)){case Nr.NONE:return[da];case Nr.LOCAL:return[pa,Wr];case Nr.SESSION:return[Wr];default:return[]}}function wG(){var t;try{return((t=Phe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var Rhe=J,Ns=class{constructor(){this.browserResolver=Fi(_g),this.cordovaResolver=Fi(hG),this.underlyingResolver=null,this._redirectPersistence=Wr,this._completeRedirectFn=eu,this._overrideRedirectResult=xh}_initialize(e){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,i,r){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,r)})}_openRedirect(e,n,i,r){return I(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,r)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yG()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rhe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return I(this,null,function*(){if(this.underlyingResolver)return;let e=yield Mhe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function bG(t){return t.unwrap()}function Nhe(t){return t.wrapped()}function Fhe(t){return CG(t)}function Lhe(t,e){var n;let i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let r=e;r.resolver=new fk(t,sg(t,e))}else if(i){let r=CG(e),o=e;r&&(o.credential=r,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function CG(t){let{_tokenResponse:e}=t instanceof zn?t.customData:t;if(!e)return null;if(!(t instanceof zn)&&"temporaryProof"in e&&"phoneNumber"in e)return wc.credentialFromResult(t);let n=e.providerId;if(!n||n===yc.PASSWORD)return null;let i;switch(n){case yc.GOOGLE:i=Xl;break;case yc.FACEBOOK:i=Vm;break;case yc.GITHUB:i=jm;break;case yc.TWITTER:i=Um;break;default:let{oauthIdToken:r,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:l,nonce:d}=e;return!o&&!a&&!r&&!l?null:l?n.startsWith("saml.")?ql._create(n,l):zr._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:r,accessToken:o}):new Wl(n).credential({idToken:r,accessToken:o,rawNonce:d})}return t instanceof zn?i.credentialFromError(t):i.credentialFromResult(t)}function fr(t,e){return e.catch(n=>{throw n instanceof zn&&Lhe(t,n),n}).then(n=>{let i=n.operationType,r=n.user;return{operationType:i,credential:Fhe(n),additionalUserInfo:og(n),user:Rf.getOrCreate(r)}})}function hk(t,e){return I(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:i=>fr(t,n.confirm(i))}})}var fk=class{constructor(e,n){this.resolver=n,this.auth=Nhe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fr(bG(this.auth),this.resolver.resolveSignIn(e))}};var Rf=class t{constructor(e){this._delegate=e,this.multiFactor=ag(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return I(this,null,function*(){return fr(this.auth,Sh(this._delegate,e))})}linkWithPhoneNumber(e,n){return I(this,null,function*(){return hk(this.auth,lg(this._delegate,e,n))})}linkWithPopup(e){return I(this,null,function*(){return fr(this.auth,pg(this._delegate,e,Ns))})}linkWithRedirect(e){return I(this,null,function*(){return yield dk(rn(this.auth)),vg(this._delegate,e,Ns)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return I(this,null,function*(){return fr(this.auth,Th(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return hk(this.auth,ug(this._delegate,e,n))}reauthenticateWithPopup(e){return fr(this.auth,fg(this._delegate,e,Ns))}reauthenticateWithRedirect(e){return I(this,null,function*(){return yield dk(rn(this.auth)),gg(this._delegate,e,Ns)})}sendEmailVerification(e){return eg(this._delegate,e)}unlink(e){return I(this,null,function*(){return yield $m(this._delegate,e),this})}updateEmail(e){return ig(this._delegate,e)}updatePassword(e){return rg(this._delegate,e)}updatePhoneNumber(e){return dg(this._delegate,e)}updateProfile(e){return ng(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return tg(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Rf.USER_MAP=new WeakMap;var ry=J,pG=(()=>{class t{constructor(n,i){if(this.app=n,i.isInitialized()){this._delegate=i.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=n.options;ry(r,"invalid-api-key",{appName:n.name}),ry(r,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Ns:void 0;this._delegate=i.initialize({options:{persistence:Vhe(r,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(jw),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,i){Eh(this._delegate,n,i)}applyActionCode(n){return Wm(this._delegate,n)}checkActionCode(n){return Dh(this._delegate,n)}confirmPasswordReset(n,i){return zm(this._delegate,n,i)}createUserWithEmailAndPassword(n,i){return I(this,null,function*(){return fr(this._delegate,Km(this._delegate,n,i))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Zm(this._delegate,n)}isSignInWithEmailLink(n){return Xm(this._delegate,n)}getRedirectResult(){return I(this,null,function*(){ry(uk(),this._delegate,"operation-not-supported-in-this-environment");let n=yield yg(this._delegate,Ns);return n?fr(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){fG(this._delegate,n)}onAuthStateChanged(n,i,r){let{next:o,error:a,complete:l}=mG(n,i,r);return this._delegate.onAuthStateChanged(o,a,l)}onIdTokenChanged(n,i,r){let{next:o,error:a,complete:l}=mG(n,i,r);return this._delegate.onIdTokenChanged(o,a,l)}sendSignInLinkToEmail(n,i){return Qm(this._delegate,n,i)}sendPasswordResetEmail(n,i){return Gm(this._delegate,n,i||void 0)}setPersistence(n){return I(this,null,function*(){Ohe(this._delegate,n);let i;switch(n){case Nr.SESSION:i=Wr;break;case Nr.LOCAL:i=(yield Fi(pa)._isAvailable())?pa:ps;break;case Nr.NONE:i=da;break;default:return Fn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(i)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return fr(this._delegate,Bm(this._delegate))}signInWithCredential(n){return fr(this._delegate,_c(this._delegate,n))}signInWithCustomToken(n){return fr(this._delegate,Hm(this._delegate,n))}signInWithEmailAndPassword(n,i){return fr(this._delegate,Ym(this._delegate,n,i))}signInWithEmailLink(n,i){return fr(this._delegate,Jm(this._delegate,n,i))}signInWithPhoneNumber(n,i){return hk(this._delegate,cg(this._delegate,n,i))}signInWithPopup(n){return I(this,null,function*(){return ry(uk(),this._delegate,"operation-not-supported-in-this-environment"),fr(this._delegate,hg(this._delegate,n,Ns))})}signInWithRedirect(n){return I(this,null,function*(){return ry(uk(),this._delegate,"operation-not-supported-in-this-environment"),yield dk(this._delegate),mg(this._delegate,n,Ns)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return qm(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Nr,t})();function mG(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);let r=i;return{next:a=>r(a&&Rf.getOrCreate(a)),error:e,complete:n}}function Vhe(t,e){let n=khe(t,e);if(typeof self<"u"&&!n.includes(pa)&&n.push(pa),typeof window<"u")for(let i of[ps,Wr])n.includes(i)||n.push(i);return n.includes(da)||n.push(da),n}var sy=class{constructor(){this.providerId="phone",this._delegate=new wc(bG(be.auth()))}static credential(e,n){return wc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};sy.PHONE_SIGN_IN_METHOD=wc.PHONE_SIGN_IN_METHOD;sy.PROVIDER_ID=wc.PROVIDER_ID;var jhe=J,pk=class{constructor(e,n,i=be.app()){var r;jhe((r=i.options)===null||r===void 0?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new wh(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Uhe="auth-compat";function Bhe(t){t.INTERNAL.registerComponent(new Ni(Uhe,e=>{let n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new pG(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ha.EMAIL_SIGNIN,PASSWORD_RESET:ha.PASSWORD_RESET,RECOVER_EMAIL:ha.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ha.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ha.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ha.VERIFY_EMAIL}},EmailAuthProvider:Ih,FacebookAuthProvider:Vm,GithubAuthProvider:jm,GoogleAuthProvider:Xl,OAuthProvider:Wl,SAMLAuthProvider:_h,PhoneAuthProvider:sy,PhoneMultiFactorGenerator:Xw,RecaptchaVerifier:pk,TwitterAuthProvider:Um,Auth:pG,AuthCredential:xo,Error:zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Che,Ehe)}Bhe(be);var IG=PW(EG());var mn={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};mn=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function i(S,x){for(var k=0;k<t.length;k++)if(t[k].className===S)return typeof x<"u"&&(t[k]=x),t[k];return!1}function r(S){var x=S.getAttribute("data-upgraded");return x===null?[""]:x.split(",")}function o(S,x){var k=r(S);return k.indexOf(x)!==-1}function a(S,x,k){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(S,{bubbles:x,cancelable:k});var V=document.createEvent("Events");return V.initEvent(S,x,k),V}function l(S,x){if(typeof S>"u"&&typeof x>"u")for(var k=0;k<t.length;k++)l(t[k].className,t[k].cssClass);else{var V=S;if(typeof x>"u"){var G=i(V);G&&(x=G.cssClass)}for(var A=document.querySelectorAll("."+x),ie=0;ie<A.length;ie++)d(A[ie],V)}}function d(S,x){if(!(typeof S=="object"&&S instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var k=a("mdl-componentupgrading",!0,!0);if(S.dispatchEvent(k),!k.defaultPrevented){var V=r(S),G=[];if(x)o(S,x)||G.push(i(x));else{var A=S.classList;t.forEach(function(ze){A.contains(ze.cssClass)&&G.indexOf(ze)===-1&&!o(S,ze.className)&&G.push(ze)})}for(var ie=0,B=G.length,se;ie<B;ie++){if(se=G[ie],se){V.push(se.className),S.setAttribute("data-upgraded",V.join(","));var Ee=new se.classConstructor(S);Ee[n]=se,e.push(Ee);for(var We=0,et=se.callbacks.length;We<et;We++)se.callbacks[We](S);se.widget&&(S[se.className]=Ee)}else throw new Error("Unable to find a registered component for the given class.");var Ie=a("mdl-componentupgraded",!0,!1);S.dispatchEvent(Ie)}}}function f(S){Array.isArray(S)||(S instanceof Element?S=[S]:S=Array.prototype.slice.call(S));for(var x=0,k=S.length,V;x<k;x++)V=S[x],V instanceof HTMLElement&&(d(V),V.children.length>0&&f(V.children))}function p(S){var x=typeof S.widget>"u"&&typeof S.widget>"u",k=!0;x||(k=S.widget||S.widget);var V={classConstructor:S.constructor||S.constructor,className:S.classAsString||S.classAsString,cssClass:S.cssClass||S.cssClass,widget:k,callbacks:[]};if(t.forEach(function(A){if(A.cssClass===V.cssClass)throw new Error("The provided cssClass has already been registered: "+A.cssClass);if(A.className===V.className)throw new Error("The provided className has already been registered")}),S.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var G=i(S.classAsString,V);G||t.push(V)}function v(S,x){var k=i(S);k&&k.callbacks.push(x)}function w(){for(var S=0;S<t.length;S++)l(t[S].className)}function E(S){if(S){var x=e.indexOf(S);e.splice(x,1);var k=S.element_.getAttribute("data-upgraded").split(","),V=k.indexOf(S[n].classAsString);k.splice(V,1),S.element_.setAttribute("data-upgraded",k.join(","));var G=a("mdl-componentdowngraded",!0,!1);S.element_.dispatchEvent(G)}}function C(S){var x=function(V){e.filter(function(G){return G.element_===V}).forEach(E)};if(S instanceof Array||S instanceof NodeList)for(var k=0;k<S.length;k++)x(S[k]);else if(S instanceof Node)x(S);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:l,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:w,registerUpgradedCallback:v,register:p,downgradeElements:C}}();mn.ComponentConfigPublic;mn.ComponentConfig;mn.Component;mn.upgradeDom=mn.upgradeDom;mn.upgradeElement=mn.upgradeElement;mn.upgradeElements=mn.upgradeElements;mn.upgradeAllRegistered=mn.upgradeAllRegistered;mn.registerUpgradedCallback=mn.registerUpgradedCallback;mn.register=mn.register;mn.downgradeElements=mn.downgradeElements;window.componentHandler=mn;window.componentHandler=mn;window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),mn.upgradeAllRegistered()):(mn.upgradeElement=function(){},mn.register=function(){})});(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,r,o],l=0;l<a.length;l++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[l].appendChild(d)}n.appendChild(i),n.appendChild(r),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();(function(){"use strict";var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(s){function c(){}return c.prototype=s,new c},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var r={xb:!0},o={};try{o.__proto__=r,i=o.xb;break e}catch{}i=!1}n=i?function(s,c){if(s.__proto__=c,s.__proto__!==c)throw new TypeError(s+" is not extensible");return s}:null}var a=n;function l(s,c){if(s.prototype=e(c.prototype),s.prototype.constructor=s,a)a(s,c);else for(var u in c)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(c,u);h&&Object.defineProperty(s,u,h)}else s[u]=c[u];s.K=c.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,u){s!=Array.prototype&&s!=Object.prototype&&(s[c]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(s,c){if(c){var u=f;s=s.split(".");for(var h=0;h<s.length-1;h++){var m=s[h];m in u||(u[m]={}),u=u[m]}s=s[s.length-1],h=u[s],c=c(h),c!=h&&c!=null&&d(u,s,{configurable:!0,writable:!0,value:c})}}p("Object.is",function(s){return s||function(c,u){return c===u?c!==0||1/c===1/u:c!==c&&u!==u}}),p("Array.prototype.includes",function(s){return s||function(c,u){var h=this;h instanceof String&&(h=String(h));var m=h.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=h[u];if(g===c||Object.is(g,c))return!0}return!1}});var v=this;function w(s){return s!==void 0}function E(s){return typeof s=="string"}var C=/^[\w+/_-]+[=]{0,2}$/,S=null;function x(){}function k(s){s.W=void 0,s.Xa=function(){return s.W?s.W:s.W=new s}}function V(s){var c=typeof s;if(c=="object")if(s){if(s instanceof Array)return"array";if(s instanceof Object)return c;var u=Object.prototype.toString.call(s);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof s.length=="number"&&typeof s.splice<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof s.call<"u"&&typeof s.propertyIsEnumerable<"u"&&!s.propertyIsEnumerable("call"))return"function"}else return"null";else if(c=="function"&&typeof s.call>"u")return"object";return c}function G(s){return V(s)=="array"}function A(s){var c=V(s);return c=="array"||c=="object"&&typeof s.length=="number"}function ie(s){return V(s)=="function"}function B(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}var se="closure_uid_"+(1e9*Math.random()>>>0),Ee=0;function We(s,c,u){return s.call.apply(s.bind,arguments)}function et(s,c,u){if(!s)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),s.apply(c,m)}}return function(){return s.apply(c,arguments)}}function Ie(s,c,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ie=We:Ie=et,Ie.apply(null,arguments)}function ze(s,c){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),s.apply(this,h)}}function Te(s,c){for(var u in c)s[u]=c[u]}var sn=Date.now||function(){return+new Date};function Xe(s,c){s=s.split(".");var u=v;s[0]in u||typeof u.execScript>"u"||u.execScript("var "+s[0]);for(var h;s.length&&(h=s.shift());)!s.length&&w(c)?u[h]=c:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function H(s,c){function u(){}u.prototype=c.prototype,s.K=c.prototype,s.prototype=new u,s.prototype.constructor=s,s.vc=function(h,m,g){for(var b=Array(arguments.length-2),M=2;M<arguments.length;M++)b[M-2]=arguments[M];return c.prototype[m].apply(h,b)}}function oe(s){if(Error.captureStackTrace)Error.captureStackTrace(this,oe);else{var c=Error().stack;c&&(this.stack=c)}s&&(this.message=String(s))}H(oe,Error),oe.prototype.name="CustomError";var pe;function Oe(s,c){s=s.split("%s");for(var u="",h=s.length-1,m=0;m<h;m++)u+=s[m]+(m<c.length?c[m]:"%s");oe.call(this,u+s[h])}H(Oe,oe),Oe.prototype.name="AssertionError";function st(s,c){throw new Oe("Failure"+(s?": "+s:""),Array.prototype.slice.call(arguments,1))}var An=Array.prototype.indexOf?function(s,c){return Array.prototype.indexOf.call(s,c,void 0)}:function(s,c){if(E(s))return E(c)&&c.length==1?s.indexOf(c,0):-1;for(var u=0;u<s.length;u++)if(u in s&&s[u]===c)return u;return-1},Nt=Array.prototype.forEach?function(s,c,u){Array.prototype.forEach.call(s,c,u)}:function(s,c,u){for(var h=s.length,m=E(s)?s.split(""):s,g=0;g<h;g++)g in m&&c.call(u,m[g],g,s)};function ri(s,c){for(var u=E(s)?s.split(""):s,h=s.length-1;0<=h;--h)h in u&&c.call(void 0,u[h],h,s)}var yt=Array.prototype.filter?function(s,c){return Array.prototype.filter.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=[],m=0,g=E(s)?s.split(""):s,b=0;b<u;b++)if(b in g){var M=g[b];c.call(void 0,M,b,s)&&(h[m++]=M)}return h},Mi=Array.prototype.map?function(s,c){return Array.prototype.map.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=Array(u),m=E(s)?s.split(""):s,g=0;g<u;g++)g in m&&(h[g]=c.call(void 0,m[g],g,s));return h},pr=Array.prototype.some?function(s,c){return Array.prototype.some.call(s,c,void 0)}:function(s,c){for(var u=s.length,h=E(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s))return!0;return!1};function mt(s,c){return 0<=An(s,c)}function jn(s,c){c=An(s,c);var u;return(u=0<=c)&&an(s,c),u}function an(s,c){return Array.prototype.splice.call(s,c,1).length==1}function $i(s,c){e:{for(var u=s.length,h=E(s)?s.split(""):s,m=0;m<u;m++)if(m in h&&c.call(void 0,h[m],m,s)){c=m;break e}c=-1}0<=c&&an(s,c)}function Fr(s,c){var u=0;ri(s,function(h,m){c.call(void 0,h,m,s)&&an(s,m)&&u++})}function Hc(s){return Array.prototype.concat.apply([],arguments)}function Ia(s){var c=s.length;if(0<c){for(var u=Array(c),h=0;h<c;h++)u[h]=s[h];return u}return[]}function Uu(s,c,u){return 2>=arguments.length?Array.prototype.slice.call(s,c):Array.prototype.slice.call(s,c,u)}var oi=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]},Gc=/&/g,zc=/</g,Bu=/>/g,$u=/"/g,oo=/'/g,$o=/\x00/g,Wc=/[\x00&<>"']/;function so(s,c){return s<c?-1:s>c?1:0}function Lr(s){return Wc.test(s)&&(s.indexOf("&")!=-1&&(s=s.replace(Gc,"&amp;")),s.indexOf("<")!=-1&&(s=s.replace(zc,"&lt;")),s.indexOf(">")!=-1&&(s=s.replace(Bu,"&gt;")),s.indexOf('"')!=-1&&(s=s.replace($u,"&quot;")),s.indexOf("'")!=-1&&(s=s.replace(oo,"&#39;")),s.indexOf("\0")!=-1&&(s=s.replace($o,"&#0;"))),s}function qc(s,c,u){for(var h in s)c.call(u,s[h],h,s)}function Sa(s){var c={},u;for(u in s)c[u]=s[u];return c}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fs(s,c){for(var u,h,m=1;m<arguments.length;m++){h=arguments[m];for(u in h)s[u]=h[u];for(var g=0;g<Kc.length;g++)u=Kc[g],Object.prototype.hasOwnProperty.call(h,u)&&(s[u]=h[u])}}var Ta="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Ls(){}Ls.prototype.next=function(){throw Ta},Ls.prototype.ha=function(){return this};function ay(s){if(s instanceof Ls)return s;if(typeof s.ha=="function")return s.ha(!1);if(A(s)){var c=0,u=new Ls;return u.next=function(){for(;;){if(c>=s.length)throw Ta;if(c in s)return s[c++];c++}},u}throw Error("Not implemented")}function SE(s,c){if(A(s))try{Nt(s,c,void 0)}catch(u){if(u!==Ta)throw u}else{s=ay(s);try{for(;;)c.call(void 0,s.next(),void 0,s)}catch(u){if(u!==Ta)throw u}}}function TE(s){if(A(s))return Ia(s);s=ay(s);var c=[];return SE(s,function(u){c.push(u)}),c}function $(s,c){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(s)if(s instanceof $)for(u=s.ja(),h=0;h<u.length;h++)this.set(u[h],s.get(u[h]));else for(h in s)this.set(h,s[h])}t=$.prototype,t.la=function(){ve(this);for(var s=[],c=0;c<this.a.length;c++)s.push(this.g[this.a[c]]);return s},t.ja=function(){return ve(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function ve(s){if(s.h!=s.a.length){for(var c=0,u=0;c<s.a.length;){var h=s.a[c];Se(s.g,h)&&(s.a[u++]=h),c++}s.a.length=u}if(s.h!=s.a.length){var m={};for(u=c=0;c<s.a.length;)h=s.a[c],Se(m,h)||(s.a[u++]=h,m[h]=1),c++;s.a.length=u}}t.get=function(s,c){return Se(this.g,s)?this.g[s]:c},t.set=function(s,c){Se(this.g,s)||(this.h++,this.a.push(s),this.j++),this.g[s]=c},t.forEach=function(s,c){for(var u=this.ja(),h=0;h<u.length;h++){var m=u[h],g=this.get(m);s.call(c,g,m,this)}},t.ha=function(s){ve(this);var c=0,u=this.j,h=this,m=new Ls;return m.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(c>=h.a.length)throw Ta;var g=h.a[c++];return s?g:h.g[g]},m};function Se(s,c){return Object.prototype.hasOwnProperty.call(s,c)}var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _t(s,c){if(s){s=s.split("&");for(var u=0;u<s.length;u++){var h=s[u].indexOf("="),m=null;if(0<=h){var g=s[u].substring(0,h);m=s[u].substring(h+1)}else g=s[u];c(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function si(s,c,u,h){for(var m=u.length;0<=(c=s.indexOf(u,c))&&c<h;){var g=s.charCodeAt(c-1);if((g==38||g==63)&&(g=s.charCodeAt(c+m),!g||g==61||g==38||g==35))return c;c+=m+1}return-1}var Hi=/#|$/;function ao(s,c){var u=s.search(Hi),h=si(s,0,c,u);if(0>h)return null;var m=s.indexOf("&",h);return(0>m||m>u)&&(m=u),h+=c.length+1,decodeURIComponent(s.substr(h,m-h).replace(/\+/g," "))}var cy=/[?&]($|#)/;function Pi(s,c){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;s instanceof Pi?(this.i=w(c)?c:s.i,Yc(this,s.j),this.A=s.A,this.h=s.h,Da(this,s.C),this.g=s.g,Ho(this,Ck(s.a)),this.s=s.s):s&&(u=String(s).match(Mt))?(this.i=!!c,Yc(this,u[1]||"",!0),this.A=Vs(u[2]||""),this.h=Vs(u[3]||"",!0),Da(this,u[4]),this.g=Vs(u[5]||"",!0),Ho(this,u[6]||"",!0),this.s=Vs(u[7]||"")):(this.i=!!c,this.a=new Vf(null,this.i))}Pi.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Go(c,wk,!0),":");var u=this.h;return(u||c=="file")&&(s.push("//"),(c=this.A)&&s.push(Go(c,wk,!0),"@"),s.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&s.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&s.push("/"),s.push(Go(u,u.charAt(0)=="/"?n8:t8,!0))),(u=this.a.toString())&&s.push("?",u),(u=this.s)&&s.push("#",Go(u,r8)),s.join("")};function Yc(s,c,u){s.j=u?Vs(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Da(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.C=c}else s.C=null}function Ho(s,c,u){c instanceof Vf?(s.a=c,o8(s.a,s.i)):(u||(c=Go(c,i8)),s.a=new Vf(c,s.i))}function Lf(s){return s instanceof Pi?new Pi(s):new Pi(s,void 0)}function Vs(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Go(s,c,u){return E(s)?(s=encodeURI(s).replace(c,e8),u&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function e8(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var wk=/[#\/\?@]/g,t8=/[#\?:]/g,n8=/[#\?]/g,i8=/[#\?@]/g,r8=/#/g;function Vf(s,c){this.g=this.a=null,this.h=s||null,this.j=!!c}function xa(s){s.a||(s.a=new $,s.g=0,s.h&&_t(s.h,function(c,u){s.add(decodeURIComponent(c.replace(/\+/g," ")),u)}))}t=Vf.prototype,t.add=function(s,c){xa(this),this.h=null,s=Hu(this,s);var u=this.a.get(s);return u||this.a.set(s,u=[]),u.push(c),this.g+=1,this};function Qc(s,c){xa(s),c=Hu(s,c),Se(s.a.g,c)&&(s.h=null,s.g-=s.a.get(c).length,s=s.a,Se(s.g,c)&&(delete s.g[c],s.h--,s.j++,s.a.length>2*s.h&&ve(s)))}t.clear=function(){this.a=this.h=null,this.g=0};function bk(s,c){return xa(s),c=Hu(s,c),Se(s.a.g,c)}t.forEach=function(s,c){xa(this),this.a.forEach(function(u,h){Nt(u,function(m){s.call(c,m,h,this)},this)},this)},t.ja=function(){xa(this);for(var s=this.a.la(),c=this.a.ja(),u=[],h=0;h<c.length;h++)for(var m=s[h],g=0;g<m.length;g++)u.push(c[h]);return u},t.la=function(s){xa(this);var c=[];if(E(s))bk(this,s)&&(c=Hc(c,this.a.get(Hu(this,s))));else{s=this.a.la();for(var u=0;u<s.length;u++)c=Hc(c,s[u])}return c},t.set=function(s,c){return xa(this),this.h=null,s=Hu(this,s),bk(this,s)&&(this.g-=this.a.get(s).length),this.a.set(s,[c]),this.g+=1,this},t.get=function(s,c){return s?(s=this.la(s),0<s.length?String(s[0]):c):c},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var s=[],c=this.a.ja(),u=0;u<c.length;u++){var h=c[u],m=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var b=m;h[g]!==""&&(b+="="+encodeURIComponent(String(h[g]))),s.push(b)}}return this.h=s.join("&")};function Ck(s){var c=new Vf;return c.h=s.h,s.a&&(c.a=new $(s.a),c.g=s.g),c}function Hu(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function o8(s,c){c&&!s.j&&(xa(s),s.h=null,s.a.forEach(function(u,h){var m=h.toLowerCase();h!=m&&(Qc(this,h),Qc(this,m),0<u.length&&(this.h=null,this.a.set(Hu(this,m),Ia(u)),this.g+=u.length))},s)),s.j=c}function Xc(s){this.a=Lf(s)}function s8(s,c){c?s.a.a.set(Un.Sa,c):Qc(s.a.a,Un.Sa)}function a8(s,c){c!==null?s.a.a.set(Un.Qa,c?"1":"0"):Qc(s.a.a,Un.Qa)}function Ek(s){return s.a.a.get(Un.Pa)||null}function Ik(s,c){c?s.a.a.set(Un.PROVIDER_ID,c):Qc(s.a.a,Un.PROVIDER_ID)}Xc.prototype.toString=function(){return this.a.toString()};var Un={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Gu;e:{var Sk=v.navigator;if(Sk){var Tk=Sk.userAgent;if(Tk){Gu=Tk;break e}}Gu=""}function dt(s){return Gu.indexOf(s)!=-1}function Dk(){return(dt("Chrome")||dt("CriOS"))&&!dt("Edge")}function DE(s){return DE[" "](s),s}DE[" "]=x;function c8(s,c){var u=d8;return Object.prototype.hasOwnProperty.call(u,s)?u[s]:u[s]=c(s)}var xk=dt("Opera"),gn=dt("Trident")||dt("MSIE"),Aa=dt("Edge"),l8=Aa||gn,co=dt("Gecko")&&!(Gu.toLowerCase().indexOf("webkit")!=-1&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Gi=Gu.toLowerCase().indexOf("webkit")!=-1&&!dt("Edge"),u8=Gi&&dt("Mobile"),Ma=dt("Macintosh");function Ak(){var s=v.document;return s?s.documentMode:void 0}var ly;e:{var xE="",AE=function(){var s=Gu;if(co)return/rv:([^\);]+)(\)|;)/.exec(s);if(Aa)return/Edge\/([\d\.]+)/.exec(s);if(gn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s);if(Gi)return/WebKit\/(\S+)/.exec(s);if(xk)return/(?:Version)[ \/]?(\S+)/.exec(s)}();if(AE&&(xE=AE?AE[1]:""),gn){var ME=Ak();if(ME!=null&&ME>parseFloat(xE)){ly=String(ME);break e}}ly=xE}var d8={};function Jc(s){return c8(s,function(){for(var c=0,u=oi(String(ly)).split("."),h=oi(String(s)).split("."),m=Math.max(u.length,h.length),g=0;c==0&&g<m;g++){var b=u[g]||"",M=h[g]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],M=/(\d*)(\D*)(.*)/.exec(M)||["","","",""],b[0].length==0&&M[0].length==0)break;c=so(b[1].length==0?0:parseInt(b[1],10),M[1].length==0?0:parseInt(M[1],10))||so(b[2].length==0,M[2].length==0)||so(b[2],M[2]),b=b[3],M=M[3]}while(c==0)}return 0<=c})}var jf,Mk=v.document;jf=Mk&&gn?Ak()||(Mk.compatMode=="CSS1Compat"?parseInt(ly,10):5):void 0;function zu(s,c){this.a=s===Ok&&c||"",this.g=Pk}zu.prototype.ma=!0,zu.prototype.ka=function(){return this.a},zu.prototype.toString=function(){return"Const{"+this.a+"}"};var Pk={},Ok={};function Zc(){this.a="",this.h=Rk}Zc.prototype.ma=!0,Zc.prototype.ka=function(){return this.a.toString()},Zc.prototype.g=function(){return 1},Zc.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function kk(s){return s instanceof Zc&&s.constructor===Zc&&s.h===Rk?s.a:(st("expected object of type TrustedResourceUrl, got '"+s+"' of type "+V(s)),"type_error:TrustedResourceUrl")}function h8(){var s=nz;s instanceof zu&&s.constructor===zu&&s.g===Pk?s=s.a:(st("expected object of type Const, got '"+s+"'"),s="type_error:Const");var c=new Zc;return c.a=s,c}var Rk={};function mr(){this.a="",this.h=Lk}mr.prototype.ma=!0,mr.prototype.ka=function(){return this.a.toString()},mr.prototype.g=function(){return 1},mr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Pa(s){return s instanceof mr&&s.constructor===mr&&s.h===Lk?s.a:(st("expected object of type SafeUrl, got '"+s+"' of type "+V(s)),"type_error:SafeUrl")}var Nk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uy(s){return s instanceof mr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Nk.test(s)||(s="about:invalid#zClosurez"),PE(s))}function Fk(s){return s instanceof mr?s:(s=typeof s=="object"&&s.ma?s.ka():String(s),Nk.test(s)||(s="about:invalid#zClosurez"),PE(s))}var Lk={};function PE(s){var c=new mr;return c.a=s,c}PE("about:blank");function Wu(){this.a="",this.g=Vk}Wu.prototype.ma=!0;var Vk={};Wu.prototype.ka=function(){return this.a},Wu.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Oa(){this.a="",this.j=jk,this.h=null}Oa.prototype.g=function(){return this.h},Oa.prototype.ma=!0,Oa.prototype.ka=function(){return this.a.toString()},Oa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function dy(s){return s instanceof Oa&&s.constructor===Oa&&s.j===jk?s.a:(st("expected object of type SafeHtml, got '"+s+"' of type "+V(s)),"type_error:SafeHtml")}var jk={};function Uf(s,c){var u=new Oa;return u.a=s,u.h=c,u}Uf("<!DOCTYPE html>",0);var f8=Uf("",0);Uf("<br>",0);var p8=function(s){var c=!1,u;return function(){return c||(u=s(),c=!0),u}}(function(){if(typeof document>"u")return!1;var s=document.createElement("div"),c=document.createElement("div");return c.appendChild(document.createElement("div")),s.appendChild(c),s.firstChild?(c=s.firstChild.firstChild,s.innerHTML=dy(f8),!c.parentElement):!1});function m8(s,c){if(s.src=kk(c),S===null)e:{if(c=v.document,(c=c.querySelector&&c.querySelector("script[nonce]"))&&(c=c.nonce||c.getAttribute("nonce"))&&C.test(c)){S=c;break e}S=""}c=S,c&&s.setAttribute("nonce",c)}function qu(s,c){c=c instanceof mr?c:Fk(c),s.assign(Pa(c))}function ka(s,c){this.a=w(s)?s:0,this.g=w(c)?c:0}ka.prototype.toString=function(){return"("+this.a+", "+this.g+")"},ka.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},ka.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},ka.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function OE(s,c){this.width=s,this.height=c}t=OE.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function hy(s){return s?new FE(Bf(s)):pe||(pe=new FE)}function kE(s,c){var u=c||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+s):Uk(document,s,c)}function RE(s,c){var u=c||document;if(u.getElementsByClassName)s=u.getElementsByClassName(s)[0];else{u=document;var h=c||u;s=h.querySelectorAll&&h.querySelector&&s?h.querySelector(s?"."+s:""):Uk(u,s,c)[0]||null}return s||null}function Uk(s,c,u){var h;if(s=u||s,s.querySelectorAll&&s.querySelector&&c)return s.querySelectorAll(c?"."+c:"");if(c&&s.getElementsByClassName){var m=s.getElementsByClassName(c);return m}if(m=s.getElementsByTagName("*"),c){var g={};for(u=h=0;s=m[u];u++){var b=s.className;typeof b.split=="function"&&mt(b.split(/\s+/),c)&&(g[h++]=s)}return g.length=h,g}return m}function g8(s,c){qc(c,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?s.style.cssText=u:h=="class"?s.className=u:h=="for"?s.htmlFor=u:Bk.hasOwnProperty(h)?s.setAttribute(Bk[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?s.setAttribute(h,u):s[h]=u})}var Bk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fy(s){return s.scrollingElement?s.scrollingElement:(Gi||s.compatMode!="CSS1Compat")&&s.body||s.documentElement}function el(s){s&&s.parentNode&&s.parentNode.removeChild(s)}function Bf(s){return s.nodeType==9?s:s.ownerDocument||s.document}function NE(s,c){if("textContent"in s)s.textContent=c;else if(s.nodeType==3)s.data=String(c);else if(s.firstChild&&s.firstChild.nodeType==3){for(;s.lastChild!=s.firstChild;)s.removeChild(s.lastChild);s.firstChild.data=String(c)}else{for(var u;u=s.firstChild;)s.removeChild(u);s.appendChild(Bf(s).createTextNode(String(c)))}}function $k(s,c){return c?v8(s,function(u){return!c||E(u.className)&&mt(u.className.split(/\s+/),c)}):null}function v8(s,c){for(var u=0;s;){if(c(s))return s;s=s.parentNode,u++}return null}function FE(s){this.a=s||v.document||document}FE.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var py={Fc:!0},Hk={Hc:!0},y8={Ec:!0},Gk={Gc:!0};function Ra(){throw Error("Do not instantiate directly")}Ra.prototype.va=null,Ra.prototype.toString=function(){return this.content};function $f(s,c,u,h){if(s=s(c||b8,void 0,u),h=(h||hy()).a.createElement("DIV"),s=_8(s),s.match(w8),s=Uf(s,null),p8())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=dy(s),h.childNodes.length==1&&(s=h.firstChild,s.nodeType==1&&(h=s)),h}function _8(s){if(!B(s))return Lr(String(s));if(s instanceof Ra){if(s.fa===py)return s.content;if(s.fa===Gk)return Lr(s.content)}return st("Soy template output is unsafe for use as HTML: "+s),"zSoyz"}var w8=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,b8={};function C8(s){if(s!=null)switch(s.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function my(){Ra.call(this)}H(my,Ra),my.prototype.fa=py;function ke(s){return s!=null&&s.fa===py?s:s instanceof Oa?ge(dy(s).toString(),s.g()):ge(Lr(String(String(s))),C8(s))}function gy(){Ra.call(this)}H(gy,Ra),gy.prototype.fa=Hk,gy.prototype.va=1;function vy(s,c){this.content=String(s),this.va=c??null}H(vy,Ra),vy.prototype.fa=Gk;function Dt(s){return new vy(s,void 0)}var ge=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=new c(String(u)),h!==void 0&&(u.va=h),u}}(my),E8=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u){return new c(String(u))}}(gy);function I8(s){function c(){}var u={label:vn("New password")};c.prototype=s,s=new c;for(var h in u)s[h]=u[h];return s}function vn(s){return(s=String(s))?new vy(s,void 0):""}var zk=function(s){function c(u){this.content=u}return c.prototype=s.prototype,function(u,h){return u=String(u),u?(u=new c(u),h!==void 0&&(u.va=h),u):""}}(my);function zi(s){return s!=null&&s.fa===py?String(String(s.content).replace(P8,"").replace(O8,"&lt;")).replace(x8,T8):Lr(String(s))}function tl(s){return s!=null&&s.fa===Hk?s=String(s).replace(VE,LE):s instanceof mr?s=String(Pa(s).toString()).replace(VE,LE):(s=String(s),M8.test(s)?s=s.replace(VE,LE):(st("Bad value `%s` for |filterNormalizeUri",[s]),s="#zSoyz")),s}function Wk(s){return s!=null&&s.fa===y8?s=s.content:s==null?s="":s instanceof Wu?s instanceof Wu&&s.constructor===Wu&&s.g===Vk?s=s.a:(st("expected object of type SafeStyle, got '"+s+"' of type "+V(s)),s="type_error:SafeStyle"):(s=String(s),A8.test(s)||(st("Bad value `%s` for |filterCssValue",[s]),s="zSoyz")),s}var S8={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xA0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function T8(s){return S8[s]}var D8={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7F":"%7F","\x85":"%C2%85","\xA0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uFF01":"%EF%BC%81","\uFF03":"%EF%BC%83","\uFF04":"%EF%BC%84","\uFF06":"%EF%BC%86","\uFF07":"%EF%BC%87","\uFF08":"%EF%BC%88","\uFF09":"%EF%BC%89","\uFF0A":"%EF%BC%8A","\uFF0B":"%EF%BC%8B","\uFF0C":"%EF%BC%8C","\uFF0F":"%EF%BC%8F","\uFF1A":"%EF%BC%9A","\uFF1B":"%EF%BC%9B","\uFF1D":"%EF%BC%9D","\uFF1F":"%EF%BC%9F","\uFF20":"%EF%BC%A0","\uFF3B":"%EF%BC%BB","\uFF3D":"%EF%BC%BD"};function LE(s){return D8[s]}var x8=/[\x00\x22\x27\x3c\x3e]/g,VE=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,A8=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,M8=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,P8=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,O8=/</g;function jE(){return Dt("Enter a valid phone number")}function qk(){return Dt("Unable to send password reset code to specified email")}function Kk(){return Dt("Something went wrong. Please try again.")}function Yk(){return Dt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Qk(s){s=s||{};var c="";switch(s.code){case"invalid-argument":c+="Client specified an invalid argument.";break;case"invalid-configuration":c+="Client specified an invalid project configuration.";break;case"failed-precondition":c+="Request can not be executed in the current system state.";break;case"out-of-range":c+="Client specified an invalid range.";break;case"unauthenticated":c+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":c+="Client does not have sufficient permission.";break;case"not-found":c+="Specified resource is not found.";break;case"aborted":c+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":c+="The resource that a client tried to create already exists.";break;case"resource-exhausted":c+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":c+="Request cancelled by the client.";break;case"data-loss":c+="Unrecoverable data loss or data corruption.";break;case"unknown":c+="Unknown server error.";break;case"internal":c+="Internal server error.";break;case"not-implemented":c+="API method not implemented by the server.";break;case"unavailable":c+="Service unavailable.";break;case"deadline-exceeded":c+="Request deadline exceeded.";break;case"auth/user-disabled":c+="The user account has been disabled by an administrator.";break;case"auth/timeout":c+="The operation has timed out.";break;case"auth/too-many-requests":c+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":c+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":c+="A network error has occurred. Try again later.";break;case"restart-process":c+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":c+="No sign-in provider is available for the given email, please try with a different email."}return Dt(c)}function Xk(){return Dt("Please login again to perform this operation")}function Hf(s,c,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=k8+s,!(s=c)){switch(s="",this.code){case"firebaseui/merge-conflict":s+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:s+=Kk()}s=Dt(s).toString()}this.message=s||"",this.credential=u||null}l(Hf,Error),Hf.prototype.toJSON=function(){return{code:this.code,message:this.message}};var k8="firebaseui/";function nl(){UE!=0&&(Jk[this[se]||(this[se]=++Ee)]=this),this.T=this.T,this.C=this.C}var UE=0,Jk={};nl.prototype.T=!1,nl.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),UE!=0)){var s=this[se]||(this[se]=++Ee);if(UE!=0&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Jk[s]}};function Gf(s,c){s.T?w(void 0)?c.call(void 0):c():(s.C||(s.C=[]),s.C.push(w(void 0)?Ie(c,void 0):c))}nl.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function zf(s){s&&typeof s.m=="function"&&s.m()}var R8=Object.freeze||function(s){return s},Zk=!gn||9<=Number(jf),N8=gn&&!Jc("9"),F8=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{v.addEventListener("test",x,c),v.removeEventListener("test",x,c)}catch{}return s}();function js(s,c){this.type=s,this.g=this.target=c,this.h=!1,this.qb=!0}js.prototype.stopPropagation=function(){this.h=!0},js.prototype.preventDefault=function(){this.qb=!1};function Wi(s,c){if(js.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,s){var u=this.type=s.type,h=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(co){e:{try{DE(c.nodeName);var m=!0;break e}catch{}m=!1}m||(c=null)}}else u=="mouseover"?c=s.fromElement:u=="mouseout"&&(c=s.toElement);this.relatedTarget=c,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.keyCode=s.keyCode||0,this.key=s.key||"",this.j=s.charCode||(u=="keypress"?s.keyCode:0),this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=E(s.pointerType)?s.pointerType:L8[s.pointerType]||"",this.a=s,s.defaultPrevented&&this.preventDefault()}}H(Wi,js);var L8=R8({2:"touch",3:"pen",4:"mouse"});Wi.prototype.stopPropagation=function(){Wi.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Wi.prototype.preventDefault=function(){Wi.K.preventDefault.call(this);var s=this.a;if(s.preventDefault)s.preventDefault();else if(s.returnValue=!1,N8)try{(s.ctrlKey||112<=s.keyCode&&123>=s.keyCode)&&(s.keyCode=-1)}catch{}};var Wf="closure_listenable_"+(1e6*Math.random()|0),V8=0;function j8(s,c,u,h,m){this.listener=s,this.proxy=null,this.src=c,this.type=u,this.capture=!!h,this.La=m,this.key=++V8,this.sa=this.Ia=!1}function yy(s){s.sa=!0,s.listener=null,s.proxy=null,s.src=null,s.La=null}function _y(s){this.src=s,this.a={},this.g=0}_y.prototype.add=function(s,c,u,h,m){var g=s.toString();s=this.a[g],s||(s=this.a[g]=[],this.g++);var b=$E(s,c,h,m);return-1<b?(c=s[b],u||(c.Ia=!1)):(c=new j8(c,this.src,g,!!h,m),c.Ia=u,s.push(c)),c};function BE(s,c){var u=c.type;u in s.a&&jn(s.a[u],c)&&(yy(c),s.a[u].length==0&&(delete s.a[u],s.g--))}function $E(s,c,u,h){for(var m=0;m<s.length;++m){var g=s[m];if(!g.sa&&g.listener==c&&g.capture==!!u&&g.La==h)return m}return-1}var HE="closure_lm_"+(1e6*Math.random()|0),GE={},eR=0;function lo(s,c,u,h,m){if(h&&h.once)return qf(s,c,u,h,m);if(G(c)){for(var g=0;g<c.length;g++)lo(s,c[g],u,h,m);return null}return u=WE(u),s&&s[Wf]?s.J.add(String(c),u,!1,B(h)?!!h.capture:!!h,m):tR(s,c,u,!1,h,m)}function tR(s,c,u,h,m,g){if(!c)throw Error("Invalid event type");var b=B(m)?!!m.capture:!!m,M=wy(s);if(M||(s[HE]=M=new _y(s)),u=M.add(c,u,h,b,g),u.proxy)return u;if(h=U8(),u.proxy=h,h.src=s,h.listener=u,s.addEventListener)F8||(m=b),m===void 0&&(m=!1),s.addEventListener(c.toString(),h,m);else if(s.attachEvent)s.attachEvent(nR(c.toString()),h);else if(s.addListener&&s.removeListener)s.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return eR++,u}function U8(){var s=B8,c=Zk?function(u){return s.call(c.src,c.listener,u)}:function(u){if(u=s.call(c.src,c.listener,u),!u)return u};return c}function qf(s,c,u,h,m){if(G(c)){for(var g=0;g<c.length;g++)qf(s,c[g],u,h,m);return null}return u=WE(u),s&&s[Wf]?s.J.add(String(c),u,!0,B(h)?!!h.capture:!!h,m):tR(s,c,u,!0,h,m)}function il(s,c,u,h,m){if(G(c))for(var g=0;g<c.length;g++)il(s,c[g],u,h,m);else h=B(h)?!!h.capture:!!h,u=WE(u),s&&s[Wf]?(s=s.J,c=String(c).toString(),c in s.a&&(g=s.a[c],u=$E(g,u,h,m),-1<u&&(yy(g[u]),an(g,u),g.length==0&&(delete s.a[c],s.g--)))):s&&(s=wy(s))&&(c=s.a[c.toString()],s=-1,c&&(s=$E(c,u,h,m)),(u=-1<s?c[s]:null)&&Na(u))}function Na(s){if(typeof s!="number"&&s&&!s.sa){var c=s.src;if(c&&c[Wf])BE(c.J,s);else{var u=s.type,h=s.proxy;c.removeEventListener?c.removeEventListener(u,h,s.capture):c.detachEvent?c.detachEvent(nR(u),h):c.addListener&&c.removeListener&&c.removeListener(h),eR--,(u=wy(c))?(BE(u,s),u.g==0&&(u.src=null,c[HE]=null)):yy(s)}}}function nR(s){return s in GE?GE[s]:GE[s]="on"+s}function iR(s,c,u,h){var m=!0;if((s=wy(s))&&(c=s.a[c.toString()]))for(c=c.concat(),s=0;s<c.length;s++){var g=c[s];g&&g.capture==u&&!g.sa&&(g=rR(g,h),m=m&&g!==!1)}return m}function rR(s,c){var u=s.listener,h=s.La||s.src;return s.Ia&&Na(s),u.call(h,c)}function B8(s,c){if(s.sa)return!0;if(!Zk){if(!c)e:{c=["window","event"];for(var u=v,h=0;h<c.length;h++)if(u=u[c[h]],u==null){c=null;break e}c=u}if(h=c,c=new Wi(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=c.g;m;m=m.parentNode)h.push(m);for(s=s.type,m=h.length-1;!c.h&&0<=m;m--){c.g=h[m];var g=iR(h[m],s,!0,c);u=u&&g}for(m=0;!c.h&&m<h.length;m++)c.g=h[m],g=iR(h[m],s,!1,c),u=u&&g}return u}return rR(s,new Wi(c,this))}function wy(s){return s=s[HE],s instanceof _y?s:null}var zE="__closure_events_fn_"+(1e9*Math.random()>>>0);function WE(s){return ie(s)?s:(s[zE]||(s[zE]=function(c){return s.handleEvent(c)}),s[zE])}function Bn(){nl.call(this),this.J=new _y(this),this.wb=this,this.Ha=null}H(Bn,nl),Bn.prototype[Wf]=!0,Bn.prototype.Za=function(s){this.Ha=s},Bn.prototype.removeEventListener=function(s,c,u,h){il(this,s,c,u,h)};function Fa(s,c){var u,h=s.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(s=s.wb,h=c.type||c,E(c))c=new js(c,s);else if(c instanceof js)c.target=c.target||s;else{var m=c;c=new js(h,s),Fs(c,m)}if(m=!0,u)for(var g=u.length-1;!c.h&&0<=g;g--){var b=c.g=u[g];m=by(b,h,!0,c)&&m}if(c.h||(b=c.g=s,m=by(b,h,!0,c)&&m,c.h||(m=by(b,h,!1,c)&&m)),u)for(g=0;!c.h&&g<u.length;g++)b=c.g=u[g],m=by(b,h,!1,c)&&m;return m}Bn.prototype.o=function(){if(Bn.K.o.call(this),this.J){var s=this.J,c=0,u;for(u in s.a){for(var h=s.a[u],m=0;m<h.length;m++)++c,yy(h[m]);delete s.a[u],s.g--}}this.Ha=null};function by(s,c,u,h){if(c=s.J.a[String(c)],!c)return!0;c=c.concat();for(var m=!0,g=0;g<c.length;++g){var b=c[g];if(b&&!b.sa&&b.capture==u){var M=b.listener,j=b.La||b.src;b.Ia&&BE(s.J,b),m=M.call(j,h)!==!1&&m}}return m&&h.qb!=0}var gr={},oR=0;function sR(s,c){if(!s)throw Error("Event target element must be provided!");if(s=qE(s),gr[s]&&gr[s].length)for(var u=0;u<gr[s].length;u++)Fa(gr[s][u],c)}function $8(s){var c=qE(s.N());gr[c]&&gr[c].length&&($i(gr[c],function(u){return u==s}),gr[c].length||delete gr[c])}function qE(s){return typeof s.a>"u"&&(s.a=oR,oR++),s.a}function Cy(s){if(!s)throw Error("Event target element must be provided!");Bn.call(this),this.a=s}l(Cy,Bn),Cy.prototype.N=function(){return this.a},Cy.prototype.register=function(){var s=qE(this.N());gr[s]?mt(gr[s],this)||gr[s].push(this):gr[s]=[this]};function aR(s){if(!s)return!1;try{return!!s.$goog_Thenable}catch{return!1}}function KE(s,c){this.h=s,this.j=c,this.g=0,this.a=null}KE.prototype.get=function(){if(0<this.g){this.g--;var s=this.a;this.a=s.next,s.next=null}else s=this.h();return s};function cR(s,c){s.j(c),100>s.g&&(s.g++,c.next=s.a,s.a=c)}function lR(){this.g=this.a=null}var uR=new KE(function(){return new YE},function(s){s.reset()});lR.prototype.add=function(s,c){var u=uR.get();u.set(s,c),this.g?this.g.next=u:this.a=u,this.g=u};function H8(){var s=hR,c=null;return s.a&&(c=s.a,s.a=s.a.next,s.a||(s.g=null),c.next=null),c}function YE(){this.next=this.g=this.a=null}YE.prototype.set=function(s,c){this.a=s,this.g=c,this.next=null},YE.prototype.reset=function(){this.next=this.g=this.a=null};function dR(s){v.setTimeout(function(){throw s},0)}var QE;function G8(){var s=v.MessageChannel;if(typeof s>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(s=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var b="callImmediate"+Math.random(),M=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=Ie(function(j){(M=="*"||j.origin==M)&&j.data==b&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(b,M)}}}),typeof s<"u"&&!dt("Trident")&&!dt("MSIE")){var c=new s,u={},h=u;return c.port1.onmessage=function(){if(w(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){h.next={gb:m},h=h.next,c.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function XE(s,c){Ey||z8(),JE||(Ey(),JE=!0),hR.add(s,c)}var Ey;function z8(){if(v.Promise&&v.Promise.resolve){var s=v.Promise.resolve(void 0);Ey=function(){s.then(fR)}}else Ey=function(){var c=fR;!ie(v.setImmediate)||v.Window&&v.Window.prototype&&!dt("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(QE||(QE=G8()),QE(c)):v.setImmediate(c)}}var JE=!1,hR=new lR;function fR(){for(var s;s=H8();){try{s.a.call(s.g)}catch(c){dR(c)}cR(uR,s)}JE=!1}function $n(s){if(this.a=rl,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,s!=x)try{var c=this;s.call(void 0,function(u){ol(c,Kf,u)},function(u){if(!(u instanceof Yu))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}ol(c,Us,u)})}catch(u){ol(this,Us,u)}}var rl=0,Kf=2,Us=3;function pR(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}pR.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var mR=new KE(function(){return new pR},function(s){s.reset()});function ZE(s,c,u){var h=mR.get();return h.s=s,h.g=c,h.j=u,h}function yn(s){if(s instanceof $n)return s;var c=new $n(x);return ol(c,Kf,s),c}function Ku(s){return new $n(function(c,u){u(s)})}$n.prototype.then=function(s,c,u){return vR(this,ie(s)?s:null,ie(c)?c:null,u)},$n.prototype.$goog_Thenable=!0,t=$n.prototype,t.fc=function(s,c){return s=ZE(s,s,c),s.h=!0,eI(this,s),this},t.Ca=function(s,c){return vR(this,null,s,c)},t.cancel=function(s){this.a==rl&&XE(function(){var c=new Yu(s);gR(this,c)},this)};function gR(s,c){if(s.a==rl)if(s.h){var u=s.h;if(u.g){for(var h=0,m=null,g=null,b=u.g;b&&(b.h||(h++,b.a==s&&(m=b),!(m&&1<h)));b=b.next)m||(g=b);m&&(u.a==rl&&h==1?gR(u,c):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):_R(u),wR(u,m,Us,c)))}s.h=null}else ol(s,Us,c)}function eI(s,c){s.g||s.a!=Kf&&s.a!=Us||yR(s),s.j?s.j.next=c:s.g=c,s.j=c}function vR(s,c,u,h){var m=ZE(null,null,null);return m.a=new $n(function(g,b){m.s=c?function(M){try{var j=c.call(h,M);g(j)}catch(X){b(X)}}:g,m.g=u?function(M){try{var j=u.call(h,M);!w(j)&&M instanceof Yu?b(M):g(j)}catch(X){b(X)}}:b}),m.a.h=s,eI(s,m),m.a}t.hc=function(s){this.a=rl,ol(this,Kf,s)},t.ic=function(s){this.a=rl,ol(this,Us,s)};function ol(s,c,u){if(s.a==rl){s===u&&(c=Us,u=new TypeError("Promise cannot resolve to itself")),s.a=1;e:{var h=u,m=s.hc,g=s.ic;if(h instanceof $n){eI(h,ZE(m||x,g||null,s));var b=!0}else if(aR(h))h.then(m,g,s),b=!0;else{if(B(h))try{var M=h.then;if(ie(M)){W8(h,M,m,g,s),b=!0;break e}}catch(j){g.call(s,j),b=!0;break e}b=!1}}b||(s.A=u,s.a=c,s.h=null,yR(s),c!=Us||u instanceof Yu||q8(s,u))}}function W8(s,c,u,h,m){function g(j){M||(M=!0,h.call(m,j))}function b(j){M||(M=!0,u.call(m,j))}var M=!1;try{c.call(s,b,g)}catch(j){g(j)}}function yR(s){s.i||(s.i=!0,XE(s.Hb,s))}function _R(s){var c=null;return s.g&&(c=s.g,s.g=c.next,c.next=null),s.g||(s.j=null),c}t.Hb=function(){for(var s;s=_R(this);)wR(this,s,this.a,this.A);this.i=!1};function wR(s,c,u,h){if(u==Us&&c.g&&!c.h)for(;s&&s.s;s=s.h)s.s=!1;if(c.a)c.a.h=null,bR(c,u,h);else try{c.h?c.s.call(c.j):bR(c,u,h)}catch(m){CR.call(null,m)}cR(mR,c)}function bR(s,c,u){c==Kf?s.s.call(s.j,u):s.g&&s.g.call(s.j,u)}function q8(s,c){s.s=!0,XE(function(){s.s&&CR.call(null,c)})}var CR=dR;function Yu(s){oe.call(this,s)}H(Yu,oe),Yu.prototype.name="cancel";function ER(s,c,u){c||(c={}),u=u||window;var h=s instanceof mr?s:uy(typeof s.href<"u"?s.href:String(s));s=c.target||s.target;var m=[];for(g in c)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+c[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(c[g]?1:0))}var g=m.join(",");return(dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&u.navigator&&u.navigator.standalone&&s&&s!="_self"?(g=u.document.createElement("A"),h=h instanceof mr?h:Fk(h),g.href=Pa(h),g.setAttribute("target",s),c.noreferrer&&g.setAttribute("rel","noreferrer"),c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(c),u={}):c.noreferrer?(u=u.open("",s,g),c=Pa(h).toString(),u&&(l8&&c.indexOf(";")!=-1&&(c="'"+c.replace(/'/g,"%27")+"'"),u.opener=null,c=Uf('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Lr(c)+'">',null),u.document.write(dy(c)),u.document.close())):(u=u.open(Pa(h).toString(),s,g))&&c.noopener&&(u.opener=null),u}function IR(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Qu(s){ER(s,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Iy(s,c){if(s=B(s)&&s.nodeType==1?s:document.querySelector(String(s)),s==null)throw Error(c||"Cannot find element.");return s}function Bs(){return window.location.href}function K8(){var s=null;return new $n(function(c){v.document.readyState=="complete"?c():(s=function(){c()},qf(window,"load",s))}).Ca(function(c){throw il(window,"load",s),c})}function Y8(){for(var s=32,c=[];0<s;)c.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),s--;return c.join("")}function Q8(s,c,u){return u=u===void 0?{}:u,Object.keys(s).filter(function(h){return c.includes(h)}).reduce(function(h,m){return h[m]=s[m],h},u)}function La(s){var c=Z8;this.s=[],this.T=c,this.O=s||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}La.prototype.cancel=function(s){if(this.a)this.h instanceof La&&this.h.cancel();else{if(this.g){var c=this.g;delete this.g,s?c.cancel(s):(c.C--,0>=c.C&&c.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(s=new Qf(this),Sy(this),Yf(this,!1,s))}},La.prototype.L=function(s,c){this.A=!1,Yf(this,s,c)};function Yf(s,c,u){s.a=!0,s.h=u,s.j=!c,DR(s)}function Sy(s){if(s.a){if(!s.J)throw new Ty(s);s.J=!1}}La.prototype.callback=function(s){Sy(this),Yf(this,!0,s)};function SR(s,c,u){s.s.push([c,u,void 0]),s.a&&DR(s)}La.prototype.then=function(s,c,u){var h,m,g=new $n(function(b,M){h=b,m=M});return SR(this,h,function(b){b instanceof Qf?g.cancel():m(b)}),g.then(s,c,u)},La.prototype.$goog_Thenable=!0;function TR(s){return pr(s.s,function(c){return ie(c[1])})}function DR(s){if(s.i&&s.a&&TR(s)){var c=s.i,u=Dy[c];u&&(v.clearTimeout(u.a),delete Dy[c]),s.i=0}s.g&&(s.g.C--,delete s.g),c=s.h;for(var h=u=!1;s.s.length&&!s.A;){var m=s.s.shift(),g=m[0],b=m[1];if(m=m[2],g=s.j?b:g)try{var M=g.call(m||s.O,c);w(M)&&(s.j=s.j&&(M==c||M instanceof Error),s.h=c=M),(aR(c)||typeof v.Promise=="function"&&c instanceof v.Promise)&&(h=!0,s.A=!0)}catch(j){c=j,s.j=!0,TR(s)||(u=!0)}}s.h=c,h&&(M=Ie(s.L,s,!0),h=Ie(s.L,s,!1),c instanceof La?(SR(c,M,h),c.l=!0):c.then(M,h)),u&&(c=new xR(c),Dy[c.a]=c,s.i=c.a)}function Ty(){oe.call(this)}H(Ty,oe),Ty.prototype.message="Deferred has already fired",Ty.prototype.name="AlreadyCalledError";function Qf(){oe.call(this)}H(Qf,oe),Qf.prototype.message="Deferred was canceled",Qf.prototype.name="CanceledError";function xR(s){this.a=v.setTimeout(Ie(this.h,this),0),this.g=s}xR.prototype.h=function(){throw delete Dy[this.a],this.g};var Dy={};function X8(s){var c={},u=c.document||document,h=kk(s).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},b=new La(g),M=null,j=c.timeout!=null?c.timeout:5e3;return 0<j&&(M=window.setTimeout(function(){xy(m,!0);var X=new tI(tz,"Timeout reached for loading script "+h);Sy(b),Yf(b,!1,X)},j),g.sb=M),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(xy(m,c.xc||!1,M),b.callback(null))},m.onerror=function(){xy(m,!0,M);var X=new tI(ez,"Error while loading script "+h);Sy(b),Yf(b,!1,X)},g=c.attributes||{},Fs(g,{type:"text/javascript",charset:"UTF-8"}),g8(m,g),m8(m,s),J8(u).appendChild(m),b}function J8(s){var c=(s||document).getElementsByTagName("HEAD");return c&&c.length!=0?c[0]:s.documentElement}function Z8(){if(this&&this.rb){var s=this.rb;s&&s.tagName=="SCRIPT"&&xy(s,!0,this.sb)}}function xy(s,c,u){u!=null&&v.clearTimeout(u),s.onload=x,s.onerror=x,s.onreadystatechange=x,c&&window.setTimeout(function(){el(s)},0)}var ez=0,tz=1;function tI(s,c){var u="Jsloader error (code #"+s+")";c&&(u+=": "+c),oe.call(this,u),this.code=s}H(tI,oe);function Xf(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function nI(s){this.a=s||Xf(),this.h=!1,this.g=null}nI.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function AR(s,c,u){if(s.a&&c)return function(){return s.h=!0,new $n(function(m){s.g=m,s.a.initialize({client_id:c,callback:m,auto_select:!u}),s.a.prompt()})}();if(c){var h=iI.Xa().load().then(function(){return s.a=Xf(),AR(s,c,u)}).Ca(function(){return null});return yn(h)}return yn(null)}k(nI);var nz=new zu(Ok,"https://accounts.google.com/gsi/client");function iI(){this.a=null}iI.prototype.load=function(){var s=this;if(this.a)return this.a;var c=h8();return Xf()?yn():this.a=K8().then(function(){if(!Xf())return new $n(function(u,h){var m=setTimeout(function(){s.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},yn(X8(c)).then(function(){Xf()&&u()}).Ca(function(g){clearTimeout(m),s.a=null,h(g)})})})},k(iI);function rI(s,c){this.a=s,this.g=c||function(u){throw u}}rI.prototype.confirm=function(s){return yn(this.a.confirm(s)).Ca(this.g)};function oI(s,c,u){this.reset(s,c,u,void 0,void 0)}oI.prototype.a=null;var iz=0;oI.prototype.reset=function(s,c,u,h,m){typeof m=="number"||iz++,this.h=h||sn(),this.j=s,this.s=c,this.g=u,delete this.a};function sI(s){this.s=s,this.a=this.h=this.j=this.g=null}function Ay(s,c){this.name=s,this.value=c}Ay.prototype.toString=function(){return this.name};var MR=new Ay("SEVERE",1e3),PR=new Ay("WARNING",900),OR=new Ay("CONFIG",700);function kR(s){return s.j?s.j:s.g?kR(s.g):(st("Root logger has no level set."),null)}sI.prototype.log=function(s,c,u){if(s.value>=kR(this).value)for(ie(c)&&(c=c()),s=new oI(s,String(c),this.s),u&&(s.a=u),u=this;u;){var h=u,m=s;if(h.a)for(var g=0;c=h.a[g];g++)c(m);u=u.g}};var aI={},Jf=null;function RR(){Jf||(Jf=new sI(""),aI[""]=Jf,Jf.j=OR)}function NR(s){RR();var c;if(!(c=aI[s])){c=new sI(s);var u=s.lastIndexOf("."),h=s.substr(u+1);u=NR(s.substr(0,u)),u.h||(u.h={}),u.h[h]=c,c.g=u,aI[s]=c}return c}function My(){this.a=sn()}var cI=null;My.prototype.set=function(s){this.a=s},My.prototype.reset=function(){this.set(sn())},My.prototype.get=function(){return this.a};function Zf(s){this.j=s||"",cI||(cI=new My),this.s=cI}Zf.prototype.a=!0,Zf.prototype.g=!0,Zf.prototype.h=!1;function sl(s){return 10>s?"0"+s:String(s)}function rz(s,c){s=(s.h-c)/1e3,c=s.toFixed(3);var u=0;if(1>s)u=2;else for(;100>s;)u++,s*=10;for(;0<u--;)c=" "+c;return c}function FR(s){Zf.call(this,s)}H(FR,Zf);function oz(s,c){var u=[];if(u.push(s.j," "),s.g){var h=new Date(c.h);u.push("[",sl(h.getFullYear()-2e3)+sl(h.getMonth()+1)+sl(h.getDate())+" "+sl(h.getHours())+":"+sl(h.getMinutes())+":"+sl(h.getSeconds())+"."+sl(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",rz(c,s.s.get()),"s] "),u.push("[",c.g,"] "),u.push(c.s),s.h&&(c=c.a)&&u.push(`
`,c instanceof Error?c.message:c.toString()),s.a&&u.push(`
`),u.join("")}function LR(){this.s=Ie(this.h,this),this.a=new FR,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}LR.prototype.h=function(s){function c(g){if(g){if(g.value>=MR.value)return"error";if(g.value>=PR.value)return"warn";if(g.value>=OR.value)return"log"}return"debug"}if(!this.j[s.g]){var u=oz(this.a,s),h=sz;if(h){var m=c(s.j);az(h,m,u,s.a)}}};var sz=v.console;function az(s,c,u,h){s[c]?s[c](u,h||""):s.log(u,h||"")}function vr(s,c){var u=lI;u&&u.log(MR,s,c)}var lI;lI=NR("firebaseui");var uI=new LR;if(uI.g!=1){var Py;RR(),Py=Jf;var cz=uI.s;Py.a||(Py.a=[]),Py.a.push(cz),uI.g=!0}function Va(s){var c=lI;c&&c.log(PR,s,void 0)}function VR(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=VR.prototype,t.set=function(s,c,u,h,m,g){if(/[;=\s]/.test(s))throw Error('Invalid cookie name "'+s+'"');if(/[;\r\n]/.test(c))throw Error('Invalid cookie value "'+c+'"');w(u)||(u=-1),m=m?";domain="+m:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(sn()+1e3*u).toUTCString(),this.a.cookie=s+"="+c+m+h+u+g},t.get=function(s,c){for(var u=s+"=",h=(this.a.cookie||"").split(";"),m=0,g;m<h.length;m++){if(g=oi(h[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==s)return""}return c},t.ja=function(){return dI(this).keys},t.la=function(){return dI(this).values},t.clear=function(){for(var s=dI(this).keys,c=s.length-1;0<=c;c--){var u=s[c];this.get(u),this.set(u,"",0,void 0,void 0)}};function dI(s){s=(s.a.cookie||"").split(";");for(var c=[],u=[],h,m,g=0;g<s.length;g++)m=oi(s[g]),h=m.indexOf("="),h==-1?(c.push(""),u.push(m)):(c.push(m.substring(0,h)),u.push(m.substring(h+1)));return{keys:c,values:u}}var Oy=new VR;function jR(){}function Xu(s,c,u,h){this.h=typeof s<"u"&&s!==null?s:-1,this.g=c||null,this.a=u||null,this.j=!!h}l(Xu,jR),Xu.prototype.set=function(s,c){Oy.set(s,c,this.h,this.g,this.a,this.j)},Xu.prototype.get=function(s){return Oy.get(s)||null},Xu.prototype.ra=function(s){var c=this.g,u=this.a;Oy.get(s),Oy.set(s,"",0,c,u)};function hI(s,c){this.g=s,this.a=c||null}function UR(s){return{email:s.g,credential:s.a&&s.a.toJSON()}}function BR(s){if(s&&s.email){var c=s.credential&&be.auth.AuthCredential.fromJSON(s.credential);return new hI(s.email,c)}return null}function $R(s){this.a=s||null}function HR(s){for(var c=[],u=0,h=0;h<s.length;h++){var m=s.charCodeAt(h);255<m&&(c[u++]=m&255,m>>=8),c[u++]=m}return c}function lz(s){return Mi(s,function(c){return c=c.toString(16),1<c.length?c:"0"+c}).join("")}function ky(s){for(this.i=s,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Ju*(this.j+1)),s=0;s<this.g;s++)this.a[s]=[this.i[4*s],this.i[4*s+1],this.i[4*s+2],this.i[4*s+3]];var c=Array(4);for(s=this.g;s<Ju*(this.j+1);s++){if(c[0]=this.a[s-1][0],c[1]=this.a[s-1][1],c[2]=this.a[s-1][2],c[3]=this.a[s-1][3],s%this.g==0){var u=c,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,KR(c),c[0]^=Ny[s/this.g][0],c[1]^=Ny[s/this.g][1],c[2]^=Ny[s/this.g][2],c[3]^=Ny[s/this.g][3]}else 6<this.g&&s%this.g==4&&KR(c);this.a[s]=Array(4),this.a[s][0]=this.a[s-this.g][0]^c[0],this.a[s][1]=this.a[s-this.g][1]^c[1],this.a[s][2]=this.a[s-this.g][2]^c[2],this.a[s][3]=this.a[s-this.g][3]^c[3]}}ky.prototype.A=16;var Ju=ky.prototype.A/4;function GR(s,c){for(var u,h=0;h<Ju;h++)for(var m=0;4>m;m++)u=4*m+h,u=c[u],s.h[h][m]=u}function zR(s){for(var c=[],u=0;u<Ju;u++)for(var h=0;4>h;h++)c[4*h+u]=s.h[u][h];return c}function Zu(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]^=s.a[4*c+h][u]}function Ry(s,c){for(var u=0;4>u;u++)for(var h=0;4>h;h++)s.h[u][h]=c[s.h[u][h]]}function WR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][u]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][(u+c)%Ju]}function qR(s){for(var c=1;4>c;c++)for(var u=0;4>u;u++)s.s[c][(u+c)%Ju]=s.h[c][u];for(c=1;4>c;c++)for(u=0;4>u;u++)s.h[c][u]=s.s[c][u]}function KR(s){s[0]=ed[s[0]],s[1]=ed[s[1]],s[2]=ed[s[2]],s[3]=ed[s[3]]}var ed=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],YR=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ny=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Fy=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Ly=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Vy=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],jy=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Uy=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],By=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function QR(s,c){s=new ky(JR(s)),c=HR(c);for(var u=c.splice(0,16),h="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=s,GR(m,u),Zu(m,0),u=1;u<m.j;++u){Ry(m,ed),WR(m),g=m.h;for(var b=m.s[0],M=0;4>M;M++)b[0]=g[0][M],b[1]=g[1][M],b[2]=g[2][M],b[3]=g[3][M],g[0][M]=Fy[b[0]]^Ly[b[1]]^b[2]^b[3],g[1][M]=b[0]^Fy[b[1]]^Ly[b[2]]^b[3],g[2][M]=b[0]^b[1]^Fy[b[2]]^Ly[b[3]],g[3][M]=Ly[b[0]]^b[1]^b[2]^Fy[b[3]];Zu(m,u)}Ry(m,ed),WR(m),Zu(m,m.j),h+=lz(zR(m)),u=c.splice(0,16)}return h}function XR(s,c){s=new ky(JR(s));for(var u=[],h=0;h<c.length;h+=2)u.push(parseInt(c.substring(h,h+2),16));var m=u.splice(0,16);for(c="";m.length;){for(h=s,GR(h,m),Zu(h,h.j),m=1;m<h.j;++m){qR(h),Ry(h,YR),Zu(h,h.j-m);for(var g=h.h,b=h.s[0],M=0;4>M;M++)b[0]=g[0][M],b[1]=g[1][M],b[2]=g[2][M],b[3]=g[3][M],g[0][M]=By[b[0]]^jy[b[1]]^Uy[b[2]]^Vy[b[3]],g[1][M]=Vy[b[0]]^By[b[1]]^jy[b[2]]^Uy[b[3]],g[2][M]=Uy[b[0]]^Vy[b[1]]^By[b[2]]^jy[b[3]],g[3][M]=jy[b[0]]^Uy[b[1]]^Vy[b[2]]^By[b[3]]}if(qR(h),Ry(h,YR),Zu(h,0),h=zR(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(m="",g=0;g<h.length;g+=8192)m+=String.fromCharCode.apply(null,Uu(h,g,g+8192));h=m}c+=h,m=u.splice(0,16)}return c.replace(/(\x00)+$/,"")}function JR(s){s=HR(s.substring(0,32));for(var c=32-s.length,u=0;u<c;u++)s.push(0);return s}function ZR(s){var c=[];return fI(new uz,s,c),c.join("")}function uz(){}function fI(s,c,u){if(c==null)u.push("null");else{if(typeof c=="object"){if(G(c)){var h=c;c=h.length,u.push("[");for(var m="",g=0;g<c;g++)u.push(m),fI(s,h[g],u),m=",";u.push("]");return}if(c instanceof String||c instanceof Number||c instanceof Boolean)c=c.valueOf();else{u.push("{"),m="";for(h in c)Object.prototype.hasOwnProperty.call(c,h)&&(g=c[h],typeof g!="function"&&(u.push(m),tN(h,u),u.push(":"),fI(s,g,u),m=","));u.push("}");return}}switch(typeof c){case"string":tN(c,u);break;case"number":u.push(isFinite(c)&&!isNaN(c)?String(c):"null");break;case"boolean":u.push(String(c));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof c)}}}var eN={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},dz=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tN(s,c){c.push('"',s.replace(dz,function(u){var h=eN[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),eN[u]=h),h}),'"')}function ep(s){this.a=s}ep.prototype.set=function(s,c){w(c)?this.a.set(s,ZR(c)):this.a.ra(s)},ep.prototype.get=function(s){try{var c=this.a.get(s)}catch{return}if(c!==null)try{return JSON.parse(c)}catch{throw"Storage: Invalid value was encountered"}};function $y(){}H($y,jR),$y.prototype.clear=function(){var s=TE(this.ha(!0)),c=this;Nt(s,function(u){c.ra(u)})};function Hy(s){this.a=s}H(Hy,$y);function Gy(s){if(!s.a)return!1;try{return s.a.setItem("__sak","1"),s.a.removeItem("__sak"),!0}catch{return!1}}t=Hy.prototype,t.set=function(s,c){try{this.a.setItem(s,c)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(s){if(s=this.a.getItem(s),!E(s)&&s!==null)throw"Storage mechanism: Invalid value was encountered";return s},t.ra=function(s){this.a.removeItem(s)},t.ha=function(s){var c=0,u=this.a,h=new Ls;return h.next=function(){if(c>=u.length)throw Ta;var m=u.key(c++);if(s)return m;if(m=u.getItem(m),!E(m))throw"Storage mechanism: Invalid value was encountered";return m},h},t.clear=function(){this.a.clear()},t.key=function(s){return this.a.key(s)};function pI(){var s=null;try{s=window.localStorage||null}catch{}this.a=s}H(pI,Hy);function mI(){var s=null;try{s=window.sessionStorage||null}catch{}this.a=s}H(mI,Hy);function td(s,c){this.g=s,this.a=c+"::"}H(td,$y),td.prototype.set=function(s,c){this.g.set(this.a+s,c)},td.prototype.get=function(s){return this.g.get(this.a+s)},td.prototype.ra=function(s){this.g.ra(this.a+s)},td.prototype.ha=function(s){var c=this.g.ha(!0),u=this,h=new Ls;return h.next=function(){for(var m=c.next();m.substr(0,u.a.length)!=u.a;)m=c.next();return s?m.substr(u.a.length):u.g.get(m)},h},Gy(new pI);var nN,iN=new mI;nN=Gy(iN)?new td(iN,"firebaseui"):null;var gI=new ep(nN),vI={name:"pendingEmailCredential",storage:gI},al={name:"redirectStatus",storage:gI},tp={name:"redirectUrl",storage:gI},nd={name:"emailForSignIn",storage:new ep(new Xu(3600,"/"))},np={name:"pendingEncryptedCredential",storage:new ep(new Xu(3600,"/"))};function id(s,c){return s.storage.get(c?s.name+":"+c:s.name)}function sr(s,c){s.storage.a.ra(c?s.name+":"+c:s.name)}function rd(s,c,u){s.storage.set(u?s.name+":"+u:s.name,c)}function rN(s){return id(tp,s)||null}function zo(s){return s=id(vI,s)||null,BR(s)}function Wo(s){sr(vI,s)}function oN(s,c){rd(vI,UR(s),c)}function yI(s){return(s=id(al,s)||null)&&typeof s.tenantId<"u"?new $R(s.tenantId):null}function hz(s,c){rd(al,{tenantId:s.a},c)}function fz(s,c){c=id(nd,c);var u=null;if(c)try{var h=XR(s,c),m=JSON.parse(h);u=m&&m.email||null}catch{}return u}function pz(s,c){c=id(np,c);var u=null;if(c)try{var h=XR(s,c);u=JSON.parse(h)}catch{}return BR(u||null)}function mz(s,c,u){rd(np,QR(s,JSON.stringify(UR(c))),u)}function _I(){this.W={}}function Mn(s,c,u){if(c.toLowerCase()in s.W)throw Error("Configuration "+c+" has already been defined.");s.W[c.toLowerCase()]=u}function wI(s,c,u){if(!(c.toLowerCase()in s.W))throw Error("Configuration "+c+" is not defined.");s.W[c.toLowerCase()]=u}_I.prototype.get=function(s){if(!(s.toLowerCase()in this.W))throw Error("Configuration "+s+" is not defined.");return this.W[s.toLowerCase()]};function bI(s,c){if(s=s.get(c),!s)throw Error("Configuration "+c+" is required.");return s}function CI(){this.g=void 0,this.a={}}t=CI.prototype,t.set=function(s,c){sN(this,s,c,!1)},t.add=function(s,c){sN(this,s,c,!0)};function sN(s,c,u,h){for(var m=0;m<c.length;m++){var g=c.charAt(m);s.a[g]||(s.a[g]=new CI),s=s.a[g]}if(h&&s.g!==void 0)throw Error('The collection already contains the key "'+c+'"');s.g=u}t.get=function(s){e:{for(var c=this,u=0;u<s.length;u++)if(c=c.a[s.charAt(u)],!c){s=void 0;break e}s=c}return s?s.g:void 0},t.la=function(){var s=[];return aN(this,s),s};function aN(s,c){s.g!==void 0&&c.push(s.g);for(var u in s.a)aN(s.a[u],c)}t.ja=function(){var s=[];return cN(this,"",s),s};function cN(s,c,u){s.g!==void 0&&u.push(c);for(var h in s.a)cN(s.a[h],c+h,u)}t.clear=function(){this.a={},this.g=void 0};function lN(s){for(this.a=s,this.g=new CI,s=0;s<this.a.length;s++){var c=this.g.get("+"+this.a[s].b);c?c.push(this.a[s]):this.g.add("+"+this.a[s].b,[this.a[s]])}}function zy(s,c){s=s.g;var u={},h=0;for(s.g!==void 0&&(u[h]=s.g);h<c.length;h++){var m=c.charAt(h);if(!(m in s.a))break;s=s.a[m],s.g!==void 0&&(u[h]=s.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function cl(s){for(var c=0;c<qi.length;c++)if(qi[c].c===s)return qi[c];return null}function uN(s){s=s.toUpperCase();for(var c=[],u=0;u<qi.length;u++)qi[u].f===s&&c.push(qi[u]);return c}function dN(s){if(0<s.length&&s.charAt(0)=="+"){s=s.substring(1);for(var c=[],u=0;u<qi.length;u++)qi[u].b==s&&c.push(qi[u]);s=c}else s=uN(s);return s}function hN(s){s.sort(function(c,u){return c.name.localeCompare(u.name,"en")})}var qi=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xC5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xF4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xE7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xE9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xE9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xE3o Tom\xE9 and Pr\xEDncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];hN(qi);var ip=new lN(qi);function fN(s,c){this.a=s,this.Aa=c}function pN(s){s=oi(s);var c=zy(ip,s);return 0<c.length?new fN(c[0].b=="1"?"1-US-0":c[0].c,oi(s.substr(c[0].b.length+1))):null}function EI(s){var c=cl(s.a);if(!c)throw Error("Country ID "+s.a+" not found.");return"+"+c.b+s.Aa}function mN(s,c){for(var u=0;u<s.length;u++)if(!mt(gN,s[u])&&(od!==null&&s[u]in od||mt(c,s[u])))return s[u];return null}var gN=["emailLink","password","phone"],od={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function gz(){this.a=new _I,Mn(this.a,"autoUpgradeAnonymousUsers"),Mn(this.a,"callbacks"),Mn(this.a,"credentialHelper",Ky),Mn(this.a,"immediateFederatedRedirect",!1),Mn(this.a,"popupMode",!1),Mn(this.a,"privacyPolicyUrl"),Mn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Mn(this.a,"queryParameterForWidgetMode","mode"),Mn(this.a,"signInFlow"),Mn(this.a,"signInOptions"),Mn(this.a,"signInSuccessUrl"),Mn(this.a,"siteName"),Mn(this.a,"tosUrl"),Mn(this.a,"widgetUrl"),Mn(this.a,"adminRestrictedOperation")}function Wy(s){var c=!!s.a.get("autoUpgradeAnonymousUsers");return c&&!TN(s)&&vr('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),c}function qy(s){s=s.a.get("signInOptions")||[];for(var c=[],u=0;u<s.length;u++){var h=s[u];h=B(h)?h:{provider:h},h.provider&&c.push(h)}return c}function yr(s,c){s=qy(s);for(var u=0;u<s.length;u++)if(s[u].provider===c)return s[u];return null}function sd(s){return qy(s).map(function(c){return c.provider})}function rp(s,c){s=vN(s);for(var u=0;u<s.length;u++)if(s[u].providerId===c)return s[u];return null}function vN(s){return qy(s).map(function(c){if(od[c.provider]||mt(Tz,c.provider)){c={providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Pa(uy(c.iconUrl)).toString():null};for(var u in c)c[u]===null&&delete c[u];return c}return{providerId:c.provider,S:c.providerName||null,V:c.fullLabel||null,ta:c.buttonColor||null,za:c.iconUrl?Pa(uy(c.iconUrl)).toString():null,Ob:c.loginHintKey||null}})}function yN(s){var c=yr(s,be.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=c&&c.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in s=s.a.get("credentialHelper"),xI)if(xI[h]===s){var h=xI[h];break e}}h=Ky}u=h===DI}return u&&c.clientId||null}function _N(s){return s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!!(s&&s.disableSignUp&&s.disableSignUp.status)}function ll(s){return s=s.a.get("adminRestrictedOperation")||null,!(!s||!s.status)}function vz(s){var c=null;if(qy(s).forEach(function(h){h.provider==be.auth.PhoneAuthProvider.PROVIDER_ID&&B(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(c=Sa(h.recaptchaParameters))}),c){var u=[];Dz.forEach(function(h){typeof c[h]<"u"&&(u.push(h),delete c[h])}),u.length&&Va('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return c}function yz(s){return(s=s.a.get("adminRestrictedOperation"))&&s.adminEmail?s.adminEmail:null}function _z(s){if(s=s.a.get("adminRestrictedOperation")||null){var c=s.helpLink||null;if(c&&typeof c=="string")return function(){Qu(c)}}return null}function wz(s){return(s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp&&s.disableSignUp.adminEmail||null}function bz(s){if((s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&s.disableSignUp){var c=s.disableSignUp.helpLink||null;if(c&&typeof c=="string")return function(){Qu(c)}}return null}function wN(s,c){return s=(s=yr(s,c))&&s.scopes,Array.isArray(s)?s:[]}function bN(s,c){return s=(s=yr(s,c))&&s.customParameters,B(s)?(s=Sa(s),c===be.auth.GoogleAuthProvider.PROVIDER_ID&&delete s.login_hint,c===be.auth.GithubAuthProvider.PROVIDER_ID&&delete s.login,s):null}function Cz(s){s=yr(s,be.auth.PhoneAuthProvider.PROVIDER_ID);var c=null;return s&&typeof s.loginHint=="string"&&(c=pN(s.loginHint)),s&&s.defaultNationalNumber||c&&c.Aa||null}function Ez(s){var c=(s=yr(s,be.auth.PhoneAuthProvider.PROVIDER_ID))&&s.defaultCountry||null;c=c&&uN(c);var u=null;return s&&typeof s.loginHint=="string"&&(u=pN(s.loginHint)),c&&c[0]||u&&cl(u.a)||null}function II(s){if(s=yr(s,be.auth.PhoneAuthProvider.PROVIDER_ID),!s)return null;var c=s.whitelistedCountries,u=s.blacklistedCountries;if(typeof c<"u"&&(!Array.isArray(c)||c.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(c&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!c&&!u)return qi;if(s=[],c){u={};for(var h=0;h<c.length;h++)for(var m=dN(c[h]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var b in u)u.hasOwnProperty(b)&&s.push(u[b])}else{for(b={},c=0;c<u.length;c++)for(m=dN(u[c]),h=0;h<m.length;h++)b[m[h].c]=m[h];for(m=0;m<qi.length;m++)b!==null&&qi[m].c in b||s.push(qi[m])}return s}function CN(s){return bI(s.a,"queryParameterForWidgetMode")}function Pn(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Va("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Qu(c)}}return null}function On(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Va("Term of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Qu(u)}}return null}function EN(s){return(s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.requireDisplayName<"u"?!!s.requireDisplayName:!0}function ad(s){return s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||s.signInMethod!==be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Iz(s){return s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID),!(!s||!s.forceSameDevice)}function Sz(s){if(ad(s)){var c={url:Bs(),handleCodeInApp:!0};(s=yr(s,be.auth.EmailAuthProvider.PROVIDER_ID))&&typeof s.emailLinkSignIn=="function"&&Fs(c,s.emailLinkSignIn()),s=c.url;var u=Bs();u instanceof Pi||(u=Lf(u)),s instanceof Pi||(s=Lf(s));var h=u;u=new Pi(h);var m=!!s.j;m?Yc(u,s.j):m=!!s.A,m?u.A=s.A:m=!!s.h,m?u.h=s.h:m=s.C!=null;var g=s.g;if(m)Da(u,s.C);else if(m=!!s.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var b=[],M=0;M<g.length;){var j=g[M++];j=="."?h&&M==g.length&&b.push(""):j==".."?((1<b.length||b.length==1&&b[0]!="")&&b.pop(),h&&M==g.length&&b.push("")):(b.push(j),h=!0)}g=b.join("/")}}return m?u.g=g:m=s.a.toString()!=="",m?Ho(u,Ck(s.a)):m=!!s.s,m&&(u.s=s.s),c.url=u.toString(),c}return null}function SI(s){var c=!!s.a.get("immediateFederatedRedirect"),u=sd(s);return s=IN(s),c&&u.length==1&&!mt(gN,u[0])&&s==Yy}function IN(s){s=s.a.get("signInFlow");for(var c in AI)if(AI[c]==s)return AI[c];return Yy}function TI(s){return op(s).signInSuccess||null}function SN(s){return op(s).signInSuccessWithAuthResult||null}function TN(s){return op(s).signInFailure||null}function op(s){return s.a.get("callbacks")||{}}var DI="googleyolo",Ky="none",xI={nc:DI,NONE:Ky},Yy="redirect",AI={qc:"popup",rc:Yy},MI={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Tz=["anonymous"],Dz=["sitekey","tabindex","callback","expired-callback"],sp,cd,PI,DN,Pt={};function ye(s,c,u,h){Pt[s].apply(null,Array.prototype.slice.call(arguments,1))}function xN(s){return s.classList?s.classList:(s=s.className,E(s)&&s.match(/\S+/g)||[])}function ap(s,c){return s.classList?s.classList.contains(c):mt(xN(s),c)}function qo(s,c){s.classList?s.classList.add(c):ap(s,c)||(s.className+=0<s.className.length?" "+c:c)}function Ko(s,c){s.classList?s.classList.remove(c):ap(s,c)&&(s.className=yt(xN(s),function(u){return u!=c}).join(" "))}function ai(s){var c=s.type;switch(E(c)&&c.toLowerCase()){case"checkbox":case"radio":return s.checked?s.value:null;case"select-one":return c=s.selectedIndex,0<=c?s.options[c].value:null;case"select-multiple":c=[];for(var u,h=0;u=s.options[h];h++)u.selected&&c.push(u.value);return c.length?c:null;default:return s.value!=null?s.value:null}}function AN(s,c){var u=s.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":s.checked=c;break;case"select-one":if(s.selectedIndex=-1,E(c)){for(var h=0;u=s.options[h];h++)if(u.value==c){u.selected=!0;break}}break;case"select-multiple":for(E(c)&&(c=[c]),h=0;u=s.options[h];h++)if(u.selected=!1,c)for(var m,g=0;m=c[g];g++)u.value==m&&(u.selected=!0);break;default:s.value=c??""}}function xz(s){if(s.altKey&&!s.ctrlKey||s.metaKey||112<=s.keyCode&&123>=s.keyCode)return!1;if(cp(s.keyCode))return!0;switch(s.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!co;default:return 166>s.keyCode||183<s.keyCode}}function MN(s,c,u,h,m,g){if(Gi&&!Jc("525"))return!0;if(Ma&&m)return cp(s);if(m&&!h)return!1;if(!co){typeof c=="number"&&(c=OI(c));var b=c==17||c==18||Ma&&c==91;if((!u||Ma)&&b||Ma&&c==16&&(h||g))return!1}if((Gi||Aa)&&h&&u)switch(s){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(gn&&h&&c==s)return!1;switch(s){case 13:return co?g||m?!1:!(u&&h):!0;case 27:return!(Gi||Aa||co)}return co&&(h||m||g)?!1:cp(s)}function cp(s){if(48<=s&&57>=s||96<=s&&106>=s||65<=s&&90>=s||(Gi||Aa)&&s==0)return!0;switch(s){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return co;default:return!1}}function OI(s){if(co)s=Az(s);else if(Ma&&Gi)switch(s){case 93:s=91}return s}function Az(s){switch(s){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return s}}function ld(s){Bn.call(this),this.a=s,lo(s,"keydown",this.g,!1,this),lo(s,"click",this.h,!1,this)}H(ld,Bn),ld.prototype.g=function(s){(s.keyCode==13||Gi&&s.keyCode==3)&&PN(this,s)},ld.prototype.h=function(s){PN(this,s)};function PN(s,c){var u=new kN(c);if(Fa(s,u)){u=new ON(c);try{Fa(s,u)}finally{c.stopPropagation()}}}ld.prototype.o=function(){ld.K.o.call(this),il(this.a,"keydown",this.g,!1,this),il(this.a,"click",this.h,!1,this),delete this.a};function ON(s){Wi.call(this,s.a),this.type="action"}H(ON,Wi);function kN(s){Wi.call(this,s.a),this.type="beforeaction"}H(kN,Wi);function ud(s){Bn.call(this),this.a=s,s=gn?"focusout":"blur",this.g=lo(this.a,gn?"focusin":"focus",this,!gn),this.h=lo(this.a,s,this,!gn)}H(ud,Bn),ud.prototype.handleEvent=function(s){var c=new Wi(s.a);c.type=s.type=="focusin"||s.type=="focus"?"focusin":"focusout",Fa(this,c)},ud.prototype.o=function(){ud.K.o.call(this),Na(this.g),Na(this.h),delete this.a};function Qy(s,c){Bn.call(this),this.g=s||1,this.a=c||v,this.h=Ie(this.gc,this),this.j=sn()}H(Qy,Bn),t=Qy.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var s=sn()-this.j;0<s&&s<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-s):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Fa(this,"tick"),this.Ka&&(Xy(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=sn())};function Xy(s){s.Ka=!1,s.aa&&(s.a.clearTimeout(s.aa),s.aa=null)}t.o=function(){Qy.K.o.call(this),Xy(this),delete this.a};function Mz(s,c){if(ie(s))c&&(s=Ie(s,c));else if(s&&typeof s.handleEvent=="function")s=Ie(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(s,0)}function dd(s){nl.call(this),this.g=s,this.a={}}H(dd,nl);var RN=[];function hd(s,c,u,h){G(u)||(u&&(RN[0]=u.toString()),u=RN);for(var m=0;m<u.length;m++){var g=lo(c,u[m],h||s.handleEvent,!1,s.g||s);if(!g)break;s.a[g.key]=g}}function NN(s){qc(s.a,function(c,u){this.a.hasOwnProperty(u)&&Na(c)},s),s.a={}}dd.prototype.o=function(){dd.K.o.call(this),NN(this)},dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lp(s){Bn.call(this),this.a=null,this.g=s,s=gn||Aa||Gi&&!Jc("531")&&s.tagName=="TEXTAREA",this.h=new dd(this),hd(this.h,this.g,s?["keydown","paste","cut","drop","input"]:"input",this)}H(lp,Bn),lp.prototype.handleEvent=function(s){if(s.type=="input")gn&&Jc(10)&&s.keyCode==0&&s.j==0||(kI(this),Fa(this,FN(s)));else if(s.type!="keydown"||xz(s)){var c=s.type=="keydown"?this.g.value:null;gn&&s.keyCode==229&&(c=null);var u=FN(s);kI(this),this.a=Mz(function(){this.a=null,this.g.value!=c&&Fa(this,u)},this)}};function kI(s){s.a!=null&&(v.clearTimeout(s.a),s.a=null)}function FN(s){return s=new Wi(s.a),s.type="input",s}lp.prototype.o=function(){lp.K.o.call(this),this.h.m(),kI(this),delete this.g};function up(s,c){Bn.call(this),s&&(this.Oa&&BN(this),this.qa=s,this.Na=lo(this.qa,"keypress",this,c),this.Ya=lo(this.qa,"keydown",this.Jb,c,this),this.Oa=lo(this.qa,"keyup",this.Kb,c,this))}H(up,Bn),t=up.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var LN={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},VN={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},jN=!Gi||Jc("525"),UN=Ma&&co;t=up.prototype,t.Jb=function(s){(Gi||Aa)&&(this.R==17&&!s.ctrlKey||this.R==18&&!s.altKey||Ma&&this.R==91&&!s.metaKey)&&(this.X=this.R=-1),this.R==-1&&(s.ctrlKey&&s.keyCode!=17?this.R=17:s.altKey&&s.keyCode!=18?this.R=18:s.metaKey&&s.keyCode!=91&&(this.R=91)),jN&&!MN(s.keyCode,this.R,s.shiftKey,s.ctrlKey,s.altKey,s.metaKey)?this.handleEvent(s):(this.X=OI(s.keyCode),UN&&(this.Ua=s.altKey))},t.Kb=function(s){this.X=this.R=-1,this.Ua=s.altKey},t.handleEvent=function(s){var c=s.a,u=c.altKey;if(gn&&s.type=="keypress")var h=this.X,m=h!=13&&h!=27?c.keyCode:0;else(Gi||Aa)&&s.type=="keypress"?(h=this.X,m=0<=c.charCode&&63232>c.charCode&&cp(h)?c.charCode:0):xk&&!Gi?(h=this.X,m=cp(h)?c.keyCode:0):(s.type=="keypress"?(UN&&(u=this.Ua),c.keyCode==c.charCode?32>c.keyCode?(h=c.keyCode,m=0):(h=this.X,m=c.charCode):(h=c.keyCode||this.X,m=c.charCode||0)):(h=c.keyCode||this.X,m=c.charCode||0),Ma&&m==63&&h==224&&(h=191));var g=h=OI(h);h?63232<=h&&h in LN?g=LN[h]:h==25&&s.shiftKey&&(g=9):c.keyIdentifier&&c.keyIdentifier in VN&&(g=VN[c.keyIdentifier]),co&&jN&&s.type=="keypress"&&!MN(g,this.R,s.shiftKey,s.ctrlKey,u,s.metaKey)||(s=g==this.R,this.R=g,c=new $N(g,m,s,c),c.altKey=u,Fa(this,c))},t.N=function(){return this.qa};function BN(s){s.Na&&(Na(s.Na),Na(s.Ya),Na(s.Oa),s.Na=null,s.Ya=null,s.Oa=null),s.qa=null,s.R=-1,s.X=-1}t.o=function(){up.K.o.call(this),BN(this)};function $N(s,c,u,h){Wi.call(this,h),this.type="key",this.keyCode=s,this.j=c,this.repeat=u}H($N,Wi);function fd(s,c,u,h){this.top=s,this.right=c,this.bottom=u,this.left=h}fd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},fd.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},fd.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},fd.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Jy(s,c){var u=Bf(s);return u.defaultView&&u.defaultView.getComputedStyle&&(s=u.defaultView.getComputedStyle(s,null))&&(s[c]||s.getPropertyValue(c))||""}function HN(s){try{var c=s.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return gn&&s.ownerDocument.body&&(s=s.ownerDocument,c.left-=s.documentElement.clientLeft+s.body.clientLeft,c.top-=s.documentElement.clientTop+s.body.clientTop),c}function Pz(s,c){c=c||fy(document);var u=c||fy(document),h=GN(s),m=GN(u);if(!gn||9<=Number(jf)){b=Jy(u,"borderLeftWidth");var g=Jy(u,"borderRightWidth");M=Jy(u,"borderTopWidth"),j=Jy(u,"borderBottomWidth"),g=new fd(parseFloat(M),parseFloat(g),parseFloat(j),parseFloat(b))}else{var b=Zy(u,"borderLeft");g=Zy(u,"borderRight");var M=Zy(u,"borderTop"),j=Zy(u,"borderBottom");g=new fd(M,g,j,b)}u==fy(document)?(b=h.a-u.scrollLeft,h=h.g-u.scrollTop,!gn||10<=Number(jf)||(b+=g.left,h+=g.top)):(b=h.a-m.a-g.left,h=h.g-m.g-g.top),m=s.offsetWidth,g=s.offsetHeight,M=Gi&&!m&&!g,w(m)&&!M||!s.getBoundingClientRect?s=new OE(m,g):(s=HN(s),s=new OE(s.right-s.left,s.bottom-s.top)),m=u.clientHeight-s.height,g=u.scrollLeft,M=u.scrollTop,g+=Math.min(b,Math.max(b-(u.clientWidth-s.width),0)),M+=Math.min(h,Math.max(h-m,0)),u=new ka(g,M),c.scrollLeft=u.a,c.scrollTop=u.g}function GN(s){var c=Bf(s),u=new ka(0,0),h=c?Bf(c):document;return h=!gn||9<=Number(jf)||hy(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,s==h||(s=HN(s),h=hy(c).a,c=fy(h),h=h.parentWindow||h.defaultView,c=gn&&Jc("10")&&h.pageYOffset!=c.scrollTop?new ka(c.scrollLeft,c.scrollTop):new ka(h.pageXOffset||c.scrollLeft,h.pageYOffset||c.scrollTop),u.a=s.left+c.a,u.g=s.top+c.g),u}var zN={thin:2,medium:4,thick:6};function Zy(s,c){if((s.currentStyle?s.currentStyle[c+"Style"]:null)=="none")return 0;var u=s.currentStyle?s.currentStyle[c+"Width"]:null;if(u in zN)s=zN[u];else if(/^\d+px?$/.test(u))s=parseInt(u,10);else{c=s.style.left;var h=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left,s.style.left=u,u=s.style.pixelLeft,s.style.left=c,s.runtimeStyle.left=h,s=+u}return s}function RI(){}k(RI),RI.prototype.a=0;function ul(s){Bn.call(this),this.s=s||hy(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(ul,Bn),t=ul.prototype,t.Lb=RI.Xa(),t.N=function(){return this.g};function wt(s,c){return s.g?RE(c,s.g||s.s.a):null}function dp(s){return s.L||(s.L=new dd(s)),s.L}t.Za=function(s){if(this.Y&&this.Y!=s)throw Error("Method not supported");ul.K.Za.call(this,s)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(s){if(this.na)throw Error("Component already rendered");this.g||this.kb(),s?s.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,NI(this,function(s){!s.na&&s.N()&&s.v()})},t.ya=function(){NI(this,function(s){s.na&&s.ya()}),this.L&&NN(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),NI(this,function(s){s.m()}),this.g&&el(this.g),this.Y=this.g=this.oa=this.Ea=null,ul.K.o.call(this)};function NI(s,c){s.Ea&&Nt(s.Ea,c,void 0)}t.removeChild=function(s,c){if(s){var u=E(s)?s:s.cb||(s.cb=":"+(s.Lb.a++).toString(36));if(this.oa&&u?(s=this.oa,s=(s!==null&&u in s?s[u]:void 0)||null):s=null,u&&s){var h=this.oa;if(u in h&&delete h[u],jn(this.Ea,s),c&&(s.ya(),s.g&&el(s.g)),c=s,c==null)throw Error("Unable to set parent component");c.Y=null,ul.K.Za.call(c,null)}}if(!s)throw Error("Child is not in parent component");return s};function _n(s,c){var u=$k(s,"firebaseui-textfield");c?(Ko(s,"firebaseui-input-invalid"),qo(s,"firebaseui-input"),u&&Ko(u,"firebaseui-textfield-invalid")):(Ko(s,"firebaseui-input"),qo(s,"firebaseui-input-invalid"),u&&qo(u,"firebaseui-textfield-invalid"))}function pd(s,c,u){c=new lp(c),Gf(s,ze(zf,c)),hd(dp(s),c,"input",u)}function hp(s,c,u){c=new up(c),Gf(s,ze(zf,c)),hd(dp(s),c,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function Oz(s,c,u){c=new ud(c),Gf(s,ze(zf,c)),hd(dp(s),c,"focusin",u)}function kz(s,c,u){c=new ud(c),Gf(s,ze(zf,c)),hd(dp(s),c,"focusout",u)}function pn(s,c,u){c=new ld(c),Gf(s,ze(zf,c)),hd(dp(s),c,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function _r(s){qo(s,"firebaseui-hidden")}function ci(s,c){c&&NE(s,c),Ko(s,"firebaseui-hidden")}function md(s){return!ap(s,"firebaseui-hidden")&&s.style.display!="none"}function gd(s){s=s||{};var c=s.email,u=s.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=s.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+zi(c??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ge(h)}function ar(s){s=s||{},s=s.label;var c='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return c=s?c+ke(s):c+"Next",ge(c+"</button>")}function FI(){var s=""+ar({label:vn("Sign In")});return ge(s)}function WN(){var s=""+ar({label:vn("Save")});return ge(s)}function uo(){var s=""+ar({label:vn("Continue")});return ge(s)}function qN(s){s=s||{},s=s.label;var c='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return c=s?c+ke(s):c+"Choose password",ge(c+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function KN(){var s={},c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return c=s.current?c+"Current password":c+"Password",ge(c+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function YN(){return ge('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function wr(s){s=s||{},s=s.label;var c='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return c=s?c+ke(s):c+"Cancel",ge(c+"</button>")}function bi(s){var c="";return s.F&&s.D&&(c+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ge(c)}function vd(s){var c="";return s.F&&s.D&&(c+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ge(c)}function QN(s){return s='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+ke(s.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ge(s)}QN.a="firebaseui.auth.soy2.element.infoBar";function XN(s){var c=s.content;return s=s.Ab,ge('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(s?" "+zi(s):"")+'">'+ke(c)+"</dialog>")}function JN(s){var c=s.message;return ge(XN({content:zk('<div class="firebaseui-dialog-icon-wrapper"><div class="'+zi(s.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+ke(c)+"</div>")}))}JN.a="firebaseui.auth.soy2.element.progressDialog";function ZN(s){var c='<div class="firebaseui-list-box-actions">';s=s.items;for(var u=s.length,h=0;h<u;h++){var m=s[h];c+='<button type="button" data-listboxid="'+zi(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+zi(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+ke(m.label)+"</div></button>"}return c=""+XN({Ab:vn("firebaseui-list-box-dialog"),content:zk(c+"</div>")}),ge(c)}ZN.a="firebaseui.auth.soy2.element.listBoxDialog";function e_(s){return s=s||{},ge(s.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}e_.a="firebaseui.auth.soy2.element.busyIndicator";function ja(s,c){return s=s||{},s=s.ga,Dt(s.S?s.S:c.hb[s.providerId]?""+c.hb[s.providerId]:s.providerId&&s.providerId.indexOf("saml.")==0||s.providerId&&s.providerId.indexOf("oidc.")==0?s.providerId.substring(5):""+s.providerId)}function LI(s){eF(s,"upgradeElement")}function VI(s){eF(s,"downgradeElements")}var Rz=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function eF(s,c){s&&window.componentHandler&&window.componentHandler[c]&&Rz.forEach(function(u){ap(s,u)&&window.componentHandler[c](s),Nt(kE(u,s),function(h){window.componentHandler[c](h)})})}function tF(s,c,u){if(t_.call(this),document.body.appendChild(s),s.showModal||window.dialogPolyfill.registerDialog(s),s.showModal(),LI(s),c&&pn(this,s,function(g){var b=s.getBoundingClientRect();(g.clientX<b.left||b.left+b.width<g.clientX||g.clientY<b.top||b.top+b.height<g.clientY)&&t_.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var m=this;this.da=function(){if(s.open){var g=s.getBoundingClientRect().height,b=h.getBoundingClientRect().height,M=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,j=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,X=s.getBoundingClientRect().width,_e=h.getBoundingClientRect().width;s.style.top=(M+(b-g)/2).toString()+"px",g=j+(_e-X)/2,s.style.left=g.toString()+"px",s.style.right=(document.body.getBoundingClientRect().width-g-X).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function t_(){var s=jI.call(this);s&&(VI(s),s.open&&s.close(),el(s),this.da&&window.removeEventListener("resize",this.da))}function jI(){return RE("firebaseui-id-dialog")}function nF(){el(iF.call(this))}function iF(){return wt(this,"firebaseui-id-info-bar")}function rF(){return wt(this,"firebaseui-id-dismiss-info-bar")}var Nz={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function UI(s,c,u){js.call(this,s,c);for(var h in u)this[h]=u[h]}H(UI,js);function z(s,c,u,h,m){ul.call(this,u),this.fb=s,this.eb=c,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Sa(Nz),Fs(this.Z,m||{})}H(z,ul),t=z.prototype,t.kb=function(){var s=$f(this.fb,this.eb,this.Z,this.s);LI(s),this.g=s},t.v=function(){if(z.K.v.call(this),sR(cn(this),new UI("pageEnter",cn(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var s=this.Z.F;pn(this,this.bb(),function(){s()})}if(this.ab()&&this.Z.D){var c=this.Z.D;pn(this,this.ab(),function(){c()})}},t.ya=function(){sR(cn(this),new UI("pageExit",cn(this),{pageId:this.Ga})),z.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,VI(this.N()),z.K.o.call(this)};function Fz(s){s.Fa=!0;var c=ap(s.N(),"firebaseui-use-spinner");s.ca=window.setTimeout(function(){s.N()&&s.A===null&&(s.A=$f(e_,{tb:c},null,s.s),s.N().appendChild(s.A),LI(s.A))},500)}t.I=function(s,c,u,h){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(VI(g.A),el(g.A),g.A=null)}var g=this;return g.Fa?null:(Fz(g),s.apply(null,c).then(u,h).then(m,m))};function cn(s){return s.N().parentElement||s.N().parentNode}function fp(s,c,u){hp(s,c,function(){u.focus()})}function yd(s,c,u){hp(s,c,function(){u()})}Te(z.prototype,{a:function(s){nF.call(this);var c=$f(QN,{message:s},null,this.s);this.N().appendChild(c),pn(this,rF.call(this),function(){el(c)})},yc:nF,Ac:iF,zc:rF,$:function(s,c){s=$f(JN,{Ma:s,message:c},null,this.s),tF.call(this,s)},h:t_,Cb:jI,Cc:function(){return wt(this,"firebaseui-tos")},bb:function(){return wt(this,"firebaseui-tos-link")},ab:function(){return wt(this,"firebaseui-pp-link")},Dc:function(){return wt(this,"firebaseui-tos-list")}});function oF(s,c,u){s=s||{},c=s.Va;var h=s.ia;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+gd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?wr(null):"")+ar(null)+'</div></div><div class="firebaseui-card-footer">'+(h?vd(u):bi(u))+"</div></form></div>",ge(s)}oF.a="firebaseui.auth.soy2.page.signIn";function sF(s,c,u){return s=s||{},c=s.ia,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+gd(s)+KN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+YN()+'</div><div class="firebaseui-form-actions">'+FI()+'</div></div><div class="firebaseui-card-footer">'+(c?vd(u):bi(u))+"</div></form></div>",ge(s)}sF.a="firebaseui.auth.soy2.page.passwordSignIn";function aF(s,c,u){s=s||{};var h=s.Tb;c=s.Ta;var m=s.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+gd(s);return h?(s=s||{},s=s.name,s='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+zi(s??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',s=ge(s)):s="",u=g+s+qN(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?wr(null):"")+WN()+'</div></div><div class="firebaseui-card-footer">'+(m?vd(u):bi(u))+"</div></form></div>",ge(u)}aF.a="firebaseui.auth.soy2.page.passwordSignUp";function cF(s,c,u){return s=s||{},c=s.Ta,s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+gd(s)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(c?wr(null):"")+ar({label:vn("Send")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(s)}cF.a="firebaseui.auth.soy2.page.passwordRecovery";function lF(s,c,u){c=s.G;var h="";return s="Follow the instructions sent to <strong>"+(ke(s.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">',c&&(h+='<div class="firebaseui-form-actions">'+ar({label:vn("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+bi(u)+"</div></div>",ge(h)}lF.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function uF(s,c,u){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+e_(null,null,u)+"</div></div>")}uF.a="firebaseui.auth.soy2.page.callback";function dF(s,c,u){return ge('<div class="firebaseui-container firebaseui-id-page-spinner">'+e_({tb:!0},null,u)+"</div>")}dF.a="firebaseui.auth.soy2.page.spinner";function hF(){return ge('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}hF.a="firebaseui.auth.soy2.page.blank";function fF(s,c,u){c="",s="A sign-in email with additional instructions was sent to <strong>"+(ke(s.email)+"</strong>. Check your email to complete sign-in.");var h=ge('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+wr({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}fF.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function pF(s,c,u){return s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ge('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+wr({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(s)}pF.a="firebaseui.auth.soy2.page.emailNotReceived";function mF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+gd(s)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr(null)+ar(null)+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(s)}mF.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function gF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr({label:vn("Dismiss")})+"</div></div></div>";return ge(s)}gF.a="firebaseui.auth.soy2.page.differentDeviceError";function vF(){var s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr({label:vn("Dismiss")})+"</div></div></div>";return ge(s)}vF.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function yF(s,c,u){return c="",s="You\u2019ve already used <strong>"+(ke(s.email)+"</strong> to sign in. Enter your password for that account."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+s+"</p>"+KN()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+YN()+'</div><div class="firebaseui-form-actions">'+FI()+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}yF.a="firebaseui.auth.soy2.page.passwordLinking";function _F(s,c,u){var h=s.email;return c="",s=""+ja(s,u),s=vn(s),h="You\u2019ve already used <strong>"+(ke(h)+("</strong>. You can connect your <strong>"+(ke(s)+("</strong> account with <strong>"+(ke(h)+"</strong> by signing in with email link below."))))),s="For this flow to successfully connect your "+(ke(s)+" account with this email, you have to open the link on the same device or browser."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+FI()+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}_F.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function wF(s,c,u){c="";var h=""+ja(s,u);return h=vn(h),s="You originally intended to connect <strong>"+(ke(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(ke(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+s+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+uo()+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}wF.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function bF(s,c,u){var h=s.email;return c="",s=""+ja(s,u),s=vn(s),h="You\u2019ve already used <strong>"+(ke(h)+("</strong>. Sign in with "+(ke(s)+" to continue."))),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar({label:vn("Sign in with "+s)})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}bF.a="firebaseui.auth.soy2.page.federatedLinking";function CF(s,c,u){s=s||{};var h=s.kc;c=s.yb,s=s.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(ke(h)+"</strong> is not authorized to view the requested page."),m+=h):m+="User is not authorized to view the requested page.",m+="</p>",c&&(c="Please contact <strong>"+(ke(c)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+c+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',s&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+wr({label:vn("Back")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(m)}CF.a="firebaseui.auth.soy2.page.unauthorizedUser";function EF(s,c,u){return c="",s="To continue sign in with <strong>"+(ke(s.email)+"</strong> on this device, you have to recover the password."),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr(null)+ar({label:vn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}EF.a="firebaseui.auth.soy2.page.unsupportedProvider";function IF(s){var c="",u='<p class="firebaseui-text">for <strong>'+(ke(s.email)+"</strong></p>");return c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+qN(I8(s))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+WN()+"</div></div></form></div>",ge(c)}IF.a="firebaseui.auth.soy2.page.passwordReset";function SF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}SF.a="firebaseui.auth.soy2.page.passwordResetSuccess";function TF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}TF.a="firebaseui.auth.soy2.page.passwordResetFailure";function DF(s){var c=s.G,u="";return s="Your sign-in email address has been changed back to <strong>"+(ke(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></form></div>",ge(u)}DF.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function xF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}xF.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function AF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}AF.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function MF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}MF.a="firebaseui.auth.soy2.page.emailVerificationFailure";function PF(s){var c=s.G,u="";return s="You can now sign in with your new email <strong>"+(ke(s.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+'</p></div><div class="firebaseui-card-actions">'+(c?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(u)}PF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function OF(s){return s=s||{},s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}OF.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function kF(s){var c=s.factorId,u=s.phoneNumber;s=s.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(c){case"phone":c="The <strong>"+(ke(c)+(" "+(ke(u)+"</strong> was removed as a second authentication step."))),h+=c;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(s?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></form></div>",ge(h)}kF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function RF(s){return s=s||{},s=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(s.G?'<div class="firebaseui-form-actions">'+uo()+"</div>":"")+"</div></div>",ge(s)}RF.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function NF(s){var c=s.zb;return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ke(s.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',c&&(s+=ar({label:vn("Retry")})),ge(s+"</div></div></div>")}NF.a="firebaseui.auth.soy2.page.recoverableError";function FF(s){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ke(s.errorMessage)+"</p></div></div>",ge(s)}FF.a="firebaseui.auth.soy2.page.unrecoverableError";function LF(s,c,u){var h=s.Qb;return c="",s="Continue with "+(ke(s.jc)+"?"),h="You originally wanted to sign in with "+ke(h),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+s+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr(null)+ar({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form></div>",ge(c)}LF.a="firebaseui.auth.soy2.page.emailMismatch";function VF(s,c,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';s=s.Sb,c=s.length;for(var m=0;m<c;m++){var g={ga:s[m]},b=u;g=g||{};var M=g.ga,j=g;j=j||{};var X="";switch(j.ga.providerId){case"google.com":X+="firebaseui-idp-google";break;case"github.com":X+="firebaseui-idp-github";break;case"facebook.com":X+="firebaseui-idp-facebook";break;case"twitter.com":X+="firebaseui-idp-twitter";break;case"phone":X+="firebaseui-idp-phone";break;case"anonymous":X+="firebaseui-idp-anonymous";break;case"password":X+="firebaseui-idp-password";break;default:X+="firebaseui-idp-generic"}j='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+zi(Dt(X))+' firebaseui-id-idp-button" data-provider-id="'+zi(M.providerId)+'" style="background-color:',X=(X=g)||{},X=X.ga,j=j+zi(Wk(Dt(X.ta?X.ta:b.wa[X.providerId]?""+b.wa[X.providerId]:X.providerId.indexOf("saml.")==0?""+b.wa.saml:X.providerId.indexOf("oidc.")==0?""+b.wa.oidc:""+b.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var _e=g;X=b,_e=_e||{},_e=_e.ga,X=E8(_e.za?tl(_e.za):X.xa[_e.providerId]?tl(X.xa[_e.providerId]):_e.providerId.indexOf("saml.")==0?tl(X.xa.saml):_e.providerId.indexOf("oidc.")==0?tl(X.xa.oidc):tl(X.xa.password)),j=j+zi(tl(X))+'"></span>',M.providerId=="password"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(ja(g,b)),j+=g):j+="Sign in with email",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Email",j+="</span>"):M.providerId=="phone"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(ja(g,b)),j+=g):j+="Sign in with phone",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Phone",j+="</span>"):M.providerId=="anonymous"?(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):M.S?(g="Sign in with "+ke(ja(g,b)),j+=g):j+="Continue as guest",j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',j=M.S?j+ke(M.S):j+"Guest",j+="</span>"):(j+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',M.V?j+=ke(M.V):(X="Sign in with "+ke(ja(g,b)),j+=X),j+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(M.S?ke(M.S):ke(ja(g,b)))+"</span>"),M=ge(j+"</button>"),h+='<li class="firebaseui-list-item">'+M+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+vd(u)+"</div></div>",ge(h)}VF.a="firebaseui.auth.soy2.page.providerSignIn";function jF(s,c,u){s=s||{};var h=s.Gb,m=s.Va;c=s.ia,s=s||{},s=s.Aa,s='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+zi(s??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ge(s);var g;return h?g=ge('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=s+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?wr(null):"")+ar({label:vn("Verify")})+'</div></div><div class="firebaseui-card-footer">',c?(c='<p class="firebaseui-tos firebaseui-phone-tos">',c=u.F&&u.D?c+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':c+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ge(c+"</p>")):u=ge('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+bi(u),ge(g+u+"</div></form></div>")}jF.a="firebaseui.auth.soy2.page.phoneSignInStart";function UF(s,c,u){s=s||{},c=s.phoneNumber;var h="";return s='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(ke(c)+"</a>"),ke(c),c=h,h=ge('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+s+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wr(null)+ar({label:vn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+bi(u)+"</div></form>",s=ge('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ge(c+(u+s+"</div>"))}UF.a="firebaseui.auth.soy2.page.phoneSignInFinish";function BF(){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}BF.a="firebaseui.auth.soy2.page.signOut";function $F(s,c,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';s=s.ec,c=s.length;for(var m=0;m<c;m++){var g=s[m],b="",M=ke(g.displayName),j=g.tenantId?g.tenantId:"top-level-project";j=vn(j),b+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+zi(j)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+zi(g.tenantId)+'"':"")+'style="background-color:'+zi(Wk(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+zi(tl(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?b+=ke(g.V):(g="Sign in to "+ke(g.displayName),b+=g),b=ge(b+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+M+"</span></button>")),h+='<li class="firebaseui-list-item">'+b+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+vd(u)+"</div></div>",ge(h)}$F.a="firebaseui.auth.soy2.page.selectTenant";function HF(s,c,u){return s='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+gd(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ar(null)+'</div></div><div class="firebaseui-card-footer">'+vd(u)+"</div></form></div>",ge(s)}HF.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qn(){return wt(this,"firebaseui-id-submit")}function Hn(){return wt(this,"firebaseui-id-secondary-link")}function li(s,c){pn(this,Qn.call(this),function(h){s(h)});var u=Hn.call(this);u&&c&&pn(this,u,function(h){c(h)})}function n_(){return wt(this,"firebaseui-id-password")}function i_(){return wt(this,"firebaseui-id-password-error")}function GF(){var s=n_.call(this),c=i_.call(this);pd(this,s,function(){md(c)&&(_n(s,!0),_r(c))})}function zF(){var s=n_.call(this),c=i_.call(this);return ai(s)?(_n(s,!0),_r(c),c=!0):(_n(s,!1),ci(c,Dt("Enter your password").toString()),c=!1),c?ai(s):null}function _d(s,c,u,h,m,g){z.call(this,yF,{email:s},g,"passwordLinking",{F:h,D:m}),this.w=c,this.H=u}l(_d,z),_d.prototype.v=function(){this.P(),this.M(this.w,this.H),yd(this,this.i(),this.w),this.i().focus(),z.prototype.v.call(this)},_d.prototype.o=function(){this.w=null,z.prototype.o.call(this)},_d.prototype.j=function(){return ai(wt(this,"firebaseui-id-email"))},Te(_d.prototype,{i:n_,B:i_,P:GF,u:zF,ea:Qn,ba:Hn,M:li});var Lz=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function $s(){return wt(this,"firebaseui-id-email")}function Ua(){return wt(this,"firebaseui-id-email-error")}function wd(s){var c=$s.call(this),u=Ua.call(this);pd(this,c,function(){md(u)&&(_n(c,!0),_r(u))}),s&&hp(this,c,function(){s()})}function bd(){return oi(ai($s.call(this))||"")}function Cd(){var s=$s.call(this),c=Ua.call(this),u=ai(s)||"";return u?Lz.test(u)?(_n(s,!0),_r(c),c=!0):(_n(s,!1),ci(c,Dt("That email address isn't correct").toString()),c=!1):(_n(s,!1),ci(c,Dt("Enter your email address to continue").toString()),c=!1),c?oi(ai(s)):null}function pp(s,c,u,h,m,g,b){z.call(this,sF,{email:u,ia:!!g},b,"passwordSignIn",{F:h,D:m}),this.w=s,this.H=c}l(pp,z),pp.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),fp(this,this.l(),this.i()),yd(this,this.i(),this.w),ai(this.l())?this.i().focus():this.l().focus(),z.prototype.v.call(this)},pp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(pp.prototype,{l:$s,U:Ua,P:wd,M:bd,j:Cd,i:n_,B:i_,ea:GF,u:zF,ua:Qn,pa:Hn,ba:li});function Ft(s,c,u,h,m,g){z.call(this,s,c,h,m||"notice",g),this.i=u||null}H(Ft,z),Ft.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Ft.K.v.call(this)},Ft.prototype.o=function(){this.i=null,Ft.K.o.call(this)},Te(Ft.prototype,{l:Qn,w:Hn,u:li});function r_(s,c,u,h,m){Ft.call(this,lF,{email:s,G:!!c},c,m,"passwordRecoveryEmailSent",{F:u,D:h})}H(r_,Ft);function WF(s,c){Ft.call(this,AF,{G:!!s},s,c,"emailVerificationSuccess")}H(WF,Ft);function qF(s,c){Ft.call(this,MF,{G:!!s},s,c,"emailVerificationFailure")}H(qF,Ft);function KF(s,c,u){Ft.call(this,PF,{email:s,G:!!c},c,u,"verifyAndChangeEmailSuccess")}H(KF,Ft);function YF(s,c){Ft.call(this,OF,{G:!!s},s,c,"verifyAndChangeEmailFailure")}H(YF,Ft);function QF(s,c){Ft.call(this,RF,{G:!!s},s,c,"revertSecondFactorAdditionFailure")}H(QF,Ft);function XF(s){Ft.call(this,BF,void 0,void 0,s,"signOut")}H(XF,Ft);function JF(s,c){Ft.call(this,SF,{G:!!s},s,c,"passwordResetSuccess")}H(JF,Ft);function ZF(s,c){Ft.call(this,TF,{G:!!s},s,c,"passwordResetFailure")}H(ZF,Ft);function e2(s,c){Ft.call(this,xF,{G:!!s},s,c,"emailChangeRevokeFailure")}H(e2,Ft);function t2(s,c,u){Ft.call(this,NF,{errorMessage:s,zb:!!c},c,u,"recoverableError")}H(t2,Ft);function n2(s,c){Ft.call(this,FF,{errorMessage:s},void 0,c,"unrecoverableError")}H(n2,Ft);function mp(s){if(s.code==="auth/invalid-credential"&&s.message&&s.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(s.message&&s.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var c=JSON.parse(s.message.substring(s.message.indexOf("{"),s.message.lastIndexOf("}")+1));return{code:s.code,message:c&&c.error&&c.error.message||s.message}}return s}function Hs(s,c,u,h){function m(b){if(!b.name||b.name!="cancel"){e:{var M=b.message;try{var j=((JSON.parse(M).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(j&&j.length){var X=!0;break e}}catch{}X=!1}if(X)b=cn(c),c.m(),Gt(s,b,void 0,Dt("Your sign-in session has expired. Please try again.").toString());else{if(X=b&&b.message||"",b.code){if(b.code=="auth/email-already-in-use"||b.code=="auth/credential-already-in-use")return;X=Ut(b)}c.a(X)}}}if(I2(s),h)return i2(s,u),yn();if(!u.credential)throw Error("No credential found!");if(!ht(s).currentUser&&!u.user)throw Error("User not logged in.");try{var g=mW(s,u)}catch(b){return vr(b.code||b.message,b),c.a(b.code||b.message),yn()}return u=g.then(function(b){i2(s,b)},m).then(void 0,m),qe(s,g),yn(u)}function i2(s,c){if(!c.user)throw Error("No user found");var u=SN(W(s));if(TI(W(s))&&u&&Va("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=SN(W(s));var h=rN(Pe(s))||void 0;sr(tp,Pe(s));var m=!1;IR()?((!u||u(c,h))&&(m=!0,qu(window.opener.location,o_(s,h))),u||window.close()):(!u||u(c,h))&&(m=!0,qu(window.location,o_(s,h))),m||s.reset()}else{u=c.user,c=c.credential,h=TI(W(s)),m=rN(Pe(s))||void 0,sr(tp,Pe(s));var g=!1;IR()?((!h||h(u,c,m))&&(g=!0,qu(window.opener.location,o_(s,m))),h||window.close()):(!h||h(u,c,m))&&(g=!0,qu(window.location,o_(s,m))),g||s.reset()}}function o_(s,c){if(s=c||W(s).a.get("signInSuccessUrl"),!s)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return s}function Ut(s){var c={code:s.code};c=c||{};var u="";switch(c.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Xk();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Xk();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=jE();break;case"auth/invalid-verification-code":u+=Dt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(c=Dt(u).toString())return c;try{return JSON.parse(s.message),vr("Internal error: "+s.message,void 0),Kk().toString()}catch{return s.message}}function Vz(s,c,u){var h=od[c]&&be.auth[od[c]]?new be.auth[od[c]]:c.indexOf("saml.")==0?new be.auth.SAMLAuthProvider(c):new be.auth.OAuthProvider(c);if(!h)throw Error("Invalid Firebase Auth provider!");var m=wN(W(s),c);if(h.addScope)for(var g=0;g<m.length;g++)h.addScope(m[g]);return m=bN(W(s),c)||{},u&&(c==be.auth.GoogleAuthProvider.PROVIDER_ID?s="login_hint":c==be.auth.GithubAuthProvider.PROVIDER_ID?s="login":s=(s=rp(W(s),c))&&s.Ob,s&&(m[s]=u)),h.setCustomParameters&&h.setCustomParameters(m),h}function gp(s,c,u,h){function m(){hz(new $R(s.h.tenantId||null),Pe(s)),qe(s,c.I(Ie(s.dc,s),[j],function(){if((window.location&&window.location.protocol)==="file:")return qe(s,_2(s).then(function(X){c.m(),sr(al,Pe(s)),ye("callback",s,M,yn(X))},g))},b))}function g(X){if(sr(al,Pe(s)),!X.name||X.name!="cancel")switch(X=mp(X),X.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":c.a(Ut(X));break;case"auth/admin-restricted-operation":c.m(),ll(W(s))?ye("handleUnauthorizedUser",s,M,null,u):ye("callback",s,M,Ku(X));break;default:c.m(),ye("callback",s,M,Ku(X))}}function b(X){sr(al,Pe(s)),X.name&&X.name=="cancel"||(vr("signInWithRedirect: "+X.code,void 0),X=Ut(X),c.Ga=="blank"&&SI(W(s))?(c.m(),ye("providerSignIn",s,M,X)):c.a(X))}var M=cn(c),j=Vz(s,u,h);IN(W(s))==Yy?m():qe(s,pW(s,j).then(function(X){c.m(),ye("callback",s,M,yn(X))},g))}function jz(s,c){qe(s,c.I(Ie(s.$b,s),[],function(u){return c.m(),Hs(s,c,u,!0)},function(u){u.name&&u.name=="cancel"||(vr("ContinueAsGuest: "+u.code,void 0),u=Ut(u),c.a(u))}))}function Uz(s,c,u){function h(g){var b=!1;return g=c.I(Ie(s.ac,s),[g],function(M){var j=cn(c);c.m(),ye("callback",s,j,yn(M)),b=!0},function(M){if((!M.name||M.name!="cancel")&&(!M||M.code!="auth/credential-already-in-use"))if(M&&M.code=="auth/email-already-in-use"&&M.email&&M.credential){var j=cn(c);c.m(),ye("callback",s,j,Ku(M))}else M&&M.code=="auth/admin-restricted-operation"&&ll(W(s))?(M=cn(c),c.m(),ye("handleUnauthorizedUser",s,M,null,be.auth.GoogleAuthProvider.PROVIDER_ID)):(M=Ut(M),c.a(M))}),qe(s,g),g.then(function(){return b},function(){return!1})}if(u&&u.credential&&u.clientId===yN(W(s))){if(wN(W(s),be.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return gp(s,c,be.auth.GoogleAuthProvider.PROVIDER_ID,m),yn(!0)}return h(be.auth.GoogleAuthProvider.credential(u.credential))}return u&&c.a(Dt("The selected credential for the authentication provider is not supported!").toString()),yn(!1)}function Bz(s,c){var u=c.j(),h=c.u();if(u)if(h){var m=be.auth.EmailAuthProvider.credential(u,h);qe(s,c.I(Ie(s.bc,s),[u,h],function(g){return Hs(s,c,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":_n(c.l(),!1),ci(c.U(),Ut(g));break;case"auth/too-many-requests":case"auth/wrong-password":_n(c.i(),!1),ci(c.B(),Ut(g));break;default:vr("verifyPassword: "+g.message,void 0),c.a(Ut(g))}}))}else c.i().focus();else c.l().focus()}function s_(s){return s=sd(W(s)),s.length==1&&s[0]==be.auth.EmailAuthProvider.PROVIDER_ID}function r2(s){return s=sd(W(s)),s.length==1&&s[0]==be.auth.PhoneAuthProvider.PROVIDER_ID}function Gt(s,c,u,h){s_(s)?h?ye("signIn",s,c,u,h):$I(s,c,u):s&&r2(s)&&!h?ye("phoneSignInStart",s,c):s&&SI(W(s))&&!h?ye("federatedRedirect",s,c,u):ye("providerSignIn",s,c,h,u)}function o2(s,c,u,h){var m=cn(c);qe(s,c.I(Ie(ht(s).fetchSignInMethodsForEmail,ht(s)),[u],function(g){c.m(),s2(s,m,g,u,h)},function(g){g=Ut(g),c.a(g)}))}function s2(s,c,u,h,m,g){u.length||ad(W(s))&&!ad(W(s))?mt(u,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordSignIn",s,c,h,g):u.length==1&&u[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ad(W(s))?ye("sendEmailLinkForSignIn",s,c,h,function(){ye("signIn",s,c)}):ye("unsupportedProvider",s,c,h):(u=mN(u,sd(W(s))))?(oN(new hI(h),Pe(s)),ye("federatedSignIn",s,c,h,u,m)):ye("unsupportedProvider",s,c,h):_N(W(s))?ye("handleUnauthorizedUser",s,c,h,be.auth.EmailAuthProvider.PROVIDER_ID):ad(W(s))?ye("sendEmailLinkForSignIn",s,c,h,function(){ye("signIn",s,c)}):ye("passwordSignUp",s,c,h,void 0,void 0,g)}function BI(s,c,u,h,m,g){var b=cn(c);qe(s,c.I(Ie(s.Ib,s),[u,g],function(){c.m(),ye("emailLinkSignInSent",s,b,u,h,g)},m))}function $I(s,c,u){u?ye("prefilledEmailSignIn",s,c,u):ye("signIn",s,c)}function vp(){return ao(Bs(),"oobCode")}function HI(){var s=ao(Bs(),"continueUrl");return s?function(){qu(window.location,s)}:null}function yp(s,c){z.call(this,vF,void 0,c,"anonymousUserMismatch"),this.i=s}l(yp,z),yp.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},yp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(yp.prototype,{l:Hn}),Pt.anonymousUserMismatch=function(s,c){var u=new yp(function(){u.m(),Gt(s,c)});u.render(c),tt(s,u)};function a_(s){z.call(this,uF,void 0,s,"callback")}l(a_,z),a_.prototype.I=function(s,c,u,h){return s.apply(null,c).then(u,h)};function a2(s,c,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=zo(Pe(s)),g=m&&m.g;if(g&&!Hz(u.user,g))$z(s,c,h);else{var b=m&&m.a;b?qe(s,u.user.linkWithCredential(b).then(function(M){h={user:M.user,credential:b,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo},c2(s,c,h)},function(M){c_(s,c,M)})):c2(s,c,h)}}else u=cn(c),c.m(),Wo(Pe(s)),Gt(s,u)}function c2(s,c,u){Wo(Pe(s)),Hs(s,c,u)}function c_(s,c,u){var h=cn(c);Wo(Pe(s)),u=Ut(u),c.m(),Gt(s,h,void 0,u)}function l2(s,c,u,h){var m=cn(c);qe(s,ht(s).fetchSignInMethodsForEmail(u).then(function(g){c.m(),g.length?mt(g,be.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ye("passwordLinking",s,m,u):g.length==1&&g[0]===be.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ye("emailLinkSignInLinking",s,m,u):(g=mN(g,sd(W(s))))?ye("federatedLinking",s,m,u,g,h):(Wo(Pe(s)),ye("unsupportedProvider",s,m,u)):(Wo(Pe(s)),ye("passwordRecovery",s,m,u,!1,Yk().toString()))},function(g){c_(s,c,g)}))}function $z(s,c,u){var h=cn(c);qe(s,Ba(s).then(function(){c.m(),ye("emailMismatch",s,h,u)},function(m){m.name&&m.name=="cancel"||(m=Ut(m.code),c.a(m))}))}function Hz(s,c){if(c==s.email)return!0;if(s.providerData){for(var u=0;u<s.providerData.length;u++)if(c==s.providerData[u].email)return!0}return!1}Pt.callback=function(s,c,u){var h=new a_;h.render(c),tt(s,h),u=u||_2(s),qe(s,u.then(function(m){a2(s,h,m)},function(m){if((m=mp(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)oN(new hI(m.email,m.credential),Pe(s)),l2(s,h,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=zo(Pe(s)),b=Ut(m);g&&g.a?l2(s,h,g.g,b):g?o2(s,h,g.g,b):c_(s,h,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&s_(s)?a2(s,h,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&ll(W(s))?(h.m(),Wo(Pe(s)),ye("handleUnauthorizedUser",s,c,null,null)):c_(s,h,m))}))};function _p(s,c){z.call(this,gF,void 0,c,"differentDeviceError"),this.i=s}l(_p,z),_p.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),this.l().focus(),z.prototype.v.call(this)},_p.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(_p.prototype,{l:Hn}),Pt.differentDeviceError=function(s,c){var u=new _p(function(){u.m(),Gt(s,c)});u.render(c),tt(s,u)};function wp(s,c,u,h){z.call(this,DF,{email:s,G:!!u},h,"emailChangeRevoke"),this.l=c,this.i=u||null}l(wp,z),wp.prototype.v=function(){var s=this;pn(this,wt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},wp.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(wp.prototype,{u:Qn,B:Hn,w:li});function bp(){return wt(this,"firebaseui-id-new-password")}function l_(){return wt(this,"firebaseui-id-password-toggle")}function Gz(){this.Ra=!this.Ra;var s=l_.call(this),c=bp.call(this);this.Ra?(c.type="text",qo(s,"firebaseui-input-toggle-off"),Ko(s,"firebaseui-input-toggle-on")):(c.type="password",qo(s,"firebaseui-input-toggle-on"),Ko(s,"firebaseui-input-toggle-off")),c.focus()}function u_(){return wt(this,"firebaseui-id-new-password-error")}function u2(){this.Ra=!1;var s=bp.call(this);s.type="password";var c=u_.call(this);pd(this,s,function(){md(c)&&(_n(s,!0),_r(c))});var u=l_.call(this);qo(u,"firebaseui-input-toggle-on"),Ko(u,"firebaseui-input-toggle-off"),Oz(this,s,function(){qo(u,"firebaseui-input-toggle-focus"),Ko(u,"firebaseui-input-toggle-blur")}),kz(this,s,function(){qo(u,"firebaseui-input-toggle-blur"),Ko(u,"firebaseui-input-toggle-focus")}),pn(this,u,Ie(Gz,this))}function d2(){var s=bp.call(this),c=u_.call(this);return ai(s)?(_n(s,!0),_r(c),c=!0):(_n(s,!1),ci(c,Dt("Enter your password").toString()),c=!1),c?ai(s):null}function Cp(s,c,u){z.call(this,IF,{email:s},u,"passwordReset"),this.l=c}l(Cp,z),Cp.prototype.v=function(){this.H(),this.B(this.l),yd(this,this.i(),this.l),this.i().focus(),z.prototype.v.call(this)},Cp.prototype.o=function(){this.l=null,z.prototype.o.call(this)},Te(Cp.prototype,{i:bp,w:u_,M:l_,H:u2,u:d2,U:Qn,P:Hn,B:li});function Ep(s,c,u,h,m){z.call(this,kF,{factorId:s,phoneNumber:u||null,G:!!h},m,"revertSecondFactorAdditionSuccess"),this.l=c,this.i=h||null}l(Ep,z),Ep.prototype.v=function(){var s=this;pn(this,wt(this,"firebaseui-id-reset-password-link"),function(){s.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},Ep.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},Te(Ep.prototype,{u:Qn,B:Hn,w:li});function zz(s,c,u,h,m){var g=u.u();g&&qe(s,u.I(Ie(ht(s).confirmPasswordReset,ht(s)),[h,g],function(){u.m();var b=new JF(m);b.render(c),tt(s,b)},function(b){h2(s,c,u,b)}))}function h2(s,c,u,h){(h&&h.code)=="auth/weak-password"?(s=Ut(h),_n(u.i(),!1),ci(u.w(),s),u.i().focus()):(u&&u.m(),u=new ZF,u.render(c),tt(s,u))}function Wz(s,c,u){var h=new wp(u,function(){qe(s,h.I(Ie(ht(s).sendPasswordResetEmail,ht(s)),[u],function(){h.m(),h=new r_(u,void 0,Pn(W(s)),On(W(s))),h.render(c),tt(s,h)},function(){h.a(qk().toString())}))});h.render(c),tt(s,h)}function qz(s,c,u,h){var m=new Ep(h.factorId,function(){m.I(Ie(ht(s).sendPasswordResetEmail,ht(s)),[u],function(){m.m(),m=new r_(u,void 0,Pn(W(s)),On(W(s))),m.render(c),tt(s,m)},function(){m.a(qk().toString())})},h.phoneNumber);m.render(c),tt(s,m)}Pt.passwordReset=function(s,c,u,h){qe(s,ht(s).verifyPasswordResetCode(u).then(function(m){var g=new Cp(m,function(){zz(s,c,g,u,h)});g.render(c),tt(s,g)},function(){h2(s,c)}))},Pt.emailChangeRevocation=function(s,c,u){var h=null;qe(s,ht(s).checkActionCode(u).then(function(m){return h=m.data.email,ht(s).applyActionCode(u)}).then(function(){Wz(s,c,h)},function(){var m=new e2;m.render(c),tt(s,m)}))},Pt.emailVerification=function(s,c,u,h){qe(s,ht(s).applyActionCode(u).then(function(){var m=new WF(h);m.render(c),tt(s,m)},function(){var m=new qF;m.render(c),tt(s,m)}))},Pt.revertSecondFactorAddition=function(s,c,u){var h=null,m=null;qe(s,ht(s).checkActionCode(u).then(function(g){return h=g.data.email,m=g.data.multiFactorInfo,ht(s).applyActionCode(u)}).then(function(){qz(s,c,h,m)},function(){var g=new QF;g.render(c),tt(s,g)}))},Pt.verifyAndChangeEmail=function(s,c,u,h){var m=null;qe(s,ht(s).checkActionCode(u).then(function(g){return m=g.data.email,ht(s).applyActionCode(u)}).then(function(){var g=new KF(m,h);g.render(c),tt(s,g)},function(){var g=new YF;g.render(c),tt(s,g)}))};function d_(s,c){try{var u=typeof s.selectionStart=="number"}catch{u=!1}u?(s.selectionStart=c,s.selectionEnd=c):gn&&!Jc("9")&&(s.type=="textarea"&&(c=s.value.substring(0,c).replace(/(\r\n|\r|\n)/g,`
`).length),s=s.createTextRange(),s.collapse(!0),s.move("character",c),s.select())}function Ip(s,c,u,h,m,g){z.call(this,mF,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:m}),this.l=s,this.u=c}l(Ip,z),Ip.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),d_(this.i(),(this.i().value||"").length),z.prototype.v.call(this)},Ip.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(Ip.prototype,{i:$s,M:Ua,w:wd,H:bd,j:Cd,U:Qn,P:Hn,B:li}),Pt.emailLinkConfirmation=function(s,c,u,h,m,g){var b=new Ip(function(){var M=b.j();M?(b.m(),h(s,c,M,u)):b.i().focus()},function(){b.m(),Gt(s,c,m||void 0)},m||void 0,Pn(W(s)),On(W(s)));b.render(c),tt(s,b),g&&b.a(g)};function Sp(s,c,u,h,m){z.call(this,wF,{ga:s},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=c}l(Sp,z),Sp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Sp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Sp.prototype,{l:Qn,u:li}),Pt.emailLinkNewDeviceLinking=function(s,c,u,h){var m=new Xc(u);if(u=m.a.a.get(Un.PROVIDER_ID)||null,Ik(m,null),u){var g=new Sp(rp(W(s),u),function(){g.m(),h(s,c,m.toString())},Pn(W(s)),On(W(s)));g.render(c),tt(s,g)}else Gt(s,c)};function h_(s){z.call(this,hF,void 0,s,"blank")}l(h_,z);function GI(s,c,u,h,m){var g=new h_,b=new Xc(u),M=b.a.a.get(Un.$a)||"",j=b.a.a.get(Un.Sa)||"",X=b.a.a.get(Un.Qa)==="1",_e=Ek(b),Lt=b.a.a.get(Un.PROVIDER_ID)||null;b=b.a.a.get(Un.vb)||null,S2(s,b);var po=!id(nd,Pe(s)),M2=h||fz(j,Pe(s)),Vp=(h=pz(j,Pe(s)))&&h.a;Lt&&Vp&&Vp.providerId!==Lt&&(Vp=null),g.render(c),tt(s,g),qe(s,g.I(function(){var Vr=yn(null);Vr=_e&&po||po&&X?Ku(Error("anonymous-user-not-found")):dW(s,u).then(function(tS){if(Lt&&!Vp)throw Error("pending-credential-not-found");return tS});var jp=null;return Vr.then(function(tS){return jp=tS,m?null:ht(s).checkActionCode(M)}).then(function(){return jp})},[],function(Vr){M2?Yz(s,g,M2,u,Vp,Vr):X?(g.m(),ye("differentDeviceError",s,c)):(g.m(),ye("emailLinkConfirmation",s,c,u,f2))},function(Vr){var jp=void 0;if(!Vr||!Vr.name||Vr.name!="cancel")switch(g.m(),Vr&&Vr.message){case"anonymous-user-not-found":ye("differentDeviceError",s,c);break;case"anonymous-user-mismatch":ye("anonymousUserMismatch",s,c);break;case"pending-credential-not-found":ye("emailLinkNewDeviceLinking",s,c,u,Kz);break;default:Vr&&(jp=Ut(Vr)),Gt(s,c,void 0,jp)}}))}function f2(s,c,u,h){GI(s,c,h,u,!0)}function Kz(s,c,u){GI(s,c,u)}function Yz(s,c,u,h,m,g){var b=cn(c);c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Signing in...").toString());var M=null;m=(g?hW(s,g,u,h,m):fW(s,u,h,m)).then(function(j){sr(np,Pe(s)),sr(nd,Pe(s)),c.h(),c.$("firebaseui-icon-done",Dt("Signed in!").toString()),M=setTimeout(function(){c.h(),Hs(s,c,j,!0)},1e3),qe(s,function(){c&&(c.h(),c.m()),clearTimeout(M)})},function(j){if(c.h(),c.m(),!j.name||j.name!="cancel"){j=mp(j);var X=Ut(j);j.code=="auth/email-already-in-use"||j.code=="auth/credential-already-in-use"?(sr(np,Pe(s)),sr(nd,Pe(s))):j.code=="auth/invalid-email"?(X=Dt("The email provided does not match the current sign-in session.").toString(),ye("emailLinkConfirmation",s,b,h,f2,null,X)):Gt(s,b,u,X)}}),qe(s,m)}Pt.emailLinkSignInCallback=GI;function Tp(s,c,u,h,m,g){z.call(this,_F,{email:s,ga:c},g,"emailLinkSignInLinking",{F:h,D:m}),this.i=u}l(Tp,z),Tp.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Tp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Tp.prototype,{l:Qn,u:li});function Qz(s,c,u,h){var m=cn(c);BI(s,c,u,function(){Gt(s,m,u)},function(g){if(!g.name||g.name!="cancel"){var b=Ut(g);g&&g.code=="auth/network-request-failed"?c.a(b):(c.m(),Gt(s,m,u,b))}},h)}Pt.emailLinkSignInLinking=function(s,c,u){var h=zo(Pe(s));if(Wo(Pe(s)),h){var m=h.a.providerId,g=new Tp(u,rp(W(s),m),function(){Qz(s,g,u,h)},Pn(W(s)),On(W(s)));g.render(c),tt(s,g)}else Gt(s,c)};function Dp(s,c,u,h,m,g){z.call(this,fF,{email:s},g,"emailLinkSignInSent",{F:h,D:m}),this.u=c,this.i=u}l(Dp,z),Dp.prototype.v=function(){var s=this;pn(this,this.l(),function(){s.i()}),pn(this,wt(this,"firebaseui-id-trouble-getting-email-link"),function(){s.u()}),this.l().focus(),z.prototype.v.call(this)},Dp.prototype.o=function(){this.i=this.u=null,z.prototype.o.call(this)},Te(Dp.prototype,{l:Hn}),Pt.emailLinkSignInSent=function(s,c,u,h,m){var g=new Dp(u,function(){g.m(),ye("emailNotReceived",s,c,u,h,m)},function(){g.m(),h()},Pn(W(s)),On(W(s)));g.render(c),tt(s,g)};function xp(s,c,u,h,m,g,b){z.call(this,LF,{jc:s,Qb:c},b,"emailMismatch",{F:m,D:g}),this.l=u,this.i=h}l(xp,z),xp.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},xp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(xp.prototype,{u:Qn,B:Hn,w:li}),Pt.emailMismatch=function(s,c,u){var h=zo(Pe(s));if(h){var m=new xp(u.user.email,h.g,function(){var g=m;Wo(Pe(s)),Hs(s,g,u)},function(){var g=u.credential.providerId,b=cn(m);m.m(),h.a?ye("federatedLinking",s,b,h.g,g):ye("federatedSignIn",s,b,h.g,g)},Pn(W(s)),On(W(s)));m.render(c),tt(s,m)}else Gt(s,c)};function Ed(s,c,u,h,m){z.call(this,pF,void 0,m,"emailNotReceived",{F:u,D:h}),this.l=s,this.i=c}l(Ed,z),Ed.prototype.v=function(){var s=this;pn(this,this.u(),function(){s.i()}),pn(this,this.Da(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Ed.prototype.Da=function(){return wt(this,"firebaseui-id-resend-email-link")},Ed.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Ed.prototype,{u:Hn}),Pt.emailNotReceived=function(s,c,u,h,m){var g=new Ed(function(){BI(s,g,u,h,function(b){b=Ut(b),g.a(b)},m)},function(){g.m(),Gt(s,c,u)},Pn(W(s)),On(W(s)));g.render(c),tt(s,g)};function Id(s,c,u,h,m,g){z.call(this,bF,{email:s,ga:c},g,"federatedLinking",{F:h,D:m}),this.i=u}l(Id,z),Id.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Id.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Id.prototype,{l:Qn,u:li}),Pt.federatedLinking=function(s,c,u,h,m){var g=zo(Pe(s));if(g&&g.a){var b=new Id(u,rp(W(s),h),function(){gp(s,b,h,u)},Pn(W(s)),On(W(s)));b.render(c),tt(s,b),m&&b.a(m)}else Gt(s,c)},Pt.federatedRedirect=function(s,c,u){var h=new h_;h.render(c),tt(s,h),c=sd(W(s))[0],gp(s,h,c,u)},Pt.federatedSignIn=function(s,c,u,h,m){var g=new Id(u,rp(W(s),h),function(){gp(s,g,h,u)},Pn(W(s)),On(W(s)));g.render(c),tt(s,g),m&&g.a(m)};function Xz(s,c,u,h){var m=c.u();m?qe(s,c.I(Ie(s.Xb,s),[u,m],function(g){return g=g.user.linkWithCredential(h).then(function(b){return Hs(s,c,{user:b.user,credential:h,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo})}),qe(s,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":_n(c.i(),!1),ci(c.B(),Ut(g));break;case"auth/too-many-requests":c.a(Ut(g));break;default:vr("signInWithEmailAndPassword: "+g.message,void 0),c.a(Ut(g))}})):c.i().focus()}Pt.passwordLinking=function(s,c,u){var h=zo(Pe(s));Wo(Pe(s));var m=h&&h.a;if(m){var g=new _d(u,function(){Xz(s,g,u,m)},function(){g.m(),ye("passwordRecovery",s,c,u)},Pn(W(s)),On(W(s)));g.render(c),tt(s,g)}else Gt(s,c)};function Ap(s,c,u,h,m,g){z.call(this,cF,{email:u,Ta:!!c},g,"passwordRecovery",{F:h,D:m}),this.l=s,this.u=c}l(Ap,z),Ap.prototype.v=function(){this.B(),this.H(this.l,this.u),ai(this.i())||this.i().focus(),yd(this,this.i(),this.l),z.prototype.v.call(this)},Ap.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},Te(Ap.prototype,{i:$s,w:Ua,B:wd,M:bd,j:Cd,U:Qn,P:Hn,H:li});function Jz(s,c){var u=c.j();if(u){var h=cn(c);qe(s,c.I(Ie(ht(s).sendPasswordResetEmail,ht(s)),[u],function(){c.m();var m=new r_(u,function(){m.m(),Gt(s,h)},Pn(W(s)),On(W(s)));m.render(h),tt(s,m)},function(m){_n(c.i(),!1),ci(c.w(),Ut(m))}))}else c.i().focus()}Pt.passwordRecovery=function(s,c,u,h,m){var g=new Ap(function(){Jz(s,g)},h?void 0:function(){g.m(),Gt(s,c)},u,Pn(W(s)),On(W(s)));g.render(c),tt(s,g),m&&g.a(m)},Pt.passwordSignIn=function(s,c,u,h){var m=new pp(function(){Bz(s,m)},function(){var g=m.M();m.m(),ye("passwordRecovery",s,c,g)},u,Pn(W(s)),On(W(s)),h);m.render(c),tt(s,m)};function zI(){return wt(this,"firebaseui-id-name")}function WI(){return wt(this,"firebaseui-id-name-error")}function Mp(s,c,u,h,m,g,b,M,j){z.call(this,aF,{email:h,Tb:s,name:m,Ta:!!u,ia:!!M},j,"passwordSignUp",{F:g,D:b}),this.w=c,this.H=u,this.B=s}l(Mp,z),Mp.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(fp(this,this.i(),this.u()),fp(this,this.u(),this.l())):fp(this,this.i(),this.l()),this.w&&yd(this,this.l(),this.w),ai(this.i())?this.B&&!ai(this.u())?this.u().focus():this.l().focus():this.i().focus(),z.prototype.v.call(this)},Mp.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},Te(Mp.prototype,{i:$s,U:Ua,ea:wd,jb:bd,j:Cd,u:zI,Bc:WI,Ja:function(){var s=zI.call(this),c=WI.call(this);pd(this,s,function(){md(c)&&(_n(s,!0),_r(c))})},M:function(){var s=zI.call(this),c=WI.call(this),u=ai(s);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),_n(s,u),u?(_r(c),c=!0):(ci(c,Dt("Enter your account name").toString()),c=!1),c?oi(ai(s)):null},l:bp,ba:u_,lb:l_,ua:u2,P:d2,Nb:Qn,Mb:Hn,pa:li});function Zz(s,c){var u=EN(W(s)),h=c.j(),m=null;u&&(m=c.M());var g=c.P();if(h){if(u)if(m)m=Lr(m);else{c.u().focus();return}if(g){var b=be.auth.EmailAuthProvider.credential(h,g);qe(s,c.I(Ie(s.Yb,s),[h,g],function(M){var j={user:M.user,credential:b,operationType:M.operationType,additionalUserInfo:M.additionalUserInfo};return u?(M=M.user.updateProfile({displayName:m}).then(function(){return Hs(s,c,j)}),qe(s,M),M):Hs(s,c,j)},function(M){if(!M.name||M.name!="cancel"){var j=mp(M);switch(M=Ut(j),j.code){case"auth/email-already-in-use":return eW(s,c,h,j);case"auth/too-many-requests":M=Dt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":_n(c.l(),!1),ci(c.ba(),M);break;case"auth/admin-restricted-operation":ll(W(s))?(M=cn(c),c.m(),ye("handleUnauthorizedUser",s,M,h,be.auth.EmailAuthProvider.PROVIDER_ID)):c.a(M);break;default:j="setAccountInfo: "+ZR(j),vr(j,void 0),c.a(M)}}}))}else c.l().focus()}else c.i().focus()}function eW(s,c,u,h){function m(){var b=Ut(h);_n(c.i(),!1),ci(c.U(),b),c.i().focus()}var g=ht(s).fetchSignInMethodsForEmail(u).then(function(b){b.length?m():(b=cn(c),c.m(),ye("passwordRecovery",s,b,u,!1,Yk().toString()))},function(){m()});return qe(s,g),g}Pt.passwordSignUp=function(s,c,u,h,m,g){function b(){M.m(),Gt(s,c)}var M=new Mp(EN(W(s)),function(){Zz(s,M)},m?void 0:b,u,h,Pn(W(s)),On(W(s)),g);M.render(c),tt(s,M)};function qI(){return wt(this,"firebaseui-id-phone-confirmation-code")}function p2(){return wt(this,"firebaseui-id-phone-confirmation-code-error")}function m2(){return wt(this,"firebaseui-id-resend-countdown")}function Sd(s,c,u,h,m,g,b,M,j){z.call(this,UF,{phoneNumber:m},j,"phoneSignInFinish",{F:b,D:M}),this.jb=g,this.i=new Qy(1e3),this.B=g,this.P=s,this.l=c,this.H=u,this.M=h}l(Sd,z),Sd.prototype.v=function(){var s=this;this.U(this.jb),lo(this.i,"tick",this.w,!1,this),this.i.start(),pn(this,wt(this,"firebaseui-id-change-phone-number-link"),function(){s.P()}),pn(this,this.Da(),function(){s.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),z.prototype.v.call(this)},Sd.prototype.o=function(){this.M=this.H=this.l=this.P=null,Xy(this.i),il(this.i,"tick",this.w),this.i=null,z.prototype.o.call(this)},Sd.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Xy(this.i),il(this.i,"tick",this.w),this.ua(),this.lb())},Te(Sd.prototype,{u:qI,pa:p2,Ja:function(s){var c=qI.call(this),u=p2.call(this);pd(this,c,function(){md(u)&&(_n(c,!0),_r(u))}),s&&hp(this,c,function(){s()})},ba:function(){var s=oi(ai(qI.call(this))||"");return/^\d{6}$/.test(s)?s:null},Fb:m2,U:function(s){NE(m2.call(this),Dt("Resend code in "+((9<s?"0:":"0:0")+s)).toString())},ua:function(){_r(this.Fb())},Da:function(){return wt(this,"firebaseui-id-resend-link")},lb:function(){ci(this.Da())},Nb:Qn,Mb:Hn,ea:li});function tW(s,c,u,h){function m(b){c.u().focus(),_n(c.u(),!1),ci(c.pa(),b)}var g=c.ba();g?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Verifying...").toString()),qe(s,c.I(Ie(h.confirm,h),[g],function(b){c.h(),c.$("firebaseui-icon-done",Dt("Verified!").toString());var M=setTimeout(function(){c.h(),c.m();var j={user:ho(s).currentUser,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo};Hs(s,c,j,!0)},1e3);qe(s,function(){c&&c.h(),clearTimeout(M)})},function(b){if(b.name&&b.name=="cancel")c.h();else{var M=mp(b);switch(b=Ut(M),M.code){case"auth/credential-already-in-use":c.h();break;case"auth/code-expired":M=cn(c),c.h(),c.m(),ye("phoneSignInStart",s,M,u,b);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":c.h(),m(b);break;default:c.h(),c.a(b)}}}))):m(Dt("Wrong code. Try again.").toString())}Pt.phoneSignInFinish=function(s,c,u,h,m,g){var b=new Sd(function(){b.m(),ye("phoneSignInStart",s,c,u)},function(){tW(s,b,u,m)},function(){b.m(),Gt(s,c)},function(){b.m(),ye("phoneSignInStart",s,c,u)},EI(u),h,Pn(W(s)),On(W(s)));b.render(c),tt(s,b),g&&b.a(g)};var nW=!gn&&!(dt("Safari")&&!(Dk()||dt("Coast")||dt("Opera")||dt("Edge")||dt("Firefox")||dt("FxiOS")||dt("Silk")||dt("Android")));function f_(s,c){return/-[a-z]/.test(c)?null:nW&&s.dataset?!dt("Android")||Dk()||dt("Firefox")||dt("FxiOS")||dt("Opera")||dt("Silk")||c in s.dataset?(s=s.dataset[c],s===void 0?null:s):null:s.getAttribute("data-"+String(c).replace(/([A-Z])/g,"-$1").toLowerCase())}function iW(s,c,u){var h=this;s=$f(ZN,{items:s},null,this.s),tF.call(this,s,!0,!0),u&&(u=rW(s,u))&&(u.focus(),Pz(u,s)),pn(this,s,function(m){(m=(m=$k(m.target,"firebaseui-id-list-box-dialog-button"))&&f_(m,"listboxid"))&&(t_.call(h),c(m))})}function rW(s,c){s=(s||document).getElementsByTagName("BUTTON");for(var u=0;u<s.length;u++)if(f_(s[u],"listboxid")===c)return s[u];return null}function dl(){return wt(this,"firebaseui-id-phone-number")}function g2(){return wt(this,"firebaseui-id-country-selector")}function KI(){return wt(this,"firebaseui-id-phone-number-error")}function oW(s,c){var u=s.a,h=YI("1-US-0",u),m=null;if(c&&YI(c,u)?m=c:h?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");p_.call(this,m,s)}function YI(s,c){return s=cl(s),!(!s||!mt(c,s))}function sW(s){return s.map(function(c){return{id:c.c,Ma:"firebaseui-flag "+QI(c),label:c.name+" "+("\u200E+"+c.b)}})}function QI(s){return"firebaseui-flag-"+s.f}function aW(s){var c=this;iW.call(this,sW(s.a),function(u){p_.call(c,u,s,!0),c.O().focus()},this.Ba)}function p_(s,c,u){var h=cl(s);h&&(u&&(u=oi(ai(dl.call(this))||""),c=zy(c,u),c.length&&c[0].b!=h.b&&(u="+"+h.b+u.substr(c[0].b.length+1),AN(dl.call(this),u))),c=cl(this.Ba),this.Ba=s,s=wt(this,"firebaseui-id-country-selector-flag"),c&&Ko(s,QI(c)),qo(s,QI(h)),NE(wt(this,"firebaseui-id-country-selector-code"),"\u200E+"+h.b))}function Pp(s,c,u,h,m,g,b,M,j,X){z.call(this,jF,{Gb:c,Aa:j||null,Va:!!u,ia:!!g},X,"phoneSignInStart",{F:h,D:m}),this.H=M||null,this.M=c,this.l=s,this.w=u||null,this.pa=b||null}l(Pp,z),Pp.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||fp(this,this.O(),this.i()),yd(this,this.i(),this.l),this.O().focus(),d_(this.O(),(this.O().value||"").length),z.prototype.v.call(this)},Pp.prototype.o=function(){this.w=this.l=null,z.prototype.o.call(this)},Te(Pp.prototype,{Cb:jI,O:dl,B:KI,ea:function(s,c,u){var h=this,m=dl.call(this),g=g2.call(this),b=KI.call(this),M=s||ip,j=M.a;if(j.length==0)throw Error("No available countries provided.");oW.call(h,M,c),pn(this,g,function(){aW.call(h,M)}),pd(this,m,function(){md(b)&&(_n(m,!0),_r(b));var X=oi(ai(m)||""),_e=cl(this.Ba),Lt=zy(M,X);X=YI("1-US-0",j),Lt.length&&Lt[0].b!=_e.b&&(_e=Lt[0],p_.call(h,_e.b=="1"&&X?"1-US-0":_e.c,M))}),u&&hp(this,m,function(){u()})},U:function(s){var c=oi(ai(dl.call(this))||"");s=s||ip;var u=s.a,h=zy(ip,c);if(h.length&&!mt(u,h[0]))throw AN(dl.call(this)),dl.call(this).focus(),ci(KI.call(this),Dt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=cl(this.Ba),h.length&&h[0].b!=u.b&&p_.call(this,h[0].c,s),h.length&&(c=c.substr(h[0].b.length+1)),c?new fN(this.Ba,c):null},Ja:g2,ba:function(){return wt(this,"firebaseui-recaptcha-container")},u:function(){return wt(this,"firebaseui-id-recaptcha-error")},i:Qn,ua:Hn,P:li});function v2(s,c,u,h){try{var m=c.U(PI)}catch{return}m?sp?(c.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Dt("Verifying...").toString()),qe(s,c.I(Ie(s.cc,s),[EI(m),u],function(g){var b=cn(c);c.$("firebaseui-icon-done",Dt("Code sent!").toString());var M=setTimeout(function(){c.h(),c.m(),ye("phoneSignInFinish",s,b,m,15,g)},1e3);qe(s,function(){c&&c.h(),clearTimeout(M)})},function(g){if(c.h(),!g.name||g.name!="cancel"){grecaptcha.reset(DN),sp=null;var b=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":b=Dt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":c.O().focus(),ci(c.B(),jE().toString());return;case"auth/admin-restricted-operation":if(ll(W(s))){g=cn(c),c.m(),ye("handleUnauthorizedUser",s,g,EI(m),be.auth.PhoneAuthProvider.PROVIDER_ID);return}b=Ut(g);break;default:b=Ut(g)}c.a(b)}}))):cd?ci(c.u(),Dt("Solve the reCAPTCHA").toString()):!cd&&h&&c.i().click():(c.O().focus(),ci(c.B(),jE().toString()))}Pt.phoneSignInStart=function(s,c,u,h){var m=vz(W(s))||{};sp=null,cd=!(m&&m.size==="invisible");var g=r2(s),b=Ez(W(s)),M=g?Cz(W(s)):null;b=u&&u.a||b&&b.c||null,u=u&&u.Aa||M,(M=II(W(s)))&&hN(M),PI=M?new lN(II(W(s))):ip;var j=new Pp(function(_e){v2(s,j,X,!(!_e||!_e.keyCode))},cd,g?null:function(){X.clear(),j.m(),Gt(s,c)},Pn(W(s)),On(W(s)),g,PI,b,u);j.render(c),tt(s,j),h&&j.a(h),m.callback=function(_e){j.u()&&_r(j.u()),sp=_e,cd||v2(s,j,X)},m["expired-callback"]=function(){sp=null};var X=new be.auth.RecaptchaVerifier(cd?j.ba():j.i(),m,ho(s).app);qe(s,j.I(Ie(X.render,X),[],function(_e){DN=_e},function(_e){_e.name&&_e.name=="cancel"||(_e=Ut(_e),j.m(),Gt(s,c,void 0,_e))}))},Pt.prefilledEmailSignIn=function(s,c,u){var h=new h_;h.render(c),tt(s,h),qe(s,h.I(Ie(ht(s).fetchSignInMethodsForEmail,ht(s)),[u],function(m){h.m();var g=!(!s_(s)||!w2(s));s2(s,c,m,u,void 0,g)},function(m){m=Ut(m),h.m(),ye("signIn",s,c,u,m)}))};function Op(s,c,u,h,m){z.call(this,VF,{Sb:c},m,"providerSignIn",{F:u,D:h}),this.i=s}l(Op,z),Op.prototype.v=function(){this.l(this.i),z.prototype.v.call(this)},Op.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Op.prototype,{l:function(s){function c(b){s(b)}for(var u=this.g?kE("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var m=u[h],g=f_(m,"providerId");pn(this,m,ze(c,g))}}}),Pt.providerSignIn=function(s,c,u,h){var m=new Op(function(g){g==be.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),$I(s,c,h)):g==be.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ye("phoneSignInStart",s,c)):g=="anonymous"?jz(s,m):gp(s,m,g,h),bt(s),s.l.cancel()},vN(W(s)),Pn(W(s)),On(W(s)));m.render(c),tt(s,m),u&&m.a(u),uW(s)},Pt.sendEmailLinkForSignIn=function(s,c,u,h){var m=new a_;m.render(c),tt(s,m),BI(s,m,u,h,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&ll(W(s))?ye("handleUnauthorizedUser",s,c,u,be.auth.EmailAuthProvider.PROVIDER_ID):(g=Ut(g),ye("signIn",s,c,u,g))})};function kp(s,c,u,h,m,g,b){z.call(this,oF,{email:u,Va:!!c,ia:!!g},b,"signIn",{F:h,D:m}),this.i=s,this.u=c}l(kp,z),kp.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),d_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},kp.prototype.o=function(){this.u=this.i=null,z.prototype.o.call(this)},Te(kp.prototype,{l:$s,M:Ua,w:wd,H:bd,j:Cd,U:Qn,P:Hn,B:li}),Pt.signIn=function(s,c,u,h){var m=s_(s),g=new kp(function(){var b=g,M=b.j()||"";M&&o2(s,b,M)},m?null:function(){g.m(),Gt(s,c,u)},u,Pn(W(s)),On(W(s)),m);g.render(c),tt(s,g),h&&g.a(h)};function Rp(s,c,u,h,m,g,b){z.call(this,CF,{kc:s,yb:u,Eb:!!h},b,"unauthorizedUser",{F:m,D:g}),this.l=c,this.i=h}l(Rp,z),Rp.prototype.v=function(){var s=this,c=wt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&c&&pn(this,c,function(){s.i()}),pn(this,this.u(),function(){s.l()}),this.u().focus(),z.prototype.v.call(this)},Rp.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Rp.prototype,{u:Hn}),Pt.handleUnauthorizedUser=function(s,c,u,h){function m(){Gt(s,c)}h===be.auth.EmailAuthProvider.PROVIDER_ID?m=function(){$I(s,c)}:h===be.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ye("phoneSignInStart",s,c)});var g=null,b=null;h===be.auth.EmailAuthProvider.PROVIDER_ID&&_N(W(s))?(g=wz(W(s)),b=bz(W(s))):ll(W(s))&&(g=yz(W(s)),b=_z(W(s)));var M=new Rp(u,function(){M.m(),m()},g,b,Pn(W(s)),On(W(s)));M.render(c),tt(s,M)};function Np(s,c,u,h,m,g){z.call(this,EF,{email:s},g,"unsupportedProvider",{F:h,D:m}),this.l=c,this.i=u}l(Np,z),Np.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Np.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},Te(Np.prototype,{u:Qn,B:Hn,w:li}),Pt.unsupportedProvider=function(s,c,u){var h=new Np(u,function(){h.m(),ye("passwordRecovery",s,c,u)},function(){h.m(),Gt(s,c,u)},Pn(W(s)),On(W(s)));h.render(c),tt(s,h)};function Yo(s,c){this.$=!1;var u=XI(c);if(Fp[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Fp[u]=this,this.a=s,this.u=null,this.Y=!1,y2(this.a),this.h=be.initializeApp({apiKey:s.app.options.apiKey,authDomain:s.app.options.authDomain},s.app.name+"-firebaseui-temp").auth(),(s=s.emulatorConfig)&&(u=s.port,this.h.useEmulator(s.protocol+"://"+s.host+(u===null?"":":"+u),s.options)),y2(this.h),this.h.setPersistence&&this.h.setPersistence(be.auth.Auth.Persistence.SESSION),this.oa=c,this.ca=new gz,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=nI.Xa(),this.j=this.C=null,this.da=this.A=!1}function y2(s){s&&s.INTERNAL&&s.INTERNAL.logFramework&&s.INTERNAL.logFramework("FirebaseUI-web")}var Fp={};function XI(s){return s||"[DEFAULT]"}function _2(s){return bt(s),s.i||(s.i=Gs(s,function(c){return c&&!zo(Pe(s))?yn(ho(s).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return $a(s,u)})):yn(ht(s).getRedirectResult().then(function(u){return Wy(W(s))&&!u.user&&s.j&&!s.j.isAnonymous?ho(s).getRedirectResult():u}))})),s.i}function tt(s,c){bt(s),s.g=c}var Td=null;function ht(s){return bt(s),s.h}function ho(s){return bt(s),s.a}function Pe(s){return bt(s),s.oa}function w2(s){return bt(s),s.O?s.O.emailHint:void 0}t=Yo.prototype,t.nb=function(){return bt(this),!!yI(Pe(this))||b2(Bs())};function b2(s){return s=new Xc(s),(s.a.a.get(Un.ub)||null)==="signIn"&&!!s.a.a.get(Un.$a)}t.start=function(s,c){C2(this,s,c)};function C2(s,c,u,h){bt(s),typeof s.a.languageCode<"u"&&(s.u=s.a.languageCode);var m="en".replace(/_/g,"-");s.a.languageCode=m,s.h.languageCode=m,s.Y=!0,typeof s.a.tenantId<"u"&&(s.h.tenantId=s.a.tenantId),s.ib(u),s.O=h||null;var g=v.document;s.C?s.C.then(function(){g.readyState=="complete"?m_(s,c):qf(window,"load",function(){m_(s,c)})}):g.readyState=="complete"?m_(s,c):qf(window,"load",function(){m_(s,c)})}function m_(s,c){var u=Iy(c,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Td){var h=Td;bt(h),zo(Pe(h))&&Va("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Td.reset()}if(Td=s,s.T=u,lW(s,u),Gy(new pI)&&Gy(new mI)){c=Iy(c,"Could not find the FirebaseUI widget element on the page."),u=Bs(),h=bI(W(s).a,"queryParameterForSignInSuccessUrl"),u=(u=ao(u,h))?Pa(uy(u)).toString():null;e:{h=Bs();var m=CN(W(s));h=ao(h,m)||"";for(g in MI)if(MI[g].toLowerCase()==h.toLowerCase()){var g=MI[g];break e}g="callback"}switch(g){case"callback":u&&(g=Pe(s),rd(tp,u,g)),s.nb()?ye("callback",s,c):Gt(s,c,w2(s));break;case"resetPassword":ye("passwordReset",s,c,vp(),HI());break;case"recoverEmail":ye("emailChangeRevocation",s,c,vp());break;case"revertSecondFactorAddition":ye("revertSecondFactorAddition",s,c,vp());break;case"verifyEmail":ye("emailVerification",s,c,vp(),HI());break;case"verifyAndChangeEmail":ye("verifyAndChangeEmail",s,c,vp(),HI());break;case"signIn":ye("emailLinkSignInCallback",s,c,Bs()),T2();break;case"select":u&&(g=Pe(s),rd(tp,u,g)),Gt(s,c);break;default:throw Error("Unhandled widget operation.")}c=W(s),(c=op(c).uiShown||null)&&c()}else c=Iy(c,"Could not find the FirebaseUI widget element on the page."),g=new n2(Dt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(c),tt(s,g);c=s.g&&s.g.Ga=="blank"&&SI(W(s)),yI(Pe(s))&&!c&&(c=yI(Pe(s)),S2(s,c.a),sr(al,Pe(s)))}function Gs(s,c){if(s.A)return c(E2(s));if(qe(s,function(){s.A=!1}),Wy(W(s))){var u=new $n(function(h){qe(s,s.a.onAuthStateChanged(function(m){s.j=m,s.A||(s.A=!0,h(c(E2(s))))}))});return qe(s,u),u}return s.A=!0,c(null)}function E2(s){return bt(s),Wy(W(s))&&s.j&&s.j.isAnonymous?s.j:null}function qe(s,c){if(bt(s),c){s.s.push(c);var u=function(){Fr(s.s,function(h){return h==c})};typeof c!="function"&&c.then(u,u)}}t.Db=function(){bt(this),this.Z=!0};function cW(s){bt(s);var c;return(c=s.Z)||(s=W(s),s=bN(s,be.auth.GoogleAuthProvider.PROVIDER_ID),c=!(!s||s.prompt!=="select_account")),c}function I2(s){typeof s.a.languageCode<"u"&&s.Y&&(s.Y=!1,s.a.languageCode=s.u)}function S2(s,c){s.a.tenantId=c,s.h.tenantId=c}t.reset=function(){bt(this);var s=this;this.T&&this.T.removeAttribute("lang"),this.J&&$8(this.J),I2(this),this.O=null,T2(),sr(al,Pe(this)),bt(this),this.l.cancel(),this.i=yn({user:null,credential:null}),Td==this&&(Td=null),this.T=null;for(var c=0;c<this.s.length;c++)typeof this.s[c]=="function"?this.s[c]():this.s[c].cancel&&this.s[c].cancel();this.s=[],Wo(Pe(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Ba(this).then(function(){s.C=null},function(){s.C=null}))};function lW(s,c){s.L=null,s.J=new Cy(c),s.J.register(),lo(s.J,"pageEnter",function(u){if(u=u&&u.pageId,s.L!=u){var h=W(s);(h=op(h).uiChanged||null)&&h(s.L,u),s.L=u}})}t.ib=function(s){bt(this);var c=this.ca,u;for(u in s)try{wI(c.a,u,s[u])}catch{vr('Invalid config: "'+u+'"',void 0)}u8&&wI(c.a,"popupMode",!1),II(c),!this.da&&TI(W(this))&&(Va("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function W(s){return bt(s),s.ca}t.Wb=function(){bt(this);var s=W(this),c=bI(s.a,"widgetUrl");s=CN(s);for(var u=c.search(Hi),h=0,m,g=[];0<=(m=si(c,h,s,u));)g.push(c.substring(h,m)),h=Math.min(c.indexOf("&",m)+1||u,u);g.push(c.substr(h)),c=g.join("").replace(cy,"$1"),u="="+encodeURIComponent("select"),(s+=u)?(u=c.indexOf("#"),0>u&&(u=c.length),h=c.indexOf("?"),0>h||h>u?(h=u,m=""):m=c.substring(h+1,u),c=[c.substr(0,h),m,c.substr(u)],u=c[1],c[1]=s?u?u+"&"+s:s:u,u=c[0]+(c[1]?"?"+c[1]:"")+c[2]):u=c,W(this).a.get("popupMode")?(s=(window.screen.availHeight-600)/2,c=(window.screen.availWidth-500)/2,u=u||"about:blank",s={width:500,height:600,top:0<s?s:0,left:0<c?c:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},s.target=s.target||u.target||"google_popup",s.width=s.width||690,s.height=s.height||500,(s=ER(u,s))&&s.focus()):qu(window.location,u)};function bt(s){if(s.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var s=this;return bt(this),this.h.app.delete().then(function(){var c=XI(Pe(s));delete Fp[c],s.reset(),s.$=!0})};function uW(s){bt(s);try{AR(s.l,yN(W(s)),cW(s)).then(function(c){return s.g?Uz(s,s.g,c):!1})}catch{}}t.Ib=function(s,c){bt(this);var u=this,h=Y8();if(!ad(W(this)))return Ku(Error("Email link sign-in should be enabled to trigger email sending."));var m=Sz(W(this)),g=new Xc(m.url);return s8(g,h),c&&c.a&&(mz(h,c,Pe(this)),Ik(g,c.a.providerId)),a8(g,Iz(W(this))),Gs(this,function(b){return b&&((b=b.uid)?g.a.a.set(Un.Pa,b):Qc(g.a.a,Un.Pa)),m.url=g.toString(),ht(u).sendSignInLinkToEmail(s,m)}).then(function(){var b=Pe(u),M={};M.email=s,rd(nd,QR(h,JSON.stringify(M)),b)},function(b){throw sr(np,Pe(u)),sr(nd,Pe(u)),b})};function dW(s,c){var u=Ek(new Xc(c));return u?(c=new $n(function(h,m){var g=ho(s).onAuthStateChanged(function(b){g(),b&&b.isAnonymous&&b.uid===u?h(b):b&&b.isAnonymous&&b.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});qe(s,g)}),qe(s,c),c):yn(null)}function hW(s,c,u,h,m){bt(s);var g=m||null,b=be.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?ht(s).signInWithEmailLink(u,h).then(function(M){return M.user.linkWithCredential(g)}).then(function(){return Ba(s)}).then(function(){return $a(s,{code:"auth/email-already-in-use"},g)}):ht(s).fetchSignInMethodsForEmail(u).then(function(M){return M.length?$a(s,{code:"auth/email-already-in-use"},b):c.linkWithCredential(b)}),qe(s,u),u}function fW(s,c,u,h){bt(s);var m=h||null,g;return c=ht(s).signInWithEmailLink(c,u).then(function(b){if(g={user:b.user,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo},m)return b.user.linkWithCredential(m).then(function(M){g={user:M.user,credential:m,operationType:g.operationType,additionalUserInfo:M.additionalUserInfo}})}).then(function(){Ba(s)}).then(function(){return ho(s).updateCurrentUser(g.user)}).then(function(){return g.user=ho(s).currentUser,g}),qe(s,c),c}function T2(){var s=Bs();if(b2(s)){s=new Xc(s);for(var c in Un)Un.hasOwnProperty(c)&&Qc(s.a.a,Un[c]);c={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(c,u,s.toString())}}t.bc=function(s,c){bt(this);var u=this;return ht(this).signInWithEmailAndPassword(s,c).then(function(h){return Gs(u,function(m){return m?Ba(u).then(function(){return $a(u,{code:"auth/email-already-in-use"},be.auth.EmailAuthProvider.credential(s,c))}):h})})},t.Yb=function(s,c){bt(this);var u=this;return Gs(this,function(h){if(h){var m=be.auth.EmailAuthProvider.credential(s,c);return h.linkWithCredential(m)}return ht(u).createUserWithEmailAndPassword(s,c)})},t.ac=function(s){bt(this);var c=this;return Gs(this,function(u){return u?u.linkWithCredential(s).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return $a(c,h,s)}):ht(c).signInWithCredential(s)})};function pW(s,c){return bt(s),Gs(s,function(u){return u&&!zo(Pe(s))?u.linkWithPopup(c).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return $a(s,h)}):ht(s).signInWithPopup(c)})}t.dc=function(s){bt(this);var c=this,u=this.i;return this.i=null,Gs(this,function(h){return h&&!zo(Pe(c))?h.linkWithRedirect(s):ht(c).signInWithRedirect(s)}).then(function(){},function(h){throw c.i=u,h})},t.cc=function(s,c){bt(this);var u=this;return Gs(this,function(h){return h?h.linkWithPhoneNumber(s,c).then(function(m){return new rI(m,function(g){if(g.code=="auth/credential-already-in-use")return $a(u,g);throw g})}):ho(u).signInWithPhoneNumber(s,c).then(function(m){return new rI(m)})})},t.$b=function(){return bt(this),ho(this).signInAnonymously()};function mW(s,c){return bt(s),Gs(s,function(u){if(s.j&&!s.j.isAnonymous&&Wy(W(s))&&!ht(s).currentUser)return Ba(s).then(function(){return c.credential.providerId=="password"&&(c.credential=null),c});if(u)return Ba(s).then(function(){return u.linkWithCredential(c.credential)}).then(function(h){return c.user=h.user,c.credential=h.credential,c.operationType=h.operationType,c.additionalUserInfo=h.additionalUserInfo,c},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return $a(s,h,c.credential)});if(!c.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Ba(s).then(function(){return ho(s).updateCurrentUser(c.user)}).then(function(){return c.user=ho(s).currentUser,c.operationType="signIn",c.credential&&c.credential.providerId&&c.credential.providerId=="password"&&(c.credential=null),c})})}t.Xb=function(s,c){return bt(this),ht(this).signInWithEmailAndPassword(s,c)};function Ba(s){return bt(s),ht(s).signOut()}function $a(s,c,u){if(bt(s),c&&c.code&&(c.code=="auth/email-already-in-use"||c.code=="auth/credential-already-in-use")){var h=TN(W(s));return yn().then(function(){return h(new Hf("anonymous-upgrade-merge-conflict",null,u||c.credential))}).then(function(){throw s.g&&(s.g.m(),s.g=null),c})}return Ku(c)}function Lp(s,c,u,h){z.call(this,HF,void 0,h,"providerMatchByEmail",{F:c,D:u}),this.i=s}l(Lp,z),Lp.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),d_(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},Lp.prototype.o=function(){this.i=null,z.prototype.o.call(this)},Te(Lp.prototype,{l:$s,H:Ua,u:wd,B:bd,j:Cd,M:Qn,w:li});function g_(s,c,u,h,m){z.call(this,$F,{ec:c},m,"selectTenant",{F:u,D:h}),this.i=s}l(g_,z),g_.prototype.v=function(){gW(this,this.i),z.prototype.v.call(this)},g_.prototype.o=function(){this.i=null,z.prototype.o.call(this)};function gW(s,c){function u(M){c(M)}for(var h=s.g?kE("firebaseui-id-tenant-selection-button",s.g||s.s.a):[],m=0;m<h.length;m++){var g=h[m],b=f_(g,"tenantId");pn(s,g,ze(u,b))}}function JI(s){z.call(this,dF,void 0,s,"spinner")}l(JI,z);function vW(s){this.a=new _I,Mn(this.a,"authDomain"),Mn(this.a,"displayMode",y_),Mn(this.a,"tenants"),Mn(this.a,"callbacks"),Mn(this.a,"tosUrl"),Mn(this.a,"privacyPolicyUrl");for(var c in s)if(s.hasOwnProperty(c))try{wI(this.a,c,s[c])}catch{vr('Invalid config: "'+c+'"',void 0)}}function yW(s){s=s.a.get("displayMode");for(var c in eS)if(eS[c]===s)return eS[c];return y_}function v_(s){return s.a.get("callbacks")||{}}function D2(s){var c=s.a.get("tosUrl")||null;if(s=s.a.get("privacyPolicyUrl")||null,c&&!s&&Va("Privacy Policy URL is missing, the link will not be displayed."),c&&s){if(typeof c=="function")return c;if(typeof c=="string")return function(){Qu(c)}}return null}function x2(s){var c=s.a.get("tosUrl")||null,u=s.a.get("privacyPolicyUrl")||null;if(u&&!c&&Va("Terms of Service URL is missing, the link will not be displayed."),c&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Qu(u)}}return null}function ZI(s,c){if(s=s.a.get("tenants"),!s||!s.hasOwnProperty(c)&&!s.hasOwnProperty(__))throw Error("Invalid tenant configuration!")}function A2(s,c,u){if(s=s.a.get("tenants"),!s)throw Error("Invalid tenant configuration!");var h=[];if(s=s[c]||s[__],!s)return vr("Invalid tenant configuration: "+(c+" is not configured!"),void 0),h;if(c=s.signInOptions,!c)throw Error("Invalid tenant configuration: signInOptions are invalid!");return c.forEach(function(m){if(typeof m=="string")h.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(m.provider):h.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),vr(m,void 0)}),h}function _W(s,c,u){return s=wW(s,c),(c=s.signInOptions)&&u&&(c=c.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),s.signInOptions=c),s}function wW(s,c){var u=bW,h=h===void 0?{}:h;return ZI(s,c),s=s.a.get("tenants"),Q8(s[c]||s[__],u,h)}var bW=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],y_="optionFirst",eS={pc:y_,oc:"identifierFirst"},__="*";function fo(s,c){var u=this;this.s=Iy(s),this.a={},Object.keys(c).forEach(function(h){u.a[h]=new vW(c[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=fo.prototype,t.Ub=function(s,c){var u=this;Ha(this);var h=s.apiKey;return new $n(function(m,g){if(u.a.hasOwnProperty(h)){var b=v_(u.a[h]).selectTenantUiHidden||null;if(yW(u.a[h])===y_){var M=[];c.forEach(function(_e){_e=_e||"_";var Lt=u.a[h].a.get("tenants");if(!Lt)throw Error("Invalid tenant configuration!");(Lt=Lt[_e]||Lt[__])?_e={tenantId:_e!=="_"?_e:null,V:Lt.fullLabel||null,displayName:Lt.displayName,za:Lt.iconUrl,ta:Lt.buttonColor}:(vr("Invalid tenant configuration: "+(_e+" is not configured!"),void 0),_e=null),_e&&M.push(_e)});var j=function(_e){_e={tenantId:_e,providerIds:A2(u.a[h],_e||"_")},m(_e)};if(M.length===1){j(M[0].tenantId);return}u.g=new g_(function(_e){Ha(u),b&&b(),j(_e)},M,D2(u.a[h]),x2(u.a[h]))}else u.g=new Lp(function(){var _e=u.g.j();if(_e){for(var Lt=0;Lt<c.length;Lt++){var po=A2(u.a[h],c[Lt]||"_",_e);if(po.length!==0){_e={tenantId:c[Lt],providerIds:po,email:_e},Ha(u),b&&b(),m(_e);return}}u.g.a(Qk({code:"no-matching-tenant-for-email"}).toString())}},D2(u.a[h]),x2(u.a[h]));u.g.render(u.s),(g=v_(u.a[h]).selectTenantUiShown||null)&&g()}else{var X=Error("Invalid project configuration: API key is invalid!");X.code="invalid-configuration",u.pb(X),g(X)}})},t.Pb=function(s,c){if(!this.a.hasOwnProperty(s))throw Error("Invalid project configuration: API key is invalid!");var u=c||void 0;ZI(this.a[s],c||"_");try{this.i=be.app(u).auth()}catch{var h=this.a[s].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");s=be.initializeApp({apiKey:s,authDomain:h},u),s.auth().tenantId=c,this.i=s.auth()}return this.i},t.Zb=function(s,c){var u=this;return new $n(function(h,m){function g(Lt,po){u.j=new Yo(s),C2(u.j,u.s,Lt,po)}var b=s.app.options.apiKey;u.a.hasOwnProperty(b)||m(Error("Invalid project configuration: API key is invalid!"));var M=_W(u.a[b],s.tenantId||"_",c&&c.providerIds);Ha(u),m={signInSuccessWithAuthResult:function(Lt){return h(Lt),!1}};var j=v_(u.a[b]).signInUiShown||null,X=!1;m.uiChanged=function(Lt,po){Lt===null&&po==="callback"?((Lt=RE("firebaseui-id-page-callback",u.s))&&_r(Lt),u.h=new JI,u.h.render(u.s)):X||Lt===null&&po==="spinner"||po==="blank"||(u.h&&(u.h.m(),u.h=null),X=!0,j&&j(s.tenantId))},M.callbacks=m,M.credentialHelper="none";var _e;c&&c.email&&(_e={emailHint:c.email}),u.j?u.j.Wa().then(function(){g(M,_e)}):g(M,_e)})},t.reset=function(){var s=this;return yn().then(function(){s.j&&s.j.Wa()}).then(function(){s.j=null,Ha(s)})},t.Vb=function(){var s=this;this.h||this.A||(this.A=window.setTimeout(function(){Ha(s),s.h=new JI,s.g=s.h,s.h.render(s.s),s.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Ha(this),this.g=new XF,this.g.render(this.s),yn()};function Ha(s){s.j&&s.j.reset(),s.mb(),s.g&&s.g.m()}t.pb=function(s){var c=this,u=Qk({code:s.code}).toString()||s.message;Ha(this);var h;s.retry&&typeof s.retry=="function"&&(h=function(){c.reset(),s.retry()}),this.g=new t2(u,h),this.g.render(this.s)},t.Rb=function(s){var c=this;return yn().then(function(){var u=c.i&&c.i.app.options.apiKey;if(!c.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(ZI(c.a[u],s.tenantId||"_"),!c.i.currentUser||c.i.currentUser.uid!==s.uid)throw Error("The user being processed does not match the signed in user!");return(u=v_(c.a[u]).beforeSignInSuccess||null)?u(s):s}).then(function(u){if(u.uid!==s.uid)throw Error("User with mismatching UID returned.");return u})},Xe("firebaseui.auth.FirebaseUiHandler",fo),Xe("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",fo.prototype.Ub),Xe("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",fo.prototype.Pb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",fo.prototype.Zb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.reset",fo.prototype.reset),Xe("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",fo.prototype.Vb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",fo.prototype.mb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",fo.prototype.Bb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.handleError",fo.prototype.pb),Xe("firebaseui.auth.FirebaseUiHandler.prototype.processUser",fo.prototype.Rb),Xe("firebaseui.auth.AuthUI",Yo),Xe("firebaseui.auth.AuthUI.getInstance",function(s){return s=XI(s),Fp[s]?Fp[s]:null}),Xe("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Yo.prototype.Db),Xe("firebaseui.auth.AuthUI.prototype.start",Yo.prototype.start),Xe("firebaseui.auth.AuthUI.prototype.setConfig",Yo.prototype.ib),Xe("firebaseui.auth.AuthUI.prototype.signIn",Yo.prototype.Wb),Xe("firebaseui.auth.AuthUI.prototype.reset",Yo.prototype.reset),Xe("firebaseui.auth.AuthUI.prototype.delete",Yo.prototype.Wa),Xe("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Yo.prototype.nb),Xe("firebaseui.auth.AuthUIError",Hf),Xe("firebaseui.auth.AuthUIError.prototype.toJSON",Hf.prototype.toJSON),Xe("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",DI),Xe("firebaseui.auth.CredentialHelper.NONE",Ky),Xe("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),$n.prototype.catch=$n.prototype.Ca,$n.prototype.finally=$n.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=IG.default);var gk=firebaseui.auth;var Nf=(()=>{let e=class e{constructor(i){this.auth=i,this.localStorageKeyUser="firebase-user",this.userS=cc(JSON.parse(localStorage.getItem(this.localStorageKeyUser))),this.auth.setPersistence(ps),this.auth.onAuthStateChanged(r=>this.userS.set(r))}logout(){localStorage.removeItem(this.localStorageKeyUser),this.auth.signOut()}createButton(i,r,o,a){(gk.AuthUI.getInstance()||new gk.AuthUI(this.auth)).start(i,{callbacks:{uiShown:a,signInSuccessWithAuthResult:l=>(localStorage.setItem(this.localStorageKeyUser,JSON.stringify(l.user)),o&&o(l),!!r)},signInFlow:"popup",signInSuccessUrl:r,signInOptions:[Xl.PROVIDER_ID]})}awaitUser(){return I(this,null,function*(){return yield this.auth.authStateReady(),this.auth.currentUser})}};e.\u0275fac=function(r){return new(r||e)(ae(tu))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hhe(t,e){if(t&1){let n=Y();y(0,"div",6),O("create",function(r){R(n);let o=D();return N(o.createAuthButton(r))}),_()}}function Ghe(t,e){if(t&1&&(y(0,"div",13)(1,"span",14),F(2),_(),y(3,"span",15),F(4),_()()),t&2){let n=e.$implicit,i=e.index;T(2),ce(i+1+". "+n.text),T(2),ce(n.description)}}function zhe(t,e){if(t&1){let n=Y();it(0),Z(1,"div",7),y(2,"span"),F(3,"Pravidl\xE1"),_(),U(4,Ghe,5,2,"div",8),Z(5,"div",7),y(6,"div",9),O("click",function(){R(n);let r=D();return N(r.consent=!r.consent)}),Z(7,"i",10),y(8,"span",11),F(9,"S\xFAhlas\xEDm s pravidlami a budem ich dodr\u017Eiava\u0165"),_()(),y(10,"div",9),O("click",function(){R(n);let r=D();return N(r.agreeToPay=!r.agreeToPay)}),Z(11,"i",10),y(12,"span",11),F(13,"Rozumiem, \u017Ee prihl\xE1\u0161ka je platn\xE1 a\u017E po zaplaten\xED"),_()(),Z(14,"div",7),y(15,"div",12),O("click",function(){R(n);let r=D();return N(r.apply())}),F(16,"Potvrdi\u0165"),_(),rt()}if(t&2){let n=D();T(4),P("ngForOf",n.rules),T(3),P("ngClass",n.consent?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),P("ngClass",n.agreeToPay?"fa-regular fa-square-check":"fa-regular fa-square"),T(4),Ae("disabled",!n.consent)}}var SG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.rules=sG,this.consent=!1,this.agreeToPay=!1}ngOnInit(){this.event=this.eventManagerService.event}createAuthButton(i){this.authService.createButton(i.nativeElement)}apply(){this.consent&&console.log("applied")}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(kf),L(Rs),L(ir),L(Nf))},e.\u0275cmp=le({type:e,selectors:[["app-event-application"]],standalone:!0,features:[ue],decls:8,vars:3,consts:[[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"user-name"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],[4,"ngIf"],[1,"auth-button","auth-ui-button",3,"create"],[1,"h-separator"],["class","rules-container",4,"ngFor","ngForOf"],[1,"consent-checkbox-container",3,"click"],[1,"consent-checkbox-icon",3,"ngClass"],[1,"consent-checkbox-label"],[1,"button","button-apply",3,"click"],[1,"rules-container"],[1,"rule-text"],[1,"rule-description"]],template:function(r,o){if(r&1&&(y(0,"div",0)(1,"div",1)(2,"span",2),F(3,"Prihl\xE1\u0161ka"),_(),y(4,"span",3),F(5),_()(),U(6,Hhe,1,0,"div",4)(7,zhe,17,5,"ng-container",5),_()),r&2){let a;T(5),ce((a=o.authService.userS())==null?null:a.displayName),T(),P("ngIf",!o.authService.userS()),T(),P("ngIf",o.authService.userS())}},dependencies:[fe,pi,Be,Ge,ks],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (min-width: 1000px){[_nghost-%COMP%]{max-width:50%}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-text[_ngcontent-%COMP%]{padding-left:1rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .rules-container[_ngcontent-%COMP%]   .rule-description[_ngcontent-%COMP%]{font-size:14px;text-align:justify}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .consent-checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem;cursor:pointer;align-self:flex-start}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem;align-self:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .button-apply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}"]});let t=e;return t})();var TG=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i>1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(L(nn))},e.\u0275dir=At({type:e,selectors:[["","largescreen",""]],hostBindings:function(r,o){r&1&&O("resize",function(l){return o.onResize(l)},!1,$t)},standalone:!0});let t=e;return t})();var DG=(()=>{let e=class e{constructor(i){this.elementRef=i}ngOnInit(){this.updateVisibility(window.innerWidth)}onResize(i){this.updateVisibility(i.target.innerWidth)}updateVisibility(i){i<=1e3?this.elementRef.nativeElement.style.display="":this.elementRef.nativeElement.style.display="none"}};e.\u0275fac=function(r){return new(r||e)(L(nn))},e.\u0275dir=At({type:e,selectors:[["","smallscreen",""]],hostBindings:function(r,o){r&1&&O("resize",function(l){return o.onResize(l)},!1,$t)},standalone:!0});let t=e;return t})();var xG={id:"2024-splav",title:"Splav 2024",questions:[{id:"termin",active:!0,title:"Ktor\xE9 v\xEDkendy m\xF4\u017Ee\u0161?",description:"Fakt vyber pros\xEDm \u010Do najviac, aby sme sa mali \u0161ancu zhodn\xFA\u0165. Nie \u017Ee kedy sa ti chce.",type:"checkbox",choices:[{id:"termin1",text:"15. - 16. J\xFAn",description:"Rock for People",selected:!0},{id:"termin2",text:"22. - 23. J\xFAn",selected:!0},{id:"termin3",text:"29. - 30. J\xFAn",selected:!0},{id:"termin4",text:"06. - 07. J\xFAl",selected:!0},{id:"termin5",text:"13. - 14. J\xFAl",description:"Pohoda",selected:!0},{id:"termin6",text:"20. - 21. J\xFAl",description:"Colours of Ostrava",selected:!0},{id:"termin7",text:"27. - 28. J\xFAl",selected:!0},{id:"termin8",text:"03. - 04. Aug",selected:!0},{id:"termin9",text:"10. - 11. Aug",description:"Grape, Sziget",selected:!0},{id:"termin10",text:"17. - 18. Aug",description:"Lovestream",selected:!0}]},{id:"nocivkempoch",active:!0,title:"Ko\u013Eko noc\xED chce\u0161 by\u0165 v kempoch?",description:"Chod\xEDme iba raz za rok a 3 noci s\xFA viac srandy ako 2. Ten posledn\xFD de\u0148 v\u0161ak b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"3noci",text:"3 noci",description:"Streda ve\u010Der pr\xEDdeme na ubytov\u0148u, \u0160tvrtok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."},{id:"2noci",text:"2 noci",description:"\u0160tvrtok ve\u010Der pr\xEDdeme na ubytov\u0148u, Piatok r\xE1no \u0161tart, Nede\u013Ea ve\u010Der doma."}]},{id:"splavovatajposlednyden",active:!0,title:"Chce\u0161 aj v Nede\u013Eu e\u0161te splavova\u0165?",description:"Posledn\xFD de\u0148 b\xFDva dos\u0165 n\xE1ro\u010Dn\xFD.",type:"radio",dontcare:"true",choices:[{id:"ano",text:"\xC1no",description:"Jasn\xE9, pohodi\u010Dka."},{id:"nie",text:"Nie",description:"Posledn\xFD de\u0148 si chcem sadn\xFA\u0165 do auta a \xEDs\u0165 domov."}]}].map(t=>(t.dontcare&&t.choices.push({id:"dontcare",text:"Je mi to jedno",selected:!t.choices.some(e=>e.selected)}),t))};var AG=[xG];function Whe(t,e){if(t&1&&(y(0,"a",17),F(1),_()),t&2){let n=e.$implicit;P("routerLink",n.urlTree),T(),ce(n.text)}}function qhe(t,e){if(t&1){let n=Y();it(0),y(1,"span",18),O("click",function(){R(n);let r=D(2);return N(r.authService.logout())}),F(2,"Odhl\xE1si\u0165 sa"),_(),rt()}}function Khe(t,e){if(t&1){let n=Y();y(0,"div",10)(1,"div",11)(2,"div",1)(3,"span"),F(4),_()(),y(5,"div",2)(6,"i",12),O("click",function(){R(n);let r=D();return N(r.sidebarVisible=!1)}),_()()(),y(7,"div",13)(8,"div",14),O("click",function(){R(n);let r=D();return N(r.sidebarVisible=!1)}),U(9,Whe,2,2,"a",15),_(),y(10,"div",16),O("click",function(){R(n);let r=D();return N(r.sidebarVisible=!1)}),U(11,qhe,3,0,"ng-container",8),_()()()}if(t&2){let n=D();P("@fade",void 0),T(4),ce(n.event.title),T(5),P("ngForOf",n.getActiveMenus()),T(2),P("ngIf",n.authService.userS())}}var Yhe=()=>["currentRoute"],Qhe=()=>({exact:!0});function Xhe(t,e){if(t&1&&(y(0,"a",19),F(1),_()),t&2){let n=e.$implicit;P("routerLink",n.urlTree)("routerLinkActive",Pl(4,Yhe))("routerLinkActiveOptions",Pl(5,Qhe)),T(),ce(n.text)}}function Jhe(t,e){if(t&1){let n=Y();it(0),y(1,"div",20)(2,"span",21),O("click",function(){R(n);let r=D();return N(r.authService.logout())}),F(3,"Odhl\xE1si\u0165 sa"),_(),y(4,"span",22),F(5),_()(),rt()}if(t&2){let n=D();T(5),ce(n.authService.userS().displayName)}}var MG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.authService=r,this.eventManagerService=o,this.skip=!0,this.sidebarVisible=window.innerWidth<=1e3,this.menus=[{text:"Prihl\xE1\u0161ka",urlTree:["prihlaska"],active:!1},{text:"Hlasovanie",urlTree:["hlasovanie"],active:!0},{text:"V\xFDsledky",urlTree:["hlasovanie","vysledky"],active:!0}]}ngOnInit(){this.route.params.subscribe(i=>{this.event=JSON.parse(JSON.stringify(AG.find(r=>r.id==i.id))),this.eventManagerService.event=this.event})}getActiveMenus(){return this.menus.filter(i=>i.active)}};e.\u0275fac=function(r){return new(r||e)(L(ir),L(Nf),L(Rs))},e.\u0275cmp=le({type:e,selectors:[["app-event-manager"]],hostVars:1,hostBindings:function(r,o){r&2&&Ml("@skip",o.skip)},standalone:!0,features:[ue],decls:17,vars:5,consts:[["smallscreen","",1,"header"],[1,"header-left"],[1,"header-right"],[1,"fa-solid","fa-bars",3,"click"],["class","sidebar","smallscreen","",4,"ngIf"],["largescreen","",1,"header"],[1,"v-separator","margins"],["class","header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"content"],["smallscreen","",1,"sidebar"],[1,"sidebar-header"],[1,"fa-solid","fa-xmark",3,"click"],[1,"sidebar-content"],[1,"sidebar-content-top",3,"click"],["class","sidebar-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"sidebar-content-bottom",3,"click"],[1,"sidebar-item",3,"routerLink"],[1,"sidebar-item",3,"click"],[1,"header-item",3,"routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"header-item","hover-container"],[1,"hover-visible",3,"click"],[1,"hover-hidden"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"div",1)(2,"span"),F(3),_()(),y(4,"div",2)(5,"i",3),O("click",function(){return o.sidebarVisible=!0}),_()()(),U(6,Khe,12,4,"div",4),y(7,"div",5)(8,"div",1)(9,"span"),F(10),_(),Z(11,"div",6),U(12,Xhe,2,6,"a",7),_(),y(13,"div",2),U(14,Jhe,6,1,"ng-container",8),_()(),y(15,"div",9),Z(16,"router-outlet"),_()),r&2&&(T(3),ce(o.event.title),T(3),P("ngIf",o.sidebarVisible),T(4),ce(o.event.title),T(2),P("ngForOf",o.getActiveMenus()),T(2),P("ngIf",o.authService.userS()))},dependencies:[fe,Be,Ge,ut,vf,C$,Fv,TG,DG],styles:["[_nghost-%COMP%]{flex:1;min-height:100vh;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;background-color:var(--color-background-primary);z-index:1;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{gap:1.6666666665rem}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item.currentRoute[_ngcontent-%COMP%]{padding-bottom:2px;border-bottom-width:1px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{padding-bottom:0;color:var(--color-text-hover);border-bottom-width:3px;border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-background-primary);position:absolute;z-index:1;display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{position:sticky;top:0;height:40px;display:flex;gap:1.6666666665rem;border-bottom:1px solid var(--color-border);box-sizing:border-box;justify-content:space-between}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 .6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 1.6666666665rem}}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:1.6666666665rem;align-items:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]{min-width:40px;justify-content:center;display:flex;align-items:center;cursor:pointer;height:100%;box-sizing:border-box;padding-top:3px;border-bottom:3px solid transparent;transition-property:color,border-color;transition-duration:.25s}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .header-item[_ngcontent-%COMP%]:hover{color:var(--color-text-hover);border-bottom-color:var(--color-primary)}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{margin:.6666666666rem;display:flex;flex-direction:column;gap:.6666666666rem;flex:1;justify-content:space-between}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-top[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-content-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;align-items:center;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;flex:1}"],data:{animation:[Vc,aE]}});let t=e;return t})();var PG=(()=>{let e=class e{constructor(i){this.eventManagerService=i}ngOnInit(){this.event=this.eventManagerService.event}};e.\u0275fac=function(r){return new(r||e)(L(Rs))},e.\u0275cmp=le({type:e,selectors:[["app-rules"]],standalone:!0,features:[ue],decls:8,vars:0,template:function(r,o){r&1&&(y(0,"span"),F(1,"V z\xE1ujme ment\xE1lneho zdravia, dobr\xFDch vz\u0165ahov a pohody som vymyslel p\xE1r pravidiel."),_(),y(2,"span"),F(3,"Nie je ich ve\u013Ea, o to viac v\u0161ak budem trva\u0165 na tom, aby sme ich v\u0161etci dodr\u017Eiavali."),_(),y(4,"span"),F(5,"1. Ka\u017Ed\xE9 r\xE1no vyr\xE1\u017Eame na\u010Das"),_(),y(6,"span"),F(7,"2. Po\u010Das splavovania sa dr\u017E\xEDme pohromade"),_())},dependencies:[fe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}"]});let t=e;return t})();function Zhe(t,e){if(t&1&&(y(0,"td",9)(1,"span"),F(2),_()()),t&2){let n=e.$implicit,i=D().$implicit;Zi("width",100/i.options.length,"%"),T(2),ce(n.text)}}function efe(t,e){t&1&&Z(0,"i",12)}function tfe(t,e){if(t&1&&(y(0,"td"),U(1,efe,1,0,"i",11),_()),t&2){let n=e.$implicit,i=D().$implicit;T(),P("ngIf",n.people.includes(i.userDisplayName))}}function nfe(t,e){if(t&1&&(y(0,"tr")(1,"td",10),F(2),_(),U(3,tfe,2,1,"td",8),_()),t&2){let n=e.$implicit,i=D().$implicit,r=D(2);T(2),ce(r.getShortName(n.userDisplayName)),T(),P("ngForOf",i.options)}}function ife(t,e){if(t&1){let n=Y();y(0,"div",3),O("click",function(){let o=R(n).$implicit,a=D(2);return N(a.open(o))}),y(1,"span",4),F(2),_(),y(3,"div",5)(4,"table")(5,"tr"),Z(6,"td",6),U(7,Zhe,3,3,"td",7),_(),U(8,nfe,4,2,"tr",8),_()()()}if(t&2){let n=e.$implicit,i=D(2);Ae("closed",!n.open),T(2),ce(n.title),T(),Ae("closed",!n.open),P("@drawer2",n.open),T(4),P("ngForOf",n.options),T(),P("ngForOf",i.userEntries)}}function rfe(t,e){if(t&1&&(y(0,"div",1),U(1,ife,9,8,"div",2),_()),t&2){let n=D();T(),P("ngForOf",n.statistics)}}var OG=(()=>{let e=class e{constructor(i,r){this.firestoreService=i,this.eventManagerService=r}ngOnInit(){this.event=this.eventManagerService.event,this.requestResults()}requestResults(){this.firestoreService.read(this.event.id).then(i=>{this.userEntries=i.sort((r,o)=>o.submitDate.localeCompare(r.submitDate)),this.statistics=this.event.questions.map(r=>({id:r.id,title:r.title,votes:i.filter(o=>!o.choices[r.id]?.includes("dontcare")).length,open:this.event.questions.indexOf(r)==0,options:r.choices?.map(o=>({id:o.id,text:o.text,description:o.description,hyperlink:o.hyperlink,people:i.filter(a=>a.choices[r.id]?.includes(o.id)).map(a=>a.userDisplayName),count:i.filter(a=>!a.choices[r.id]?.includes("dontcare")&&a.choices[r.id]?.includes(o.id)).length})).sort((o,a)=>a.count-o.count)}))})}open(i){this.statistics.forEach(r=>r.open=!1),i.open=!0}getShortName(i){if(window.innerWidth>1e3)return i;{let[r,o]=i.split(" ");return r.substring(0,10)+" "+o[0]}}};e.\u0275fac=function(r){return new(r||e)(L(kf),L(Rs))},e.\u0275cmp=le({type:e,selectors:[["app-survey-results"]],standalone:!0,features:[ue],decls:1,vars:1,consts:[["class","results",4,"ngIf"],[1,"results"],["class","result-container",3,"closed","click",4,"ngFor","ngForOf"],[1,"result-container",3,"click"],[1,"result-title"],[1,"result-options"],[1,"first-column","first-row"],["class","first-row",3,"width",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"first-row"],[1,"first-column"],["class","fa-solid fa-check",4,"ngIf"],[1,"fa-solid","fa-check"]],template:function(r,o){r&1&&U(0,rfe,2,1,"div",0),r&2&&P("ngIf",o.statistics)},dependencies:[fe,Be,Ge,ut],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.6666666666rem 0}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100vw - 1.3333333332rem);max-width:calc(100vw - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:.6666666666rem 0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;max-width:100%}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-align:center;font-size:2rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{border:1px solid var(--color-border);border-radius:.3333333333rem;display:flex;flex-direction:column;background-color:var(--color-background-secondary);padding:.6666666666rem;transition-property:gap;transition-duration:.5s}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container.closed[_ngcontent-%COMP%]{cursor:pointer;gap:0}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-description[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;width:100%;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;width:fit-content;padding:.5rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{width:0;white-space:nowrap;background-color:var(--color-background-secondary)}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-column[_ngcontent-%COMP%]{position:sticky;left:0}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.first-column){text-align:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%]{white-space:nowrap}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result-options[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.first-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{writing-mode:tb}}"],data:{animation:[lE]}});let t=e;return t})();var yk=()=>["vysledky"];function ofe(t,e){t&1&&(it(0),y(1,"div",2)(2,"span"),F(3,"Hlasovanie teraz nie je akt\xEDvne"),_(),y(4,"a",3),Z(5,"i",4),F(6,"V\xFDsledky"),_()(),rt()),t&2&&(T(4),P("routerLink",Pl(1,yk)))}function sfe(t,e){if(t&1){let n=Y();y(0,"div",17),O("create",function(r){R(n);let o=D(4);return N(o.createAuthButton(r))}),_()}}function afe(t,e){if(t&1){let n=Y();y(0,"div",18),O("click",function(){R(n);let r=D(4);return N(r.updateVote())}),F(1,"Zmeni\u0165 hlasovanie"),_()}}function cfe(t,e){if(t&1&&(y(0,"div",9)(1,"div",10)(2,"span",11),F(3,"Hlasovanie"),_()(),y(4,"div",12),U(5,sfe,1,0,"div",13)(6,afe,2,0,"div",14),y(7,"span",15),F(8,"alebo"),_(),y(9,"a",16),Z(10,"i",4),F(11,"V\xFDsledky"),_()()()),t&2){let n=D(3);T(5),P("ngIf",!n.authService.userS()),T(),P("ngIf",n.authService.userS()&&!n.canVote),T(3),P("routerLink",Pl(3,yk))}}function lfe(t,e){if(t&1&&(y(0,"span",33),F(1),_()),t&2){let n=D().$implicit;T(),ce(n.description)}}function ufe(t,e){if(t&1&&Z(0,"i",41),t&2){let n=D().$implicit;P("ngClass",n.selected?"fa-regular fa-square-check":"fa-regular fa-square")}}function dfe(t,e){if(t&1&&Z(0,"i",41),t&2){let n=D().$implicit;P("ngClass",n.selected?"fa-regular fa-circle-check":"fa-regular fa-circle")}}function hfe(t,e){if(t&1&&(it(0),Z(1,"div",42),y(2,"a",43),O("click",function(i){return i.stopImmediatePropagation()}),Z(3,"i",44),_(),rt()),t&2){let n=D().$implicit;T(2),P("href",n.hyperlink,Zn)}}function ffe(t,e){if(t&1&&(it(0),Z(1,"div",42),y(2,"span",45),F(3),_(),rt()),t&2){let n=D().$implicit;T(3),ce(n.description)}}function pfe(t,e){if(t&1){let n=Y();y(0,"div",36),O("click",function(){let o=R(n).$implicit,a=D(2).$implicit,l=D(4);return N(l.onChoiceClick(a,o))}),U(1,ufe,1,1,"i",37)(2,dfe,1,1,"i",37),y(3,"div",38)(4,"span",39),F(5),_(),U(6,hfe,4,1,"ng-container",40)(7,ffe,4,1,"ng-container",40),_()()}if(t&2){let n=e.$implicit,i=D(2).$implicit;Ae("disabled",n.disabled)("selected",n.selected),T(),P("ngIf",i.type=="checkbox"),T(),P("ngIf",i.type=="radio"),T(3),ce(n.text),T(),P("ngIf",n.hyperlink),T(),P("ngIf",n.description)}}function mfe(t,e){if(t&1&&(y(0,"div",34),U(1,pfe,8,9,"div",35),_()),t&2){let n=D().$implicit;T(),P("ngForOf",n.choices)}}function gfe(t,e){if(t&1&&(y(0,"div",29)(1,"span",30),F(2),_(),U(3,lfe,2,1,"span",31)(4,mfe,2,1,"div",32),_()),t&2){let n=e.$implicit,i=e.index,r=D(4);P("@drawer2",i==r.questionIndex),T(2),ce(n.title),T(),P("ngIf",n.description),T(),P("ngIf",n.choices)}}function vfe(t,e){t&1&&(y(0,"a",3),Z(1,"i",4),F(2,"V\xFDsledky"),_()),t&2&&P("@crossfade",void 0)("routerLink",Pl(2,yk))}function yfe(t,e){if(t&1){let n=Y();y(0,"div",46),O("click",function(){R(n);let r=D(4);return N(r.back())}),F(1,"Sp\xE4\u0165"),_()}t&2&&P("@crossfade",void 0)}function _fe(t,e){if(t&1){let n=Y();y(0,"div",46),O("click",function(){R(n);let r=D(4);return N(r.next())}),F(1,"\u010Ealej"),_()}t&2&&P("@crossfade",void 0)}function wfe(t,e){if(t&1){let n=Y();y(0,"div",46),O("click",function(){R(n);let r=D(4);return N(r.submit())}),F(1,"Hlasova\u0165"),_()}if(t&2){let n=D(4);Ae("disabled",!n.authService.userS()),P("@crossfade",void 0)}}function bfe(t,e){if(t&1&&(y(0,"div",19)(1,"div",20),U(2,gfe,5,4,"div",21),_(),y(3,"div",22)(4,"div",23),U(5,vfe,3,3,"a",24)(6,yfe,2,1,"div",25),_(),y(7,"div",23)(8,"div",26),F(9,"\xA0"),_()(),y(10,"div",23),U(11,_fe,2,1,"div",25)(12,wfe,2,3,"div",27),_()(),y(13,"span",28),F(14),_()()),t&2){let n=D(3);T(),P("@skip",void 0),T(),P("ngForOf",n.activeQuestions),T(2),P("@skip",void 0),T(),P("ngIf",n.questionIndex==0),T(),P("ngIf",n.questionIndex!=0),T(4),P("@skip",void 0),T(),P("ngIf",n.questionIndex<n.activeQuestions.length-1),T(),P("ngIf",n.questionIndex==n.activeQuestions.length-1),T(2),ce(n.questionIndex+1+" / "+n.activeQuestions.length)}}function Cfe(t,e){if(t&1&&(y(0,"div",6),U(1,cfe,12,4,"div",7)(2,bfe,15,9,"div",8),_()),t&2){let n=D(2);T(),P("ngIf",!n.authService.userS()||!n.canVote),T(),P("ngIf",n.authService.userS()&&n.canVote)}}function Efe(t,e){if(t&1&&U(0,Cfe,3,2,"div",5),t&2){let n=D();P("ngIf",!n.loading)}}var kG=(()=>{let e=class e{constructor(i,r,o,a,l){this.router=i,this.firestoreService=r,this.eventManagerService=o,this.route=a,this.authService=l,this.questionIndex=0,this.loading=!0}ngOnInit(){this.event=this.eventManagerService.event,this.activeQuestions=this.event.questions.filter(o=>o.active);let i=this.authService.awaitUser(),r=this.firestoreService.read(this.event.id,!0);Promise.all([i,r]).then(([o,a])=>{this.canVote=!a.some(l=>l.userId==o?.uid),this.loading=!1})}onChoiceClick(i,r){i.type=="checkbox"?i.dontcare?r.id=="dontcare"?(i.choices.forEach(o=>o.selected=!1),r.selected=!0):(i.choices.find(o=>o.id=="dontcare").selected=!1,r.selected=!r.selected):r.selected=!r.selected:i.type=="radio"&&(i.choices.forEach(o=>o.selected=!1),r.selected=!0)}back(){this.questionIndex>0&&this.questionIndex--}next(){this.questionIndex<this.event.questions.length-1&&this.questionIndex++}submit(){let i=this.authService.userS();if(i){let r={userId:i.uid,userDisplayName:i.displayName,submitDate:new Date().toISOString(),choices:{}};this.event.questions.filter(o=>o.choices).forEach(o=>{r.choices[o.id]=o.choices.filter(a=>a.selected).map(a=>a.id)}),this.firestoreService.write(this.event.id,i.uid,r).then(()=>{this.router.navigate(["./vysledky"],{relativeTo:this.route})})}}updateVote(){this.firestoreService.read(this.event.id).then(i=>{let r=i.find(o=>o.userId==this.authService.userS().uid);r&&this.event.questions.forEach(o=>{o.choices.forEach(a=>{r.choices&&r.choices[o.id]&&(a.selected=r.choices[o.id].includes(a.id))})}),this.canVote=!0})}createAuthButton(i){this.authService.createButton(i.nativeElement,null,r=>{r?.user&&this.firestoreService.read(this.event.id,!0).then(o=>{this.canVote=!o.some(a=>a.userId==r.user.uid)})})}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(kf),L(Rs),L(ir),L(Nf))},e.\u0275cmp=le({type:e,selectors:[["app-survey"]],standalone:!0,features:[ue],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hasActiveQuestions",""],[1,"no-questions-container"],[1,"button",3,"routerLink"],[1,"fa-solid","fa-chart-simple"],["class","content-container",4,"ngIf"],[1,"content-container"],["class","auth-container",4,"ngIf"],["class","questions",4,"ngIf"],[1,"auth-container"],[1,"auth-header"],[1,"auth-text"],[1,"auth-buttons"],["class","auth-button auth-ui-button",3,"create",4,"ngIf"],["class","auth-button button",3,"click",4,"ngIf"],[1,"auth-or"],[1,"auth-button","button",3,"routerLink"],[1,"auth-button","auth-ui-button",3,"create"],[1,"auth-button","button",3,"click"],[1,"questions"],[1,"question-container"],["class","question-animation-container",4,"ngFor","ngForOf"],[1,"buttons"],[1,"button-container"],["class","button",3,"routerLink",4,"ngIf"],["class","button",3,"click",4,"ngIf"],[1,"button","transparent"],["class","button",3,"disabled","click",4,"ngIf"],[1,"question-progress"],[1,"question-animation-container"],[1,"question-title"],["class","question-description",4,"ngIf"],["class","question-choices",4,"ngIf"],[1,"question-description"],[1,"question-choices"],["class","question-choice",3,"disabled","selected","click",4,"ngFor","ngForOf"],[1,"question-choice",3,"click"],["class","question-selection-icon",3,"ngClass",4,"ngIf"],[1,"choice-labels"],[1,"choice-text"],[4,"ngIf"],[1,"question-selection-icon",3,"ngClass"],[1,"v-separator"],["target","_blank","rel","noopener noreferrer",1,"choice-hyperlink",3,"href","click"],[1,"fa-solid","fa-arrow-up-right-from-square"],[1,"choice-description"],[1,"button",3,"click"]],template:function(r,o){if(r&1&&U(0,ofe,7,2,"ng-container",0)(1,Efe,1,1,"ng-template",null,1,Rj),r&2){let a=dr(2);P("ngIf",o.activeQuestions.length==0)("ngIfElse",a)}},dependencies:[fe,pi,Be,Ge,ut,vf,ks],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]{width:calc(100% - 1.3333333332rem);padding:.6666666666rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]{padding:1.3333333332rem 0}}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem;align-items:center}[_nghost-%COMP%]   .no-questions-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:auto;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;gap:.6666666666rem}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-text[_ngcontent-%COMP%]{font-size:24px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .auth-description[_ngcontent-%COMP%]{font-size:16px;text-align:center}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:grid;align-items:center}@media screen and (max-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:auto;justify-items:center;gap:.3333333333rem}}@media screen and (min-width: 1000px){[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr;gap:.6666666666rem}}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button.auth-ui-button[_ngcontent-%COMP%]{padding:0;border-radius:.3333333333rem;overflow:hidden}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-or[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .auth-container[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:auto;align-self:center;gap:.5rem;padding:.3333333333rem .6666666666rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6666666666rem;background-color:var(--color-background-secondary);border:1px solid var(--color-border);border-radius:.3333333333rem;padding:.6666666666rem;position:relative;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse!important}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-description[_ngcontent-%COMP%]{margin-top:.1666666667rem;font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:.6666666666rem;align-self:start;gap:.5rem;width:100%}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border:1px solid var(--color-border);border-radius:.3333333333rem;transition:.25s}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice.selected[_ngcontent-%COMP%]{background-color:var(--color-secondary)}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-hyperlink[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-text[_ngcontent-%COMP%]{min-width:fit-content}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .question-container[_ngcontent-%COMP%]   .question-animation-container[_ngcontent-%COMP%]   .question-choices[_ngcontent-%COMP%]   .question-choice[_ngcontent-%COMP%]   .choice-labels[_ngcontent-%COMP%]   .choice-description[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.6666666666rem;justify-content:space-between;position:relative}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex:1}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:first-child{justify-content:flex-start}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:last-child{justify-content:flex-end}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:auto;padding:.3333333333rem .6666666666rem;gap:.5rem}[_nghost-%COMP%]   .questions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .question-progress[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:.6666666666rem;font-size:12px}"],data:{animation:[cE,lE,Vc,aE]}});let t=e;return t})();function Ife(t,e){if(t&1){let n=Y();y(0,"span",6),O("click",function(){let o=R(n).$implicit,a=D(2);return N(a.onDataFileClick(o))}),F(1),_()}if(t&2){let n=e.$implicit;T(),ce(n.name.substring(0,n.name.length-10))}}function Sfe(t,e){if(t&1){let n=Y();y(0,"span",6),O("click",function(){let o=R(n).$implicit,a=D(2);return N(a.onFolderClick(o))}),F(1),_()}if(t&2){let n=e.$implicit;T(),ce(n.name)}}function Tfe(t,e){if(t&1&&(y(0,"div",4),U(1,Ife,2,1,"span",5)(2,Sfe,2,1,"span",5),_()),t&2){let n=D();T(),P("ngForOf",n.dataFiles),T(),P("ngForOf",n.folders)}}var RG=(()=>{let e=class e{constructor(i,r,o){this.router=i,this.googleService=r,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.next(!0)}ngOnInit(){return I(this,null,function*(){let i=yield this.googleService.getFolderMetadata();this.dataFolder=i.find(a=>a.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let r=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=r.filter(a=>a.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(a=>a.name.substring(0,a.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=i.filter(a=>Pr.isFolder(a)&&!o.includes(a.name)&&a.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.next(!1)})}onDataFileClick(i){this.applicationService.loading.next(!0),this.googleService.dataFileId=i.id,this.router.navigate(["/gallery"])}onFolderClick(i){return I(this,null,function*(){this.applicationService.loading.next(!0);let r=yield this.googleService.createFile(i.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(i.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=r.id,this.googleService.updateContent(r.id,{dataFolderId:i.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tagGroups:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(Mf),L(hn))},e.\u0275cmp=le({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[ue],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,Tfe,3,2,"div",1),y(2,"div",2)(3,"i",3),O("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),_()()()),r&2&&(Ae("opacity-1",!o.applicationService.loading.value),T(),P("ngIf",!0),T(2),P("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[fe,pi,Be,Ge],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();function Dfe(t,e){if(t&1){let n=Y();it(0),y(1,"i",3),O("click",function(){R(n);let r=D().ngVar,o=D();return N(o.moveTargetGroupLeft(r))}),_(),y(2,"i",18),O("click",function(){R(n);let r=D().ngVar,o=D();return N(o.moveTargetGroupRight(r))}),_(),rt()}if(t&2){let n=D().ngVar,i=D();T(),Ae("disabled",i.isFirstGroupImage(n)),T(),Ae("disabled",i.isLastGroupImage(n))}}function xfe(t,e){if(t&1){let n=Y();y(0,"i",19),O("click",function(){R(n);let r=D(2);return N(r.stateService.setRandomGroupTarget())}),_()}}function Afe(t,e){if(t&1&&Z(0,"iframe",22),t&2){let n=D().$implicit;J0("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),P("src",n.contentLink,hT)}}function Mfe(t,e){if(t&1){let n=Y();y(0,"img",24),O("load",function(){R(n);let r=D(4);return N(r.loadingC=!1)}),_()}if(t&2){let n=D(2).$implicit;P("src",n.contentLink,Zn)}}function Pfe(t,e){if(t&1){let n=Y();it(0),y(1,"img",23),O("click",function(){R(n);let r=D().$implicit,o=D(2);return N(o.onImageClick(r))}),_(),y(2,"img",24),O("load",function(){R(n);let r=D(3);return N(r.loadingT=!1)}),_(),U(3,Mfe,1,1,"img",25),rt()}if(t&2){let n=D().$implicit,i=D(2);T(),P("src",i.getSrc(n),Zn),T(),P("src",n.thumbnailLink,Zn),T(),P("ngIf",n.contentLink)}}function Ofe(t,e){if(t&1&&(y(0,"div",20),U(1,Afe,1,3,"iframe",21)(2,Pfe,4,3,"ng-container",13),_()),t&2){let n=D(2);P("@fade",void 0),T(),P("ngIf",n.video),T(),P("ngIf",!n.video)}}function kfe(t,e){if(t&1){let n=Y();y(0,"div",1)(1,"div",2)(2,"div")(3,"i",3),O("click",function(){R(n);let r=D();return N(r.stateService.fullscreenVisible.set(!1))}),_(),y(4,"i",4),O("click",function(){R(n);let r=D();return N(r.dialogService.openSettings())}),_()(),y(5,"div")(6,"i",5),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleHeart(o))}),_(),y(7,"i",6),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleBookmark(o))}),_(),y(8,"span",7),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.like(o))})("contextmenu",function(r){let a=R(n).ngVar,l=D();return r.preventDefault(),N(l.stateService.dislike(a))}),F(9),_()()(),y(10,"div",8)(11,"div",9)(12,"i",10),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.remove(o,!0))}),_(),y(13,"i",11),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.remove(o,!1))}),_()(),y(14,"div",12),U(15,Dfe,3,4,"ng-container",13),_(),y(16,"div",14),U(17,xfe,1,0,"i",15),y(18,"i",16),O("click",function(){R(n);let r=D();return N(r.stateService.setRandomTarget())}),_()()(),U(19,Ofe,3,3,"div",17),_()}if(t&2){let n=e.ngVar,i=D();Ae("transparent",!i.stateService.fullscreenVisible()),T(6),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),T(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),T(2),ce(n==null?null:n.likes),T(6),P("ngIf",n==null?null:n.group),T(2),P("ngIf",n==null?null:n.group),T(2),P("ngForOf",i.crossfadeHelper)}}var NG=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,ra(()=>{this.stateService.fullscreenVisible()?this.update(this.stateService.target()):this.crossfadeHelper.length=0})}update(i){i&&this.crossfadeHelper[0]!=i&&(this.crossfadeHelper[0]=i,Pr.isVideo(i)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}getSrc(i){if(!this.loadingC)return i.contentLink;if(!this.loadingT)return i.thumbnailLink}onImageClick(i){this.applicationService.reduceBandwidth&&(i.thumbnailLink=i.thumbnailLink.replace("=s220","=s440"))}snapshot(){let i=document.getElementById("video-element");if(i){let r=document.createElement("canvas");r.width=i.videoWidth,r.height=i.videoHeight,r.getContext("2d").drawImage(i,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+r.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(i){return K.isFirst(i.group.images.filter(r=>r.passesFilter),i)}isLastGroupImage(i){return K.isLast(i.group.images.filter(r=>r.passesFilter),i)}moveTargetGroupLeft(i){this.stateService.target.set(K.getPrevious(i.group.images.filter(r=>r.passesFilter),i,!0))}moveTargetGroupRight(i){this.stateService.target.set(K.getNext(i.group.images.filter(r=>r.passesFilter),i,!0))}};e.\u0275fac=function(r){return new(r||e)(L(hn),L(Bi),L(Zt))},e.\u0275cmp=le({type:e,selectors:[["app-fullscreen"]],standalone:!0,features:[ue],decls:1,vars:1,consts:[["class","fullscreen-container",3,"transparent",4,"ngVar"],[1,"fullscreen-container"],[1,"fullscreen-header"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"fullscreen-footer"],[2,"justify-content","start"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[2,"display","flex","justify-content","center"],[4,"ngIf"],[2,"justify-content","end"],["class","icon-button fa-solid fa-arrows-spin",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],[1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"],[2,"display","none",3,"src","load"],["style","display: none;",3,"src","load",4,"ngIf"]],template:function(r,o){r&1&&U(0,kfe,20,8,"div",0),r&2&&P("ngVar",o.stateService.target())},dependencies:[fe,pi,Be,Ge,Of,Fc],styles:['.fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;top:0;left:0;position:absolute;background-color:#000000e6;overflow:hidden;z-index:20;transition:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;top:0;left:0;pointer-events:none;z-index:30}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{padding:.3333333333rem;position:absolute;right:0;display:flex;justify-content:space-between;bottom:0;left:0;pointer-events:none;z-index:30;align-items:flex-end}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}.fullscreen-container[_ngcontent-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Vc]}});let t=e;return t})();var ju=class{static getNearestImageUp(e,n){let i=e.indexOf(n);for(;i>0;)if(e[--i].left==n.left)return e[i];return K.getLast(e.filter(r=>r.left==n.left))}static getNearestImageRight(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==r.length-1?0:o+1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||K.getLast(d)}static getNearestImageDown(e,n){let i=e.indexOf(n);for(;i<e.length-1;)if(e[++i].left==n.left)return e[i];return K.getFirst(e.filter(r=>r.left==n.left))}static getNearestImageLeft(e,n){let i=n.top+n.height*.5,r=[...new Set(e.flatMap(p=>p.left))],o=r.indexOf(n.left),a=o==0?r.length-1:o-1,l=r[a],d=e.filter(p=>p.left==l);return d.find(p=>p.top<i&&p.top+p.height>i)||K.getLast(d)}};function Rfe(t,e){if(t&1){let n=Y();it(0),y(1,"i",13),O("click",function(r){R(n);let o=D(2).$implicit,a=D(2);return N(a.onGroupToggleClick(r,o))}),_(),rt()}if(t&2){let n=D(2).$implicit,i=D(2);T(),Ae("disabled",i.shouldDisableGroupToggleButton(n)),P("ngClass",n.group.open?"fa-square-minus":"fa-square-plus")("tp",n.group.open?"Collapse Group":"Expand Group")}}function Nfe(t,e){if(t&1){let n=Y();y(0,"div",9)(1,"i",10),O("click",function(r){R(n);let o=D().$implicit,a=D(2);return N(a.onHeartClick(r,o))}),_(),y(2,"i",11),O("click",function(r){R(n);let o=D().$implicit,a=D(2);return N(a.onBookmarkClick(r,o))}),_(),y(3,"span",12),O("click",function(r){R(n);let o=D().$implicit,a=D(2);return N(a.onLikeClick(r,o))})("contextmenu",function(r){R(n);let o=D().$implicit,a=D(2);return N(a.onDislikeClick(r,o))}),F(4),_(),U(5,Rfe,2,4,"ng-container",0),_()}if(t&2){let n=D().$implicit;T(),P("ngClass",n.heart?"fa-solid active":"fa-regular"),T(),P("ngClass",n.bookmark?"fa-solid active":"fa-regular"),T(2),ce(n.likes),T(),P("ngIf",n.group)}}function Ffe(t,e){if(t&1){let n=Y();y(0,"div",4),O("click",function(){let o=R(n).$implicit,a=D(2);return N(a.onImageClick(o))}),y(1,"div",5)(2,"img",6,7),O("create",function(r){let a=R(n).$implicit,l=D(2);return N(l.onBrickCreate(r,a))})("load",function(){R(n);let r=dr(3);return N(r.style.opacity="1")}),_()(),U(4,Nfe,6,4,"div",8),_()}if(t&2){let n=e.$implicit,i=D(2);J0("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ae("modifying-group",i.stateService.modifyingGroup==null?null:i.stateService.modifyingGroup.includes(n)),P("@leave",void 0),T(2),P("src",n.thumbnailLink,Zn),T(2),P("ngIf",!i.stateService.modifyingGroup)}}function Lfe(t,e){if(t&1){let n=Y();it(0),y(1,"div",1)(2,"div",2),O("create",function(r){R(n);let o=D();return N(o.onMasonryContainerCreate(r))}),U(3,Ffe,5,7,"div",3),_()(),rt()}if(t&2){let n=D();T(3),P("ngForOf",n.stateService.masonryImages)}}var FG=(()=>{let e=class e{constructor(i,r){this.applicationService=i,this.stateService=r,this.bricks={},ra(()=>this.updateLayout()),ra(()=>this.scrollToTarget()),ra(()=>this.updateMasonryTargetReference())}updateLayout(){if(this.masonryContainer){if(this.stateService.masonryImages=this.stateService.filter().filter(p=>p.group?p.group.open?!0:p==p.group.images.filter(v=>v.passesFilter)[0]:!0),this.stateService.masonryImages.length==0)return;let i=Jt.isLargeScreen()?200:150,r=6,o=this.masonryContainer.clientWidth,a=Math.floor(o/i),l=(o-r*(a-1))/a,d=[],f=[];for(let p=0;p<a;p++)d[p]=0,f[p]=p*(l+r);for(let p of this.stateService.masonryImages)p.width!=l&&(p.width=l,p.height=l/p.aspectRatio);for(let p of this.stateService.masonryImages)if(p.group?.open){if(p==p.group.images.filter(v=>v.passesFilter)[0]){let v=[this.getShortestColumnIndex(d)],w=[];for(let E=0;E<a;E++)w.push({top:0,bottom:0});for(let E of p.group.images.filter(C=>C.passesFilter)){let C=[...v],S=Math.min(...v);if(S>0){let V=d[S-1]+E.height*.5;V>w[S].top&&V<w[S].bottom&&C.push(S-1)}let x=Math.max(...v);if(x<a-1){let V=d[x+1]+E.height*.5;V>w[x].top&&V<w[x].bottom&&C.push(x+1)}let k=this.getShortestColumnIndex(d.map((V,G)=>C.includes(G)?V:999999999));K.push(v,k),E.top=d[k],E.left=f[k],d[k]+=E.height+r,w[k].top==0?(w[k].top=E.top,w[k].bottom=E.top+E.height):w[k].bottom+=r+E.height}}}else{let v=this.getShortestColumnIndex(d);p.top=d[v],p.left=f[v],d[v]=d[v]+p.height+r}}}scrollToTarget(){let i=this.stateService.target();if(i){let r=i.group?i.group.images.find(a=>a.passesFilter):i,o=this.bricks[r?.id];if(o&&!Jt.isElementVisible(o)){let a=document.getElementsByClassName("masonry-scroll-container")[0],l=r.top-(a.clientHeight-o.height)/2;a.scrollTo({top:l,behavior:"smooth"})}}}updateMasonryTargetReference(){let i=this.stateService.target();i&&this.stateService.masonryImages&&(this.stateService.masonryImages.includes(i)?this.stateService.masonryTargetReference=i:i.group&&i.group.images.some(r=>this.stateService.masonryImages.includes(r))&&(this.stateService.masonryTargetReference=K.findClosest(i.group.images,i,r=>this.stateService.masonryImages.includes(r))))}getShortestColumnIndex(i){return i.indexOf(Math.min(...i))}onImageClick(i){if(this.stateService.modifyingGroup){let r=this.stateService.target();if(i.group&&r.group&&!r.group.images.includes(i))return;K.toggle(this.stateService.modifyingGroup,i);return}Jt.isLargeScreen()&&i==this.stateService.target()&&this.stateService.fullscreenVisible.set(!0),this.stateService.target.set(i),this.stateService.sidebarVisible=!0}onHeartClick(i,r){Jt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleHeart(r))}onBookmarkClick(i,r){Jt.isLargeScreen()&&(i.stopPropagation(),this.stateService.toggleBookmark(r))}onLikeClick(i,r){Jt.isLargeScreen()&&(i.stopPropagation(),this.stateService.like(r))}onDislikeClick(i,r){Jt.isLargeScreen()&&(i.preventDefault(),this.stateService.dislike(r))}onGroupToggleClick(i,r){Jt.isLargeScreen()&&(i.stopPropagation(),r.group&&(r.group.open=!r.group.open,this.stateService.refreshFilter()))}onBrickCreate(i,r){this.bricks[r.id]=i.nativeElement}onMasonryContainerCreate(i){this.masonryContainer=i.nativeElement,this.updateLayout()}shouldDisableGroupToggleButton(i){return i.group&&i.group.images.filter(r=>r.passesFilter).length<2}onResize(){this.updateLayout()}};e.\u0275fac=function(r){return new(r||e)(L(hn),L(Bi))},e.\u0275cmp=le({type:e,selectors:[["app-masonry"]],hostBindings:function(r,o){r&1&&O("resize",function(){return o.onResize()},!1,$t)},standalone:!0,features:[ue],decls:1,vars:1,consts:[[4,"ngIf"],[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],["class","brick-header",4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"icon-button","fa-solid","active",3,"ngClass","tp","click"]],template:function(r,o){r&1&&U(0,Lfe,4,1,"ng-container",0),r&2&&P("ngIf",!o.applicationService.reduceBandwidth)},dependencies:[fe,pi,Be,Ge,ks,Fc],styles:["[_nghost-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);width:100%;padding:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border);background-color:var(--color-background-secondary)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}"],data:{animation:[_H]}});let t=e;return t})();var EE=(()=>{let e=class e extends jt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Group Editor",buttons:[{text:()=>this.group.name.length>0?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteGroup()}]}}ngOnInit(){this.group||(this.group={name:"",state:0,tags:[]}),this.groupName=this.group.name,this.canDelete=this.stateService.tagGroups.includes(this.group)}deleteGroup(){this.canDelete&&this.dialogService.createConfirmation("Delete Group",['Do you really want to delete tag group "'+this.group.name+'"?'],"Yes","No").then(i=>{if(i){let r=this.group.tags.map(o=>o.id);for(let o of this.stateService.images)K.remove(o.tags,r);K.remove(this.stateService.tagGroups,this.group),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Tt.isEmpty(this.groupName)?!1:this.groupName==this.group.name?!0:this.stateService.tagGroups.find(i=>this.groupName==i.name)==null}submit(){this.canSubmit()&&(this.group.name=this.groupName,this.stateService.tagGroups.includes(this.group)||this.stateService.tagGroups.push(this.group),this.stateService.tagGroups.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.group))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(Bi))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-tag-group-editor"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)},inputs:{group:"group"},standalone:!0,features:[ft,ue],decls:3,vars:1,consts:[[1,"element-label"],[1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(y(0,"span",0),F(1,"Group Name"),_(),y(2,"input",1),Ve("ngModelChange",function(l){return Ue(o.groupName,l)||(o.groupName=l),l}),_()),r&2&&(T(2),Le("ngModel",o.groupName))},dependencies:[fe,ut,Ht,en,Kt],styles:["[_nghost-%COMP%]{flex:1;display:flex;align-items:center;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function Vfe(t,e){if(t&1&&(y(0,"option",7),F(1),_()),t&2){let n=e.$implicit;P("ngValue",n),T(),ce(n.name)}}var LG=(()=>{let e=class e extends jt{constructor(i,r){super(),this.dialogService=i,this.stateService=r,this.configuration={title:"Tag Editor",buttons:[{text:()=>this.group?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Delete",hidden:()=>!this.canDelete,click:()=>this.deleteTag()}]}}ngOnInit(){this.group?(this.currentGroup=this.group,this.canDelete=!0):(this.currentGroup={name:"",state:0,tags:[]},this.canDelete=!1),this.tag||(this.tag={id:ty(),name:"",state:0,lowerCaseName:""}),this.tagName=this.tag.name}editGroup(i){this.dialogService.create(EE,{group:i}).then(r=>{r?this.currentGroup.name=r.name:i&&!this.stateService.tagGroups.includes(i)&&this.resolve(null)})}deleteTag(){this.canDelete&&this.dialogService.createConfirmation("Delete Tag",['Do you really want to delete tag "'+this.tag.name+'"?'],"Yes","No").then(i=>{if(i){for(let r of this.stateService.images)K.remove(r.tags,this.tag.id);K.remove(this.group.tags,this.tag),this.stateService.updateData(),this.resolve(null)}})}canSubmit(){return Tt.isEmpty(this.tagName)?!1:this.tagName==this.tag.name?!0:this.currentGroup?.tags.find(i=>this.tagName==i.name)==null}submit(){this.canSubmit()&&(this.tag.name=this.tagName,this.tag.lowerCaseName=this.tagName.toLowerCase(),this.group&&this.group!=this.currentGroup&&K.remove(this.group.tags,this.tag),this.currentGroup.tags.includes(this.tag)||(this.currentGroup.tags.push(this.tag),this.stateService.tagCounts[this.tag.id]=this.stateService.images.filter(i=>i.tags.includes(this.tag.id)).length),this.currentGroup.tags.sort((i,r)=>i.name.localeCompare(r.name)),this.stateService.updateData(),this.resolve(this.tag))}close(){this.resolve(null)}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(Bi))},e.\u0275cmp=le({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)},inputs:{group:"group",tag:"tag"},standalone:!0,features:[ft,ue],decls:12,vars:5,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex"],["tp","Edit Group",1,"icon-button","fa-solid","fa-edit",3,"click"],["tp","Create Group",1,"icon-button","fa-solid","fa-plus",3,"click"],[3,"ngValue"]],template:function(r,o){r&1&&(y(0,"span",0),F(1,"Group"),_(),y(2,"div",1)(3,"select",2),Ve("ngModelChange",function(l){return Ue(o.currentGroup,l)||(o.currentGroup=l),l}),U(4,Vfe,2,2,"option",3),_(),y(5,"div",4)(6,"i",5),O("click",function(){return o.editGroup(o.currentGroup)}),_(),y(7,"i",6),O("click",function(){return o.editGroup()}),_()()(),y(8,"span",0),F(9,"Name"),_(),y(10,"div",1)(11,"input",2),Ve("ngModelChange",function(l){return Ue(o.tagName,l)||(o.tagName=l),l}),_()()),r&2&&(T(3),Le("ngModel",o.currentGroup),T(),P("ngForOf",o.stateService.tagGroups),T(2),Ae("disabled",!o.currentGroup),T(5),Le("ngModel",o.tagName))},dependencies:[fe,Be,ut,Ps,Os,Ht,io,en,Kt],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{height:2rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();var VG=(()=>{let e=class e extends jt{constructor(i){super(),this.stateService=i,this.configuration={title:"Group Size Filter Editor",buttons:[{text:()=>"Submit",disabled:()=>!this.canSubmit(),click:()=>this.submit()},{text:()=>"Close",click:()=>this.close()}]}}ngOnInit(){this.min=this.stateService.groupSizeFilterMin,this.max=this.stateService.groupSizeFilterMax}canSubmit(){return this.min!=null&&this.max!=null&&this.min<=this.max}submit(){this.canSubmit()&&(this.stateService.groupSizeFilterMin=this.min,this.stateService.groupSizeFilterMax=this.max,this.resolve(!0))}close(){this.resolve(!1)}};e.\u0275fac=function(r){return new(r||e)(L(Bi))},e.\u0275cmp=le({type:e,selectors:[["app-group-size-filter-editor"]],hostBindings:function(r,o){r&1&&O("keydown.enter",function(l){return o.submit(l)},!1,$t)},standalone:!0,features:[ft,ue],decls:6,vars:2,consts:[[1,"element-label"],["min","2","max","999",1,"element",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&(y(0,"span",0),F(1,"Min Group Size"),_(),y(2,"input",1),Ve("ngModelChange",function(l){return Ue(o.min,l)||(o.min=l),l}),_(),y(3,"span",0),F(4,"Max Group Size"),_(),y(5,"input",1),Ve("ngModelChange",function(l){return Ue(o.max,l)||(o.max=l),l}),_()),r&2&&(T(2),Le("ngModel",o.min),T(3),Le("ngModel",o.max))},dependencies:[fe,ut,Ht,en,Kt],styles:["[_nghost-%COMP%]{width:max-content;display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:2rem;box-sizing:border-box}"]});let t=e;return t})();function jfe(t,e){if(t&1){let n=Y();y(0,"img",47),O("create",function(r){let a=R(n).$implicit,l=D(2);return N(l.onGroupPreviewCreate(r,a))})("load",function(){let o=R(n).$implicit,a=D(2);return N(a.onGroupPreviewLoad(o))})("click",function(r){let a=R(n).$implicit,l=D(2);return N(l.onGroupPreviewClick(r,a))})("dblclick",function(r){R(n);let o=D(2);return N(o.onGroupPreviewDoubleClick(r))}),_()}if(t&2){let n=e.$implicit;Zi("aspect-ratio",n.aspectRatio),P("src",n.thumbnailLink,Zn)("draggable",!1)}}function Ufe(t,e){if(t&1){let n=Y();y(0,"i",48),O("click",function(){R(n);let r=D(2);return N(r.stateService.sidebarVisible=!1)}),_()}}function Bfe(t,e){if(t&1){let n=Y();y(0,"i",49),O("click",function(){R(n);let r=D(2);return N(r.stateService.setRandomGroupTarget())}),_()}}function $fe(t,e){if(t&1){let n=Y();y(0,"div",32)(1,"app-switch",51),O("stateChange",function(r){let a=R(n).$implicit,l=D(3);return N(l.onFilterStateChange(a,r))}),_(),y(2,"span",55),O("click",function(r){let a=R(n).$implicit,l=D().$implicit,d=D(2);return N(d.openTagEditor(r,l,a))}),F(3),_(),y(4,"span",35),F(5),_(),y(6,"app-switch",56),O("stateChange",function(){let o=R(n).$implicit,a=D(2).ngVar,l=D();return N(l.stateService.toggleTag(a,o.id))}),_()()}if(t&2){let n=e.$implicit,i=D(2).ngVar,r=D();T(),P("tri",!0)("state",n.state)("tp","Filter: "+n.name),T(2),ce(n.name),T(2),ce(r.stateService.tagCounts[n.id]||0),T(),P("state",i!=null&&i.tags.includes(n.id)?1:-1)("tp","Image: "+n.name)}}function Hfe(t,e){if(t&1){let n=Y();y(0,"div",50),Z(1,"div",40),y(2,"div",32)(3,"app-switch",51),O("stateChange",function(r){let a=R(n).$implicit,l=D(2);return N(l.onFilterStateChange(a,r))}),_(),y(4,"span",52),O("click",function(r){let a=R(n).$implicit,l=D(2);return N(l.openGroupEditor(r,a))}),F(5),_(),Z(6,"app-switch",53),_(),U(7,$fe,7,7,"div",54),_()}if(t&2){let n=e.$implicit;T(3),P("tri",!0)("state",n.state)("tp","Filter: "+n.name),T(2),ce(n.name),T(),P("state",0),T(),P("ngForOf",n.tags)}}function Gfe(t,e){if(t&1){let n=Y();y(0,"div",2)(1,"div",3)(2,"div",4)(3,"img",5),O("click",function(){R(n);let r=D();return N(r.onPreviewClick())}),_()(),y(4,"div",6)(5,"div",7)(6,"div",8),U(7,jfe,1,4,"img",9),_()()(),y(8,"div",10),U(9,Ufe,1,0,"i",11),y(10,"i",12),O("click",function(){R(n);let r=D();return N(r.dialogService.openSettings())}),_()(),y(11,"div",13)(12,"i",14),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleHeart(o))}),_(),y(13,"i",15),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleBookmark(o))}),_(),y(14,"span",16),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.like(o))})("contextmenu",function(r){let a=R(n).ngVar,l=D();return r.preventDefault(),N(l.stateService.dislike(a))}),F(15),_()(),y(16,"div",17)(17,"i",18),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.remove(o,!0))}),_(),y(18,"i",19),O("click",function(){let o=R(n).ngVar,a=D();return N(a.stateService.remove(o,!1))}),_()(),Z(19,"div",20),_(),y(20,"div",21)(21,"div",22)(22,"div",23)(23,"i",24),O("click",function(){R(n);let r=D();return N(r.openGroupSizeFilterDialog())}),_()(),y(24,"div",25),U(25,Bfe,1,0,"i",26),y(26,"i",27),O("click",function(){R(n);let r=D();return N(r.stateService.setRandomTarget())}),_()(),y(27,"div",28)(28,"i",29),O("click",function(){R(n);let r=D();return N(r.openTagEditor())}),_()()(),y(29,"div",30)(30,"div",31)(31,"div",32)(32,"app-switch",33),O("stateChange",function(r){R(n);let o=D();return N(o.onLikesStateChange(r))}),_(),Z(33,"i",34),y(34,"span",35),F(35),_(),y(36,"app-switch",36),O("stateChange",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleHeart(o))}),_()(),y(37,"div",32)(38,"app-switch",37),O("stateChange",function(r){R(n);let o=D();return N(o.onBookmarksStateChange(r))}),_(),Z(39,"i",38),y(40,"span",35),F(41),_(),y(42,"app-switch",39),O("stateChange",function(){let o=R(n).ngVar,a=D();return N(a.stateService.toggleBookmark(o))}),_()(),Z(43,"div",40),y(44,"div",41)(45,"div",42),Z(46,"input",43),y(47,"input",44),O("input",function(r){R(n);let o=D();return N(o.onTagInput(r))})("keypress",function(r){R(n);let o=D();return N(o.onTagInputSubmit(r))}),_()(),y(48,"i",45),O("click",function(){R(n);let r=D();return N(r.onTagInputSubmit())}),_()(),U(49,Hfe,8,6,"div",46),_()()()()}if(t&2){let n=e.ngVar,i=D();T(3),P("src",n==null?null:n.thumbnailLink,Zn),T(),Ae("display-none",!i.isGroupPreviewContainerVisible(n)),T(3),P("ngForOf",i.getGroupPreviewImages(n)),T(2),P("ngIf",!i.applicationService.reduceBandwidth),T(3),P("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),T(),P("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),T(2),ce(n==null?null:n.likes),T(10),P("ngIf",n==null?null:n.group),T(7),P("tri",!0)("state",i.stateService.heartsFilter),T(3),ce(" ("+(i.stateService.tagCounts._heart||0)+")"),T(),P("state",n!=null&&n.heart?1:-1),T(2),P("tri",!0)("state",i.stateService.bookmarksFilter),T(3),ce(" ("+(i.stateService.tagCounts._bookmark||0)+")"),T(),P("state",n!=null&&n.bookmark?1:-1),T(4),P("placeholder",(i.tagMatch==null?null:i.tagMatch.name)||((i.tagInputQuery==null?null:i.tagInputQuery.length)>0?"":"Tag Search")),T(2),Ae("disabled",!i.tagMatch),T(),P("ngForOf",i.stateService.tagGroups)}}var jG=(()=>{let e=class e{constructor(i,r,o){this.applicationService=i,this.stateService=r,this.dialogService=o,this.groupPreviews={},this.sidebarGroupPreviewsLoaded=0;let a;ra(l=>{l(()=>a=d),this.sidebarGroupPreviewsLoaded=0;let d=this.stateService.target();d?.group&&a&&d.group.images.includes(a)&&this.moveTargetGroupPreviewIntoView(!0)})}ngAfterViewInit(){this.setupTagListMouseDragEvents(),this.setupGroupPreviewMouseDragEvents()}setupTagListMouseDragEvents(){if(Jt.isLargeScreen()){let i,r,o=document.getElementsByClassName("taglist-scrollbar-container")[0];o.addEventListener("mousemove",a=>{if(r){a.preventDefault();let d=(a.pageY-o.offsetTop-this.tagListClickY)*2;o.scrollTop=i-d}}),window.addEventListener("mousedown",a=>{r=!0,i=o.scrollTop,this.tagListClickY=a.pageY-o.offsetTop}),window.addEventListener("mouseup",()=>{r=!1})}}setupGroupPreviewMouseDragEvents(){if(Jt.isLargeScreen()){let i,r,o=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0],a=()=>{o.classList.remove("mouse-down"),this.moveTargetGroupPreviewIntoView(!0)};o.addEventListener("mouseleave",()=>{r||a()});let l=d=>{d.preventDefault();let p=d.pageX+o.offsetLeft-this.groupPreviewClickX;o.scrollLeft=i-p};o.addEventListener("mousedown",d=>{r=!0,o.classList.add("mouse-down"),i=o.scrollLeft,this.groupPreviewContainerOffsetLeft=o.offsetLeft,this.groupPreviewClickX=d.pageX+o.offsetLeft,window.addEventListener("mousemove",l)}),window.addEventListener("mouseup",d=>{r=!1,window.removeEventListener("mousemove",l),document.elementsFromPoint(d.x,d.y).includes(o)||a()})}}onGroupPreviewCreate(i,r){this.groupPreviews[r.id]=i.nativeElement}onGroupPreviewLoad(i){this.sidebarGroupPreviewsLoaded++,this.sidebarGroupPreviewsLoaded==i.group.images.filter(r=>r.passesFilter).length&&this.moveTargetGroupPreviewIntoView(!1)}moveTargetGroupPreviewIntoView(i){let r=this.stateService.target();if(r){let o=this.groupPreviews[r.id],a=document.getElementsByClassName("sidebar-preview-group-scroll-container")[0];if(o&&!a.classList.contains("hovering")&&!Jt.isElementVisible(o,a)){let l=o.offsetLeft-(a.clientWidth-o.clientWidth)/2;a.scrollTo({left:l,behavior:i?"smooth":"auto"})}}}isGroupPreviewContainerVisible(i){return this.getGroupPreviewImages(i)?.length>1}getGroupPreviewImages(i){return i?.group?.images}openTagEditor(i,r,o){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Jt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(LG,{group:r,tag:o})}openGroupEditor(i,r){(!i||!this.tagListClickY||Math.abs(i.pageY-this.tagListClickY-36)<Jt.MOUSE_MOVEMENT_TOLERANCE)&&this.dialogService.create(EE,{group:r})}openGroupSizeFilterDialog(){this.dialogService.create(VG).then(i=>{i&&(this.stateService.refreshFilter(),this.stateService.updateData())})}onFilterStateChange(i,r){i.state=r.state,this.stateService.refreshFilter(),this.stateService.updateData()}onLikesStateChange(i){this.stateService.heartsFilter=i.state,this.stateService.refreshFilter(),this.stateService.updateData()}onBookmarksStateChange(i){this.stateService.bookmarksFilter=i.state,this.stateService.refreshFilter(),this.stateService.updateData()}onPreviewClick(){this.stateService.fullscreenVisible.set(!0)}onGroupPreviewClick(i,r){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Jt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.target.set(r)}onGroupPreviewDoubleClick(i){Math.abs(i.pageX+this.groupPreviewContainerOffsetLeft-this.groupPreviewClickX)<Jt.MOUSE_MOVEMENT_TOLERANCE&&this.stateService.fullscreenVisible.set(!0)}onTagInput(i){let r=i.target.value.toLowerCase();if(r.length>0){for(let o of this.stateService.tagGroups)for(let a of o.tags)if(a.lowerCaseName.startsWith(r)){this.tagMatch=a,this.tagInputQuery=a.name.substring(0,r.length),i.target.value=this.tagInputQuery;return}}this.tagMatch=null}onTagInputSubmit(i){(!i||i.key==="Enter")&&this.tagMatch&&(this.stateService.addTag(this.stateService.target(),this.tagMatch.id),this.tagMatch=null,this.tagInputQuery="")}};e.\u0275fac=function(r){return new(r||e)(L(hn),L(Bi),L(Zt))},e.\u0275cmp=le({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[ue],decls:2,vars:3,consts:[[1,"sidebar-visibility-container"],["class","sidebar-content",4,"ngVar"],[1,"sidebar-content"],[1,"sidebar-half","sidebar-half-top"],[1,"sidebar-preview-container"],[1,"sidebar-preview",3,"src","click"],[1,"sidebar-preview-group-container"],[1,"sidebar-preview-group-scroll-container"],[1,"sidebar-preview-group-border-container"],["class","sidebar-preview-group-image",3,"aspect-ratio","src","draggable","create","load","click","dblclick",4,"ngFor","ngForOf"],[1,"absolute","top","left"],["class","icon-button fa-solid fa-arrow-left desktop-display-none",3,"click",4,"ngIf"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],[1,"absolute","top","right"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],["tp","Like",1,"icon-button",3,"click","contextmenu"],[1,"absolute","bottom","left"],["tp","Archive",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Trash",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"absolute","bottom","right"],[1,"sidebar-half",2,"position","relative"],[1,"sidebar-filter-header"],[1,"flex",2,"justify-content","start"],["tp","Group Size Filter Configuration",1,"icon-button","fa-solid","fa-hashtag",3,"click"],[1,"flex",2,"justify-content","center"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Group Target",3,"click",4,"ngIf"],["tp","Random Target",1,"icon-button","fa-solid","fa-shuffle",3,"click"],[1,"flex",2,"justify-content","end"],["tp","Tag Editor",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"taglist-scrollbar-container"],[1,"sidebar-filter-list"],[1,"sidebar-item"],["tp","Filter: Heart",3,"tri","state","stateChange"],[1,"fa-solid","fa-heart"],[1,"sidebar-item-label"],["tp","Image: Heart",3,"state","stateChange"],["tp","Filter: Bookmark",3,"tri","state","stateChange"],[1,"fa-solid","fa-bookmark"],["tp","Image: Bookmark",3,"state","stateChange"],[1,"h-separator"],[2,"display","flex","position","relative"],[2,"width","100%"],[2,"position","absolute","width","100%","border","0","user-select","none","pointer-events","none",3,"placeholder"],[2,"position","relative","width","100%","border","0",3,"input","keypress"],["tp","Add Tag",1,"icon-button","fa-solid","fa-plus",3,"click"],["class","sidebar-group",4,"ngFor","ngForOf"],[1,"sidebar-preview-group-image",3,"src","draggable","create","load","click","dblclick"],[1,"icon-button","fa-solid","fa-arrow-left","desktop-display-none",3,"click"],["tp","Random Group Target",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"sidebar-group"],[3,"tri","state","tp","stateChange"],[1,"sidebar-group-header","sidebar-item-label",3,"click"],[2,"visibility","hidden",3,"state"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item-label",3,"click"],[3,"state","tp","stateChange"]],template:function(r,o){r&1&&(y(0,"div",0),U(1,Gfe,50,21,"div",1),_()),r&2&&(Ae("visible",o.stateService.sidebarVisible),T(),P("ngVar",o.stateService.target()))},dependencies:[fe,pi,Be,Ge,ut,uE,ks,Of,Fc],styles:[".sidebar-visibility-container[_ngcontent-%COMP%]{height:100%;display:flex;z-index:10}@media screen and (min-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){display:none}}@media screen and (max-width: 768px){.sidebar-visibility-container[_ngcontent-%COMP%]{width:100%;position:absolute;transition:.5s}.sidebar-visibility-container[_ngcontent-%COMP%]:not(.visible){position:absolute;opacity:0;visibility:hidden;pointer-events:none}}.sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:300px;min-width:300px}}@media screen and (max-width: 768px){.sidebar-content[_ngcontent-%COMP%]{width:100%;min-width:initial;background-color:#000000e6;transition:.5s}}.sidebar-half[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;flex:1;min-height:0}.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{position:relative;margin:.3333333333rem}@media screen and (min-width: 768px){.sidebar-half.sidebar-half-top[_ngcontent-%COMP%]{gap:0}}.sidebar-preview-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:0;flex:1}.sidebar-preview[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem;object-fit:contain}.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;min-height:110px;margin:.3333333333rem -.3333333333rem 0}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]{overflow:hidden;min-height:calc(110px + .6666666666rem);margin:0 -.3333333333rem -.3333333333rem}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;box-sizing:border-box;border-radius:.5rem;max-width:100vw}@media screen and (min-width: 768px){.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container[_ngcontent-%COMP%]{overflow:hidden}}.sidebar-preview-group-container[_ngcontent-%COMP%]   .sidebar-preview-group-scroll-container.mouse-down[_ngcontent-%COMP%]{position:absolute;z-index:21;padding-left:calc(100vw - 300px);right:-.3333333333rem;bottom:-.3333333333rem}.sidebar-preview-group-border-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;padding:0 .3333333333rem}@media screen and (min-width: 768px){.sidebar-preview-group-border-container[_ngcontent-%COMP%]{background-color:var(--color-background-primary);padding:.3333333333rem;border-radius:.5rem}}.sidebar-preview-group-image[_ngcontent-%COMP%]{height:110px;border-radius:.3333333333rem}.sidebar-preset-filters[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.sidebar-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.1666666667rem}.sidebar-item[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:auto 1fr max-content auto;align-items:center;gap:.3333333333rem;border-radius:.6666666666rem}.sidebar-item[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--color-background-secondary)}.sidebar-item[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.sidebar-group-header[_ngcontent-%COMP%]{font-size:18px;text-decoration:underline;text-align:center}.sidebar-item-label[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:text}.sidebar-filter-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.3333333333rem;padding:0 .3333333333rem}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fill-available;height:2rem;padding:0 .3333333333rem;border-radius:.3333333333rem;box-sizing:border-box;border:0}.sidebar-filter-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:initial}.taglist-scrollbar-container[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:.3333333333rem}.taglist-scrollbar-container[_ngcontent-%COMP%]   .sidebar-filter-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1666666667rem;font-size:16px}"]});let t=e;return t})();var UG=(()=>{let e=class e{constructor(i,r,o){this.dialogService=i,this.applicationService=r,this.stateService=o,this.applicationService.loading.next(!0)}ngOnInit(){this.stateService.processData().then(i=>I(this,null,function*(){i.settings||(this.stateService.settings={},yield this.dialogService.openSettings()),this.stateService.processImages(i)}))}initKeybinds(i){if(["BODY","VIDEO"].includes(document.activeElement.nodeName)){let r=this.stateService.target();switch(i.code){case"KeyF":this.stateService.fullscreenVisible.update(o=>!o);break;case"KeyR":this.stateService.setRandomTarget();break;case"KeyG":this.stateService.setRandomGroupTarget();break;case"KeyW":case"ArrowUp":this.stateService.target.set(ju.getNearestImageUp(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyA":case"ArrowLeft":i.shiftKey?this.stateService.target.set(K.getPrevious(r.group.images,r,!0)):this.stateService.target.set(ju.getNearestImageLeft(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyS":case"ArrowDown":this.stateService.target.set(ju.getNearestImageDown(this.stateService.masonryImages,this.stateService.masonryTargetReference));break;case"KeyD":case"ArrowRight":i.shiftKey?this.stateService.target.set(K.getNext(r.group.images,r,!0)):this.stateService.target.set(ju.getNearestImageRight(this.stateService.masonryImages,this.stateService.masonryTargetReference));break}}}};e.\u0275fac=function(r){return new(r||e)(L(Zt),L(hn),L(Bi))},e.\u0275cmp=le({type:e,selectors:[["app-gallery"]],hostBindings:function(r,o){r&1&&O("keydown",function(l){return o.initKeybinds(l)},!1,MV)},standalone:!0,features:[ue],decls:4,vars:2,consts:[[1,"content-container"]],template:function(r,o){r&1&&(y(0,"div",0),Z(1,"app-masonry")(2,"app-fullscreen"),_(),Z(3,"app-sidebar")),r&2&&(T(),P("@enter",void 0),T(2),P("@enter",void 0))},dependencies:[fe,FG,NG,jG],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative}@media screen and (min-width: 768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute;height:100%}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .content-container[_ngcontent-%COMP%]{position:relative}}"],data:{animation:[yH]}});let t=e;return t})();var BG=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=Bo.from(this.limbs,this.limb),[this.color,this.backgroundColor]=Bo.from(this.colors)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-twister"]],standalone:!0,features:[ue],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(r,o){r&1&&(y(0,"div",0),O("click",function(){return o.spin()}),y(1,"span"),F(2),_()()),r&2&&(Zi("background-color",o.backgroundColor),T(2),Sr("",o.limb," ",o.color,""))},dependencies:[fe],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function zfe(t,e){if(t&1){let n=Y();it(0),y(1,"span",1),O("click",function(){R(n);let r=D();return N(r.navigate("gallery"))}),F(2,"Gallery"),_(),y(3,"span",1),O("click",function(){R(n);let r=D();return N(r.navigate("adventure"))}),F(4,"CYOA"),_(),y(5,"span",1),O("click",function(){R(n);let r=D();return N(r.navigate("tournament"))}),F(6,"Tournament"),_(),rt()}}var $G=(()=>{let e=class e{constructor(i,r){this.router=i,this.applicationService=r,this.dev=0}ngOnInit(){}navigate(i){sessionStorage.setItem("appId",i),this.router.navigate([i])}};e.\u0275fac=function(r){return new(r||e)(L(Dn),L(hn))},e.\u0275cmp=le({type:e,selectors:[["app-landing"]],standalone:!0,features:[ue],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"span",1),O("click",function(){return o.navigate("event/2024-splav")}),F(2,"Splav 2024"),_(),y(3,"span",1),O("click",function(){return o.navigate("games/activity")}),F(4,"Activity"),_(),y(5,"span",1),O("click",function(){return o.navigate("games/twister")}),F(6,"Twister"),_(),U(7,zfe,7,0,"ng-container",2),_(),Z(8,"div",3),y(9,"div",0)(10,"i",4),O("click",function(){return o.applicationService.toggleTheme()}),_()(),y(11,"div",5),O("click",function(){return o.dev=o.dev+1}),_()),r&2&&(T(7),P("ngIf",o.dev>4),T(3),P("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[fe,pi,Ge],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var HG="https://mazacik.github.io",_k={production:!0,baseUrl:HG,redirectUrl:HG+"/login"};var Ff=(()=>{let e=class e{constructor(i){this.http=i,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let a="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+_k.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=a}requestTokens(i){return I(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:i,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:_k.redirectUrl,plugin_name:"TagalleryWeb"};yield W_(this.http.post(r,o)).then(a=>{a&&(this.accessToken=a.access_token,this.refreshToken=a.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(a=>a)})}requestAccessToken(){return I(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",r={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield W_(this.http.post(i,r)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(r){return new(r||e)(ae(Rl))},e.\u0275prov=ne({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GG=(()=>{let e=class e{constructor(i,r,o){this.route=i,this.router=r,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(i=>{let r=i.code;r&&this.authenticationService.requestTokens(r).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(r){return new(r||e)(L(ir),L(Dn),L(Ff))},e.\u0275cmp=le({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(r,o){r&1&&(y(0,"div",0),O("click",function(){return o.signIn()}),Z(1,"img",1),y(2,"span",2),F(3,"Sign in with Google"),_()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var IE=(t,e)=>I(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=ee(Dn),i=ee(Ff);if(i.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),i.getRefreshToken()){if(console.log("guard: has refresh token"),yield i.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var zG=(t,e)=>{let n=ee(Dn),i=sessionStorage.getItem("dataFileId");return Tt.isEmpty(i)?n.createUrlTree(["/folder-picker"]):!0};var WG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return ee(Dn).createUrlTree(["/messenger-browser"]);return!0};var qG=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return ee(Dn).createUrlTree([""])};var KG=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(r,o){r&2&&Ml("@crossfade",o.crossfade)},standalone:!0,features:[ue],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(r,o){r&1&&(y(0,"span",0),F(1),_(),y(2,"span"),F(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),_(),y(4,"span"),F(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),_(),Z(6,"img",1)),r&2&&(T(),ce(o.userAgent))},dependencies:[fe,ut],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[cE]}});let t=e;return t})();function qfe(t,e){if(t&1){let n=Y();y(0,"span",4),O("click",function(){R(n);let r=D();return N(r.parseText())}),F(1,"Parse"),_()}}function Kfe(t,e){if(t&1){let n=Y();y(0,"div",6)(1,"span",4),O("click",function(){R(n);let r=D(2);return N(r.onEntryClick(r.tournament.comparison[0],r.tournament.comparison[1]))}),F(2),_(),y(3,"span",4),O("click",function(){R(n);let r=D(2);return N(r.onEntryClick(r.tournament.comparison[1],r.tournament.comparison[0]))}),F(4),_()()}if(t&2){let n=D(2);T(2),ce(n.tournament.comparison[0]),T(2),ce(n.tournament.comparison[1])}}function Yfe(t,e){if(t&1&&(it(0),U(1,Kfe,5,2,"div",5),rt()),t&2){let n=D();T(),P("ngIf",n.tournament.comparison)}}var YG=(()=>{let e=class e{constructor(){this.text=`01
02
03
04
05
06
07
08
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(i=>i?.length>0),this.tournament=new xf(this.entries,i=>i),this.text=""}onEntryClick(i,r){this.tournament.addComparisonResult(i,r),this.text=this.tournament.outcome.join(`
`)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-tournament"]],standalone:!0,features:[ue],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(r,o){r&1&&(y(0,"div",0)(1,"textarea",1),Ve("ngModelChange",function(l){return Ue(o.text,l)||(o.text=l),l}),_(),U(2,qfe,2,0,"span",2),_(),U(3,Yfe,2,1,"ng-container",3)),r&2&&(T(),P("placeholder",o.tournament?"Leaderboard":"Entries"),Le("ngModel",o.text),P("readOnly",o.tournament),T(),P("ngIf",!o.tournament),T(),P("ngIf",o.tournament))},dependencies:[fe,Ge,ut,Ht,en,Kt],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();function Qfe(t,e){if(t&1){let n=Y();y(0,"div",5)(1,"div",6)(2,"span"),F(3,"po\u010Det t\xEDmov"),_(),y(4,"input",7,8),O("input",function(){R(n);let r=dr(5),o=D();return N(o.onTeamCountChange(r))}),_()(),y(6,"div",6)(7,"span"),F(8,"trvanie kola"),_(),y(9,"input",7,9),O("input",function(){R(n);let r=dr(10),o=D();return N(o.onRoundDurationChange(r))}),_()(),y(11,"span",10),O("click",function(){R(n);let r=D();return N(r.settingsDone())}),F(12,"\u0161tart"),_()()}if(t&2){let n=D();T(4),P("value",4),T(5),P("value",60),T(2),Ae("disabled",!n.validateSettings())}}function Xfe(t,e){t&1&&(y(0,"span"),F(1,"pre v\u0161etk\xFDch"),_())}function Jfe(t,e){if(t&1){let n=Y();y(0,"div",11),U(1,Xfe,2,0,"span",12),y(2,"span"),F(3),_(),y(4,"span"),F(5),_(),y(6,"span",10),O("click",function(){R(n);let r=D();return N(r.startRound())}),F(7,"\u0161tart"),_()()}if(t&2){let n=D();T(),P("ngIf",n.isCurrentRoundForEveryone()),T(2),ce(n.getCurrentDiscipline()),T(2),ce(n.availablePhrases[0])}}function Zfe(t,e){if(t&1){let n=Y();y(0,"span",10),O("click",function(){R(n);let r=D(2);return N(r.endRoundEarly())}),F(1,"hotovo"),_()}}function epe(t,e){if(t&1&&(y(0,"div",13)(1,"span"),F(2),_(),U(3,Zfe,2,0,"span",14),_()),t&2){let n=D();T(2),ce(n.timeLeft),T(),P("ngIf",n.showEndRoundEarlyButton)}}function tpe(t,e){t&1&&(y(0,"span"),F(1,"pre v\u0161etk\xFDch"),_())}function npe(t,e){if(t&1){let n=Y();y(0,"input",18,19),O("input",function(){R(n);let r=dr(1),o=D(2);return N(o.onForEveryoneWinnerChange(r))}),_()}}function ipe(t,e){if(t&1){let n=Y();y(0,"div",15),U(1,tpe,2,0,"span",12),y(2,"span"),F(3),_(),y(4,"span"),F(5),_(),y(6,"div",16),U(7,npe,2,0,"input",17),y(8,"span",10),O("click",function(){R(n);let r=D();return N(r.roundOver(!0))}),F(9,"uh\xE1dli"),_()(),y(10,"span",10),O("click",function(){R(n);let r=D();return N(r.roundOver(!1))}),F(11,"neuh\xE1dli"),_()()}if(t&2){let n=D();T(),P("ngIf",n.isCurrentRoundForEveryone()),T(2),ce(n.getCurrentDiscipline()),T(2),ce(n.availablePhrases[0]),T(),Zi("gap","2rem"),T(),P("ngIf",n.isCurrentRoundForEveryone()),T(),Zi("width",100,"%"),Ae("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function rpe(t,e){if(t&1&&(y(0,"span"),F(1),_()),t&2){let n=e.$implicit,i=e.index;T(),Sr("",i+1,". t\xEDm: ",n.wins,"")}}function ope(t,e){if(t&1){let n=Y();y(0,"div",20)(1,"span"),F(2,"sk\xF3re"),_(),U(3,rpe,2,2,"span",21),y(4,"span",10),O("click",function(){R(n);let r=D();return N(r.currentView="instructions")}),F(5,"\u010Fa\u013E\u0161ie kolo"),_()()}if(t&2){let n=D();T(3),P("ngForOf",n.teams)}}var QG=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(i){let r=Number.parseInt(i.value);r>=2?(this.teamCount=r,this.teamCountValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,i.style.borderColor="red")}onRoundDurationChange(i){let r=Number.parseInt(i.value);r>0?(this.roundDuration=r,this.roundDurationValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,i.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=K.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let i=Math.floor(this.phrases.length/3);for(let o=0;o<i;o++)this.teams.forEach(a=>K.push(a.roundDisciplines,K.shuffle(["hovorenie","kreslenie","ukazovanie"])));let r=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<r;o++)this.teams.forEach(a=>a.roundsForEveryone.push(Math.floor(Bo.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let i=this.teams[this.currentTeamIndex];return i.roundDisciplines[i.wins]}isCurrentRoundForEveryone(){let i=this.teams[this.currentTeamIndex];return i.roundsForEveryone.includes(i.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(i){let r=Number.parseInt(i.value);r>0&&r<=this.teams.length?(this.forEveryoneWinnerTeamIndex=r-1,this.forEveryoneWinnerTeamIndexValid=!0,i.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,i.style.borderColor="red")}roundOver(i){this.availablePhrases.shift(),i&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=le({type:e,selectors:[["app-activity"]],standalone:!0,features:[ue],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(r,o){r&1&&U(0,Qfe,13,4,"div",0)(1,Jfe,8,3,"div",1)(2,epe,4,2,"div",2)(3,ipe,12,10,"div",3)(4,ope,6,1,"div",4),r&2&&(P("ngIf",o.currentView=="settings"),T(),P("ngIf",o.currentView=="instructions"),T(),P("ngIf",o.currentView=="countdown"),T(),P("ngIf",o.currentView=="result"),T(),P("ngIf",o.currentView=="score"))},dependencies:[fe,Be,Ge,ut],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var XG=[{path:"messenger-browser",canActivate:[qG],component:KG},{path:"login",component:GG},{path:"adventure",canActivate:[IE],component:oG},{path:"folder-picker",canActivate:[IE],component:RG},{path:"gallery",canActivate:[IE,zG],component:UG},{path:"tournament",component:YG},{path:"event/:id",component:MG,children:[{path:"hlasovanie/vysledky",component:OG},{path:"hlasovanie",canActivate:[WG],component:kG},{path:"prihlaska",component:SG},{path:"pravidla",component:PG},{path:"**",redirectTo:"hlasovanie"}]},{path:"home",component:$G},{path:"games",children:[{path:"activity",component:QG},{path:"twister",component:BG},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var JG=(t,e)=>{let n=ee(Ff);return e(ZG(n,t)).pipe(Xo(i=>spe(n,i,t,e)))},ZG=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e,spe=(t,e,n,i)=>I(void 0,null,function*(){if(!e.url.includes("accounts.google.com")&&(yield t.requestAccessToken()))return i(ZG(t,n))});l9(DH,{providers:[$9(),E$(XG,I$({paramsInheritanceStrategy:"always"})),lU(dU(),uU([JG])),sm(jU(()=>UU({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),sm(X5(()=>t9())),sm(HB(()=>GB())),vH({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,6]}}})]}).catch(t=>console.error(t));
