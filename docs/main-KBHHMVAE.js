var iP=Object.defineProperty,oP=Object.defineProperties;var sP=Object.getOwnPropertyDescriptors;var ou=Object.getOwnPropertySymbols,aP=Object.getPrototypeOf,S0=Object.prototype.hasOwnProperty,A0=Object.prototype.propertyIsEnumerable,cP=Reflect.get;var D0=(t,e,n)=>e in t?iP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})S0.call(e,n)&&D0(t,n,e[n]);if(ou)for(var n of ou(e))A0.call(e,n)&&D0(t,n,e[n]);return t},Ae=(t,e)=>oP(t,sP(e));var rp=(t,e)=>{var n={};for(var r in t)S0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ou)for(var r of ou(t))e.indexOf(r)<0&&A0.call(t,r)&&(n[r]=t[r]);return n};var vi=(t,e,n)=>cP(aP(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function lP(t,e){return Object.is(t,e)}var Ct=null,$a=!1,su=1,yi=Symbol("SIGNAL");function xe(t){let e=Ct;return Ct=t,e}function uP(){return $a}var au={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M0(t){if($a)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(_s(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&Ha(Ct)){let n=Ct.producerNode[e];lu(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=Ha(Ct)?R0(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function dP(){su++}function hP(t){if(!(Ha(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===su)){if(!t.producerMustRecompute(t)&&!cu(t)){t.dirty=!1,t.lastCleanEpoch=su;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=su}}function x0(t){if(t.liveConsumerNode===void 0)return;let e=$a;$a=!0;try{for(let n of t.liveConsumerNode)n.dirty||O0(n)}finally{$a=e}}function P0(){return Ct?.consumerAllowSignalWrites!==!1}function O0(t){t.dirty=!0,x0(t),t.consumerMarkedDirty?.(t)}function op(t){return t&&(t.nextProducerIndex=0),xe(t)}function sp(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ha(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)lu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function cu(t){_s(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(hP(n),r!==n.version))return!0}return!1}function ap(t){if(_s(t),Ha(t))for(let e=0;e<t.producerNode.length;e++)lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function R0(t,e,n){if(N0(t),_s(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=R0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function lu(t,e){if(N0(t),_s(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)lu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_s(i),i.producerIndexOfThis[r]=e}}function Ha(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function N0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fP(){throw new Error}var k0=fP;function F0(){k0()}function V0(t){k0=t}var pP=null;function L0(t){let e=Object.create(U0);e.value=t;let n=()=>(M0(e),e.value);return n[yi]=e,n}function cp(t,e){P0()||F0(),t.equal(t.value,e)||(t.value=e,mP(t))}function j0(t,e){P0()||F0(),cp(t,e(t.value))}var U0=Ae(R({},au),{equal:lP,value:void 0});function mP(t){t.version++,dP(),x0(t),pP?.()}function B0(t,e,n){let r=Object.create(gP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(ap(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=ip)}let a=()=>{if(r.fn===null)return;if(uP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!cu(r))return;r.hasRun=!0;let c=op(r);try{r.cleanupFn(),r.cleanupFn=ip,r.fn(i)}finally{sp(r,c)}};return r.ref={notify:()=>O0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[yi]:r},r.ref}var ip=()=>{},gP=Ae(R({},au),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ip});function Z(t){return typeof t=="function"}function ws(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var uu=ws(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$0(o)}catch(s){e=e??[],s instanceof uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){let{_finalizers:n}=this;n&&uo(n,e),e instanceof t&&e._removeParent(this)}};rt.EMPTY=(()=>{let t=new rt;return t.closed=!0,t})();var lp=rt.EMPTY;function du(t){return t instanceof rt||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function $0(t){Z(t)?t():t.unsubscribe()}var Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Es={setTimeout(t,e,...n){let{delegate:r}=Es;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Es;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){Es.setTimeout(()=>{let{onUnhandledError:e}=Gn;if(e)e(t);else throw t})}function za(){}var H0=up("C",void 0,void 0);function z0(t){return up("E",void 0,t)}function G0(t){return up("N",t,void 0)}function up(t,e,n){return{kind:t,value:e,error:n}}var ho=null;function Is(t){if(Gn.useDeprecatedSynchronousErrorHandling){let e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ho;if(ho=null,n)throw r}}else t()}function q0(t){Gn.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}var fo=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=_P}static create(e,n,r){return new _i(e,n,r)}next(e){this.isStopped?hp(G0(e),this):this._next(e)}error(e){this.isStopped?hp(z0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hp(H0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vP=Function.prototype.bind;function dp(t,e){return vP.call(t,e)}var fp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},_i=class extends fo{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dp(e.next,o),error:e.error&&dp(e.error,o),complete:e.complete&&dp(e.complete,o)}):i=e}this.destination=new fp(i)}};function fu(t){Gn.useDeprecatedSynchronousErrorHandling?q0(t):hu(t)}function yP(t){throw t}function hp(t,e){let{onStoppedNotification:n}=Gn;n&&Es.setTimeout(()=>n(t,e))}var _P={closed:!0,next:za,error:yP,complete:za};var Cs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function pp(...t){return mp(t)}function mp(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=EP(n)?n:new _i(n,r,i);return Is(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=W0(r),new r((i,o)=>{let s=new _i({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Cs](){return this}pipe(...n){return mp(n)(this)}toPromise(n){return n=W0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function W0(t){var e;return(e=t??Gn.Promise)!==null&&e!==void 0?e:Promise}function wP(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function EP(t){return t&&t instanceof fo||wP(t)&&du(t)}function gp(t){return Z(t?.lift)}function we(t){return e=>{if(gp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(t,e,n,r,i){return new vp(t,e,n,r,i)}var vp=class extends fo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bs(){return we((t,e)=>{let n=null;t._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ts=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let n=this.getSubject();e.add(this.source.subscribe(ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return bs()(this)}};var K0=ws(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Nt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new K0}next(n){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Is(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lp:(this.currentObservers=null,o.push(n),new rt(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new pu(e,n),t})(),pu=class extends Nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lp}};var kt=class extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yp={now(){return(yp.delegate||Date).now()},delegate:void 0};var mu=class extends rt{constructor(e,n){super()}schedule(e,n=0){return this}};var Ga={setInterval(t,e,...n){let{delegate:r}=Ga;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ga;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ds=class extends mu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ga.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ga.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ss=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ss.now=yp.now;var As=class extends Ss{constructor(e,n=Ss.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ms=new As(Ds),_p=Ms;var gu=class extends Ds{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vu=class extends As{};var wp=new vu(gu);var hn=new se(t=>t.complete());function yu(t){return t&&Z(t.schedule)}function Ep(t){return t[t.length-1]}function _u(t){return Z(Ep(t))?t.pop():void 0}function hr(t){return yu(Ep(t))?t.pop():void 0}function Q0(t,e){return typeof Ep(t)=="number"?t.pop():e}function Ip(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function X0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Y0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function po(t){return this instanceof po?(this.v=t,this):new po(t)}function J0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(v,E){o.push([h,f,v,E])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof po?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Y0=="function"?Y0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var xs=t=>t&&typeof t.length=="number"&&typeof t!="function";function wu(t){return Z(t?.then)}function Eu(t){return Z(t[Cs])}function Iu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bu=IP();function Tu(t){return Z(t?.[bu])}function Du(t){return J0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield po(n.read());if(i)return yield po(void 0);yield yield po(r)}}finally{n.releaseLock()}})}function Su(t){return Z(t?.getReader)}function Ue(t){if(t instanceof se)return t;if(t!=null){if(Eu(t))return CP(t);if(xs(t))return bP(t);if(wu(t))return TP(t);if(Iu(t))return eE(t);if(Tu(t))return DP(t);if(Su(t))return SP(t)}throw Cu(t)}function CP(t){return new se(e=>{let n=t[Cs]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function DP(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eE(t){return new se(e=>{AP(t,e).catch(n=>e.error(n))})}function SP(t){return eE(Du(t))}function AP(t,e){var n,r,i,o;return X0(this,void 0,void 0,function*(){try{for(n=Z0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function fn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function wi(t,e=0){return we((n,r)=>{n.subscribe(ve(r,i=>fn(r,t,()=>r.next(i),e),()=>fn(r,t,()=>r.complete(),e),i=>fn(r,t,()=>r.error(i),e)))})}function Ei(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tE(t,e){return Ue(t).pipe(Ei(e),wi(e))}function nE(t,e){return Ue(t).pipe(Ei(e),wi(e))}function rE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function iE(t,e){return new se(n=>{let r;return fn(n,e,()=>{r=t[bu](),fn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Au(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{fn(n,e,()=>{let r=t[Symbol.asyncIterator]();fn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function oE(t,e){return Au(Du(t),e)}function sE(t,e){if(t!=null){if(Eu(t))return tE(t,e);if(xs(t))return rE(t,e);if(wu(t))return nE(t,e);if(Iu(t))return Au(t,e);if(Tu(t))return iE(t,e);if(Su(t))return oE(t,e)}throw Cu(t)}function Le(t,e){return e?sE(t,e):Ue(t)}function ae(...t){let e=hr(t);return Le(t,e)}function Ii(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Cp(t){return!!t&&(t instanceof se||Z(t.lift)&&Z(t.subscribe))}var En=ws(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function pn(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new En)}})})}function Mu(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new _i({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new En)}});t.subscribe(o)})}function aE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ve(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:MP}=Array;function xP(t,e){return MP(e)?t(...e):t(e)}function Ps(t){return ie(e=>xP(t,e))}var{isArray:PP}=Array,{getPrototypeOf:OP,prototype:RP,keys:NP}=Object;function xu(t){if(t.length===1){let e=t[0];if(PP(e))return{args:e,keys:null};if(kP(e)){let n=NP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function kP(t){return t&&typeof t=="object"&&OP(t)===RP}function Pu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ou(...t){let e=hr(t),n=_u(t),{args:r,keys:i}=xu(t);if(r.length===0)return Le([],e);let o=new se(FP(r,e,i?s=>Pu(i,s):wn));return n?o.pipe(Ps(n)):o}function FP(t,e,n=wn){return r=>{cE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)cE(e,()=>{let l=Le(t[c],e),u=!1;l.subscribe(ve(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cE(t,e,n){t?fn(n,t,e):e()}function lE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=E=>l<r?v(E):c.push(E),v=E=>{o&&e.next(E),l++;let T=!1;Ue(n(E,u++)).subscribe(ve(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let D=c.shift();s?fn(e,s,()=>v(D)):v(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ve(e,f,()=>{d=!0,h()})),()=>{a?.()}}function it(t,e,n=1/0){return Z(e)?it((r,i)=>ie((o,s)=>e(r,o,i,s))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>lE(r,i,t,n)))}function qa(t=1/0){return it(wn,t)}function uE(){return qa(1)}function Os(...t){return uE()(Le(t,hr(t)))}function Ru(t){return new se(e=>{Ue(t()).subscribe(e)})}function bp(...t){let e=_u(t),{args:n,keys:r}=xu(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ue(n[u]).subscribe(ve(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Pu(r,a):a),o.complete())}))}});return e?i.pipe(Ps(e)):i}var VP=["addListener","removeListener"],LP=["addEventListener","removeEventListener"],jP=["on","off"];function Rs(t,e,n,r){if(Z(n)&&(r=n,n=void 0),r)return Rs(t,e,n).pipe(Ps(r));let[i,o]=$P(t)?LP.map(s=>a=>t[s](e,a,n)):UP(t)?VP.map(dE(t,e)):BP(t)?jP.map(dE(t,e)):[];if(!i&&xs(t))return it(s=>Rs(s,e,n))(Ue(t));if(!i)throw new TypeError("Invalid event target");return new se(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function dE(t,e){return n=>r=>t[n](e,r)}function UP(t){return Z(t.addListener)&&Z(t.removeListener)}function BP(t){return Z(t.on)&&Z(t.off)}function $P(t){return Z(t.addEventListener)&&Z(t.removeEventListener)}function hE(t=0,e,n=_p){let r=-1;return e!=null&&(yu(e)?n=e:r=e),new se(i=>{let o=aE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Wa(...t){let e=hr(t),n=Q0(t,1/0),r=t;return r.length?r.length===1?Ue(r[0]):qa(n)(Le(r,e)):hn}function Qt(t,e){return we((n,r)=>{let i=0;n.subscribe(ve(r,o=>t.call(e,o,i++)&&r.next(o)))})}function fE(t){return we((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(ve(n,l=>{r=!0,i=l,o||Ue(t(l)).subscribe(o=ve(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Tp(t,e=Ms){return fE(()=>hE(t,e))}function qn(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ve(n,void 0,void 0,s=>{o=Ue(t(s,qn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pE(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(ve(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ci(t,e){return Z(e)?it(t,e,1):it(t,1)}function bi(t){return we((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hr(t){return t<=0?()=>hn:we((e,n)=>{let r=0;e.subscribe(ve(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dp(t){return ie(()=>t)}function Nu(t=HP){return we((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HP(){return new En}function mo(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):wn,Hr(1),n?bi(e):Nu(()=>new En))}function Ns(t){return t<=0?()=>hn:we((e,n)=>{let r=[];e.subscribe(ve(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):wn,Ns(1),n?bi(e):Nu(()=>new En))}function Ap(t,e){return we(pE(t,e,arguments.length>=2,!0))}function Mp(...t){let e=hr(t);return we((n,r)=>{(e?Os(t,n,e):Os(t,n)).subscribe(r)})}function bt(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ve(r,c=>{i?.unsubscribe();let l=0,u=o++;Ue(t(c,u)).subscribe(i=ve(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wn(t){return we((e,n)=>{Ue(t).subscribe(ve(n,()=>n.complete(),za)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ve(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wn}var ZE="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(dd(e,n)),this.code=e}};function dd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Gp=class extends Nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=xp(o),i&&(i=xp(i)),s&&(s=xp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}};function xp(t){return e=>{setTimeout(t,void 0,e)}}var Xe=Gp;var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});function rn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eI||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{});function sc(t){return{toString:t}.toString()}var go=globalThis;var Us={},mn=[];function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function zP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var GP=je({\u0275cmp:je}),qP=je({\u0275dir:je}),WP=je({\u0275pipe:je}),KP=je({\u0275mod:je}),Wu=je({\u0275fac:je}),Ka=je({__NG_ELEMENT_ID__:je}),mE=je({__NG_ENV_ID__:je}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function tI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Wp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];YP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function QP(t){return t===3||t===4||t===6}function YP(t){return t.charCodeAt(0)===64}function Qa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?gE(t,n,i,null,e[++r]):gE(t,n,i,null,null))}}return t}function gE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var nI="ng-template";function XP(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&tI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function rI(t){return t.type===4&&t.value!==nI}function JP(t,e,n){let r=t.type===4&&!n?nI:t.value;return e===r}function ZP(t,e,n){let r=4,i=t.attrs||[],o=nO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Kn(r)&&!Kn(c))return!1;if(s&&Kn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!JP(t,c,n)||c===""&&e.length===1){if(Kn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!XP(t.attrs,l,n)){if(Kn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=eO(u,i,rI(t),n);if(d===-1){if(Kn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&tI(f,l,0)!==-1||r&2&&l!==h){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(t){return(t&1)===0}function eO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return rO(e,t)}function tO(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZP(t,e[r],n))return!0;return!1}function nO(t){for(let e=0;e<t.length;e++){let n=t[e];if(QP(n))return e}return t.length}function rO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function vE(t,e){return t?":not("+e.trim()+")":e}function iO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=vE(o,i),i=""),r=s,o=o||!Kn(r);n++}return i!==""&&(e+=vE(o,i)),e}function oO(t){return t.map(iO).join(",")}function sO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kn(i))break;i=o}r++}return{attrs:e,classes:n}}function Y(t){return sc(()=>{let e=cI(t),n=Ae(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||mn,_:null,schemas:t.schemas||null,tView:null,id:""});lI(n);let r=t.dependencies;return n.directiveDefs=_E(r,!1),n.pipeDefs=_E(r,!0),n.id=lO(n),n})}function aO(t){return Si(t)||iI(t)}function cO(t){return t!==null}function on(t){return sc(()=>({type:t.type,bootstrap:t.bootstrap||mn,declarations:t.declarations||mn,imports:t.imports||mn,exports:t.exports||mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yE(t,e){if(t==null)return Us;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function at(t){return sc(()=>{let e=cI(t);return lI(e),e})}function Si(t){return t[GP]||null}function iI(t){return t[qP]||null}function oI(t){return t[WP]||null}function sI(t){let e=Si(t)||iI(t)||oI(t);return e!==null?e.standalone:!1}function aI(t,e){let n=t[KP]||null;if(!n&&e===!0)throw new Error(`Type ${rn(t)} does not have '\u0275mod' property.`);return n}function cI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Us,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yE(t.inputs,e),outputs:yE(t.outputs),debugInfo:null}}function lI(t){t.features?.forEach(e=>e(t))}function _E(t,e){if(!t)return null;let n=e?oI:aO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cO)}function lO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Er=0,ye=1,ne=2,Ft=3,Yn=4,Zn=5,Ku=6,Ya=7,Xn=8,Bs=9,zr=10,st=11,Xa=12,wE=13,Qs=14,vr=15,ac=16,ks=17,Gr=18,hd=19,uI=20,Di=21,Uu=22,_o=23,yr=25,Wm=1;var wo=7,Qu=8,$s=9,In=10,Km=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Km||{});function vo(t){return Array.isArray(t)&&typeof t[Wm]=="object"}function Xr(t){return Array.isArray(t)&&t[Wm]===!0}function Qm(t){return(t.flags&4)!==0}function fd(t){return t.componentOffset>-1}function pd(t){return(t.flags&1)===1}function qr(t){return!!t.template}function uO(t){return(t[ne]&512)!==0}var dO="svg",hO="math",fO=!1;function pO(){return fO}function _r(t){for(;Array.isArray(t);)t=t[Er];return t}function mO(t){for(;Array.isArray(t);){if(typeof t[Wm]=="object")return t;t=t[Er]}return null}function dI(t,e){return _r(e[t])}function er(t,e){return _r(e[t.index])}function hI(t,e){return t.data[e]}function gO(t,e){return t[e]}function xi(t,e){let n=e[t];return vo(n)?n:n[Er]}function vO(t){return(t[ne]&4)===4}function Ym(t){return(t[ne]&128)===128}function yO(t){return Xr(t[Ft])}function Hs(t,e){return e==null?null:t[e]}function fI(t){t[ks]=0}function _O(t){t[ne]&1024||(t[ne]|=1024,Ym(t)&&Ja(t))}function wO(t,e){for(;t>0;)e=e[Qs],t--;return e}function Xm(t){return!!(t[ne]&9216||t[_o]?.dirty)}function Kp(t){Xm(t)?Ja(t):t[ne]&64&&(pO()?(t[ne]|=1024,Ja(t)):t[zr].changeDetectionScheduler?.notify())}function Ja(t){t[zr].changeDetectionScheduler?.notify();let e=Za(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Ym(e)));)e=Za(e)}function pI(t,e){if((t[ne]&256)===256)throw new P(911,!1);t[Di]===null&&(t[Di]=[]),t[Di].push(e)}function EO(t,e){if(t[Di]===null)return;let n=t[Di].indexOf(e);n!==-1&&t[Di].splice(n,1)}function Za(t){let e=t[Ft];return Xr(e)?e[Ft]:e}var me={lFrame:II(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function IO(){return me.lFrame.elementDepthCount}function CO(){me.lFrame.elementDepthCount++}function bO(){me.lFrame.elementDepthCount--}function mI(){return me.bindingsEnabled}function TO(){return me.skipHydrationRootTNode!==null}function DO(t){return me.skipHydrationRootTNode===t}function SO(){me.skipHydrationRootTNode=null}function Me(){return me.lFrame.lView}function Dt(){return me.lFrame.tView}function A(t){return me.lFrame.contextLView=t,t[Xn]}function M(t){return me.lFrame.contextLView=null,t}function gn(){let t=gI();for(;t!==null&&t.type===64;)t=t.parent;return t}function gI(){return me.lFrame.currentTNode}function AO(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function So(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function Jm(){return me.lFrame.isParent}function vI(){me.lFrame.isParent=!1}function MO(){return me.lFrame.contextLView}function xO(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function PO(){return me.lFrame.bindingIndex}function OO(t){return me.lFrame.bindingIndex=t}function md(){return me.lFrame.bindingIndex++}function Zm(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RO(){return me.lFrame.inI18n}function NO(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qp(e)}function kO(){return me.lFrame.currentDirectiveIndex}function Qp(t){me.lFrame.currentDirectiveIndex=t}function yI(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _I(){return me.lFrame.currentQueryIndex}function eg(t){me.lFrame.currentQueryIndex=t}function FO(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[Zn]:null}function wI(t,e,n){if(n&_e.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=FO(o),i===null||(o=o[Qs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=me.lFrame=EI();return r.currentTNode=e,r.lView=t,!0}function tg(t){let e=EI(),n=t[ye];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function EI(){let t=me.lFrame,e=t===null?null:t.child;return e===null?II(t):e}function II(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function CI(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bI=CI;function ng(){let t=CI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VO(t){return(me.lFrame.contextLView=wO(t,me.lFrame.contextLView))[Xn]}function Pi(){return me.lFrame.selectedIndex}function Eo(t){me.lFrame.selectedIndex=t}function rg(){let t=me.lFrame;return hI(t.tView,t.selectedIndex)}function LO(){return me.lFrame.currentNamespace}var TI=!0;function gd(){return TI}function vd(t){TI=t}function jO(){return Ys(gn(),Me())}function Ys(t,e){return new ct(er(t,e))}var ct=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=jO;let t=e;return t})();function UO(t){return t instanceof ct?t.nativeElement:t}function BO(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function $O(t){return t.flat(Number.POSITIVE_INFINITY)}function ig(t,e){t.forEach(n=>Array.isArray(n)?ig(n,e):e(n))}function DI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function og(t,e,n){let r=cc(t,e);return r>=0?t[r|1]=n:(r=~r,HO(t,r,e,n)),r}function Pp(t,e){let n=cc(t,e);if(n>=0)return t[n|1]}function cc(t,e){return zO(t,e,1)}function zO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function GO(){return this._results[Symbol.iterator]()}var Yp=class t{get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=$O(e);(this._changesDetected=!BO(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SI(t){return(t.flags&128)===128}var Xp;function AI(t){Xp=t}function qO(){if(Xp!==void 0)return Xp;if(typeof document<"u")return document;throw new P(210,!1)}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yd(t){return EE(t,xI)||EE(t,PI)}function MI(t){return yd(t)!==null}function EE(t,e){return t.hasOwnProperty(e)?t[e]:null}function WO(t){let e=t&&(t[xI]||t[PI]);return e||null}function IE(t){return t&&(t.hasOwnProperty(CE)||t.hasOwnProperty(KO))?t[CE]:null}var xI=je({\u0275prov:je}),CE=je({\u0275inj:je}),PI=je({ngInjectableDef:je}),KO=je({ngInjectorDef:je}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},sg=new W("",{providedIn:"root",factory:()=>QO}),QO="ng",ag=new W(""),On=new W("",{providedIn:"platform",factory:()=>"unknown"});var cg=new W(""),lg=new W("",{providedIn:"root",factory:()=>qO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YO=je({__forward_ref__:je});function lc(t){return t.__forward_ref__=lc,t.toString=function(){return rn(this())},t}function nn(t){return OI(t)?t():t}function OI(t){return typeof t=="function"&&t.hasOwnProperty(YO)&&t.__forward_ref__===lc}function RI(t){return t&&!!t.\u0275providers}function ec(t){return typeof t=="string"?t:t==null?"":String(t)}function XO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ec(t)}function JO(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function ug(t,e){throw new P(-201,!1)}var Jp;function NI(){return Jp}function Pn(t){let e=Jp;return Jp=t,e}function kI(t,e,n){let r=yd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(e!==void 0)return e;ug(t,"Injector")}var ZO={},tc=ZO,Zp="__NG_DI_FLAG__",Xu="ngTempTokenPath",eR="ngTokenPath",tR=/\n/gm,nR="\u0275",bE="__source",Ls;function rR(){return Ls}function Ti(t){let e=Ls;return Ls=t,e}function iR(t,e=_e.Default){if(Ls===void 0)throw new P(-203,!1);return Ls===null?kI(t,void 0,e):Ls.get(t,e&_e.Optional?null:void 0,e)}function V(t,e=_e.Default){return(NI()||iR)(nn(t),e)}function O(t,e=_e.Default){return V(t,_d(e))}function _d(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function em(t){let e=[];for(let n=0;n<t.length;n++){let r=nn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let a=r[s],c=oR(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(V(i,o))}else e.push(V(r))}return e}function FI(t,e){return t[Zp]=e,t.prototype[Zp]=e,t}function oR(t){return t[Zp]}function sR(t,e,n,r){let i=t[Xu];throw e[bE]&&i.unshift(e[bE]),t.message=aR(`
`+t.message,i,n,r),t[eR]=i,t[Xu]=null,t}function aR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nR?t.slice(2):t;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tR,`
  `)}`}var cR="h",lR="b";var uR=()=>null;function dg(t,e,n=!1){return uR(t,e,n)}var ku="__parameters__";function dR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VI(t,e,n){return sc(()=>{let r=dR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ku)?c[ku]:Object.defineProperty(c,ku,{value:[]})[ku];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var an=FI(VI("Optional"),8);var LI=FI(VI("SkipSelf"),4);function zs(t,e){let n=t.hasOwnProperty(Wu);return n?t[Wu]:null}var Gs=new W(""),jI=new W("",-1),UI=new W(""),Ju=class{get(e,n=tc){if(n===tc){let r=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Oi(t){return{\u0275providers:t}}function uc(...t){return{\u0275providers:BI(!0,t),\u0275fromNgModule:!0}}function BI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ig(e,s=>{let a=s;tm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$I(i,o),n}function $I(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];hg(i,o=>{e(o,r)})}}function tm(t,e,n,r){if(t=nn(t),!t)return!1;let i=null,o=IE(t),s=!o&&Si(t);if(!o&&!s){let c=t.ngModule;if(o=IE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)tm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ig(o.imports,u=>{tm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&$I(l,e)}if(!a){let l=zs(i)||(()=>new i);e({provide:i,useFactory:l,deps:mn},i),e({provide:UI,useValue:i,multi:!0},i),e({provide:Gs,useValue:()=>V(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;hg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function hg(t,e){for(let n of t)RI(n)&&(n=n.\u0275providers),Array.isArray(n)?hg(n,e):e(n)}var hR=je({provide:String,useValue:je});function HI(t){return t!==null&&typeof t=="object"&&hR in t}function fR(t){return!!(t&&t.useExisting)}function pR(t){return!!(t&&t.useFactory)}function qs(t){return typeof t=="function"}function mR(t){return!!t.useClass}var wd=new W(""),Bu={},gR={},Op;function Ed(){return Op===void 0&&(Op=new Ju),Op}var Tt=class{},nc=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rm(e,s=>this.processProvider(s)),this.records.set(jI,Fs(void 0,this)),i.has("environment")&&this.records.set(Tt,Fs(void 0,this));let o=this.records.get(wd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(UI,mn,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ti(this),r=Pn(void 0),i;try{return e()}finally{Ti(n),Pn(r)}}get(e,n=tc,r=_e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mE))return e[mE](this);r=_d(r);let i,o=Ti(this),s=Pn(void 0);try{if(!(r&_e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=ER(e)&&yd(e);l&&this.injectableDefInScope(l)?c=Fs(nm(e),Bu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&_e.Self?Ed():this.parent;return n=r&_e.Optional&&n===tc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Xu]=a[Xu]||[]).unshift(rn(e)),o)throw a;return sR(a,e,"R3InjectorError",this.source)}else throw a}finally{Pn(s),Ti(o)}}resolveInjectorInitializers(){let e=xe(null),n=Ti(this),r=Pn(void 0),i;try{let o=this.get(Gs,mn,_e.Self);for(let s of o)s()}finally{Ti(n),Pn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=nn(e);let n=qs(e)?e:nn(e&&e.provide),r=yR(e);if(!qs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fs(void 0,Bu,!0),i.factory=()=>em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Bu&&(n.value=gR,n.value=n.factory()),typeof n.value=="object"&&n.value&&wR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=nn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function nm(t){let e=yd(t),n=e!==null?e.factory:zs(t);if(n!==null)return n;if(t instanceof W)throw new P(204,!1);if(t instanceof Function)return vR(t);throw new P(204,!1)}function vR(t){if(t.length>0)throw new P(204,!1);let n=WO(t);return n!==null?()=>n.factory(t):()=>new t}function yR(t){if(HI(t))return Fs(void 0,t.useValue);{let e=zI(t);return Fs(e,Bu)}}function zI(t,e,n){let r;if(qs(t)){let i=nn(t);return zs(i)||nm(i)}else if(HI(t))r=()=>nn(t.useValue);else if(pR(t))r=()=>t.useFactory(...em(t.deps||[]));else if(fR(t))r=()=>V(nn(t.useExisting));else{let i=nn(t&&(t.useClass||t.provide));if(_R(t))r=()=>new i(...em(t.deps));else return zs(i)||nm(i)}return r}function Fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _R(t){return!!t.deps}function wR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ER(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function rm(t,e){for(let n of t)Array.isArray(n)?rm(n,e):n&&RI(n)?rm(n.\u0275providers,e):e(n)}function Jr(t,e){t instanceof nc&&t.assertNotDestroyed();let n,r=Ti(t),i=Pn(void 0);try{return e()}finally{Ti(r),Pn(i)}}function IR(t){if(!NI()&&!rR())throw new P(-203,!1)}function CR(t){return typeof t=="function"}var im=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Zr(){return qI}function qI(t){return t.type.prototype.ngOnChanges&&(t.setInput=TR),bR}Zr.ngInherit=!0;function bR(){let t=KI(this),e=t?.current;if(e){let n=t.previous;if(n===Us)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TR(t,e,n,r,i){let o=this.declaredInputs[r],s=KI(t)||DR(t,{previous:Us,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new im(l&&l.currentValue,n,c===Us),GI(t,e,i,n)}var WI="__ngSimpleChanges__";function KI(t){return t[WI]||null}function DR(t,e){return t[WI]=e}var TE=null;var pr=function(t,e,n){TE?.(t,e,n)};function SR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Id(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function $u(t,e,n){QI(t,e,3,n)}function Hu(t,e,n,r){(t[ne]&3)===n&&QI(t,e,n,r)}function Rp(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function QI(t,e,n,r){let i=r!==void 0?t[ks]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ks]+=65536),(a<o||o==-1)&&(AR(t,n,e,c),t[ks]=(t[ks]&4294901760)+c+2),c++}function DE(t,e){pr(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),pr(5,t,e)}}function AR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[ks]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,DE(a,o)):DE(a,o)}var js=-1,Io=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MR(t){return t instanceof Io}function xR(t){return(t.flags&8)!==0}function PR(t){return(t.flags&16)!==0}function YI(t){return t!==js}function Zu(t){return t&32767}function OR(t){return t>>16}function ed(t,e){let n=OR(t),r=e;for(;n>0;)r=r[Qs],n--;return r}var om=!0;function SE(t){let e=om;return om=t,e}var RR=256,XI=RR-1,JI=5,NR=0,mr={};function kR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ka)&&(r=n[Ka]),r==null&&(r=n[Ka]=NR++);let i=r&XI,o=1<<i;e.data[t+(i>>JI)]|=o}function td(t,e){let n=ZI(t,e);if(n!==-1)return n;let r=e[ye];r.firstCreatePass&&(t.injectorIndex=e.length,Np(r.data,t),Np(e,null),Np(r.blueprint,null));let i=fg(t,e),o=t.injectorIndex;if(YI(i)){let s=Zu(i),a=ed(i,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=iC(i),r===null)return js;if(n++,i=i[Qs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return js}function sm(t,e,n){kR(t,e,n)}function eC(t,e,n){if(n&_e.Optional||t!==void 0)return t;ug(e,"NodeInjector")}function tC(t,e,n,r){if(n&_e.Optional&&r===void 0&&(r=null),!(n&(_e.Self|_e.Host))){let i=t[Bs],o=Pn(void 0);try{return i?i.get(e,r,n&_e.Optional):kI(e,r,n&_e.Optional)}finally{Pn(o)}}return eC(r,e,n)}function nC(t,e,n,r=_e.Default,i){if(t!==null){if(e[ne]&2048&&!(r&_e.Self)){let s=jR(t,e,n,r,mr);if(s!==mr)return s}let o=rC(t,e,n,r,mr);if(o!==mr)return o}return tC(e,n,r,i)}function rC(t,e,n,r,i){let o=VR(n);if(typeof o=="function"){if(!wI(e,t,r))return r&_e.Host?eC(i,n,r):tC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))ug(n);else return s}finally{bI()}}else if(typeof o=="number"){let s=null,a=ZI(t,e),c=js,l=r&_e.Host?e[vr][Zn]:null;for((a===-1||r&_e.SkipSelf)&&(c=a===-1?fg(t,e):e[a+8],c===js||!ME(r,!1)?a=-1:(s=e[ye],a=Zu(c),e=ed(c,e)));a!==-1;){let u=e[ye];if(AE(o,a,u.data)){let d=FR(a,e,n,s,r,l);if(d!==mr)return d}c=e[a+8],c!==js&&ME(r,e[ye].data[a+8]===l)&&AE(o,a,e)?(s=u,a=Zu(c),e=ed(c,e)):a=-1}}return i}function FR(t,e,n,r,i,o){let s=e[ye],a=s.data[t+8],c=r==null?fd(a)&&om:r!=s&&(a.type&3)!==0,l=i&_e.Host&&o===a,u=zu(a,s,n,c,l);return u!==null?Co(e,s,u,a):mr}function zu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let v=s[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=s[c];if(f&&qr(f)&&f.type===n)return c}return null}function Co(t,e,n,r){let i=t[n],o=e.data;if(MR(i)){let s=i;s.resolving&&JO(XO(o[n]));let a=SE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pn(s.injectImpl):null,u=wI(t,r,_e.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&SR(n,o[n],e)}finally{l!==null&&Pn(l),SE(a),s.resolving=!1,bI()}}return i}function VR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ka)?t[Ka]:void 0;return typeof e=="number"?e>=0?e&XI:LR:e}function AE(t,e,n){let r=1<<t;return!!(n[e+(t>>JI)]&r)}function ME(t,e){return!(t&_e.Self)&&!(t&_e.Host&&e)}var yo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nC(this._tNode,this._lView,e,_d(r),n)}};function LR(){return new yo(gn(),Me())}function tr(t){return sc(()=>{let e=t.prototype.constructor,n=e[Wu]||am(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Wu]||am(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function am(t){return OI(t)?()=>{let e=am(nn(t));return e&&e()}:zs(t)}function jR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=rC(o,s,n,r|_e.Self,mr);if(a!==mr)return a;let c=o.parent;if(!c){let l=s[uI];if(l){let u=l.get(n,mr,r);if(u!==mr)return u}c=iC(s),s=s[Qs]}o=c}return i}function iC(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[Zn]:null}function xE(t,e=null,n=null,r){let i=oC(t,e,n,r);return i.resolveInjectorInitializers(),i}function oC(t,e=null,n=null,r,i=new Set){let o=[n||mn,uc(t)];return r=r||(typeof t=="object"?void 0:rn(t)),new nc(o,e||Ed(),r||null,i)}var Je=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return xE({name:""},i,r,"");{let o=r.name??"";return xE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=tc,e.NULL=new Ju,e.\u0275prov=F({token:e,providedIn:"any",factory:()=>V(jI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),UR="ngOriginalError";function kp(t){return t[UR]}var wr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&kp(e);for(;n&&kp(n);)n=kp(n);return n||null}},sC=new W("",{providedIn:"root",factory:()=>O(wr).handleError.bind(void 0)});var aC=!1,BR=new W("",{providedIn:"root",factory:()=>aC}),Fu;function $R(){if(Fu===void 0&&(Fu=null,go.trustedTypes))try{Fu=go.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fu}function Cd(t){return $R()?.createHTML(t)||t}var Wr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZE})`}},cm=class extends Wr{getTypeName(){return"HTML"}},lm=class extends Wr{getTypeName(){return"Style"}},um=class extends Wr{getTypeName(){return"Script"}},dm=class extends Wr{getTypeName(){return"URL"}},hm=class extends Wr{getTypeName(){return"ResourceURL"}};function Ir(t){return t instanceof Wr?t.changingThisBreaksApplicationSecurity:t}function Ao(t,e){let n=HR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ZE})`)}return n===e}function HR(t){return t instanceof Wr&&t.getTypeName()||null}function cC(t){return new cm(t)}function lC(t){return new lm(t)}function uC(t){return new um(t)}function dC(t){return new dm(t)}function hC(t){return new hm(t)}function zR(t){let e=new pm(t);return GR()?new fm(e):e}var fm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Cd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},pm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Cd(e),n}};function GR(){try{return!!new window.DOMParser().parseFromString(Cd(""),"text/html")}catch{return!1}}var qR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bd(t){return t=String(t),t.match(qR)?t:"unsafe:"+t}function ei(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function dc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var fC=ei("area,br,col,hr,img,wbr"),pC=ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mC=ei("rp,rt"),WR=dc(mC,pC),KR=dc(pC,ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),QR=dc(mC,ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),PE=dc(fC,KR,QR,WR),gC=ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),YR=ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),XR=ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JR=dc(gC,YR,XR),ZR=ei("script,style,template"),mm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!PE.hasOwnProperty(n))return this.sanitizedSomething=!0,!ZR.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!JR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;gC[a]&&(c=bd(c)),this.buf.push(" ",s,'="',OE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();PE.hasOwnProperty(n)&&!fC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(OE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},eN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tN=/([^\#-~ |!])/g;function OE(t){return t.replace(/&/g,"&amp;").replace(eN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(tN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vu;function vC(t,e){let n=null;try{Vu=Vu||zR(t);let r=e?String(e):"";n=Vu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Vu.getInertBodyElement(r)}while(r!==o);let a=new mm().sanitizeChildren(RE(n)||n);return Cd(a)}finally{if(n){let r=RE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function RE(t){return"content"in t&&nN(t)?t.content:null}function nN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ti=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ti||{});function Cr(t){let e=rN();return e?e.sanitize(ti.URL,t)||"":Ao(t,"URL")?Ir(t):bd(ec(t))}function rN(){let t=Me();return t&&t[zr].sanitizer}var iN=/^>|^->|<!--|-->|--!>|<!-$/g,oN=/(<|>)/g,sN="\u200B$1\u200B";function aN(t){return t.replace(iN,e=>e.replace(oN,sN))}var yC=new Map,cN=0;function lN(){return cN++}function uN(t){yC.set(t[hd],t)}function dN(t){yC.delete(t[hd])}var NE="__ngContext__";function Ai(t,e){vo(e)?(t[NE]=e[hd],uN(e)):t[NE]=e}function _C(t){return t.ownerDocument.defaultView}function hc(t){return t.ownerDocument}function wC(t){return t instanceof Function?t():t}var Kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kr||{}),hN;function pg(t,e){return hN(t,e)}function Vs(t,e,n,r,i){if(r!=null){let o,s=!1;Xr(r)?o=r:vo(r)&&(s=!0,r=r[Er]);let a=_r(r);t===0&&n!==null?i==null?TC(e,n,a):nd(e,n,a,i||null,!0):t===1&&n!==null?nd(e,n,a,i||null,!0):t===2?xN(e,a,s):t===3&&e.destroyNode(a),o!=null&&ON(e,t,o,n,i)}}function fN(t,e){return t.createText(e)}function pN(t,e,n){t.setValue(e,n)}function mN(t,e){return t.createComment(aN(e))}function EC(t,e,n){return t.createElement(e,n)}function gN(t,e){IC(t,e),e[Er]=null,e[Zn]=null}function vN(t,e,n,r,i,o){r[Er]=i,r[Zn]=e,Dd(t,r,n,1,i,o)}function IC(t,e){Dd(t,e,e[st],2,null,null)}function yN(t){let e=t[Xa];if(!e)return Fp(t[ye],t);for(;e;){let n=null;if(vo(e))n=e[Xa];else{let r=e[In];r&&(n=r)}if(!n){for(;e&&!e[Yn]&&e!==t;)vo(e)&&Fp(e[ye],e),e=e[Ft];e===null&&(e=t),vo(e)&&Fp(e[ye],e),n=e&&e[Yn]}e=n}}function _N(t,e,n,r){let i=In+r,o=n.length;r>0&&(n[i-1][Yn]=e),r<o-In?(e[Yn]=n[i],DI(n,In+r,e)):(n.push(e),e[Yn]=null),e[Ft]=n;let s=e[ac];s!==null&&n!==s&&wN(s,e);let a=e[Gr];a!==null&&a.insertView(t),Kp(e),e[ne]|=128}function wN(t,e){let n=t[$s],i=e[Ft][Ft][vr];e[vr]!==i&&(t[ne]|=Km.HasTransplantedViews),n===null?t[$s]=[e]:n.push(e)}function CC(t,e){let n=t[$s],r=n.indexOf(e);n.splice(r,1)}function gm(t,e){if(t.length<=In)return;let n=In+e,r=t[n];if(r){let i=r[ac];i!==null&&i!==t&&CC(i,r),e>0&&(t[n-1][Yn]=r[Yn]);let o=Yu(t,In+e);gN(r[ye],r);let s=o[Gr];s!==null&&s.detachView(o[ye]),r[Ft]=null,r[Yn]=null,r[ne]&=-129}return r}function bC(t,e){if(!(e[ne]&256)){let n=e[st];n.destroyNode&&Dd(t,e,n,3,null,null),yN(e)}}function Fp(t,e){if(e[ne]&256)return;let n=xe(null);try{e[ne]&=-129,e[ne]|=256,e[_o]&&ap(e[_o]),IN(t,e),EN(t,e),e[ye].type===1&&e[st].destroy();let r=e[ac];if(r!==null&&Xr(e[Ft])){r!==e[Ft]&&CC(r,e);let i=e[Gr];i!==null&&i.detachView(t)}dN(e)}finally{xe(n)}}function EN(t,e){let n=t.cleanup,r=e[Ya];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ya]=null);let i=e[Di];if(i!==null){e[Di]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function IN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Io)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];pr(4,a,c);try{c.call(a)}finally{pr(5,a,c)}}else{pr(4,i,o);try{o.call(i)}finally{pr(5,i,o)}}}}}function CN(t,e,n){return bN(t,e.parent,n)}function bN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===gr.None||o===gr.Emulated)return null}return er(r,n)}}function nd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function TC(t,e,n){t.appendChild(e,n)}function kE(t,e,n,r,i){r!==null?nd(t,e,n,r,i):TC(t,e,n)}function TN(t,e,n,r){t.removeChild(e,n,r)}function mg(t,e){return t.parentNode(e)}function DN(t,e){return t.nextSibling(e)}function SN(t,e,n){return MN(t,e,n)}function AN(t,e,n){return t.type&40?er(t,n):null}var MN=AN,FE;function Td(t,e,n,r){let i=CN(t,r,e),o=e[st],s=r.parent||e[Zn],a=SN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)kE(o,i,n[c],a,!1);else kE(o,i,n,a,!1);FE!==void 0&&FE(o,r,e,n,i)}function Gu(t,e){if(e!==null){let n=e.type;if(n&3)return er(e,t);if(n&4)return vm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gu(t,r);{let i=t[e.index];return Xr(i)?vm(-1,i):_r(i)}}else{if(n&32)return pg(e,t)()||_r(t[e.index]);{let r=DC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Za(t[vr]);return Gu(i,r)}else return Gu(t,e.next)}}}return null}function DC(t,e){if(e!==null){let r=t[vr][Zn],i=e.projection;return r.projection[i]}return null}function vm(t,e){let n=In+t+1;if(n<e.length){let r=e[n],i=r[ye].firstChild;if(i!==null)return Gu(r,i)}return e[wo]}function xN(t,e,n){let r=mg(t,e);r&&TN(t,r,e,n)}function gg(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Ai(_r(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)gg(t,e,n.child,r,i,o,!1),Vs(e,t,i,a,o);else if(c&32){let l=pg(n,r),u;for(;u=l();)Vs(e,t,i,u,o);Vs(e,t,i,a,o)}else c&16?PN(t,e,r,n,i,o):Vs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Dd(t,e,n,r,i,o){gg(n,r,t.firstChild,e,i,o,!1)}function PN(t,e,n,r,i,o){let s=n[vr],c=s[Zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Vs(e,t,i,u,o)}else{let l=c,u=s[Ft];SI(r)&&(l.flags|=128),gg(t,e,l,u,i,o,!0)}}function ON(t,e,n,r,i){let o=n[wo],s=_r(n);o!==s&&Vs(e,t,r,o,i);for(let a=In;a<n.length;a++){let c=n[a];Dd(c[ye],c,t,e,r,o)}}function RN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kr.Important),t.setStyle(n,r,i,o))}}function NN(t,e,n){t.setAttribute(e,"style",n)}function SC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function AC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Wp(t,e,r),i!==null&&SC(t,e,i),o!==null&&NN(t,e,o)}var nr={};function y(t=1){MC(Dt(),Me(),Pi()+t,!1)}function MC(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&$u(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Hu(e,o,0,n)}Eo(n)}function S(t,e=_e.Default){let n=Me();if(n===null)return V(t,e);let r=gn();return nC(r,n,nn(t),e)}function xC(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&re.SignalBased&&(a=e[r][yi]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):GI(e,a,r,o)}finally{xe(s)}}function kN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Eo(~i);else{let o=i,s=n[++r],a=n[++r];NO(s,o);let c=e[o];a(2,c)}}}finally{Eo(-1)}}function Sd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Er]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),fI(d),d[Ft]=d[Qs]=t,d[Xn]=n,d[zr]=s||t&&t[zr],d[st]=a||t&&t[st],d[Bs]=c||t&&t[Bs]||null,d[Zn]=o,d[hd]=lN(),d[Ku]=u,d[uI]=l,d[vr]=e.type==2?t[vr]:d,d}function fc(t,e,n,r,i){let o=t.data[e];if(o===null)o=FN(t,e,n,r,i),RO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=AO();o.injectorIndex=s===null?-1:s.injectorIndex}return So(o,!0),o}function FN(t,e,n,r,i){let o=gI(),s=Jm(),a=s?o:o&&o.parent,c=t.data[e]=$N(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function PC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function OC(t,e,n,r,i){let o=Pi(),s=r&2;try{Eo(-1),s&&e.length>yr&&MC(t,e,yr,!1),pr(s?2:0,i),n(r,i)}finally{Eo(o),pr(s?3:1,i)}}function vg(t,e,n){if(Qm(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function yg(t,e,n){mI()&&(KN(t,e,n,er(n,e)),(n.flags&64)===64&&kC(t,e,n))}function _g(t,e,n=er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function RC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wg(t,e,n,r,i,o,s,a,c,l,u){let d=yr+r,h=d+i,f=VN(d,h),v=typeof l=="function"?l():l;return f[ye]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function VN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nr);return n}function LN(t,e,n,r){let o=r.get(BR,aC)||n===gr.ShadowDom,s=t.selectRootElement(e,o);return jN(s),s}function jN(t){UN(t)}var UN=()=>null;function BN(t,e,n,r){let i=LC(e);i.push(n),t.firstCreatePass&&jC(t).push(r,i.length-1)}function $N(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return TO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?LE(r,n,l,a,c):LE(r,n,l,a)}return r}function LE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function HN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=VE(0,d.inputs,u,c,f),l=VE(1,d.outputs,u,l,v);let E=c!==null&&s!==null&&!rI(e)?rk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function zN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Eg(t,e,n,r,i,o,s,a){let c=er(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Cg(t,n,u,r,i),fd(e)&&GN(n,e.index)):e.type&3?(r=zN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function GN(t,e){let n=xi(e,t);n[ne]&16||(n[ne]|=64)}function Ig(t,e,n,r){if(mI()){let i=r===null?null:{"":-1},o=YN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&NC(t,e,n,s,i,a),i&&XN(n,r,i)}n.mergedAttrs=Qa(n.mergedAttrs,n.attrs)}function NC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)sm(td(n,e),t,r[l].type);ZN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=PC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Qa(n.mergedAttrs,u.hostAttrs),ek(t,n,e,c,u),JN(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}HN(t,n,o)}function qN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;WN(s)!=a&&s.push(a),s.push(n,r,o)}}function WN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function KN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;fd(n)&&tk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||td(n,e),Ai(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Co(e,t,a,n);if(Ai(l,e),s!==null&&nk(e,a-i,l,c,n,s),qr(c)){let u=xi(n.index,e);u[Xn]=Co(e,t,a,n)}}}function kC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=kO();try{Eo(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Qp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&QN(c,l)}}finally{Eo(-1),Qp(s)}}function QN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function YN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(tO(e,s.selectors,!1))if(r||(r=[]),qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;ym(t,e,c)}else r.unshift(s),ym(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ym(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function XN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}}function JN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qr(e)&&(n[""]=t)}}function ZN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ek(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zs(i.type,!0)),s=new Io(o,qr(i),S);t.blueprint[r]=s,n[r]=s,qN(t,e,r,PC(t,n,i.hostVars,nr),i)}function tk(t,e,n){let r=er(e,t),i=RC(n),o=t[zr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ad(t,Sd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function nk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];xC(r,n,c,l,u,d)}}function rk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function FC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function VC(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];eg(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Ad(t,e){return t[Xa]?t[wE][Yn]=e:t[Xa]=e,t[wE]=e,e}function _m(t,e,n){eg(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function LC(t){return t[Ya]||(t[Ya]=[])}function jC(t){return t.cleanup||(t.cleanup=[])}function ik(t,e,n){return(t===null||qr(t))&&(n=mO(n[e.index])),n[st]}function UC(t,e){let n=t[Bs],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Cg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];xC(u,l,r,a,c,i)}}function BC(t,e,n){let r=dI(e,t);pN(t[st],r,n)}function ok(t,e){let n=xi(e,t),r=n[ye];sk(r,n);let i=n[Er];i!==null&&n[Ku]===null&&(n[Ku]=dg(i,n[Bs])),bg(r,n,n[Xn])}function sk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bg(t,e,n){tg(e);try{let r=t.viewQuery;r!==null&&_m(1,r,n);let i=t.template;i!==null&&OC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Gr]?.finishViewCreation(t),t.staticContentQueries&&VC(t,e),t.staticViewQueries&&_m(2,t.viewQuery,n);let o=t.components;o!==null&&ak(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,ng()}}function ak(t,e){for(let n=0;n<e.length;n++)ok(t,e[n])}function ck(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=Sd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[ac]=l;let u=t[Gr];return u!==null&&(c[Gr]=u.createEmbeddedView(o)),bg(o,c,n),c}finally{xe(i)}}function jE(t,e){return!e||e.firstChild===null||SI(t)}function lk(t,e,n,r=!0){let i=e[ye];if(_N(i,e,t,n),r){let s=vm(n,t),a=e[st],c=mg(a,t[wo]);c!==null&&vN(i,t[Zn],a,e,c,s)}let o=e[Ku];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(_r(o)),Xr(o)&&uk(o,r);let s=n.type;if(s&8)rd(t,e,n.child,r);else if(s&32){let a=pg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=DC(e,n);if(Array.isArray(a))r.push(...a);else{let c=Za(e[vr]);rd(c[ye],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uk(t,e){for(let n=In;n<t.length;n++){let r=t[n],i=r[ye].firstChild;i!==null&&rd(r[ye],r,i,e)}t[wo]!==t[Er]&&e.push(t[wo])}var $C=[];function dk(t){return t[_o]??hk(t)}function hk(t){let e=$C.pop()??Object.create(pk);return e.lView=t,e}function fk(t){t.lView[_o]!==t&&(t.lView=null,$C.push(t))}var pk=Ae(R({},au),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ja(t.lView)},consumerOnSignalRead(){this.lView[_o]=this}});function HC(t){return GC(t[Xa])}function zC(t){return GC(t[Yn])}function GC(t){for(;t!==null&&!Xr(t);)t=t[Yn];return t}var qC=100;function WC(t,e=!0,n=0){let r=t[zr],i=r.rendererFactory,o=!1;o||i.begin?.();try{mk(t,n)}catch(s){throw e&&UC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function mk(t,e){wm(t,e);let n=0;for(;Xm(t);){if(n===qC)throw new P(103,!1);n++,wm(t,1)}}function gk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[zr].inlineEffectRunner?.flush(),tg(e);let s=null,a=null;!o&&vk(t)&&(a=dk(e),s=op(a));try{fI(e),OO(t.bindingStartIndex),n!==null&&OC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&$u(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Hu(e,d,0,null),Rp(e,0)}if(yk(e),KC(e,0),t.contentQueries!==null&&VC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&$u(e,d)}else{let d=t.contentHooks;d!==null&&Hu(e,d,1),Rp(e,1)}kN(t,e);let l=t.components;l!==null&&YC(e,l,0);let u=t.viewQuery;if(u!==null&&_m(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&$u(e,d)}else{let d=t.viewHooks;d!==null&&Hu(e,d,2),Rp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Uu]){for(let d of e[Uu])d();e[Uu]=null}o||(e[ne]&=-73)}catch(c){throw Ja(e),c}finally{a!==null&&(sp(a,s),fk(a)),ng()}}function vk(t){return t.type!==2}function KC(t,e){for(let n=HC(t);n!==null;n=zC(n))for(let r=In;r<n.length;r++){let i=n[r];QC(i,e)}}function yk(t){for(let e=HC(t);e!==null;e=zC(e)){if(!(e[ne]&Km.HasTransplantedViews))continue;let n=e[$s];for(let r=0;r<n.length;r++){let i=n[r],o=i[Ft];_O(i)}}}function _k(t,e,n){let r=xi(e,t);QC(r,n)}function QC(t,e){Ym(t)&&wm(t,e)}function wm(t,e){let r=t[ye],i=t[ne],o=t[_o],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cu(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)gk(r,t,r.template,t[Xn]);else if(i&8192){KC(t,1);let a=r.components;a!==null&&YC(t,a,1)}}function YC(t,e,n){for(let r=0;r<e.length;r++)_k(t,e[r],n)}function Tg(t){for(t[zr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=Za(t);if(uO(t)&&!e)return t;t=e}return null}var bo=class{get rootNodes(){let e=this._lView,n=e[ye];return rd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(e){this._lView[Xn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(Xr(e)){let n=e[Qu],r=n?n.indexOf(this):-1;r>-1&&(gm(e,r),Yu(n,r))}this._attachedToViewContainer=!1}bC(this._lView[ye],this._lView)}onDestroy(e){pI(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Kp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,WC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,IC(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Kp(this._lView)}},Jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ik;let t=e;return t})(),wk=Jn,Ek=class extends wk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ck(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new bo(i)}};function Ik(){return Dg(gn(),Me())}function Dg(t,e){return t.type&4?new Ek(e,t,Ys(t,e)):null}var a7=new RegExp(`^(\\d+)*(${lR}|${cR})*(.*)`);var Ck=()=>null;function UE(t,e){return Ck(t,e)}var rc=class{},Em=class{},id=class{};function bk(t){let e=Error(`No component factory found for ${rn(t)}.`);return e[Tk]=t,e}var Tk="ngComponent";var Im=class{resolveComponentFactory(e){throw bk(e)}},Md=(()=>{let e=class e{};e.NULL=new Im;let t=e;return t})(),To=class{},Mo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Dk();let t=e;return t})();function Dk(){let t=Me(),e=gn(),n=xi(e.index,t);return(vo(n)?n:t)[st]}var Sk=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Vp={},XC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ak,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Cm=class extends XC{constructor(e){super(),this._lView=e}onDestroy(e){return pI(this._lView,e),()=>EO(this._lView,e)}};function Ak(){return new Cm(Me())}var BE=new Set;function xo(t){BE.has(t)||(BE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $E(...t){}function Mk(){let t=typeof go.requestAnimationFrame=="function",e=go[t?"requestAnimationFrame":"setTimeout"],n=go[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Mk().nativeRequestAnimationFrame,Ok(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,xk,$E,$E);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xk={};function Sg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Pk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(go,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bm(t),t.isCheckStableRunning=!0,Sg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bm(t))}function Ok(t){let e=()=>{Pk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Rk(a))return n.invokeTask(i,o,s,a);try{return HE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return HE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),zE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,bm(t),Sg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function bm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function HE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zE(t){t._nesting--,Sg(t)}function Rk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var JC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function od(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qp(i,a);else if(o==2){let c=a,l=e[++s];r=qp(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sd=class extends Md{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Si(e);return new Ws(n,this.ngModule)}};function GE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Nk(t){let e=t.toLowerCase();return e==="svg"?dO:e==="math"?hO:null}var Tm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_d(r);let i=this.injector.get(e,Vp,r);return i!==Vp||n===Vp?i:this.parentInjector.get(e,n,r)}},Ws=class extends id{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=GE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return GE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tm(e,s):e,c=a.get(To,null);if(c===null)throw new P(407,!1);let l=a.get(Sk,null),u=a.get(JC,null),d=a.get(rc,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?LN(f,r,this.componentDef.encapsulation,a):EC(f,v,Nk(v)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let D=null;E!==null&&(D=dg(E,a,!0));let H=wg(0,null,null,1,0,null,null,null,null,null,null),G=Sd(null,H,null,T,null,null,h,f,a,null,D);tg(G);let p,Q;try{let x=this.componentDef,K,ue=null;x.findHostDirectiveDefs?(K=[],ue=new Map,x.findHostDirectiveDefs(x,K,ue),K.push(x)):K=[x];let Ie=kk(G,E),Te=Fk(Ie,E,x,K,G,h,f);Q=hI(H,yr),E&&jk(f,x,E,r),n!==void 0&&Uk(Q,this.ngContentSelectors,n),p=Lk(Te,x,K,ue,G,[Bk]),bg(H,G,null)}finally{ng()}return new Dm(this.componentType,p,Ys(Q,G),G,Q)}finally{xe(o)}}},Dm=class extends Em{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Cg(o[ye],o,i,e,n),this.previousInputValues.set(e,n);let s=xi(this._tNode.index,o);Tg(s)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kk(t,e){let n=t[ye],r=yr;return t[r]=e,fc(n,r,2,"#host",null)}function Fk(t,e,n,r,i,o,s){let a=i[ye];Vk(r,t,e,s);let c=null;e!==null&&(c=dg(e,i[Bs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Sd(i,RC(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&ym(a,t,r.length-1),Ad(i,d),i[t.index]=d}function Vk(t,e,n,r){for(let i of t)e.mergedAttrs=Qa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(od(e,e.mergedAttrs,!0),n!==null&&AC(r,n,e))}function Lk(t,e,n,r,i,o){let s=gn(),a=i[ye],c=er(s,i);NC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Co(i,a,d,s);Ai(h,i)}kC(a,i,s),c&&Ai(c,i);let l=Co(i,a,s.directiveStart+s.componentOffset,s);if(t[Xn]=i[Xn]=l,o!==null)for(let u of o)u(l,e);return vg(a,s,i),l}function jk(t,e,n,r){if(r)Wp(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=sO(e.selectors[0]);i&&Wp(t,n,i),o&&o.length>0&&SC(t,n,o.join(" "))}}function Uk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Bk(){let t=gn();Id(Me()[ye],t)}var Vt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$k;let t=e;return t})();function $k(){let t=gn();return eb(t,Me())}var Hk=Vt,ZC=class extends Hk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ys(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=fg(this._hostTNode,this._hostLView);if(YI(e)){let n=ed(e,this._hostLView),r=Zu(e),i=n[ye].data[r+8];return new yo(i,n)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=UE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,jE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!CR(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Ws(Si(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Tt,null);E&&(o=E)}let u=Si(c.componentType??{}),d=UE(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,jE(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ft],l=new ZC(c,c[Zn],c[Ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lk(s,i,o,r),e.attachToViewContainerRef(),DI(Lp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=gm(this._lContainer,n);r&&(Yu(Lp(this._lContainer),n),bC(r[ye],r))}detach(e){let n=this._adjustIndex(e,-1),r=gm(this._lContainer,n);return r&&Yu(Lp(this._lContainer),n)!=null?new bo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qE(t){return t[Qu]}function Lp(t){return t[Qu]||(t[Qu]=[])}function eb(t,e){let n,r=e[t.index];return Xr(r)?n=r:(n=FC(r,e,null,t),e[t.index]=n,Ad(e,n)),Gk(n,e,t,r),new ZC(n,t,e)}function zk(t,e){let n=t[st],r=n.createComment(""),i=er(e,t),o=mg(n,i);return nd(n,o,r,DN(n,i),!1),r}var Gk=Kk,qk=()=>!1;function Wk(t,e,n){return qk(t,e,n)}function Kk(t,e,n,r){if(t[wo])return;let i;n.type&8?i=_r(r):i=zk(e,n),t[wo]=i}var Sm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Am=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ag(e,n).matches!==null&&this.queries[n].setDirty()}},Mm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=n1(e):this.predicate=e}},xm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Qk(n,o)),this.matchTNodeWithReadOption(e,n,zu(n,e,o,!1,!1))}else r===Jn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,zu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ct||i===Vt||i===Jn&&n.type&4)this.addMatch(n.index,-2);else{let o=zu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Qk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Yk(t,e){return t.type&11?Ys(t,e):t.type&4?Dg(t,e):null}function Xk(t,e,n,r){return n===-1?Yk(e,t):n===-2?Jk(t,e,r):Co(t,t[ye],n,e)}function Jk(t,e,n){if(n===ct)return Ys(e,t);if(n===Jn)return Dg(e,t);if(n===Vt)return eb(e,t)}function tb(t,e,n,r){let i=e[Gr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(Xk(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Om(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=tb(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=In;d<u.length;d++){let h=u[d];h[ac]===h[Ft]&&Om(h[ye],h,l,r)}if(u[$s]!==null){let d=u[$s];for(let h=0;h<d.length;h++){let f=d[h];Om(f[ye],f,l,r)}}}}}return r}function Zk(t,e){return t[Gr].queries[e].queryList}function e1(t,e,n){let r=new Yp((n&4)===4);return BN(t,e,r,r.destroy),(e[Gr]??=new Am).queries.push(new Sm(r))-1}function t1(t,e,n){let r=Dt();return r.firstCreatePass&&(r1(r,new Mm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),e1(r,Me(),e)}function n1(t){return t.split(",").map(e=>e.trim())}function r1(t,e,n){t.queries===null&&(t.queries=new xm),t.queries.track(new Pm(e,n))}function Ag(t,e){return t.queries.getByIndex(e)}function i1(t,e){let n=t[ye],r=Ag(n,e);return r.crossesNgTemplate?Om(n,t,e,[]):tb(n,t,r,e)}function o1(t){return typeof t=="function"&&t[yi]!==void 0}function ni(t,e){xo("NgSignals");let n=L0(t),r=n[yi];return e?.equal&&(r.equal=e.equal),n.set=i=>cp(r,i),n.update=i=>j0(r,i),n.asReadonly=s1.bind(n),n}function s1(){let t=this[yi];if(t.readonlyFn===void 0){let e=()=>this();e[yi]=t,t.readonlyFn=e}return t.readonlyFn}function nb(t){return o1(t)&&typeof t.set=="function"}function a1(t){return Object.getPrototypeOf(t.prototype).constructor}function ht(t){let e=a1(t.type),n=!0,r=[t];for(;e;){let i;if(qr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Lu(t.inputs),s.inputTransforms=Lu(t.inputTransforms),s.declaredInputs=Lu(t.declaredInputs),s.outputs=Lu(t.outputs);let a=i.hostBindings;a&&h1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&u1(t,c),l&&d1(t,l),c1(t,i),zP(t.outputs,i.outputs),qr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ht&&(n=!1)}}e=Object.getPrototypeOf(e)}l1(r)}function c1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function l1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qa(i.hostAttrs,n=Qa(n,i.hostAttrs))}}function Lu(t){return t===Us?{}:t===mn?[]:t}function u1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function d1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function h1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function xd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Mi=class{},ic=class{};var Rm=class extends Mi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sd(this);let i=aI(e);this._bootstrapComponents=wC(i.bootstrap),this._r3Injector=oC(e,n,[{provide:Mi,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nm=class extends ic{constructor(e){super(),this.moduleType=e}create(e){return new Rm(this.moduleType,e,[])}};var ad=class extends Mi{constructor(e){super(),this.componentFactoryResolver=new sd(this),this.instance=null;let n=new nc([...e.providers,{provide:Mi,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],e.parent||Ed(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Mg(t,e,n=null){return new ad({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Po=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rb(t){return p1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function f1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function p1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function m1(t,e,n){return t[e]=n}function Qr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function g1(t,e,n,r){let i=Qr(t,e,n);return Qr(t,e+1,r)||i}function v1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=fc(e,t,4,s||null,Hs(l,a));Ig(e,n,u,Hs(l,c)),Id(e,u);let d=u.tView=wg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function U(t,e,n,r,i,o,s,a){let c=Me(),l=Dt(),u=t+yr,d=l.firstCreatePass?v1(u,l,c,e,n,r,i,o,s):l.data[u];So(d,!1);let h=y1(l,c,d,t);gd()&&Td(l,c,h,d),Ai(h,c);let f=FC(h,c,h,d);return c[u]=f,Ad(c,f),Wk(f,d,c),pd(d)&&yg(l,c,d),s!=null&&_g(c,d,a),U}var y1=_1;function _1(t,e,n,r){return vd(!0),e[st].createComment("")}function w1(t,e,n,r){return Qr(t,md(),n)?e+ec(n)+r:nr}function E1(t,e,n,r,i,o){let s=PO(),a=g1(t,s,n,i);return Zm(2),a?e+ec(n)+r+ec(i)+o:nr}function ju(t,e){return t<<17|e<<2}function Do(t){return t>>17&32767}function I1(t){return(t&2)==2}function C1(t,e){return t&131071|e<<17}function km(t){return t|2}function Ks(t){return(t&131068)>>2}function jp(t,e){return t&-131069|e<<2}function b1(t){return(t&1)===1}function Fm(t){return t|1}function T1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Do(s),c=Ks(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||cc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Do(t[a+1]);t[r+1]=ju(h,a),h!==0&&(t[h+1]=jp(t[h+1],r)),t[a+1]=C1(t[a+1],r)}else t[r+1]=ju(a,0),a!==0&&(t[a+1]=jp(t[a+1],r)),a=r;else t[r+1]=ju(c,0),a===0?a=r:t[c+1]=jp(t[c+1],r),c=r;l&&(t[r+1]=km(t[r+1])),WE(t,u,r,!0),WE(t,u,r,!1),D1(e,u,t,r,o),s=ju(a,c),o?e.classBindings=s:e.styleBindings=s}function D1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&cc(o,e)>=0&&(n[r+1]=Fm(n[r+1]))}function WE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Do(i):Ks(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];S1(c,e)&&(a=!0,t[s+1]=r?Fm(l):km(l)),s=r?Do(l):Ks(l)}a&&(t[n+1]=r?km(i):Fm(i))}function S1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?cc(t,e)>=0:!1}var Qn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function A1(t){return t.substring(Qn.key,Qn.keyEnd)}function M1(t){return x1(t),ib(t,ob(t,0,Qn.textEnd))}function ib(t,e){let n=Qn.textEnd;return n===e?-1:(e=Qn.keyEnd=P1(t,Qn.key=e,n),ob(t,e,n))}function x1(t){Qn.key=0,Qn.keyEnd=0,Qn.value=0,Qn.valueEnd=0,Qn.textEnd=t.length}function ob(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function P1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function I(t,e,n){let r=Me(),i=md();if(Qr(r,i,e)){let o=Dt(),s=rg();Eg(o,s,r,t,e,r[st],n,!1)}return I}function Vm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Cg(t,n,o[s],s,r)}function Lt(t,e,n){return ab(t,e,n,!1),Lt}function de(t,e){return ab(t,e,null,!0),de}function sb(t){R1(j1,O1,t,!0)}function O1(t,e){for(let n=M1(e);n>=0;n=ib(e,n))og(t,A1(e),!0)}function ab(t,e,n,r){let i=Me(),o=Dt(),s=Zm(2);if(o.firstUpdatePass&&lb(o,t,s,r),e!==nr&&Qr(i,s,e)){let a=o.data[Pi()];ub(o,a,i,i[st],t,i[s+1]=B1(e,n),r,s)}}function R1(t,e,n,r){let i=Dt(),o=Zm(2);i.firstUpdatePass&&lb(i,null,o,r);let s=Me();if(n!==nr&&Qr(s,o,n)){let a=i.data[Pi()];if(db(a,r)&&!cb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=qp(c,n||"")),Vm(i,a,s,n,r)}else U1(i,a,s,s[st],s[o+1],s[o+1]=L1(t,e,n),r,o)}}function cb(t,e){return e>=t.expandoStartIndex}function lb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Pi()],s=cb(t,n);db(o,r)&&e===null&&!s&&(e=!1),e=N1(i,o,e,r),T1(i,o,e,n,s,r)}}function N1(t,e,n,r){let i=yI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Up(null,t,e,n,r),n=oc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Up(i,t,e,n,r),o===null){let c=k1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Up(null,t,e,c[1],r),c=oc(c,e.attrs,r),F1(t,e,r,c))}else o=V1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function k1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ks(r)!==0)return t[Do(r)]}function F1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Do(i)]=r}function V1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=oc(r,s,n)}return oc(r,e.attrs,n)}function Up(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=oc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),og(t,s,n?!0:e[++o]))}return t===void 0?null:t}function L1(t,e,n){if(n==null||n==="")return mn;let r=[],i=Ir(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function j1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&og(t,r,n)}function U1(t,e,n,r,i,o,s,a){i===nr&&(i=mn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,v=null,E;u===d?(c+=2,l+=2,h!==f&&(v=d,E=f)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,E=f),v!==null&&ub(t,e,n,r,v,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function ub(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=b1(l)?KE(c,e,n,i,Ks(l),s):void 0;if(!cd(u)){cd(o)||I1(l)&&(o=KE(c,null,n,i,a,s));let d=dI(Pi(),n);RN(r,s,d,i,o)}}function KE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===nr&&(h=d?mn:void 0);let f=d?Pp(h,r):u===r?h:void 0;if(l&&!cd(f)&&(f=Pp(c,r)),cd(f)&&(a=f,s))return a;let v=t[i+1];i=s?Do(v):Ks(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Pp(c,r))}return a}function cd(t){return t!==void 0}function B1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rn(Ir(t)))),t}function db(t,e){return(t.flags&(e?8:16))!==0}function $1(t,e,n,r,i,o){let s=e.consts,a=Hs(s,i),c=fc(e,t,2,r,a);return Ig(e,n,c,Hs(s,o)),c.attrs!==null&&od(c,c.attrs,!1),c.mergedAttrs!==null&&od(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=Me(),o=Dt(),s=yr+t,a=i[st],c=o.firstCreatePass?$1(s,o,i,e,n,r):o.data[s],l=H1(o,i,c,a,e,t);i[s]=l;let u=pd(c);return So(c,!0),AC(a,l,c),(c.flags&32)!==32&&gd()&&Td(o,i,l,c),IO()===0&&Ai(l,i),CO(),u&&(yg(o,i,c),vg(o,c,i)),r!==null&&_g(i,c),m}function g(){let t=gn();Jm()?vI():(t=t.parent,So(t,!1));let e=t;DO(e)&&SO(),bO();let n=Dt();return n.firstCreatePass&&(Id(n,t),Qm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xR(e)&&Vm(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PR(e)&&Vm(n,e,Me(),e.stylesWithoutHost,!1),g}function $(t,e,n,r){return m(t,e,n,r),g(),$}var H1=(t,e,n,r,i,o)=>(vd(!0),EC(r,i,LO()));function z1(t,e,n,r,i){let o=e.consts,s=Hs(o,r),a=fc(e,t,8,"ng-container",s);s!==null&&od(a,s,!0);let c=Hs(o,i);return Ig(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function We(t,e,n){let r=Me(),i=Dt(),o=t+yr,s=i.firstCreatePass?z1(o,i,r,e,n):i.data[o];So(s,!0);let a=G1(i,r,s,t);return r[o]=a,gd()&&Td(i,r,a,s),Ai(a,r),pd(s)&&(yg(i,r,s),vg(i,s,r)),n!=null&&_g(r,s),We}function Ke(){let t=gn(),e=Dt();return Jm()?vI():(t=t.parent,So(t,!1)),e.firstCreatePass&&(Id(e,t),Qm(t)&&e.queries.elementEnd(t)),Ke}function xg(t,e,n){return We(t,e,n),Ke(),xg}var G1=(t,e,n,r)=>(vd(!0),mN(e[st],""));function X(){return Me()}function Pg(t,e,n){let r=Me(),i=md();if(Qr(r,i,e)){let o=Dt(),s=rg(),a=yI(o.data),c=ik(a,s,r);Eg(o,s,r,t,e,c,n,!0)}return Pg}var ld="en-US";var q1=ld;function W1(t){typeof t=="string"&&(q1=t.toLowerCase().replace(/_/g,"-"))}function C(t,e,n,r){let i=Me(),o=Dt(),s=gn();return hb(o,i,i[st],s,t,e,r),C}function K1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ya],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function hb(t,e,n,r,i,o,s){let a=pd(r),l=t.firstCreatePass&&jC(t),u=e[Xn],d=LC(e),h=!0;if(r.type&3||s){let E=er(r,e),T=s?s(E):E,D=d.length,H=s?p=>s(_r(p[r.index])):r.index,G=null;if(!s&&a&&(G=K1(t,e,i,r.index)),G!==null){let p=G.__ngLastListenerFn__||G;p.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,h=!1}else{o=YE(r,e,u,o,!1);let p=n.listen(T,i,o);d.push(o,p),l&&l.push(i,H,D,D+1)}}else o=YE(r,e,u,o,!1);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let E=v.length;if(E)for(let T=0;T<E;T+=2){let D=v[T],H=v[T+1],Q=e[D][H].subscribe(o),x=d.length;if(d.push(o,Q),l){let K=typeof Q=="function"?x+1:-(x+1);l.push(i,r.index,x,K)}}}}function QE(t,e,n,r){let i=xe(null);try{return pr(6,e,n),n(r)!==!1}catch(o){return UC(t,o),!1}finally{pr(7,e,n),xe(i)}}function YE(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?xi(t.index,e):e;Tg(a);let c=QE(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=QE(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function w(t=1){return VO(t)}function fb(t,e,n){t1(t,e,n)}function Og(t){let e=Me(),n=Dt(),r=_I();eg(r+1);let i=Ag(n,r);if(t.dirty&&vO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=i1(e,r);t.reset(o,UO),t.notifyOnChanges()}return!0}return!1}function Rg(){return Zk(Me(),_I())}function Qe(t){let e=MO();return gO(e,yr+t)}function N(t,e=""){let n=Me(),r=Dt(),i=t+yr,o=r.firstCreatePass?fc(r,i,1,e,null):r.data[i],s=Q1(r,n,o,e,t);n[i]=s,gd()&&Td(r,n,s,o),So(o,!1)}var Q1=(t,e,n,r,i)=>(vd(!0),fN(e[st],r));function Ee(t){return pb("",t,""),Ee}function pb(t,e,n){let r=Me(),i=w1(r,t,e,n);return i!==nr&&BC(r,Pi(),i),pb}function Oo(t,e,n,r,i){let o=Me(),s=E1(o,t,e,n,r,i);return s!==nr&&BC(o,Pi(),s),Oo}function Ri(t,e,n){nb(e)&&(e=e());let r=Me(),i=md();if(Qr(r,i,e)){let o=Dt(),s=rg();Eg(o,s,r,t,e,r[st],n,!1)}return Ri}function Ro(t,e){let n=nb(t);return n&&t.set(e),n}function Ni(t,e){let n=Me(),r=Dt(),i=gn();return hb(r,n,n[st],i,t,e),Ni}function Y1(t,e,n){let r=Dt();if(r.firstCreatePass){let i=qr(t);Lm(n,r.data,r.blueprint,i,!0),Lm(e,r.data,r.blueprint,i,!1)}}function Lm(t,e,n,r,i){if(t=nn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Lm(t[o],e,n,r,i);else{let o=Dt(),s=Me(),a=gn(),c=qs(t)?t:nn(t.provide),l=zI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(qs(t)||!t.multi){let f=new Io(l,i,S),v=$p(c,e,i?u:u+h,d);v===-1?(sm(td(a,s),o,c),Bp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{let f=$p(c,e,u+h,d),v=$p(c,e,u,u+h),E=f>=0&&n[f],T=v>=0&&n[v];if(i&&!T||!i&&!E){sm(td(a,s),o,c);let D=Z1(i?J1:X1,n.length,i,r,l);!i&&T&&(n[v].providerFactory=D),Bp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=mb(n[i?v:f],l,!i&&r);Bp(o,t,f>-1?f:v,D)}!i&&r&&T&&n[v].componentProviders++}}}function Bp(t,e,n,r){let i=qs(e),o=mR(e);if(i||o){let c=(o?nn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function mb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $p(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function X1(t,e,n,r){return jm(this.multi,[])}function J1(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Co(n,n[ye],this.providerFactory.index,r);o=a.slice(0,s),jm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],jm(i,o);return o}function jm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Z1(t,e,n,r,i){let o=new Io(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,mb(o,i,r&&!n),o}function Ng(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y1(r,i?i(t):t,e)}}var eF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=BI(!1,r.type),o=i.length>0?Mg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(V(Tt))});let t=e;return t})();function J(t){xo("NgStandalone"),t.getStandaloneInjector=e=>e.get(eF).getOrCreateStandaloneInjector(t)}function Pd(t,e,n,r){return nF(Me(),xO(),t,e,n,r)}function tF(t,e){let n=t[e];return n===nr?void 0:n}function nF(t,e,n,r,i,o){let s=e+n;return Qr(t,s,i)?m1(t,s+1,o?r.call(o,i):r(i)):tF(t,s+1)}var Yr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},gb=new Yr("17.2.4"),Od=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var vb=new W("");function No(t){return!!t&&typeof t.then=="function"}function yb(t){return!!t&&typeof t.subscribe=="function"}var _b=new W(""),wb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(_b,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(No(s))r.push(s);else if(yb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rd=new W("");function rF(){V0(()=>{throw new P(600,!1)})}function iF(t){return t.isBoundToModule}function oF(t,e,n){try{let r=n();return No(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var br=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(sC),this.afterRenderEffectManager=O(JC),this.componentTypes=[],this.components=[],this.isStable=O(Po).hasPendingTasks.pipe(ie(r=>!r)),this._injector=O(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof id;if(!this._injector.get(wb).done){let f=!o&&sI(r),v=!1;throw new P(405,v)}let a;o?a=r:a=this._injector.get(Md).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=iF(a)?void 0:this._injector.get(Mi),l=i||a.selector,u=a.create(Je.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(vb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Hp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===qC)throw new P(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!zp(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>zp(s))&&(i.execute(),!this._views.some(({_lView:s})=>zp(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,WC(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Rd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zp(t){return Xm(t)}var Um=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kg=(()=>{let e=class e{compileModuleSync(r){return new Nm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=aI(r),s=wC(o.declarations).reduce((a,c)=>{let l=Si(c);return l&&a.push(new Ws(l)),a},[]);return new Um(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sF=(()=>{let e=class e{constructor(){this.zone=O(Ce),this.applicationRef=O(br)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aF(t){return[{provide:Ce,useFactory:t},{provide:Gs,multi:!0,useFactory:()=>{let e=O(sF,{optional:!0});return()=>e.initialize()}},{provide:Gs,multi:!0,useFactory:()=>{let e=O(dF);return()=>{e.initialize()}}},{provide:sC,useFactory:cF}]}function cF(){let t=O(Ce),e=O(wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function lF(t){let e=aF(()=>new Ce(uF(t)));return Oi([[],e])}function uF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dF=(()=>{let e=class e{constructor(){this.subscription=new rt,this.initialized=!1,this.zone=O(Ce),this.pendingTasks=O(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hF(){return typeof $localize<"u"&&$localize.locale||ld}var Fg=new W("",{providedIn:"root",factory:()=>O(Fg,_e.Optional|_e.SkipSelf)||hF()});var Eb=new W("");var qu=null;function fF(t=[],e){return Je.create({name:e,providers:[{provide:wd,useValue:"platform"},{provide:Eb,useValue:new Set([()=>qu=null])},...t]})}function pF(t=[]){if(qu)return qu;let e=fF(t);return qu=e,rF(),mF(e),e}function mF(t){t.get(ag,null)?.forEach(n=>n())}var Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gF;let t=e;return t})();function gF(t){return vF(gn(),Me(),(t&16)===16)}function vF(t,e,n){if(fd(t)&&!n){let r=xi(t.index,e);return new bo(r,r)}else if(t.type&47){let r=e[vr];return new bo(r,e)}return null}var Bm=class{constructor(){}supports(e){return rb(e)}create(e){return new $m(e)}},yF=(t,e)=>e,$m=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<XE(r,i,o)?n:r,a=XE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;u<=v&&v<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!rb(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,f1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Hm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ud),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ud),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ud=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new zm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function XE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function JE(){return new Vg([new Bm])}var Vg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||JE()),deps:[[e,new LI,new an]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new P(901,!1)}};e.\u0275prov=F({token:e,providedIn:"root",factory:JE});let t=e;return t})();function Ib(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=pF(r),o=[lF(),...n||[]],a=new ad({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ce);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(wr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Eb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),oF(l,c,()=>{let f=a.get(wb);return f.runInitializers(),f.donePromise.then(()=>{let v=a.get(Fg,ld);W1(v||ld);let E=a.get(br);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function Rn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var _F=new W("",{providedIn:"root",factory:()=>O(wF)}),wF=(()=>{let e=class e{};e.\u0275prov=F({token:e,providedIn:"root",factory:()=>new Gm});let t=e;return t})(),Gm=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=O(Po),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},qm=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=B0(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ri(t,e){xo("NgSignals"),!e?.injector&&IR(ri);let n=e?.injector??O(Je),r=e?.manualCleanup!==!0?n.get(XC):null,i=new qm(n.get(_F),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(Tr,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[Uu]??=[]).push(i.watcher.notify),i}function Nd(t,e){let n=Si(t),r=e.elementInjector||Ed();return new Ws(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Ab=null;function ii(){return Ab}function Mb(t){Ab??=t}var kd=class{};var jt=new W(""),xb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(IF),providedIn:"platform"});let t=e;return t})();var IF=(()=>{let e=class e extends xb{constructor(){super(),this._doc=O(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Pb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Cb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ko(t){return t&&t[0]!=="?"?"?"+t:t}var Fd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(Ob),providedIn:"root"});let t=e;return t})(),CF=new W(""),Ob=(()=>{let e=class e extends Fd{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Pb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ko(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ko(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ko(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(V(xb),V(CF,8))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pc=(()=>{let e=class e{constructor(r){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=DF(Cb(bb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ko(i))}normalize(r){return e.stripTrailingSlash(TF(this._basePath,bb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ko(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ko(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ko,e.joinWithSlash=Pb,e.stripTrailingSlash=Cb,e.\u0275fac=function(i){return new(i||e)(V(Fd))},e.\u0275prov=F({token:e,factory:()=>bF(),providedIn:"root"});let t=e;return t})();function bF(){return new pc(V(Fd))}function TF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bb(t){return t.replace(/\/index.html$/,"")}function DF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Vd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Lg=/\s+/,Tb=[],Yt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Tb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Lg):Tb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Lg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Lg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(Mo))},e.\u0275dir=at({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var jg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ze=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new jg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Db(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Db(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Vt),S(Jn),S(Vg))},e.\u0275dir=at({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Db(t,e){t.context.$implicit=e.item}var Be=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ug,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Sb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Sb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(Vt),S(Jn))},e.\u0275dir=at({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Ug=class{constructor(){this.$implicit=null,this.ngIf=null}};function Sb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${rn(e)}'.`)}var ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=on({type:e}),e.\u0275inj=sn({});let t=e;return t})(),Rb="browser",SF="server";function mc(t){return t===SF}var Xs=class{};var vc=class{},yc=class{},oi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Hg=class{encodeKey(e){return Nb(e)}encodeValue(e){return Nb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function xF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var PF=/%(\d[a-f0-9])/gi,OF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nb(t){return encodeURIComponent(t).replace(PF,(e,n)=>OF[n]??e)}function Ld(t){return`${t}`}var Fi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=xF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ld):[Ld(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ld(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ld(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var zg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function RF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Fb(t){return typeof Blob<"u"&&t instanceof Blob}function Vb(t){return typeof FormData<"u"&&t instanceof FormData}function NF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var gc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(RF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new oi,this.context??=new zg,!this.params)this.params=new Fi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:kb(this.body)||Fb(this.body)||Vb(this.body)||NF(this.body)||typeof this.body=="string"?this.body:this.body instanceof Fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Vb(this.body)?null:Fb(this.body)?this.body.type||null:kb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Vi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Vi||{}),_c=class{constructor(e,n=Ec.Ok,r="OK"){this.headers=e.headers||new oi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jd=class t extends _c{constructor(e={}){super(e),this.type=Vi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wc=class t extends _c{constructor(e={}){super(e),this.type=Vi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ki=class extends _c{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ec=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ec||{});function Bg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Fo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof gc)s=r;else{let l;o.headers instanceof oi?l=o.headers:l=new oi(o.headers);let u;o.params&&(o.params instanceof Fi?u=o.params:u=new Fi({fromObject:o.params})),s=new gc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ae(s).pipe(Ci(l=>this.handler.handle(l)));if(r instanceof gc||o.observe==="events")return a;let c=a.pipe(Qt(l=>l instanceof wc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Fi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Bg(o,i))}post(r,i,o={}){return this.request("POST",r,Bg(o,i))}put(r,i,o={}){return this.request("PUT",r,Bg(o,i))}};e.\u0275fac=function(i){return new(i||e)(V(vc))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),kF=/^\)\]\}',?\n/,FF="X-Request-URL";function Lb(t){if(t.url)return t.url;let e=FF.toLocaleLowerCase();return t.headers.get(e)}var $g=(()=>{let e=class e{constructor(){this.fetchImpl=O(Gg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=O(Ce)}handle(r){return new se(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(qg,s=>i.error(new ki({error:s}))),()=>o.abort()})}doRequest(r,i,o){return _(this,null,function*(){let s=this.createRequestInit(r),a;try{let v=this.fetchImpl(r.urlWithParams,R({signal:i},s));VF(v),o.next({type:Vi.Sent}),a=yield v}catch(v){o.error(new ki({error:v,status:v.status??0,statusText:v.statusText,url:r.urlWithParams,headers:v.headers}));return}let c=new oi(a.headers),l=a.statusText,u=Lb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new jd({headers:c,status:d,statusText:l,url:u})),a.body){let v=a.headers.get("content-length"),E=[],T=a.body.getReader(),D=0,H,G,p=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:x,value:K}=yield T.read();if(x)break;if(E.push(K),D+=K.length,r.reportProgress){G=r.responseType==="text"?(G??"")+(H??=new TextDecoder).decode(K,{stream:!0}):void 0;let ue=()=>o.next({type:Vi.DownloadProgress,total:v?+v:void 0,loaded:D,partialText:G});p?p.run(ue):ue()}}}));let Q=this.concatChunks(E,D);try{let x=a.headers.get("Content-Type")??"";h=this.parseBody(r,Q,x)}catch(x){o.error(new ki({error:x,headers:new oi(a.headers),status:a.status,statusText:a.statusText,url:Lb(a)??r.urlWithParams}));return}}d===0&&(d=h?Ec.Ok:0),d>=200&&d<300?(o.next(new wc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new ki({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(kF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Gg=class{};function qg(){}function VF(t){t.then(qg,qg)}function LF(t,e){return e(t)}function jF(t,e,n){return(r,i)=>Jr(n,()=>e(r,o=>t(o,i)))}var Wg=new W(""),UF=new W(""),Bb=new W("");var jb=(()=>{let e=class e extends vc{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(Po);let o=O(Bb,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Wg),...this.injector.get(UF,[])]));this.chain=o.reduceRight((s,a)=>jF(s,a,this.injector),LF)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(mo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(V(yc),V(Tt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();var BF=/^\)\]\}',?\n/;function $F(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Ub=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Le(i.\u0275loadImpl()):ae(null)).pipe(bt(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((T,D)=>a.setRequestHeader(T,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let T=r.detectContentTypeHeader();T!==null&&a.setRequestHeader("Content-Type",T)}if(r.responseType){let T=r.responseType.toLowerCase();a.responseType=T!=="json"?T:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let T=a.statusText||"OK",D=new oi(a.getAllResponseHeaders()),H=$F(a)||r.url;return l=new jd({headers:D,status:a.status,statusText:T,url:H}),l},d=()=>{let{headers:T,status:D,statusText:H,url:G}=u(),p=null;D!==Ec.NoContent&&(p=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=p?Ec.Ok:0);let Q=D>=200&&D<300;if(r.responseType==="json"&&typeof p=="string"){let x=p;p=p.replace(BF,"");try{p=p!==""?JSON.parse(p):null}catch(K){p=x,Q&&(Q=!1,p={error:K,text:p})}}Q?(s.next(new wc({body:p,headers:T,status:D,statusText:H,url:G||void 0})),s.complete()):s.error(new ki({error:p,headers:T,status:D,statusText:H,url:G||void 0}))},h=T=>{let{url:D}=u(),H=new ki({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(H)},f=!1,v=T=>{f||(s.next(u()),f=!0);let D={type:Vi.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},E=T=>{let D={type:Vi.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",v),c!==null&&a.upload&&a.upload.addEventListener("progress",E)),a.send(c),s.next({type:Vi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",v),c!==null&&a.upload&&a.upload.removeEventListener("progress",E)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(V(Xs))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),$b=new W(""),HF="XSRF-TOKEN",zF=new W("",{providedIn:"root",factory:()=>HF}),GF="X-XSRF-TOKEN",qF=new W("",{providedIn:"root",factory:()=>GF}),Ud=class{},WF=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(V(jt),V(On),V(zF))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function KF(t,e){let n=t.url.toLowerCase();if(!O($b)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Ud).getToken(),i=O(qF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Kg=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Kg||{});function Hb(t,e){return{\u0275kind:t,\u0275providers:e}}function zb(...t){let e=[Fo,Ub,jb,{provide:vc,useExisting:jb},{provide:yc,useExisting:Ub},{provide:Wg,useValue:KF,multi:!0},{provide:$b,useValue:!0},{provide:Ud,useClass:WF}];for(let n of t)e.push(...n.\u0275providers);return Oi(e)}function Gb(t){return Hb(Kg.Interceptors,t.map(e=>({provide:Wg,useValue:e,multi:!0})))}function qb(){return Hb(Kg.Fetch,[$g,{provide:yc,useExisting:$g},{provide:Bb,useExisting:$g}])}var Kb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Xg;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let v=l<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YF=function(t){let e=Kb(t);return Qb.encodeByteArray(e,!0)},Ic=function(t){return YF(t).replace(/\./g,"")},Zg=function(t){try{return Qb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JF=()=>XF().__FIREBASE_DEFAULTS__,ZF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zg(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return JF()||ZF()||eV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tv=t=>{var e,n;return(n=(e=ev())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yb=t=>{let e=tv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nv=()=>{var t;return(t=ev())===null||t===void 0?void 0:t.config},rv=t=>{var e;return(e=ev())===null||e===void 0?void 0:e[`_${t}`]};var Bd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Xb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ic(JSON.stringify(n)),Ic(JSON.stringify(s)),""].join(".")}function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function Zb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tT(){let t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iv(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var tV="FirebaseError",Cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}},si=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,a,r)}};function nV(t,e){return t.replace(rV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rV=/\{\$([^}]+)}/g;function rT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Wb(o)&&Wb(s)){if(!Vo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Wb(t){return t!==null&&typeof t=="object"}function Cc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iT(t,e){let n=new Jg(t,e);return n.subscribe.bind(n)}var Jg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yg),i.error===void 0&&(i.error=Yg),i.complete===void 0&&(i.complete=Yg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yg(){}var q7=4*60*60*1e3;function Li(t){return t&&t._delegate?t._delegate:t}var Nn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lo="[DEFAULT]";var ov=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Bd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sV(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oV(t){return t===Lo?void 0:t}function sV(t){return t.instantiationMode==="EAGER"}var $d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ov(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var aV=[],Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{}),cV={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},lV=Pe.INFO,uV={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},dV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ji=class{constructor(e){this.name=e,this._logLevel=lV,this._logHandler=dV,this._userLogHandler=null,aV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var hV=(t,e)=>e.some(n=>t instanceof n),oT,sT;function fV(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pV(){return sT||(sT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var aT=new WeakMap,av=new WeakMap,cT=new WeakMap,sv=new WeakMap,lv=new WeakMap;function mV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Dr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&aT.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function gV(t){if(av.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});av.set(t,e)}var cv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lT(t){cv=t(cv)}function vV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hd(this),e,...n);return cT.set(r,e.sort?e.sort():[e]),Dr(r)}:pV().includes(t)?function(...e){return t.apply(Hd(this),e),Dr(aT.get(this))}:function(...e){return Dr(t.apply(Hd(this),e))}}function yV(t){return typeof t=="function"?vV(t):(t instanceof IDBTransaction&&gV(t),hV(t,fV())?new Proxy(t,cv):t)}function Dr(t){if(t instanceof IDBRequest)return mV(t);if(sv.has(t))return sv.get(t);let e=yV(t);return e!==t&&(sv.set(t,e),lv.set(e,t)),e}var Hd=t=>lv.get(t);function dT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Dr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Dr(s.result),c.oldVersion,c.newVersion,Dr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _V=["get","getKey","getAll","getAllKeys","count"],wV=["put","add","delete","clear"],uv=new Map;function uT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=wV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_V.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return uv.set(e,o),o}lT(t=>Ae(R({},t),{get:(e,n,r)=>uT(e,n)||t.get(e,n,r),has:(e,n)=>!!uT(e,n)||t.has(e,n)}));var hv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EV(t){let e=t.getComponent();return e?.type==="VERSION"}var fv="@firebase/app",hT="0.9.28";var jo=new ji("@firebase/app"),IV="@firebase/app-compat",CV="@firebase/analytics-compat",bV="@firebase/analytics",TV="@firebase/app-check-compat",DV="@firebase/app-check",SV="@firebase/auth",AV="@firebase/auth-compat",MV="@firebase/database",xV="@firebase/database-compat",PV="@firebase/functions",OV="@firebase/functions-compat",RV="@firebase/installations",NV="@firebase/installations-compat",kV="@firebase/messaging",FV="@firebase/messaging-compat",VV="@firebase/performance",LV="@firebase/performance-compat",jV="@firebase/remote-config",UV="@firebase/remote-config-compat",BV="@firebase/storage",$V="@firebase/storage-compat",HV="@firebase/firestore",zV="@firebase/firestore-compat",GV="firebase",qV="10.8.1";var pv="[DEFAULT]",WV={[fv]:"fire-core",[IV]:"fire-core-compat",[bV]:"fire-analytics",[CV]:"fire-analytics-compat",[DV]:"fire-app-check",[TV]:"fire-app-check-compat",[SV]:"fire-auth",[AV]:"fire-auth-compat",[MV]:"fire-rtdb",[xV]:"fire-rtdb-compat",[PV]:"fire-fn",[OV]:"fire-fn-compat",[RV]:"fire-iid",[NV]:"fire-iid-compat",[kV]:"fire-fcm",[FV]:"fire-fcm-compat",[VV]:"fire-perf",[LV]:"fire-perf-compat",[jV]:"fire-rc",[UV]:"fire-rc-compat",[BV]:"fire-gcs",[$V]:"fire-gcs-compat",[HV]:"fire-fst",[zV]:"fire-fst-compat","fire-js":"fire-js",[GV]:"fire-js-all"};var bc=new Map,mv=new Map;function KV(t,e){try{t.container.addComponent(e)}catch(n){jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bi(t){let e=t.name;if(mv.has(e))return jo.debug(`There were multiple attempts to register component ${e}.`),!1;mv.set(e,t);for(let n of bc.values())KV(n,t);return!0}function Dc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ui=new si("app","Firebase",QV);var gv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}};var $i=qV;function _v(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(n||(n=nv()),!n)throw Ui.create("no-options");let o=bc.get(i);if(o){if(Vo(n,o.options)&&Vo(r,o.config))return o;throw Ui.create("duplicate-app",{appName:i})}let s=new $d(i);for(let c of mv.values())s.addComponent(c);let a=new gv(n,r,s);return bc.set(i,a),a}function Js(t=pv){let e=bc.get(t);if(!e&&t===pv&&nv())return _v();if(!e)throw Ui.create("no-app",{appName:t});return e}function zd(){return Array.from(bc.values())}function vt(t,e,n){var r;let i=(r=WV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jo.warn(a.join(" "));return}Bi(new Nn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YV="firebase-heartbeat-database",XV=1,Tc="firebase-heartbeat-store",dv=null;function gT(){return dv||(dv=dT(YV,XV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),dv}function JV(t){return _(this,null,function*(){try{let n=(yield gT()).transaction(Tc),r=yield n.objectStore(Tc).get(vT(t));return yield n.done,r}catch(e){if(e instanceof Cn)jo.warn(e.message);else{let n=Ui.create("idb-get",{originalErrorMessage:e?.message});jo.warn(n.message)}}})}function fT(t,e){return _(this,null,function*(){try{let r=(yield gT()).transaction(Tc,"readwrite");yield r.objectStore(Tc).put(e,vT(t)),yield r.done}catch(n){if(n instanceof Cn)jo.warn(n.message);else{let r=Ui.create("idb-set",{originalErrorMessage:n?.message});jo.warn(r.message)}}})}function vT(t){return`${t.name}!${t.options.appId}`}var ZV=1024,eL=30*24*60*60*1e3,vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new yv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=eL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=pT(),{heartbeatsToSend:r,unsentEntries:i}=tL(this._heartbeatsCache.heartbeats),o=Ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function pT(){return new Date().toISOString().substring(0,10)}function tL(t,e=ZV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var yv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return iv()?nT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield JV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return fT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function mT(t){return Ic(JSON.stringify({version:2,heartbeats:t})).length}function nL(t){Bi(new Nn("platform-logger",e=>new hv(e),"PRIVATE")),Bi(new Nn("heartbeat",e=>new vv(e),"PRIVATE")),vt(fv,hT,t),vt(fv,hT,"esm2017"),vt("fire-js","")}nL("");var rL="firebase",iL="10.8.1";vt(rL,iL,"app");var Bo=new Yr("ANGULARFIRE2_VERSION");function qd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sc=(t,e)=>{let n=e?[e]:zd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ea=class{constructor(){return Sc(oL)}},oL="app-check";function Zs(){}var Gd=class{zone;delegate;constructor(e,n=wp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},wv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),n.pipe(ot({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ta=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gd(Zone.current)),this.insideAngular=n.run(()=>new Gd(Zone.current,Ms)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(Ce))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sL(t){return Wd().ngZone.runOutsideAngular(()=>t())}function Uo(t){return Wd().ngZone.run(()=>t())}function aL(t){return cL(Wd())(t)}function cL(t){return function(n){return n=n.lift(new wv(t.ngZone)),n.pipe(Ei(t.outsideAngular),wi(t.insideAngular))}}var lL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Uo(()=>t.apply(void 0,r))},na=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs))),r[o]=lL(r[o],n));let i=sL(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=Wd();return i.pipe(Ei(o.outsideAngular),wi(o.insideAngular))}else return Uo(()=>i);return i instanceof se?i.pipe(aL):i instanceof Promise?Uo(()=>new Promise((o,s)=>i.then(a=>Uo(()=>o(a)),a=>Uo(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Uo(()=>i)};var ai=class{constructor(e){return e}},$o=class{constructor(){return zd()}};function uL(t){return t&&t.length===1?t[0]:new ai(Js())}var Ev=new W("angularfire2._apps"),dL={provide:ai,useFactory:uL,deps:[[new an,Ev]]},hL={provide:$o,deps:[[new an,Ev]]};function fL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var pL=(()=>{class t{constructor(n){vt("angularfire",Bo.full,"core"),vt("angularfire",Bo.full,"app"),vt("angular",gb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(V(On))};static \u0275mod=on({type:t});static \u0275inj=sn({providers:[dL,hL]})}return t})();function yT(t,...e){return{ngModule:pL,providers:[{provide:Ev,useFactory:fL(t),multi:!0,deps:[Ce,Je,ta,...e]}]}}var _T=na(_v,!0);function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NT=RT,kT=new si("auth","Firebase",RT());var Zd=new ji("@firebase/auth");function mL(t,...e){Zd.logLevel<=Pe.WARN&&Zd.warn(`Auth (${$i}): ${t}`,...e)}function Qd(t,...e){Zd.logLevel<=Pe.ERROR&&Zd.error(`Auth (${$i}): ${t}`,...e)}function zi(t,...e){throw Bv(t,...e)}function Ho(t,...e){return Bv(t,...e)}function gL(t,e,n){let r=Object.assign(Object.assign({},NT()),{[e]:n});return new si("auth","Firebase",r).create(e,{appName:t.name})}function Bv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kT.create(t,...e)}function he(t,e,...n){if(!t)throw Bv(e,...n)}function ci(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function Gi(t,e){t||ci(e)}function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vL(){return wT()==="http:"||wT()==="https:"}function wT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vL()||Zb()||"connection"in navigator)?navigator.onLine:!0}function _L(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=Jb()||eT()}get(){return yL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $v(t,e){Gi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var eh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var EL=new zo(3e4,6e4);function Hv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ra(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return FT(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Cc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),eh.fetch()(VT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function FT(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wL),e);try{let i=new Dv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Kd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Kd(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gL(t,u,l);zi(t,u)}}catch(i){if(i instanceof Cn)throw i;zi(t,"network-request-failed",{message:String(i)})}})}function IL(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ra(t,e,n,r,i);return"mfaPendingCredential"in l&&zi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function VT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$v(t.config,i):`${t.config.apiScheme}://${i}`}var Dv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ho(this.auth,"network-request-failed")),EL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Kd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ho(t,e,r);return i.customData._tokenResponse=n,i}function CL(t,e){return _(this,null,function*(){return ra(t,"POST","/v1/accounts:delete",e)})}function bL(t,e){return _(this,null,function*(){return ra(t,"POST","/v1/accounts:lookup",e)})}function Ac(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zv(t,e=!1){return _(this,null,function*(){let n=Li(t),r=yield n.getIdToken(e),i=Gv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ac(Iv(i.auth_time)),issuedAtTime:Ac(Iv(i.iat)),expirationTime:Ac(Iv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Iv(t){return Number(t)*1e3}function Gv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zg(n);return i?JSON.parse(i):(Qd("Failed to decode base64 JWT payload"),null)}catch(i){return Qd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TL(t){let e=Gv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Mc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Cn&&DL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function DL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Sv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var th=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Mc(t,bL(n,{idToken:r}));he(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AL(o.providerUserInfo):[],a=SL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new th(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function qv(t){return _(this,null,function*(){let e=Li(t);yield nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AL(t){return t.map(e=>{var{providerId:n}=e,r=Ip(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function ML(t,e){return _(this,null,function*(){let n=yield FT(t,{},()=>_(this,null,function*(){let r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=VT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function xL(t,e){return _(this,null,function*(){return ra(t,"POST","/v2/accounts:revokeToken",Hv(t,e))})}var rh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return _(this,null,function*(){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield ML(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ci("not implemented")}};function Hi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new th(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Mc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zv(this,e)}reload(){return qv(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){let e=yield this.getIdToken();return yield Mc(this,CL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:G,emailVerified:p,isAnonymous:Q,providerData:x,stsTokenManager:K}=n;he(G&&K,e,"internal-error");let ue=rh.fromJSON(this.name,K);he(typeof G=="string",e,"internal-error"),Hi(d,e.name),Hi(h,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof Q=="boolean",e,"internal-error"),Hi(f,e.name),Hi(v,e.name),Hi(E,e.name),Hi(T,e.name),Hi(D,e.name),Hi(H,e.name);let Ie=new t({uid:G,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:Q,photoURL:v,phoneNumber:f,tenantId:E,stsTokenManager:ue,createdAt:D,lastLoginAt:H});return x&&Array.isArray(x)&&(Ie.providerData=x.map(Te=>Object.assign({},Te))),T&&(Ie._redirectEventId=T),Ie}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new rh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nh(o),o})}};var ET=new Map;function li(t){Gi(t instanceof Function,"Expected a class definition");let e=ET.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ET.set(t,e),e)}var PL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Av=PL;function Yd(t,e,n){return`firebase:${t}:${e}:${n}`}var ih=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(li(Av),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||li(Av),s=Yd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=xc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function IT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($T(e))return"Blackberry";if(HT(e))return"Webos";if(Wv(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function LT(t=St()){return/firefox\//i.test(t)}function Wv(t=St()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(t=St()){return/crios\//i.test(t)}function UT(t=St()){return/iemobile/i.test(t)}function BT(t=St()){return/android/i.test(t)}function $T(t=St()){return/blackberry/i.test(t)}function HT(t=St()){return/webos/i.test(t)}function hh(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OL(t=St()){var e;return hh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RL(){return tT()&&document.documentMode===10}function zT(t=St()){return hh(t)||BT(t)||HT(t)||$T(t)||/windows phone/i.test(t)||UT(t)}function NL(){try{return!!(window&&window!==window.top)}catch{return!1}}function GT(t,e=[]){let n;switch(t){case"Browser":n=IT(St());break;case"Worker":n=`${IT(St())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}var Mv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kL(n){return _(this,arguments,function*(t,e={}){return ra(t,"GET","/v2/passwordPolicy",Hv(t,e))})}var FL=6,xv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:FL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Pv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oh(this),this.idTokenSubscription=new oh(this),this.beforeStateQueue=new Mv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ih.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_L()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){let n=e?Li(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield kL(this),n=new xv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new si("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield xL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&li(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=yield ih.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&mL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Kv(t){return Li(t)}var oh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iT(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qv={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VL(t){Qv=t}function LL(t){return Qv.loadJS(t)}function jL(){return Qv.gapiScript}function qT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Yv(t,e){let n=Dc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Vo(o,e??{}))return i;zi(i,"already-initialized")}return n.initialize({options:e})}function UL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Xv(t,e,n){let r=Kv(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=WT(e),{host:s,port:a}=BL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$L()}function WT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BL(t){let e=WT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:CT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:CT(s)}}}function CT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function $L(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var sh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}};function Cv(t,e){return _(this,null,function*(){return IL(t,"POST","/v1/accounts:signInWithIdp",Hv(t,e))})}var ah=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ov=class extends ah{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield xc._fromIdTokenResponse(e,r,i),s=bT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=bT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function bT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Rv=class t extends Cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function KT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rv._fromErrorAndOperation(t,o,e,r):o})}function HL(t,e,n=!1){return _(this,null,function*(){let r=yield Mc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pc._forOperation(t,"link",r)})}function zL(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Mc(t,KT(r,i,e,t),n);he(o.idToken,r,"internal-error");let s=Gv(o.idToken);he(s,r,"internal-error");let{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),Pc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zi(r,"user-mismatch"),o}})}function GL(t,e,n=!1){return _(this,null,function*(){let r="signIn",i=yield KT(t,r,e),o=yield Pc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Jv(t,e,n,r){return Li(t).onIdTokenChanged(e,n,r)}function Zv(t,e,n){return Li(t).beforeAuthStateChanged(e,n)}var ch="__sak";var lh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function qL(){let t=St();return Wv(t)||hh(t)}var WL=1e3,KL=10,QL=(()=>{class t extends lh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qL()&&NL(),this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);RL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,KL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},WL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield vi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield vi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield vi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),QT=QL;var YL=(()=>{class t extends lh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ey=YL;function XL(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var JL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>_(this,null,function*(){return u(r.origin,s)})),l=yield XL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function YT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Nv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=YT("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sr(){return window}function ZL(t){Sr().location.href=t}function XT(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}function e2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function t2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n2(){return XT()?self:null}var JT="firebaseLocalStorageDb",r2=1,uh="firebaseLocalStorage",ZT="fbase_key",Go=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function fh(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function i2(){let t=indexedDB.deleteDatabase(JT);return new Go(t).toPromise()}function kv(){let t=indexedDB.open(JT,r2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(uh,{keyPath:ZT})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),yield i2(),e(yield kv()))}))})}function TT(t,e,n){return _(this,null,function*(){let r=fh(t,!0).put({[ZT]:e,value:n});return new Go(r).toPromise()})}function o2(t,e){return _(this,null,function*(){let n=fh(t,!1).get(e),r=yield new Go(n).toPromise();return r===void 0?null:r.value})}function DT(t,e){let n=fh(t,!0).delete(e);return new Go(n).toPromise()}var s2=800,a2=3,c2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield kv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>a2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return XT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=JL._getInstance(n2()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield e2(),!this.activeServiceWorker)return;this.sender=new Nv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield kv();return yield TT(n,ch,"1"),yield DT(n,ch),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>TT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>o2(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>DT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=fh(o,!1).getAll();return new Go(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),eD=c2;var LQ=qT("rcb"),jQ=new zo(3e4,6e4);function l2(t,e){return e?li(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Oc=class extends sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function u2(t){return GL(t.auth,new Oc(t),t.bypassAuthState)}function d2(t){let{auth:e,user:n}=t;return he(n,e,"internal-error"),zL(n,new Oc(t),t.bypassAuthState)}function h2(t){return _(this,null,function*(){let{auth:e,user:n}=t;return he(n,e,"internal-error"),HL(n,new Oc(t),t.bypassAuthState)})}var Fv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:zi(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var UQ=new zo(2e3,1e4);var f2="pendingRedirect",Xd=new Map,Vv=class t extends Fv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Xd.get(this.auth._key());if(!e){try{let r=(yield p2(this.resolver,this.auth))?yield vi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xd.set(this.auth._key(),e)}return this.bypassAuthState||Xd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return vi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function p2(t,e){return _(this,null,function*(){let n=v2(e),r=g2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function m2(t,e){Xd.set(t._key(),e)}function g2(t){return li(t._redirectPersistence)}function v2(t){return Yd(f2,t.config.apiKey,t.name)}function y2(t,e,n=!1){return _(this,null,function*(){let r=Kv(t),i=l2(r,e),s=yield new Vv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var _2=10*60*1e3,Lv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ho(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(e))}saveEventToCache(e){this.cachedEventUids.add(ST(e)),this.lastProcessedEventTime=Date.now()}};function ST(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(t);default:return!1}}function E2(n){return _(this,arguments,function*(t,e={}){return ra(t,"GET","/v1/projects",e)})}var I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C2=/^https?/;function b2(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield E2(t);for(let n of e)try{if(T2(n))return}catch{}zi(t,"unauthorized-domain")})}function T2(t){let e=Tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!C2.test(n))return!1;if(I2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D2=new zo(3e4,6e4);function AT(){let t=Sr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S2(t){return new Promise((e,n)=>{var r,i,o;function s(){AT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AT(),n(Ho(t,"network-request-failed"))},timeout:D2.get()})}if(!((i=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Sr().gapi)===null||o===void 0)&&o.load)s();else{let a=qT("iframefcb");return Sr()[a]=()=>{gapi.load?s():n(Ho(t,"network-request-failed"))},LL(`${jL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Jd=null,e})}var Jd=null;function A2(t){return Jd=Jd||S2(t),Jd}var M2=new zo(5e3,15e3),x2="__/auth/iframe",P2="emulator/auth/iframe",O2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(t){let e=t.config;he(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?$v(e,P2):`https://${t.config.authDomain}/${x2}`,r={apiKey:e.apiKey,appName:t.name,v:$i},i=R2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cc(r).slice(1)}`}function k2(t){return _(this,null,function*(){let e=yield A2(t),n=Sr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:N2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O2,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ho(t,"network-request-failed"),a=Sr().setTimeout(()=>{o(s)},M2.get());function c(){Sr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var F2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,L2=600,j2="_blank",U2="http://localhost",dh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function B2(t,e,n,r=V2,i=L2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},F2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=St().toLowerCase();n&&(a=jT(l)?j2:n),LT(l)&&(e=e||U2,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,v])=>`${h}${f}=${v},`,"");if(OL(l)&&a!=="_self")return $2(e||"",a),new dh(null);let d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new dh(d)}function $2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var H2="__/auth/handler",z2="emulator/auth/handler",G2=encodeURIComponent("fac");function MT(t,e,n,r,i,o){return _(this,null,function*(){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$i,eventId:i};if(e instanceof ah){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Ov){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${G2}=${encodeURIComponent(c)}`:"";return`${q2(t)}?${Cc(a).slice(1)}${l}`})}function q2({config:t}){return t.emulator?$v(t,z2):`https://${t.authDomain}/${H2}`}var bv="webStorageSupport",jv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ey,this._completeRedirectFn=y2,this._overrideRedirectResult=m2}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield MT(e,n,r,Tv(),i);return B2(e,s,YT())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield MT(e,n,r,Tv(),i);return ZL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield k2(e),r=new Lv(e);return n.register("authEvent",i=>(he(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bv,{type:bv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[bv];s!==void 0&&n(!!s),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zT()||Wv()||hh()}},nD=jv;var xT="@firebase/auth",PT="1.6.1";var Uv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function W2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(t){Bi(new Nn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(t)},l=new Pv(r,i,o,c);return UL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bi(new Nn("auth-internal",e=>{let n=Kv(e.getProvider("auth").getImmediate());return(r=>new Uv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(xT,PT,W2(t)),vt(xT,PT,"esm2017")}var Q2=5*60,Y2=rv("authIdTokenMaxAge")||Q2,OT=null,X2=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y2)return;let i=n?.token;OT!==i&&(OT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ty(t=Js()){let e=Dc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Yv(t,{popupRedirectResolver:nD,persistence:[eD,QT,ey]}),r=rv("authTokenSyncURL");if(r){let o=X2(r);Zv(n,o,()=>o(n.currentUser)),Jv(n,s=>o(s))}let i=tv("auth");return i&&Xv(n,`http://${i}`),n}function J2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ho("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",J2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");var rD="auth",Rc=class{constructor(e){return e}},Nc=class{constructor(){return Sc(rD)}};var ny=new W("angularfire2.auth-instances");function qj(t,e){let n=qd(rD,t,e);return n&&new Rc(n)}function Wj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Rc(r)}}var Kj={provide:Nc,deps:[[new an,ny]]},Qj={provide:Rc,useFactory:qj,deps:[[new an,ny],ai]},Yj=(()=>{class t{constructor(){vt("angularfire",Bo.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=on({type:t});static \u0275inj=sn({providers:[Qj,Kj]})}return t})();function iD(t,...e){return{ngModule:Yj,providers:[{provide:ny,useFactory:Wj(t),multi:!0,deps:[Ce,Je,ta,$o,[new an,ea],...e]}]}}var oD=na(ty,!0);var Xj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ir={},j,by=by||{},ce=Xj||self;function Sh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Kc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jj(t){return Object.prototype.hasOwnProperty.call(t,ry)&&t[ry]||(t[ry]=++Zj)}var ry="closure_uid_"+(1e9*Math.random()>>>0),Zj=0;function e3(t,e,n){return t.call.apply(t.bind,arguments)}function t3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=e3:Xt=t3,Xt.apply(null,arguments)}function ph(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function qi(){this.s=this.s,this.o=this.o}var n3=0;qi.prototype.s=!1;qi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),n3!=0)&&Jj(this)};qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var yD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ty(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Sh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var r3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function Uc(t){return/^[\s\xa0]*$/.test(t)}function Ah(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Ar(t){return Ah().indexOf(t)!=-1}function Dy(t){return Dy[" "](t),t}Dy[" "]=function(){};function i3(t,e){var n=q3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var o3=Ar("Opera"),aa=Ar("Trident")||Ar("MSIE"),_D=Ar("Edge"),cy=_D||aa,wD=Ar("Gecko")&&!(Ah().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge"))&&!(Ar("Trident")||Ar("MSIE"))&&!Ar("Edge"),s3=Ah().toLowerCase().indexOf("webkit")!=-1&&!Ar("Edge");function ED(){var t=ce.document;return t?t.documentMode:void 0}var ly;e:{if(mh="",gh=function(){var t=Ah();if(wD)return/rv:([^\);]+)(\)|;)/.exec(t);if(_D)return/Edge\/([\d\.]+)/.exec(t);if(aa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(s3)return/WebKit\/(\S+)/.exec(t);if(o3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),gh&&(mh=gh?gh[1]:""),aa&&(vh=ED(),vh!=null&&vh>parseFloat(mh))){ly=String(vh);break e}ly=mh}var mh,gh,vh,uy;ce.document&&aa?(iy=ED(),uy=iy||parseInt(ly,10)||void 0):uy=void 0;var iy,a3=uy;function Bc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wD){e:{try{Dy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:c3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.$.h.call(this)}}Mt(Bc,Jt);var c3={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),l3=0;function u3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++l3,this.fa=this.ia=!1}function Mh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sy(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function d3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function ID(t){let e={};for(let n in t)e[n]=t[n];return e}var aD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<aD.length;o++)n=aD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xh(t){this.src=t,this.g={},this.h=0}xh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=hy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new u3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function dy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Mh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function hy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ay="closure_lm_"+(1e6*Math.random()|0),oy={};function bD(t,e,n,r,i){if(r&&r.once)return DD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)bD(t,e[o],n,r,i);return null}return n=Py(n),t&&t[Qc]?t.O(e,n,Kc(r)?!!r.capture:!!r,i):TD(t,e,n,!1,r,i)}function TD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Kc(i)?!!i.capture:!!i,a=xy(t);if(a||(t[Ay]=a=new xh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=h3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)r3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function h3(){function t(n){return e.call(t.src,t.listener,n)}let e=f3;return t}function DD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)DD(t,e[o],n,r,i);return null}return n=Py(n),t&&t[Qc]?t.P(e,n,Kc(r)?!!r.capture:!!r,i):TD(t,e,n,!0,r,i)}function SD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)SD(t,e[o],n,r,i);else r=Kc(r)?!!r.capture:!!r,n=Py(n),t&&t[Qc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=hy(o,n,r,i),-1<n&&(Mh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=xy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=hy(e,n,r,i)),(n=-1<t?e[t]:null)&&My(n))}function My(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Qc])dy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xy(e))?(dy(n,t),n.h==0&&(n.src=null,e[Ay]=null)):Mh(t)}}}function AD(t){return t in oy?oy[t]:oy[t]="on"+t}function f3(t,e){if(t.fa)t=!0;else{e=new Bc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&My(t),t=n.call(r,e)}return t}function xy(t){return t=t[Ay],t instanceof xh?t:null}var sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Py(t){return typeof t=="function"?t:(t[sy]||(t[sy]=function(e){return t.handleEvent(e)}),t[sy])}function At(){qi.call(this),this.i=new xh(this),this.S=this,this.J=null}Mt(At,qi);At.prototype[Qc]=!0;At.prototype.removeEventListener=function(t,e,n,r){SD(this,t,e,n,r)};function Bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;e=new Jt(r,t),CD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=yh(s,r,!0,e)&&i}if(s=e.g=t,i=yh(s,r,!0,e)&&i,i=yh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=yh(s,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mh(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&dy(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Oy=ce.JSON.stringify,fy=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function p3(){var t=Ry;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var py=class{constructor(){this.h=this.g=null}add(e,n){let r=MD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},MD=new fy(()=>new my,t=>t.reset()),my=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function m3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function g3(t){ce.setTimeout(()=>{throw t},0)}var $c,Hc=!1,Ry=new py,xD=()=>{let t=ce.Promise.resolve(void 0);$c=()=>{t.then(v3)}},v3=()=>{for(var t;t=p3();){try{t.h.call(t.g)}catch(n){g3(n)}var e=MD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hc=!1};function Ph(t,e){At.call(this),this.h=t||1,this.g=e||ce,this.j=Xt(this.qb,this),this.l=Date.now()}Mt(Ph,At);j=Ph.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bt(this,"tick"),this.ga&&(Ny(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ny(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Ph.$.N.call(this),Ny(this),delete this.g};function ky(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function PD(t){t.g=ky(()=>{t.g=null,t.i&&(t.i=!1,PD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var gy=class extends qi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PD(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function zc(t){qi.call(this),this.h=t,this.g={}}Mt(zc,qi);var cD=[];function OD(t,e,n,r){Array.isArray(n)||(n&&(cD[0]=n.toString()),n=cD);for(var i=0;i<n.length;i++){var o=bD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function RD(t){Sy(t.g,function(e,n){this.g.hasOwnProperty(n)&&My(e)},t),t.g={}}zc.prototype.N=function(){zc.$.N.call(this),RD(this)};zc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Oh(){this.g=!0}Oh.prototype.Ea=function(){this.g=!1};function y3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function _3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function oa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+E3(t,n)+(r?" "+r:"")})}function w3(t,e){t.info(function(){return"TIMEOUT: "+e})}Oh.prototype.info=function(){};function E3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Oy(n)}catch{return e}}var Qo={},lD=null;function Rh(){return lD=lD||new At}Qo.Ta="serverreachability";function ND(t){Jt.call(this,Qo.Ta,t)}Mt(ND,Jt);function Gc(t){let e=Rh();Bt(e,new ND(e))}Qo.STAT_EVENT="statevent";function kD(t,e){Jt.call(this,Qo.STAT_EVENT,t),this.stat=e}Mt(kD,Jt);function cn(t){let e=Rh();Bt(e,new kD(e,t))}Qo.Ua="timingevent";function FD(t,e){Jt.call(this,Qo.Ua,t),this.size=e}Mt(FD,Jt);function Yc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Nh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fy(){}Fy.prototype.h=null;function uD(t){return t.h||(t.h=t.i())}function LD(){}var Xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vy(){Jt.call(this,"d")}Mt(Vy,Jt);function Ly(){Jt.call(this,"c")}Mt(Ly,Jt);var vy;function kh(){}Mt(kh,Fy);kh.prototype.g=function(){return new XMLHttpRequest};kh.prototype.i=function(){return{}};vy=new kh;function Jc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zc(this),this.P=I3,t=cy?125:void 0,this.V=new Ph(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jD}function jD(){this.i=null,this.g="",this.h=!1}var I3=45e3,UD={},yy={};j=Jc.prototype;j.setTimeout=function(t){this.P=t};function _y(t,e,n){t.L=1,t.A=Vh(di(e)),t.u=n,t.S=!0,BD(t,null)}function BD(t,e){t.G=Date.now(),Zc(t),t.B=di(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),QD(n.i,"t",r),t.o=0,n=t.l.J,t.h=new jD,t.g=gS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gy(Xt(t.Pa,t,t.g),t.O)),OD(t.U,t.g,"readystatechange",t.nb),e=t.I?ID(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Gc(),y3(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;let e=this.M;e&&Mr(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{let u=Mr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||cy||this.g&&(this.h.h||this.g.ja()||pD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Gc(3):Gc(2)),Fh(this);var n=this.g.da();this.ca=n;t:if($D(this)){var r=pD(this.g);t="";var i=r.length,o=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qo(this),jc(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,_3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uc(a)){var l=a;break t}}l=null}if(n=l)oa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,n);else{this.i=!1,this.s=3,cn(12),qo(this),jc(this);break e}}this.S?(HD(this,u,s),cy&&this.i&&u==3&&(OD(this.U,this.V,"tick",this.mb),this.V.start())):(oa(this.j,this.m,s,null),wy(this,s)),u==4&&qo(this),this.i&&!this.J&&(u==4?hS(this.l,this):(this.i=!1,Zc(this)))}else H3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),qo(this),jc(this)}}}catch{}finally{}};function $D(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function HD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=C3(t,n),i==yy){e==4&&(t.s=4,cn(14),r=!1),oa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==UD){t.s=4,cn(15),oa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else oa(t.j,t.m,i,null),wy(t,i);$D(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zy(e),e.M=!0,cn(11))):(oa(t.j,t.m,n,"[Invalid Chunked Response]"),qo(t),jc(t))}j.mb=function(){if(this.g){var t=Mr(this.g),e=this.g.ja();this.o<e.length&&(Fh(this),HD(this,t,e),this.i&&t!=4&&Zc(this))}};function C3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?yy:(n=Number(e.substring(n,r)),isNaN(n)?UD:(r+=1,r+n>e.length?yy:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,qo(this)};function Zc(t){t.Y=Date.now()+t.P,zD(t,t.P)}function zD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Yc(Xt(t.lb,t),e)}function Fh(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(w3(this.j,this.B),this.L!=2&&(Gc(),cn(17)),qo(this),this.s=2,jc(this)):zD(this,this.Y-t)};function jc(t){t.l.H==0||t.J||hS(t.l,t)}function qo(t){Fh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ny(t.V),RD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ey(n.i,t))){if(!t.K&&Ey(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ch(n),Uh(n);else break e;Hy(n),cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Yc(Xt(n.ib,n),6e3));if(1>=JD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wo(n,11)}else if((t.K||n.g==t)&&Ch(n),!Uc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(jy(o,o.h),o.h=null))}if(r.F){let E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,$e(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=mS(r,r.J?r.pa:null,r.Y),s.K){ZD(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Fh(a),Zc(a)),r.g=s}else uS(r);0<n.j.length&&Bh(n)}else l[0]!="stop"&&l[0]!="close"||Wo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Wo(n,7):$y(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Gc(4)}catch{}}function b3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function T3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function GD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=T3(t),r=b3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var qD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ko){this.h=t.h,Eh(this,t.j),this.s=t.s,this.g=t.g,Ih(this,t.m),this.l=t.l;var e=t.i,n=new qc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dD(this,n),this.o=t.o}else t&&(e=String(t).match(qD))?(this.h=!1,Eh(this,e[1]||"",!0),this.s=Vc(e[2]||""),this.g=Vc(e[3]||"",!0),Ih(this,e[4]),this.l=Vc(e[5]||"",!0),dD(this,e[6]||"",!0),this.o=Vc(e[7]||"")):(this.h=!1,this.i=new qc(null,this.h))}Ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lc(e,hD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lc(e,hD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lc(n,n.charAt(0)=="/"?M3:A3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lc(n,P3)),t.join("")};function di(t){return new Ko(t)}function Eh(t,e,n){t.j=n?Vc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ih(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dD(t,e,n){e instanceof qc?(t.i=e,O3(t.i,t.h)):(n||(e=Lc(e,x3)),t.i=new qc(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Vh(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,S3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function S3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hD=/[#\/\?@]/g,A3=/[#\?:]/g,M3=/[#\?]/g,x3=/[#\?@]/g,P3=/#/g;function qc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wi(t){t.g||(t.g=new Map,t.h=0,t.i&&D3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=qc.prototype;j.add=function(t,e){Wi(this),this.i=null,t=ca(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WD(t,e){Wi(t),e=ca(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KD(t,e){return Wi(t),e=ca(t,e),t.g.has(e)}j.forEach=function(t,e){Wi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){Wi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};j.Z=function(t){Wi(this);let e=[];if(typeof t=="string")KD(this,t)&&(e=e.concat(this.g.get(ca(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Wi(this),this.i=null,t=ca(this,t),KD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QD(t,e,n){WD(t,e),0<n.length&&(t.i=null,t.g.set(ca(t,e),Ty(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ca(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function O3(t,e){e&&!t.j&&(Wi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WD(this,r),QD(this,i,n))},t)),t.j=e}var R3=class{constructor(t,e){this.g=t,this.map=e}};function YD(t){this.l=t||N3,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var N3=10;function XD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function JD(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jy(t,e){t.g?t.g.add(e):t.h=e}function ZD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YD.prototype.cancel=function(){if(this.i=eS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function eS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Ty(t.i)}var k3=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function F3(){this.g=new k3}function V3(t,e,n){let r=n||"";try{GD(t,function(i,o){let s=i;Kc(i)&&(s=Oy(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L3(t,e){let n=new Oh;if(ce.Image){let r=new Image;r.onload=ph(_h,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ph(_h,n,r,"TestLoadImage: error",!1,e),r.onabort=ph(_h,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ph(_h,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _h(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function el(t){this.l=t.ec||null,this.j=t.ob||!1}Mt(el,Fy);el.prototype.g=function(){return new Lh(this.l,this.j)};el.prototype.i=function(t){return function(){return t}}({});function Lh(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(Lh,At);var Uy=0;j=Lh.prototype;j.open=function(t,e){if(this.readyState!=Uy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wc(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=Uy};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function tS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tl(this):Wc(this),this.readyState==3&&tS(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,tl(this))};j.Ya=function(t){this.g&&(this.response=t,tl(this))};j.ka=function(){this.g&&tl(this)};function tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wc(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j3=ce.JSON.parse;function Ze(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nS,this.L=this.M=!1}Mt(Ze,At);var nS="",U3=/^https?$/i,B3=["POST","PUT"];j=Ze.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vy.g(),this.C=this.u?uD(this.u):uD(vy),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){fD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=yD(B3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oS(this),0<this.B&&((this.L=$3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=ky(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){fD(this,o)}};function $3(t){return aa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof by<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))};function fD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,rS(t),jh(t)}function rS(t){t.F||(t.F=!0,Bt(t,"complete"),Bt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),jh(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jh(this,!0)),Ze.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?iS(this):this.kb())};j.kb=function(){iS(this)};function iS(t){if(t.h&&typeof by<"u"&&(!t.C[1]||Mr(t)!=4||t.da()!=2)){if(t.v&&Mr(t)==4)ky(t.La,0,t);else if(Bt(t,"readystatechange"),Mr(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(qD)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!U3.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var o=2<Mr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",rS(t)}}finally{jh(t)}}}}function jh(t,e){if(t.g){oS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function oS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Mr(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j3(e)}};function pD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case nS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function H3(t){let e={};t=(t.g&&2<=Mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Uc(t[r]))continue;var n=m3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}d3(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sS(t){let e="";return Sy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function By(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function kc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function aS(t){this.Ga=0,this.j=[],this.l=new Oh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kc("baseRetryDelayMs",5e3,t),this.hb=kc("retryDelaySeedMs",1e4,t),this.eb=kc("forwardChannelMaxRetries",2,t),this.xa=kc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YD(t&&t.concurrentRequestLimit),this.Ja=new F3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=aS.prototype;j.ra=8;j.H=1;function $y(t){if(cS(t),t.H==3){var e=t.W++,n=di(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),nl(t,n),e=new Jc(t,t.l,e),e.L=2,e.A=Vh(di(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=gS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Zc(e)}pS(t)}function Uh(t){t.g&&(zy(t),t.g.cancel(),t.g=null)}function cS(t){Uh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Ch(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Bh(t){if(!XD(t.i)&&!t.m){t.m=!0;var e=t.Na;$c||xD(),Hc||($c(),Hc=!0),Ry.add(e,t),t.C=0}}function z3(t,e){return JD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Yc(Xt(t.Na,t,e),fS(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Jc(this,this.l,t),o=this.s;if(this.U&&(o?(o=ID(o),CD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lS(this,i,e),n=di(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),nl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(sS(o)))+"&"+e:this.o&&By(n,this.o,o)),jy(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,_y(i,n,null)):_y(i,n,e),this.H=2}}else this.H==3&&(t?mD(this,t):this.j.length==0||XD(this.i)||mD(this))};function mD(t,e){var n;e?n=e.m:n=t.W++;let r=di(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),nl(t,r),t.o&&t.s&&By(r,t.o,t.s),n=new Jc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jy(t.i,n),_y(n,r,e)}function nl(t,e){t.na&&Sy(t.na,function(n,r){$e(e,r,n)}),t.h&&GD({},function(n,r){$e(e,r,n)})}function lS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{V3(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function uS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$c||xD(),Hc||($c(),Hc=!0),Ry.add(e,t),t.A=0}}function Hy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Yc(Xt(t.Ma,t),fS(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,dS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yc(Xt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cn(10),Uh(this),dS(this))};function zy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function dS(t){t.g=new Jc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=di(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),nl(t,e),t.o&&t.s&&By(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vh(di(e)),n.u=null,n.S=!0,BD(n,t)}j.ib=function(){this.v!=null&&(this.v=null,Uh(this),Hy(this),cn(19))};function Ch(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function hS(t,e){var n=null;if(t.g==e){Ch(t),zy(t),t.g=null;var r=2}else if(Ey(t.i,e))n=e.F,ZD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Rh(),Bt(r,new FD(r,n)),Bh(t)}else uS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&z3(t,e)||r==2&&Hy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}}function fS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new Ko("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Eh(n,"https"),Vh(n)),L3(n.toString(),r)}else cn(2);t.H=0,t.h&&t.h.za(e),pS(t),cS(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),cn(2)):(this.l.info("Failed to ping google.com"),cn(1))};function pS(t){if(t.H=0,t.ma=[],t.h){let e=eS(t.i);(e.length!=0||t.j.length!=0)&&(sD(t.ma,e),sD(t.ma,t.j),t.i.i.length=0,Ty(t.j),t.j.length=0),t.h.ya()}}function mS(t,e,n){var r=n instanceof Ko?di(n):new Ko(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ih(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ko(null);r&&Eh(o,r),e&&(o.g=e),i&&Ih(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),nl(t,r),r}function gS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ze(new el({ob:n})):new Ze(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function vS(){}j=vS.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function bh(){if(aa&&!(10<=Number(a3)))throw Error("Environmental error: no available transport.")}bh.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){At.call(this),this.g=new aS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new la(this)}Mt(bn,At);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;cn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=mS(t,null,t.Y),Bh(t)};bn.prototype.close=function(){$y(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Oy(t),t=n);e.j.push(new R3(e.fb++,t)),e.H==3&&Bh(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,$y(this.g),delete this.g,bn.$.N.call(this)};function yS(t){Vy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mt(yS,Vy);function _S(){Ly.call(this),this.status=1}Mt(_S,Ly);function la(t){this.g=t}Mt(la,vS);la.prototype.Ba=function(){Bt(this.g,"a")};la.prototype.Aa=function(t){Bt(this.g,new yS(t))};la.prototype.za=function(t){Bt(this.g,new _S)};la.prototype.ya=function(){Bt(this.g,"b")};function G3(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mt(rr,G3);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ay(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ay(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ay(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ay(this,r),i=0;break}}this.h=i,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var q3={};function Gy(t){return-128<=t&&128>t?i3(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return sa;if(0>t)return Ut(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Iy;return new Fe(e,0)}function wS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ut(wS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=sa,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xr(Math.pow(e,o)),r=r.R(o).add(xr(s))):(r=r.R(n),r=r.add(xr(s)))}return r}var Iy=4294967296,sa=Gy(0),Cy=Gy(1),gD=Gy(16777216);j=Fe.prototype;j.ea=function(){if(kn(this))return-Ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Iy+r)*e,e*=Iy}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ui(this))return"0";if(kn(this))return"-"+Ut(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=Dh(n,e).g;n=Th(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ui(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function kn(t){return t.h==-1}j.X=function(t){return t=Th(this,t),kn(t)?-1:ui(t)?0:1};function Ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(Cy)}j.abs=function(){return kn(this)?Ut(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Th(t,e){return t.add(Ut(e))}j.R=function(t){if(ui(this)||ui(t))return sa;if(kn(this))return kn(t)?Ut(this).R(Ut(t)):Ut(Ut(this).R(t));if(kn(t))return Ut(this.R(Ut(t)));if(0>this.X(gD)&&0>t.X(gD))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,wh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,wh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,wh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,wh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function wh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fc(t,e){this.g=t,this.h=e}function Dh(t,e){if(ui(e))throw Error("division by zero");if(ui(t))return new Fc(sa,sa);if(kn(t))return e=Dh(Ut(t),e),new Fc(Ut(e.g),Ut(e.h));if(kn(e))return e=Dh(t,Ut(e)),new Fc(Ut(e.g),e.h);if(30<t.g.length){if(kn(t)||kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Cy,r=e;0>=r.X(t);)n=vD(n),r=vD(r);var i=ia(n,1),o=ia(r,1);for(r=ia(r,2),n=ia(n,2);!ui(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ia(r,1),n=ia(n,1)}return e=Th(t,i.R(e)),new Fc(i,e)}for(i=sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xr(n),s=o.R(e);kn(s)||0<s.X(t);)n-=r,o=xr(n),s=o.R(e);ui(o)&&(o=Cy),i=i.add(o),t=Th(t,s)}return new Fc(i,t)}j.gb=function(t){return Dh(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function vD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function ia(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Fe(i,t.h)}bh.prototype.createWebChannel=bh.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Nh.NO_ERROR=0;Nh.TIMEOUT=8;Nh.HTTP_ERROR=6;VD.COMPLETE="complete";LD.EventType=Xc;Xc.OPEN="a";Xc.CLOSE="b";Xc.ERROR="c";Xc.MESSAGE="d";At.prototype.listen=At.prototype.O;Ze.prototype.listenOnce=Ze.prototype.P;Ze.prototype.getLastError=Ze.prototype.Sa;Ze.prototype.getLastErrorCode=Ze.prototype.Ia;Ze.prototype.getStatus=Ze.prototype.da;Ze.prototype.getResponseJson=Ze.prototype.Wa;Ze.prototype.getResponseText=Ze.prototype.ja;Ze.prototype.send=Ze.prototype.ha;Ze.prototype.setWithCredentials=Ze.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=xr;Fe.fromString=wS;var W3=ir.createWebChannelTransport=function(){return new bh},K3=ir.getStatEventTarget=function(){return Rh()},Q3=ir.ErrorCode=Nh,Y3=ir.EventType=VD,X3=ir.Event=Qo,J3=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AY=ir.FetchXmlHttpFactory=el,Z3=ir.WebChannel=LD,eU=ir.XhrIo=Ze,tU=ir.Md5=rr,ES=ir.Integer=Fe;var IS="@firebase/firestore";var xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");var rl="10.8.1";var da=new ji("@firebase/firestore");function Tn(t,...e){if(da.logLevel<=Pe.DEBUG){let n=e.map(f_);da.debug(`Firestore (${rl}): ${t}`,...n)}}function h_(t,...e){if(da.logLevel<=Pe.ERROR){let n=e.map(f_);da.error(`Firestore (${rl}): ${t}`,...n)}}function nU(t,...e){if(da.logLevel<=Pe.WARN){let n=e.map(f_);da.warn(`Firestore (${rl}): ${t}`,...n)}}function f_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function vn(t="Unexpected state"){let e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+t;throw h_(e),new Error(e)}function Wy(t,e){t||vn()}var $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yt=class extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qi=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var $h=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ky=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}},Qy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Yy=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qi)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wy(typeof r.accessToken=="string"),new $h(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Wy(e===null||typeof e=="string"),new xt(e)}},Xy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Zy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},e_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Tn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wy(typeof n.token=="string"),this.R=n.token,new Zy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function rU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var t_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function DS(t,e){return t<e?-1:t>e?1:0}var n_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&vn(),r===void 0?r=e.length-n:r>e.length-n&&vn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ki=class t extends n_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new yt($t.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Yo=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ki.fromString(e))}static fromName(e){return new t(Ki.fromString(e).popFirst(5))}static empty(){return new t(Ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ki.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ki.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ki(e.slice()))}};var r_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};r_.UNKNOWN_ID=-1;function SS(t){return t.name==="IndexedDbTransactionError"}function iU(t){return t===0&&1/t==-1/0}var oU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jY=[...oU,"documentOverlays"],sU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aU=sU,UY=[...aU,"indexConfiguration","indexState","indexEntries"];var ha=class t{constructor(e,n){this.comparator=e,this.root=n||Or.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ua(this.root,e,this.comparator,!0)}},ua=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Or=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vn();let e=this.left.check();if(e!==this.right.check())throw vn();return e+(this.isRed()?0:1)}};Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw vn()}get value(){throw vn()}get color(){throw vn()}get left(){throw vn()}get right(){throw vn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Or(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Hh=class t{constructor(e){this.comparator=e,this.data=new ha(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zh(this.data.getIterator())}getIteratorFrom(e){return new zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var i_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var fa=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new i_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return DS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};fa.EMPTY_BYTE_STRING=new fa("");var $Y=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function CS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cU(t){return typeof t=="string"?fa.fromBase64String(t):fa.fromUint8Array(t)}var o_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},s_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function lU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var HY=new ha(Yo.comparator);var zY=new ha(Yo.comparator);var GY=new ha(Yo.comparator),qY=new Hh(Yo.comparator);var WY=new Hh(DS);var bS,be;(be=bS||(bS={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var KY=new ES([4294967295,4294967295],0);var Gh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(CS(e.integerValue));else if("doubleValue"in e){let r=CS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),iU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(cU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?lU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):vn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Yo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Gh.bt=new Gh;var QY=new Uint8Array(0);var Pr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);function qy(){return typeof document<"u"?document:null}var a_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var c_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uU(t,e){if(h_("AsyncQueue",`${e}: ${t}`),SS(t))return new yt($t.UNAVAILABLE,`${e}: ${t}`);throw t}var l_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){Tn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Tn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt($t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=uU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function AS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var TS=new Map;function dU(t,e,n,r){if(e===!0&&r===!0)throw new yt($t.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vn()}function fU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=hU(t);throw new yt($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var qh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new yt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new yt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new yt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Wh=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new yt($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ky;switch(r.type){case"firstParty":return new Jy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=TS.get(n);r&&(Tn("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())}(this),Promise.resolve()}};function MS(t,e,n,r={}){var i;let o=(t=fU(t,Wh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&nU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=xt.MOCK_USER;else{a=Xb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new yt($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xt(l)}t._authCredentials=new Qy(new $h(a,c))}}var u_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new a_(this,"async_queue_retry"),this._u=()=>{let n=qy();n&&Tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=qy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=qy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Qi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return _(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!SS(e))throw e;Tn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw h_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=c_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&vn()}verifyOperationInProgress(){}hu(){return _(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var d_=class extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new u_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pU(this),this._firestoreClient.terminate()}};function xS(t,e){let n=typeof t=="object"?t:Js(),r=typeof t=="string"?t:e||"(default)",i=Dc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Yb("firestore");o&&MS(i,...o)}return i}function pU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new o_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,AS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new l_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var YY=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){rl=i})($i),Bi(new Nn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new d_(new Yy(r.getProvider("auth-internal")),new e_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new yt($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new s_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(IS,"4.4.3",e),vt(IS,"4.4.3","esm2017")})();var il=class{constructor(e){return e}},PS="firestore",p_=class{constructor(){return Sc(PS)}};var m_=new W("angularfire2.firestore-instances");function mU(t,e){let n=qd(PS,t,e);return n&&new il(n)}function gU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new il(r)}}var vU={provide:p_,deps:[[new an,m_]]},yU={provide:il,useFactory:mU,deps:[[new an,m_],ai]},_U=(()=>{class t{constructor(){vt("angularfire",Bo.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=on({type:t});static \u0275inj=sn({providers:[yU,vU]})}return t})();function OS(t,...e){return{ngModule:_U,providers:[{provide:m_,useFactory:gU(t),multi:!0,deps:[Ce,Je,ta,$o,[new an,Nc],[new an,ea],...e]}]}}var RS=na(xS,!0);var y_=class extends kd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},__=class t extends y_{static makeCurrent(){Mb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wU();return n==null?null:EU(n)}resetBaseElement(){ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vd(document.cookie,e)}},ol=null;function wU(){return ol=ol||document.querySelector("base"),ol?ol.getAttribute("href"):null}function EU(t){return new URL(t,document.baseURI).pathname}var IU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),w_=new W(""),FS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(V(w_),V(Ce))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Kh=class{constructor(e){this._doc=e}},g_="ng-app-id",VS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mc(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${g_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(g_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(g_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(V(jt),V(sg),V(lg,8),V(On))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),v_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},I_=/%COMP%/g,LS="%COMP%",CU=`_nghost-${LS}`,bU=`_ngcontent-${LS}`,TU=!0,DU=new W("",{providedIn:"root",factory:()=>TU});function SU(t){return bU.replace(I_,t)}function AU(t){return CU.replace(I_,t)}function jS(t,e){return e.map(n=>n.replace(I_,t))}var Qh=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=mc(c),this.defaultRenderer=new sl(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gr.ShadowDom&&(i=Ae(R({},i),{encapsulation:gr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Yh?o.applyToHost(r):o instanceof al&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gr.Emulated:s=new Yh(l,u,i,this.appId,d,a,c,h);break;case gr.ShadowDom:return new E_(l,u,r,i,a,c,this.nonce,h);default:s=new al(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(V(FS),V(VS),V(sg),V(DU),V(jt),V(On),V(Ce),V(lg))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),sl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(v_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=v_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=v_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kr.DashCase|Kr.Important)?e.style.setProperty(n,r,i&Kr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function NS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var E_=class extends sl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=jS(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},al=class extends sl{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?jS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Yh=class extends al{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=SU(l),this.hostAttr=AU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},MU=(()=>{let e=class e extends Kh{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(V(jt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),kS=["alt","control","meta","shift"],xU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OU=(()=>{let e=class e extends Kh{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),kS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=xU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),kS.forEach(a=>{if(a!==o){let c=PU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(V(jt))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function US(t,e){return Ib(R({rootComponent:t},RU(e)))}function RU(t){return{appProviders:[...LU,...t?.providers??[]],platformProviders:VU}}function NU(){__.makeCurrent()}function kU(){return new wr}function FU(){return AI(document),document}var VU=[{provide:On,useValue:Rb},{provide:ag,useValue:NU,multi:!0},{provide:jt,useFactory:FU,deps:[]}];var LU=[{provide:wd,useValue:"root"},{provide:wr,useFactory:kU,deps:[]},{provide:w_,useClass:MU,multi:!0,deps:[jt,Ce,On]},{provide:w_,useClass:OU,multi:!0,deps:[jt]},Qh,VS,FS,{provide:To,useExisting:Qh},{provide:Xs,useClass:IU,deps:[]},[]];var BS=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(V(jt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var C_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=V(jU),o},providedIn:"root"});let t=e;return t})(),jU=(()=>{let e=class e extends C_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case ti.NONE:return i;case ti.HTML:return Ao(i,"HTML")?Ir(i):vC(this._doc,String(i)).toString();case ti.STYLE:return Ao(i,"Style")?Ir(i):i;case ti.SCRIPT:if(Ao(i,"Script"))return Ir(i);throw new P(5200,!1);case ti.URL:return Ao(i,"URL")?Ir(i):bd(String(i));case ti.RESOURCE_URL:if(Ao(i,"ResourceURL"))return Ir(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(r){return cC(r)}bypassSecurityTrustStyle(r){return lC(r)}bypassSecurityTrustScript(r){return uC(r)}bypassSecurityTrustUrl(r){return dC(r)}bypassSecurityTrustResourceUrl(r){return hC(r)}};e.\u0275fac=function(i){return new(i||e)(V(jt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(fe||{}),Rr="*";function Fn(t,e){return{type:fe.Trigger,name:t,definitions:e,options:{}}}function _t(t,e=null){return{type:fe.Animate,styles:e,timings:t}}function HS(t,e=null){return{type:fe.Sequence,steps:t,options:e}}function ge(t){return{type:fe.Style,styles:t,offset:null}}function zS(t,e,n){return{type:fe.State,name:t,styles:e,options:n}}function ut(t,e,n=null){return{type:fe.Transition,expr:t,animation:e,options:n}}var Yi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},cl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Xh="!";function GS(t){return new P(3e3,!1)}function UU(){return new P(3100,!1)}function BU(){return new P(3101,!1)}function $U(t){return new P(3001,!1)}function HU(t){return new P(3003,!1)}function zU(t){return new P(3004,!1)}function GU(t,e){return new P(3005,!1)}function qU(){return new P(3006,!1)}function WU(){return new P(3007,!1)}function KU(t,e){return new P(3008,!1)}function QU(t){return new P(3002,!1)}function YU(t,e,n,r,i){return new P(3010,!1)}function XU(){return new P(3011,!1)}function JU(){return new P(3012,!1)}function ZU(){return new P(3200,!1)}function eB(){return new P(3202,!1)}function tB(){return new P(3013,!1)}function nB(t){return new P(3014,!1)}function rB(t){return new P(3015,!1)}function iB(t){return new P(3016,!1)}function oB(t,e){return new P(3404,!1)}function sB(t){return new P(3502,!1)}function aB(t){return new P(3503,!1)}function cB(){return new P(3300,!1)}function lB(t){return new P(3504,!1)}function uB(t){return new P(3301,!1)}function dB(t,e){return new P(3302,!1)}function hB(t){return new P(3303,!1)}function fB(t,e){return new P(3400,!1)}function pB(t){return new P(3401,!1)}function mB(t){return new P(3402,!1)}function gB(t,e){return new P(3505,!1)}function Xi(t){switch(t.length){case 0:return new Yi;case 1:return t[0];default:return new cl(t)}}function oA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let v=f,E=h;if(f!=="offset")switch(v=t.normalizePropertyName(v,i),E){case Xh:E=n.get(f);break;case Rr:E=r.get(f);break;default:E=t.normalizeStyleValue(f,v,E,i);break}d.set(v,E)}),u||o.push(d),a=d,s=l}),i.length)throw sB(i);return o}function q_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&b_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&b_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&b_(n,"destroy",t)));break}}function b_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=W_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function W_(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Sn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function qS(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var vB=typeof document>"u"?null:document.documentElement;function K_(t){let e=t.parentNode||t.host||null;return e===vB?null:e}function yB(t){return t.substring(1,6)=="ebkit"}var Xo=null,WS=!1;function _B(t){Xo||(Xo=wB()||{},WS=Xo.style?"WebkitAppearance"in Xo.style:!1);let e=!0;return Xo.style&&!yB(t)&&(e=t in Xo.style,!e&&WS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Xo.style)),e}function wB(){return typeof document<"u"?document.body:null}function sA(t,e){for(;e;){if(e===t)return!0;e=K_(e)}return!1}function aA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Q_=(()=>{let e=class e{validateStyleProperty(r){return _B(r)}matchesElement(r,i){return!1}containsElement(r,i){return sA(r,i)}getParentElement(r){return K_(r)}query(r,i,o){return aA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new Yi(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})(),Z_=class Z_{};Z_.NOOP=new Q_;var es=Z_,ts=class{};var EB=1e3,cA="{{",IB="}}",lA="ng-enter",x_="ng-leave",Jh="ng-trigger",rf=".ng-trigger",KS="ng-animating",P_=".ng-animating";function hi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:O_(parseFloat(e[1]),e[2])}function O_(t,e){switch(e){case"s":return t*EB;default:return t}}function of(t,e,n){return t.hasOwnProperty("duration")?t:CB(t,e,n)}function CB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(GS(t)),{duration:0,delay:0,easing:""};i=O_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=O_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(UU()),a=!0),o<0&&(e.push(BU()),a=!0),a&&e.splice(c,0,GS(t))}return{duration:i,delay:o,easing:s}}function bB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Nr(t,e,n){e.forEach((r,i)=>{let o=Y_(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function Zo(t,e){e.forEach((n,r)=>{let i=Y_(r);t.style[i]=""})}function ll(t){return Array.isArray(t)?t.length==1?t[0]:HS(t):t}function TB(t,e,n){let r=e.params||{},i=uA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push($U(o))})}var R_=new RegExp(`${cA}\\s*(.+?)\\s*${IB}`,"g");function uA(t){let e=[];if(typeof t=="string"){let n;for(;n=R_.exec(t);)e.push(n[1]);R_.lastIndex=0}return e}function dl(t,e,n){let r=`${t}`,i=r.replace(R_,(o,s)=>{let a=e[s];return a==null&&(n.push(HU(s)),a=""),a.toString()});return i==r?t:i}var DB=/-+([a-z0-9])/g;function Y_(t){return t.replace(DB,(...e)=>e[1].toUpperCase())}function SB(t,e){return t===0||e===0}function AB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,X_(t,a)))}}return e}function Dn(t,e,n){switch(e.type){case fe.Trigger:return t.visitTrigger(e,n);case fe.State:return t.visitState(e,n);case fe.Transition:return t.visitTransition(e,n);case fe.Sequence:return t.visitSequence(e,n);case fe.Group:return t.visitGroup(e,n);case fe.Animate:return t.visitAnimate(e,n);case fe.Keyframes:return t.visitKeyframes(e,n);case fe.Style:return t.visitStyle(e,n);case fe.Reference:return t.visitReference(e,n);case fe.AnimateChild:return t.visitAnimateChild(e,n);case fe.AnimateRef:return t.visitAnimateRef(e,n);case fe.Query:return t.visitQuery(e,n);case fe.Stagger:return t.visitStagger(e,n);default:throw zU(e.type)}}function X_(t,e){return window.getComputedStyle(t)[e]}var MB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),sf=class extends ts{normalizePropertyName(e,n){return Y_(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if(MB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(GU(e,r))}return s+o}};var af="*";function xB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>PB(r,n,e)):n.push(t),n}function PB(t,e,n){if(t[0]==":"){let c=OB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(rB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(QS(i,s));let a=i==af&&s==af;o[0]=="<"&&!a&&e.push(QS(s,i))}function OB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(iB(t)),"* => *"}}var Zh=new Set(["true","1"]),ef=new Set(["false","0"]);function QS(t,e){let n=Zh.has(t)||ef.has(t),r=Zh.has(e)||ef.has(e);return(i,o)=>{let s=t==af||t==i,a=e==af||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?Zh.has(t):ef.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?Zh.has(e):ef.has(e)),s&&a}}var dA=":self",RB=new RegExp(`s*${dA}s*,?`,"g");function hA(t,e,n,r){return new N_(t).build(e,n,r)}var YS="",N_=class{constructor(e){this._driver=e}build(e,n,r){let i=new k_(n);return this._resetContextStyleTimingState(i),Dn(this,ll(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=YS,e.collectedStyles=new Map,e.collectedStyles.set(YS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(qU()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==fe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==fe.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(WU())}),{type:fe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{uA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(KU(e.name,[...o.values()]))}return{type:fe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Dn(this,ll(e.animation),n),i=xB(e.expr,n.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Jo(e.options)}}visitSequence(e,n){return{type:fe.Sequence,steps:e.steps.map(r=>Dn(this,r,n)),options:Jo(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Dn(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:fe.Group,steps:o,options:Jo(e.options)}}visitAnimate(e,n){let r=VB(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:ge({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=ge(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Rr?r.push(a):n.errors.push(QU(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(cA)>=0){o=!0;break}}}),{type:fe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(YU(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&TB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:fe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(XU()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(D=>{let H=this._makeStyleAst(D,n),G=H.offset!=null?H.offset:FB(H.styles),p=0;return G!=null&&(o++,p=H.offset=G),c=c||p<0||p>1,a=a||p<l,l=p,s.push(p),H});c&&n.errors.push(JU()),a&&n.errors.push(ZU());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(eB()):o==0&&(h=i/(d-1));let f=d-1,v=n.currentTime,E=n.currentAnimateTimings,T=E.duration;return u.forEach((D,H)=>{let G=h>0?H==f?1:h*H:s[H],p=G*T;n.currentTime=v+E.delay+p,E.duration=p,this._validateStyleAst(D,n),D.offset=G,r.styles.push(D)}),r}visitReference(e,n){return{type:fe.Reference,animation:Dn(this,ll(e.animation),n),options:Jo(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:fe.AnimateChild,options:Jo(e.options)}}visitAnimateRef(e,n){return{type:fe.AnimateRef,animation:this.visitReference(e.animation,n),options:Jo(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=NB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Sn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Dn(this,ll(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Jo(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(tB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:of(e.timings,n.errors,!0);return{type:fe.Stagger,animation:Dn(this,ll(e.animation),n),timings:r,options:null}}};function NB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==dA);return e&&(t=t.replace(RB,"")),t=t.replace(/@\*/g,rf).replace(/@\w+/g,n=>rf+"-"+n.slice(1)).replace(/:animating/g,P_),[t,e]}function kB(t){return t?R({},t):null}var k_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function FB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function VB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=of(t,e).duration;return T_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=T_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=of(n,e);return T_(i.duration,i.delay,i.easing)}function Jo(t){return t?(t=R({},t),t.params&&(t.params=kB(t.params))):t={},t}function T_(t,e,n){return{duration:t,delay:e,easing:n}}function J_(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var hl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},LB=1,jB=":enter",UB=new RegExp(jB,"g"),BB=":leave",$B=new RegExp(BB,"g");function fA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new F_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var F_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new hl;let d=new V_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?hi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Dn(this,r,d);let f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let E=f.length-1;E>=0;E--){let T=f[E];if(T.element===n){v=T;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,c)}return f.length?f.map(v=>v.buildKeyframes()):[J_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:hi(dl(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?hi(r.duration):null,a=r.delay!=null?hi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Dn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=cf);let s=hi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?hi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?dl(r,n.params,n.errors):r;return of(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==fe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?hi(i.delay):0;o&&(n.previousNode.type===fe.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Dn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},cf={},V_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new lf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=hi(r.duration)),r.delay!=null&&(i.delay=hi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=dl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=cf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new L_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(UB,"."+this._enterClassName),e=e.replace($B,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(nB(n)),a}},lf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=LB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Rr),this._currentKeyframe.set(n,Rr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=HB(e,this._globalTimelineStyles);for(let[a,c]of s){let l=dl(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Rr),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Xh?e.add(d):u===Rr&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return J_(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},L_=class extends lf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",XS(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),v=n+f*r;h.set("offset",XS(v/s)),o.push(h)}r=s,n=0,i="",e=o}return J_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function XS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function HB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Rr)}else for(let[o,s]of i)n.set(o,s)}),n}function JS(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var D_={},uf=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return zB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||D_,f=a&&a.params||D_,v=this.buildStyles(r,f,d),E=c&&c.params||D_,T=this.buildStyles(i,E,d),D=new Set,H=new Map,G=new Map,p=i==="void",Q={params:pA(E,h),delay:this.ast.options?.delay},x=u?[]:fA(e,n,this.ast.animation,o,s,v,T,Q,l,d),K=0;return x.forEach(ue=>{K=Math.max(ue.duration+ue.delay,K)}),d.length?JS(n,this._triggerName,r,i,p,v,T,[],[],H,G,K,d):(x.forEach(ue=>{let Ie=ue.element,Te=Sn(H,Ie,new Set);ue.preStyleProps.forEach(Oe=>Te.add(Oe));let Ye=Sn(G,Ie,new Set);ue.postStyleProps.forEach(Oe=>Ye.add(Oe)),Ie!==n&&D.add(Ie)}),JS(n,this._triggerName,r,i,p,v,T,x,[...D.values()],H,G,K))}};function zB(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function pA(t,e){let n=R({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var j_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=pA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=dl(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function GB(t,e,n){return new U_(t,e,n)}var U_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new j_(i.style,o,r))}),ZS(this.states,"true","1"),ZS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new uf(e,i,this.states))}),this.fallbackTransition=qB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function qB(t,e,n){let r=[(s,a)=>!0],i={type:fe.Sequence,steps:[],options:null},o={type:fe.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new uf(t,o,e)}function ZS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var WB=new hl,B_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=hA(this._driver,n,r,i);if(r.length)throw aB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=oA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=fA(this._driver,n,o,lA,x_,new Map,new Map,r,WB,i),s.forEach(u=>{let d=Sn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(cB()),s=[]),i.length)throw lB(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Rr))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Xi(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw uB(e);return n}listen(e,n,r,i){let o=W_(n,"","","");return q_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},eA="ng-animate-queued",KB=".ng-animate-queued",S_="ng-animate-disabled",QB=".ng-animate-disabled",YB="ng-star-inserted",XB=".ng-star-inserted",JB=[],mA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed",fl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=t$(i),r){let o=e,{value:s}=o,a=rp(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},ul="void",A_=new fl(ul),$_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw dB(r,n);if(r==null||r.length==0)throw hB(n);if(!n$(r))throw fB(r,n);let o=Sn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Sn(this._engine.statesByElement,e,new Map);return a.has(n)||(Vn(e,Jh),Vn(e,Jh+"-"+n),a.set(n,A_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw pB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new pl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Vn(e,Jh),Vn(e,Jh+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new fl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=A_),!(l.value===ul)&&c.value===l.value){if(!o$(c.params,l.params)){let E=[],T=o.matchStyles(c.value,c.params,E),D=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Zo(e,T),Nr(e,D)})}return}let h=Sn(this._engine.playersByElement,e,[]);h.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!f){if(!i)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Vn(e,eA),s.onStart(()=>{pa(e,eA)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let T=this._engine.playersByElement.get(e);if(T){let D=T.indexOf(s);D>=0&&T.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,rf,!0);r.forEach(i=>{if(i[or])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,ul,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&Xi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||A_,u=new fl(ul),d=new pl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[or];(!o||o===mA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Vn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=W_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,q_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},H_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new $_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(tf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!tf(n))return;let o=n[or];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vn(e,S_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pa(e,S_))}removeNode(e,n,r){if(tf(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[or]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return tf(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,rf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,P_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xi(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[or];if(n&&n.setForRemoval){if(e[or]=mA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(S_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,QB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Vn(i,YB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Xi(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw mB(e)}_flushAnimations(e,n){let r=new hl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);let B=this.driver.query(k,KB,!0);for(let z=0;z<B.length;z++)u.add(B[z])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=rA(h,this.collectedEnterElements),v=new Map,E=0;f.forEach((k,B)=>{let z=lA+E++;v.set(B,z),k.forEach(le=>Vn(le,z))});let T=[],D=new Set,H=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let B=this.collectedLeaveElements[k],z=B[or];z&&z.setForRemoval&&(T.push(B),D.add(B),z.hasAnimation?this.driver.query(B,XB,!0).forEach(le=>D.add(le)):H.add(B))}let G=new Map,p=rA(h,Array.from(D));p.forEach((k,B)=>{let z=x_+E++;G.set(B,z),k.forEach(le=>Vn(le,z))}),e.push(()=>{f.forEach((k,B)=>{let z=v.get(B);k.forEach(le=>pa(le,z))}),p.forEach((k,B)=>{let z=G.get(B);k.forEach(le=>pa(le,z))}),T.forEach(k=>{this.processLeaveNode(k)})});let Q=[],x=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(n).forEach(z=>{let le=z.player,Ne=z.element;if(Q.push(le),this.collectedEnterElements.length){let qe=Ne[or];if(qe&&qe.setForMove){if(qe.previousTriggersValues&&qe.previousTriggersValues.has(z.triggerName)){let Rt=qe.previousTriggersValues.get(z.triggerName),gt=this.statesByElement.get(z.element);if(gt&&gt.has(z.triggerName)){let _n=gt.get(z.triggerName);_n.value=Rt,gt.set(z.triggerName,_n)}}le.destroy();return}}let It=!d||!this.driver.containsElement(d,Ne),He=G.get(Ne),Kt=v.get(Ne),De=this._buildInstruction(z,r,Kt,He,It);if(De.errors&&De.errors.length){x.push(De);return}if(It){le.onStart(()=>Zo(Ne,De.fromStyles)),le.onDestroy(()=>Nr(Ne,De.toStyles)),i.push(le);return}if(z.isFallbackTransition){le.onStart(()=>Zo(Ne,De.fromStyles)),le.onDestroy(()=>Nr(Ne,De.toStyles)),i.push(le);return}let dn=[];De.timelines.forEach(qe=>{qe.stretchStartingKeyframe=!0,this.disabledNodes.has(qe.element)||dn.push(qe)}),De.timelines=dn,r.append(Ne,De.timelines);let zn={instruction:De,player:le,element:Ne};s.push(zn),De.queriedElements.forEach(qe=>Sn(a,qe,[]).push(le)),De.preStyleProps.forEach((qe,Rt)=>{if(qe.size){let gt=c.get(Rt);gt||c.set(Rt,gt=new Set),qe.forEach((_n,dr)=>gt.add(dr))}}),De.postStyleProps.forEach((qe,Rt)=>{let gt=l.get(Rt);gt||l.set(Rt,gt=new Set),qe.forEach((_n,dr)=>gt.add(dr))})});if(x.length){let k=[];x.forEach(B=>{k.push(gB(B.triggerName,B.errors))}),Q.forEach(B=>B.destroy()),this.reportError(k)}let K=new Map,ue=new Map;s.forEach(k=>{let B=k.element;r.has(B)&&(ue.set(B,B),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,K))}),i.forEach(k=>{let B=k.element;this._getPreviousPlayers(B,!1,k.namespaceId,k.triggerName,null).forEach(le=>{Sn(K,B,[]).push(le),le.destroy()})});let Ie=T.filter(k=>iA(k,c,l)),Te=new Map;nA(Te,this.driver,H,l,Rr).forEach(k=>{iA(k,c,l)&&Ie.push(k)});let Oe=new Map;f.forEach((k,B)=>{nA(Oe,this.driver,new Set(k),c,Xh)}),Ie.forEach(k=>{let B=Te.get(k),z=Oe.get(k);Te.set(k,new Map([...B?.entries()??[],...z?.entries()??[]]))});let Ve=[],qt=[],Wt={};s.forEach(k=>{let{element:B,player:z,instruction:le}=k;if(r.has(B)){if(u.has(B)){z.onDestroy(()=>Nr(B,le.toStyles)),z.disabled=!0,z.overrideTotalTime(le.totalTime),i.push(z);return}let Ne=Wt;if(ue.size>1){let He=B,Kt=[];for(;He=He.parentNode;){let De=ue.get(He);if(De){Ne=De;break}Kt.push(He)}Kt.forEach(De=>ue.set(De,Ne))}let It=this._buildAnimation(z.namespaceId,le,K,o,Oe,Te);if(z.setRealPlayer(It),Ne===Wt)Ve.push(z);else{let He=this.playersByElement.get(Ne);He&&He.length&&(z.parentPlayer=Xi(He)),i.push(z)}}else Zo(B,le.fromStyles),z.onDestroy(()=>Nr(B,le.toStyles)),qt.push(z),u.has(B)&&i.push(z)}),qt.forEach(k=>{let B=o.get(k.element);if(B&&B.length){let z=Xi(B);k.setRealPlayer(z)}}),i.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<T.length;k++){let B=T[k],z=B[or];if(pa(B,x_),z&&z.hasAnimation)continue;let le=[];if(a.size){let It=a.get(B);It&&It.length&&le.push(...It);let He=this.driver.query(B,P_,!0);for(let Kt=0;Kt<He.length;Kt++){let De=a.get(He[Kt]);De&&De.length&&le.push(...De)}}let Ne=le.filter(It=>!It.destroyed);Ne.length?r$(this,B,Ne):this.processLeaveNode(B)}return T.length=0,Ve.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let B=this.players.indexOf(k);this.players.splice(B,1)}),k.play()}),Ve}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==ul;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=Sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}Zo(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(v=>{let E=v.element;u.add(E);let T=E[or];if(T&&T.removedBeforeQueried)return new Yi(v.duration,v.delay);let D=E!==c,H=i$((r.get(E)||JB).map(K=>K.getRealPlayer())).filter(K=>{let ue=K;return ue.element?ue.element===E:!1}),G=o.get(E),p=s.get(E),Q=oA(this._normalizer,v.keyframes,G,p),x=this._buildPlayer(v,Q,H);if(v.subTimeline&&i&&d.add(E),D){let K=new pl(e,a,E);K.setRealPlayer(x),l.push(K)}return x});l.forEach(v=>{Sn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>e$(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Vn(v,KS));let f=Xi(h);return f.onDestroy(()=>{u.forEach(v=>pa(v,KS)),Nr(c,n.toStyles)}),d.forEach(v=>{Sn(i,v,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Yi(e.duration,e.delay)}},pl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Yi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>q_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Sn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function e$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function t$(t){return t??null}function tf(t){return t&&t.nodeType===1}function n$(t){return t=="start"||t=="done"}function tA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function nA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(tA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[or]=ZB,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>tA(c,o[a++])),s}function rA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Vn(t,e){t.classList?.add(e)}function pa(t,e){t.classList?.remove(e)}function r$(t,e,n){Xi(n).onDone(()=>t.processLeaveNode(e))}function i$(t){let e=[];return gA(t,e),e}function gA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof cl?gA(r.players,e):e.push(r)}}function o$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function iA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var ga=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new H_(e.body,n,r,i),this._timelineEngine=new B_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=hA(this._driver,o,c,l);if(c.length)throw oB(i,c);l.length&&void 0,a=GB(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=qS(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=qS(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function s$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=M_(e[0]),e.length>1&&(r=M_(e[e.length-1]))):e instanceof Map&&(n=M_(e)),n||r?new z_(t,n,r):null}var ma=class ma{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=ma.initialStylesByElement.get(e);i||ma.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nr(this._element,this._initialStyles),this._endStyles&&(Nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ma.initialStylesByElement.delete(this._element),this._startStyles&&(Zo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zo(this._element,this._endStyles),this._endStyles=null),Nr(this._element,this._initialStyles),this._state=3)}};ma.initialStylesByElement=new WeakMap;var z_=ma;function M_(t){let e=null;return t.forEach((n,r)=>{a$(r)&&(e=e||new Map,e.set(r,n))}),e}function a$(t){return t==="display"||t==="position"}var df=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:X_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},hf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return sA(e,n)}getParentElement(e){return K_(e)}query(e,n,r){return aA(e,n,r)}computeStyle(e,n,r){return X_(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof df);SB(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((v,E)=>l.set(E,v))});let d=bB(n).map(f=>new Map(f));d=AB(e,d,l);let h=s$(e,d);return new df(e,d,c,h)}};var nf="@",vA="@.disabled",ff=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==nf&&n==vA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},G_=class extends ff{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==nf?n.charAt(1)=="."&&n==vA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==nf){let i=c$(e),o=n.slice(1),s="";return o.charAt(0)!=nf&&([o,s]=l$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function c$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function l$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var pf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new ff(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new G_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var d$=(()=>{let e=class e extends ga{constructor(r,i,o){super(r,i,o,O(rc,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(V(jt),V(es),V(ts))},e.\u0275prov=F({token:e,factory:e.\u0275fac});let t=e;return t})();function h$(){return new sf}function f$(t,e,n){return new pf(t,e,n)}var yA=[{provide:ts,useFactory:h$},{provide:ga,useClass:d$},{provide:To,useFactory:f$,deps:[Qh,ga,Ce]}],p$=[{provide:es,useFactory:()=>new hf},{provide:cg,useValue:"BrowserAnimations"},...yA],XJ=[{provide:es,useClass:Q_},{provide:cg,useValue:"NoopAnimations"},...yA];function _A(){return xo("NgEagerAnimations"),[...p$]}var pe="primary",Ml=Symbol("RouteTitle"),iw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ea(t){return new iw(t)}function g$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function v$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}function kr(t,e){let n=t?ow(t):void 0,r=e?ow(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!TA(t[i],e[i]))return!1;return!0}function ow(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function DA(t){return t.length>0?t[t.length-1]:null}function to(t){return Cp(t)?t:No(t)?Le(Promise.resolve(t)):ae(t)}var y$={exact:AA,subset:MA},SA={exact:_$,subset:w$,ignored:()=>!0};function wA(t,e,n){return y$[n.paths](t.root,e.root,n.matrixParams)&&SA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _$(t,e){return kr(t,e)}function AA(t,e,n){if(!rs(t.segments,e.segments)||!vf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AA(t.children[r],e.children[r],n))return!1;return!0}function w$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TA(t[n],e[n]))}function MA(t,e,n){return xA(t,e,e.segments,n)}function xA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!rs(i,n)||e.hasChildren()||!vf(i,n,r))}else if(t.segments.length===n.length){if(!rs(t.segments,n)||!vf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!rs(t.segments,i)||!vf(t.segments,i,r)||!t.children[pe]?!1:xA(t.children[pe],e,o,r)}}function vf(t,e,n){return e.every((r,i)=>SA[n](t[i].parameters,r.parameters))}var Ji=class{constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ea(this.queryParams),this._queryParamMap}toString(){return C$.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yf(this)}},ns=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ea(this.parameters),this._parameterMap}toString(){return OA(this)}};function E$(t,e){return rs(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}function rs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function I$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===pe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==pe&&(n=n.concat(e(i,r)))}),n}var Pw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>new wf,providedIn:"root"});let t=e;return t})(),wf=class{parse(e){let n=new aw(e);return new Ji(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ml(e.root,!0)}`,r=D$(e.queryParams),i=typeof e.fragment=="string"?`#${b$(e.fragment)}`:"";return`${n}${r}${i}`}},C$=new wf;function yf(t){return t.segments.map(e=>OA(e)).join("/")}function ml(t,e){if(!t.hasChildren())return yf(t);if(e){let n=t.children[pe]?ml(t.children[pe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${ml(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=I$(t,(r,i)=>i===pe?[ml(t.children[pe],!1)]:[`${i}:${ml(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[pe]!=null?`${yf(t)}/${n[0]}`:`${yf(t)}/(${n.join("//")})`}}function PA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mf(t){return PA(t).replace(/%3B/gi,";")}function b$(t){return encodeURI(t)}function sw(t){return PA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _f(t){return decodeURIComponent(t)}function EA(t){return _f(t.replace(/\+/g,"%20"))}function OA(t){return`${sw(t.path)}${T$(t.parameters)}`}function T$(t){return Object.entries(t).map(([e,n])=>`;${sw(e)}=${sw(n)}`).join("")}function D$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mf(n)}=${mf(i)}`).join("&"):`${mf(n)}=${mf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var S$=/^[^\/()?;#]+/;function ew(t){let e=t.match(S$);return e?e[0]:""}var A$=/^[^\/()?;=#]+/;function M$(t){let e=t.match(A$);return e?e[0]:""}var x$=/^[^=?&#]+/;function P$(t){let e=t.match(x$);return e?e[0]:""}var O$=/^[^&#]+/;function R$(t){let e=t.match(O$);return e?e[0]:""}var aw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pe]=new Re(e,n)),r}parseSegment(){let e=ew(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new ns(_f(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=M$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ew(this.remaining);i&&(r=i,this.capture(r))}e[_f(n)]=_f(r)}parseQueryParam(e){let n=P$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=R$(this.remaining);s&&(r=s,this.capture(r))}let i=EA(n),o=EA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ew(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[pe]:new Re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function RA(t){return t.segments.length>0?new Re([],{[pe]:t}):t}function NA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=NA(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Re(t.segments,e);return N$(n)}function N$(t){if(t.numberOfChildren===1&&t.children[pe]){let e=t.children[pe];return new Re(t.segments.concat(e.segments),e.children)}return t}function Ia(t){return t instanceof Ji}function k$(t,e,n=null,r=null){let i=kA(t);return FA(i,e,n,r)}function kA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=RA(r);return e??i}function FA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return tw(i,i,i,n,r);let o=F$(e);if(o.toRoot())return tw(i,i,new Re([],{}),n,r);let s=V$(o,i,t),a=s.processChildren?yl(s.segmentGroup,s.index,o.commands):LA(s.segmentGroup,s.index,o.commands);return tw(i,s.segmentGroup,a,n,r)}function Ef(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function El(t){return typeof t=="object"&&t!=null&&t.outlets}function tw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=VA(t,e,n);let a=RA(NA(s));return new Ji(a,o,i)}function VA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=VA(o,e,n)}),new Re(t.segments,r)}var If=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ef(r[0]))throw new P(4003,!1);let i=r.find(El);if(i&&i!==DA(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function F$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new If(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new If(n,e,r)}var _a=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function V$(t,e,n){if(t.isAbsolute)return new _a(e,!0,0);if(!n)return new _a(e,!1,NaN);if(n.parent===null)return new _a(n,!0,0);let r=Ef(t.commands[0])?0:1,i=n.segments.length-1+r;return L$(n,i,t.numberOfDoubleDots)}function L$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new _a(r,!1,i-o)}function j$(t){return El(t[0])?t[0].outlets:{[pe]:t}}function LA(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return yl(t,e,n);let r=U$(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Re(t.segments.slice(r.pathIndex),t.children),yl(o,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?cw(t,e,n):r.match?yl(t,0,i):cw(t,e,n)}function yl(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=j$(n),i={};if(Object.keys(r).some(o=>o!==pe)&&t.children[pe]&&t.numberOfChildren===1&&t.children[pe].segments.length===0){let o=yl(t.children[pe],e,n);return new Re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=LA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(t.segments,i)}}function U$(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(El(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!CA(c,l,s))return o;r+=2}else{if(!CA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(El(o)){let c=B$(o.outlets);return new Re(r,c)}if(i===0&&Ef(n[0])){let c=t.segments[e];r.push(new ns(c.path,IA(n[0]))),i++;continue}let s=El(o)?o.outlets[pe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ef(a)?(r.push(new ns(s,IA(a))),i+=2):(r.push(new ns(s,{})),i++)}return new Re(r,{})}function B$(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=cw(new Re([],{}),0,r))}),e}function IA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function CA(t,e,n){return t==n.path&&kr(e,n.parameters)}var _l="imperative",Ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ht||{}),jn=class{constructor(e,n){this.id=e,this.url=n}},Il=class extends jn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},is=class extends jn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ln||{}),lw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lw||{}),Zi=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},os=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ht.NavigationSkipped}},Cl=class extends jn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cf=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dw=class extends jn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fw=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pw=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mw=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gw=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vw=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yw=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_w=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var bl=class{},Tl=class{constructor(e){this.url=e}};var ww=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mf,this.attachRef=null}},Mf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ww,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ew(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ew(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Iw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Iw(e,this._root).map(n=>n.value)}};function Ew(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ew(t,n);if(r)return r}return null}function Iw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Iw(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ya(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Tf=class extends bf{constructor(e,n){super(e),this.snapshot=n,Rw(this,e)}toString(){return this.snapshot.toString()}};function jA(t){let e=$$(t),n=new kt([new ns("",{})]),r=new kt({}),i=new kt({}),o=new kt({}),s=new kt(""),a=new eo(n,r,o,s,i,pe,t,e.root);return a.snapshot=e.root,new Tf(new An(a,[]),e)}function $$(t){let e={},n={},r={},i="",o=new Dl([],e,r,i,n,pe,t,null,{});return new Df("",new An(o,[]))}var eo=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Ml]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ea(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ea(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ow(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&BA(i)&&(r.resolve[Ml]=i.title),r}var Dl=class{get title(){return this.data?.[Ml]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ea(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ea(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Df=class extends bf{constructor(e,n){super(n),this.url=e,Rw(this,n)}toString(){return UA(this._root)}};function Rw(t,e){e.value._routerState=t,e.children.forEach(n=>Rw(t,n))}function UA(t){let e=t.children.length>0?` { ${t.children.map(UA).join(", ")} } `:"";return`${t.value}${e}`}function nw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kr(e.params,n.params)||t.paramsSubject.next(n.params),v$(e.url,n.url)||t.urlSubject.next(n.url),kr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cw(t,e){let n=kr(t.params,e.params)&&E$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Cw(t.parent,e.parent))}function BA(t){return typeof t.title=="string"||t.title===null}var Nw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=O(Mf),this.location=O(Vt),this.changeDetector=O(Tr),this.environmentInjector=O(Tt),this.inputBinder=O(kw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new bw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=at({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zr]});let t=e;return t})(),bw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===eo?this.route:e===Mf?this.childContexts:this.parent.get(e,n)}},kw=new W("");function H$(t,e,n){let r=Sl(t,e._root,n?n._root:void 0);return new Tf(r,e)}function Sl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=z$(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Sl(t,a)),s}}let r=G$(e.value),i=e.children.map(o=>Sl(t,o));return new An(r,i)}}function z$(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sl(t,r,i);return Sl(t,r)})}function G$(t){return new eo(new kt(t.url),new kt(t.params),new kt(t.queryParams),new kt(t.fragment),new kt(t.data),t.outlet,t.component,t)}var $A="ngNavigationCancelingError";function HA(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ia(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zA(!1,Ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function zA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$A]=!0,n.cancellationCode=e,n}function q$(t){return GA(t)&&Ia(t.url)}function GA(t){return!!t&&t[$A]}var W$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[Nw],encapsulation:2});let t=e;return t})();function K$(t,e){return t.providers&&!t._injector&&(t._injector=Mg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fw(t){let e=t.children&&t.children.map(Fw),n=e?Ae(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=W$),n}function Fr(t){return t.outlet||pe}function Q$(t,e){let n=t.filter(r=>Fr(r)===e);return n.push(...t.filter(r=>Fr(r)!==e)),n}function xl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Y$=(t,e,n,r)=>ie(i=>(new Tw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ya(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ya(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ya(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ya(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _w(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(nw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=xl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Sf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wa=class{constructor(e,n){this.component=e,this.route=n}};function X$(t,e,n){let r=t._root,i=e?e._root:null;return gl(r,i,n,[r.value])}function J$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ba(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!MI(t)?t:e.get(t):r}function gl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ya(e);return t.children.forEach(s=>{Z$(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wl(a,n.getContext(s),i)),i}function Z$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=e4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?gl(t,e,a?a.children:null,r,i):gl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wa(a.outlet.component,s))}else s&&wl(e,a,i),i.canActivateChecks.push(new Sf(r)),o.component?gl(t,null,a?a.children:null,r,i):gl(t,null,n,r,i);return i}function e4(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cw(t,e)||!kr(t.queryParams,e.queryParams);case"paramsChange":default:return!Cw(t,e)}}function wl(t,e,n){let r=ya(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wl(s,e.children.getContext(o),n):wl(s,null,n):wl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new wa(e.outlet.component,i)):n.canDeactivateChecks.push(new wa(null,i)):n.canDeactivateChecks.push(new wa(null,i))}function Pl(t){return typeof t=="function"}function t4(t){return typeof t=="boolean"}function n4(t){return t&&Pl(t.canLoad)}function r4(t){return t&&Pl(t.canActivate)}function i4(t){return t&&Pl(t.canActivateChild)}function o4(t){return t&&Pl(t.canDeactivate)}function s4(t){return t&&Pl(t.canMatch)}function qA(t){return t instanceof En||t?.name==="EmptyError"}var gf=Symbol("INITIAL_VALUE");function Ca(){return bt(t=>Ou(t.map(e=>e.pipe(Hr(1),Mp(gf)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===gf)return gf;if(n===!1||n instanceof Ji)return n}return!0}),Qt(e=>e!==gf),Hr(1)))}function a4(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(Ae(R({},n),{guardsResult:!0})):c4(s,r,i,t).pipe(it(a=>a&&t4(a)?l4(r,o,t,e):ae(a)),ie(a=>Ae(R({},n),{guardsResult:a})))})}function c4(t,e,n,r){return Le(t).pipe(it(i=>p4(i.component,i.route,n,e,r)),fr(i=>i!==!0,!0))}function l4(t,e,n,r){return Le(e).pipe(Ci(i=>Os(d4(i.route.parent,r),u4(i.route,r),f4(t,i.path,n),h4(t,i.route,n))),fr(i=>i!==!0,!0))}function u4(t,e){return t!==null&&e&&e(new yw(t)),ae(!0)}function d4(t,e){return t!==null&&e&&e(new gw(t)),ae(!0)}function h4(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>Ru(()=>{let s=xl(e)??n,a=ba(o,s),c=r4(a)?a.canActivate(e,t):Jr(s,()=>a(e,t));return to(c).pipe(fr())}));return ae(i).pipe(Ca())}function f4(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>J$(s)).filter(s=>s!==null).map(s=>Ru(()=>{let a=s.guards.map(c=>{let l=xl(s.node)??n,u=ba(c,l),d=i4(u)?u.canActivateChild(r,t):Jr(l,()=>u(r,t));return to(d).pipe(fr())});return ae(a).pipe(Ca())}));return ae(o).pipe(Ca())}function p4(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=xl(e)??i,l=ba(a,c),u=o4(l)?l.canDeactivate(t,e,n,r):Jr(c,()=>l(t,e,n,r));return to(u).pipe(fr())});return ae(s).pipe(Ca())}function m4(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=ba(s,t),c=n4(a)?a.canLoad(e,n):Jr(t,()=>a(e,n));return to(c)});return ae(o).pipe(Ca(),WA(r))}function WA(t){return pp(ot(e=>{if(Ia(e))throw HA(t,e)}),ie(e=>e===!0))}function g4(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=ba(s,t),c=s4(a)?a.canMatch(e,n):Jr(t,()=>a(e,n));return to(c)});return ae(o).pipe(Ca(),WA(r))}var Al=class{constructor(e){this.segmentGroup=e||null}},Af=class extends Error{constructor(e){super(),this.urlTree=e}};function va(t){return Ii(new Al(t))}function v4(t){return Ii(new P(4e3,!1))}function y4(t){return Ii(zA(!1,Ln.GuardRejected))}var Dw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[pe])return v4(e.redirectTo);i=i.children[pe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Af(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ji(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _4(t,e,n,r,i){let o=Vw(t,e,n);return o.matched?(r=K$(e,r),g4(r,e,n,i).pipe(ie(s=>s===!0?o:R({},Sw)))):ae(o)}function Vw(t,e,n){if(e.path==="**")return w4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Sw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||g$)(n,t,e);if(!i)return R({},Sw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function w4(t){return{matched:!0,parameters:t.length>0?DA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bA(t,e,n,r){return n.length>0&&C4(t,n,r)?{segmentGroup:new Re(e,I4(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&b4(t,n,r)?{segmentGroup:new Re(t.segments,E4(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function E4(t,e,n,r){let i={};for(let o of n)if(xf(t,e,o)&&!r[Fr(o)]){let s=new Re([],{});i[Fr(o)]=s}return R(R({},r),i)}function I4(t,e){let n={};n[pe]=e;for(let r of t)if(r.path===""&&Fr(r)!==pe){let i=new Re([],{});n[Fr(r)]=i}return n}function C4(t,e,n){return n.some(r=>xf(t,e,r)&&Fr(r)!==pe)}function b4(t,e,n){return n.some(r=>xf(t,e,r))}function xf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T4(t,e,n,r){return Fr(t)!==r&&(r===pe||!xf(e,n,t))?!1:Vw(e,t,n).matched}function D4(t,e,n){return e.length===0&&!t.children[n]}var Aw=class{};function S4(t,e,n,r,i,o,s="emptyOnly"){return new Mw(t,e,n,r,i,s,o).recognize()}var A4=31,Mw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=bA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Dl([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),i=new An(r,n),o=new Df("",i),s=k$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(qn(r=>{if(r instanceof Af)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Al?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ow(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof An?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Le(i).pipe(Ci(o=>{let s=r.children[o],a=Q$(n,o);return this.processSegmentGroup(e,a,s,o)}),Ap((o,s)=>(o.push(...s),o)),bi(null),Sp(),it(o=>{if(o===null)return va(r);let s=KA(o);return M4(s),ae(s)}))}processSegment(e,n,r,i,o,s){return Le(n).pipe(Ci(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(qn(c=>{if(c instanceof Al)return ae(null);throw c}))),fr(a=>!!a),qn(a=>{if(qA(a))return D4(r,i,o)?ae(new Aw):va(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return T4(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):va(i):va(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Vw(n,i,o);if(!a)return va(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>A4&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(it(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=_4(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(bt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Dl(u,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,P4(r),Fr(r),r.component??r._loadedComponent??null,r,O4(r)),{segmentGroup:v,slicedSegments:E}=bA(n,u,d,c);if(E.length===0&&v.hasChildren())return this.processChildren(l,c,v).pipe(ie(D=>D===null?null:new An(f,D)));if(c.length===0&&E.length===0)return ae(new An(f,[]));let T=Fr(r)===o;return this.processSegment(l,c,v,E,T?pe:o,!0).pipe(ie(D=>new An(f,D instanceof An?[D]:[])))}))):va(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):m4(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):y4(n))):ae({routes:[],injector:e})}};function M4(t){t.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet))}function x4(t){let e=t.value.routeConfig;return e&&e.path===""}function KA(t){let e=[],n=new Set;for(let r of t){if(!x4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KA(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function P4(t){return t.data||{}}function O4(t){return t.resolve||{}}function R4(t,e,n,r,i,o){return it(s=>S4(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Ae(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function N4(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of QA(c))s.add(l);let a=0;return Le(s).pipe(Ci(c=>o.has(c)?k4(c,r,t,e):(c.data=Ow(c,c.parent,t).resolve,ae(void 0))),ot(()=>a++),Ns(1),it(c=>a===s.size?ae(n):hn))})}function QA(t){let e=t.children.map(n=>QA(n)).flat();return[t,...e]}function k4(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BA(i)&&(o[Ml]=i.title),F4(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=Ow(t,t.parent,n).resolve,null)))}function F4(t,e,n,r){let i=ow(t);if(i.length===0)return ae({});let o={};return Le(i).pipe(it(s=>V4(t[s],e,n,r).pipe(fr(),ot(a=>{o[s]=a}))),Ns(1),Dp(o),qn(s=>qA(s)?hn:Ii(s)))}function V4(t,e,n,r){let i=xl(e)??r,o=ba(t,i),s=o.resolve?o.resolve(e,n):Jr(i,()=>o(e,n));return to(s)}function rw(t){return bt(e=>{let n=t(e);return n?Le(n).pipe(ie(()=>e)):ae(e)})}var YA=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===pe);return i}getResolvedTitleForRoute(r){return r.data[Ml]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(L4),providedIn:"root"});let t=e;return t})(),L4=(()=>{let e=class e extends YA{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(V(BS))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pf=new W("",{providedIn:"root",factory:()=>({})}),Lw=new W(""),j4=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(kg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=to(r.loadComponent()).pipe(ie(XA),ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),mo(()=>{this.componentLoaders.delete(r)})),o=new Ts(i,()=>new Nt).pipe(bs());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=U4(i,this.compiler,r,this.onLoadEndListener).pipe(mo(()=>{this.childrenLoaders.delete(i)})),a=new Ts(s,()=>new Nt).pipe(bs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U4(t,e,n,r){return to(t.loadChildren()).pipe(ie(XA),it(i=>i instanceof ic||Array.isArray(i)?ae(i):Le(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Lw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fw),injector:o}}))}function B4(t){return t&&typeof t=="object"&&"default"in t}function XA(t){return B4(t)?t.default:t}var jw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O($4),providedIn:"root"});let t=e;return t})(),$4=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H4=new W("");var z4=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Nt,this.transitionAbortSubject=new Nt,this.configLoader=O(j4),this.environmentInjector=O(Tt),this.urlSerializer=O(Pw),this.rootContexts=O(Mf),this.location=O(pc),this.inputBindingEnabled=O(kw,{optional:!0})!==null,this.titleStrategy=O(YA),this.options=O(Pf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(jw),this.createViewTransition=O(H4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=o=>this.events.next(new pw(o)),i=o=>this.events.next(new mw(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(R(R({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new kt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_l,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(s=>s.id!==0),ie(s=>Ae(R({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),bt(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(ot(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new os(l.id,this.urlSerializer.serialize(l.rawUrl),h,lw.IgnoredSameUrlNavigation)),l.resolve(null),hn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(bt(h=>{let f=this.transitions?.getValue();return this.events.next(new Il(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?hn:Promise.resolve(h)}),R4(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ae(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Cf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:v,restoredState:E,extras:T}=l,D=new Il(h,this.urlSerializer.serialize(f),v,E);this.events.next(D);let H=jA(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(R({},l),{targetSnapshot:H,urlAfterRedirects:f,extras:Ae(R({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ae(s)}else{let h="";return this.events.next(new os(l.id,this.urlSerializer.serialize(l.extractedUrl),h,lw.IgnoredByUrlHandlingStrategy)),l.resolve(null),hn}}),ot(l=>{let u=new uw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Ae(R({},l),{guards:X$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),a4(this.environmentInjector,l=>this.events.next(l)),ot(l=>{if(s.guardsResult=l.guardsResult,Ia(l.guardsResult))throw HA(this.urlSerializer,l.guardsResult);let u=new dw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Qt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ln.GuardRejected),!1)),rw(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(ot(u=>{let d=new hw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),bt(u=>{let d=!1;return ae(u).pipe(N4(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ln.NoDataFromResolver)}}))}),ot(u=>{let d=new fw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),rw(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ot(f=>{d.component=f}),ie(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Ou(u(l.targetSnapshot.root)).pipe(bi(null),Hr(1))}),rw(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Le(d).pipe(ie(()=>s)):ae(s)}),ie(l=>{let u=H$(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(R({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ot(()=>{this.events.next(new bl)}),Y$(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Hr(1),ot({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new is(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wn(this.transitionAbortSubject.pipe(ot(l=>{throw l}))),mo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(l=>{if(c=!0,GA(l))this.events.next(new Zi(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),q$(l)?this.events.next(new Tl(l.url)):s.resolve(!1);else{this.events.next(new Cl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return hn}))}))}cancelNavigationTransition(r,i,o){let s=new Zi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G4(t){return t!==_l}var q4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(W4),providedIn:"root"});let t=e;return t})(),xw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},W4=(()=>{let e=class e extends xw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:()=>O(K4),providedIn:"root"});let t=e;return t})(),K4=(()=>{let e=class e extends JA{constructor(){super(...arguments),this.location=O(pc),this.urlSerializer=O(Pw),this.options=O(Pf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(jw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ji,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Il)this.stateMemento=this.createStateMemento();else if(r instanceof os)this.rawUrlTree=i.initialUrl;else if(r instanceof Cf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof bl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Zi&&(r.code===Ln.GuardRejected||r.code===Ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof Cl?this.restoreHistory(i,!0):r instanceof is&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=R(R({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vl||{});function Q4(t,e){t.events.pipe(Qt(n=>n instanceof is||n instanceof Zi||n instanceof Cl||n instanceof os),ie(n=>n instanceof is||n instanceof os?vl.COMPLETE:(n instanceof Zi?n.code===Ln.Redirect||n.code===Ln.SupersededByNewNavigation:!1)?vl.REDIRECTING:vl.FAILED),Qt(n=>n!==vl.REDIRECTING),Hr(1)).subscribe(()=>{e()})}function Y4(t){throw t}var X4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Od),this.stateManager=O(JA),this.options=O(Pf,{optional:!0})||{},this.pendingTasks=O(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(z4),this.urlSerializer=O(Pw),this.location=O(pc),this.urlHandlingStrategy=O(jw),this._events=new Nt,this.errorHandler=this.options.errorHandler||Y4,this.navigated=!1,this.routeReuseStrategy=O(q4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Lw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(kw,{optional:!0}),this.eventsSubscription=new rt,this.isNgZoneEnabled=O(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Zi&&i.code!==Ln.Redirect&&i.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof is)this.navigated=!0;else if(i instanceof Tl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||G4(o.source)};this.scheduleNavigation(a,_l,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}eH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=R({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=R(R({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=kA(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return FA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ia(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,_l,null,i)}navigate(r,i={skipLocationChange:!1}){return Z4(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=R({},X4):i===!1?o=R({},J4):o=i,Ia(r))return wA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return wA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return Q4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z4(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function eH(t){return!(t instanceof bl)&&!(t instanceof Tl)}var tH=new W("");function ZA(t,...e){return Oi([{provide:Lw,multi:!0,useValue:t},[],{provide:eo,useFactory:nH,deps:[yn]},{provide:Rd,multi:!0,useFactory:iH},e.map(n=>n.\u0275providers)])}function nH(t){return t.routerState.root}function rH(t,e){return{\u0275kind:t,\u0275providers:e}}function iH(){let t=O(Je);return e=>{let n=t.get(br);if(e!==n.components[0])return;let r=t.get(yn),i=t.get(oH);t.get(sH)===1&&r.initialNavigation(),t.get(aH,null,_e.Optional)?.setUpPreloading(),t.get(tH,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oH=new W("",{factory:()=>new Nt}),sH=new W("",{providedIn:"root",factory:()=>1});var aH=new W("");function eM(t){return rH(5,[{provide:Pf,useValue:t}])}var et="top",wt="bottom",ft="right",dt="left",Of="auto",no=[et,wt,ft,dt],fi="start",ss="end",tM="clippingParents",Rf="viewport",Ta="popper",nM="reference",Bw=no.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+ss])},[]),Nf=[].concat(no,[Of]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+ss])},[]),cH="beforeRead",lH="read",uH="afterRead",dH="beforeMain",hH="main",fH="afterMain",pH="beforeWrite",mH="write",gH="afterWrite",rM=[cH,lH,uH,dH,hH,fH,pH,mH,gH];function Pt(t){return t?(t.nodeName||"").toLowerCase():null}function Ge(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Un(t){var e=Ge(t).Element;return t instanceof e||t instanceof Element}function Et(t){var e=Ge(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Da(t){if(typeof ShadowRoot>"u")return!1;var e=Ge(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vH(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Et(o)||!Pt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function yH(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!Et(i)||!Pt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Ol={name:"applyStyles",enabled:!0,phase:"write",fn:vH,effect:yH,requires:["computeStyles"]};function Ot(t){return t.split("-")[0]}var sr=Math.max,as=Math.min,pi=Math.round;function Sa(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Rl(){return!/^((?!chrome|android).)*safari/i.test(Sa())}function Bn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Et(t)&&(i=t.offsetWidth>0&&pi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&pi(r.height)/t.offsetHeight||1);var s=Un(t)?Ge(t):window,a=s.visualViewport,c=!Rl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function cs(t){var e=Bn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Nl(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Da(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ln(t){return Ge(t).getComputedStyle(t)}function $w(t){return["table","td","th"].indexOf(Pt(t))>=0}function zt(t){return((Un(t)?t.ownerDocument:t.document)||window.document).documentElement}function mi(t){return Pt(t)==="html"?t:t.assignedSlot||t.parentNode||(Da(t)?t.host:null)||zt(t)}function iM(t){return!Et(t)||ln(t).position==="fixed"?null:t.offsetParent}function _H(t){var e=/firefox/i.test(Sa()),n=/Trident/i.test(Sa());if(n&&Et(t)){var r=ln(t);if(r.position==="fixed")return null}var i=mi(t);for(Da(i)&&(i=i.host);Et(i)&&["html","body"].indexOf(Pt(i))<0;){var o=ln(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ar(t){for(var e=Ge(t),n=iM(t);n&&$w(n)&&ln(n).position==="static";)n=iM(n);return n&&(Pt(n)==="html"||Pt(n)==="body"&&ln(n).position==="static")?e:n||_H(t)||e}function ls(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function us(t,e,n){return sr(t,as(e,n))}function oM(t,e,n){var r=us(t,e,n);return r>n?n:r}function kl(){return{top:0,right:0,bottom:0,left:0}}function Fl(t){return Object.assign({},kl(),t)}function Vl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wH=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Fl(typeof e!="number"?e:Vl(e,no))};function EH(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ot(n.placement),c=ls(a),l=[dt,ft].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=wH(i.padding,n),h=cs(o),f=c==="y"?et:dt,v=c==="y"?wt:ft,E=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],T=s[c]-n.rects.reference[c],D=ar(o),H=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,G=E/2-T/2,p=d[f],Q=H-h[u]-d[v],x=H/2-h[u]/2+G,K=us(p,x,Q),ue=c;n.modifiersData[r]=(e={},e[ue]=K,e.centerOffset=K-x,e)}}function IH(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Nl(e.elements.popper,i)&&(e.elements.arrow=i))}var sM={name:"arrow",enabled:!0,phase:"main",fn:EH,effect:IH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $n(t){return t.split("-")[1]}var CH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bH(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:pi(n*i)/i||0,y:pi(r*i)/i||0}}function aM(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,v=s.y,E=v===void 0?0:v,T=typeof u=="function"?u({x:f,y:E}):{x:f,y:E};f=T.x,E=T.y;var D=s.hasOwnProperty("x"),H=s.hasOwnProperty("y"),G=dt,p=et,Q=window;if(l){var x=ar(n),K="clientHeight",ue="clientWidth";if(x===Ge(n)&&(x=zt(n),ln(x).position!=="static"&&a==="absolute"&&(K="scrollHeight",ue="scrollWidth")),x=x,i===et||(i===dt||i===ft)&&o===ss){p=wt;var Ie=d&&x===Q&&Q.visualViewport?Q.visualViewport.height:x[K];E-=Ie-r.height,E*=c?1:-1}if(i===dt||(i===et||i===wt)&&o===ss){G=ft;var Te=d&&x===Q&&Q.visualViewport?Q.visualViewport.width:x[ue];f-=Te-r.width,f*=c?1:-1}}var Ye=Object.assign({position:a},l&&CH),Oe=u===!0?bH({x:f,y:E},Ge(n)):{x:f,y:E};if(f=Oe.x,E=Oe.y,c){var Ve;return Object.assign({},Ye,(Ve={},Ve[p]=H?"0":"",Ve[G]=D?"0":"",Ve.transform=(Q.devicePixelRatio||1)<=1?"translate("+f+"px, "+E+"px)":"translate3d("+f+"px, "+E+"px, 0)",Ve))}return Object.assign({},Ye,(e={},e[p]=H?E+"px":"",e[G]=D?f+"px":"",e.transform="",e))}function TH(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Ot(e.placement),variation:$n(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,aM(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,aM(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var cM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TH,data:{}};var kf={passive:!0};function DH(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=Ge(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,kf)}),a&&c.addEventListener("resize",n.update,kf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,kf)}),a&&c.removeEventListener("resize",n.update,kf)}}var lM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DH,data:{}};var SH={left:"right",right:"left",bottom:"top",top:"bottom"};function Aa(t){return t.replace(/left|right|bottom|top/g,function(e){return SH[e]})}var AH={start:"end",end:"start"};function Ff(t){return t.replace(/start|end/g,function(e){return AH[e]})}function ds(t){var e=Ge(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function hs(t){return Bn(zt(t)).left+ds(t).scrollLeft}function Hw(t,e){var n=Ge(t),r=zt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Rl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+hs(t),y:c}}function zw(t){var e,n=zt(t),r=ds(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=sr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=sr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+hs(t),c=-r.scrollTop;return ln(i||n).direction==="rtl"&&(a+=sr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function fs(t){var e=ln(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Vf(t){return["html","body","#document"].indexOf(Pt(t))>=0?t.ownerDocument.body:Et(t)&&fs(t)?t:Vf(mi(t))}function ro(t,e){var n;e===void 0&&(e=[]);var r=Vf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ge(r),s=i?[o].concat(o.visualViewport||[],fs(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(ro(mi(s)))}function Ma(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function MH(t,e){var n=Bn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function uM(t,e,n){return e===Rf?Ma(Hw(t,n)):Un(e)?MH(e,n):Ma(zw(zt(t)))}function xH(t){var e=ro(mi(t)),n=["absolute","fixed"].indexOf(ln(t).position)>=0,r=n&&Et(t)?ar(t):t;return Un(r)?e.filter(function(i){return Un(i)&&Nl(i,r)&&Pt(i)!=="body"}):[]}function Gw(t,e,n,r){var i=e==="clippingParents"?xH(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=uM(t,l,r);return c.top=sr(u.top,c.top),c.right=as(u.right,c.right),c.bottom=as(u.bottom,c.bottom),c.left=sr(u.left,c.left),c},uM(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ll(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ot(r):null,o=r?$n(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case et:c={x:s,y:e.y-n.height};break;case wt:c={x:s,y:e.y+e.height};break;case ft:c={x:e.x+e.width,y:a};break;case dt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?ls(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case fi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case ss:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function cr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?tM:a,l=n.rootBoundary,u=l===void 0?Rf:l,d=n.elementContext,h=d===void 0?Ta:d,f=n.altBoundary,v=f===void 0?!1:f,E=n.padding,T=E===void 0?0:E,D=Fl(typeof T!="number"?T:Vl(T,no)),H=h===Ta?nM:Ta,G=t.rects.popper,p=t.elements[v?H:h],Q=Gw(Un(p)?p:p.contextElement||zt(t.elements.popper),c,u,s),x=Bn(t.elements.reference),K=Ll({reference:x,element:G,strategy:"absolute",placement:i}),ue=Ma(Object.assign({},G,K)),Ie=h===Ta?ue:x,Te={top:Q.top-Ie.top+D.top,bottom:Ie.bottom-Q.bottom+D.bottom,left:Q.left-Ie.left+D.left,right:Ie.right-Q.right+D.right},Ye=t.modifiersData.offset;if(h===Ta&&Ye){var Oe=Ye[i];Object.keys(Te).forEach(function(Ve){var qt=[ft,wt].indexOf(Ve)>=0?1:-1,Wt=[et,wt].indexOf(Ve)>=0?"y":"x";Te[Ve]+=Oe[Wt]*qt})}return Te}function qw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Nf:c,u=$n(r),d=u?a?Bw:Bw.filter(function(v){return $n(v)===u}):no,h=d.filter(function(v){return l.indexOf(v)>=0});h.length===0&&(h=d);var f=h.reduce(function(v,E){return v[E]=cr(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[Ot(E)],v},{});return Object.keys(f).sort(function(v,E){return f[v]-f[E]})}function PH(t){if(Ot(t)===Of)return[];var e=Aa(t);return[Ff(t),e,Ff(e)]}function OH(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,E=n.allowedAutoPlacements,T=e.options.placement,D=Ot(T),H=D===T,G=c||(H||!v?[Aa(T)]:PH(T)),p=[T].concat(G).reduce(function(De,dn){return De.concat(Ot(dn)===Of?qw(e,{placement:dn,boundary:u,rootBoundary:d,padding:l,flipVariations:v,allowedAutoPlacements:E}):dn)},[]),Q=e.rects.reference,x=e.rects.popper,K=new Map,ue=!0,Ie=p[0],Te=0;Te<p.length;Te++){var Ye=p[Te],Oe=Ot(Ye),Ve=$n(Ye)===fi,qt=[et,wt].indexOf(Oe)>=0,Wt=qt?"width":"height",k=cr(e,{placement:Ye,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),B=qt?Ve?ft:dt:Ve?wt:et;Q[Wt]>x[Wt]&&(B=Aa(B));var z=Aa(B),le=[];if(o&&le.push(k[Oe]<=0),a&&le.push(k[B]<=0,k[z]<=0),le.every(function(De){return De})){Ie=Ye,ue=!1;break}K.set(Ye,le)}if(ue)for(var Ne=v?3:1,It=function(dn){var zn=p.find(function(qe){var Rt=K.get(qe);if(Rt)return Rt.slice(0,dn).every(function(gt){return gt})});if(zn)return Ie=zn,"break"},He=Ne;He>0;He--){var Kt=It(He);if(Kt==="break")break}e.placement!==Ie&&(e.modifiersData[r]._skip=!0,e.placement=Ie,e.reset=!0)}}var dM={name:"flip",enabled:!0,phase:"main",fn:OH,requiresIfExists:["offset"],data:{_skip:!1}};function hM(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function fM(t){return[et,ft,wt,dt].some(function(e){return t[e]>=0})}function RH(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),c=hM(s,r),l=hM(a,i,o),u=fM(c),d=fM(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var pM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RH};function NH(t,e,n){var r=Ot(t),i=[dt,et].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[dt,ft].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function kH(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Nf.reduce(function(u,d){return u[d]=NH(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var mM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kH};function FH(t){var e=t.state,n=t.name;e.modifiersData[n]=Ll({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var gM={name:"popperOffsets",enabled:!0,phase:"read",fn:FH,data:{}};function Ww(t){return t==="x"?"y":"x"}function VH(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,v=n.tetherOffset,E=v===void 0?0:v,T=cr(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),D=Ot(e.placement),H=$n(e.placement),G=!H,p=ls(D),Q=Ww(p),x=e.modifiersData.popperOffsets,K=e.rects.reference,ue=e.rects.popper,Ie=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Te=typeof Ie=="number"?{mainAxis:Ie,altAxis:Ie}:Object.assign({mainAxis:0,altAxis:0},Ie),Ye=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Oe={x:0,y:0};if(x){if(o){var Ve,qt=p==="y"?et:dt,Wt=p==="y"?wt:ft,k=p==="y"?"height":"width",B=x[p],z=B+T[qt],le=B-T[Wt],Ne=f?-ue[k]/2:0,It=H===fi?K[k]:ue[k],He=H===fi?-ue[k]:-K[k],Kt=e.elements.arrow,De=f&&Kt?cs(Kt):{width:0,height:0},dn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:kl(),zn=dn[qt],qe=dn[Wt],Rt=us(0,K[k],De[k]),gt=G?K[k]/2-Ne-Rt-zn-Te.mainAxis:It-Rt-zn-Te.mainAxis,_n=G?-K[k]/2+Ne+Rt+qe+Te.mainAxis:He+Rt+qe+Te.mainAxis,dr=e.elements.arrow&&ar(e.elements.arrow),Kl=dr?p==="y"?dr.clientTop||0:dr.clientLeft||0:0,Va=(Ve=Ye?.[p])!=null?Ve:0,Ql=B+gt-Va-Kl,Yl=B+_n-Va,La=us(f?as(z,Ql):z,B,f?sr(le,Yl):le);x[p]=La,Oe[p]=La-B}if(a){var ja,Xl=p==="x"?et:dt,Jl=p==="x"?wt:ft,$r=x[Q],gi=Q==="y"?"height":"width",Ua=$r+T[Xl],co=$r-T[Jl],Ba=[et,dt].indexOf(D)!==-1,Zl=(ja=Ye?.[Q])!=null?ja:0,eu=Ba?Ua:$r-K[gi]-ue[gi]-Zl+Te.altAxis,tu=Ba?$r+K[gi]+ue[gi]-Zl-Te.altAxis:co,nu=f&&Ba?oM(eu,$r,tu):us(f?eu:Ua,$r,f?tu:co);x[Q]=nu,Oe[Q]=nu-$r}e.modifiersData[r]=Oe}}var vM={name:"preventOverflow",enabled:!0,phase:"main",fn:VH,requiresIfExists:["offset"]};function Kw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qw(t){return t===Ge(t)||!Et(t)?ds(t):Kw(t)}function LH(t){var e=t.getBoundingClientRect(),n=pi(e.width)/t.offsetWidth||1,r=pi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Yw(t,e,n){n===void 0&&(n=!1);var r=Et(e),i=Et(e)&&LH(e),o=zt(e),s=Bn(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Pt(e)!=="body"||fs(o))&&(a=Qw(e)),Et(e)?(c=Bn(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=hs(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function jH(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Xw(t){var e=jH(t);return rM.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Jw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Zw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var yM={placement:"bottom",modifiers:[],strategy:"absolute"};function _M(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wM(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?yM:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},yM,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(D){var H=typeof D=="function"?D(u.options):D;E(),u.options=Object.assign({},o,u.options,H),u.scrollParents={reference:Un(a)?ro(a):a.contextElement?ro(a.contextElement):[],popper:ro(c)};var G=Xw(Zw([].concat(r,u.options.modifiers)));return u.orderedModifiers=G.filter(function(p){return p.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var D=u.elements,H=D.reference,G=D.popper;if(_M(H,G)){u.rects={reference:Yw(H,ar(G),u.options.strategy==="fixed"),popper:cs(G)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Te){return u.modifiersData[Te.name]=Object.assign({},Te.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var Q=u.orderedModifiers[p],x=Q.fn,K=Q.options,ue=K===void 0?{}:K,Ie=Q.name;typeof x=="function"&&(u=x({state:u,options:ue,name:Ie,instance:f})||u)}}}},update:Jw(function(){return new Promise(function(T){f.forceUpdate(),T(u)})}),destroy:function(){E(),h=!0}};if(!_M(a,c))return f;f.setOptions(l).then(function(T){!h&&l.onFirstUpdate&&l.onFirstUpdate(T)});function v(){u.orderedModifiers.forEach(function(T){var D=T.name,H=T.options,G=H===void 0?{}:H,p=T.effect;if(typeof p=="function"){var Q=p({state:u,name:D,instance:f,options:G}),x=function(){};d.push(Q||x)}})}function E(){d.forEach(function(T){return T()}),d=[]}return f}}var UH=[lM,gM,cM,Ol,mM,dM,vM,sM,pM],e0=wM({defaultModifiers:UH});var BH="tippy-box",xM="tippy-content",$H="tippy-backdrop",PM="tippy-arrow",OM="tippy-svg-arrow",ps={passive:!0,capture:!0},RM=function(){return document.body};function t0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function a0(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function NM(t,e){return typeof t=="function"?t.apply(void 0,e):t}function EM(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function HH(t){return t.split(/\s+/).filter(Boolean)}function xa(t){return[].concat(t)}function IM(t,e){t.indexOf(e)===-1&&t.push(e)}function zH(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function GH(t){return t.split("-")[0]}function jf(t){return[].slice.call(t)}function CM(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function jl(){return document.createElement("div")}function Uf(t){return["Element","Fragment"].some(function(e){return a0(t,e)})}function qH(t){return a0(t,"NodeList")}function WH(t){return a0(t,"MouseEvent")}function KH(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function QH(t){return Uf(t)?[t]:qH(t)?jf(t):Array.isArray(t)?t:jf(document.querySelectorAll(t))}function n0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function bM(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function YH(t){var e,n=xa(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function XH(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=GH(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,f=l==="right"?u.left.x:0,v=l==="left"?u.right.x:0,E=o.top-r+d>c,T=r-o.bottom-h>c,D=o.left-n+f>c,H=n-o.right-v>c;return E||T||D||H})}function r0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function TM(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Vr={isTouch:!1},DM=0;function JH(){Vr.isTouch||(Vr.isTouch=!0,window.performance&&document.addEventListener("mousemove",kM))}function kM(){var t=performance.now();t-DM<20&&(Vr.isTouch=!1,document.removeEventListener("mousemove",kM)),DM=t}function ZH(){var t=document.activeElement;if(KH(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function ez(){document.addEventListener("touchstart",JH,ps),window.addEventListener("blur",ZH)}var tz=typeof window<"u"&&typeof document<"u",nz=tz?!!window.msCrypto:!1;var rz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},iz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},lr=Object.assign({appendTo:RM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rz,iz),oz=Object.keys(lr),sz=function(e){var n=Object.keys(e);n.forEach(function(r){lr[r]=e[r]})};function FM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=lr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function az(t,e){var n=e?Object.keys(FM(Object.assign({},lr,{plugins:e}))):oz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function SM(t,e){var n=Object.assign({},e,{content:NM(e.content,[t])},e.ignoreAttributes?{}:az(t,e.plugins));return n.aria=Object.assign({},lr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var cz=function(){return"innerHTML"};function o0(t,e){t[cz()]=e}function AM(t){var e=jl();return t===!0?e.className=PM:(e.className=OM,Uf(t)?e.appendChild(t):o0(e,t)),e}function MM(t,e){Uf(e.content)?(o0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?o0(t,e.content):t.textContent=e.content)}function s0(t){var e=t.firstElementChild,n=jf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(xM)}),arrow:n.find(function(r){return r.classList.contains(PM)||r.classList.contains(OM)}),backdrop:n.find(function(r){return r.classList.contains($H)})}}function VM(t){var e=jl(),n=jl();n.className=BH,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=jl();r.className=xM,r.setAttribute("data-state","hidden"),MM(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=s0(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&MM(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(AM(s.arrow))):c.appendChild(AM(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}VM.$$tippy=!0;var lz=1,Lf=[],i0=[];function uz(t,e){var n=SM(t,Object.assign({},lr,FM(CM(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,f=[],v=EM(Ql,n.interactiveDebounce),E,T=lz++,D=null,H=zH(n.plugins),G={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:T,reference:t,popper:jl(),popperInstance:D,props:n,state:G,plugins:H,clearDelayTimeouts:eu,setProps:tu,setContent:nu,show:Jx,hide:Zx,hideWithInteractivity:eP,enable:Ba,disable:Zl,unmount:tP,destroy:nP};if(!n.render)return p;var Q=n.render(p),x=Q.popper,K=Q.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+p.id,p.popper=x,t._tippy=p,x._tippy=p;var ue=H.map(function(b){return b.fn(p)}),Ie=t.hasAttribute("aria-expanded");return dr(),Ne(),B(),z("onCreate",[p]),n.showOnCreate&&Ua(),x.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&qt().addEventListener("mousemove",v)}),p;function Te(){var b=p.props.touch;return Array.isArray(b)?b:[b,0]}function Ye(){return Te()[0]==="hold"}function Oe(){var b;return!!((b=p.props.render)!=null&&b.$$tippy)}function Ve(){return E||t}function qt(){var b=Ve().parentNode;return b?YH(b):document}function Wt(){return s0(x)}function k(b){return p.state.isMounted&&!p.state.isVisible||Vr.isTouch||u&&u.type==="focus"?0:t0(p.props.delay,b?0:1,lr.delay)}function B(b){b===void 0&&(b=!1),x.style.pointerEvents=p.props.interactive&&!b?"":"none",x.style.zIndex=""+p.props.zIndex}function z(b,q,oe){if(oe===void 0&&(oe=!0),ue.forEach(function(Se){Se[b]&&Se[b].apply(Se,q)}),oe){var ke;(ke=p.props)[b].apply(ke,q)}}function le(){var b=p.props.aria;if(b.content){var q="aria-"+b.content,oe=x.id,ke=xa(p.props.triggerTarget||t);ke.forEach(function(Se){var tn=Se.getAttribute(q);if(p.state.isVisible)Se.setAttribute(q,tn?tn+" "+oe:oe);else{var xn=tn&&tn.replace(oe,"").trim();xn?Se.setAttribute(q,xn):Se.removeAttribute(q)}})}}function Ne(){if(!(Ie||!p.props.aria.expanded)){var b=xa(p.props.triggerTarget||t);b.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===Ve()?"true":"false"):q.removeAttribute("aria-expanded")})}}function It(){qt().removeEventListener("mousemove",v),Lf=Lf.filter(function(b){return b!==v})}function He(b){if(!(Vr.isTouch&&(c||b.type==="mousedown"))){var q=b.composedPath&&b.composedPath()[0]||b.target;if(!(p.props.interactive&&TM(x,q))){if(xa(p.props.triggerTarget||t).some(function(oe){return TM(oe,q)})){if(Vr.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[p,b]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||zn())}}}function Kt(){c=!0}function De(){c=!1}function dn(){var b=qt();b.addEventListener("mousedown",He,!0),b.addEventListener("touchend",He,ps),b.addEventListener("touchstart",De,ps),b.addEventListener("touchmove",Kt,ps)}function zn(){var b=qt();b.removeEventListener("mousedown",He,!0),b.removeEventListener("touchend",He,ps),b.removeEventListener("touchstart",De,ps),b.removeEventListener("touchmove",Kt,ps)}function qe(b,q){gt(b,function(){!p.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&q()})}function Rt(b,q){gt(b,q)}function gt(b,q){var oe=Wt().box;function ke(Se){Se.target===oe&&(r0(oe,"remove",ke),q())}if(b===0)return q();r0(oe,"remove",d),r0(oe,"add",ke),d=ke}function _n(b,q,oe){oe===void 0&&(oe=!1);var ke=xa(p.props.triggerTarget||t);ke.forEach(function(Se){Se.addEventListener(b,q,oe),f.push({node:Se,eventType:b,handler:q,options:oe})})}function dr(){Ye()&&(_n("touchstart",Va,{passive:!0}),_n("touchend",Yl,{passive:!0})),HH(p.props.trigger).forEach(function(b){if(b!=="manual")switch(_n(b,Va),b){case"mouseenter":_n("mouseleave",Yl);break;case"focus":_n(nz?"focusout":"blur",La);break;case"focusin":_n("focusout",La);break}})}function Kl(){f.forEach(function(b){var q=b.node,oe=b.eventType,ke=b.handler,Se=b.options;q.removeEventListener(oe,ke,Se)}),f=[]}function Va(b){var q,oe=!1;if(!(!p.state.isEnabled||ja(b)||a)){var ke=((q=u)==null?void 0:q.type)==="focus";u=b,E=b.currentTarget,Ne(),!p.state.isVisible&&WH(b)&&Lf.forEach(function(Se){return Se(b)}),b.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?oe=!0:Ua(b),b.type==="click"&&(s=!oe),oe&&!ke&&co(b)}}function Ql(b){var q=b.target,oe=Ve().contains(q)||x.contains(q);if(!(b.type==="mousemove"&&oe)){var ke=gi().concat(x).map(function(Se){var tn,xn=Se._tippy,vs=(tn=xn.popperInstance)==null?void 0:tn.state;return vs?{popperRect:Se.getBoundingClientRect(),popperState:vs,props:n}:null}).filter(Boolean);XH(ke,b)&&(It(),co(b))}}function Yl(b){var q=ja(b)||p.props.trigger.indexOf("click")>=0&&s;if(!q){if(p.props.interactive){p.hideWithInteractivity(b);return}co(b)}}function La(b){p.props.trigger.indexOf("focusin")<0&&b.target!==Ve()||p.props.interactive&&b.relatedTarget&&x.contains(b.relatedTarget)||co(b)}function ja(b){return Vr.isTouch?Ye()!==b.type.indexOf("touch")>=0:!1}function Xl(){Jl();var b=p.props,q=b.popperOptions,oe=b.placement,ke=b.offset,Se=b.getReferenceClientRect,tn=b.moveTransition,xn=Oe()?s0(x).arrow:null,vs=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Ve()}:t,T0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ru){var ys=ru.state;if(Oe()){var rP=Wt(),np=rP.box;["placement","reference-hidden","escaped"].forEach(function(iu){iu==="placement"?np.setAttribute("data-placement",ys.placement):ys.attributes.popper["data-popper-"+iu]?np.setAttribute("data-"+iu,""):np.removeAttribute("data-"+iu)}),ys.attributes.popper={}}}},lo=[{name:"offset",options:{offset:ke}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!tn}},T0];Oe()&&xn&&lo.push({name:"arrow",options:{element:xn,padding:3}}),lo.push.apply(lo,q?.modifiers||[]),p.popperInstance=e0(vs,x,Object.assign({},q,{placement:oe,onFirstUpdate:h,modifiers:lo}))}function Jl(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function $r(){var b=p.props.appendTo,q,oe=Ve();p.props.interactive&&b===RM||b==="parent"?q=oe.parentNode:q=NM(b,[oe]),q.contains(x)||q.appendChild(x),p.state.isMounted=!0,Xl()}function gi(){return jf(x.querySelectorAll("[data-tippy-root]"))}function Ua(b){p.clearDelayTimeouts(),b&&z("onTrigger",[p,b]),dn();var q=k(!0),oe=Te(),ke=oe[0],Se=oe[1];Vr.isTouch&&ke==="hold"&&Se&&(q=Se),q?r=setTimeout(function(){p.show()},q):p.show()}function co(b){if(p.clearDelayTimeouts(),z("onUntrigger",[p,b]),!p.state.isVisible){zn();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var q=k(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function Ba(){p.state.isEnabled=!0}function Zl(){p.hide(),p.state.isEnabled=!1}function eu(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function tu(b){if(!p.state.isDestroyed){z("onBeforeUpdate",[p,b]),Kl();var q=p.props,oe=SM(t,Object.assign({},q,CM(b),{ignoreAttributes:!0}));p.props=oe,dr(),q.interactiveDebounce!==oe.interactiveDebounce&&(It(),v=EM(Ql,oe.interactiveDebounce)),q.triggerTarget&&!oe.triggerTarget?xa(q.triggerTarget).forEach(function(ke){ke.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),Ne(),B(),K&&K(q,oe),p.popperInstance&&(Xl(),gi().forEach(function(ke){requestAnimationFrame(ke._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[p,b])}}function nu(b){p.setProps({content:b})}function Jx(){var b=p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=Vr.isTouch&&!p.props.touch,Se=t0(p.props.duration,0,lr.duration);if(!(b||q||oe||ke)&&!Ve().hasAttribute("disabled")&&(z("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,Oe()&&(x.style.visibility="visible"),B(),dn(),p.state.isMounted||(x.style.transition="none"),Oe()){var tn=Wt(),xn=tn.box,vs=tn.content;n0([xn,vs],0)}h=function(){var lo;if(!(!p.state.isVisible||l)){if(l=!0,x.offsetHeight,x.style.transition=p.props.moveTransition,Oe()&&p.props.animation){var tp=Wt(),ru=tp.box,ys=tp.content;n0([ru,ys],Se),bM([ru,ys],"visible")}le(),Ne(),IM(i0,p),(lo=p.popperInstance)==null||lo.forceUpdate(),z("onMount",[p]),p.props.animation&&Oe()&&Rt(Se,function(){p.state.isShown=!0,z("onShown",[p])})}},$r()}}function Zx(){var b=!p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,ke=t0(p.props.duration,1,lr.duration);if(!(b||q||oe)&&(z("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,s=!1,Oe()&&(x.style.visibility="hidden"),It(),zn(),B(!0),Oe()){var Se=Wt(),tn=Se.box,xn=Se.content;p.props.animation&&(n0([tn,xn],ke),bM([tn,xn],"hidden"))}le(),Ne(),p.props.animation?Oe()&&qe(ke,p.unmount):p.unmount()}}function eP(b){qt().addEventListener("mousemove",v),IM(Lf,v),v(b)}function tP(){p.state.isVisible&&p.hide(),p.state.isMounted&&(Jl(),gi().forEach(function(b){b._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),i0=i0.filter(function(b){return b!==p}),p.state.isMounted=!1,z("onHidden",[p]))}function nP(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),Kl(),delete t._tippy,p.state.isDestroyed=!0,z("onDestroy",[p]))}}function Ul(t,e){e===void 0&&(e={});var n=lr.plugins.concat(e.plugins||[]);ez();var r=Object.assign({},e,{plugins:n}),i=QH(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&uz(l,r);return u&&c.push(u),c},[]);return Uf(t)?a[0]:a}Ul.defaultProps=lr;Ul.setDefaultProps=sz;Ul.currentInput=Vr;var wre=Object.assign({},Ol,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Ul.setDefaultProps({render:VM});var c0=Ul;var l0=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Nd(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function Bf(t){return t instanceof Jn}function Bl(t){return typeof t=="function"}function $l(t){return typeof t=="string"}var u0=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},d0=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},dz=new W("Component context"),h0=(()=>{let e=class e{constructor(){this.injector=O(Je),this.appRef=O(br),this.environmentInjector=O(Tt)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=ni(i.context),o=Je.create({providers:[{provide:dz,useValue:s.asReadonly()}],parent:o})),new l0({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new u0({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(Bf(r))return this.createTemplate(r,i);if(Bl(r))return this.createComponent(r,i);if($l(r))return new d0(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jM=!1,UM=!1;typeof window<"u"&&(jM="IntersectionObserver"in window,UM="ResizeObserver"in window);function LM(t,e={root:null,threshold:.3}){let n=zM(t);return new se(r=>{if(!jM){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function BM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function fz(t){let e=zM(t);return $M(e).pipe(Tp(150),ie(()=>BM(e)))}function $M(t){return pz(t)}function pz(t){return new se(e=>{if(!UM){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Hl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function HM(t){return(gz(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function mz(t){return vz(t)?"":typeof t=="string"?t:`${t}px`}function gz(t){return typeof t=="string"}function vz(t){return t==null}function zM(t){return t instanceof ct?t.nativeElement:t}var f0,p0=new WeakMap;function yz(t,e){return f0??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||p0.get(r.target)()})}),p0.set(t,e),f0.observe(t),()=>{p0.delete(t),f0.unobserve(t)}}var m0=new W("Tippy config",{providedIn:"root",factory(){return{}}}),GM=new W("TIPPY_REF"),Zt=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Xe,this.destroyed=new Nt,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Nt,this.contentChanged=new Nt}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;$f("content",r)&&this.contentChanged.next(),$f("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=R(R({},this.globalConfig.variations[o]),i)),$f("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),$f("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?LM(this.host).pipe(bt(()=>this.isOverflowing$()),Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):LM(this.host).pipe(Wn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Wn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=yz(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(R(R({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Hl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=c0(this.host,Ae(R(R(R({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Hl(this.globalConfig)),Hl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of HM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);$l(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!$l(this.content)){let o=Je.create({providers:[{provide:GM,useValue:this.instance}],parent:this.injector});Bl(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):Bf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,R({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&Bl(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),$l(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){Rs(this.host,"contextmenu").pipe(Wn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{Rs(document.body,"keydown").pipe(Qt(({code:r})=>r==="Escape"),Wn(Wa(this.destroyed,this.visibleInternal.pipe(Qt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){$M(this.host).pipe(Wn(Wa(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=mz(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return mc(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[fz(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(bt(()=>new se(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>BM(this.host)))),Wa(...r)}};e.\u0275fac=function(i){return new(i||e)(S(On),S(m0),S(Je),S(h0),S(Vt),S(Ce),S(ct))},e.\u0275dir=at({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",Rn],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",Rn],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",Rn],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",Rn],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",Rn],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",Rn],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",Rn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[xd,Zr]});let t=e;return t})();function $f(t,e){return t in e}var qM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Ae(R(R(R({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Je.create({providers:[{provide:GM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,Bf(i)?c.$viewOptions.context=R({$implicit:c.hide.bind(c)},o.context):Bl(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,R(R({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Hl(this.globalConfig)),this.globalConfig.variations[s]),Hl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of HM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return c0(r,a)}};e.\u0275fac=function(i){return new(i||e)(V(m0),V(h0),V(Je))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WM(t={}){return Oi([{provide:m0,useValue:t}])}var Lr=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}abort(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.abort(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var wz=500,un=wz+"ms ease",$re=Fn("skip",[ut(":enter",[])]),Pa=Fn("fade",[ut(":enter",[ge({opacity:0}),_t(un,ge({opacity:1}))]),ut(":leave",[ge({opacity:1,"pointer-events":"none"}),_t(un,ge({opacity:0}))])]),Hre=Fn("scalefade",[ut(":enter",[ge({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),_t(un,ge({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),ut(":leave",[ge({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),_t(un,ge({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),KM=Fn("crossfade",[ut(":enter",[ge({opacity:0}),_t(un,ge({opacity:1}))]),ut(":leave",[ge({opacity:1,"pointer-events":"none",position:"absolute"}),_t(un,ge({opacity:0}))])]),QM=Fn("enter",[ut(":enter",[ge({opacity:0}),_t(un,ge({opacity:1}))])]),zre=Fn("leave",[ut(":leave",[ge({opacity:1}),_t(un,ge({opacity:0}))])]),Gre=Fn("hidden",[ut("* => true",[ge({opacity:"*"}),_t(un,ge({opacity:0}))]),ut("true => *",[ge({opacity:0}),_t(un,ge({opacity:"*"}))])]),qre=Fn("drawer2",[zS("0",ge({height:0})),ut("1 => void",[]),ut("1 => *",[ge({height:"*"}),_t(un,ge({height:0}))]),ut("0 => void",[ge({height:0}),_t(un,ge({height:0}))]),ut("0 => *",[ge({height:0}),_t(un,ge({height:"*"}))])]),YM=Fn("drawer",[ut(":enter",[ge({height:0,opacity:0}),_t(un,ge({height:"*",opacity:"*"}))]),ut(":leave",[ge({height:"*",opacity:"*"}),_t(un,ge({height:0,opacity:0}))])]);var tt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=ni(void 0),this.changes=ni(void 0),this.errors=ni(void 0),this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gt=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};var Ez=["content"];function Iz(t,e){if(t&1){let n=X();m(0,"div",6,7),C("click",function(){A(n);let i=w(2);return M(i.overlayClick())}),g()}}function Cz(t,e){if(t&1){let n=X();m(0,"i",12),C("click",function(){A(n);let i=w(3);return M(i.contentComponentInstance.close())}),g()}}function bz(t,e){if(t&1){let n=X();m(0,"div",8,9),C("mousedown",function(i){A(n);let o=Qe(1),s=w(2);return M(s.onHeaderMouseDown(i,o))}),m(2,"span",10),N(3),g(),U(4,Cz,1,0,"i",11),g()}if(t&2){let n=w(2);y(3),Ee(n.contentComponentInstance.configuration.title),y(),I("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function Tz(t,e){if(t&1&&(We(0),$(1,"div",3),U(2,Iz,2,0,"div",4)(3,bz,5,2,"div",5),Ke()),t&2){let n=w();y(2),I("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),y(),I("ngIf",n.contentComponentInstance.configuration.title)}}function Dz(t,e){t&1&&(m(0,"div",13),xg(1,null,14),g())}function Sz(t,e){if(t&1){let n=X();m(0,"i",19),C("click",function(){A(n);let i=w(2).$implicit;return M(i.click&&i.click())}),g()}if(t&2){let n=w(2).$implicit,r=w(2);sb("icon-button "+r.getIconClass(n)),de("disabled",r.isDisabled(n))}}function Az(t,e){if(t&1){let n=X();m(0,"div",20),C("click",function(){A(n);let i=w(2).$implicit;return M(i.click&&i.click())}),N(1),g()}if(t&2){let n=w(2).$implicit,r=w(2);de("disabled",r.isDisabled(n)),y(),Ee(r.getText(n))}}function Mz(t,e){if(t&1&&(We(0),U(1,Sz,1,4,"i",17)(2,Az,2,3,"div",18),Ke()),t&2){let n=w().$implicit;y(),I("ngIf",n.iconClass),y(),I("ngIf",n.text)}}function xz(t,e){if(t&1&&(We(0),U(1,Mz,3,2,"ng-container",0),Ke()),t&2){let n=e.$implicit,r=w(2);y(),I("ngIf",!r.isHidden(n))}}function Pz(t,e){if(t&1&&(m(0,"div",15),U(1,xz,2,1,"ng-container",16),g()),t&2){let n=w();y(),I("ngForOf",n.contentComponentInstance.configuration.buttons)}}var XM=(()=>{let e=class e{constructor(r,i){this.elementRef=r,this.dialogService=i,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(o=>this.resolve=o)}ngAfterViewInit(){Gt.isLargeScreen()&&(this.top||(this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top"))),this.left||(this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"))));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.result.finally(()=>r.destroy()),r.changeDetectorRef.detectChanges()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,this.top!==void 0&&localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),this.left!==void 0&&localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.dialogs.findIndex(i=>i==this);for(let i=r;i<this.dialogService.dialogs.length;i++){let o=this.dialogService.dialogs[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}onScreenResize(r){Gt.isLargeScreen()||(this.top=null,this.left=null)}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&fb(Ez,5,Vt),i&2){let s;Og(s=Rg())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&C("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,hc)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,hc)("resize",function(a){return o.onScreenResize(a)},!1,_C),i&2&&(Lt("top",o.top,"px")("left",o.left,"px"),de("border-warning",o.borderWarning))},standalone:!0,features:[J],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&U(0,Tz,4,2,"ng-container",0)(1,Dz,3,0,"div",1)(2,Pz,2,1,"div",2),i&2&&(I("ngIf",o.contentComponentInstance),y(),I("ngIf",o.contentComponentType),y(),I("ngIf",o.contentComponentInstance))},dependencies:[ee,ze,Be],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - .9999999999rem);max-height:calc(100% - .9999999999rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:var(--color-dialog-background);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var en=class{submit(){this.close()}};function Oz(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit;y(),Ee(n)}}var JM=(()=>{let e=class e extends en{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText,click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-confirmation-dialog"]],standalone:!0,features:[ht,J],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,Oz,2,1,"span",1),g()),i&2&&(y(),I("ngForOf",o.inputs.messages))},dependencies:[ee,ze],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var sx=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S(Mo),S(ct))},e.\u0275dir=at({type:e});let t=e;return t})(),Rz=(()=>{let e=class e extends sx{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275dir=at({type:e,features:[ht]});let t=e;return t})(),ax=new W("");var Nz={provide:ax,useExisting:lc(()=>io),multi:!0};function kz(){let t=ii()?ii().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Fz=new W(""),io=(()=>{let e=class e extends sx{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kz())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S(Mo),S(ct),S(Fz,8))},e.\u0275dir=at({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&C("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ng([Nz]),ht]});let t=e;return t})();var Vz=new W(""),Lz=new W("");function cx(t){return t!=null}function lx(t){return No(t)?Le(t):t}function ux(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function dx(t,e){return e.map(n=>n(t))}function jz(t){return!t.validate}function hx(t){return t.map(e=>jz(e)?e:n=>e.validate(n))}function Uz(t){if(!t)return null;let e=t.filter(cx);return e.length==0?null:function(n){return ux(dx(n,e))}}function fx(t){return t!=null?Uz(hx(t)):null}function Bz(t){if(!t)return null;let e=t.filter(cx);return e.length==0?null:function(n){let r=dx(n,e).map(lx);return bp(r).pipe(ie(ux))}}function px(t){return t!=null?Bz(hx(t)):null}function ZM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $z(t){return t._rawValidators}function Hz(t){return t._rawAsyncValidators}function g0(t){return t?Array.isArray(t)?t:[t]:[]}function zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function ex(t,e){let n=g0(e);return g0(t).forEach(i=>{zf(n,i)||n.push(i)}),n}function tx(t,e){return g0(e).filter(n=>!zf(t,n))}var Gf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=px(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},v0=class extends Gf{get formDirective(){return null}get path(){return null}},ql=class extends Gf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},y0=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},zz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bie=Ae(R({},zz),{"[class.ng-submitted]":"isSubmitted"}),Ra=(()=>{let e=class e extends y0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(ql,2))},e.\u0275dir=at({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&de("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ht]});let t=e;return t})();var zl="VALID",Hf="INVALID",Oa="PENDING",Gl="DISABLED";function Gz(t){return(qf(t)?t.validators:t)||null}function qz(t){return Array.isArray(t)?fx(t):t||null}function Wz(t,e){return(qf(e)?e.asyncValidators:t)||null}function Kz(t){return Array.isArray(t)?px(t):t||null}function qf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var _0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zl}get invalid(){return this.status===Hf}get pending(){return this.status==Oa}get disabled(){return this.status===Gl}get enabled(){return this.status!==Gl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ex(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ex(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tx(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oa,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gl,this.errors=null,this._forEachChild(r=>{r.disable(Ae(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zl,this._forEachChild(r=>{r.enable(Ae(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zl||this.status===Oa)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gl:zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;let n=lx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Gl:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(Hf)?Hf:zl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kz(this._rawAsyncValidators)}};var mx=new W("CallSetDisabledState",{providedIn:"root",factory:()=>w0}),w0="always";function Qz(t,e){return[...e.path,t]}function Yz(t,e,n=w0){Jz(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Zz(t,e),tG(t,e),eG(t,e),Xz(t,e)}function nx(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jz(t,e){let n=$z(t);e.validator!==null?t.setValidators(ZM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Hz(t);e.asyncValidator!==null?t.setAsyncValidators(ZM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();nx(e._rawValidators,i),nx(e._rawAsyncValidators,i)}function Zz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gx(t,e)})}function eG(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tG(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function nG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function rG(t){return Object.getPrototypeOf(t.constructor)===Rz}function iG(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===io?n=o:rG(o)?r=o:i=o}),i||r||n||null}function rx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ix(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var oG=class extends _0{constructor(e=null,n,r){super(Gz(n),Wz(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ix(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ix(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sG={provide:ql,useExisting:lc(()=>ms)},ox=Promise.resolve(),ms=(()=>{let e=class e extends ql{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new oG,this._registered=!1,this.name="",this.update=new Xe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=iG(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),nG(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yz(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){ox.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Rn(i);ox.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Qz(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(v0,9),S(Vz,10),S(Lz,10),S(ax,10),S(Tr,8),S(mx,8))},e.\u0275dir=at({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ng([sG]),ht,Zr]});let t=e;return t})();var aG=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=on({type:e}),e.\u0275inj=sn({});let t=e;return t})();var Hn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mx,useValue:r.callSetDisabledState??w0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=on({type:e}),e.\u0275inj=sn({imports:[aG]});let t=e;return t})();var nt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var vx=(()=>{let e=class e extends en{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!nt.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-input-dialog"]],standalone:!0,features:[ht,J],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(m(0,"input",0),Ni("ngModelChange",function(a){return Ro(o.value,a)||(o.value=a),a}),g()),i&2&&(Ri("ngModel",o.value),I("placeholder",o.inputs.placeholder))},dependencies:[ee,Hn,io,Ra,ms],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function cG(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit;y(),Ee(n)}}var yx=(()=>{let e=class e extends en{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=tr(e)))(o||e)}})(),e.\u0275cmp=Y({type:e,selectors:[["app-message-dialog"]],standalone:!0,features:[ht,J],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,cG,2,1,"span",1),g()),i&2&&(y(),I("ngForOf",o.inputs.messages))},dependencies:[ee,ze],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem}"]});let t=e;return t})();var L=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static makeFirst(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.unshift(n))}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static makeLast(e,n){!this.isEmpty(e)&&n&&(this._remove(e,n),e.push(n))}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var pt=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.dialogs=[]}createMessage(r,i){return this.create(yx,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(JM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(vx,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i){let o=L.getLast(this.dialogs.filter(c=>c.contentComponentType==r));if(o&&!o.contentComponentInstance.configuration.allowMultiple)return;let s=Nd(XM,{environmentInjector:this.injector}),a=s.instance;return a.contentComponentType=r,a.inputs=i,a.result.finally(()=>{L.remove(this.dialogs,this.dialogs.find(c=>c==a)),this.applicationRef.detachView(s.hostView),s.destroy()}),o&&(a.top=o.top+10,a.left=o.left+10),this.dialogs.push(a),this.applicationRef.attachView(s.hostView),document.body.firstElementChild.appendChild(s.location.nativeElement),s.changeDetectorRef.detectChanges(),a.result}};e.\u0275fac=function(i){return new(i||e)(V(br),V(Tt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lG(t,e){t&1&&$(0,"div",3),t&2&&I("@fade",void 0)}function uG(t,e){t&1&&$(0,"span",4),t&2&&I("@fade",void 0)}var _x=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new Lr(1500),ri(()=>{this.applicationService.changes()!==void 0&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(S(tt),S(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-root"]],standalone:!0,features:[J],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(U(0,lG,1,1,"div",0),$(1,"div",1),U(2,uG,1,1,"span",2),$(3,"router-outlet")),i&2&&(I("ngIf",o.isBlurOverlayVisible()),y(),Lt("background-color",o.getLoadingBarColor()),y(),I("ngIf",o.applicationService.loading()))},dependencies:[ee,Be,Nw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Pa]}});let t=e;return t})();var Mn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Na=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return pn(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return pn(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return pn(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return pn(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return pn(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return pn(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}download(e){return _(this,null,function*(){let n="https://www.googleapis.com/drive/v3/files/"+e.id,r=yield pn(this.http.get(n,{params:{alt:"media"},responseType:"blob"})),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=e.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return pn(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?pn(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):pn(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var oo=(()=>{let e=class e extends Na{constructor(r){super(r),this.http=r,this.FIELDS="id,name,mimeType,thumbnailLink,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return _(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield pn(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return _(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(V(Fo))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dG(t,e){if(t&1){let n=X();m(0,"span",6),C("click",function(){let o=A(n).$implicit,s=w(2);return M(s.onDataFileClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;y(),Ee(n.name.substring(0,n.name.length-10))}}function hG(t,e){if(t&1){let n=X();m(0,"span",6),C("click",function(){let o=A(n).$implicit,s=w(2);return M(s.onFolderClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;y(),Ee(n.name)}}function fG(t,e){if(t&1&&(m(0,"div",4),U(1,dG,2,1,"span",5)(2,hG,2,1,"span",5),g()),t&2){let n=w();y(),I("ngForOf",n.dataFiles),y(),I("ngForOf",n.folders)}}var wx=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return _(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>Mn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return _(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(S(yn),S(oo),S(tt))},e.\u0275cmp=Y({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[J],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),U(1,fG,3,2,"div",1),m(2,"div",2)(3,"i",3),C("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),g()()()),i&2&&(de("opacity-100",!o.applicationService.loading()),y(),I("ngIf",!0),y(2),I("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[ee,Yt,ze,Be],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var Ex=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Kf=class{};var Qf=class{};var Yf=class extends Qf{};var Ix=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Xe}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}previousState(r){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[J],decls:5,vars:0,consts:[[1,"container","flex"],[1,"left"],[1,"middle"],[1,"right"],[1,"aaa"]],template:function(i,o){i&1&&(m(0,"div",0),$(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),g())},dependencies:[ee],styles:[".container[_ngcontent-%COMP%]{width:42px;height:16px;position:relative;cursor:pointer;box-sizing:border-box}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;border:1px solid var(--color-border)}.container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-color:#ff00001a;border-right:0;border-top-left-radius:50%;border-bottom-left-radius:50%}.container[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{background-color:#ffffff1a;border-left:0;border-right:0}.container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{background-color:#00ff001a;border-left:0;border-top-right-radius:50%;border-bottom-right-radius:50%}.container[_ngcontent-%COMP%]   .aaa[_ngcontent-%COMP%]{position:absolute;left:0;width:12px;height:12px;background-color:#00f;border-radius:50%;border:1px solid var(--color-border);box-sizing:border-box;margin:2px}"]});let t=e;return t})();function pG(t,e){if(t&1){let n=X();We(0),m(1,"div",1)(2,"app-switch",2),C("stateChange",function(i){A(n);let o=w();return M(o.onShowVideosStateChange(i))}),g(),m(3,"span",3),N(4,"Show Videos"),g()(),m(5,"div",1)(6,"app-switch",4),C("stateChange",function(i){A(n);let o=w();return M(o.onAutoBookmarkStateChange(i))}),g(),m(7,"span",3),N(8,"Auto Bookmark"),g()(),$(9,"div",5),m(10,"div",6),C("click",function(){A(n);let i=w();return M(i.bookmarkAll())}),N(11,"Bookmark All"),g(),Ke()}if(t&2){let n=w();y(2),I("state",n.stateService.settings.showVideos),y(4),I("state",n.stateService.settings.autoBookmark)}}var Xf=(()=>{let e=class e extends en{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"OK",click:()=>this.submit()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}bookmarkAll(){for(let r of this.stateService.images)r.bookmark=!0;this.stateService.updateFilters(),this.stateService.save()}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery-settings"]],standalone:!0,features:[ht,J],decls:1,vars:1,consts:[[4,"ngIf"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"],[1,"v-separator"],[1,"button",3,"click"]],template:function(i,o){i&1&&U(0,pG,12,2,"ng-container",0),i&2&&I("ngIf",o.stateService.settings)},dependencies:[ee,Be,Ix],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var mt=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new Lr(5e3),this.images=[],this.filter=ni([]),this.target=ni(null),this.tagManagerVisible=Gt.isLargeScreen(),this.filterFavorite={},this.filterBookmark={},this.filterGroups={},this.filterVisible=Gt.isLargeScreen()}processData(){return _(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter||0,this.filterBookmark.state=r.bookmarksFilter||0,this.filterGroups.state=r.filterGroups||0,this.comparison=r.comparison,this.tagGroups=r.tagGroups||[],this.openTagGroup=L.getFirst(this.tagGroups),this.tags=this.tagGroups.flatMap(o=>o.tags),r.imageProperties||(r.imageProperties=[]),r.groupProperties||(r.groupProperties=[]),r.settings?this.settings=r.settings:yield this.dialogService.create(Xf);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),L.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new Kf;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s.tags=o.tagIds?.map(a=>this.tags.find(c=>c.id==a))||[],s}),this.updateFilters(),this.applicationService.loading.set(!1),r.settings||this.save()})}processImages(r,i,o,s){return _(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>Mn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));L.push(o,a.filter(c=>Mn.isImage(c)||Mn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new Yf;if(a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),Mn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):Mn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),a.tags=[],i){a.heart=i.heart,a.bookmark=i.bookmark;let c;for(let l of i.tagIds)c=this.tags.find(u=>u.id==l),c&&a.tags.push(c)}else this.settings.autoBookmark&&(a.bookmark=!0);return a}save(r=!1){this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{let i={};i.dataFolderId=this.dataFolderId,i.archiveFolderId=this.archiveFolderId,i.heartsFilter=this.filterFavorite.state,i.bookmarksFilter=this.filterBookmark.state,i.filterGroups=this.filterGroups.state,i.settings=this.settings,i.comparison=this.comparison,i.imageProperties=this.images.map(o=>this.serializeImage(o)),i.groupProperties=this.groups.filter(o=>!L.isEmpty(o.images)).map(o=>this.serializeGroup(o)),i.tagGroups=this.tagGroups,this.googleService.updateContent(this.googleService.dataFileId,i).then(o=>{o||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete()}serializeImage(r){let i={};return i.id=r.id,i.heart=r.heart,i.bookmark=r.bookmark,i.tagIds=r.tags.map(o=>o.id),i}serializeGroup(r){let i={};return i.imageIds=r.images.map(o=>o.id),i.tagIds=r.tags.filter(o=>o).map(o=>o.id),i}updateFilters(r){r?r.passesFilter=this.doesPassFilter(r):this.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}doesPassFilter(r){if(!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.filterGroups.state==-1&&r.group||this.filterGroups.state==1&&!r.group||this.settings.showVideos==-1&&Mn.isVideo(r))return!1;let i;for(let o of this.tags)if(i=r.tags.includes(o)||r.group?.tags.includes(o),o.state==-1&&i||o.state==1&&!i)return!1;return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return _(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))){if(this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),L.remove(this.images,this.images.find(s=>s.id==r.id)),r.group)if(r.group.images.length>2)L.remove(r.group.images,r);else{L.remove(this.groups,r.group);for(let s of r.group.images)L.push(s.tags,s.group.tags),delete s.group}if(this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&L.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.target.set(null),this.save(!0),this.applicationService.loading.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)(V(C_),V(tt),V(oo),V(pt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mG(t,e){if(t&1){let n=X();We(0),m(1,"div",0)(2,"span"),N(3,"Tag Name"),g(),m(4,"input",1),Ni("ngModelChange",function(i){A(n);let o=w();return Ro(o.tagName,i)||(o.tagName=i),M(i)}),g()(),Ke()}if(t&2){let n=w();y(4),Ri("ngModel",n.tagName)}}var Cx=(()=>{let e=class e extends en{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>"Delete",hidden:()=>this.inputs.mode=="create",click:()=>this.deleteTag()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>this.inputs.mode=="create"?"Create":"Save",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}ngOnInit(){this.inputs.group&&(this.groupName=this.inputs.group.name),this.inputs.tag&&(this.tagName=this.inputs.tag.name)}deleteTag(){this.inputs.mode=="edit"&&(this.inputs.tag==null?this.dialogService.createConfirmation("Delete Tag Group",['Delete tag group "'+this.inputs.group.name+'"?'],"Yes","No").then(r=>{if(r){L.remove(this.stateService.tags,this.inputs.group.tags),L.remove(this.stateService.tagGroups,this.inputs.group);for(let i of this.stateService.images)L.remove(i.tags,this.inputs.group.tags);this.stateService.save(),this.resolve(null)}}):this.dialogService.createConfirmation("Delete Tag",['Delete tag "'+this.inputs.group.name+" - "+this.inputs.tag.name+'"?'],"Yes","No").then(r=>{if(r){L.remove(this.stateService.tags,this.inputs.tag),L.remove(this.inputs.group.tags,this.inputs.tag),L.isEmpty(this.inputs.group.tags)&&L.remove(this.stateService.tagGroups,this.inputs.group);for(let i of this.stateService.images)L.remove(i.tags,this.inputs.tag),this.stateService.updateFilters(i);this.stateService.save(),this.resolve(null)}}))}canSubmit(){if(this.inputs.mode=="create"){if(nt.isEmpty(this.groupName)||nt.isEmpty(this.tagName))return!1;for(let r of this.stateService.tagGroups)for(let i of r.tags)if(r.name==this.groupName&&i.name==this.tagName)return!1}else if(this.inputs.tag==null){if(nt.isEmpty(this.groupName)||this.groupName==this.inputs.group.name)return!1;for(let r of this.stateService.tagGroups)if(r.name==this.groupName)return!1}else{if(nt.isEmpty(this.groupName)||nt.isEmpty(this.tagName)||this.inputs.group&&this.inputs.tag&&this.groupName==this.inputs.group.name&&this.tagName==this.inputs.tag.name)return!1;for(let r of this.stateService.tagGroups)for(let i of r.tags)if(r.name==this.groupName&&i.name==this.tagName)return!1}return!0}submit(){if(this.canSubmit()){if(this.inputs.mode=="create"){let r=this.stateService.tagGroups.find(o=>o.name==this.groupName);r||(r={name:this.groupName,tags:[]},this.stateService.tagGroups.push(r),this.stateService.tagGroups.sort((o,s)=>o.name.localeCompare(s.name)));let i={id:Ex(),name:this.tagName,state:0};r.tags.push(i),r.tags.sort((o,s)=>o.name.localeCompare(s.name)),this.stateService.tags.push(i),this.stateService.tags.sort((o,s)=>o.name.localeCompare(s.name))}else if(this.inputs.tag==null)this.inputs.group.name=this.groupName,this.stateService.tagGroups.sort((r,i)=>r.name.localeCompare(i.name));else{let r=this.inputs.group;this.groupName!=r.name&&(L.remove(r.tags,this.inputs.tag),L.isEmpty(r.tags)&&L.remove(this.stateService.tagGroups,r),r=this.stateService.tagGroups.find(i=>i.name==this.groupName),r==null&&(r={name:this.groupName,tags:[]},this.stateService.tagGroups.push(r),this.stateService.tagGroups.sort((i,o)=>i.name.localeCompare(o.name))),r.tags.push(this.inputs.tag),r.tags.sort((i,o)=>i.name.localeCompare(o.name))),this.tagName!=this.inputs.tag.name&&(this.inputs.tag.name=this.tagName,r.tags.sort((i,o)=>i.name.localeCompare(o.name)),this.stateService.tags.sort((i,o)=>i.name.localeCompare(o.name)))}this.stateService.save(),this.resolve(this.inputs.tag)}}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(S(pt),S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery-tag-editor"]],standalone:!0,features:[ht,J],decls:5,vars:2,consts:[[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"],[4,"ngIf"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),N(2,"Group Name"),g(),m(3,"input",1),Ni("ngModelChange",function(a){return Ro(o.groupName,a)||(o.groupName=a),a}),g()(),U(4,mG,5,1,"ng-container",2)),i&2&&(y(3),Ri("ngModel",o.groupName),y(),I("ngIf",o.inputs.mode=="create"||o.inputs.tag))},dependencies:[ee,Be,Hn,io,Ra,ms],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:.9999999999rem;gap:.9999999999rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:3rem;box-sizing:border-box}"]});let t=e;return t})();var ka=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(console.log("onDragEnd"),this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(S(Vt))},e.\u0275dir=at({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function gG(t,e){t&1&&(m(0,"span"),N(1,"No Images"),g())}function vG(t,e){if(t&1){let n=X();m(0,"div",4),C("click",function(){let o=A(n).$implicit,s=w(3);return M(s.stateService.target.set(o))}),m(1,"i",5),C("click",function(i){let s=A(n).$implicit,a=w(3);return i.stopPropagation(),M(a.removeImage(s))}),g(),m(2,"img",6,7),C("load",function(){A(n);let i=Qe(3);return M(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(3);I("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),y(2),Lt("width",120*n.aspectRatio,"px"),I("src",n.thumbnailLink,Cr)}}function yG(t,e){if(t&1&&(m(0,"div",2),U(1,vG,4,5,"div",3),g()),t&2){let n=w(2);y(),I("ngForOf",n.stateService.groupEditorGroup.images)}}function _G(t,e){if(t&1&&(We(0),U(1,gG,2,0,"span",0)(2,yG,2,1,"div",1),Ke()),t&2){let n=w();y(),I("ngIf",n.stateService.groupEditorGroup.images.length==0),y(),I("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var bx=(()=>{let e=class e extends en{constructor(r,i){super(),this.stateService=r,this.dialogService=i,this.configuration={title:"Group Manager",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>{this.dialogService.createConfirmation("Confirmation",["Are you sure you want to disband this group of images?"],"Yes","No").then(o=>{o&&this.disband()})}},{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length<2,click:()=>this.submit()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[],tags:[]},this.stateService.updateFilters()}removeImage(r){L.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){L.remove(this.stateService.groups,r);for(let i of r.images)L.push(i.tags,i.group.tags),delete i.group;this.stateService.save(!0),this.close()}}submit(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(!0),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(S(mt),S(pt))},e.\u0275cmp=Y({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[ht,J],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],["tp","Remove",1,"icon-button-small","fa-solid","fa-times",3,"click"],[3,"src","load"],["imageElement",""]],template:function(i,o){i&1&&U(0,_G,3,2,"ng-container",0),i&2&&I("ngIf",o.stateService.groupEditorGroup)},dependencies:[ee,ze,Be,ka,Zt],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:.3333333333rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;border-radius:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}"]});let t=e;return t})();var Br=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.stateService=i,this.tippyService=o}openFileInformation(r){this.dialogService.createMessage("File Information",["File Name: "+r.name,"File Type: "+r.mimeType,"Resolution: "+r.imageMediaMetadata.width+"\xD7"+r.imageMediaMetadata.height])}openImageGroupEditor(r){this.dialogService.create(bx,{sourceGroup:r})}openSettings(){this.dialogService.create(Xf)}openTagEditor(r,i,o){this.dialogService.create(Cx,{mode:r,group:i,tag:o})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(V(pt),V(mt),V(qM))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wG(t,e){if(t&1){let n=X();m(0,"div",21),C("click",function(){let o=A(n).$implicit,s=w();return M(s.onTagGroupClick(o))})("contextmenu",function(i){let s=A(n).$implicit,a=w();return i.preventDefault(),M(a.galleryService.openTagEditor("edit",s))}),m(1,"span"),N(2),g(),$(3,"div",22),g()}if(t&2){let n=e.$implicit,r=w();y(),de("highlight",r.isSomeTagInGroupActive(n)),y(),Ee(n.name),y(),de("transparent",n!=r.stateService.openTagGroup)}}function EG(t,e){if(t&1){let n=X();m(0,"span",25),C("click",function(){let o=A(n).$implicit,s=w(2);return M(s.toggleFilter(o))})("contextmenu",function(i){let s=A(n).$implicit,a=w().$implicit,c=w();return i.preventDefault(),M(c.galleryService.openTagEditor("edit",a,s))}),N(1),g()}if(t&2){let n=e.$implicit,r=w(2);I("ngClass",r.getFilterClass(n)),y(),Ee(n.name)}}function IG(t,e){if(t&1&&(m(0,"div",23),U(1,EG,2,2,"span",24),g()),t&2){let n=e.$implicit,r=w();de("transparent",n!=r.stateService.openTagGroup),y(),I("ngForOf",n.tags)}}var Tx=(()=>{let e=class e{get classVisible(){return this.stateService.filterVisible}constructor(r,i){this.galleryService=r,this.stateService=i}onTagGroupClick(r){this.stateService.openTagGroup==r?(r.tags.every(i=>i.state==1)?r.tags.forEach(i=>i.state=-1):r.tags.every(i=>i.state==-1)?r.tags.forEach(i=>i.state=0):r.tags.forEach(i=>i.state=1),this.stateService.updateFilters(),this.stateService.save()):this.stateService.openTagGroup=r}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters(),this.stateService.save()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters(),this.stateService.save()}canClear(){return this.stateService.tags?.some(r=>r.state!=0)}isSomeTagInGroupActive(r){return r.tags.some(i=>i.state!=0)}getFilterClass(r,i=!1){switch(r.state){case 1:return"positive "+(i?"fa-solid":"");case-1:return"negative "+(i?"fa-solid":"");default:return i?"fa-regular":""}}};e.\u0275fac=function(i){return new(i||e)(S(Br),S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-filter"]],hostVars:2,hostBindings:function(i,o){i&2&&de("visible",o.classVisible)},standalone:!0,features:[J],decls:34,vars:10,consts:[[1,"filter-container"],[1,"header"],["tp","Collapse","tpPlacement","right",1,"icon-button","fa-solid","fa-caret-left",3,"click"],[1,"h-separator"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten",3,"click"],[1,"fa-heart",2,"margin-top","1px",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",2,"margin-top","1px",3,"ngClass"],[1,"fa-solid","fa-object-group",2,"margin-top","1px",3,"ngClass"],[1,"filters-container","margins-2-h","margins-3-v"],[1,"groups-container"],["class","group-container hover-brighten white-space-nowrap",3,"click","contextmenu",4,"ngFor","ngForOf"],[1,"v-separator"],[1,"stack-container","width-auto","height-auto"],["class","tags-container",3,"transparent",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"v-separator","desktop-only"],[1,"group-container","hover-brighten","white-space-nowrap",3,"click","contextmenu"],[1,"group-active-indicator"],[1,"tags-container"],["class","cursor-pointer hover-brighten white-space-nowrap",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"cursor-pointer","hover-brighten","white-space-nowrap",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.filterVisible=!1}),g(),m(3,"span"),N(4,"Filter Configuration"),g()(),$(5,"div",3),m(6,"div",4)(7,"div",5),C("click",function(){return o.toggleFilter(o.stateService.filterFavorite)}),$(8,"i",6),m(9,"span",7),N(10,"Favorites"),g()(),m(11,"div",5),C("click",function(){return o.toggleFilter(o.stateService.filterBookmark)}),$(12,"i",8),m(13,"span",7),N(14,"Bookmarks"),g()(),m(15,"div",5),C("click",function(){return o.toggleFilter(o.stateService.filterGroups)}),$(16,"i",9),m(17,"span",7),N(18,"Groups"),g()()(),$(19,"div",3),m(20,"div",10)(21,"div",11),U(22,wG,4,5,"div",12),g(),$(23,"div",13),m(24,"div",14),U(25,IG,2,3,"div",15),g()(),m(26,"div",16)(27,"div",17),C("click",function(){return o.galleryService.openTagEditor("create",o.stateService.openTagGroup)}),$(28,"i",18),N(29,"Create"),g(),m(30,"div",17),C("click",function(){return o.clearFilters()}),$(31,"i",19),N(32,"Clear"),g()()(),$(33,"div",20)),i&2&&(y(8),I("ngClass",o.getFilterClass(o.stateService.filterFavorite,!0)),y(),I("ngClass",o.getFilterClass(o.stateService.filterFavorite)),y(3),I("ngClass",o.getFilterClass(o.stateService.filterBookmark,!0)),y(),I("ngClass",o.getFilterClass(o.stateService.filterBookmark)),y(3),I("ngClass",o.getFilterClass(o.stateService.filterGroups)),y(),I("ngClass",o.getFilterClass(o.stateService.filterGroups)),y(5),I("ngForOf",o.stateService.tagGroups),y(3),I("ngForOf",o.stateService.tagGroups),y(5),de("disabled",!o.canClear()))},dependencies:[ee,Yt,ze,Zt],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s;overflow:hidden}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{height:100%;position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background)}[_nghost-%COMP%]:not(.visible){transform:translate(-100vw)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){width:0;min-width:0;transform:translate(-300.8px)}}[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;padding:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-active-indicator[_ngcontent-%COMP%]{width:100%;min-width:.6666666666rem;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible;margin-left:1rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"]});let t=e;return t})();function CG(t,e){if(t&1){let n=X();m(0,"div",18),C("click",function(){let o=A(n).$implicit,s=w();return M(s.stateService.openTagGroup=o)})("contextmenu",function(i){let s=A(n).$implicit,a=w();return i.preventDefault(),M(a.galleryService.openTagEditor("edit",s))}),m(1,"span"),N(2),g(),$(3,"div",19),g()}if(t&2){let n=e.$implicit,r=w();y(),de("highlight",r.isSomeTagActiveInGroup(n)),y(),Ee(n.name),y(),de("transparent",n!=r.stateService.openTagGroup)}}function bG(t,e){if(t&1){let n=X();m(0,"span",22),C("click",function(){let o=A(n).$implicit,s=w(2);return M(s.toggleTag(s.target,o))})("contextmenu",function(i){let s=A(n).$implicit,a=w().$implicit,c=w();return i.preventDefault(),M(c.galleryService.openTagEditor("edit",a,s))}),N(1),g()}if(t&2){let n=e.$implicit,r=w(2);I("ngClass",r.getTagClass(n)),y(),Ee(n.name)}}function TG(t,e){if(t&1&&(m(0,"div",20),U(1,bG,2,2,"span",21),g()),t&2){let n=e.$implicit,r=w();de("transparent",n!=r.stateService.openTagGroup),y(),I("ngForOf",n.tags)}}var Dx=(()=>{let e=class e{get classVisible(){return this.stateService.tagManagerVisible}constructor(r,i){this.galleryService=r,this.stateService=i,this.groupMode=!1,this.groupModeWarningFlash=!1,ri(()=>{this.target=this.stateService.target(),this.target==null&&(this.groupMode=!1)})}toggleTag(r,i){if(r.group)if(this.groupMode)r.group.tags.includes(i)?L.remove(r.group.tags,i):(r.group.tags.push(i),r.group.images.forEach(o=>L.remove(o.tags,i)));else if(r.group.tags.includes(i)){this.groupModeWarningFlash=!0,setTimeout(()=>this.groupModeWarningFlash=!1,500);return}else L.toggle(r.tags,i);else L.toggle(r.tags,i);this.stateService.save(),this.stateService.updateFilters()}isSomeTagActiveInGroup(r){if(this.target){if(this.target.group&&r.tags.some(i=>this.target.group.tags.some(o=>i==o)))return!0;if(!this.groupMode)return r.tags.some(i=>this.target.tags.some(o=>i==o))}}getTagClass(r){let i=[];return this.target&&(this.target.group?this.groupMode?(i.push("cursor-pointer"),i.push("hover-brighten"),this.target.group.tags.includes(r)&&i.push("positive")):(this.target.group.tags.includes(r)?(i.push("positive"),i.push("underline"),i.push("opacity-075")):(i.push("cursor-pointer"),i.push("hover-brighten")),this.target.tags.includes(r)&&i.push("positive")):(i.push("cursor-pointer"),i.push("hover-brighten"),this.target.tags.includes(r)&&i.push("positive"))),i.join(" ")}};e.\u0275fac=function(i){return new(i||e)(S(Br),S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-tag-manager"]],hostVars:2,hostBindings:function(i,o){i&2&&de("visible",o.classVisible)},standalone:!0,features:[J],decls:24,vars:13,consts:[[1,"v-separator","desktop-only"],[1,"tag-manager-container"],[1,"header"],[1,"icon-button","transparent"],["tp","Collapse","tpPlacement","left",1,"icon-button","fa-solid","fa-caret-right","justify-self-end",3,"click"],[1,"h-separator"],[1,"flex","center","gap-3","margins-3-v"],[1,"flex","center","gap","cursor-pointer","hover-brighten","group-mode-container",3,"click"],[1,"fa-solid",2,"margin-top","1px",3,"ngClass"],[1,"filters-container","margins-2-h","margins-3-v"],[1,"groups-container"],["class","group-container hover-brighten white-space-nowrap",3,"click","contextmenu",4,"ngFor","ngForOf"],[1,"v-separator"],[1,"stack-container","width-auto","height-auto"],["class","tags-container",3,"transparent",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",3,"click"],[1,"fa-solid","fa-plus"],[1,"group-container","hover-brighten","white-space-nowrap",3,"click","contextmenu"],[1,"group-active-indicator"],[1,"tags-container"],["class","white-space-nowrap",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"white-space-nowrap",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&($(0,"div",0),m(1,"div",1)(2,"div",2),$(3,"i",3),m(4,"span"),N(5,"Tag Manager"),g(),m(6,"i",4),C("click",function(){return o.stateService.tagManagerVisible=!1}),g()(),$(7,"div",5),m(8,"div",6)(9,"div",7),C("click",function(){return o.groupMode=!o.groupMode}),$(10,"i",8),m(11,"span"),N(12,"Group Mode"),g()()(),$(13,"div",5),m(14,"div",9)(15,"div",10),U(16,CG,4,5,"div",11),g(),$(17,"div",12),m(18,"div",13),U(19,TG,2,3,"div",14),g()(),m(20,"div",15)(21,"div",16),C("click",function(){return o.galleryService.openTagEditor("create",o.stateService.openTagGroup)}),$(22,"i",17),N(23,"Create"),g()()()),i&2&&(y(8),de("disabled",!o.target),y(),de("disabled",(o.target==null?null:o.target.group)==null)("positive",o.groupMode)("flash",o.groupModeWarningFlash),y(),I("ngClass",o.groupMode?"fa-images":"fa-image"),y(4),de("disabled",!o.target),y(2),I("ngForOf",o.stateService.tagGroups),y(3),I("ngForOf",o.stateService.tagGroups))},dependencies:[ee,Yt,ze,Zt],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;transition:.5s}[_nghost-%COMP%]:not(.visible){opacity:0;pointer-events:none}@media screen and (max-width: 768px){[_nghost-%COMP%]{height:100%;position:absolute;z-index:1;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background)}[_nghost-%COMP%]:not(.visible){transform:translate(100vw)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{width:300.8px;min-width:300.8px}[_nghost-%COMP%]:not(.visible){width:0;min-width:0}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;padding:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:100vw;min-width:100vw}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]{width:300px;min-width:300px}}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .group-mode-container.flash[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .tag-manager-container[_ngcontent-%COMP%]   .group-mode-container[_ngcontent-%COMP%]:not(.flash){transition:color .5s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-active-indicator[_ngcontent-%COMP%]{width:100%;min-width:.6666666666rem;border-bottom:1px solid var(--color-border)}[_nghost-%COMP%]   .filters-container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.3333333333rem;overflow:visible;margin-left:1rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{flex:1;gap:.3333333333rem}"]});let t=e;return t})();var Sx=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new I0,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(S(Vt),S(Jn))},e.\u0275dir=at({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),I0=class{};function DG(t,e){if(t&1){let n=X();m(0,"i",24),C("click",function(){A(n);let i=w(2);return M(i.setRandomGroupTarget())}),g()}}function SG(t,e){if(t&1){let n=X();We(0),m(1,"i",25),C("click",function(){A(n);let i=w().ngVar,o=w();return M(o.googleService.download(i))}),g(),$(2,"div",6),m(3,"i",26),C("click",function(i){A(n);let o=w().ngVar,s=w();return i.stopPropagation(),M(s.googleService.openSearch(o.name))}),g(),m(4,"i",27),C("click",function(i){A(n);let o=w().ngVar,s=w();return i.stopPropagation(),M(s.galleryService.openYandexReverseImageSearch(i,o))}),g(),$(5,"div",6),Ke()}}function AG(t,e){if(t&1){let n=X();m(0,"div",33)(1,"img",34,35),C("click",function(){let o=A(n).$implicit,s=w(4);return M(s.onImageClick(o))})("load",function(){A(n);let i=Qe(2);return M(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(4);I("@fade",void 0),y(),I("src",r.getSrc(n),Cr)}}var C0=t=>[t];function MG(t,e){if(t&1&&(m(0,"div",31),U(1,AG,3,2,"div",32),g()),t&2){let n=w(2).ngVar;I("@fade",void 0),y(),I("ngForOf",Pd(2,C0,n))}}function xG(t,e){if(t&1){let n=X();m(0,"div",33)(1,"img",34,35),C("click",function(){let o=A(n).$implicit,s=w(4);return M(s.onImageClick(o))})("load",function(){A(n);let i=Qe(2);return M(i.style.opacity="1")}),g()()}if(t&2){let n=e.$implicit,r=w(4);I("@fadeBetweenGroupImages",void 0),y(),I("src",r.getSrc(n),Cr)}}function PG(t,e){if(t&1){let n=X();m(0,"img",34,42),C("click",function(){let o=A(n).$implicit,s=w(5);return M(s.stateService.target.set(o))})("load",function(){A(n);let i=Qe(1);return M(i.style.opacity="1")}),g()}if(t&2){let n=e.$implicit;Lt("height",120,"px")("width",120*n.aspectRatio,"px"),I("src",n.thumbnailLink,Cr)}}function OG(t,e){if(t&1&&(m(0,"div",40),U(1,PG,2,5,"img",41),g()),t&2){let n=e.$implicit;I("@fade",void 0),y(),I("ngForOf",n.images)}}function RG(t,e){if(t&1&&(m(0,"div",36)(1,"div",37),U(2,xG,3,2,"div",32),g(),m(3,"div",38),U(4,OG,2,2,"div",39),g()()),t&2){let n=w(2).ngVar;I("@fade",void 0),y(2),I("ngForOf",Pd(3,C0,n)),y(2),I("ngForOf",Pd(5,C0,n.group))}}function NG(t,e){if(t&1&&(m(0,"div",28),U(1,MG,2,4,"div",29)(2,RG,5,7,"div",30),g()),t&2){let n=w().ngVar;I("@fade",void 0),y(),I("ngIf",!n.group),y(),I("ngIf",n.group)}}function kG(t,e){if(t&1){let n=X();m(0,"i",43),C("click",function(){A(n);let i=w().ngVar,o=w();return M(o.galleryService.openImageGroupEditor(i.group))}),g()}}function FG(t,e){if(t&1){let n=X();We(0),m(1,"img",1),C("load",function(){A(n);let i=w();return M(i.loadingT=!1)}),g(),m(2,"img",1),C("load",function(){A(n);let i=w();return M(i.loadingC=!1)}),g(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"i",5),C("click",function(){A(n);let i=w();return M(i.stateService.target.set(null))}),g(),$(7,"div",6),m(8,"i",7),C("click",function(){A(n);let i=w();return M(i.setRandomTarget())}),g(),U(9,DG,1,0,"i",8),g(),$(10,"div",9),m(11,"div",10),U(12,SG,6,0,"ng-container",11),m(13,"i",12),C("click",function(){let o=A(n).ngVar,s=w();return M(s.stateService.delete(o,!0))}),g(),m(14,"i",13),C("click",function(){let o=A(n).ngVar,s=w();return M(s.stateService.delete(o,!1))}),g()()(),m(15,"div",14),U(16,NG,3,3,"div",15),g(),m(17,"div",16)(18,"div",4)(19,"i",17),C("click",function(){A(n);let i=w();return M(i.stateService.target.set(null))}),g(),$(20,"div",6),m(21,"i",18),C("click",function(){let o=A(n).ngVar,s=w();return M(s.stateService.toggleFavorite(o,!0))}),g(),m(22,"i",19),C("click",function(){let o=A(n).ngVar,s=w();return M(s.stateService.toggleBookmark(o,!0))}),g(),m(23,"div",20)(24,"i",21),C("click",function(){A(n);let i=w();return M(i.stateService.tagManagerVisible=!i.stateService.tagManagerVisible)}),g()()(),$(25,"div",9),m(26,"div",10),U(27,kG,1,0,"i",22),m(28,"i",23),C("click",function(){let o=A(n).ngVar,s=w();return M(s.galleryService.openFileInformation(o))}),g()()()(),Ke()}if(t&2){let n=e.ngVar,r=w();y(),I("src",n==null?null:n.thumbnailLink,Cr),y(),I("src",n==null?null:n.contentLink,Cr),y(7),I("ngIf",n==null?null:n.group),y(3),I("ngIf",r.ScreenUtils.isLargeScreen()),y(4),I("ngIf",n),y(5),I("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),y(),I("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),y(),de("drawer-visible",!r.stateService.tagManagerVisible),y(4),I("ngIf",n==null?null:n.group)}}var Ax=(()=>{let e=class e{constructor(r,i,o,s,a){this.applicationService=r,this.googleService=i,this.stateService=o,this.dialogService=s,this.galleryService=a,this.ScreenUtils=Gt,this.loadingT=!0,this.loadingC=!0,this.video=!1,ri(()=>{let c=this.stateService.target();c&&(Mn.isVideo(c)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))})}initKeybinds(r){if(["BODY","VIDEO"].includes(r.target.nodeName)&&this.stateService.target())switch(r.code){case"Escape":this.stateService.target.set(null);return;case"KeyR":this.setRandomTarget();return;case"KeyG":this.setRandomGroupTarget();return}}setRandomTarget(){if(!L.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=L.getRandom(this.stateService.filter(),i.group.images):r=L.getRandom(this.stateService.filter(),[i]):r=L.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(L.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return L.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return L.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(L.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(L.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}};e.\u0275fac=function(i){return new(i||e)(S(tt),S(oo),S(mt),S(pt),S(Br))},e.\u0275cmp=Y({type:e,selectors:[["app-fullscreen"]],hostBindings:function(i,o){i&1&&C("keydown",function(a){return o.initKeybinds(a)},!1,hc)},standalone:!0,features:[J],decls:1,vars:1,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-container"],[1,"sidebar-left"],[1,"sidebar-start"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"h-separator","gap"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],[1,"sidebar-center"],[1,"sidebar-end"],[4,"ngIf"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"width-100","height-100"],["class","stack-container",4,"ngIf"],[1,"sidebar-right"],["tp","Close","tpPlacement","left",1,"icon-button","fa-solid","fa-times",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"drawer-container"],["tp","Open Tag Manager","tpPlacement","left",1,"icon-button","fa-solid","fa-tags",3,"click"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager","tpPlacement","left",3,"click",4,"ngIf"],["tp","File Information","tpPlacement","left",1,"icon-button","fa-solid","fa-circle-info",3,"click"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],["tp","Download","tpPlacement","right",1,"icon-button","fa-solid","fa-download",3,"click"],["tp","Google Drive","tpPlacement","right",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Yandex RIS","tpPlacement","right",1,"icon-button","fa-brands","fa-yandex-international",3,"click"],[1,"stack-container"],["class","non-group-container stack-container",4,"ngIf"],["class","has-group-container",4,"ngIf"],[1,"non-group-container","stack-container"],["class","image-container",4,"ngFor","ngForOf"],[1,"image-container"],[3,"src","click","load"],["imageElement",""],[1,"has-group-container"],[1,"another-container","stack-container"],[1,"group-images-container","stack-container"],["class","group-image-container",4,"ngFor","ngForOf"],[1,"group-image-container"],[3,"height","width","src","click","load",4,"ngFor","ngForOf"],["groupImageElement",""],["tp","Group Manager","tpPlacement","left",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&U(0,FG,29,10,"ng-container",0),i&2&&I("ngVar",o.stateService.target())},dependencies:[ee,Yt,ze,Be,Sx,Zt],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]{min-width:100%}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-visible){width:0;min-width:0;opacity:0;transform:translate(3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:space-between}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .non-group-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding:.3333333333rem 0}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:auto;gap:.3333333333rem;padding:.3333333333rem 0;justify-content:flex-end}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{overflow:auto}@media screen and (max-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .another-container[_ngcontent-%COMP%]{position:absolute;top:0;left:.3333333333rem;right:.3333333333rem;width:calc(100% - .6666666666rem);z-index:-1}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-images-container[_ngcontent-%COMP%]{height:auto}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-y:hidden;padding:0;gap:.3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]{justify-content:center}}[_nghost-%COMP%]   .has-group-container[_ngcontent-%COMP%]   .group-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0;cursor:pointer}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:auto;box-sizing:border-box}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;overflow:auto;object-fit:contain}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{outline:none;-webkit-user-select:none;user-select:none;transition-property:opacity;transition-duration:.5s;opacity:0}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{width:42px;display:flex;flex-direction:column;justify-content:space-between;padding:.3333333333rem;z-index:1}[_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-left[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]{align-items:flex-end}[_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .sidebar-right[_ngcontent-%COMP%]   .sidebar-end[_ngcontent-%COMP%]{align-items:flex-end}"],data:{animation:[Pa,Fn("fadeBetweenGroupImages",[ut(":enter",[ge({opacity:0}),_t("333ms ease",ge({opacity:1}))]),ut(":leave",[ge({opacity:1,"pointer-events":"none","z-index":-1}),_t("333ms 333ms ease",ge({opacity:0}))])])]}});let t=e;return t})();var Mx=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Xe}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(S(ct))},e.\u0275dir=at({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var xx=(()=>{let e=class e{constructor(r,i,o){this.applicationService=r,this.galleryService=i,this.stateService=o}};e.\u0275fac=function(i){return new(i||e)(S(tt),S(Br),S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-header"]],standalone:!0,features:[J],decls:8,vars:3,consts:[[1,"header-start"],[1,"drawer-container"],["tp","Open Filter Configuration",1,"icon-button","fa-solid","fa-filter",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.filterVisible=!o.stateService.filterVisible}),g()(),m(3,"i",3),C("click",function(){return o.galleryService.openImageGroupEditor()}),g()(),$(4,"div",4),m(5,"div",5)(6,"i",6),C("click",function(){return o.applicationService.toggleTheme()}),g(),m(7,"i",7),C("click",function(){return o.galleryService.openSettings()}),g()()),i&2&&(y(),de("drawer-hidden",!o.stateService.filterVisible),y(5),I("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[ee,Yt,Zt],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between;overflow:hidden}@media screen and (min-width: 768px){[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]{width:3rem;min-width:3rem;transition-property:width,min-width,opacity,margin,transform;transition-duration:.5s}[_nghost-%COMP%]   .drawer-container[_ngcontent-%COMP%]:not(.drawer-hidden){width:0;min-width:0;opacity:0;margin-right:-.3333333333rem;transform:translate(-3rem);pointer-events:none;border:0}}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center;display:grid;grid-template-columns:1fr auto 1fr}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function VG(t,e){if(t&1){let n=X();m(0,"i",13),C("click",function(i){A(n);let o=w(2).$implicit;return w().galleryService.openImageGroupEditor(o.group),M(i.stopPropagation())}),g()}}function LG(t,e){if(t&1){let n=X();We(0),m(1,"div",8)(2,"i",9),C("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),M(s.stateService.toggleFavorite(o,!0))}),g(),m(3,"i",10),C("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),M(s.stateService.toggleBookmark(o,!0))}),g()(),m(4,"div",11),U(5,VG,1,0,"i",12),g(),Ke()}if(t&2){let n=w().$implicit;y(2),I("ngClass",n.heart?"fa-solid active":"fa-regular"),y(),I("ngClass",n.bookmark?"fa-solid active":"fa-regular"),y(2),I("ngIf",n.group)}}function jG(t,e){if(t&1){let n=X();m(0,"div",3),C("click",function(){let o=A(n).$implicit,s=w();return M(s.onImageClick(o))}),m(1,"div",4)(2,"img",5,6),C("create",function(i){let s=A(n).$implicit,a=w();return M(a.bricks[s.id]=i.nativeElement)})("load",function(){A(n);let i=Qe(3);return M(i.style.opacity="1")}),g()(),U(4,LG,6,3,"ng-container",7),g()}if(t&2){let n=e.$implicit,r=w();Lt("width",n.masonryWidth,"px")("height",n.masonryHeight,"px")("top",n.masonryTop,"px")("left",n.masonryLeft,"px")("opacity",n.group&&r.stateService.groupEditorGroup&&!r.stateService.groupEditorGroup.images.includes(n)?"0.15":"1"),I("@fade",void 0),y(2),I("src",n.thumbnailLink,Cr),y(2),I("ngIf",r.areBrickButtonsVisible())}}var Px=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.cdr=i,this.applicationService=o,this.stateService=s,this.googleService=a,this.galleryService=c,this.bricks={},this.layoutUpdateDelay=new Lr(100),ri(()=>this.updateLayout()),new ResizeObserver(()=>{Gt.isLargeScreen()&&this.requestLayoutUpdate()}).observe(r.nativeElement)}requestLayoutUpdate(){this.layoutUpdateDelay.restart(()=>{let r=this.masonryScrollContainer.scrollTop/(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight);this.updateLayout();let i=(this.masonryScrollContainer.scrollHeight-this.masonryScrollContainer.clientHeight)*r;setTimeout(()=>this.masonryScrollContainer.scrollTo({top:i,behavior:"smooth"}),500),this.cdr.detectChanges()})}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilter):!0),this.masonryImages.length==0)return;let r=Gt.isLargeScreen()?250:200,i=Gt.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.masonryWidth!=a&&(u.masonryWidth=a,u.masonryHeight=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.masonryTop=c[d],u.masonryLeft=l[d],c[d]=c[d]+u.masonryHeight+i}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r;this.bricks[i?.id].scrollIntoView()}}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;L.toggle(i.images,r);return}this.stateService.target.set(r)}areBrickButtonsVisible(){return Gt.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(S(ct),S(Tr),S(tt),S(mt),S(oo),S(Br))},e.\u0275cmp=Y({type:e,selectors:[["app-masonry"]],standalone:!0,features:[J],decls:4,vars:1,consts:[[1,"masonry-scroll-container",3,"create"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"width","height","top","left","opacity","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],["loading","lazy",3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["class","icon-button active fa-solid fa-object-group","tp","Group Manager",3,"click",4,"ngIf"],["tp","Group Manager",1,"icon-button","active","fa-solid","fa-object-group",3,"click"]],template:function(i,o){i&1&&($(0,"app-header"),m(1,"div",0),C("create",function(a){return o.masonryScrollContainer=a.nativeElement}),m(2,"div",1),C("create",function(a){return o.masonryContainer=a.nativeElement,o.updateLayout()}),U(3,jG,5,13,"div",2),g()()),i&2&&(y(3),I("ngForOf",o.masonryImages))},dependencies:[ee,Yt,ze,Be,Mx,Zt,xx],styles:["[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left,width,height,opacity;transition-duration:.5s;padding-bottom:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[Pa]}});let t=e;return t})();function UG(t,e){if(t&1&&(m(0,"div",1)(1,"div",2),$(2,"app-filter")(3,"app-masonry"),g(),m(4,"div",3),$(5,"app-fullscreen")(6,"app-tag-manager"),g()()),t&2){let n=w();I("@enter",void 0),y(4),de("transparent",!n.stateService.target())}}var Ox=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.loading=!0,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData().then(()=>this.loading=!1)}};e.\u0275fac=function(i){return new(i||e)(S(tt),S(mt))},e.\u0275cmp=Y({type:e,selectors:[["app-gallery"]],standalone:!0,features:[J],decls:1,vars:1,consts:[["class","stack-container",4,"ngIf"],[1,"stack-container"],[1,"flex"],[1,"fullscreen-container"]],template:function(i,o){i&1&&U(0,UG,7,3,"div",0),i&2&&I("ngIf",!o.loading)},dependencies:[ee,Be,Tx,Px,Ax,Dx],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}[_nghost-%COMP%]   .fullscreen-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:var(--color-dialog-background);transition:.5s;z-index:1}"],data:{animation:[QM]}});let t=e;return t})();var gs=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function BG(t,e){if(t&1){let n=X();m(0,"div",5)(1,"div",6)(2,"span"),N(3,"po\u010Det t\xEDmov"),g(),m(4,"input",7,8),C("input",function(){A(n);let i=Qe(5),o=w();return M(o.onTeamCountChange(i))}),g()(),m(6,"div",6)(7,"span"),N(8,"trvanie kola"),g(),m(9,"input",7,9),C("input",function(){A(n);let i=Qe(10),o=w();return M(o.onRoundDurationChange(i))}),g()(),m(11,"span",10),C("click",function(){A(n);let i=w();return M(i.settingsDone())}),N(12,"\u0161tart"),g()()}if(t&2){let n=w();y(4),I("value",4),y(5),I("value",60),y(2),de("disabled",!n.validateSettings())}}function $G(t,e){t&1&&(m(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function HG(t,e){if(t&1){let n=X();m(0,"div",11),U(1,$G,2,0,"span",12),m(2,"span"),N(3),g(),m(4,"span"),N(5),g(),m(6,"span",10),C("click",function(){A(n);let i=w();return M(i.startRound())}),N(7,"\u0161tart"),g()()}if(t&2){let n=w();y(),I("ngIf",n.isCurrentRoundForEveryone()),y(2),Ee(n.getCurrentDiscipline()),y(2),Ee(n.availablePhrases[0])}}function zG(t,e){if(t&1){let n=X();m(0,"span",10),C("click",function(){A(n);let i=w(2);return M(i.endRoundEarly())}),N(1,"hotovo"),g()}}function GG(t,e){if(t&1&&(m(0,"div",13)(1,"span"),N(2),g(),U(3,zG,2,0,"span",14),g()),t&2){let n=w();y(2),Ee(n.timeLeft),y(),I("ngIf",n.showEndRoundEarlyButton)}}function qG(t,e){t&1&&(m(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function WG(t,e){if(t&1){let n=X();m(0,"input",18,19),C("input",function(){A(n);let i=Qe(1),o=w(2);return M(o.onForEveryoneWinnerChange(i))}),g()}}function KG(t,e){if(t&1){let n=X();m(0,"div",15),U(1,qG,2,0,"span",12),m(2,"span"),N(3),g(),m(4,"span"),N(5),g(),m(6,"div",16),U(7,WG,2,0,"input",17),m(8,"span",10),C("click",function(){A(n);let i=w();return M(i.roundOver(!0))}),N(9,"uh\xE1dli"),g()(),m(10,"span",10),C("click",function(){A(n);let i=w();return M(i.roundOver(!1))}),N(11,"neuh\xE1dli"),g()()}if(t&2){let n=w();y(),I("ngIf",n.isCurrentRoundForEveryone()),y(2),Ee(n.getCurrentDiscipline()),y(2),Ee(n.availablePhrases[0]),y(),Lt("gap","2rem"),y(),I("ngIf",n.isCurrentRoundForEveryone()),y(),Lt("width",100,"%"),de("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function QG(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit,r=e.index;y(),Oo("",r+1,". t\xEDm: ",n.wins,"")}}function YG(t,e){if(t&1){let n=X();m(0,"div",20)(1,"span"),N(2,"sk\xF3re"),g(),U(3,QG,2,2,"span",21),m(4,"span",10),C("click",function(){A(n);let i=w();return M(i.currentView="instructions")}),N(5,"\u010Fa\u013E\u0161ie kolo"),g()()}if(t&2){let n=w();y(3),I("ngForOf",n.teams)}}var Rx=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=L.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>L.push(s.roundDisciplines,L.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(gs.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--color-border")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-activity"]],standalone:!0,features:[J],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&U(0,BG,13,4,"div",0)(1,HG,8,3,"div",1)(2,GG,4,2,"div",2)(3,KG,12,10,"div",3)(4,YG,6,1,"div",4),i&2&&(I("ngIf",o.currentView=="settings"),y(),I("ngIf",o.currentView=="instructions"),y(),I("ngIf",o.currentView=="countdown"),y(),I("ngIf",o.currentView=="result"),y(),I("ngIf",o.currentView=="score"))},dependencies:[ee,ze,Be,Hn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var Nx=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],kx=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],Fx=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var Vx=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,L.push(this.availableQuestions,Nx),L.push(this.availableQuestions,kx),L.push(this.availableQuestions,Fx),L.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[J],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.next()}),m(1,"span"),N(2),g()()),i&2&&(y(2),Ee(o.currentQuestion))},dependencies:[ee],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var Lx=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=gs.from(this.limbs,this.limb),[this.color,this.backgroundColor]=gs.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-twister"]],standalone:!0,features:[J],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.spin()}),m(1,"span"),N(2),g()()),i&2&&(Lt("background-color",o.backgroundColor),y(2),Oo("",o.limb," ",o.color,""))},dependencies:[ee],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function XG(t,e){if(t&1){let n=X();We(0),m(1,"span",1),C("click",function(){A(n);let i=w();return M(i.navigate("gallery"))}),N(2,"Gallery"),g(),m(3,"span",1),C("click",function(){A(n);let i=w();return M(i.navigate("story-manager"))}),N(4,"Story Manager"),g(),m(5,"span",1),C("click",function(){A(n);let i=w();return M(i.navigate("comparison"))}),N(6,"Comparison"),g(),Ke()}}var jx=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(S(yn),S(tt))},e.\u0275cmp=Y({type:e,selectors:[["app-landing"]],standalone:!0,features:[J],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span",1),C("click",function(){return o.navigate("games/activity")}),N(2,"Activity"),g(),m(3,"span",1),C("click",function(){return o.navigate("games/twister")}),N(4,"Twister"),g(),m(5,"span",1),C("click",function(){return o.navigate("games/nikdy-som")}),N(6,"Nikdy som"),g(),U(7,XG,7,0,"ng-container",2),g(),$(8,"div",3),m(9,"div",0)(10,"i",4),C("click",function(){return o.applicationService.toggleTheme()}),g()(),m(11,"div",5),C("click",function(){return o.dev=o.dev+1}),g()),i&2&&(y(7),I("ngIf",o.dev>4),y(3),I("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[ee,Yt,Be],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var Ux="https://mazacik.github.io",b0={production:!0,baseUrl:Ux,redirectUrl:Ux+"/login"};var Fa=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+b0.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return _(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:b0.redirectUrl,plugin_name:"TagalleryWeb"};yield Mu(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return _(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Mu(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(V(Fo))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bx=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(S(eo),S(yn),S(Fa))},e.\u0275cmp=Y({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(m(0,"div",0),C("click",function(){return o.signIn()}),$(1,"img",1),m(2,"span",2),N(3,"Sign in with Google"),g()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var Jf=(t,e)=>_(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=O(yn),r=O(Fa);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var $x=(t,e)=>{let n=O(yn),r=sessionStorage.getItem("dataFileId");return nt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var Hx=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return O(yn).createUrlTree([""])};var zx=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&Pg("@crossfade",o.crossfade)},standalone:!0,features:[J],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(m(0,"span",0),N(1),g(),m(2,"span"),N(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),g(),m(4,"span"),N(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),g(),$(6,"img",1)),i&2&&(y(),Ee(o.userAgent))},dependencies:[ee,Hn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[KM]}});let t=e;return t})();var so=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!L.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],L.isEmpty(this.currentStory.notes)||(this.currentNote=L.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=nt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ao=(()=>{let e=class e extends Na{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new Lr(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.abort(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(V(Fo),V(tt),V(so),V(pt))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZG(t,e){if(t&1){let n=X();m(0,"div",6),C("click",function(){let o=A(n).$implicit,s=w();return M(s.remove(o))}),m(1,"i",7),C("click",function(i){let s=A(n).$implicit;return w().editTag(s),M(i.stopPropagation())}),g(),m(2,"span"),N(3),g(),$(4,"i",8),g()}if(t&2){let n=e.$implicit,r=w();I("dragdrop",n)("dragdropParent",r.currentTags),y(3),Ee(n)}}function eq(t,e){if(t&1){let n=X();m(0,"div",9),C("click",function(){let o=A(n).$implicit,s=w();return M(s.add(o))}),$(1,"i",10),m(2,"span"),N(3),g(),m(4,"div",11)(5,"i",7),C("click",function(i){let s=A(n).$implicit;return w().editTag(s),M(i.stopPropagation())}),g(),m(6,"i",12),C("click",function(i){let s=A(n).$implicit;return w().deleteTag(s),M(i.stopPropagation())}),g()()()}if(t&2){let n=e.$implicit;y(3),Ee(n)}}var Gx=(()=>{let e=class e extends en{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),L.remove(this.availableTags,r)}remove(r){L.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!nt.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(L.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(L.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),L.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?L.remove(this.currentTags,r):L.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>L.remove(o.tags,r)),L.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(S(pt),S(ao))},e.\u0275cmp=Y({type:e,selectors:[["app-note-tag-manager"]],standalone:!0,features:[ht,J],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),N(2,"Tags"),g(),$(3,"div",1),U(4,ZG,5,3,"div",2),g(),$(5,"div",3),m(6,"div",0)(7,"span"),N(8,"Available Tags"),g(),$(9,"div",1),U(10,eq,7,1,"div",4),m(11,"i",5),C("click",function(){return o.editTag()}),g()()),i&2&&(y(4),I("ngForOf",o.currentTags),y(6),I("ngForOf",o.availableTags))},dependencies:[ee,ze,ka],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function tq(t,e){t&1&&$(0,"div",31)}function nq(t,e){if(t&1&&(We(0),U(1,tq,1,0,"div",29),m(2,"span",30),N(3),g(),Ke()),t&2){let n=e.$implicit,r=e.index;y(),I("ngIf",r!=0),y(2),Ee(n)}}function rq(t,e){if(t&1){let n=X();m(0,"div",20),C("click",function(){let o=A(n).$implicit,s=w(3);return M(s.setCurrentNote(o))})("dragend",function(){A(n);let i=w(3);return M(i.googleService.update())}),m(1,"div",21)(2,"span",22),N(3),g(),m(4,"div",23),U(5,nq,4,2,"ng-container",24),g()(),m(6,"div",25)(7,"span",26),N(8),g(),m(9,"div",27)(10,"i",28),C("click",function(i){let s=A(n).$implicit;return w(3).editTags(s),M(i.stopPropagation())}),g(),m(11,"i",13),C("click",function(i){let s=A(n).$implicit;return w(3).renameNote(s),M(i.stopPropagation())}),g(),m(12,"i",14),C("click",function(i){let s=A(n).$implicit,a=w(2).$implicit;return w().deleteNote(a,s),M(i.stopPropagation())}),g()()()()}if(t&2){let n=e.$implicit,r=w(2).$implicit,i=w();I("dragdrop",n)("dragdropParent",r.notes),y(2),de("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),y(),Ee(n.title),y(2),I("ngForOf",n.tags),y(3),Ee(n.wordCount)}}function iq(t,e){if(t&1){let n=X();m(0,"div",16),U(1,rq,13,9,"div",17),m(2,"div",18)(3,"i",19),C("click",function(i){A(n);let o=w().$implicit;return w().createNote(o),M(i.stopPropagation())}),g()()()}if(t&2){let n=w().$implicit;I("@drawer",void 0),y(),I("ngForOf",n.notes)}}function oq(t,e){if(t&1){let n=X();m(0,"div",7)(1,"div",8),C("click",function(){let o=A(n).$implicit,s=w();return M(s.setCurrentStory(o))})("dragend",function(){A(n);let i=w();return M(i.googleService.update())}),m(2,"span",9),N(3),g(),m(4,"div",10)(5,"span",11),N(6),g(),m(7,"div",12)(8,"i",13),C("click",function(i){let s=A(n).$implicit;return w().renameStory(s),M(i.stopPropagation())}),g(),m(9,"i",14),C("click",function(i){let s=A(n).$implicit;return w().deleteStory(s),M(i.stopPropagation())}),g()()()(),U(10,iq,4,2,"div",15),g()}if(t&2){let n=e.$implicit,r=w();y(),I("dragdrop",n)("dragdropParent",r.stateService.stories),y(),de("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),y(),Ee(n.title),y(3),Ee(r.getNotesWordCount(n)),y(4),I("ngIf",n==r.stateService.currentStory)}}var qx=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,Gt.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r){this.stateService.currentStory=r}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(L.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),L.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(Gx,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),L.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!nt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(L.push(this.searchStories,i),L.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(S(pt),S(ao),S(so))},e.\u0275cmp=Y({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[J],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=X();m(0,"input",0,1),C("input",function(){A(s);let c=Qe(1);return M(o.onSearchInputChange(c))})("focus",function(){A(s);let c=Qe(1);return M(c.select())}),g(),$(2,"div",2),m(3,"div",3),U(4,oq,11,9,"div",4),g(),$(5,"div",2),m(6,"div",5)(7,"i",6),C("click",function(){return o.createStory()}),g()()}i&2&&(y(4),I("ngForOf",o.stateService.stories))},dependencies:[ee,ze,Be,Hn,ka,Zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[YM]}});let t=e;return t})();function sq(t,e){if(t&1){let n=X();We(0),m(1,"div",1)(2,"span",2),N(3),g()(),m(4,"div",3)(5,"textarea",4),Ni("ngModelChange",function(i){A(n);let o=w();return Ro(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),M(i)}),C("ngModelChange",function(){A(n);let i=w();return M(i.onChange())}),g()(),Ke()}if(t&2){let n=w();y(),de("focus-mode",!n.stateService.sidebarVisible),y(2),Oo("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),y(2),de("focus-mode",!n.stateService.sidebarVisible),Ri("ngModel",n.stateService.currentNote.text)}}var Wx=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=nt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(S(ao),S(tt),S(so))},e.\u0275cmp=Y({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[J],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&U(0,sq,6,7,"ng-container",0),i&2&&I("ngIf",o.stateService.currentNote)},dependencies:[ee,Be,Hn,io,Ra,ms],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.25rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var Kx=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(S(ao),S(tt),S(so))},e.\u0275cmp=Y({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[J],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=X();m(0,"div",0)(1,"div",1)(2,"i",2),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g(),m(3,"i",3),C("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g()(),m(4,"div",4)(5,"input",5,6),C("click",function(){A(s);let c=Qe(6);return M(o.onCountdownInputClick(c))})("input",function(){A(s);let c=Qe(6);return M(o.onCountdownInputChange(c))})("keypress",function(c){A(s);let l=Qe(6);return M(o.onCountdownInputSubmit(c,l))})("focus",function(){A(s);let c=Qe(6);return M(c.select())}),g()(),m(7,"div",7)(8,"i",8),C("click",function(){return o.applicationService.toggleTheme()}),g()()(),m(9,"div",9),$(10,"app-sidebar")(11,"div",10),m(12,"div",11),$(13,"app-note-editor"),g()()}if(i&2){let s=Qe(6);y(3),I("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),y(2),de("user-select-none",s.readOnly),y(3),I("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),y(2),de("display-none",!o.stateService.sidebarVisible),y(),de("mobile-only",!o.stateService.sidebarVisible),y(),de("desktop-only",o.stateService.sidebarVisible)}},dependencies:[ee,Yt,qx,Wx,Zt],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var Qx=[{path:"messenger-browser",canActivate:[Hx],component:zx},{path:"login",component:Bx},{path:"story-manager",canActivate:[Jf],component:Kx},{path:"folder-picker",canActivate:[Jf],component:wx},{path:"gallery",canActivate:[Jf,$x],component:Ox},{path:"home",component:jx},{path:"games",children:[{path:"activity",component:Rx},{path:"twister",component:Lx},{path:"nikdy-som",component:Vx},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var Xx=(t,e)=>{let n=O(Fa);return e(Yx(n,t)).pipe(qn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),Le(n.requestAccessToken()).pipe(bt(()=>e(Yx(n,t))),qn(i=>Ii(()=>i)))}))},Yx=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;US(_x,{providers:[_A(),ZA(Qx,eM({paramsInheritanceStrategy:"always"})),zb(qb(),Gb([Xx])),uc(yT(()=>_T({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),uc(OS(()=>RS())),uc(iD(()=>oD())),WM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
