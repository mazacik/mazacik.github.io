var _P=Object.defineProperty,wP=Object.defineProperties;var EP=Object.getOwnPropertyDescriptors;var lu=Object.getOwnPropertySymbols,IP=Object.getPrototypeOf,O0=Object.prototype.hasOwnProperty,R0=Object.prototype.propertyIsEnumerable,CP=Reflect.get;var P0=(t,e,n)=>e in t?_P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||={})O0.call(e,n)&&P0(t,n,e[n]);if(lu)for(var n of lu(e))R0.call(e,n)&&P0(t,n,e[n]);return t},Ae=(t,e)=>wP(t,EP(e));var up=(t,e)=>{var n={};for(var r in t)O0.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&lu)for(var r of lu(t))e.indexOf(r)<0&&R0.call(t,r)&&(n[r]=t[r]);return n};var wi=(t,e,n)=>CP(IP(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function bP(t,e){return Object.is(t,e)}var Et=null,Ga=!1,uu=1,Ei=Symbol("SIGNAL");function xe(t){let e=Et;return Et=t,e}function TP(){return Ga}var du={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function N0(t){if(Ga)throw new Error("");if(Et===null)return;Et.consumerOnSignalRead(t);let e=Et.nextProducerIndex++;if(Es(Et),e<Et.producerNode.length&&Et.producerNode[e]!==t&&Wa(Et)){let n=Et.producerNode[e];fu(n,Et.producerIndexOfThis[e])}Et.producerNode[e]!==t&&(Et.producerNode[e]=t,Et.producerIndexOfThis[e]=Wa(Et)?L0(t,Et,e):0),Et.producerLastReadVersion[e]=t.version}function DP(){uu++}function SP(t){if(!(Wa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uu)){if(!t.producerMustRecompute(t)&&!hu(t)){t.dirty=!1,t.lastCleanEpoch=uu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=uu}}function k0(t){if(t.liveConsumerNode===void 0)return;let e=Ga;Ga=!0;try{for(let n of t.liveConsumerNode)n.dirty||V0(n)}finally{Ga=e}}function F0(){return Et?.consumerAllowSignalWrites!==!1}function V0(t){t.dirty=!0,k0(t),t.consumerMarkedDirty?.(t)}function hp(t){return t&&(t.nextProducerIndex=0),xe(t)}function fp(t,e){if(xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Wa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hu(t){Es(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(SP(n),r!==n.version))return!0}return!1}function pp(t){if(Es(t),Wa(t))for(let e=0;e<t.producerNode.length;e++)fu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function L0(t,e,n){if(j0(t),Es(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=L0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function fu(t,e){if(j0(t),Es(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)fu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Es(i),i.producerIndexOfThis[r]=e}}function Wa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Es(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function j0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function AP(){throw new Error}var U0=AP;function B0(){U0()}function $0(t){U0=t}var xP=null;function H0(t){let e=Object.create(q0);e.value=t;let n=()=>(N0(e),e.value);return n[Ei]=e,n}function mp(t,e){F0()||B0(),t.equal(t.value,e)||(t.value=e,MP(t))}function z0(t,e){F0()||B0(),mp(t,e(t.value))}var q0=Ae(R({},du),{equal:bP,value:void 0});function MP(t){t.version++,DP(),k0(t),xP?.()}function G0(t,e,n){let r=Object.create(PP);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(pp(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=dp)}let a=()=>{if(r.fn===null)return;if(TP())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!hu(r))return;r.hasRun=!0;let c=hp(r);try{r.cleanupFn(),r.cleanupFn=dp,r.fn(i)}finally{fp(r,c)}};return r.ref={notify:()=>V0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Ei]:r},r.ref}var dp=()=>{},PP=Ae(R({},du),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:dp});function te(t){return typeof t=="function"}function Is(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pu=Is(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var st=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof pu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{W0(o)}catch(s){e=e??[],s instanceof pu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new pu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)W0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vo(n,e)}remove(e){let{_finalizers:n}=this;n&&vo(n,e),e instanceof t&&e._removeParent(this)}};st.EMPTY=(()=>{let t=new st;return t.closed=!0,t})();var gp=st.EMPTY;function mu(t){return t instanceof st||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function W0(t){te(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cs={setTimeout(t,e,...n){let{delegate:r}=Cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gu(t){Cs.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function Ka(){}var K0=vp("C",void 0,void 0);function Q0(t){return vp("E",void 0,t)}function Y0(t){return vp("N",t,void 0)}function vp(t,e,n){return{kind:t,value:e,error:n}}var yo=null;function bs(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!yo;if(e&&(yo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=yo;if(yo=null,n)throw r}}else t()}function X0(t){qn.useDeprecatedSynchronousErrorHandling&&yo&&(yo.errorThrown=!0,yo.error=t)}var _o=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,mu(e)&&e.add(this)):this.destination=NP}static create(e,n,r){return new Ii(e,n,r)}next(e){this.isStopped?_p(Y0(e),this):this._next(e)}error(e){this.isStopped?_p(Q0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_p(K0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OP=Function.prototype.bind;function yp(t,e){return OP.call(t,e)}var wp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vu(r)}else vu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vu(n)}}},Ii=class extends _o{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yp(e.next,o),error:e.error&&yp(e.error,o),complete:e.complete&&yp(e.complete,o)}):i=e}this.destination=new wp(i)}};function vu(t){qn.useDeprecatedSynchronousErrorHandling?X0(t):gu(t)}function RP(t){throw t}function _p(t,e){let{onStoppedNotification:n}=qn;n&&Cs.setTimeout(()=>n(t,e))}var NP={closed:!0,next:Ka,error:RP,complete:Ka};var Ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _n(t){return t}function Ep(...t){return Ip(t)}function Ip(t){return t.length===0?_n:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=FP(n)?n:new Ii(n,r,i);return bs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=J0(r),new r((i,o)=>{let s=new Ii({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ts](){return this}pipe(...n){return Ip(n)(this)}toPromise(n){return n=J0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function J0(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function kP(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function FP(t){return t&&t instanceof _o||kP(t)&&mu(t)}function Cp(t){return te(t?.lift)}function _e(t){return e=>{if(Cp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new bp(t,e,n,r,i)}var bp=class extends _o{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ds(){return _e((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ss=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return Ds()(this)}};var Z0=Is(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ft=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z0}next(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gp:(this.currentObservers=null,o.push(n),new st(()=>{this.currentObservers=null,vo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new yu(e,n),t})(),yu=class extends Ft{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gp}};var Vt=class extends Ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tp={now(){return(Tp.delegate||Date).now()},delegate:void 0};var _u=class extends st{constructor(e,n){super()}schedule(e,n=0){return this}};var Qa={setInterval(t,e,...n){let{delegate:r}=Qa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var As=class extends _u{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Qa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var xs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};xs.now=Tp.now;var Ms=class extends xs{constructor(e,n=xs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ps=new Ms(As),Dp=Ps;var wu=class extends As{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Eu=class extends Ms{};var Sp=new Eu(wu);var dn=new se(t=>t.complete());function Iu(t){return t&&te(t.schedule)}function Ap(t){return t[t.length-1]}function Cu(t){return te(Ap(t))?t.pop():void 0}function hr(t){return Iu(Ap(t))?t.pop():void 0}function eE(t,e){return typeof Ap(t)=="number"?t.pop():e}function xp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function tE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wo(t){return this instanceof wo?(this.v=t,this):new wo(t)}function rE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(v,E){o.push([h,f,v,E])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(v){d(o[0][3],v)}}function c(h){h.value instanceof wo?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function iE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tE=="function"?tE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Os=t=>t&&typeof t.length=="number"&&typeof t!="function";function bu(t){return te(t?.then)}function Tu(t){return te(t[Ts])}function Du(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Su(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Au=VP();function xu(t){return te(t?.[Au])}function Mu(t){return rE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield wo(n.read());if(i)return yield wo(void 0);yield yield wo(r)}}finally{n.releaseLock()}})}function Pu(t){return te(t?.getReader)}function Be(t){if(t instanceof se)return t;if(t!=null){if(Tu(t))return LP(t);if(Os(t))return jP(t);if(bu(t))return UP(t);if(Du(t))return oE(t);if(xu(t))return BP(t);if(Pu(t))return $P(t)}throw Su(t)}function LP(t){return new se(e=>{let n=t[Ts]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jP(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function UP(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gu)})}function BP(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oE(t){return new se(e=>{HP(t,e).catch(n=>e.error(n))})}function $P(t){return oE(Mu(t))}function HP(t,e){var n,r,i,o;return nE(this,void 0,void 0,function*(){try{for(n=iE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function hn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ci(t,e=0){return _e((n,r)=>{n.subscribe(pe(r,i=>hn(r,t,()=>r.next(i),e),()=>hn(r,t,()=>r.complete(),e),i=>hn(r,t,()=>r.error(i),e)))})}function bi(t,e=0){return _e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sE(t,e){return Be(t).pipe(bi(e),Ci(e))}function aE(t,e){return Be(t).pipe(bi(e),Ci(e))}function cE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lE(t,e){return new se(n=>{let r;return hn(n,e,()=>{r=t[Au](),hn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Ou(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{hn(n,e,()=>{let r=t[Symbol.asyncIterator]();hn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uE(t,e){return Ou(Mu(t),e)}function dE(t,e){if(t!=null){if(Tu(t))return sE(t,e);if(Os(t))return cE(t,e);if(bu(t))return aE(t,e);if(Du(t))return Ou(t,e);if(xu(t))return lE(t,e);if(Pu(t))return uE(t,e)}throw Su(t)}function je(t,e){return e?dE(t,e):Be(t)}function ae(...t){let e=hr(t);return je(t,e)}function Ti(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Mp(t){return!!t&&(t instanceof se||te(t.lift)&&te(t.subscribe))}var wn=Is(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function En(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(e.defaultValue):i(new wn)}})})}function Ru(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ii({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new wn)}});t.subscribe(o)})}function hE(t){return t instanceof Date&&!isNaN(t)}function ie(t,e){return _e((n,r)=>{let i=0;n.subscribe(pe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zP}=Array;function qP(t,e){return zP(e)?t(...e):t(e)}function Rs(t){return ie(e=>qP(t,e))}var{isArray:GP}=Array,{getPrototypeOf:WP,prototype:KP,keys:QP}=Object;function Nu(t){if(t.length===1){let e=t[0];if(GP(e))return{args:e,keys:null};if(YP(e)){let n=QP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YP(t){return t&&typeof t=="object"&&WP(t)===KP}function ku(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fu(...t){let e=hr(t),n=Cu(t),{args:r,keys:i}=Nu(t);if(r.length===0)return je([],e);let o=new se(XP(r,e,i?s=>ku(i,s):_n));return n?o.pipe(Rs(n)):o}function XP(t,e,n=_n){return r=>{fE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)fE(e,()=>{let l=je(t[c],e),u=!1;l.subscribe(pe(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fE(t,e,n){t?hn(n,t,e):e()}function pE(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=E=>l<r?v(E):c.push(E),v=E=>{o&&e.next(E),l++;let T=!1;Be(n(E,u++)).subscribe(pe(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){let D=c.shift();s?hn(e,s,()=>v(D)):v(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(pe(e,f,()=>{d=!0,h()})),()=>{a?.()}}function at(t,e,n=1/0){return te(e)?at((r,i)=>ie((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),_e((r,i)=>pE(r,i,t,n)))}function Ya(t=1/0){return at(_n,t)}function mE(){return Ya(1)}function Ns(...t){return mE()(je(t,hr(t)))}function Vu(t){return new se(e=>{Be(t()).subscribe(e)})}function Pp(...t){let e=Cu(t),{args:n,keys:r}=Nu(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Be(n[u]).subscribe(pe(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ku(r,a):a),o.complete())}))}});return e?i.pipe(Rs(e)):i}var JP=["addListener","removeListener"],ZP=["addEventListener","removeEventListener"],eO=["on","off"];function ks(t,e,n,r){if(te(n)&&(r=n,n=void 0),r)return ks(t,e,n).pipe(Rs(r));let[i,o]=rO(t)?ZP.map(s=>a=>t[s](e,a,n)):tO(t)?JP.map(gE(t,e)):nO(t)?eO.map(gE(t,e)):[];if(!i&&Os(t))return at(s=>ks(s,e,n))(Be(t));if(!i)throw new TypeError("Invalid event target");return new se(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function gE(t,e){return n=>r=>t[n](e,r)}function tO(t){return te(t.addListener)&&te(t.removeListener)}function nO(t){return te(t.on)&&te(t.off)}function rO(t){return te(t.addEventListener)&&te(t.removeEventListener)}function vE(t=0,e,n=Dp){let r=-1;return e!=null&&(Iu(e)?n=e:r=e),new se(i=>{let o=hE(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Xa(...t){let e=hr(t),n=eE(t,1/0),r=t;return r.length?r.length===1?Be(r[0]):Ya(n)(je(r,e)):dn}function Yt(t,e){return _e((n,r)=>{let i=0;n.subscribe(pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yE(t){return _e((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(pe(n,l=>{r=!0,i=l,o||Be(t(l)).subscribe(o=pe(n,a,c))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Op(t,e=Ps){return yE(()=>vE(t,e))}function Gn(t){return _e((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pe(n,void 0,void 0,s=>{o=Be(t(s,Gn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _E(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(pe(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Di(t,e){return te(e)?at(t,e,1):at(t,1)}function Si(t){return _e((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function $r(t){return t<=0?()=>dn:_e((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rp(t){return ie(()=>t)}function Lu(t=iO){return _e((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function iO(){return new wn}function Eo(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((i,o)=>t(i,o,r)):_n,$r(1),n?Si(e):Lu(()=>new wn))}function Fs(t){return t<=0?()=>dn:_e((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Np(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((i,o)=>t(i,o,r)):_n,Fs(1),n?Si(e):Lu(()=>new wn))}function kp(t,e){return _e(_E(t,e,arguments.length>=2,!0))}function Fp(...t){let e=hr(t);return _e((n,r)=>{(e?Ns(t,n,e):Ns(t,n)).subscribe(r)})}function It(t,e){return _e((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pe(r,c=>{i?.unsubscribe();let l=0,u=o++;Be(t(c,u)).subscribe(i=pe(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wn(t){return _e((e,n)=>{Be(t).subscribe(pe(n,()=>n.complete(),Ka)),!n.closed&&e.subscribe(n)})}function ct(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_n}var aI="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(gd(e,n)),this.code=e}};function gd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Jp=class extends Ft{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Vp(o),i&&(i=Vp(i)),s&&(s=Vp(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}};function Vp(t){return e=>{setTimeout(t,void 0,e)}}var Ye=Jp;var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{});function nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Zp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var cI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cI||{}),gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gr||{});function uc(t){return{toString:t}.toString()}var Hr=globalThis;var $s={},fn=[];function Ue(t){for(let e in t)if(t[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function oO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var sO=Ue({\u0275cmp:Ue}),aO=Ue({\u0275dir:Ue}),cO=Ue({\u0275pipe:Ue}),lO=Ue({\u0275mod:Ue}),Ju=Ue({\u0275fac:Ue}),Ja=Ue({__NG_ELEMENT_ID__:Ue}),wE=Ue({__NG_ENV_ID__:Ue}),re=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(re||{});function lI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function em(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function uO(t){return t===3||t===4||t===6}function dO(t){return t.charCodeAt(0)===64}function Za(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?EE(t,n,i,null,e[++r]):EE(t,n,i,null,null))}}return t}function EE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var uI="ng-template";function hO(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&lI(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function dI(t){return t.type===4&&t.value!==uI}function fO(t,e,n){let r=t.type===4&&!n?uI:t.value;return e===r}function pO(t,e,n){let r=4,i=t.attrs||[],o=vO(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Kn(r)&&!Kn(c))return!1;if(s&&Kn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!fO(t,c,n)||c===""&&e.length===1){if(Kn(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!hO(t.attrs,l,n)){if(Kn(r))return!1;s=!0}continue}let u=r&8?"class":c,d=mO(u,i,dI(t),n);if(d===-1){if(Kn(r))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&lI(f,l,0)!==-1||r&2&&l!==h){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(t){return(t&1)===0}function mO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yO(e,t)}function gO(t,e,n=!1){for(let r=0;r<e.length;r++)if(pO(t,e[r],n))return!0;return!1}function vO(t){for(let e=0;e<t.length;e++){let n=t[e];if(uO(n))return e}return t.length}function yO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function IE(t,e){return t?":not("+e.trim()+")":e}function _O(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=IE(o,i),i=""),r=s,o=o||!Kn(r);n++}return i!==""&&(e+=IE(o,i)),e}function wO(t){return t.map(_O).join(",")}function EO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kn(i))break;i=o}r++}return{attrs:e,classes:n}}function K(t){return uc(()=>{let e=gI(t),n=Ae(R({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gr.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""});vI(n);let r=t.dependencies;return n.directiveDefs=bE(r,!1),n.pipeDefs=bE(r,!0),n.id=bO(n),n})}function IO(t){return Mi(t)||hI(t)}function CO(t){return t!==null}function rn(t){return uc(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function CE(t,e){if(t==null)return $s;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=re.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==re.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ut(t){return uc(()=>{let e=gI(t);return vI(e),e})}function Mi(t){return t[sO]||null}function hI(t){return t[aO]||null}function fI(t){return t[cO]||null}function pI(t){let e=Mi(t)||hI(t)||fI(t);return e!==null?e.standalone:!1}function mI(t,e){let n=t[lO]||null;if(!n&&e===!0)throw new Error(`Type ${nn(t)} does not have '\u0275mod' property.`);return n}function gI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:CE(t.inputs,e),outputs:CE(t.outputs),debugInfo:null}}function vI(t){t.features?.forEach(e=>e(t))}function bE(t,e){if(!t)return null;let n=e?fI:IO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(CO)}function bO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Er=0,me=1,ne=2,Lt=3,Qn=4,Jn=5,Zu=6,ec=7,Yn=8,Hs=9,zr=10,lt=11,tc=12,TE=13,Js=14,vr=15,dc=16,Vs=17,qr=18,vd=19,yI=20,xi=21,qu=22,bo=23,yr=25,eg=1;var To=7,ed=8,zs=9,In=10,tg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tg||{});function Io(t){return Array.isArray(t)&&typeof t[eg]=="object"}function Yr(t){return Array.isArray(t)&&t[eg]===!0}function ng(t){return(t.flags&4)!==0}function yd(t){return t.componentOffset>-1}function _d(t){return(t.flags&1)===1}function Gr(t){return!!t.template}function TO(t){return(t[ne]&512)!==0}var DO="svg",SO="math",AO=!1;function xO(){return AO}function _r(t){for(;Array.isArray(t);)t=t[Er];return t}function MO(t){for(;Array.isArray(t);){if(typeof t[eg]=="object")return t;t=t[Er]}return null}function _I(t,e){return _r(e[t])}function Zn(t,e){return _r(e[t.index])}function wI(t,e){return t.data[e]}function PO(t,e){return t[e]}function Ni(t,e){let n=e[t];return Io(n)?n:n[Er]}function OO(t){return(t[ne]&4)===4}function rg(t){return(t[ne]&128)===128}function RO(t){return Yr(t[Lt])}function qs(t,e){return e==null?null:t[e]}function EI(t){t[Vs]=0}function NO(t){t[ne]&1024||(t[ne]|=1024,rg(t)&&nc(t))}function kO(t,e){for(;t>0;)e=e[Js],t--;return e}function ig(t){return!!(t[ne]&9216||t[bo]?.dirty)}function tm(t){ig(t)?nc(t):t[ne]&64&&(xO()?(t[ne]|=1024,nc(t)):t[zr].changeDetectionScheduler?.notify())}function nc(t){t[zr].changeDetectionScheduler?.notify();let e=rc(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!rg(e)));)e=rc(e)}function II(t,e){if((t[ne]&256)===256)throw new P(911,!1);t[xi]===null&&(t[xi]=[]),t[xi].push(e)}function FO(t,e){if(t[xi]===null)return;let n=t[xi].indexOf(e);n!==-1&&t[xi].splice(n,1)}function rc(t){let e=t[Lt];return Yr(e)?e[Lt]:e}var ge={lFrame:MI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function VO(){return ge.lFrame.elementDepthCount}function LO(){ge.lFrame.elementDepthCount++}function jO(){ge.lFrame.elementDepthCount--}function CI(){return ge.bindingsEnabled}function UO(){return ge.skipHydrationRootTNode!==null}function BO(t){return ge.skipHydrationRootTNode===t}function $O(){ge.skipHydrationRootTNode=null}function Me(){return ge.lFrame.lView}function bt(){return ge.lFrame.tView}function A(t){return ge.lFrame.contextLView=t,t[Yn]}function x(t){return ge.lFrame.contextLView=null,t}function pn(){let t=bI();for(;t!==null&&t.type===64;)t=t.parent;return t}function bI(){return ge.lFrame.currentTNode}function HO(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Oo(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function og(){return ge.lFrame.isParent}function TI(){ge.lFrame.isParent=!1}function zO(){return ge.lFrame.contextLView}function qO(){return ge.lFrame.bindingIndex}function GO(t){return ge.lFrame.bindingIndex=t}function wd(){return ge.lFrame.bindingIndex++}function sg(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function WO(){return ge.lFrame.inI18n}function KO(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,nm(e)}function QO(){return ge.lFrame.currentDirectiveIndex}function nm(t){ge.lFrame.currentDirectiveIndex=t}function DI(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function SI(){return ge.lFrame.currentQueryIndex}function ag(t){ge.lFrame.currentQueryIndex=t}function YO(t){let e=t[me];return e.type===2?e.declTNode:e.type===1?t[Jn]:null}function AI(t,e,n){if(n&ve.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=YO(o),i===null||(o=o[Js],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ge.lFrame=xI();return r.currentTNode=e,r.lView=t,!0}function cg(t){let e=xI(),n=t[me];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xI(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?MI(t):e}function MI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PI(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OI=PI;function lg(){let t=PI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function XO(t){return(ge.lFrame.contextLView=kO(t,ge.lFrame.contextLView))[Yn]}function ki(){return ge.lFrame.selectedIndex}function Do(t){ge.lFrame.selectedIndex=t}function ug(){let t=ge.lFrame;return wI(t.tView,t.selectedIndex)}function JO(){return ge.lFrame.currentNamespace}var RI=!0;function Ed(){return RI}function Id(t){RI=t}function ZO(){return Zs(pn(),Me())}function Zs(t,e){return new mt(Zn(t,e))}var mt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZO;let t=e;return t})();function eR(t){return t instanceof mt?t.nativeElement:t}function tR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function nR(t){return t.flat(Number.POSITIVE_INFINITY)}function dg(t,e){t.forEach(n=>Array.isArray(n)?dg(n,e):e(n))}function NI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function td(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function rR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Cd(t,e,n){let r=hc(t,e);return r>=0?t[r|1]=n:(r=~r,rR(t,r,e,n)),r}function Lp(t,e){let n=hc(t,e);if(n>=0)return t[n|1]}function hc(t,e){return iR(t,e,1)}function iR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}function oR(){return this._results[Symbol.iterator]()}var rm=class t{get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=nR(e);(this._changesDetected=!tR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function kI(t){return(t.flags&128)===128}var im;function FI(t){im=t}function sR(){if(im!==void 0)return im;if(typeof document<"u")return document;throw new P(210,!1)}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function bd(t){return DE(t,LI)||DE(t,jI)}function VI(t){return bd(t)!==null}function DE(t,e){return t.hasOwnProperty(e)?t[e]:null}function aR(t){let e=t&&(t[LI]||t[jI]);return e||null}function SE(t){return t&&(t.hasOwnProperty(AE)||t.hasOwnProperty(cR))?t[AE]:null}var LI=Ue({\u0275prov:Ue}),AE=Ue({\u0275inj:Ue}),jI=Ue({ngInjectableDef:Ue}),cR=Ue({ngInjectorDef:Ue}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},hg=new G("",{providedIn:"root",factory:()=>lR}),lR="ng",fg=new G(""),On=new G("",{providedIn:"platform",factory:()=>"unknown"});var pg=new G(""),mg=new G("",{providedIn:"root",factory:()=>sR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uR=Ue({__forward_ref__:Ue});function fc(t){return t.__forward_ref__=fc,t.toString=function(){return nn(this())},t}function tn(t){return UI(t)?t():t}function UI(t){return typeof t=="function"&&t.hasOwnProperty(uR)&&t.__forward_ref__===fc}function BI(t){return t&&!!t.\u0275providers}function ic(t){return typeof t=="string"?t:t==null?"":String(t)}function dR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ic(t)}function hR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function gg(t,e){throw new P(-201,!1)}var om;function $I(){return om}function Pn(t){let e=om;return om=t,e}function HI(t,e,n){let r=bd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;gg(t,"Injector")}var fR={},oc=fR,sm="__NG_DI_FLAG__",nd="ngTempTokenPath",pR="ngTokenPath",mR=/\n/gm,gR="\u0275",xE="__source",Us;function vR(){return Us}function Ai(t){let e=Us;return Us=t,e}function yR(t,e=ve.Default){if(Us===void 0)throw new P(-203,!1);return Us===null?HI(t,void 0,e):Us.get(t,e&ve.Optional?null:void 0,e)}function L(t,e=ve.Default){return($I()||yR)(tn(t),e)}function O(t,e=ve.Default){return L(t,Td(e))}function Td(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function am(t){let e=[];for(let n=0;n<t.length;n++){let r=tn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],c=_R(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(L(i,o))}else e.push(L(r))}return e}function zI(t,e){return t[sm]=e,t.prototype[sm]=e,t}function _R(t){return t[sm]}function wR(t,e,n,r){let i=t[nd];throw e[xE]&&i.unshift(e[xE]),t.message=ER(`
`+t.message,i,n,r),t[pR]=i,t[nd]=null,t}function ER(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gR?t.slice(2):t;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mR,`
  `)}`}var IR="h",CR="b";var bR=()=>null;function vg(t,e,n=!1){return bR(t,e,n)}var ju="__parameters__";function TR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function qI(t,e,n){return uc(()=>{let r=TR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(ju)?c[ju]:Object.defineProperty(c,ju,{value:[]})[ju];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var sn=zI(qI("Optional"),8);var GI=zI(qI("SkipSelf"),4);function Gs(t,e){let n=t.hasOwnProperty(Ju);return n?t[Ju]:null}var Ws=new G(""),WI=new G("",-1),KI=new G(""),rd=class{get(e,n=oc){if(n===oc){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return n}};function Fi(t){return{\u0275providers:t}}function pc(...t){return{\u0275providers:QI(!0,t),\u0275fromNgModule:!0}}function QI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return dg(e,s=>{let a=s;cm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YI(i,o),n}function YI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yg(i,o=>{e(o,r)})}}function cm(t,e,n,r){if(t=tn(t),!t)return!1;let i=null,o=SE(t),s=!o&&Mi(t);if(!o&&!s){let c=t.ngModule;if(o=SE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)cm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{dg(o.imports,u=>{cm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&YI(l,e)}if(!a){let l=Gs(i)||(()=>new i);e({provide:i,useFactory:l,deps:fn},i),e({provide:KI,useValue:i,multi:!0},i),e({provide:Ws,useValue:()=>L(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;yg(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function yg(t,e){for(let n of t)BI(n)&&(n=n.\u0275providers),Array.isArray(n)?yg(n,e):e(n)}var DR=Ue({provide:String,useValue:Ue});function XI(t){return t!==null&&typeof t=="object"&&DR in t}function SR(t){return!!(t&&t.useExisting)}function AR(t){return!!(t&&t.useFactory)}function Ks(t){return typeof t=="function"}function xR(t){return!!t.useClass}var Dd=new G(""),Gu={},MR={},jp;function Sd(){return jp===void 0&&(jp=new rd),jp}var Ct=class{},sc=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(e,s=>this.processProvider(s)),this.records.set(WI,Ls(void 0,this)),i.has("environment")&&this.records.set(Ct,Ls(void 0,this));let o=this.records.get(Dd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KI,fn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ai(this),r=Pn(void 0),i;try{return e()}finally{Ai(n),Pn(r)}}get(e,n=oc,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wE))return e[wE](this);r=Td(r);let i,o=Ai(this),s=Pn(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=kR(e)&&bd(e);l&&this.injectableDefInScope(l)?c=Ls(lm(e),Gu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Sd():this.parent;return n=r&ve.Optional&&n===oc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nd]=a[nd]||[]).unshift(nn(e)),o)throw a;return wR(a,e,"R3InjectorError",this.source)}else throw a}finally{Pn(s),Ai(o)}}resolveInjectorInitializers(){let e=xe(null),n=Ai(this),r=Pn(void 0),i;try{let o=this.get(Ws,fn,ve.Self);for(let s of o)s()}finally{Ai(n),Pn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=tn(e);let n=Ks(e)?e:tn(e&&e.provide),r=OR(e);if(!Ks(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ls(void 0,Gu,!0),i.factory=()=>am(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=xe(null);try{return n.value===Gu&&(n.value=MR,n.value=n.factory()),typeof n.value=="object"&&n.value&&NR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lm(t){let e=bd(t),n=e!==null?e.factory:Gs(t);if(n!==null)return n;if(t instanceof G)throw new P(204,!1);if(t instanceof Function)return PR(t);throw new P(204,!1)}function PR(t){if(t.length>0)throw new P(204,!1);let n=aR(t);return n!==null?()=>n.factory(t):()=>new t}function OR(t){if(XI(t))return Ls(void 0,t.useValue);{let e=JI(t);return Ls(e,Gu)}}function JI(t,e,n){let r;if(Ks(t)){let i=tn(t);return Gs(i)||lm(i)}else if(XI(t))r=()=>tn(t.useValue);else if(AR(t))r=()=>t.useFactory(...am(t.deps||[]));else if(SR(t))r=()=>L(tn(t.useExisting));else{let i=tn(t&&(t.useClass||t.provide));if(RR(t))r=()=>new i(...am(t.deps));else return Gs(i)||lm(i)}return r}function Ls(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RR(t){return!!t.deps}function NR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kR(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function um(t,e){for(let n of t)Array.isArray(n)?um(n,e):n&&BI(n)?um(n.\u0275providers,e):e(n)}function Xr(t,e){t instanceof sc&&t.assertNotDestroyed();let n,r=Ai(t),i=Pn(void 0);try{return e()}finally{Ai(r),Pn(i)}}function FR(t){if(!$I()&&!vR())throw new P(-203,!1)}function VR(t){return typeof t=="function"}var dm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Jr(){return eC}function eC(t){return t.type.prototype.ngOnChanges&&(t.setInput=jR),LR}Jr.ngInherit=!0;function LR(){let t=nC(this),e=t?.current;if(e){let n=t.previous;if(n===$s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jR(t,e,n,r,i){let o=this.declaredInputs[r],s=nC(t)||UR(t,{previous:$s,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new dm(l&&l.currentValue,n,c===$s),ZI(t,e,i,n)}var tC="__ngSimpleChanges__";function nC(t){return t[tC]||null}function UR(t,e){return t[tC]=e}var ME=null;var pr=function(t,e,n){ME?.(t,e,n)};function BR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=eC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ad(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Wu(t,e,n){rC(t,e,3,n)}function Ku(t,e,n,r){(t[ne]&3)===n&&rC(t,e,n,r)}function Up(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function rC(t,e,n,r){let i=r!==void 0?t[Vs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vs]+=65536),(a<o||o==-1)&&($R(t,n,e,c),t[Vs]=(t[Vs]&4294901760)+c+2),c++}function PE(t,e){pr(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),pr(5,t,e)}}function $R(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Vs]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,PE(a,o)):PE(a,o)}var Bs=-1,So=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function HR(t){return t instanceof So}function zR(t){return(t.flags&8)!==0}function qR(t){return(t.flags&16)!==0}function iC(t){return t!==Bs}function id(t){return t&32767}function GR(t){return t>>16}function od(t,e){let n=GR(t),r=e;for(;n>0;)r=r[Js],n--;return r}var hm=!0;function OE(t){let e=hm;return hm=t,e}var WR=256,oC=WR-1,sC=5,KR=0,mr={};function QR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ja)&&(r=n[Ja]),r==null&&(r=n[Ja]=KR++);let i=r&oC,o=1<<i;e.data[t+(i>>sC)]|=o}function sd(t,e){let n=aC(t,e);if(n!==-1)return n;let r=e[me];r.firstCreatePass&&(t.injectorIndex=e.length,Bp(r.data,t),Bp(e,null),Bp(r.blueprint,null));let i=_g(t,e),o=t.injectorIndex;if(iC(i)){let s=id(i),a=od(i,e),c=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Bp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _g(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hC(i),r===null)return Bs;if(n++,i=i[Js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bs}function fm(t,e,n){QR(t,e,n)}function cC(t,e,n){if(n&ve.Optional||t!==void 0)return t;gg(e,"NodeInjector")}function lC(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[Hs],o=Pn(void 0);try{return i?i.get(e,r,n&ve.Optional):HI(e,r,n&ve.Optional)}finally{Pn(o)}}return cC(r,e,n)}function uC(t,e,n,r=ve.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ve.Self)){let s=ZR(t,e,n,r,mr);if(s!==mr)return s}let o=dC(t,e,n,r,mr);if(o!==mr)return o}return lC(e,n,r,i)}function dC(t,e,n,r,i){let o=XR(n);if(typeof o=="function"){if(!AI(e,t,r))return r&ve.Host?cC(i,n,r):lC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))gg(n);else return s}finally{OI()}}else if(typeof o=="number"){let s=null,a=aC(t,e),c=Bs,l=r&ve.Host?e[vr][Jn]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?_g(t,e):e[a+8],c===Bs||!NE(r,!1)?a=-1:(s=e[me],a=id(c),e=od(c,e)));a!==-1;){let u=e[me];if(RE(o,a,u.data)){let d=YR(a,e,n,s,r,l);if(d!==mr)return d}c=e[a+8],c!==Bs&&NE(r,e[me].data[a+8]===l)&&RE(o,a,e)?(s=u,a=id(c),e=od(c,e)):a=-1}}return i}function YR(t,e,n,r,i,o){let s=e[me],a=s.data[t+8],c=r==null?yd(a)&&hm:r!=s&&(a.type&3)!==0,l=i&ve.Host&&o===a,u=Qu(a,s,n,c,l);return u!==null?Ao(e,s,u,a):mr}function Qu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let v=s[f];if(f<c&&n===v||f>=c&&v.type===n)return f}if(i){let f=s[c];if(f&&Gr(f)&&f.type===n)return c}return null}function Ao(t,e,n,r){let i=t[n],o=e.data;if(HR(i)){let s=i;s.resolving&&hR(dR(o[n]));let a=OE(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Pn(s.injectImpl):null,u=AI(t,r,ve.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&BR(n,o[n],e)}finally{l!==null&&Pn(l),OE(a),s.resolving=!1,OI()}}return i}function XR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ja)?t[Ja]:void 0;return typeof e=="number"?e>=0?e&oC:JR:e}function RE(t,e,n){let r=1<<t;return!!(n[e+(t>>sC)]&r)}function NE(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var Co=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uC(this._tNode,this._lView,e,Td(r),n)}};function JR(){return new Co(pn(),Me())}function er(t){return uc(()=>{let e=t.prototype.constructor,n=e[Ju]||pm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ju]||pm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pm(t){return UI(t)?()=>{let e=pm(tn(t));return e&&e()}:Gs(t)}function ZR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=dC(o,s,n,r|ve.Self,mr);if(a!==mr)return a;let c=o.parent;if(!c){let l=s[yI];if(l){let u=l.get(n,mr,r);if(u!==mr)return u}c=hC(s),s=s[Js]}o=c}return i}function hC(t){let e=t[me],n=e.type;return n===2?e.declTNode:n===1?t[Jn]:null}function kE(t,e=null,n=null,r){let i=fC(t,e,n,r);return i.resolveInjectorInitializers(),i}function fC(t,e=null,n=null,r,i=new Set){let o=[n||fn,pc(t)];return r=r||(typeof t=="object"?void 0:nn(t)),new sc(o,e||Sd(),r||null,i)}var Xe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return kE({name:""},i,r,"");{let o=r.name??"";return kE({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=oc,e.NULL=new rd,e.\u0275prov=V({token:e,providedIn:"any",factory:()=>L(WI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),eN="ngOriginalError";function $p(t){return t[eN]}var wr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$p(e);for(;n&&$p(n);)n=$p(n);return n||null}},pC=new G("",{providedIn:"root",factory:()=>O(wr).handleError.bind(void 0)});var mC=!1,tN=new G("",{providedIn:"root",factory:()=>mC}),Uu;function nN(){if(Uu===void 0&&(Uu=null,Hr.trustedTypes))try{Uu=Hr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uu}function xd(t){return nN()?.createHTML(t)||t}var Bu;function rN(){if(Bu===void 0&&(Bu=null,Hr.trustedTypes))try{Bu=Hr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}function FE(t){return rN()?.createScriptURL(t)||t}var Wr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aI})`}},mm=class extends Wr{getTypeName(){return"HTML"}},gm=class extends Wr{getTypeName(){return"Style"}},vm=class extends Wr{getTypeName(){return"Script"}},ym=class extends Wr{getTypeName(){return"URL"}},_m=class extends Wr{getTypeName(){return"ResourceURL"}};function Rn(t){return t instanceof Wr?t.changingThisBreaksApplicationSecurity:t}function Vi(t,e){let n=iN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aI})`)}return n===e}function iN(t){return t instanceof Wr&&t.getTypeName()||null}function gC(t){return new mm(t)}function vC(t){return new gm(t)}function yC(t){return new vm(t)}function _C(t){return new ym(t)}function wC(t){return new _m(t)}function oN(t){let e=new Em(t);return sN()?new wm(e):e}var wm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(xd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Em=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=xd(e),n}};function sN(){try{return!!new window.DOMParser().parseFromString(xd(""),"text/html")}catch{return!1}}var aN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Md(t){return t=String(t),t.match(aN)?t:"unsafe:"+t}function Zr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function mc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var EC=Zr("area,br,col,hr,img,wbr"),IC=Zr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),CC=Zr("rp,rt"),cN=mc(CC,IC),lN=mc(IC,Zr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uN=mc(CC,Zr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VE=mc(EC,lN,uN,cN),bC=Zr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dN=Zr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hN=Zr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fN=mc(bC,dN,hN),pN=Zr("script,style,template"),Im=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!VE.hasOwnProperty(n))return this.sanitizedSomething=!0,!pN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!fN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;bC[a]&&(c=Md(c)),this.buf.push(" ",s,'="',LE(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();VE.hasOwnProperty(n)&&!EC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(LE(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},mN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gN=/([^\#-~ |!])/g;function LE(t){return t.replace(/&/g,"&amp;").replace(mN,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(gN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var $u;function TC(t,e){let n=null;try{$u=$u||oN(t);let r=e?String(e):"";n=$u.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=$u.getInertBodyElement(r)}while(r!==o);let a=new Im().sanitizeChildren(jE(n)||n);return xd(a)}finally{if(n){let r=jE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function jE(t){return"content"in t&&vN(t)?t.content:null}function vN(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ir=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ir||{});function Nn(t){let e=SC();return e?e.sanitize(Ir.URL,t)||"":Vi(t,"URL")?Rn(t):Md(ic(t))}function DC(t){let e=SC();if(e)return FE(e.sanitize(Ir.RESOURCE_URL,t)||"");if(Vi(t,"ResourceURL"))return FE(Rn(t));throw new P(904,!1)}function SC(){let t=Me();return t&&t[zr].sanitizer}var yN=/^>|^->|<!--|-->|--!>|<!-$/g,_N=/(<|>)/g,wN="\u200B$1\u200B";function EN(t){return t.replace(yN,e=>e.replace(_N,wN))}var AC=new Map,IN=0;function CN(){return IN++}function bN(t){AC.set(t[vd],t)}function TN(t){AC.delete(t[vd])}var UE="__ngContext__";function Pi(t,e){Io(e)?(t[UE]=e[vd],bN(e)):t[UE]=e}function ze(t){return t.ownerDocument.defaultView}function gc(t){return t.ownerDocument}function xC(t){return t instanceof Function?t():t}var Kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kr||{}),DN;function wg(t,e){return DN(t,e)}function js(t,e,n,r,i){if(r!=null){let o,s=!1;Yr(r)?o=r:Io(r)&&(s=!0,r=r[Er]);let a=_r(r);t===0&&n!==null?i==null?NC(e,n,a):ad(e,n,a,i||null,!0):t===1&&n!==null?ad(e,n,a,i||null,!0):t===2?zN(e,a,s):t===3&&e.destroyNode(a),o!=null&&GN(e,t,o,n,i)}}function SN(t,e){return t.createText(e)}function AN(t,e,n){t.setValue(e,n)}function xN(t,e){return t.createComment(EN(e))}function MC(t,e,n){return t.createElement(e,n)}function MN(t,e){PC(t,e),e[Er]=null,e[Jn]=null}function PN(t,e,n,r,i,o){r[Er]=i,r[Jn]=e,Od(t,r,n,1,i,o)}function PC(t,e){Od(t,e,e[lt],2,null,null)}function ON(t){let e=t[tc];if(!e)return Hp(t[me],t);for(;e;){let n=null;if(Io(e))n=e[tc];else{let r=e[In];r&&(n=r)}if(!n){for(;e&&!e[Qn]&&e!==t;)Io(e)&&Hp(e[me],e),e=e[Lt];e===null&&(e=t),Io(e)&&Hp(e[me],e),n=e&&e[Qn]}e=n}}function RN(t,e,n,r){let i=In+r,o=n.length;r>0&&(n[i-1][Qn]=e),r<o-In?(e[Qn]=n[i],NI(n,In+r,e)):(n.push(e),e[Qn]=null),e[Lt]=n;let s=e[dc];s!==null&&n!==s&&NN(s,e);let a=e[qr];a!==null&&a.insertView(t),tm(e),e[ne]|=128}function NN(t,e){let n=t[zs],i=e[Lt][Lt][vr];e[vr]!==i&&(t[ne]|=tg.HasTransplantedViews),n===null?t[zs]=[e]:n.push(e)}function OC(t,e){let n=t[zs],r=n.indexOf(e);n.splice(r,1)}function Cm(t,e){if(t.length<=In)return;let n=In+e,r=t[n];if(r){let i=r[dc];i!==null&&i!==t&&OC(i,r),e>0&&(t[n-1][Qn]=r[Qn]);let o=td(t,In+e);MN(r[me],r);let s=o[qr];s!==null&&s.detachView(o[me]),r[Lt]=null,r[Qn]=null,r[ne]&=-129}return r}function RC(t,e){if(!(e[ne]&256)){let n=e[lt];n.destroyNode&&Od(t,e,n,3,null,null),ON(e)}}function Hp(t,e){if(e[ne]&256)return;let n=xe(null);try{e[ne]&=-129,e[ne]|=256,e[bo]&&pp(e[bo]),FN(t,e),kN(t,e),e[me].type===1&&e[lt].destroy();let r=e[dc];if(r!==null&&Yr(e[Lt])){r!==e[Lt]&&OC(r,e);let i=e[qr];i!==null&&i.detachView(t)}TN(e)}finally{xe(n)}}function kN(t,e){let n=t.cleanup,r=e[ec];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ec]=null);let i=e[xi];if(i!==null){e[xi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function FN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof So)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];pr(4,a,c);try{c.call(a)}finally{pr(5,a,c)}}else{pr(4,i,o);try{o.call(i)}finally{pr(5,i,o)}}}}}function VN(t,e,n){return LN(t,e.parent,n)}function LN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===gr.None||o===gr.Emulated)return null}return Zn(r,n)}}function ad(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NC(t,e,n){t.appendChild(e,n)}function BE(t,e,n,r,i){r!==null?ad(t,e,n,r,i):NC(t,e,n)}function jN(t,e,n,r){t.removeChild(e,n,r)}function Eg(t,e){return t.parentNode(e)}function UN(t,e){return t.nextSibling(e)}function BN(t,e,n){return HN(t,e,n)}function $N(t,e,n){return t.type&40?Zn(t,n):null}var HN=$N,$E;function Pd(t,e,n,r){let i=VN(t,r,e),o=e[lt],s=r.parent||e[Jn],a=BN(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)BE(o,i,n[c],a,!1);else BE(o,i,n,a,!1);$E!==void 0&&$E(o,r,e,n,i)}function Yu(t,e){if(e!==null){let n=e.type;if(n&3)return Zn(e,t);if(n&4)return bm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Yu(t,r);{let i=t[e.index];return Yr(i)?bm(-1,i):_r(i)}}else{if(n&32)return wg(e,t)()||_r(t[e.index]);{let r=kC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rc(t[vr]);return Yu(i,r)}else return Yu(t,e.next)}}}return null}function kC(t,e){if(e!==null){let r=t[vr][Jn],i=e.projection;return r.projection[i]}return null}function bm(t,e){let n=In+t+1;if(n<e.length){let r=e[n],i=r[me].firstChild;if(i!==null)return Yu(r,i)}return e[To]}function zN(t,e,n){let r=Eg(t,e);r&&jN(t,r,e,n)}function Ig(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Pi(_r(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Ig(t,e,n.child,r,i,o,!1),js(e,t,i,a,o);else if(c&32){let l=wg(n,r),u;for(;u=l();)js(e,t,i,u,o);js(e,t,i,a,o)}else c&16?qN(t,e,r,n,i,o):js(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Od(t,e,n,r,i,o){Ig(n,r,t.firstChild,e,i,o,!1)}function qN(t,e,n,r,i,o){let s=n[vr],c=s[Jn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];js(e,t,i,u,o)}else{let l=c,u=s[Lt];kI(r)&&(l.flags|=128),Ig(t,e,l,u,i,o,!0)}}function GN(t,e,n,r,i){let o=n[To],s=_r(n);o!==s&&js(e,t,r,o,i);for(let a=In;a<n.length;a++){let c=n[a];Od(c[me],c,t,e,r,o)}}function WN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kr.Important),t.setStyle(n,r,i,o))}}function KN(t,e,n){t.setAttribute(e,"style",n)}function FC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&em(t,e,r),i!==null&&FC(t,e,i),o!==null&&KN(t,e,o)}var Cr={};function y(t=1){LC(bt(),Me(),ki()+t,!1)}function LC(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Wu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ku(e,o,0,n)}Do(n)}function S(t,e=ve.Default){let n=Me();if(n===null)return L(t,e);let r=pn();return uC(r,n,tn(t),e)}function jC(t,e,n,r,i,o){let s=xe(null);try{let a=null;i&re.SignalBased&&(a=e[r][Ei]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&re.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ZI(e,a,r,o)}finally{xe(s)}}function QN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Do(~i);else{let o=i,s=n[++r],a=n[++r];KO(s,o);let c=e[o];a(2,c)}}}finally{Do(-1)}}function Rd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Er]=i,d[ne]=r|4|128|8|64,(l!==null||t&&t[ne]&2048)&&(d[ne]|=2048),EI(d),d[Lt]=d[Js]=t,d[Yn]=n,d[zr]=s||t&&t[zr],d[lt]=a||t&&t[lt],d[Hs]=c||t&&t[Hs]||null,d[Jn]=o,d[vd]=CN(),d[Zu]=u,d[yI]=l,d[vr]=e.type==2?t[vr]:d,d}function vc(t,e,n,r,i){let o=t.data[e];if(o===null)o=YN(t,e,n,r,i),WO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=HO();o.injectorIndex=s===null?-1:s.injectorIndex}return Oo(o,!0),o}function YN(t,e,n,r,i){let o=bI(),s=og(),a=s?o:o&&o.parent,c=t.data[e]=nk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function UC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BC(t,e,n,r,i){let o=ki(),s=r&2;try{Do(-1),s&&e.length>yr&&LC(t,e,yr,!1),pr(s?2:0,i),n(r,i)}finally{Do(o),pr(s?3:1,i)}}function Cg(t,e,n){if(ng(e)){let r=xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function bg(t,e,n){CI()&&(ck(t,e,n,Zn(n,e)),(n.flags&64)===64&&zC(t,e,n))}function Tg(t,e,n=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function $C(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dg(t,e,n,r,i,o,s,a,c,l,u){let d=yr+r,h=d+i,f=XN(d,h),v=typeof l=="function"?l():l;return f[me]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function XN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Cr);return n}function JN(t,e,n,r){let o=r.get(tN,mC)||n===gr.ShadowDom,s=t.selectRootElement(e,o);return ZN(s),s}function ZN(t){ek(t)}var ek=()=>null;function tk(t,e,n,r){let i=WC(e);i.push(n),t.firstCreatePass&&KC(t).push(r,i.length-1)}function nk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return UO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=re.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?zE(r,n,l,a,c):zE(r,n,l,a)}return r}function zE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function rk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;c=HE(0,d.inputs,u,c,f),l=HE(1,d.outputs,u,l,v);let E=c!==null&&s!==null&&!dI(e)?vk(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function ik(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sg(t,e,n,r,i,o,s,a){let c=Zn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(xg(t,n,u,r,i),yd(e)&&ok(n,e.index)):e.type&3?(r=ik(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function ok(t,e){let n=Ni(e,t);n[ne]&16||(n[ne]|=64)}function Ag(t,e,n,r){if(CI()){let i=r===null?null:{"":-1},o=uk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&HC(t,e,n,s,i,a),i&&dk(n,r,i)}n.mergedAttrs=Za(n.mergedAttrs,n.attrs)}function HC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)fm(sd(n,e),t,r[l].type);fk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=UC(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Za(n.mergedAttrs,u.hostAttrs),pk(t,n,e,c,u),hk(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}rk(t,n,o)}function sk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ak(s)!=a&&s.push(a),s.push(n,r,o)}}function ak(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ck(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;yd(n)&&mk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sd(n,e),Pi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ao(e,t,a,n);if(Pi(l,e),s!==null&&gk(e,a-i,l,c,n,s),Gr(c)){let u=Ni(n.index,e);u[Yn]=Ao(e,t,a,n)}}}function zC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=QO();try{Do(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];nm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&lk(c,l)}}finally{Do(-1),nm(s)}}function lk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function uk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(gO(e,s.selectors,!1))if(r||(r=[]),Gr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Tm(t,e,c)}else r.unshift(s),Tm(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Tm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new P(-301,!1);r.push(e[i],o)}}}function hk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gr(e)&&(n[""]=t)}}function fk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Gs(i.type,!0)),s=new So(o,Gr(i),S);t.blueprint[r]=s,n[r]=s,sk(t,e,r,UC(t,n,i.hostVars,Cr),i)}function mk(t,e,n){let r=Zn(e,t),i=$C(n),o=t[zr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Nd(t,Rd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function gk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];jC(r,n,c,l,u,d)}}function vk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function qC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GC(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ag(o),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function Nd(t,e){return t[tc]?t[TE][Qn]=e:t[tc]=e,t[TE]=e,e}function Dm(t,e,n){ag(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function WC(t){return t[ec]||(t[ec]=[])}function KC(t){return t.cleanup||(t.cleanup=[])}function yk(t,e,n){return(t===null||Gr(t))&&(n=MO(n[e.index])),n[lt]}function QC(t,e){let n=t[Hs],r=n?n.get(wr,null):null;r&&r.handleError(e)}function xg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];jC(u,l,r,a,c,i)}}function YC(t,e,n){let r=_I(e,t);AN(t[lt],r,n)}function _k(t,e){let n=Ni(e,t),r=n[me];wk(r,n);let i=n[Er];i!==null&&n[Zu]===null&&(n[Zu]=vg(i,n[Hs])),Mg(r,n,n[Yn])}function wk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Mg(t,e,n){cg(e);try{let r=t.viewQuery;r!==null&&Dm(1,r,n);let i=t.template;i!==null&&BC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qr]?.finishViewCreation(t),t.staticContentQueries&&GC(t,e),t.staticViewQueries&&Dm(2,t.viewQuery,n);let o=t.components;o!==null&&Ek(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,lg()}}function Ek(t,e){for(let n=0;n<e.length;n++)_k(t,e[n])}function Ik(t,e,n,r){let i=xe(null);try{let o=e.tView,a=t[ne]&4096?4096:16,c=Rd(t,o,n,a,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];c[dc]=l;let u=t[qr];return u!==null&&(c[qr]=u.createEmbeddedView(o)),Mg(o,c,n),c}finally{xe(i)}}function qE(t,e){return!e||e.firstChild===null||kI(t)}function Ck(t,e,n,r=!0){let i=e[me];if(RN(i,e,t,n),r){let s=bm(n,t),a=e[lt],c=Eg(a,t[To]);c!==null&&PN(i,t[Jn],a,e,c,s)}let o=e[Zu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cd(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(_r(o)),Yr(o)&&bk(o,r);let s=n.type;if(s&8)cd(t,e,n.child,r);else if(s&32){let a=wg(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kC(e,n);if(Array.isArray(a))r.push(...a);else{let c=rc(e[vr]);cd(c[me],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bk(t,e){for(let n=In;n<t.length;n++){let r=t[n],i=r[me].firstChild;i!==null&&cd(r[me],r,i,e)}t[To]!==t[Er]&&e.push(t[To])}var XC=[];function Tk(t){return t[bo]??Dk(t)}function Dk(t){let e=XC.pop()??Object.create(Ak);return e.lView=t,e}function Sk(t){t.lView[bo]!==t&&(t.lView=null,XC.push(t))}var Ak=Ae(R({},du),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nc(t.lView)},consumerOnSignalRead(){this.lView[bo]=this}});function JC(t){return eb(t[tc])}function ZC(t){return eb(t[Qn])}function eb(t){for(;t!==null&&!Yr(t);)t=t[Qn];return t}var tb=100;function nb(t,e=!0,n=0){let r=t[zr],i=r.rendererFactory,o=!1;o||i.begin?.();try{xk(t,n)}catch(s){throw e&&QC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function xk(t,e){Sm(t,e);let n=0;for(;ig(t);){if(n===tb)throw new P(103,!1);n++,Sm(t,1)}}function Mk(t,e,n,r){let i=e[ne];if((i&256)===256)return;let o=!1;!o&&e[zr].inlineEffectRunner?.flush(),cg(e);let s=null,a=null;!o&&Pk(t)&&(a=Tk(e),s=hp(a));try{EI(e),GO(t.bindingStartIndex),n!==null&&BC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Wu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ku(e,d,0,null),Up(e,0)}if(Ok(e),rb(e,0),t.contentQueries!==null&&GC(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Wu(e,d)}else{let d=t.contentHooks;d!==null&&Ku(e,d,1),Up(e,1)}QN(t,e);let l=t.components;l!==null&&ob(e,l,0);let u=t.viewQuery;if(u!==null&&Dm(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Wu(e,d)}else{let d=t.viewHooks;d!==null&&Ku(e,d,2),Up(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qu]){for(let d of e[qu])d();e[qu]=null}o||(e[ne]&=-73)}catch(c){throw nc(e),c}finally{a!==null&&(fp(a,s),Sk(a)),lg()}}function Pk(t){return t.type!==2}function rb(t,e){for(let n=JC(t);n!==null;n=ZC(n))for(let r=In;r<n.length;r++){let i=n[r];ib(i,e)}}function Ok(t){for(let e=JC(t);e!==null;e=ZC(e)){if(!(e[ne]&tg.HasTransplantedViews))continue;let n=e[zs];for(let r=0;r<n.length;r++){let i=n[r],o=i[Lt];NO(i)}}}function Rk(t,e,n){let r=Ni(e,t);ib(r,n)}function ib(t,e){rg(t)&&Sm(t,e)}function Sm(t,e){let r=t[me],i=t[ne],o=t[bo],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hu(o)),o&&(o.dirty=!1),t[ne]&=-9217,s)Mk(r,t,r.template,t[Yn]);else if(i&8192){rb(t,1);let a=r.components;a!==null&&ob(t,a,1)}}function ob(t,e,n){for(let r=0;r<e.length;r++)Rk(t,e[r],n)}function Pg(t){for(t[zr].changeDetectionScheduler?.notify();t;){t[ne]|=64;let e=rc(t);if(TO(t)&&!e)return t;t=e}return null}var xo=class{get rootNodes(){let e=this._lView,n=e[me];return cd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(e){this._lView[Yn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Yr(e)){let n=e[ed],r=n?n.indexOf(this):-1;r>-1&&(Cm(e,r),td(n,r))}this._attachedToViewContainer=!1}RC(this._lView[me],this._lView)}onDestroy(e){II(this._lView,e)}markForCheck(){Pg(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){tm(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,nb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,PC(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,tm(this._lView)}},Xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Fk;let t=e;return t})(),Nk=Xn,kk=class extends Nk{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ik(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new xo(i)}};function Fk(){return Og(pn(),Me())}function Og(t,e){return t.type&4?new kk(e,t,Zs(t,e)):null}var y7=new RegExp(`^(\\d+)*(${CR}|${IR})*(.*)`);var Vk=()=>null;function GE(t,e){return Vk(t,e)}var ac=class{},Am=class{},ld=class{};function Lk(t){let e=Error(`No component factory found for ${nn(t)}.`);return e[jk]=t,e}var jk="ngComponent";var xm=class{resolveComponentFactory(e){throw Lk(e)}},kd=(()=>{let e=class e{};e.NULL=new xm;let t=e;return t})(),Mo=class{},Ro=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Uk();let t=e;return t})();function Uk(){let t=Me(),e=pn(),n=Ni(e.index,t);return(Io(n)?n:t)[lt]}var Bk=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),zp={},sb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$k,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mm=class extends sb{constructor(e){super(),this._lView=e}onDestroy(e){return II(this._lView,e),()=>FO(this._lView,e)}};function $k(){return new Mm(Me())}var WE=new Set;function No(t){WE.has(t)||(WE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KE(...t){}function Hk(){let t=typeof Hr.requestAnimationFrame=="function",e=Hr[t?"requestAnimationFrame":"setTimeout"],n=Hr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Ie=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Hk().nativeRequestAnimationFrame,Gk(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zk,KE,KE);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zk={};function Rg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Hr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pm(t),t.isCheckStableRunning=!0,Rg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pm(t))}function Gk(t){let e=()=>{qk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Wk(a))return n.invokeTask(i,o,s,a);try{return QE(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),YE(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return QE(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),YE(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pm(t),Rg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function QE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YE(t){t._nesting--,Rg(t)}function Wk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ab=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ud(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Zp(i,a);else if(o==2){let c=a,l=e[++s];r=Zp(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dd=class extends kd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mi(e);return new Qs(n,this.ngModule)}};function XE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Kk(t){let e=t.toLowerCase();return e==="svg"?DO:e==="math"?SO:null}var Om=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Td(r);let i=this.injector.get(e,zp,r);return i!==zp||n===zp?i:this.parentInjector.get(e,n,r)}},Qs=class extends ld{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=XE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=xe(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Om(e,s):e,c=a.get(Mo,null);if(c===null)throw new P(407,!1);let l=a.get(Bk,null),u=a.get(ab,null),d=a.get(ac,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=r?JN(f,r,this.componentDef.encapsulation,a):MC(f,v,Kk(v)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let D=null;E!==null&&(D=vg(E,a,!0));let $=Dg(0,null,null,1,0,null,null,null,null,null,null),z=Rd(null,$,null,T,null,null,h,f,a,null,D);cg(z);let p,X;try{let M=this.componentDef,W,ue=null;M.findHostDirectiveDefs?(W=[],ue=new Map,M.findHostDirectiveDefs(M,W,ue),W.push(M)):W=[M];let Ee=Qk(z,E),Te=Yk(Ee,E,M,W,z,h,f);X=wI($,yr),E&&Zk(f,M,E,r),n!==void 0&&e1(X,this.ngContentSelectors,n),p=Jk(Te,M,W,ue,z,[t1]),Mg($,z,null)}finally{lg()}return new Rm(this.componentType,p,Zs(X,z),z,X)}finally{xe(o)}}},Rm=class extends Am{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;xg(o[me],o,i,e,n),this.previousInputValues.set(e,n);let s=Ni(this._tNode.index,o);Pg(s)}}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Qk(t,e){let n=t[me],r=yr;return t[r]=e,vc(n,r,2,"#host",null)}function Yk(t,e,n,r,i,o,s){let a=i[me];Xk(r,t,e,s);let c=null;e!==null&&(c=vg(e,i[Hs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Rd(i,$C(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Tm(a,t,r.length-1),Nd(i,d),i[t.index]=d}function Xk(t,e,n,r){for(let i of t)e.mergedAttrs=Za(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ud(e,e.mergedAttrs,!0),n!==null&&VC(r,n,e))}function Jk(t,e,n,r,i,o){let s=pn(),a=i[me],c=Zn(s,i);HC(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Ao(i,a,d,s);Pi(h,i)}zC(a,i,s),c&&Pi(c,i);let l=Ao(i,a,s.directiveStart+s.componentOffset,s);if(t[Yn]=i[Yn]=l,o!==null)for(let u of o)u(l,e);return Cg(a,s,i),l}function Zk(t,e,n,r){if(r)em(t,n,["ng-version","17.2.4"]);else{let{attrs:i,classes:o}=EO(e.selectors[0]);i&&em(t,n,i),o&&o.length>0&&FC(t,n,o.join(" "))}}function e1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function t1(){let t=pn();Ad(Me()[me],t)}var jt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=n1;let t=e;return t})();function n1(){let t=pn();return lb(t,Me())}var r1=jt,cb=class extends r1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){let e=_g(this._hostTNode,this._hostLView);if(iC(e)){let n=od(e,this._hostLView),r=id(e),i=n[me].data[r+8];return new Co(i,n)}else return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=JE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-In}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=GE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,qE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!VR(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Qs(Mi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Ct,null);E&&(o=E)}let u=Mi(c.componentType??{}),d=GE(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,qE(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(RO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Lt],l=new cb(c,c[Jn],c[Lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ck(s,i,o,r),e.attachToViewContainerRef(),NI(qp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=JE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cm(this._lContainer,n);r&&(td(qp(this._lContainer),n),RC(r[me],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cm(this._lContainer,n);return r&&td(qp(this._lContainer),n)!=null?new xo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function JE(t){return t[ed]}function qp(t){return t[ed]||(t[ed]=[])}function lb(t,e){let n,r=e[t.index];return Yr(r)?n=r:(n=qC(r,e,null,t),e[t.index]=n,Nd(e,n)),o1(n,e,t,r),new cb(n,t,e)}function i1(t,e){let n=t[lt],r=n.createComment(""),i=Zn(e,t),o=Eg(n,i);return ad(n,o,r,UN(n,i),!1),r}var o1=c1,s1=()=>!1;function a1(t,e,n){return s1(t,e,n)}function c1(t,e,n,r){if(t[To])return;let i;n.type&8?i=_r(r):i=i1(e,n),t[To]=i}var Nm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},km=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ng(e,n).matches!==null&&this.queries[n].setDirty()}},Fm=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=g1(e):this.predicate=e}},Vm=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Lm=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,l1(n,o)),this.matchTNodeWithReadOption(e,n,Qu(n,e,o,!1,!1))}else r===Xn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Qu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===jt||i===Xn&&n.type&4)this.addMatch(n.index,-2);else{let o=Qu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function l1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function u1(t,e){return t.type&11?Zs(t,e):t.type&4?Og(t,e):null}function d1(t,e,n,r){return n===-1?u1(e,t):n===-2?h1(t,e,r):Ao(t,t[me],n,e)}function h1(t,e,n){if(n===mt)return Zs(e,t);if(n===Xn)return Og(e,t);if(n===jt)return lb(e,t)}function ub(t,e,n,r){let i=e[qr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(d1(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function jm(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=ub(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=In;d<u.length;d++){let h=u[d];h[dc]===h[Lt]&&jm(h[me],h,l,r)}if(u[zs]!==null){let d=u[zs];for(let h=0;h<d.length;h++){let f=d[h];jm(f[me],f,l,r)}}}}}return r}function f1(t,e){return t[qr].queries[e].queryList}function p1(t,e,n){let r=new rm((n&4)===4);return tk(t,e,r,r.destroy),(e[qr]??=new km).queries.push(new Nm(r))-1}function m1(t,e,n){let r=bt();return r.firstCreatePass&&(v1(r,new Fm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),p1(r,Me(),e)}function g1(t){return t.split(",").map(e=>e.trim())}function v1(t,e,n){t.queries===null&&(t.queries=new Vm),t.queries.track(new Lm(e,n))}function Ng(t,e){return t.queries.getByIndex(e)}function y1(t,e){let n=t[me],r=Ng(n,e);return r.crossesNgTemplate?jm(n,t,e,[]):ub(n,t,r,e)}function _1(t){return typeof t=="function"&&t[Ei]!==void 0}function ei(t,e){No("NgSignals");let n=H0(t),r=n[Ei];return e?.equal&&(r.equal=e.equal),n.set=i=>mp(r,i),n.update=i=>z0(r,i),n.asReadonly=w1.bind(n),n}function w1(){let t=this[Ei];if(t.readonlyFn===void 0){let e=()=>this();e[Ei]=t,t.readonlyFn=e}return t.readonlyFn}function db(t){return _1(t)&&typeof t.set=="function"}function E1(t){return Object.getPrototypeOf(t.prototype).constructor}function $e(t){let e=E1(t.type),n=!0,r=[t];for(;e;){let i;if(Gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Hu(t.inputs),s.inputTransforms=Hu(t.inputTransforms),s.declaredInputs=Hu(t.declaredInputs),s.outputs=Hu(t.outputs);let a=i.hostBindings;a&&D1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&b1(t,c),l&&T1(t,l),I1(t,i),oO(t.outputs,i.outputs),Gr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$e&&(n=!1)}}e=Object.getPrototypeOf(e)}C1(r)}function I1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function C1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Za(i.hostAttrs,n=Za(n,i.hostAttrs))}}function Hu(t){return t===$s?{}:t===fn?[]:t}function b1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function T1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function D1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fd(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Oi=class{},cc=class{};var Um=class extends Oi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dd(this);let i=mI(e);this._bootstrapComponents=xC(i.bootstrap),this._r3Injector=fC(e,n,[{provide:Oi,useValue:this},{provide:kd,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bm=class extends cc{constructor(e){super(),this.moduleType=e}create(e){return new Um(this.moduleType,e,[])}};var hd=class extends Oi{constructor(e){super(),this.componentFactoryResolver=new dd(this),this.instance=null;let n=new sc([...e.providers,{provide:Oi,useValue:this},{provide:kd,useValue:this.componentFactoryResolver}],e.parent||Sd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kg(t,e,n=null){return new hd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ko=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hb(t){return A1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function S1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function A1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ri(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function x1(t,e,n,r){let i=Ri(t,e,n);return Ri(t,e+1,r)||i}function M1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=vc(e,t,4,s||null,qs(l,a));Ag(e,n,u,qs(l,c)),Ad(e,u);let d=u.tView=Dg(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function B(t,e,n,r,i,o,s,a){let c=Me(),l=bt(),u=t+yr,d=l.firstCreatePass?M1(u,l,c,e,n,r,i,o,s):l.data[u];Oo(d,!1);let h=P1(l,c,d,t);Ed()&&Pd(l,c,h,d),Pi(h,c);let f=qC(h,c,h,d);return c[u]=f,Nd(c,f),a1(f,d,c),_d(d)&&bg(l,c,d),s!=null&&Tg(c,d,a),B}var P1=O1;function O1(t,e,n,r){return Id(!0),e[lt].createComment("")}function R1(t,e,n,r){return Ri(t,wd(),n)?e+ic(n)+r:Cr}function N1(t,e,n,r,i,o){let s=qO(),a=x1(t,s,n,i);return sg(2),a?e+ic(n)+r+ic(i)+o:Cr}function zu(t,e){return t<<17|e<<2}function Po(t){return t>>17&32767}function k1(t){return(t&2)==2}function F1(t,e){return t&131071|e<<17}function $m(t){return t|2}function Ys(t){return(t&131068)>>2}function Gp(t,e){return t&-131069|e<<2}function V1(t){return(t&1)===1}function Hm(t){return t|1}function L1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Po(s),c=Ys(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||hc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Po(t[a+1]);t[r+1]=zu(h,a),h!==0&&(t[h+1]=Gp(t[h+1],r)),t[a+1]=F1(t[a+1],r)}else t[r+1]=zu(a,0),a!==0&&(t[a+1]=Gp(t[a+1],r)),a=r;else t[r+1]=zu(c,0),a===0?a=r:t[c+1]=Gp(t[c+1],r),c=r;l&&(t[r+1]=$m(t[r+1])),ZE(t,u,r,!0),ZE(t,u,r,!1),j1(e,u,t,r,o),s=zu(a,c),o?e.classBindings=s:e.styleBindings=s}function j1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&hc(o,e)>=0&&(n[r+1]=Hm(n[r+1]))}function ZE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Po(i):Ys(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];U1(c,e)&&(a=!0,t[s+1]=r?Hm(l):$m(l)),s=r?Po(l):Ys(l)}a&&(t[n+1]=r?$m(i):Hm(i))}function U1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hc(t,e)>=0:!1}var pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fb(t){return t.substring(pt.key,pt.keyEnd)}function B1(t){return t.substring(pt.value,pt.valueEnd)}function $1(t){return gb(t),pb(t,Xs(t,0,pt.textEnd))}function pb(t,e){let n=pt.textEnd;return n===e?-1:(e=pt.keyEnd=z1(t,pt.key=e,n),Xs(t,e,n))}function H1(t){return gb(t),mb(t,Xs(t,0,pt.textEnd))}function mb(t,e){let n=pt.textEnd,r=pt.key=Xs(t,e,n);return n===r?-1:(r=pt.keyEnd=q1(t,r,n),r=eI(t,r,n,58),r=pt.value=Xs(t,r,n),r=pt.valueEnd=G1(t,r,n),eI(t,r,n,59))}function gb(t){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=t.length}function Xs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function z1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function q1(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function eI(t,e,n,r){return e=Xs(t,e,n),e<n&&e++,e}function G1(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){let c=t.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=tI(t,c,s,n):e===s-4&&o===85&&i===82&&r===76&&c===40?a=s=tI(t,41,s,n):c>32&&(a=s),o=i,i=r,r=c&-33}return a}function tI(t,e,n,r){let i=-1,o=n;for(;o<r;){let s=t.charCodeAt(o++);if(s==e&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function C(t,e,n){let r=Me(),i=wd();if(Ri(r,i,e)){let o=bt(),s=ug();Sg(o,s,r,t,e,r[lt],n,!1)}return C}function zm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";xg(t,n,o[s],s,r)}function tr(t,e,n){return yb(t,e,n,!1),tr}function Ce(t,e){return yb(t,e,null,!0),Ce}function Vd(t){_b(Ib,W1,t,!1)}function W1(t,e){for(let n=H1(e);n>=0;n=mb(e,n))Ib(t,fb(e),B1(e))}function vb(t){_b(eF,K1,t,!0)}function K1(t,e){for(let n=$1(e);n>=0;n=pb(e,n))Cd(t,fb(e),!0)}function yb(t,e,n,r){let i=Me(),o=bt(),s=sg(2);if(o.firstUpdatePass&&Eb(o,t,s,r),e!==Cr&&Ri(i,s,e)){let a=o.data[ki()];Cb(o,a,i,i[lt],t,i[s+1]=nF(e,n),r,s)}}function _b(t,e,n,r){let i=bt(),o=sg(2);i.firstUpdatePass&&Eb(i,null,o,r);let s=Me();if(n!==Cr&&Ri(s,o,n)){let a=i.data[ki()];if(bb(a,r)&&!wb(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Zp(c,n||"")),zm(i,a,s,n,r)}else tF(i,a,s,s[lt],s[o+1],s[o+1]=Z1(t,e,n),r,o)}}function wb(t,e){return e>=t.expandoStartIndex}function Eb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ki()],s=wb(t,n);bb(o,r)&&e===null&&!s&&(e=!1),e=Q1(i,o,e,r),L1(i,o,e,n,s,r)}}function Q1(t,e,n,r){let i=DI(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wp(null,t,e,n,r),n=lc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wp(i,t,e,n,r),o===null){let c=Y1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Wp(null,t,e,c[1],r),c=lc(c,e.attrs,r),X1(t,e,r,c))}else o=J1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Y1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ys(r)!==0)return t[Po(r)]}function X1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Po(i)]=r}function J1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=lc(r,s,n)}return lc(r,e.attrs,n)}function Wp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=lc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function lc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Cd(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Z1(t,e,n){if(n==null||n==="")return fn;let r=[],i=Rn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Ib(t,e,n){Cd(t,e,Rn(n))}function eF(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Cd(t,r,n)}function tF(t,e,n,r,i,o,s,a){i===Cr&&(i=fn);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0,v=null,E;u===d?(c+=2,l+=2,h!==f&&(v=d,E=f)):d===null||u!==null&&u<d?(c+=2,v=u):(l+=2,v=d,E=f),v!==null&&Cb(t,e,n,r,v,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}function Cb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=V1(l)?nI(c,e,n,i,Ys(l),s):void 0;if(!fd(u)){fd(o)||k1(l)&&(o=nI(c,null,n,i,a,s));let d=_I(ki(),n);WN(r,s,d,i,o)}}function nI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Cr&&(h=d?fn:void 0);let f=d?Lp(h,r):u===r?h:void 0;if(l&&!fd(f)&&(f=Lp(c,r)),fd(f)&&(a=f,s))return a;let v=t[i+1];i=s?Po(v):Ys(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Lp(c,r))}return a}function fd(t){return t!==void 0}function nF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nn(Rn(t)))),t}function bb(t,e){return(t.flags&(e?8:16))!==0}function rF(t,e,n,r,i,o){let s=e.consts,a=qs(s,i),c=vc(e,t,2,r,a);return Ag(e,n,c,qs(s,o)),c.attrs!==null&&ud(c,c.attrs,!1),c.mergedAttrs!==null&&ud(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=Me(),o=bt(),s=yr+t,a=i[lt],c=o.firstCreatePass?rF(s,o,i,e,n,r):o.data[s],l=iF(o,i,c,a,e,t);i[s]=l;let u=_d(c);return Oo(c,!0),VC(a,l,c),(c.flags&32)!==32&&Ed()&&Pd(o,i,l,c),VO()===0&&Pi(l,i),LO(),u&&(bg(o,i,c),Cg(o,c,i)),r!==null&&Tg(i,c),m}function g(){let t=pn();og()?TI():(t=t.parent,Oo(t,!1));let e=t;BO(e)&&$O(),jO();let n=bt();return n.firstCreatePass&&(Ad(n,t),ng(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&zR(e)&&zm(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&qR(e)&&zm(n,e,Me(),e.stylesWithoutHost,!1),g}function J(t,e,n,r){return m(t,e,n,r),g(),J}var iF=(t,e,n,r,i,o)=>(Id(!0),MC(r,i,JO()));function oF(t,e,n,r,i){let o=e.consts,s=qs(o,r),a=vc(e,t,8,"ng-container",s);s!==null&&ud(a,s,!0);let c=qs(o,i);return Ag(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Je(t,e,n){let r=Me(),i=bt(),o=t+yr,s=i.firstCreatePass?oF(o,i,r,e,n):i.data[o];Oo(s,!0);let a=sF(i,r,s,t);return r[o]=a,Ed()&&Pd(i,r,a,s),Pi(a,r),_d(s)&&(bg(i,r,s),Cg(i,s,r)),n!=null&&Tg(r,s),Je}function Ze(){let t=pn(),e=bt();return og()?TI():(t=t.parent,Oo(t,!1)),e.firstCreatePass&&(Ad(e,t),ng(t)&&e.queries.elementEnd(t)),Ze}function Fg(t,e,n){return Je(t,e,n),Ze(),Fg}var sF=(t,e,n,r)=>(Id(!0),xN(e[lt],""));function Q(){return Me()}function Vg(t,e,n){let r=Me(),i=wd();if(Ri(r,i,e)){let o=bt(),s=ug(),a=DI(o.data),c=yk(a,s,r);Sg(o,s,r,t,e,c,n,!0)}return Vg}var pd="en-US";var aF=pd;function cF(t){typeof t=="string"&&(aF=t.toLowerCase().replace(/_/g,"-"))}function I(t,e,n,r){let i=Me(),o=bt(),s=pn();return Tb(o,i,i[lt],s,t,e,r),I}function lF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ec],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Tb(t,e,n,r,i,o,s){let a=_d(r),l=t.firstCreatePass&&KC(t),u=e[Yn],d=WC(e),h=!0;if(r.type&3||s){let E=Zn(r,e),T=s?s(E):E,D=d.length,$=s?p=>s(_r(p[r.index])):r.index,z=null;if(!s&&a&&(z=lF(t,e,i,r.index)),z!==null){let p=z.__ngLastListenerFn__||z;p.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,h=!1}else{o=iI(r,e,u,o,!1);let p=n.listen(T,i,o);d.push(o,p),l&&l.push(i,$,D,D+1)}}else o=iI(r,e,u,o,!1);let f=r.outputs,v;if(h&&f!==null&&(v=f[i])){let E=v.length;if(E)for(let T=0;T<E;T+=2){let D=v[T],$=v[T+1],X=e[D][$].subscribe(o),M=d.length;if(d.push(o,X),l){let W=typeof X=="function"?M+1:-(M+1);l.push(i,r.index,M,W)}}}}function rI(t,e,n,r){let i=xe(null);try{return pr(6,e,n),n(r)!==!1}catch(o){return QC(t,o),!1}finally{pr(7,e,n),xe(i)}}function iI(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ni(t.index,e):e;Pg(a);let c=rI(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=rI(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function w(t=1){return XO(t)}function Db(t,e,n){m1(t,e,n)}function Lg(t){let e=Me(),n=bt(),r=SI();ag(r+1);let i=Ng(n,r);if(t.dirty&&OO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=y1(e,r);t.reset(o,eR),t.notifyOnChanges()}return!0}return!1}function jg(){return f1(Me(),SI())}function Ut(t){let e=zO();return PO(e,yr+t)}function N(t,e=""){let n=Me(),r=bt(),i=t+yr,o=r.firstCreatePass?vc(r,i,1,e,null):r.data[i],s=uF(r,n,o,e,t);n[i]=s,Ed()&&Pd(r,n,s,o),Oo(o,!1)}var uF=(t,e,n,r,i)=>(Id(!0),SN(e[lt],r));function ye(t){return Sb("",t,""),ye}function Sb(t,e,n){let r=Me(),i=R1(r,t,e,n);return i!==Cr&&YC(r,ki(),i),Sb}function ti(t,e,n,r,i){let o=Me(),s=N1(o,t,e,n,r,i);return s!==Cr&&YC(o,ki(),s),ti}function ni(t,e,n){db(e)&&(e=e());let r=Me(),i=wd();if(Ri(r,i,e)){let o=bt(),s=ug();Sg(o,s,r,t,e,r[lt],n,!1)}return ni}function Li(t,e){let n=db(t);return n&&t.set(e),n}function ri(t,e){let n=Me(),r=bt(),i=pn();return Tb(r,n,n[lt],i,t,e),ri}function dF(t,e,n){let r=bt();if(r.firstCreatePass){let i=Gr(t);qm(n,r.data,r.blueprint,i,!0),qm(e,r.data,r.blueprint,i,!1)}}function qm(t,e,n,r,i){if(t=tn(t),Array.isArray(t))for(let o=0;o<t.length;o++)qm(t[o],e,n,r,i);else{let o=bt(),s=Me(),a=pn(),c=Ks(t)?t:tn(t.provide),l=JI(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ks(t)||!t.multi){let f=new So(l,i,S),v=Qp(c,e,i?u:u+h,d);v===-1?(fm(sd(a,s),o,c),Kp(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[v]=f,s[v]=f)}else{let f=Qp(c,e,u+h,d),v=Qp(c,e,u,u+h),E=f>=0&&n[f],T=v>=0&&n[v];if(i&&!T||!i&&!E){fm(sd(a,s),o,c);let D=pF(i?fF:hF,n.length,i,r,l);!i&&T&&(n[v].providerFactory=D),Kp(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Ab(n[i?v:f],l,!i&&r);Kp(o,t,f>-1?f:v,D)}!i&&r&&T&&n[v].componentProviders++}}}function Kp(t,e,n,r){let i=Ks(e),o=xR(e);if(i||o){let c=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Ab(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hF(t,e,n,r){return Gm(this.multi,[])}function fF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ao(n,n[me],this.providerFactory.index,r);o=a.slice(0,s),Gm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Gm(i,o);return o}function Gm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function pF(t,e,n,r,i){let o=new So(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,Ab(o,i,r&&!n),o}function Ug(t,e=[]){return n=>{n.providersResolver=(r,i)=>dF(r,i?i(t):t,e)}}var mF=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=QI(!1,r.type),o=i.length>0?kg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(L(Ct))});let t=e;return t})();function Y(t){No("NgStandalone"),t.getStandaloneInjector=e=>e.get(mF).getOrCreateStandaloneInjector(t)}var Qr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xb=new Qr("17.2.4"),Ld=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Mb=new G("");function Fo(t){return!!t&&typeof t.then=="function"}function Pb(t){return!!t&&typeof t.subscribe=="function"}var Ob=new G(""),Rb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Fo(s))r.push(s);else if(Pb(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jd=new G("");function gF(){$0(()=>{throw new P(600,!1)})}function vF(t){return t.isBoundToModule}function yF(t,e,n){try{let r=n();return Fo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var br=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(pC),this.afterRenderEffectManager=O(ab),this.componentTypes=[],this.components=[],this.isStable=O(ko).hasPendingTasks.pipe(ie(r=>!r)),this._injector=O(Ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ld;if(!this._injector.get(Rb).done){let f=!o&&pI(r),v=!1;throw new P(405,v)}let a;o?a=r:a=this._injector.get(kd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=vF(a)?void 0:this._injector.get(Oi),l=i||a.selector,u=a.create(Xe.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Mb,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Yp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new P(101,!1);let r=xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,xe(r)}}detectChangesInAttachedViews(){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===tb)throw new P(103,!1);let o=r===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Xp(s)||this.detectChangesInView(s,a,o);if(r++,i.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Xp(s))&&(i.execute(),!this._views.some(({_lView:s})=>Xp(s))))break}}detectChangesInView(r,i,o){let s;o?(s=0,r[ne]|=1024):r[ne]&64?s=0:s=1,nb(r,i,s)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Yp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(jd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Yp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xp(t){return ig(t)}var Wm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Bg=(()=>{let e=class e{compileModuleSync(r){return new Bm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=mI(r),s=xC(o.declarations).reduce((a,c)=>{let l=Mi(c);return l&&a.push(new Qs(l)),a},[]);return new Wm(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _F=(()=>{let e=class e{constructor(){this.zone=O(Ie),this.applicationRef=O(br)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wF(t){return[{provide:Ie,useFactory:t},{provide:Ws,multi:!0,useFactory:()=>{let e=O(_F,{optional:!0});return()=>e.initialize()}},{provide:Ws,multi:!0,useFactory:()=>{let e=O(bF);return()=>{e.initialize()}}},{provide:pC,useFactory:EF}]}function EF(){let t=O(Ie),e=O(wr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function IF(t){let e=wF(()=>new Ie(CF(t)));return Fi([[],e])}function CF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bF=(()=>{let e=class e{constructor(){this.subscription=new st,this.initialized=!1,this.zone=O(Ie),this.pendingTasks=O(ko)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TF(){return typeof $localize<"u"&&$localize.locale||pd}var $g=new G("",{providedIn:"root",factory:()=>O($g,ve.Optional|ve.SkipSelf)||TF()});var Nb=new G("");var Xu=null;function DF(t=[],e){return Xe.create({name:e,providers:[{provide:Dd,useValue:"platform"},{provide:Nb,useValue:new Set([()=>Xu=null])},...t]})}function SF(t=[]){if(Xu)return Xu;let e=DF(t);return Xu=e,gF(),AF(e),e}function AF(t){t.get(fg,null)?.forEach(n=>n())}var ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xF;let t=e;return t})();function xF(t){return MF(pn(),Me(),(t&16)===16)}function MF(t,e,n){if(yd(t)&&!n){let r=Ni(t.index,e);return new xo(r,r)}else if(t.type&47){let r=e[vr];return new xo(r,e)}return null}var Km=class{constructor(){}supports(e){return hb(e)}create(e){return new Qm(e)}},PF=(t,e)=>e,Qm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||PF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<oI(r,i,o)?n:r,a=oI(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,v=f+h;u<=v&&v<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!hb(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,S1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ym(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new md),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new md),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ym=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},md=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Xm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sI(){return new Hg([new Km])}var Hg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sI()),deps:[[e,new GI,new sn]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new P(901,!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:sI});let t=e;return t})();function kb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=SF(r),o=[IF(),...n||[]],a=new hd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ie);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(wr,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Nb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),yF(l,c,()=>{let f=a.get(Rb);return f.runInitializers(),f.donePromise.then(()=>{let v=a.get($g,pd);cF(v||pd);let E=a.get(br);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}function kn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var OF=new G("",{providedIn:"root",factory:()=>O(RF)}),RF=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new Jm});let t=e;return t})(),Jm=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=O(ko),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Zm=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=G0(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wr,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Ui(t,e){No("NgSignals"),!e?.injector&&FR(Ui);let n=e?.injector??O(Xe),r=e?.manualCleanup!==!0?n.get(sb):null,i=new Zm(n.get(OF),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(ji,null,{optional:!0});return!o||!(o._lView[ne]&8)?i.watcher.notify():(o._lView[qu]??=[]).push(i.watcher.notify),i}function Ud(t,e){let n=Mi(t),r=e.elementInjector||Sd();return new Qs(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var Bb=null;function ii(){return Bb}function $b(t){Bb??=t}var Bd=class{};var Bt=new G(""),Hb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(kF),providedIn:"platform"});let t=e;return t})();var kF=(()=>{let e=class e extends Hb{constructor(){super(),this._doc=O(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ii().getBaseHref(this._doc)}onPopState(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Fb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vo(t){return t&&t[0]!=="?"?"?"+t:t}var $d=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(qb),providedIn:"root"});let t=e;return t})(),FF=new G(""),qb=(()=>{let e=class e extends $d{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Vo(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Vo(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Vo(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(Hb),L(FF,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yc=(()=>{let e=class e{constructor(r){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=jF(Fb(Vb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Vo(i))}normalize(r){return e.stripTrailingSlash(LF(this._basePath,Vb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vo(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Vo(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Vo,e.joinWithSlash=zb,e.stripTrailingSlash=Fb,e.\u0275fac=function(i){return new(i||e)(L($d))},e.\u0275prov=V({token:e,factory:()=>VF(),providedIn:"root"});let t=e;return t})();function VF(){return new yc(L($d))}function LF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Vb(t){return t.replace(/\/index.html$/,"")}function jF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Hd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zg=/\s+/,Lb=[],Tt=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Lb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(zg):Lb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(zg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(zg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(S(mt),S(Ro))},e.\u0275dir=ut({type:e,selectors:[["","ngClass",""]],inputs:{klass:[re.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var qg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new qg(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),jb(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);jb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(jt),S(Xn),S(Hg))},e.\u0275dir=ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function jb(t,e){t.context.$implicit=e.item}var Re=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Gg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ub("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ub("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(S(jt),S(Xn))},e.\u0275dir=ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Gg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ub(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nn(e)}'.`)}var Z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})(),Gb="browser",UF="server";function _c(t){return t===UF}var ea=class{};var Ec=class{},Ic=class{},oi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Qg=class{encodeKey(e){return Wb(e)}encodeValue(e){return Wb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HF(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var zF=/%(\d[a-f0-9])/gi,qF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wb(t){return encodeURIComponent(t).replace(zF,(e,n)=>qF[n]??e)}function zd(t){return`${t}`}var $i=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=HF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(zd):[zd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(zd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Yg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function GF(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Kb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Qb(t){return typeof Blob<"u"&&t instanceof Blob}function Yb(t){return typeof FormData<"u"&&t instanceof FormData}function WF(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var wc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(GF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new oi,this.context??=new Yg,!this.params)this.params=new $i,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Kb(this.body)||Qb(this.body)||Yb(this.body)||WF(this.body)||typeof this.body=="string"?this.body:this.body instanceof $i?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yb(this.body)?null:Qb(this.body)?this.body.type||null:Kb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof $i?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Hi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hi||{}),Cc=class{constructor(e,n=Tc.Ok,r="OK"){this.headers=e.headers||new oi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},qd=class t extends Cc{constructor(e={}){super(e),this.type=Hi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bc=class t extends Cc{constructor(e={}){super(e),this.type=Hi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bi=class extends Cc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Tc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Tc||{});function Wg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Lo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof wc)s=r;else{let l;o.headers instanceof oi?l=o.headers:l=new oi(o.headers);let u;o.params&&(o.params instanceof $i?u=o.params:u=new $i({fromObject:o.params})),s=new wc(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ae(s).pipe(Di(l=>this.handler.handle(l)));if(r instanceof wc||o.observe==="events")return a;let c=a.pipe(Yt(l=>l instanceof bc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ie(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new $i().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Wg(o,i))}post(r,i,o={}){return this.request("POST",r,Wg(o,i))}put(r,i,o={}){return this.request("PUT",r,Wg(o,i))}};e.\u0275fac=function(i){return new(i||e)(L(Ec))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),KF=/^\)\]\}',?\n/,QF="X-Request-URL";function Xb(t){if(t.url)return t.url;let e=QF.toLocaleLowerCase();return t.headers.get(e)}var Kg=(()=>{let e=class e{constructor(){this.fetchImpl=O(Xg,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=O(Ie)}handle(r){return new se(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(Jg,s=>i.error(new Bi({error:s}))),()=>o.abort()})}doRequest(r,i,o){return _(this,null,function*(){let s=this.createRequestInit(r),a;try{let v=this.fetchImpl(r.urlWithParams,R({signal:i},s));YF(v),o.next({type:Hi.Sent}),a=yield v}catch(v){o.error(new Bi({error:v,status:v.status??0,statusText:v.statusText,url:r.urlWithParams,headers:v.headers}));return}let c=new oi(a.headers),l=a.statusText,u=Xb(a)??r.urlWithParams,d=a.status,h=null;if(r.reportProgress&&o.next(new qd({headers:c,status:d,statusText:l,url:u})),a.body){let v=a.headers.get("content-length"),E=[],T=a.body.getReader(),D=0,$,z,p=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:M,value:W}=yield T.read();if(M)break;if(E.push(W),D+=W.length,r.reportProgress){z=r.responseType==="text"?(z??"")+($??=new TextDecoder).decode(W,{stream:!0}):void 0;let ue=()=>o.next({type:Hi.DownloadProgress,total:v?+v:void 0,loaded:D,partialText:z});p?p.run(ue):ue()}}}));let X=this.concatChunks(E,D);try{let M=a.headers.get("Content-Type")??"";h=this.parseBody(r,X,M)}catch(M){o.error(new Bi({error:M,headers:new oi(a.headers),status:a.status,statusText:a.statusText,url:Xb(a)??r.urlWithParams}));return}}d===0&&(d=h?Tc.Ok:0),d>=200&&d<300?(o.next(new bc({body:h,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new Bi({error:h,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(KF,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Xg=class{};function Jg(){}function YF(t){t.then(Jg,Jg)}function XF(t,e){return e(t)}function JF(t,e,n){return(r,i)=>Xr(n,()=>e(r,o=>t(o,i)))}var Zg=new G(""),ZF=new G(""),eT=new G("");var Jb=(()=>{let e=class e extends Ec{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(ko);let o=O(eT,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Zg),...this.injector.get(ZF,[])]));this.chain=o.reduceRight((s,a)=>JF(s,a,this.injector),XF)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Eo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(L(Ic),L(Ct))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();var eV=/^\)\]\}',?\n/;function tV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Zb=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?je(i.\u0275loadImpl()):ae(null)).pipe(It(()=>new se(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((T,D)=>a.setRequestHeader(T,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let T=r.detectContentTypeHeader();T!==null&&a.setRequestHeader("Content-Type",T)}if(r.responseType){let T=r.responseType.toLowerCase();a.responseType=T!=="json"?T:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let T=a.statusText||"OK",D=new oi(a.getAllResponseHeaders()),$=tV(a)||r.url;return l=new qd({headers:D,status:a.status,statusText:T,url:$}),l},d=()=>{let{headers:T,status:D,statusText:$,url:z}=u(),p=null;D!==Tc.NoContent&&(p=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=p?Tc.Ok:0);let X=D>=200&&D<300;if(r.responseType==="json"&&typeof p=="string"){let M=p;p=p.replace(eV,"");try{p=p!==""?JSON.parse(p):null}catch(W){p=M,X&&(X=!1,p={error:W,text:p})}}X?(s.next(new bc({body:p,headers:T,status:D,statusText:$,url:z||void 0})),s.complete()):s.error(new Bi({error:p,headers:T,status:D,statusText:$,url:z||void 0}))},h=T=>{let{url:D}=u(),$=new Bi({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error($)},f=!1,v=T=>{f||(s.next(u()),f=!0);let D={type:Hi.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},E=T=>{let D={type:Hi.UploadProgress,loaded:T.loaded};T.lengthComputable&&(D.total=T.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",v),c!==null&&a.upload&&a.upload.addEventListener("progress",E)),a.send(c),s.next({type:Hi.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",v),c!==null&&a.upload&&a.upload.removeEventListener("progress",E)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(L(ea))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),tT=new G(""),nV="XSRF-TOKEN",rV=new G("",{providedIn:"root",factory:()=>nV}),iV="X-XSRF-TOKEN",oV=new G("",{providedIn:"root",factory:()=>iV}),Gd=class{},sV=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(On),L(rV))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function aV(t,e){let n=t.url.toLowerCase();if(!O(tT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Gd).getToken(),i=O(oV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ev=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ev||{});function nT(t,e){return{\u0275kind:t,\u0275providers:e}}function rT(...t){let e=[Lo,Zb,Jb,{provide:Ec,useExisting:Jb},{provide:Ic,useExisting:Zb},{provide:Zg,useValue:aV,multi:!0},{provide:tT,useValue:!0},{provide:Gd,useClass:sV}];for(let n of t)e.push(...n.\u0275providers);return Fi(e)}function iT(t){return nT(ev.Interceptors,t.map(e=>({provide:Zg,useValue:e,multi:!0})))}function oT(){return nT(ev.Fetch,[Kg,{provide:Ic,useExisting:Kg},{provide:eT,useExisting:Kg}])}var aT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new rv;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let v=l<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},lV=function(t){let e=aT(t);return cT.encodeByteArray(e,!0)},Dc=function(t){return lV(t).replace(/\./g,"")},ov=function(t){try{return cT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dV=()=>uV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ov(t[1]);return e&&JSON.parse(e)},sv=()=>{try{return dV()||hV()||fV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},av=t=>{var e,n;return(n=(e=sv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lT=t=>{let e=av(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cv=()=>{var t;return(t=sv())===null||t===void 0?void 0:t.config},lv=t=>{var e;return(e=sv())===null||e===void 0?void 0:e[`_${t}`]};var Wd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(s)),""].join(".")}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function hT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pT(){let t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uv(){try{return typeof indexedDB=="object"}catch{return!1}}function mT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var pV="FirebaseError",Cn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}},si=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,a,r)}};function mV(t,e){return t.replace(gV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gV=/\{\$([^}]+)}/g;function gT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(sT(o)&&sT(s)){if(!jo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sT(t){return t!==null&&typeof t=="object"}function Sc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vT(t,e){let n=new iv(t,e);return n.subscribe.bind(n)}var iv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}var rQ=4*60*60*1e3;function zi(t){return t&&t._delegate?t._delegate:t}var Fn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Uo="[DEFAULT]";var dv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Wd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_V(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function yV(t){return t===Uo?void 0:t}function _V(t){return t.instantiationMode==="EAGER"}var Kd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new dv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var wV=[],Pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Pe||{}),EV={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},IV=Pe.INFO,CV={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},bV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=CV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qi=class{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=bV,this._userLogHandler=null,wV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}};var TV=(t,e)=>e.some(n=>t instanceof n),yT,_T;function DV(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return _T||(_T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wT=new WeakMap,fv=new WeakMap,ET=new WeakMap,hv=new WeakMap,mv=new WeakMap;function AV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,t)}).catch(()=>{}),mv.set(e,t),e}function xV(t){if(fv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fv.set(t,e)}var pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IT(t){pv=t(pv)}function MV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Qd(this),e,...n);return ET.set(r,e.sort?e.sort():[e]),Tr(r)}:SV().includes(t)?function(...e){return t.apply(Qd(this),e),Tr(wT.get(this))}:function(...e){return Tr(t.apply(Qd(this),e))}}function PV(t){return typeof t=="function"?MV(t):(t instanceof IDBTransaction&&xV(t),TV(t,DV())?new Proxy(t,pv):t)}function Tr(t){if(t instanceof IDBRequest)return AV(t);if(hv.has(t))return hv.get(t);let e=PV(t);return e!==t&&(hv.set(t,e),mv.set(e,t)),e}var Qd=t=>mv.get(t);function bT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Tr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Tr(s.result),c.oldVersion,c.newVersion,Tr(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var OV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],gv=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OV.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return gv.set(e,o),o}IT(t=>Ae(R({},t),{get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));var yv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function NV(t){let e=t.getComponent();return e?.type==="VERSION"}var _v="@firebase/app",TT="0.9.28";var Bo=new qi("@firebase/app"),kV="@firebase/app-compat",FV="@firebase/analytics-compat",VV="@firebase/analytics",LV="@firebase/app-check-compat",jV="@firebase/app-check",UV="@firebase/auth",BV="@firebase/auth-compat",$V="@firebase/database",HV="@firebase/database-compat",zV="@firebase/functions",qV="@firebase/functions-compat",GV="@firebase/installations",WV="@firebase/installations-compat",KV="@firebase/messaging",QV="@firebase/messaging-compat",YV="@firebase/performance",XV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",eL="@firebase/storage",tL="@firebase/storage-compat",nL="@firebase/firestore",rL="@firebase/firestore-compat",iL="firebase",oL="10.8.1";var wv="[DEFAULT]",sL={[_v]:"fire-core",[kV]:"fire-core-compat",[VV]:"fire-analytics",[FV]:"fire-analytics-compat",[jV]:"fire-app-check",[LV]:"fire-app-check-compat",[UV]:"fire-auth",[BV]:"fire-auth-compat",[$V]:"fire-rtdb",[HV]:"fire-rtdb-compat",[zV]:"fire-fn",[qV]:"fire-fn-compat",[GV]:"fire-iid",[WV]:"fire-iid-compat",[KV]:"fire-fcm",[QV]:"fire-fcm-compat",[YV]:"fire-perf",[XV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[eL]:"fire-gcs",[tL]:"fire-gcs-compat",[nL]:"fire-fst",[rL]:"fire-fst-compat","fire-js":"fire-js",[iL]:"fire-js-all"};var Ac=new Map,Ev=new Map;function aL(t,e){try{t.container.addComponent(e)}catch(n){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wi(t){let e=t.name;if(Ev.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,t);for(let n of Ac.values())aL(n,t);return!0}function Mc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var cL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gi=new si("app","Firebase",cL);var Iv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}};var Ki=oL;function Tv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(n||(n=cv()),!n)throw Gi.create("no-options");let o=Ac.get(i);if(o){if(jo(n,o.options)&&jo(r,o.config))return o;throw Gi.create("duplicate-app",{appName:i})}let s=new Kd(i);for(let c of Ev.values())s.addComponent(c);let a=new Iv(n,r,s);return Ac.set(i,a),a}function ta(t=wv){let e=Ac.get(t);if(!e&&t===wv&&cv())return Tv();if(!e)throw Gi.create("no-app",{appName:t});return e}function Yd(){return Array.from(Ac.values())}function gt(t,e,n){var r;let i=(r=sL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(a.join(" "));return}Wi(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var lL="firebase-heartbeat-database",uL=1,xc="firebase-heartbeat-store",vv=null;function xT(){return vv||(vv=bT(lL,uL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),vv}function dL(t){return _(this,null,function*(){try{let n=(yield xT()).transaction(xc),r=yield n.objectStore(xc).get(MT(t));return yield n.done,r}catch(e){if(e instanceof Cn)Bo.warn(e.message);else{let n=Gi.create("idb-get",{originalErrorMessage:e?.message});Bo.warn(n.message)}}})}function DT(t,e){return _(this,null,function*(){try{let r=(yield xT()).transaction(xc,"readwrite");yield r.objectStore(xc).put(e,MT(t)),yield r.done}catch(n){if(n instanceof Cn)Bo.warn(n.message);else{let r=Gi.create("idb-set",{originalErrorMessage:n?.message});Bo.warn(r.message)}}})}function MT(t){return`${t.name}!${t.options.appId}`}var hL=1024,fL=30*24*60*60*1e3,Cv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ST();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=fL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ST(),{heartbeatsToSend:r,unsentEntries:i}=pL(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function ST(){return new Date().toISOString().substring(0,10)}function pL(t,e=hL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var bv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return uv()?mT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AT(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}function mL(t){Wi(new Fn("platform-logger",e=>new yv(e),"PRIVATE")),Wi(new Fn("heartbeat",e=>new Cv(e),"PRIVATE")),gt(_v,TT,t),gt(_v,TT,"esm2017"),gt("fire-js","")}mL("");var gL="firebase",vL="10.8.1";gt(gL,vL,"app");var Ho=new Qr("ANGULARFIRE2_VERSION");function Jd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Pc=(t,e)=>{let n=e?[e]:Yd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ra=class{constructor(){return Pc(yL)}},yL="app-check";function na(){}var Xd=class{zone;delegate;constructor(e,n=Sp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Dv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na)),n.pipe(ct({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ia=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xd(Zone.current)),this.insideAngular=n.run(()=>new Xd(Zone.current,Ps)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(Ie))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _L(t){return Zd().ngZone.runOutsideAngular(()=>t())}function $o(t){return Zd().ngZone.run(()=>t())}function wL(t){return EL(Zd())(t)}function EL(t){return function(n){return n=n.lift(new Dv(t.ngZone)),n.pipe(bi(t.outsideAngular),Ci(t.insideAngular))}}var IL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$o(()=>t.apply(void 0,r))},oa=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na))),r[o]=IL(r[o],n));let i=_L(()=>t.apply(this,r));if(!e)if(i instanceof se){let o=Zd();return i.pipe(bi(o.outsideAngular),Ci(o.insideAngular))}else return $o(()=>i);return i instanceof se?i.pipe(wL):i instanceof Promise?$o(()=>new Promise((o,s)=>i.then(a=>$o(()=>o(a)),a=>$o(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:$o(()=>i)};var ai=class{constructor(e){return e}},zo=class{constructor(){return Yd()}};function CL(t){return t&&t.length===1?t[0]:new ai(ta())}var Sv=new G("angularfire2._apps"),bL={provide:ai,useFactory:CL,deps:[[new sn,Sv]]},TL={provide:zo,deps:[[new sn,Sv]]};function DL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var SL=(()=>{class t{constructor(n){gt("angularfire",Ho.full,"core"),gt("angularfire",Ho.full,"app"),gt("angular",xb.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(On))};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[bL,TL]})}return t})();function PT(t,...e){return{ngModule:SL,providers:[{provide:Sv,useFactory:DL(t),multi:!0,deps:[Ie,Xe,ia,...e]}]}}var OT=oa(Tv,!0);function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WT=GT,KT=new si("auth","Firebase",GT());var oh=new qi("@firebase/auth");function AL(t,...e){oh.logLevel<=Pe.WARN&&oh.warn(`Auth (${Ki}): ${t}`,...e)}function th(t,...e){oh.logLevel<=Pe.ERROR&&oh.error(`Auth (${Ki}): ${t}`,...e)}function Yi(t,...e){throw Wv(t,...e)}function qo(t,...e){return Wv(t,...e)}function xL(t,e,n){let r=Object.assign(Object.assign({},WT()),{[e]:n});return new si("auth","Firebase",r).create(e,{appName:t.name})}function Wv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KT.create(t,...e)}function de(t,e,...n){if(!t)throw Wv(e,...n)}function ci(t){let e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function Xi(t,e){t||ci(e)}function Pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ML(){return RT()==="http:"||RT()==="https:"}function RT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ML()||hT()||"connection"in navigator)?navigator.onLine:!0}function OL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Go=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=dT()||fT()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kv(t,e){Xi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var sh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NL=new Go(3e4,6e4);function Qv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function sa(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return QT(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Sc(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),sh.fetch()(YT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function QT(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},RL),e);try{let i=new Ov(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw eh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw eh(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xL(t,u,l);Yi(t,u)}}catch(i){if(i instanceof Cn)throw i;Yi(t,"network-request-failed",{message:String(i)})}})}function kL(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield sa(t,e,n,r,i);return"mfaPendingCredential"in l&&Yi(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function YT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Kv(t.config,i):`${t.config.apiScheme}://${i}`}var Ov=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qo(this.auth,"network-request-failed")),NL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function eh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qo(t,e,r);return i.customData._tokenResponse=n,i}function FL(t,e){return _(this,null,function*(){return sa(t,"POST","/v1/accounts:delete",e)})}function VL(t,e){return _(this,null,function*(){return sa(t,"POST","/v1/accounts:lookup",e)})}function Oc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yv(t,e=!1){return _(this,null,function*(){let n=zi(t),r=yield n.getIdToken(e),i=Xv(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oc(Av(i.auth_time)),issuedAtTime:Oc(Av(i.iat)),expirationTime:Oc(Av(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Av(t){return Number(t)*1e3}function Xv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{let i=ov(n);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LL(t){let e=Xv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Cn&&jL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Rv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ah=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ch(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Rc(t,VL(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BL(o.providerUserInfo):[],a=UL(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ah(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Jv(t){return _(this,null,function*(){let e=zi(t);yield ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function UL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BL(t){return t.map(e=>{var{providerId:n}=e,r=xp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $L(t,e){return _(this,null,function*(){let n=yield QT(t,{},()=>_(this,null,function*(){let r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=YT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HL(t,e){return _(this,null,function*(){return sa(t,"POST","/v2/accounts:revokeToken",Qv(t,e))})}var lh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return _(this,null,function*(){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $L(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ci("not implemented")}};function Qi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Nc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ah(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Rc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Yv(this,e)}reload(){return Jv(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ch(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){let e=yield this.getIdToken();return yield Rc(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,D=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:z,emailVerified:p,isAnonymous:X,providerData:M,stsTokenManager:W}=n;de(z&&W,e,"internal-error");let ue=lh.fromJSON(this.name,W);de(typeof z=="string",e,"internal-error"),Qi(d,e.name),Qi(h,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof X=="boolean",e,"internal-error"),Qi(f,e.name),Qi(v,e.name),Qi(E,e.name),Qi(T,e.name),Qi(D,e.name),Qi($,e.name);let Ee=new t({uid:z,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:X,photoURL:v,phoneNumber:f,tenantId:E,stsTokenManager:ue,createdAt:D,lastLoginAt:$});return M&&Array.isArray(M)&&(Ee.providerData=M.map(Te=>Object.assign({},Te))),T&&(Ee._redirectEventId=T),Ee}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new lh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ch(o),o})}};var NT=new Map;function li(t){Xi(t instanceof Function,"Expected a class definition");let e=NT.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NT.set(t,e),e)}var zL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Nv=zL;function nh(t,e,n){return`firebase:${t}:${e}:${n}`}var uh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Nc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(li(Nv),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||li(Nv),s=nh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Nc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function kT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tD(e))return"Blackberry";if(nD(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(eD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XT(t=Dt()){return/firefox\//i.test(t)}function Zv(t=Dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(t=Dt()){return/crios\//i.test(t)}function ZT(t=Dt()){return/iemobile/i.test(t)}function eD(t=Dt()){return/android/i.test(t)}function tD(t=Dt()){return/blackberry/i.test(t)}function nD(t=Dt()){return/webos/i.test(t)}function yh(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qL(t=Dt()){var e;return yh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GL(){return pT()&&document.documentMode===10}function rD(t=Dt()){return yh(t)||eD(t)||nD(t)||tD(t)||/windows phone/i.test(t)||ZT(t)}function WL(){try{return!!(window&&window!==window.top)}catch{return!1}}function iD(t,e=[]){let n;switch(t){case"Browser":n=kT(Dt());break;case"Worker":n=`${kT(Dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}var kv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KL(n){return _(this,arguments,function*(t,e={}){return sa(t,"GET","/v2/passwordPolicy",Qv(t,e))})}var QL=6,Fv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:QL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Vv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dh(this),this.idTokenSubscription=new dh(this),this.beforeStateQueue=new kv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield uh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=OL()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){let n=e?zi(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield KL(this),n=new Fv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new si("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&li(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield uh.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&AL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ey(t){return zi(t)}var dh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vT(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ty={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YL(t){ty=t}function XL(t){return ty.loadJS(t)}function JL(){return ty.gapiScript}function oD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ny(t,e){let n=Mc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(jo(o,e??{}))return i;Yi(i,"already-initialized")}return n.initialize({options:e})}function ZL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ry(t,e,n){let r=ey(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=sD(e),{host:s,port:a}=e2(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||t2()}function sD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e2(t){let e=sD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FT(s)}}}function FT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function t2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hh=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}};function xv(t,e){return _(this,null,function*(){return kL(t,"POST","/v1/accounts:signInWithIdp",Qv(t,e))})}var fh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Lv=class extends fh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var kc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield Nc._fromIdTokenResponse(e,r,i),s=VT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jv=class t extends Cn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jv._fromErrorAndOperation(t,o,e,r):o})}function n2(t,e,n=!1){return _(this,null,function*(){let r=yield Rc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kc._forOperation(t,"link",r)})}function r2(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let o=yield Rc(t,aD(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=Xv(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),kc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Yi(r,"user-mismatch"),o}})}function i2(t,e,n=!1){return _(this,null,function*(){let r="signIn",i=yield aD(t,r,e),o=yield kc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function iy(t,e,n,r){return zi(t).onIdTokenChanged(e,n,r)}function oy(t,e,n){return zi(t).beforeAuthStateChanged(e,n)}var ph="__sak";var mh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function o2(){let t=Dt();return Zv(t)||yh(t)}var s2=1e3,a2=10,c2=(()=>{class t extends mh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=o2()&&WL(),this.fallbackToPolling=rD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);GL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,a2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield wi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield wi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield wi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),cD=c2;var l2=(()=>{class t extends mh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sy=l2;function u2(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var d2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>_(this,null,function*(){return u(r.origin,s)})),l=yield u2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function lD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Uv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=lD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Dr(){return window}function h2(t){Dr().location.href=t}function uD(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}function f2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function p2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m2(){return uD()?self:null}var dD="firebaseLocalStorageDb",g2=1,gh="firebaseLocalStorage",hD="fbase_key",Wo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function _h(t,e){return t.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function v2(){let t=indexedDB.deleteDatabase(dD);return new Wo(t).toPromise()}function Bv(){let t=indexedDB.open(dD,g2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(gh,{keyPath:hD})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),yield v2(),e(yield Bv()))}))})}function LT(t,e,n){return _(this,null,function*(){let r=_h(t,!0).put({[hD]:e,value:n});return new Wo(r).toPromise()})}function y2(t,e){return _(this,null,function*(){let n=_h(t,!1).get(e),r=yield new Wo(n).toPromise();return r===void 0?null:r.value})}function jT(t,e){let n=_h(t,!0).delete(e);return new Wo(n).toPromise()}var _2=800,w2=3,E2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Bv(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>w2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return uD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=d2._getInstance(m2()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield f2(),!this.activeServiceWorker)return;this.sender=new Uv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||p2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bv();return yield LT(n,ph,"1"),yield jT(n,ph),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>LT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>y2(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>jT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=_h(o,!1).getAll();return new Wo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fD=E2;var QQ=oD("rcb"),YQ=new Go(3e4,6e4);function I2(t,e){return e?li(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Fc=class extends hh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function C2(t){return i2(t.auth,new Fc(t),t.bypassAuthState)}function b2(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),r2(n,new Fc(t),t.bypassAuthState)}function T2(t){return _(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),n2(n,new Fc(t),t.bypassAuthState)})}var $v=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C2;case"linkViaPopup":case"linkViaRedirect":return T2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Yi(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var XQ=new Go(2e3,1e4);var D2="pendingRedirect",rh=new Map,Hv=class t extends $v{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=rh.get(this.auth._key());if(!e){try{let r=(yield S2(this.resolver,this.auth))?yield wi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return wi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,wi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function S2(t,e){return _(this,null,function*(){let n=M2(e),r=x2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function A2(t,e){rh.set(t._key(),e)}function x2(t){return li(t._redirectPersistence)}function M2(t){return nh(D2,t.config.apiKey,t.name)}function P2(t,e,n=!1){return _(this,null,function*(){let r=ey(t),i=I2(r,e),s=yield new Hv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var O2=10*60*1e3,zv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}};function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pD(t);default:return!1}}function N2(n){return _(this,arguments,function*(t,e={}){return sa(t,"GET","/v1/projects",e)})}var k2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F2=/^https?/;function V2(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield N2(t);for(let n of e)try{if(L2(n))return}catch{}Yi(t,"unauthorized-domain")})}function L2(t){let e=Pv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!F2.test(n))return!1;if(k2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var j2=new Go(3e4,6e4);function BT(){let t=Dr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U2(t){return new Promise((e,n)=>{var r,i,o;function s(){BT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BT(),n(qo(t,"network-request-failed"))},timeout:j2.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)s();else{let a=oD("iframefcb");return Dr()[a]=()=>{gapi.load?s():n(qo(t,"network-request-failed"))},XL(`${JL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ih=null,e})}var ih=null;function B2(t){return ih=ih||U2(t),ih}var $2=new Go(5e3,15e3),H2="__/auth/iframe",z2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W2(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kv(e,z2):`https://${t.config.authDomain}/${H2}`,r={apiKey:e.apiKey,appName:t.name,v:Ki},i=G2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Sc(r).slice(1)}`}function K2(t){return _(this,null,function*(){let e=yield B2(t),n=Dr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:W2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=qo(t,"network-request-failed"),a=Dr().setTimeout(()=>{o(s)},$2.get());function c(){Dr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,J2="_blank",Z2="http://localhost",vh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ej(t,e,n,r=Y2,i=X2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Q2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Dt().toLowerCase();n&&(a=JT(l)?J2:n),XT(l)&&(e=e||Z2,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,v])=>`${h}${f}=${v},`,"");if(qL(l)&&a!=="_self")return tj(e||"",a),new vh(null);let d=window.open(e||"",a,u);de(d,t,"popup-blocked");try{d.focus()}catch{}return new vh(d)}function tj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nj="__/auth/handler",rj="emulator/auth/handler",ij=encodeURIComponent("fac");function $T(t,e,n,r,i,o){return _(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ki,eventId:i};if(e instanceof fh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",gT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Lv){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${ij}=${encodeURIComponent(c)}`:"";return`${oj(t)}?${Sc(a).slice(1)}${l}`})}function oj({config:t}){return t.emulator?Kv(t,rj):`https://${t.authDomain}/${nj}`}var Mv="webStorageSupport",qv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sy,this._completeRedirectFn=P2,this._overrideRedirectResult=A2}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $T(e,n,r,Pv(),i);return ej(e,s,lD())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield $T(e,n,r,Pv(),i);return h2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield K2(e),r=new zv(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mv,{type:Mv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Mv];s!==void 0&&n(!!s),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=V2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rD()||Zv()||yh()}},mD=qv;var HT="@firebase/auth",zT="1.6.1";var Gv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aj(t){Wi(new Fn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iD(t)},l=new Vv(r,i,o,c);return ZL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new Fn("auth-internal",e=>{let n=ey(e.getProvider("auth").getImmediate());return(r=>new Gv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(HT,zT,sj(t)),gt(HT,zT,"esm2017")}var cj=5*60,lj=lv("authIdTokenMaxAge")||cj,qT=null,uj=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lj)return;let i=n?.token;qT!==i&&(qT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ay(t=ta()){let e=Mc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ny(t,{popupRedirectResolver:mD,persistence:[fD,cD,sy]}),r=lv("authTokenSyncURL");if(r){let o=uj(r);oy(n,o,()=>o(n.currentUser)),iy(n,s=>o(s))}let i=av("auth");return i&&ry(n,`http://${i}`),n}function dj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=qo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",dj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aj("Browser");var gD="auth",Vc=class{constructor(e){return e}},Lc=class{constructor(){return Pc(gD)}};var cy=new G("angularfire2.auth-instances");function o3(t,e){let n=Jd(gD,t,e);return n&&new Vc(n)}function s3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vc(r)}}var a3={provide:Lc,deps:[[new sn,cy]]},c3={provide:Vc,useFactory:o3,deps:[[new sn,cy],ai]},l3=(()=>{class t{constructor(){gt("angularfire",Ho.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[c3,a3]})}return t})();function vD(t,...e){return{ngModule:l3,providers:[{provide:cy,useFactory:s3(t),multi:!0,deps:[Ie,Xe,ia,zo,[new sn,ra],...e]}]}}var yD=oa(ay,!0);var u3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={},j,My=My||{},ce=u3||self;function Rh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Jc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function d3(t){return Object.prototype.hasOwnProperty.call(t,ly)&&t[ly]||(t[ly]=++h3)}var ly="closure_uid_"+(1e9*Math.random()>>>0),h3=0;function f3(t,e,n){return t.call.apply(t.bind,arguments)}function p3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=f3:Xt=p3,Xt.apply(null,arguments)}function wh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ji(){this.s=this.s,this.o=this.o}var m3=0;Ji.prototype.s=!1;Ji.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),m3!=0)&&d3(this)};Ji.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var PD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Py(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function _D(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Rh(r)){let i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var g3=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function zc(t){return/^[\s\xa0]*$/.test(t)}function Nh(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return Nh().indexOf(t)!=-1}function Oy(t){return Oy[" "](t),t}Oy[" "]=function(){};function v3(t,e){var n=oU;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var y3=Sr("Opera"),ua=Sr("Trident")||Sr("MSIE"),OD=Sr("Edge"),py=OD||ua,RD=Sr("Gecko")&&!(Nh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),_3=Nh().toLowerCase().indexOf("webkit")!=-1&&!Sr("Edge");function ND(){var t=ce.document;return t?t.documentMode:void 0}var my;e:{if(Eh="",Ih=function(){var t=Nh();if(RD)return/rv:([^\);]+)(\)|;)/.exec(t);if(OD)return/Edge\/([\d\.]+)/.exec(t);if(ua)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(_3)return/WebKit\/(\S+)/.exec(t);if(y3)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ih&&(Eh=Ih?Ih[1]:""),ua&&(Ch=ND(),Ch!=null&&Ch>parseFloat(Eh))){my=String(Ch);break e}my=Eh}var Eh,Ih,Ch,gy;ce.document&&ua?(uy=ND(),gy=uy||parseInt(my,10)||void 0):gy=void 0;var uy,w3=gy;function qc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(RD){e:{try{Oy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:E3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qc.$.h.call(this)}}At(qc,Jt);var E3={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),I3=0;function C3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++I3,this.fa=this.ia=!1}function kh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ry(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function b3(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function kD(t){let e={};for(let n in t)e[n]=t[n];return e}var wD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<wD.length;o++)n=wD[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fh(t){this.src=t,this.g={},this.h=0}Fh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=yy(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new C3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function vy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=PD(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(kh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yy(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Ny="closure_lm_"+(1e6*Math.random()|0),dy={};function VD(t,e,n,r,i){if(r&&r.once)return jD(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)VD(t,e[o],n,r,i);return null}return n=Vy(n),t&&t[Zc]?t.O(e,n,Jc(r)?!!r.capture:!!r,i):LD(t,e,n,!1,r,i)}function LD(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Jc(i)?!!i.capture:!!i,a=Fy(t);if(a||(t[Ny]=a=new Fh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=T3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)g3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function T3(){function t(n){return e.call(t.src,t.listener,n)}let e=D3;return t}function jD(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jD(t,e[o],n,r,i);return null}return n=Vy(n),t&&t[Zc]?t.P(e,n,Jc(r)?!!r.capture:!!r,i):LD(t,e,n,!0,r,i)}function UD(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)UD(t,e[o],n,r,i);else r=Jc(r)?!!r.capture:!!r,n=Vy(n),t&&t[Zc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=yy(o,n,r,i),-1<n&&(kh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yy(e,n,r,i)),(n=-1<t?e[t]:null)&&ky(n))}function ky(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zc])vy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fy(e))?(vy(n,t),n.h==0&&(n.src=null,e[Ny]=null)):kh(t)}}}function BD(t){return t in dy?dy[t]:dy[t]="on"+t}function D3(t,e){if(t.fa)t=!0;else{e=new qc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ky(t),t=n.call(r,e)}return t}function Fy(t){return t=t[Ny],t instanceof Fh?t:null}var hy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vy(t){return typeof t=="function"?t:(t[hy]||(t[hy]=function(e){return t.handleEvent(e)}),t[hy])}function St(){Ji.call(this),this.i=new Fh(this),this.S=this,this.J=null}At(St,Ji);St.prototype[Zc]=!0;St.prototype.removeEventListener=function(t,e,n,r){UD(this,t,e,n,r)};function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;e=new Jt(r,t),FD(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=bh(s,r,!0,e)&&i}if(s=e.g=t,i=bh(s,r,!0,e)&&i,i=bh(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=bh(s,r,!1,e)&&i}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&vy(t.i,s),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ly=ce.JSON.stringify,_y=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function S3(){var t=jy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var wy=class{constructor(){this.h=this.g=null}add(e,n){let r=$D.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},$D=new _y(()=>new Ey,t=>t.reset()),Ey=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function A3(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function x3(t){ce.setTimeout(()=>{throw t},0)}var Gc,Wc=!1,jy=new wy,HD=()=>{let t=ce.Promise.resolve(void 0);Gc=()=>{t.then(M3)}},M3=()=>{for(var t;t=S3();){try{t.h.call(t.g)}catch(n){x3(n)}var e=$D;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wc=!1};function Vh(t,e){St.call(this),this.h=t||1,this.g=e||ce,this.j=Xt(this.qb,this),this.l=Date.now()}At(Vh,St);j=Vh.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(Uy(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Vh.$.N.call(this),Uy(this),delete this.g};function By(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function zD(t){t.g=By(()=>{t.g=null,t.i&&(t.i=!1,zD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Iy=class extends Ji{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zD(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Kc(t){Ji.call(this),this.h=t,this.g={}}At(Kc,Ji);var ED=[];function qD(t,e,n,r){Array.isArray(n)||(n&&(ED[0]=n.toString()),n=ED);for(var i=0;i<n.length;i++){var o=VD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function GD(t){Ry(t.g,function(e,n){this.g.hasOwnProperty(n)&&ky(e)},t),t.g={}}Kc.prototype.N=function(){Kc.$.N.call(this),GD(this)};Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lh(){this.g=!0}Lh.prototype.Ea=function(){this.g=!1};function P3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function O3(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+N3(t,n)+(r?" "+r:"")})}function R3(t,e){t.info(function(){return"TIMEOUT: "+e})}Lh.prototype.info=function(){};function N3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Ly(n)}catch{return e}}var Xo={},ID=null;function jh(){return ID=ID||new St}Xo.Ta="serverreachability";function WD(t){Jt.call(this,Xo.Ta,t)}At(WD,Jt);function Qc(t){let e=jh();Ht(e,new WD(e))}Xo.STAT_EVENT="statevent";function KD(t,e){Jt.call(this,Xo.STAT_EVENT,t),this.stat=e}At(KD,Jt);function an(t){let e=jh();Ht(e,new KD(e,t))}Xo.Ua="timingevent";function QD(t,e){Jt.call(this,Xo.Ua,t),this.size=e}At(QD,Jt);function el(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $y(){}$y.prototype.h=null;function CD(t){return t.h||(t.h=t.i())}function XD(){}var tl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hy(){Jt.call(this,"d")}At(Hy,Jt);function zy(){Jt.call(this,"c")}At(zy,Jt);var Cy;function Bh(){}At(Bh,$y);Bh.prototype.g=function(){return new XMLHttpRequest};Bh.prototype.i=function(){return{}};Cy=new Bh;function nl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kc(this),this.P=k3,t=py?125:void 0,this.V=new Vh(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JD}function JD(){this.i=null,this.g="",this.h=!1}var k3=45e3,ZD={},by={};j=nl.prototype;j.setTimeout=function(t){this.P=t};function Ty(t,e,n){t.L=1,t.A=Hh(di(e)),t.u=n,t.S=!0,eS(t,null)}function eS(t,e){t.G=Date.now(),rl(t),t.B=di(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),cS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new JD,t.g=xS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Iy(Xt(t.Pa,t,t.g),t.O)),qD(t.U,t.g,"readystatechange",t.nb),e=t.I?kD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Qc(),P3(t.j,t.v,t.B,t.m,t.W,t.u)}j.nb=function(t){t=t.target;let e=this.M;e&&Ar(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{let u=Ar(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||py||this.g&&(this.h.h||this.g.ja()||SD(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Qc(3):Qc(2)),$h(this);var n=this.g.da();this.ca=n;t:if(tS(this)){var r=SD(this.g);t="";var i=r.length,o=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),Hc(this);var s="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,O3(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zc(a)){var l=a;break t}}l=null}if(n=l)ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dy(this,n);else{this.i=!1,this.s=3,an(12),Ko(this),Hc(this);break e}}this.S?(nS(this,u,s),py&&this.i&&u==3&&(qD(this.U,this.V,"tick",this.mb),this.V.start())):(ca(this.j,this.m,s,null),Dy(this,s)),u==4&&Ko(this),this.i&&!this.J&&(u==4?TS(this.l,this):(this.i=!1,rl(this)))}else nU(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Ko(this),Hc(this)}}}catch{}finally{}};function tS(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function nS(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=F3(t,n),i==by){e==4&&(t.s=4,an(14),r=!1),ca(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ZD){t.s=4,an(15),ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ca(t.j,t.m,i,null),Dy(t,i);tS(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yy(e),e.M=!0,an(11))):(ca(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),Hc(t))}j.mb=function(){if(this.g){var t=Ar(this.g),e=this.g.ja();this.o<e.length&&($h(this),nS(this,t,e),this.i&&t!=4&&rl(this))}};function F3(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?by:(n=Number(e.substring(n,r)),isNaN(n)?ZD:(r+=1,r+n>e.length?by:(e=e.slice(r,r+n),t.o=r+n,e)))}j.cancel=function(){this.J=!0,Ko(this)};function rl(t){t.Y=Date.now()+t.P,rS(t,t.P)}function rS(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=el(Xt(t.lb,t),e)}function $h(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}j.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(R3(this.j,this.B),this.L!=2&&(Qc(),an(17)),Ko(this),this.s=2,Hc(this)):rS(this,this.Y-t)};function Hc(t){t.l.H==0||t.J||TS(t.l,t)}function Ko(t){$h(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uy(t.V),GD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sy(n.i,t))){if(!t.K&&Sy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xh(n),Gh(n);else break e;Qy(n),an(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=el(Xt(n.ib,n),6e3));if(1>=dS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qo(n,11)}else if((t.K||n.g==t)&&xh(n),!zc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let v=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(qy(o,o.h),o.h=null))}if(r.F){let E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,qe(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=AS(r,r.J?r.pa:null,r.Y),s.K){hS(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&($h(a),rl(a)),r.g=s}else CS(r);0<n.j.length&&Wh(n)}else l[0]!="stop"&&l[0]!="close"||Qo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Qo(n,7):Ky(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Qc(4)}catch{}}function V3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function L3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function iS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=L3(t),r=V3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var oS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yo){this.h=t.h,Sh(this,t.j),this.s=t.s,this.g=t.g,Ah(this,t.m),this.l=t.l;var e=t.i,n=new Yc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bD(this,n),this.o=t.o}else t&&(e=String(t).match(oS))?(this.h=!1,Sh(this,e[1]||"",!0),this.s=Bc(e[2]||""),this.g=Bc(e[3]||"",!0),Ah(this,e[4]),this.l=Bc(e[5]||"",!0),bD(this,e[6]||"",!0),this.o=Bc(e[7]||"")):(this.h=!1,this.i=new Yc(null,this.h))}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push($c(e,TD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($c(e,TD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($c(n,n.charAt(0)=="/"?$3:B3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$c(n,z3)),t.join("")};function di(t){return new Yo(t)}function Sh(t,e,n){t.j=n?Bc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ah(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bD(t,e,n){e instanceof Yc?(t.i=e,q3(t.i,t.h)):(n||(e=$c(e,H3)),t.i=new Yc(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Hh(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $c(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,U3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function U3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TD=/[#\/\?@]/g,B3=/[#\?:]/g,$3=/[#\?]/g,H3=/[#\?@]/g,z3=/#/g;function Yc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zi(t){t.g||(t.g=new Map,t.h=0,t.i&&j3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Yc.prototype;j.add=function(t,e){Zi(this),this.i=null,t=da(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sS(t,e){Zi(t),e=da(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aS(t,e){return Zi(t),e=da(t,e),t.g.has(e)}j.forEach=function(t,e){Zi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){Zi(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};j.Z=function(t){Zi(this);let e=[];if(typeof t=="string")aS(this,t)&&(e=e.concat(this.g.get(da(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return Zi(this),this.i=null,t=da(this,t),aS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cS(t,e,n){sS(t,e),0<n.length&&(t.i=null,t.g.set(da(t,e),Py(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function da(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function q3(t,e){e&&!t.j&&(Zi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sS(this,r),cS(this,i,n))},t)),t.j=e}var G3=class{constructor(t,e){this.g=t,this.map=e}};function lS(t){this.l=t||W3,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var W3=10;function uS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dS(t){return t.h?1:t.g?t.g.size:0}function Sy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qy(t,e){t.g?t.g.add(e):t.h=e}function hS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lS.prototype.cancel=function(){if(this.i=fS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function fS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Py(t.i)}var K3=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function Q3(){this.g=new K3}function Y3(t,e,n){let r=n||"";try{iS(t,function(i,o){let s=i;Jc(i)&&(s=Ly(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X3(t,e){let n=new Lh;if(ce.Image){let r=new Image;r.onload=wh(Th,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wh(Th,n,r,"TestLoadImage: error",!1,e),r.onabort=wh(Th,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wh(Th,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Th(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function il(t){this.l=t.ec||null,this.j=t.ob||!1}At(il,$y);il.prototype.g=function(){return new zh(this.l,this.j)};il.prototype.i=function(t){return function(){return t}}({});function zh(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(zh,St);var Gy=0;j=zh.prototype;j.open=function(t,e){if(this.readyState!=Gy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xc(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=Gy};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ol(this):Xc(this),this.readyState==3&&pS(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,ol(this))};j.Ya=function(t){this.g&&(this.response=t,ol(this))};j.ka=function(){this.g&&ol(this)};function ol(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xc(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Xc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var J3=ce.JSON.parse;function tt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mS,this.L=this.M=!1}At(tt,St);var mS="",Z3=/^https?$/i,eU=["POST","PUT"];j=tt.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cy.g(),this.C=this.u?CD(this.u):CD(Cy),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){DD(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=PD(eU,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yS(this),0<this.B&&((this.L=tU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=By(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){DD(this,o)}};function tU(t){return ua&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof My<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function DD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gS(t),qh(t)}function gS(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),qh(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qh(this,!0)),tt.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?vS(this):this.kb())};j.kb=function(){vS(this)};function vS(t){if(t.h&&typeof My<"u"&&(!t.C[1]||Ar(t)!=4||t.da()!=2)){if(t.v&&Ar(t)==4)By(t.La,0,t);else if(Ht(t,"readystatechange"),Ar(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(oS)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!Z3.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var o=2<Ar(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",gS(t)}}finally{qh(t)}}}}function qh(t,e){if(t.g){yS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function yS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function Ar(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),J3(e)}};function SD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nU(t){let e={};t=(t.g&&2<=Ar(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(zc(t[r]))continue;var n=A3(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[i]||[];e[i]=o,o.push(n)}b3(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _S(t){let e="";return Ry(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_S(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wS(t){this.Ga=0,this.j=[],this.l=new Lh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jc("baseRetryDelayMs",5e3,t),this.hb=jc("retryDelaySeedMs",1e4,t),this.eb=jc("forwardChannelMaxRetries",2,t),this.xa=jc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lS(t&&t.concurrentRequestLimit),this.Ja=new Q3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=wS.prototype;j.ra=8;j.H=1;function Ky(t){if(ES(t),t.H==3){var e=t.W++,n=di(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),sl(t,n),e=new nl(t,t.l,e),e.L=2,e.A=Hh(di(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=xS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),rl(e)}SS(t)}function Gh(t){t.g&&(Yy(t),t.g.cancel(),t.g=null)}function ES(t){Gh(t),t.u&&(ce.clearTimeout(t.u),t.u=null),xh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Wh(t){if(!uS(t.i)&&!t.m){t.m=!0;var e=t.Na;Gc||HD(),Wc||(Gc(),Wc=!0),jy.add(e,t),t.C=0}}function rU(t,e){return dS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=el(Xt(t.Na,t,e),DS(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new nl(this,this.l,t),o=this.s;if(this.U&&(o?(o=kD(o),FD(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IS(this,i,e),n=di(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),sl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_S(o)))+"&"+e:this.o&&Wy(n,this.o,o)),qy(this.i,i),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),i.aa=!0,Ty(i,n,null)):Ty(i,n,e),this.H=2}}else this.H==3&&(t?AD(this,t):this.j.length==0||uS(this.i)||AD(this))};function AD(t,e){var n;e?n=e.m:n=t.W++;let r=di(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),sl(t,r),t.o&&t.s&&Wy(r,t.o,t.s),n=new nl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=IS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qy(t.i,n),Ty(n,r,e)}function sl(t,e){t.na&&Ry(t.na,function(n,r){qe(e,r,n)}),t.h&&iS({},function(n,r){qe(e,r,n)})}function IS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Y3(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function CS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gc||HD(),Wc||(Gc(),Wc=!0),jy.add(e,t),t.A=0}}function Qy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=el(Xt(t.Ma,t),DS(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,bS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=el(Xt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),Gh(this),bS(this))};function Yy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function bS(t){t.g=new nl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=di(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),sl(t,e),t.o&&t.s&&Wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Hh(di(e)),n.u=null,n.S=!0,eS(n,t)}j.ib=function(){this.v!=null&&(this.v=null,Gh(this),Qy(this),an(19))};function xh(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function TS(t,e){var n=null;if(t.g==e){xh(t),Yy(t),t.g=null;var r=2}else if(Sy(t.i,e))n=e.F,hS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=jh(),Ht(r,new QD(r,n)),Wh(t)}else CS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&rU(t,e)||r==2&&Qy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qo(t,5);break;case 4:Qo(t,10);break;case 3:Qo(t,6);break;default:Qo(t,2)}}}function DS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Sh(n,"https"),Hh(n)),X3(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),SS(t),ES(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function SS(t){if(t.H=0,t.ma=[],t.h){let e=fS(t.i);(e.length!=0||t.j.length!=0)&&(_D(t.ma,e),_D(t.ma,t.j),t.i.i.length=0,Py(t.j),t.j.length=0),t.h.ya()}}function AS(t,e,n){var r=n instanceof Yo?di(n):new Yo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ah(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Yo(null);r&&Sh(o,r),e&&(o.g=e),i&&Ah(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),sl(t,r),r}function xS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new tt(new il({ob:n})):new tt(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function MS(){}j=MS.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function Mh(){if(ua&&!(10<=Number(w3)))throw Error("Environmental error: no available transport.")}Mh.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){St.call(this),this.g=new wS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ha(this)}At(bn,St);bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AS(t,null,t.Y),Wh(t)};bn.prototype.close=function(){Ky(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ly(t),t=n);e.j.push(new G3(e.fb++,t)),e.H==3&&Wh(e)};bn.prototype.N=function(){this.g.h=null,delete this.j,Ky(this.g),delete this.g,bn.$.N.call(this)};function PS(t){Hy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(PS,Hy);function OS(){zy.call(this),this.status=1}At(OS,zy);function ha(t){this.g=t}At(ha,MS);ha.prototype.Ba=function(){Ht(this.g,"a")};ha.prototype.Aa=function(t){Ht(this.g,new PS(t))};ha.prototype.za=function(t){Ht(this.g,new OS)};ha.prototype.ya=function(){Ht(this.g,"b")};function iU(){this.blockSize=-1}function nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(nr,iU);nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function fy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}nr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)fy(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){fy(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){fy(this,r),i=0;break}}this.h=i,this.i+=e};nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var oU={};function Xy(t){return-128<=t&&128>t?v3(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function xr(t){if(isNaN(t)||!isFinite(t))return la;if(0>t)return $t(xr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ay;return new Ve(e,0)}function RS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return $t(RS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=xr(Math.pow(e,8)),r=la,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=xr(Math.pow(e,o)),r=r.R(o).add(xr(s))):(r=r.R(n),r=r.add(xr(s)))}return r}var Ay=4294967296,la=Xy(0),xy=Xy(1),xD=Xy(16777216);j=Ve.prototype;j.ea=function(){if(Vn(this))return-$t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ay+r)*e,e*=Ay}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ui(this))return"0";if(Vn(this))return"-"+$t(this).toString(t);for(var e=xr(Math.pow(t,6)),n=this,r="";;){var i=Oh(n,e).g;n=Ph(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ui(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}j.X=function(t){return t=Ph(this,t),Vn(t)?-1:ui(t)?0:1};function $t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(xy)}j.abs=function(){return Vn(this)?$t(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Ph(t,e){return t.add($t(e))}j.R=function(t){if(ui(this)||ui(t))return la;if(Vn(this))return Vn(t)?$t(this).R($t(t)):$t($t(this).R(t));if(Vn(t))return $t(this.R($t(t)));if(0>this.X(xD)&&0>t.X(xD))return xr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=s*c,Dh(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Dh(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dh(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function Dh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Uc(t,e){this.g=t,this.h=e}function Oh(t,e){if(ui(e))throw Error("division by zero");if(ui(t))return new Uc(la,la);if(Vn(t))return e=Oh($t(t),e),new Uc($t(e.g),$t(e.h));if(Vn(e))return e=Oh(t,$t(e)),new Uc($t(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xy,r=e;0>=r.X(t);)n=MD(n),r=MD(r);var i=aa(n,1),o=aa(r,1);for(r=aa(r,2),n=aa(n,2);!ui(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=aa(r,1),n=aa(n,1)}return e=Ph(t,i.R(e)),new Uc(i,e)}for(i=la;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=xr(n),s=o.R(e);Vn(s)||0<s.X(t);)n-=r,o=xr(n),s=o.R(e);ui(o)&&(o=xy),i=i.add(o),t=Ph(t,s)}return new Uc(i,t)}j.gb=function(t){return Oh(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function MD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function aa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ve(i,t.h)}Mh.prototype.createWebChannel=Mh.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;Uh.NO_ERROR=0;Uh.TIMEOUT=8;Uh.HTTP_ERROR=6;YD.COMPLETE="complete";XD.EventType=tl;tl.OPEN="a";tl.CLOSE="b";tl.ERROR="c";tl.MESSAGE="d";St.prototype.listen=St.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;nr.prototype.digest=nr.prototype.l;nr.prototype.reset=nr.prototype.reset;nr.prototype.update=nr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=xr;Ve.fromString=RS;var sU=rr.createWebChannelTransport=function(){return new Mh},aU=rr.getStatEventTarget=function(){return jh()},cU=rr.ErrorCode=Uh,lU=rr.EventType=YD,uU=rr.Event=Xo,dU=rr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jY=rr.FetchXmlHttpFactory=il,hU=rr.WebChannel=XD,fU=rr.XhrIo=tt,pU=rr.Md5=nr,NS=rr.Integer=Ve;var kS="@firebase/firestore";var xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");var al="10.8.1";var pa=new qi("@firebase/firestore");function Tn(t,...e){if(pa.logLevel<=Pe.DEBUG){let n=e.map(__);pa.debug(`Firestore (${al}): ${t}`,...n)}}function y_(t,...e){if(pa.logLevel<=Pe.ERROR){let n=e.map(__);pa.error(`Firestore (${al}): ${t}`,...n)}}function mU(t,...e){if(pa.logLevel<=Pe.WARN){let n=e.map(__);pa.warn(`Firestore (${al}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function mn(t="Unexpected state"){let e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw y_(e),new Error(e)}function Zy(t,e){t||mn()}var zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vt=class extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var to=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Kh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},e_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}},t_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},n_=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new to;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new to,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new to)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zy(typeof r.accessToken=="string"),new Kh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Zy(e===null||typeof e=="string"),new xt(e)}},r_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},i_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new r_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},o_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},s_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Tn("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Zy(typeof n.token=="string"),this.R=n.token,new o_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function gU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var a_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=gU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function jS(t,e){return t<e?-1:t>e?1:0}var c_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&mn(),r===void 0?r=e.length-n:r>e.length-n&&mn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},eo=class t extends c_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new vt(zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Jo=class t{constructor(e){this.path=e}static fromPath(e){return new t(eo.fromString(e))}static fromName(e){return new t(eo.fromString(e).popFirst(5))}static empty(){return new t(eo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&eo.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return eo.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new eo(e.slice()))}};var l_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};l_.UNKNOWN_ID=-1;function US(t){return t.name==="IndexedDbTransactionError"}function vU(t){return t===0&&1/t==-1/0}var yU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YY=[...yU,"documentOverlays"],_U=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wU=_U,XY=[...wU,"indexConfiguration","indexState","indexEntries"];var ma=class t{constructor(e,n){this.comparator=e,this.root=n||Pr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fa(this.root,e,this.comparator,!0)}},fa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();let e=this.left.check();if(e!==this.right.check())throw mn();return e+(this.isRed()?0:1)}};Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1;Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qh=class t{constructor(e){this.comparator=e,this.data=new ma(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yh(this.data.getIterator())}getIteratorFrom(e){return new Yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var u_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ga=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new u_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jS(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ga.EMPTY_BYTE_STRING=new ga("");var ZY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function FS(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function EU(t){return typeof t=="string"?ga.fromBase64String(t):ga.fromUint8Array(t)}var d_=class{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},h_=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function IU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var eX=new ma(Jo.comparator);var tX=new ma(Jo.comparator);var nX=new ma(Jo.comparator),rX=new Qh(Jo.comparator);var iX=new Qh(jS);var VS,be;(be=VS||(VS={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var oX=new NS([4294967295,4294967295],0);var Xh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(FS(e.integerValue));else if("doubleValue"in e){let r=FS(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),vU(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(EU(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?IU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):mn()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Jo.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Xh.bt=new Xh;var sX=new Uint8Array(0);var Mr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);function Jy(){return typeof document<"u"?document:null}var f_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Tn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var p_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CU(t,e){if(y_("AsyncQueue",`${e}: ${t}`),US(t))return new vt(zt.UNAVAILABLE,`${e}: ${t}`);throw t}var m_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=a_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>_(this,null,function*(){Tn("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(Tn("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=CU(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function BS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var LS=new Map;function bU(t,e,n,r){if(e===!0&&r===!0)throw new vt(zt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TU(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mn()}function DU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vt(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=TU(t);throw new vt(zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Jh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vt(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new vt(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vt(zt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zh=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new vt(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e_;switch(r.type){case"firstParty":return new i_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=LS.get(n);r&&(Tn("ComponentProvider","Removing Datastore"),LS.delete(n),r.terminate())}(this),Promise.resolve()}};function $S(t,e,n,r={}){var i;let o=(t=DU(t,Zh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&mU("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=xt.MOCK_USER;else{a=uT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new vt(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new xt(l)}t._authCredentials=new t_(new Kh(a,c))}}var g_=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new f_(this,"async_queue_retry"),this._u=()=>{let n=Jy();n&&Tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=Jy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=Jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new to;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return _(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!US(e))throw e;Tn("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw y_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=p_.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&mn()}verifyOperationInProgress(){}hu(){return _(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var v_=class extends Zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new g_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SU(this),this._firestoreClient.terminate()}};function HS(t,e){let n=typeof t=="object"?t:ta(),r=typeof t=="string"?t:e||"(default)",i=Mc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lT("firestore");o&&$S(i,...o)}return i}function SU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,c,l,u){return new d_(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,BS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new m_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var aX=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){al=i})(Ki),Wi(new Fn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new v_(new n_(r.getProvider("auth-internal")),new s_(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new vt(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h_(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gt(kS,"4.4.3",e),gt(kS,"4.4.3","esm2017")})();var cl=class{constructor(e){return e}},zS="firestore",w_=class{constructor(){return Pc(zS)}};var E_=new G("angularfire2.firestore-instances");function AU(t,e){let n=Jd(zS,t,e);return n&&new cl(n)}function xU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new cl(r)}}var MU={provide:w_,deps:[[new sn,E_]]},PU={provide:cl,useFactory:AU,deps:[[new sn,E_],ai]},OU=(()=>{class t{constructor(){gt("angularfire",Ho.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=rn({type:t});static \u0275inj=on({providers:[PU,MU]})}return t})();function qS(t,...e){return{ngModule:OU,providers:[{provide:E_,useFactory:xU(t),multi:!0,deps:[Ie,Xe,ia,zo,[new sn,Lc],[new sn,ra],...e]}]}}var GS=oa(HS,!0);var b_=class extends Bd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},T_=class t extends b_{static makeCurrent(){$b(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RU();return n==null?null:NU(n)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hd(document.cookie,e)}},ll=null;function RU(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}function NU(t){return new URL(t,document.baseURI).pathname}var kU=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),D_=new G(""),QS=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(D_),L(Ie))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ef=class{constructor(e){this._doc=e}},I_="ng-app-id",YS=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_c(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${I_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(I_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(I_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(hg),L(mg,8),L(On))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),C_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},A_=/%COMP%/g,XS="%COMP%",FU=`_nghost-${XS}`,VU=`_ngcontent-${XS}`,LU=!0,jU=new G("",{providedIn:"root",factory:()=>LU});function UU(t){return VU.replace(A_,t)}function BU(t){return FU.replace(A_,t)}function JS(t,e){return e.map(n=>n.replace(A_,t))}var tf=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=_c(c),this.defaultRenderer=new ul(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gr.ShadowDom&&(i=Ae(R({},i),{encapsulation:gr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof nf?o.applyToHost(r):o instanceof dl&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gr.Emulated:s=new nf(l,u,i,this.appId,d,a,c,h);break;case gr.ShadowDom:return new S_(l,u,r,i,a,c,this.nonce,h);default:s=new dl(l,u,i,d,a,c,h);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(QS),L(YS),L(hg),L(jU),L(Bt),L(On),L(Ie),L(mg))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ul=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(C_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=C_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=C_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kr.DashCase|Kr.Important)?e.style.setProperty(n,r,i&Kr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ii().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function WS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var S_=class extends ul{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=JS(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dl=class extends ul{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?JS(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nf=class extends dl{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=UU(l),this.hostAttr=BU(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},$U=(()=>{let e=class e extends ef{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),KS=["alt","control","meta","shift"],HU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qU=(()=>{let e=class e extends ef{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ii().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),KS.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=HU[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),KS.forEach(a=>{if(a!==o){let c=zU[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function ZS(t,e){return kb(R({rootComponent:t},GU(e)))}function GU(t){return{appProviders:[...XU,...t?.providers??[]],platformProviders:YU}}function WU(){T_.makeCurrent()}function KU(){return new wr}function QU(){return FI(document),document}var YU=[{provide:On,useValue:Gb},{provide:fg,useValue:WU,multi:!0},{provide:Bt,useFactory:QU,deps:[]}];var XU=[{provide:Dd,useValue:"root"},{provide:wr,useFactory:KU,deps:[]},{provide:D_,useClass:$U,multi:!0,deps:[Bt,Ie,On]},{provide:D_,useClass:qU,multi:!0,deps:[Bt]},tf,YS,QS,{provide:Mo,useExisting:tf},{provide:ea,useClass:kU,deps:[]},[]];var eA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var x_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=L(JU),o},providedIn:"root"});let t=e;return t})(),JU=(()=>{let e=class e extends x_{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Ir.NONE:return i;case Ir.HTML:return Vi(i,"HTML")?Rn(i):TC(this._doc,String(i)).toString();case Ir.STYLE:return Vi(i,"Style")?Rn(i):i;case Ir.SCRIPT:if(Vi(i,"Script"))return Rn(i);throw new P(5200,!1);case Ir.URL:return Vi(i,"URL")?Rn(i):Md(String(i));case Ir.RESOURCE_URL:if(Vi(i,"ResourceURL"))return Rn(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(r){return gC(r)}bypassSecurityTrustStyle(r){return vC(r)}bypassSecurityTrustScript(r){return yC(r)}bypassSecurityTrustUrl(r){return _C(r)}bypassSecurityTrustResourceUrl(r){return wC(r)}};e.\u0275fac=function(i){return new(i||e)(L(Bt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(he||{}),Or="*";function Rr(t,e){return{type:he.Trigger,name:t,definitions:e,options:{}}}function Zt(t,e=null){return{type:he.Animate,styles:e,timings:t}}function nA(t,e=null){return{type:he.Sequence,steps:t,options:e}}function we(t){return{type:he.Style,styles:t,offset:null}}function rA(t,e,n){return{type:he.State,name:t,styles:e,options:n}}function Mt(t,e,n=null){return{type:he.Transition,expr:t,animation:e,options:n}}var no=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},hl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},rf="!";function iA(t){return new P(3e3,!1)}function ZU(){return new P(3100,!1)}function eB(){return new P(3101,!1)}function tB(t){return new P(3001,!1)}function nB(t){return new P(3003,!1)}function rB(t){return new P(3004,!1)}function iB(t,e){return new P(3005,!1)}function oB(){return new P(3006,!1)}function sB(){return new P(3007,!1)}function aB(t,e){return new P(3008,!1)}function cB(t){return new P(3002,!1)}function lB(t,e,n,r,i){return new P(3010,!1)}function uB(){return new P(3011,!1)}function dB(){return new P(3012,!1)}function hB(){return new P(3200,!1)}function fB(){return new P(3202,!1)}function pB(){return new P(3013,!1)}function mB(t){return new P(3014,!1)}function gB(t){return new P(3015,!1)}function vB(t){return new P(3016,!1)}function yB(t,e){return new P(3404,!1)}function _B(t){return new P(3502,!1)}function wB(t){return new P(3503,!1)}function EB(){return new P(3300,!1)}function IB(t){return new P(3504,!1)}function CB(t){return new P(3301,!1)}function bB(t,e){return new P(3302,!1)}function TB(t){return new P(3303,!1)}function DB(t,e){return new P(3400,!1)}function SB(t){return new P(3401,!1)}function AB(t){return new P(3402,!1)}function xB(t,e){return new P(3505,!1)}function ro(t){switch(t.length){case 0:return new no;case 1:return t[0];default:return new hl(t)}}function yA(t,e,n=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let v=f,E=h;if(f!=="offset")switch(v=t.normalizePropertyName(v,i),E){case rf:E=n.get(f);break;case Or:E=r.get(f);break;default:E=t.normalizeStyleValue(f,v,E,i);break}d.set(v,E)}),u||o.push(d),a=d,s=l}),i.length)throw _B(i);return o}function J_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&M_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&M_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&M_(n,"destroy",t)));break}}function M_(t,e,n){let r=n.totalTime,i=!!n.disabled,o=Z_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),s=t._data;return s!=null&&(o._data=s),o}function Z_(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Sn(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function oA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var MB=typeof document>"u"?null:document.documentElement;function ew(t){let e=t.parentNode||t.host||null;return e===MB?null:e}function PB(t){return t.substring(1,6)=="ebkit"}var Zo=null,sA=!1;function OB(t){Zo||(Zo=RB()||{},sA=Zo.style?"WebkitAppearance"in Zo.style:!1);let e=!0;return Zo.style&&!PB(t)&&(e=t in Zo.style,!e&&sA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Zo.style)),e}function RB(){return typeof document<"u"?document.body:null}function _A(t,e){for(;e;){if(e===t)return!0;e=ew(e)}return!1}function wA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var tw=(()=>{let e=class e{validateStyleProperty(r){return OB(r)}matchesElement(r,i){return!1}containsElement(r,i){return _A(r,i)}getParentElement(r){return ew(r)}query(r,i,o){return wA(r,i,o)}computeStyle(r,i,o){return o||""}animate(r,i,o,s,a,c=[],l){return new no(o,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),ow=class ow{};ow.NOOP=new tw;var ns=ow,rs=class{};var NB=1e3,EA="{{",kB="}}",IA="ng-enter",F_="ng-leave",of="ng-trigger",uf=".ng-trigger",aA="ng-animating",V_=".ng-animating";function hi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:L_(parseFloat(e[1]),e[2])}function L_(t,e){switch(e){case"s":return t*NB;default:return t}}function df(t,e,n){return t.hasOwnProperty("duration")?t:FB(t,e,n)}function FB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(iA(t)),{duration:0,delay:0,easing:""};i=L_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=L_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push(ZU()),a=!0),o<0&&(e.push(eB()),a=!0),a&&e.splice(c,0,iA(t))}return{duration:i,delay:o,easing:s}}function VB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Nr(t,e,n){e.forEach((r,i)=>{let o=nw(i);n&&!n.has(i)&&n.set(i,t.style[o]),t.style[o]=r})}function ts(t,e){e.forEach((n,r)=>{let i=nw(r);t.style[i]=""})}function fl(t){return Array.isArray(t)?t.length==1?t[0]:nA(t):t}function LB(t,e,n){let r=e.params||{},i=CA(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||n.push(tB(o))})}var j_=new RegExp(`${EA}\\s*(.+?)\\s*${kB}`,"g");function CA(t){let e=[];if(typeof t=="string"){let n;for(;n=j_.exec(t);)e.push(n[1]);j_.lastIndex=0}return e}function ml(t,e,n){let r=`${t}`,i=r.replace(j_,(o,s)=>{let a=e[s];return a==null&&(n.push(nB(s)),a=""),a.toString()});return i==r?t:i}var jB=/-+([a-z0-9])/g;function nw(t){return t.replace(jB,(...e)=>e[1].toUpperCase())}function UB(t,e){return t===0||e===0}function BB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,rw(t,a)))}}return e}function Dn(t,e,n){switch(e.type){case he.Trigger:return t.visitTrigger(e,n);case he.State:return t.visitState(e,n);case he.Transition:return t.visitTransition(e,n);case he.Sequence:return t.visitSequence(e,n);case he.Group:return t.visitGroup(e,n);case he.Animate:return t.visitAnimate(e,n);case he.Keyframes:return t.visitKeyframes(e,n);case he.Style:return t.visitStyle(e,n);case he.Reference:return t.visitReference(e,n);case he.AnimateChild:return t.visitAnimateChild(e,n);case he.AnimateRef:return t.visitAnimateRef(e,n);case he.Query:return t.visitQuery(e,n);case he.Stagger:return t.visitStagger(e,n);default:throw rB(e.type)}}function rw(t,e){return window.getComputedStyle(t)[e]}var $B=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),hf=class extends rs{normalizePropertyName(e,n){return nw(e)}normalizeStyleValue(e,n,r,i){let o="",s=r.toString().trim();if($B.has(n)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(iB(e,r))}return s+o}};var ff="*";function HB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>zB(r,n,e)):n.push(t),n}function zB(t,e,n){if(t[0]==":"){let c=qB(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(gB(t)),e;let i=r[1],o=r[2],s=r[3];e.push(cA(i,s));let a=i==ff&&s==ff;o[0]=="<"&&!a&&e.push(cA(s,i))}function qB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(vB(t)),"* => *"}}var sf=new Set(["true","1"]),af=new Set(["false","0"]);function cA(t,e){let n=sf.has(t)||af.has(t),r=sf.has(e)||af.has(e);return(i,o)=>{let s=t==ff||t==i,a=e==ff||e==o;return!s&&n&&typeof i=="boolean"&&(s=i?sf.has(t):af.has(t)),!a&&r&&typeof o=="boolean"&&(a=o?sf.has(e):af.has(e)),s&&a}}var bA=":self",GB=new RegExp(`s*${bA}s*,?`,"g");function TA(t,e,n,r){return new U_(t).build(e,n,r)}var lA="",U_=class{constructor(e){this._driver=e}build(e,n,r){let i=new B_(n);return this._resetContextStyleTimingState(i),Dn(this,fl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lA,e.collectedStyles=new Map,e.collectedStyles.set(lA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(oB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==he.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==he.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,s.push(c)}else n.errors.push(sB())}),{type:he.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{CA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(aB(e.name,[...o.values()]))}return{type:he.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Dn(this,fl(e.animation),n),i=HB(e.expr,n.errors);return{type:he.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:es(e.options)}}visitSequence(e,n){return{type:he.Sequence,steps:e.steps.map(r=>Dn(this,r,n)),options:es(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,o=e.steps.map(s=>{n.currentTime=r;let a=Dn(this,s,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:he.Group,steps:o,options:es(e.options)}}visitAnimate(e,n){let r=YB(e.timings,n.errors);n.currentAnimateTimings=r;let i,o=e.styles?e.styles:we({});if(o.type==he.Keyframes)i=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=we(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:he.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Or?r.push(a):n.errors.push(cB(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(EA)>=0){o=!0;break}}}),{type:he.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,o=n.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(n.errors.push(lB(c,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),n.options&&LB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:he.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(uB()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(D=>{let $=this._makeStyleAst(D,n),z=$.offset!=null?$.offset:QB($.styles),p=0;return z!=null&&(o++,p=$.offset=z),c=c||p<0||p>1,a=a||p<l,l=p,s.push(p),$});c&&n.errors.push(dB()),a&&n.errors.push(hB());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(fB()):o==0&&(h=i/(d-1));let f=d-1,v=n.currentTime,E=n.currentAnimateTimings,T=E.duration;return u.forEach((D,$)=>{let z=h>0?$==f?1:h*$:s[$],p=z*T;n.currentTime=v+E.delay+p,E.duration=p,this._validateStyleAst(D,n),D.offset=z,r.styles.push(D)}),r}visitReference(e,n){return{type:he.Reference,animation:Dn(this,fl(e.animation),n),options:es(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:he.AnimateChild,options:es(e.options)}}visitAnimateRef(e,n){return{type:he.AnimateRef,animation:this.visitReference(e.animation,n),options:es(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=WB(e.selector);n.currentQuerySelector=r.length?r+" "+o:o,Sn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Dn(this,fl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:he.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:es(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(pB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:df(e.timings,n.errors,!0);return{type:he.Stagger,animation:Dn(this,fl(e.animation),n),timings:r,options:null}}};function WB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==bA);return e&&(t=t.replace(GB,"")),t=t.replace(/@\*/g,uf).replace(/@\w+/g,n=>uf+"-"+n.slice(1)).replace(/:animating/g,V_),[t,e]}function KB(t){return t?R({},t):null}var B_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function QB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function YB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=df(t,e).duration;return P_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=P_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let i=df(n,e);return P_(i.duration,i.delay,i.easing)}function es(t){return t?(t=R({},t),t.params&&(t.params=KB(t.params))):t={},t}function P_(t,e,n){return{duration:t,delay:e,easing:n}}function iw(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var gl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},XB=1,JB=":enter",ZB=new RegExp(JB,"g"),e$=":leave",t$=new RegExp(e$,"g");function DA(t,e,n,r,i,o=new Map,s=new Map,a,c,l=[]){return new $_().buildKeyframes(t,e,n,r,i,o,s,a,c,l)}var $_=class{buildKeyframes(e,n,r,i,o,s,a,c,l,u=[]){l=l||new gl;let d=new H_(e,n,l,i,o,u,[]);d.options=c;let h=c.delay?hi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Dn(this,r,d);let f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let E=f.length-1;E>=0;E--){let T=f[E];if(T.element===n){v=T;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,c)}return f.length?f.map(v=>v.buildKeyframes()):[iw(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:hi(ml(o,i?.params??{},n.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,n,r){let o=n.currentTimeline.currentTime,s=r.duration!=null?hi(r.duration):null,a=r.delay!=null?hi(r.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Dn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,o=e.options;if(o&&(o.params||o.delay)&&(i=n.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==he.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pf);let s=hi(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,o=e.options&&e.options.delay?hi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?ml(r,n.params,n.errors):r;return df(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==he.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(r.duration),this.visitStyle(o,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,o=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+o),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},o=i.delay?hi(i.delay):0;o&&(n.previousNode.type===he.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=pf);let s=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),Dn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Dn(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},pf={},H_=class t{constructor(e,n,r,i,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new mf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=hi(r.duration)),r.delay!=null&&(i.delay=hi(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=ml(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=pf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new z_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(ZB,"."+this._enterClassName),e=e.replace(t$,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(mB(n)),a}},mf=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=XB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Or),this._currentKeyframe.set(n,Or);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let o=i&&i.params||{},s=n$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=ml(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Or),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===rf?e.add(d):u===Or&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return iw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},z_=class extends mf{constructor(e,n,r,i,o,s,a=!1){super(e,n,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=r+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",uA(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),v=n+f*r;h.set("offset",uA(v/s)),o.push(h)}r=s,n=0,i="",e=o}return iw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function uA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function n$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)n.set(o,Or)}else for(let[o,s]of i)n.set(o,s)}),n}function dA(t,e,n,r,i,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var O_={},gf=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return r$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||O_,f=a&&a.params||O_,v=this.buildStyles(r,f,d),E=c&&c.params||O_,T=this.buildStyles(i,E,d),D=new Set,$=new Map,z=new Map,p=i==="void",X={params:SA(E,h),delay:this.ast.options?.delay},M=u?[]:DA(e,n,this.ast.animation,o,s,v,T,X,l,d),W=0;return M.forEach(ue=>{W=Math.max(ue.duration+ue.delay,W)}),d.length?dA(n,this._triggerName,r,i,p,v,T,[],[],$,z,W,d):(M.forEach(ue=>{let Ee=ue.element,Te=Sn($,Ee,new Set);ue.preStyleProps.forEach(Oe=>Te.add(Oe));let Qe=Sn(z,Ee,new Set);ue.postStyleProps.forEach(Oe=>Qe.add(Oe)),Ee!==n&&D.add(Ee)}),dA(n,this._triggerName,r,i,p,v,T,M,[...D.values()],$,z,W))}};function r$(t,e,n,r,i){return t.some(o=>o(e,n,r,i))}function SA(t,e){let n=R({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var q_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=SA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ml(s,i,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),r.set(a,s)})}),r}};function i$(t,e,n){return new G_(t,e,n)}var G_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new q_(i.style,o,r))}),hA(this.states,"true","1"),hA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new gf(e,i,this.states))}),this.fallbackTransition=o$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(s=>s.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function o$(t,e,n){let r=[(s,a)=>!0],i={type:he.Sequence,steps:[],options:null},o={type:he.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new gf(t,o,e)}function hA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var s$=new gl,W_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],o=TA(this._driver,n,r,i);if(r.length)throw wB(r);i.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,r){let i=e.element,o=yA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=DA(this._driver,n,o,IA,F_,new Map,new Map,r,s$,i),s.forEach(u=>{let d=Sn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(EB()),s=[]),i.length)throw IB(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Or))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=ro(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw CB(e);return n}listen(e,n,r,i){let o=Z_(n,"","","");return J_(this._getPlayer(e),r,o,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},fA="ng-animate-queued",a$=".ng-animate-queued",R_="ng-animate-disabled",c$=".ng-animate-disabled",l$="ng-star-inserted",u$=".ng-star-inserted",d$=[],AA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},h$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ir="__ng_removed",vl=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=p$(i),r){let o=e,{value:s}=o,a=up(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},pl="void",N_=new vl(pl),K_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ln(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw bB(r,n);if(r==null||r.length==0)throw TB(n);if(!m$(r))throw DB(r,n);let o=Sn(this._elementListeners,e,[]),s={name:n,phase:r,callback:i};o.push(s);let a=Sn(this._engine.statesByElement,e,new Map);return a.has(n)||(Ln(e,of),Ln(e,of+"-"+n),a.set(n,N_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw SB(e);return n}trigger(e,n,r,i=!0){let o=this._getTrigger(n),s=new yl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ln(e,of),Ln(e,of+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new vl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=N_),!(l.value===pl)&&c.value===l.value){if(!y$(c.params,l.params)){let E=[],T=o.matchStyles(c.value,c.params,E),D=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{ts(e,T),Nr(e,D)})}return}let h=Sn(this._engine.playersByElement,e,[]);h.forEach(E=>{E.namespaceId==this.id&&E.triggerName==n&&E.queued&&E.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),v=!1;if(!f){if(!i)return;f=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:v}),v||(Ln(e,fA),s.onStart(()=>{va(e,fA)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);let T=this._engine.playersByElement.get(e);if(T){let D=T.indexOf(s);D>=0&&T.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,uf,!0);r.forEach(i=>{if(i[ir])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,pl,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),r&&ro(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||N_,u=new vl(pl),d=new yl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let o=e[ir];(!o||o===AA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ln(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=Z_(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,J_(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Q_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new K_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&n.add(o)}}return n}trigger(e,n,r,i){if(cf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!cf(n))return;let o=n[ir];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ln(e,R_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),va(e,R_))}removeNode(e,n,r){if(cf(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,o){this.collectedLeaveElements.push(n),n[ir]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,r,i,o){return cf(n)?this._fetchNamespace(e).listen(n,r,i,o):()=>{}}_buildInstruction(e,n,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,uf,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,V_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ro(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[ir];if(n&&n.setForRemoval){if(e[ir]=AA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(R_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,c$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ln(i,l$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ro(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw AB(e)}_flushAnimations(e,n){let r=new gl,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);let U=this.driver.query(F,a$,!0);for(let H=0;H<U.length;H++)u.add(U[H])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=gA(h,this.collectedEnterElements),v=new Map,E=0;f.forEach((F,U)=>{let H=IA+E++;v.set(U,H),F.forEach(le=>Ln(le,H))});let T=[],D=new Set,$=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){let U=this.collectedLeaveElements[F],H=U[ir];H&&H.setForRemoval&&(T.push(U),D.add(U),H.hasAnimation?this.driver.query(U,u$,!0).forEach(le=>D.add(le)):$.add(U))}let z=new Map,p=gA(h,Array.from(D));p.forEach((F,U)=>{let H=F_+E++;z.set(U,H),F.forEach(le=>Ln(le,H))}),e.push(()=>{f.forEach((F,U)=>{let H=v.get(U);F.forEach(le=>va(le,H))}),p.forEach((F,U)=>{let H=z.get(U);F.forEach(le=>va(le,H))}),T.forEach(F=>{this.processLeaveNode(F)})});let X=[],M=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(H=>{let le=H.player,ke=H.element;if(X.push(le),this.collectedEnterElements.length){let Ke=ke[ir];if(Ke&&Ke.setForMove){if(Ke.previousTriggersValues&&Ke.previousTriggersValues.has(H.triggerName)){let kt=Ke.previousTriggersValues.get(H.triggerName),ft=this.statesByElement.get(H.element);if(ft&&ft.has(H.triggerName)){let yn=ft.get(H.triggerName);yn.value=kt,ft.set(H.triggerName,yn)}}le.destroy();return}}let wt=!d||!this.driver.containsElement(d,ke),Ge=z.get(ke),Qt=v.get(ke),De=this._buildInstruction(H,r,Qt,Ge,wt);if(De.errors&&De.errors.length){M.push(De);return}if(wt){le.onStart(()=>ts(ke,De.fromStyles)),le.onDestroy(()=>Nr(ke,De.toStyles)),i.push(le);return}if(H.isFallbackTransition){le.onStart(()=>ts(ke,De.fromStyles)),le.onDestroy(()=>Nr(ke,De.toStyles)),i.push(le);return}let un=[];De.timelines.forEach(Ke=>{Ke.stretchStartingKeyframe=!0,this.disabledNodes.has(Ke.element)||un.push(Ke)}),De.timelines=un,r.append(ke,De.timelines);let zn={instruction:De,player:le,element:ke};s.push(zn),De.queriedElements.forEach(Ke=>Sn(a,Ke,[]).push(le)),De.preStyleProps.forEach((Ke,kt)=>{if(Ke.size){let ft=c.get(kt);ft||c.set(kt,ft=new Set),Ke.forEach((yn,dr)=>ft.add(dr))}}),De.postStyleProps.forEach((Ke,kt)=>{let ft=l.get(kt);ft||l.set(kt,ft=new Set),Ke.forEach((yn,dr)=>ft.add(dr))})});if(M.length){let F=[];M.forEach(U=>{F.push(xB(U.triggerName,U.errors))}),X.forEach(U=>U.destroy()),this.reportError(F)}let W=new Map,ue=new Map;s.forEach(F=>{let U=F.element;r.has(U)&&(ue.set(U,U),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,W))}),i.forEach(F=>{let U=F.element;this._getPreviousPlayers(U,!1,F.namespaceId,F.triggerName,null).forEach(le=>{Sn(W,U,[]).push(le),le.destroy()})});let Ee=T.filter(F=>vA(F,c,l)),Te=new Map;mA(Te,this.driver,$,l,Or).forEach(F=>{vA(F,c,l)&&Ee.push(F)});let Oe=new Map;f.forEach((F,U)=>{mA(Oe,this.driver,new Set(F),c,rf)}),Ee.forEach(F=>{let U=Te.get(F),H=Oe.get(F);Te.set(F,new Map([...U?.entries()??[],...H?.entries()??[]]))});let Le=[],Wt=[],Kt={};s.forEach(F=>{let{element:U,player:H,instruction:le}=F;if(r.has(U)){if(u.has(U)){H.onDestroy(()=>Nr(U,le.toStyles)),H.disabled=!0,H.overrideTotalTime(le.totalTime),i.push(H);return}let ke=Kt;if(ue.size>1){let Ge=U,Qt=[];for(;Ge=Ge.parentNode;){let De=ue.get(Ge);if(De){ke=De;break}Qt.push(Ge)}Qt.forEach(De=>ue.set(De,ke))}let wt=this._buildAnimation(H.namespaceId,le,W,o,Oe,Te);if(H.setRealPlayer(wt),ke===Kt)Le.push(H);else{let Ge=this.playersByElement.get(ke);Ge&&Ge.length&&(H.parentPlayer=ro(Ge)),i.push(H)}}else ts(U,le.fromStyles),H.onDestroy(()=>Nr(U,le.toStyles)),Wt.push(H),u.has(U)&&i.push(H)}),Wt.forEach(F=>{let U=o.get(F.element);if(U&&U.length){let H=ro(U);F.setRealPlayer(H)}}),i.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<T.length;F++){let U=T[F],H=U[ir];if(va(U,F_),H&&H.hasAnimation)continue;let le=[];if(a.size){let wt=a.get(U);wt&&wt.length&&le.push(...wt);let Ge=this.driver.query(U,V_,!0);for(let Qt=0;Qt<Ge.length;Qt++){let De=a.get(Ge[Qt]);De&&De.length&&le.push(...De)}}let ke=le.filter(wt=>!wt.destroyed);ke.length?g$(this,U,ke):this.processLeaveNode(U)}return T.length=0,Le.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let U=this.players.indexOf(F);this.players.splice(U,1)}),F.play()}),Le}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==pl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,n,r){let i=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==o,d=Sn(r,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}ts(o,n.fromStyles)}_buildAnimation(e,n,r,i,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(v=>{let E=v.element;u.add(E);let T=E[ir];if(T&&T.removedBeforeQueried)return new no(v.duration,v.delay);let D=E!==c,$=v$((r.get(E)||d$).map(W=>W.getRealPlayer())).filter(W=>{let ue=W;return ue.element?ue.element===E:!1}),z=o.get(E),p=s.get(E),X=yA(this._normalizer,v.keyframes,z,p),M=this._buildPlayer(v,X,$);if(v.subTimeline&&i&&d.add(E),D){let W=new yl(e,a,E);W.setRealPlayer(M),l.push(W)}return M});l.forEach(v=>{Sn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>f$(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Ln(v,aA));let f=ro(h);return f.onDestroy(()=>{u.forEach(v=>va(v,aA)),Nr(c,n.toStyles)}),d.forEach(v=>{Sn(i,v,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new no(e.duration,e.delay)}},yl=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new no,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>J_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Sn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function f$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function p$(t){return t??null}function cf(t){return t&&t.nodeType===1}function m$(t){return t=="start"||t=="done"}function pA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function mA(t,e,n,r,i){let o=[];n.forEach(c=>o.push(pA(c)));let s=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[ir]=h$,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>pA(c,o[a++])),s}function gA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&n.get(c).push(a)}),n}function Ln(t,e){t.classList?.add(e)}function va(t,e){t.classList?.remove(e)}function g$(t,e,n){ro(n).onDone(()=>t.processLeaveNode(e))}function v$(t){let e=[];return xA(t,e),e}function xA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof hl?xA(r.players,e):e.push(r)}}function y$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function vA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(o=>i.add(o)):e.set(t,r),n.delete(t),!0}var _a=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Q_(e.body,n,r,i),this._timelineEngine=new W_(e.body,n,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,n,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],u=TA(this._driver,o,c,l);if(c.length)throw yB(i,c);l.length&&void 0,a=i$(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[o,s]=oA(r),a=i;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,o){if(r.charAt(0)=="@"){let[s,a]=oA(r);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function _$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=k_(e[0]),e.length>1&&(r=k_(e[e.length-1]))):e instanceof Map&&(n=k_(e)),n||r?new Y_(t,n,r):null}var ya=class ya{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=ya.initialStylesByElement.get(e);i||ya.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nr(this._element,this._initialStyles),this._endStyles&&(Nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ya.initialStylesByElement.delete(this._element),this._startStyles&&(ts(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ts(this._element,this._endStyles),this._endStyles=null),Nr(this._element,this._initialStyles),this._state=3)}};ya.initialStylesByElement=new WeakMap;var Y_=ya;function k_(t){let e=null;return t.forEach((n,r)=>{w$(r)&&(e=e||new Map,e.set(r,n))}),e}function w$(t){return t==="display"||t==="position"}var vf=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:rw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},yf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return _A(e,n)}getParentElement(e){return ew(e)}query(e,n,r){return wA(e,n,r)}computeStyle(e,n,r){return rw(e,n)}animate(e,n,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof vf);UB(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((v,E)=>l.set(E,v))});let d=VB(n).map(f=>new Map(f));d=BB(e,d,l);let h=_$(e,d);return new vf(e,d,c,h)}};var lf="@",MA="@.disabled",_f=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==lf&&n==MA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},X_=class extends _f{constructor(e,n,r,i,o){super(n,r,i,o),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==lf?n.charAt(1)=="."&&n==MA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==lf){let i=E$(e),o=n.slice(1),s="";return o.charAt(0)!=lf&&([o,s]=I$(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function E$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function I$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var wf=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new _f(r,i,this.engine,d),l.set(i,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new X_(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var b$=(()=>{let e=class e extends _a{constructor(r,i,o){super(r,i,o,O(ac,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(L(Bt),L(ns),L(rs))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function T$(){return new hf}function D$(t,e,n){return new wf(t,e,n)}var PA=[{provide:rs,useFactory:T$},{provide:_a,useClass:b$},{provide:Mo,useFactory:D$,deps:[tf,_a,Ie]}],S$=[{provide:ns,useFactory:()=>new yf},{provide:pg,useValue:"BrowserAnimations"},...PA],cZ=[{provide:ns,useClass:tw},{provide:pg,useValue:"NoopAnimations"},...PA];function OA(){return No("NgEagerAnimations"),[...S$]}var fe="primary",Rl=Symbol("RouteTitle"),uw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ba(t){return new uw(t)}function x$(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function M$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}function kr(t,e){let n=t?dw(t):void 0,r=e?dw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!LA(t[i],e[i]))return!1;return!0}function dw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function LA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jA(t){return t.length>0?t[t.length-1]:null}function ao(t){return Mp(t)?t:Fo(t)?je(Promise.resolve(t)):ae(t)}var P$={exact:BA,subset:$A},UA={exact:O$,subset:R$,ignored:()=>!0};function RA(t,e,n){return P$[n.paths](t.root,e.root,n.matrixParams)&&UA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function O$(t,e){return kr(t,e)}function BA(t,e,n){if(!os(t.segments,e.segments)||!Cf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!BA(t.children[r],e.children[r],n))return!1;return!0}function R$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>LA(t[n],e[n]))}function $A(t,e,n){return HA(t,e,e.segments,n)}function HA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!os(i,n)||e.hasChildren()||!Cf(i,n,r))}else if(t.segments.length===n.length){if(!os(t.segments,n)||!Cf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$A(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!os(t.segments,i)||!Cf(t.segments,i,r)||!t.children[fe]?!1:HA(t.children[fe],e,o,r)}}function Cf(t,e,n){return e.every((r,i)=>UA[n](t[i].parameters,r.parameters))}var io=class{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){return F$.serialize(this)}},Ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bf(this)}},is=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ba(this.parameters),this._parameterMap}toString(){return qA(this)}};function N$(t,e){return os(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}function os(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function k$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===fe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==fe&&(n=n.concat(e(i,r)))}),n}var Vw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new Df,providedIn:"root"});let t=e;return t})(),Df=class{parse(e){let n=new fw(e);return new io(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_l(e.root,!0)}`,r=j$(e.queryParams),i=typeof e.fragment=="string"?`#${V$(e.fragment)}`:"";return`${n}${r}${i}`}},F$=new Df;function bf(t){return t.segments.map(e=>qA(e)).join("/")}function _l(t,e){if(!t.hasChildren())return bf(t);if(e){let n=t.children[fe]?_l(t.children[fe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==fe&&r.push(`${i}:${_l(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=k$(t,(r,i)=>i===fe?[_l(t.children[fe],!1)]:[`${i}:${_l(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[fe]!=null?`${bf(t)}/${n[0]}`:`${bf(t)}/(${n.join("//")})`}}function zA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(t){return zA(t).replace(/%3B/gi,";")}function V$(t){return encodeURI(t)}function hw(t){return zA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tf(t){return decodeURIComponent(t)}function NA(t){return Tf(t.replace(/\+/g,"%20"))}function qA(t){return`${hw(t.path)}${L$(t.parameters)}`}function L$(t){return Object.entries(t).map(([e,n])=>`;${hw(e)}=${hw(n)}`).join("")}function j$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ef(n)}=${Ef(i)}`).join("&"):`${Ef(n)}=${Ef(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var U$=/^[^\/()?;#]+/;function sw(t){let e=t.match(U$);return e?e[0]:""}var B$=/^[^\/()?;=#]+/;function $$(t){let e=t.match(B$);return e?e[0]:""}var H$=/^[^=?&#]+/;function z$(t){let e=t.match(H$);return e?e[0]:""}var q$=/^[^&#]+/;function G$(t){let e=t.match(q$);return e?e[0]:""}var fw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Ne(e,n)),r}parseSegment(){let e=sw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new is(Tf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sw(this.remaining);i&&(r=i,this.capture(r))}e[Tf(n)]=Tf(r)}parseQueryParam(e){let n=z$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=G$(this.remaining);s&&(r=s,this.capture(r))}let i=NA(n),o=NA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[fe]:new Ne([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function GA(t){return t.segments.length>0?new Ne([],{[fe]:t}):t}function WA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=WA(i);if(r===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ne(t.segments,e);return W$(n)}function W$(t){if(t.numberOfChildren===1&&t.children[fe]){let e=t.children[fe];return new Ne(t.segments.concat(e.segments),e.children)}return t}function Ta(t){return t instanceof io}function K$(t,e,n=null,r=null){let i=KA(t);return QA(i,e,n,r)}function KA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ne(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=GA(r);return e??i}function QA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return aw(i,i,i,n,r);let o=Q$(e);if(o.toRoot())return aw(i,i,new Ne([],{}),n,r);let s=Y$(o,i,t),a=s.processChildren?Il(s.segmentGroup,s.index,o.commands):XA(s.segmentGroup,s.index,o.commands);return aw(i,s.segmentGroup,a,n,r)}function Sf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Tl(t){return typeof t=="object"&&t!=null&&t.outlets}function aw(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=YA(t,e,n);let a=GA(WA(s));return new io(a,o,i)}function YA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=YA(o,e,n)}),new Ne(t.segments,r)}var Af=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Sf(r[0]))throw new P(4003,!1);let i=r.find(Tl);if(i&&i!==jA(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Q$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Af(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Af(n,e,r)}var Ia=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Y$(t,e,n){if(t.isAbsolute)return new Ia(e,!0,0);if(!n)return new Ia(e,!1,NaN);if(n.parent===null)return new Ia(n,!0,0);let r=Sf(t.commands[0])?0:1,i=n.segments.length-1+r;return X$(n,i,t.numberOfDoubleDots)}function X$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ia(r,!1,i-o)}function J$(t){return Tl(t[0])?t[0].outlets:{[fe]:t}}function XA(t,e,n){if(t??=new Ne([],{}),t.segments.length===0&&t.hasChildren())return Il(t,e,n);let r=Z$(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ne(t.segments.slice(0,r.pathIndex),{});return o.children[fe]=new Ne(t.segments.slice(r.pathIndex),t.children),Il(o,0,i)}else return r.match&&i.length===0?new Ne(t.segments,{}):r.match&&!t.hasChildren()?pw(t,e,n):r.match?Il(t,0,i):pw(t,e,n)}function Il(t,e,n){if(n.length===0)return new Ne(t.segments,{});{let r=J$(n),i={};if(Object.keys(r).some(o=>o!==fe)&&t.children[fe]&&t.numberOfChildren===1&&t.children[fe].segments.length===0){let o=Il(t.children[fe],e,n);return new Ne(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(t.segments,i)}}function Z$(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Tl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!FA(c,l,s))return o;r+=2}else{if(!FA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Tl(o)){let c=eH(o.outlets);return new Ne(r,c)}if(i===0&&Sf(n[0])){let c=t.segments[e];r.push(new is(c.path,kA(n[0]))),i++;continue}let s=Tl(o)?o.outlets[fe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Sf(a)?(r.push(new is(s,kA(a))),i+=2):(r.push(new is(s,{})),i++)}return new Ne(r,{})}function eH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pw(new Ne([],{}),0,r))}),e}function kA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FA(t,e,n){return t==n.path&&kr(e,n.parameters)}var Cl="imperative",qt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qt||{}),Un=class{constructor(e,n){this.id=e,this.url=n}},Dl=class extends Un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ss=class extends Un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jn||{}),mw=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mw||{}),oo=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},as=class extends Un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qt.NavigationSkipped}},Sl=class extends Un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xf=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gw=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends Un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yw=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_w=class extends Un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ww=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ew=class{constructor(e){this.route=e,this.type=qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iw=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cw=class{constructor(e){this.snapshot=e,this.type=qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tw=class{constructor(e){this.snapshot=e,this.type=qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Al=class{},xl=class{constructor(e){this.url=e}};var Dw=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kf,this.attachRef=null}},kf=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Dw,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Aw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Aw(e,this._root).map(n=>n.value)}};function Sw(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sw(t,n);if(r)return r}return null}function Aw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Aw(t,n);if(r.length)return r.unshift(e),r}return[]}var An=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ea(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pf=class extends Mf{constructor(e,n){super(e),this.snapshot=n,jw(this,e)}toString(){return this.snapshot.toString()}};function JA(t){let e=tH(t),n=new Vt([new is("",{})]),r=new Vt({}),i=new Vt({}),o=new Vt({}),s=new Vt(""),a=new so(n,r,o,s,i,fe,t,e.root);return a.snapshot=e.root,new Pf(new An(a,[]),e)}function tH(t){let e={},n={},r={},i="",o=new Ml([],e,r,i,n,fe,t,null,{});return new Of("",new An(o,[]))}var so=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[Rl]))??ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lw(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),t.params),data:R(R({},e.data),t.data),resolve:R(R(R(R({},t.data),e.data),i?.data),t._resolvedData)}:r={params:R({},t.params),data:R({},t.data),resolve:R(R({},t.data),t._resolvedData??{})},i&&ex(i)&&(r.resolve[Rl]=i.title),r}var Ml=class{get title(){return this.data?.[Rl]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Of=class extends Mf{constructor(e,n){super(n),this.url=e,jw(this,n)}toString(){return ZA(this._root)}};function jw(t,e){e.value._routerState=t,e.children.forEach(n=>jw(t,n))}function ZA(t){let e=t.children.length>0?` { ${t.children.map(ZA).join(", ")} } `:"";return`${t.value}${e}`}function cw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kr(e.params,n.params)||t.paramsSubject.next(n.params),M$(e.url,n.url)||t.urlSubject.next(n.url),kr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xw(t,e){let n=kr(t.params,e.params)&&N$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xw(t.parent,e.parent))}function ex(t){return typeof t.title=="string"||t.title===null}var Uw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(kf),this.location=O(jt),this.changeDetector=O(ji),this.environmentInjector=O(Ct),this.inputBinder=O(Bw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Mw(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jr]});let t=e;return t})(),Mw=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===so?this.route:e===kf?this.childContexts:this.parent.get(e,n)}},Bw=new G("");function nH(t,e,n){let r=Pl(t,e._root,n?n._root:void 0);return new Pf(r,e)}function Pl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=rH(t,e,n);return new An(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pl(t,a)),s}}let r=iH(e.value),i=e.children.map(o=>Pl(t,o));return new An(r,i)}}function rH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pl(t,r,i);return Pl(t,r)})}function iH(t){return new so(new Vt(t.url),new Vt(t.params),new Vt(t.queryParams),new Vt(t.fragment),new Vt(t.data),t.outlet,t.component,t)}var tx="ngNavigationCancelingError";function nx(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ta(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rx(!1,jn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[tx]=!0,n.cancellationCode=e,n}function oH(t){return ix(t)&&Ta(t.url)}function ix(t){return!!t&&t[tx]}var sH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(i,o){i&1&&J(0,"router-outlet")},dependencies:[Uw],encapsulation:2});let t=e;return t})();function aH(t,e){return t.providers&&!t._injector&&(t._injector=kg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $w(t){let e=t.children&&t.children.map($w),n=e?Ae(R({},t),{children:e}):R({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=sH),n}function Fr(t){return t.outlet||fe}function cH(t,e){let n=t.filter(r=>Fr(r)===e);return n.push(...t.filter(r=>Fr(r)!==e)),n}function Nl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lH=(t,e,n,r)=>ie(i=>(new Pw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Pw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ea(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ea(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ea(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ea(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Cw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(cw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Nl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Rf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ca=class{constructor(e,n){this.component=e,this.route=n}};function uH(t,e,n){let r=t._root,i=e?e._root:null;return wl(r,i,n,[r.value])}function dH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Sa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!VI(t)?t:e.get(t):r}function wl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ea(e);return t.children.forEach(s=>{hH(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bl(a,n.getContext(s),i)),i}function hH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=fH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Rf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wl(t,e,a?a.children:null,r,i):wl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ca(a.outlet.component,s))}else s&&bl(e,a,i),i.canActivateChecks.push(new Rf(r)),o.component?wl(t,null,a?a.children:null,r,i):wl(t,null,n,r,i);return i}function fH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xw(t,e)||!kr(t.queryParams,e.queryParams);case"paramsChange":default:return!xw(t,e)}}function bl(t,e,n){let r=Ea(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?bl(s,e.children.getContext(o),n):bl(s,null,n):bl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ca(e.outlet.component,i)):n.canDeactivateChecks.push(new Ca(null,i)):n.canDeactivateChecks.push(new Ca(null,i))}function kl(t){return typeof t=="function"}function pH(t){return typeof t=="boolean"}function mH(t){return t&&kl(t.canLoad)}function gH(t){return t&&kl(t.canActivate)}function vH(t){return t&&kl(t.canActivateChild)}function yH(t){return t&&kl(t.canDeactivate)}function _H(t){return t&&kl(t.canMatch)}function ox(t){return t instanceof wn||t?.name==="EmptyError"}var If=Symbol("INITIAL_VALUE");function Da(){return It(t=>Fu(t.map(e=>e.pipe($r(1),Fp(If)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===If)return If;if(n===!1||n instanceof io)return n}return!0}),Yt(e=>e!==If),$r(1)))}function wH(t,e){return at(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ae(Ae(R({},n),{guardsResult:!0})):EH(s,r,i,t).pipe(at(a=>a&&pH(a)?IH(r,o,t,e):ae(a)),ie(a=>Ae(R({},n),{guardsResult:a})))})}function EH(t,e,n,r){return je(t).pipe(at(i=>SH(i.component,i.route,n,e,r)),fr(i=>i!==!0,!0))}function IH(t,e,n,r){return je(e).pipe(Di(i=>Ns(bH(i.route.parent,r),CH(i.route,r),DH(t,i.path,n),TH(t,i.route,n))),fr(i=>i!==!0,!0))}function CH(t,e){return t!==null&&e&&e(new bw(t)),ae(!0)}function bH(t,e){return t!==null&&e&&e(new Iw(t)),ae(!0)}function TH(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>Vu(()=>{let s=Nl(e)??n,a=Sa(o,s),c=gH(a)?a.canActivate(e,t):Xr(s,()=>a(e,t));return ao(c).pipe(fr())}));return ae(i).pipe(Da())}function DH(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>dH(s)).filter(s=>s!==null).map(s=>Vu(()=>{let a=s.guards.map(c=>{let l=Nl(s.node)??n,u=Sa(c,l),d=vH(u)?u.canActivateChild(r,t):Xr(l,()=>u(r,t));return ao(d).pipe(fr())});return ae(a).pipe(Da())}));return ae(o).pipe(Da())}function SH(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let c=Nl(e)??i,l=Sa(a,c),u=yH(l)?l.canDeactivate(t,e,n,r):Xr(c,()=>l(t,e,n,r));return ao(u).pipe(fr())});return ae(s).pipe(Da())}function AH(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Sa(s,t),c=mH(a)?a.canLoad(e,n):Xr(t,()=>a(e,n));return ao(c)});return ae(o).pipe(Da(),sx(r))}function sx(t){return Ep(ct(e=>{if(Ta(e))throw nx(t,e)}),ie(e=>e===!0))}function xH(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Sa(s,t),c=_H(a)?a.canMatch(e,n):Xr(t,()=>a(e,n));return ao(c)});return ae(o).pipe(Da(),sx(r))}var Ol=class{constructor(e){this.segmentGroup=e||null}},Nf=class extends Error{constructor(e){super(),this.urlTree=e}};function wa(t){return Ti(new Ol(t))}function MH(t){return Ti(new P(4e3,!1))}function PH(t){return Ti(rx(!1,jn.GuardRejected))}var Ow=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[fe])return MH(e.redirectTo);i=i.children[fe]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Nf(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new io(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OH(t,e,n,r,i){let o=Hw(t,e,n);return o.matched?(r=aH(e,r),xH(r,e,n,i).pipe(ie(s=>s===!0?o:R({},Rw)))):ae(o)}function Hw(t,e,n){if(e.path==="**")return RH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?R({},Rw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||x$)(n,t,e);if(!i)return R({},Rw);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function RH(t){return{matched:!0,parameters:t.length>0?jA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function VA(t,e,n,r){return n.length>0&&FH(t,n,r)?{segmentGroup:new Ne(e,kH(r,new Ne(n,t.children))),slicedSegments:[]}:n.length===0&&VH(t,n,r)?{segmentGroup:new Ne(t.segments,NH(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function NH(t,e,n,r){let i={};for(let o of n)if(Ff(t,e,o)&&!r[Fr(o)]){let s=new Ne([],{});i[Fr(o)]=s}return R(R({},r),i)}function kH(t,e){let n={};n[fe]=e;for(let r of t)if(r.path===""&&Fr(r)!==fe){let i=new Ne([],{});n[Fr(r)]=i}return n}function FH(t,e,n){return n.some(r=>Ff(t,e,r)&&Fr(r)!==fe)}function VH(t,e,n){return n.some(r=>Ff(t,e,r))}function Ff(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function LH(t,e,n,r){return Fr(t)!==r&&(r===fe||!Ff(e,n,t))?!1:Hw(e,t,n).matched}function jH(t,e,n){return e.length===0&&!t.children[n]}var Nw=class{};function UH(t,e,n,r,i,o,s="emptyOnly"){return new kw(t,e,n,r,i,s,o).recognize()}var BH=31,kw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ow(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=VA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new Ml([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),i=new An(r,n),o=new Of("",i),s=K$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(Gn(r=>{if(r instanceof Nf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ol?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Lw(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(o=>o instanceof An?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return je(i).pipe(Di(o=>{let s=r.children[o],a=cH(n,o);return this.processSegmentGroup(e,a,s,o)}),kp((o,s)=>(o.push(...s),o)),Si(null),Np(),at(o=>{if(o===null)return wa(r);let s=ax(o);return $H(s),ae(s)}))}processSegment(e,n,r,i,o,s){return je(n).pipe(Di(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Gn(c=>{if(c instanceof Ol)return ae(null);throw c}))),fr(a=>!!a),Gn(a=>{if(ox(a))return jH(r,i,o)?ae(new Nw):wa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return LH(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):wa(i):wa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Hw(n,i,o);if(!a)return wa(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BH&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(at(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=OH(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(It(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(It(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Ml(u,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,zH(r),Fr(r),r.component??r._loadedComponent??null,r,qH(r)),{segmentGroup:v,slicedSegments:E}=VA(n,u,d,c);if(E.length===0&&v.hasChildren())return this.processChildren(l,c,v).pipe(ie(D=>D===null?null:new An(f,D)));if(c.length===0&&E.length===0)return ae(new An(f,[]));let T=Fr(r)===o;return this.processSegment(l,c,v,E,T?fe:o,!0).pipe(ie(D=>new An(f,D instanceof An?[D]:[])))}))):wa(n)))}getChildConfig(e,n,r){return n.children?ae({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):AH(e,n,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):PH(n))):ae({routes:[],injector:e})}};function $H(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}function HH(t){let e=t.value.routeConfig;return e&&e.path===""}function ax(t){let e=[],n=new Set;for(let r of t){if(!HH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ax(r.children);e.push(new An(r.value,i))}return e.filter(r=>!n.has(r))}function zH(t){return t.data||{}}function qH(t){return t.resolve||{}}function GH(t,e,n,r,i,o){return at(s=>UH(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Ae(R({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function WH(t,e){return at(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ae(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of cx(c))s.add(l);let a=0;return je(s).pipe(Di(c=>o.has(c)?KH(c,r,t,e):(c.data=Lw(c,c.parent,t).resolve,ae(void 0))),ct(()=>a++),Fs(1),at(c=>a===s.size?ae(n):dn))})}function cx(t){let e=t.children.map(n=>cx(n)).flat();return[t,...e]}function KH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ex(i)&&(o[Rl]=i.title),QH(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=Lw(t,t.parent,n).resolve,null)))}function QH(t,e,n,r){let i=dw(t);if(i.length===0)return ae({});let o={};return je(i).pipe(at(s=>YH(t[s],e,n,r).pipe(fr(),ct(a=>{o[s]=a}))),Fs(1),Rp(o),Gn(s=>ox(s)?dn:Ti(s)))}function YH(t,e,n,r){let i=Nl(e)??r,o=Sa(t,i),s=o.resolve?o.resolve(e,n):Xr(i,()=>o(e,n));return ao(s)}function lw(t){return It(e=>{let n=t(e);return n?je(n).pipe(ie(()=>e)):ae(e)})}var lx=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===fe);return i}getResolvedTitleForRoute(r){return r.data[Rl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(XH),providedIn:"root"});let t=e;return t})(),XH=(()=>{let e=class e extends lx{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(eA))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vf=new G("",{providedIn:"root",factory:()=>({})}),zw=new G(""),JH=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Bg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ao(r.loadComponent()).pipe(ie(ux),ct(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Eo(()=>{this.componentLoaders.delete(r)})),o=new Ss(i,()=>new Ft).pipe(Ds());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ZH(i,this.compiler,r,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(i)})),a=new Ss(s,()=>new Ft).pipe(Ds());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZH(t,e,n,r){return ao(t.loadChildren()).pipe(ie(ux),at(i=>i instanceof cc||Array.isArray(i)?ae(i):je(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(zw,[],{optional:!0,self:!0}).flat()),{routes:s.map($w),injector:o}}))}function ez(t){return t&&typeof t=="object"&&"default"in t}function ux(t){return ez(t)?t.default:t}var qw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(tz),providedIn:"root"});let t=e;return t})(),tz=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nz=new G("");var rz=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ft,this.transitionAbortSubject=new Ft,this.configLoader=O(JH),this.environmentInjector=O(Ct),this.urlSerializer=O(Vw),this.rootContexts=O(kf),this.location=O(yc),this.inputBindingEnabled=O(Bw,{optional:!0})!==null,this.titleStrategy=O(lx),this.options=O(Vf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(qw),this.createViewTransition=O(nz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=o=>this.events.next(new ww(o)),i=o=>this.events.next(new Ew(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ae(R(R({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Vt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yt(s=>s.id!==0),ie(s=>Ae(R({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),It(s=>{this.currentTransition=s;let a=!1,c=!1;return ae(s).pipe(ct(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),It(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new as(l.id,this.urlSerializer.serialize(l.rawUrl),h,mw.IgnoredSameUrlNavigation)),l.resolve(null),dn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(It(h=>{let f=this.transitions?.getValue();return this.events.next(new Dl(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?dn:Promise.resolve(h)}),GH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ae(R({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new xf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:v,restoredState:E,extras:T}=l,D=new Dl(h,this.urlSerializer.serialize(f),v,E);this.events.next(D);let $=JA(this.rootComponentType).snapshot;return this.currentTransition=s=Ae(R({},l),{targetSnapshot:$,urlAfterRedirects:f,extras:Ae(R({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ae(s)}else{let h="";return this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),h,mw.IgnoredByUrlHandlingStrategy)),l.resolve(null),dn}}),ct(l=>{let u=new gw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=s=Ae(R({},l),{guards:uH(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),wH(this.environmentInjector,l=>this.events.next(l)),ct(l=>{if(s.guardsResult=l.guardsResult,Ta(l.guardsResult))throw nx(this.urlSerializer,l.guardsResult);let u=new vw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Yt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jn.GuardRejected),!1)),lw(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(ct(u=>{let d=new yw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),It(u=>{let d=!1;return ae(u).pipe(WH(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",jn.NoDataFromResolver)}}))}),ct(u=>{let d=new _w(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),lw(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ct(f=>{d.component=f}),ie(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Fu(u(l.targetSnapshot.root)).pipe(Si(null),$r(1))}),lw(()=>this.afterPreactivation()),It(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?je(d).pipe(ie(()=>s)):ae(s)}),ie(l=>{let u=nH(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ae(R({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ct(()=>{this.events.next(new Al)}),lH(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$r(1),ct({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ss(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wn(this.transitionAbortSubject.pipe(ct(l=>{throw l}))),Eo(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",jn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(l=>{if(c=!0,ix(l))this.events.next(new oo(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),oH(l)?this.events.next(new xl(l.url)):s.resolve(!1);else{this.events.next(new Sl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return dn}))}))}cancelNavigationTransition(r,i,o){let s=new oo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iz(t){return t!==Cl}var oz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(sz),providedIn:"root"});let t=e;return t})(),Fw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},sz=(()=>{let e=class e extends Fw{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>O(az),providedIn:"root"});let t=e;return t})(),az=(()=>{let e=class e extends dx{constructor(){super(...arguments),this.location=O(yc),this.urlSerializer=O(Vw),this.options=O(Vf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(qw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new io,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Dl)this.stateMemento=this.createStateMemento();else if(r instanceof as)this.rawUrlTree=i.initialUrl;else if(r instanceof xf){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof Al?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof oo&&(r.code===jn.GuardRejected||r.code===jn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Sl?this.restoreHistory(i,!0):r instanceof ss&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=R(R({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=R(R({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),El=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(El||{});function cz(t,e){t.events.pipe(Yt(n=>n instanceof ss||n instanceof oo||n instanceof Sl||n instanceof as),ie(n=>n instanceof ss||n instanceof as?El.COMPLETE:(n instanceof oo?n.code===jn.Redirect||n.code===jn.SupersededByNewNavigation:!1)?El.REDIRECTING:El.FAILED),Yt(n=>n!==El.REDIRECTING),$r(1)).subscribe(()=>{e()})}function lz(t){throw t}var uz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Ld),this.stateManager=O(dx),this.options=O(Vf,{optional:!0})||{},this.pendingTasks=O(ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(rz),this.urlSerializer=O(Vw),this.location=O(yc),this.urlHandlingStrategy=O(qw),this._events=new Ft,this.errorHandler=this.options.errorHandler||lz,this.navigated=!1,this.routeReuseStrategy=O(oz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(zw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Bw,{optional:!0}),this.eventsSubscription=new st,this.isNgZoneEnabled=O(Ie)instanceof Ie&&Ie.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof oo&&i.code!==jn.Redirect&&i.code!==jn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ss)this.navigated=!0;else if(i instanceof xl){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||iz(o.source)};this.scheduleNavigation(a,Cl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}fz(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=R({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map($w),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=R(R({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=KA(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return QA(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ta(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Cl,null,i)}navigate(r,i={skipLocationChange:!1}){return hz(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=R({},uz):i===!1?o=R({},dz):o=i,Ta(r))return RA(this.currentUrlTree,r,o);let s=this.parseUrl(r);return RA(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return cz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function fz(t){return!(t instanceof Al)&&!(t instanceof xl)}var pz=new G("");function hx(t,...e){return Fi([{provide:zw,multi:!0,useValue:t},[],{provide:so,useFactory:mz,deps:[gn]},{provide:jd,multi:!0,useFactory:vz},e.map(n=>n.\u0275providers)])}function mz(t){return t.routerState.root}function gz(t,e){return{\u0275kind:t,\u0275providers:e}}function vz(){let t=O(Xe);return e=>{let n=t.get(br);if(e!==n.components[0])return;let r=t.get(gn),i=t.get(yz);t.get(_z)===1&&r.initialNavigation(),t.get(wz,null,ve.Optional)?.setUpPreloading(),t.get(pz,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yz=new G("",{factory:()=>new Ft}),_z=new G("",{providedIn:"root",factory:()=>1});var wz=new G("");function fx(t){return gz(5,[{provide:Vf,useValue:t}])}var nt="top",yt="bottom",ht="right",dt="left",Lf="auto",co=[nt,yt,ht,dt],fi="start",cs="end",px="clippingParents",jf="viewport",Aa="popper",mx="reference",Ww=co.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+cs])},[]),Uf=[].concat(co,[Lf]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+cs])},[]),Ez="beforeRead",Iz="read",Cz="afterRead",bz="beforeMain",Tz="main",Dz="afterMain",Sz="beforeWrite",Az="write",xz="afterWrite",gx=[Ez,Iz,Cz,bz,Tz,Dz,Sz,Az,xz];function Pt(t){return t?(t.nodeName||"").toLowerCase():null}function We(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Bn(t){var e=We(t).Element;return t instanceof e||t instanceof Element}function _t(t){var e=We(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function xa(t){if(typeof ShadowRoot>"u")return!1;var e=We(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Mz(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!_t(o)||!Pt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Pz(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(c,l){return c[l]="",c},{});!_t(i)||!Pt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var Fl={name:"applyStyles",enabled:!0,phase:"write",fn:Mz,effect:Pz,requires:["computeStyles"]};function Ot(t){return t.split("-")[0]}var or=Math.max,ls=Math.min,pi=Math.round;function Ma(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vl(){return!/^((?!chrome|android).)*safari/i.test(Ma())}function $n(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&_t(t)&&(i=t.offsetWidth>0&&pi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&pi(r.height)/t.offsetHeight||1);var s=Bn(t)?We(t):window,a=s.visualViewport,c=!Vl()&&n,l=(r.left+(c&&a?a.offsetLeft:0))/i,u=(r.top+(c&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l,x:l,y:u}}function us(t){var e=$n(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ll(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&xa(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function cn(t){return We(t).getComputedStyle(t)}function Kw(t){return["table","td","th"].indexOf(Pt(t))>=0}function Gt(t){return((Bn(t)?t.ownerDocument:t.document)||window.document).documentElement}function mi(t){return Pt(t)==="html"?t:t.assignedSlot||t.parentNode||(xa(t)?t.host:null)||Gt(t)}function vx(t){return!_t(t)||cn(t).position==="fixed"?null:t.offsetParent}function Oz(t){var e=/firefox/i.test(Ma()),n=/Trident/i.test(Ma());if(n&&_t(t)){var r=cn(t);if(r.position==="fixed")return null}var i=mi(t);for(xa(i)&&(i=i.host);_t(i)&&["html","body"].indexOf(Pt(i))<0;){var o=cn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function sr(t){for(var e=We(t),n=vx(t);n&&Kw(n)&&cn(n).position==="static";)n=vx(n);return n&&(Pt(n)==="html"||Pt(n)==="body"&&cn(n).position==="static")?e:n||Oz(t)||e}function ds(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hs(t,e,n){return or(t,ls(e,n))}function yx(t,e,n){var r=hs(t,e,n);return r>n?n:r}function jl(){return{top:0,right:0,bottom:0,left:0}}function Ul(t){return Object.assign({},jl(),t)}function Bl(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Rz=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ul(typeof e!="number"?e:Bl(e,co))};function Nz(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ot(n.placement),c=ds(a),l=[dt,ht].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!s)){var d=Rz(i.padding,n),h=us(o),f=c==="y"?nt:dt,v=c==="y"?yt:ht,E=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],T=s[c]-n.rects.reference[c],D=sr(o),$=D?c==="y"?D.clientHeight||0:D.clientWidth||0:0,z=E/2-T/2,p=d[f],X=$-h[u]-d[v],M=$/2-h[u]/2+z,W=hs(p,M,X),ue=c;n.modifiersData[r]=(e={},e[ue]=W,e.centerOffset=W-M,e)}}function kz(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ll(e.elements.popper,i)&&(e.elements.arrow=i))}var _x={name:"arrow",enabled:!0,phase:"main",fn:Nz,effect:kz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hn(t){return t.split("-")[1]}var Fz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vz(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:pi(n*i)/i||0,y:pi(r*i)/i||0}}function wx(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=h===void 0?0:h,v=s.y,E=v===void 0?0:v,T=typeof u=="function"?u({x:f,y:E}):{x:f,y:E};f=T.x,E=T.y;var D=s.hasOwnProperty("x"),$=s.hasOwnProperty("y"),z=dt,p=nt,X=window;if(l){var M=sr(n),W="clientHeight",ue="clientWidth";if(M===We(n)&&(M=Gt(n),cn(M).position!=="static"&&a==="absolute"&&(W="scrollHeight",ue="scrollWidth")),M=M,i===nt||(i===dt||i===ht)&&o===cs){p=yt;var Ee=d&&M===X&&X.visualViewport?X.visualViewport.height:M[W];E-=Ee-r.height,E*=c?1:-1}if(i===dt||(i===nt||i===yt)&&o===cs){z=ht;var Te=d&&M===X&&X.visualViewport?X.visualViewport.width:M[ue];f-=Te-r.width,f*=c?1:-1}}var Qe=Object.assign({position:a},l&&Fz),Oe=u===!0?Vz({x:f,y:E},We(n)):{x:f,y:E};if(f=Oe.x,E=Oe.y,c){var Le;return Object.assign({},Qe,(Le={},Le[p]=$?"0":"",Le[z]=D?"0":"",Le.transform=(X.devicePixelRatio||1)<=1?"translate("+f+"px, "+E+"px)":"translate3d("+f+"px, "+E+"px, 0)",Le))}return Object.assign({},Qe,(e={},e[p]=$?E+"px":"",e[z]=D?f+"px":"",e.transform="",e))}function Lz(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Ot(e.placement),variation:Hn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wx(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wx(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Ex={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lz,data:{}};var Bf={passive:!0};function jz(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,c=We(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",n.update,Bf)}),a&&c.addEventListener("resize",n.update,Bf),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",n.update,Bf)}),a&&c.removeEventListener("resize",n.update,Bf)}}var Ix={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jz,data:{}};var Uz={left:"right",right:"left",bottom:"top",top:"bottom"};function Pa(t){return t.replace(/left|right|bottom|top/g,function(e){return Uz[e]})}var Bz={start:"end",end:"start"};function $f(t){return t.replace(/start|end/g,function(e){return Bz[e]})}function fs(t){var e=We(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ps(t){return $n(Gt(t)).left+fs(t).scrollLeft}function Qw(t,e){var n=We(t),r=Gt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;var l=Vl();(l||!l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a+ps(t),y:c}}function Yw(t){var e,n=Gt(t),r=fs(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=or(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=or(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ps(t),c=-r.scrollTop;return cn(i||n).direction==="rtl"&&(a+=or(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ms(t){var e=cn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Hf(t){return["html","body","#document"].indexOf(Pt(t))>=0?t.ownerDocument.body:_t(t)&&ms(t)?t:Hf(mi(t))}function lo(t,e){var n;e===void 0&&(e=[]);var r=Hf(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=We(r),s=i?[o].concat(o.visualViewport||[],ms(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(lo(mi(s)))}function Oa(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $z(t,e){var n=$n(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Cx(t,e,n){return e===jf?Oa(Qw(t,n)):Bn(e)?$z(e,n):Oa(Yw(Gt(t)))}function Hz(t){var e=lo(mi(t)),n=["absolute","fixed"].indexOf(cn(t).position)>=0,r=n&&_t(t)?sr(t):t;return Bn(r)?e.filter(function(i){return Bn(i)&&Ll(i,r)&&Pt(i)!=="body"}):[]}function Xw(t,e,n,r){var i=e==="clippingParents"?Hz(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(c,l){var u=Cx(t,l,r);return c.top=or(u.top,c.top),c.right=ls(u.right,c.right),c.bottom=ls(u.bottom,c.bottom),c.left=or(u.left,c.left),c},Cx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $l(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ot(r):null,o=r?Hn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case nt:c={x:s,y:e.y-n.height};break;case yt:c={x:s,y:e.y+e.height};break;case ht:c={x:e.x+e.width,y:a};break;case dt:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?ds(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case fi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case cs:c[l]=c[l]+(e[u]/2-n[u]/2);break;default:}}return c}function ar(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,c=a===void 0?px:a,l=n.rootBoundary,u=l===void 0?jf:l,d=n.elementContext,h=d===void 0?Aa:d,f=n.altBoundary,v=f===void 0?!1:f,E=n.padding,T=E===void 0?0:E,D=Ul(typeof T!="number"?T:Bl(T,co)),$=h===Aa?mx:Aa,z=t.rects.popper,p=t.elements[v?$:h],X=Xw(Bn(p)?p:p.contextElement||Gt(t.elements.popper),c,u,s),M=$n(t.elements.reference),W=$l({reference:M,element:z,strategy:"absolute",placement:i}),ue=Oa(Object.assign({},z,W)),Ee=h===Aa?ue:M,Te={top:X.top-Ee.top+D.top,bottom:Ee.bottom-X.bottom+D.bottom,left:X.left-Ee.left+D.left,right:Ee.right-X.right+D.right},Qe=t.modifiersData.offset;if(h===Aa&&Qe){var Oe=Qe[i];Object.keys(Te).forEach(function(Le){var Wt=[ht,yt].indexOf(Le)>=0?1:-1,Kt=[nt,yt].indexOf(Le)>=0?"y":"x";Te[Le]+=Oe[Kt]*Wt})}return Te}function Jw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Uf:c,u=Hn(r),d=u?a?Ww:Ww.filter(function(v){return Hn(v)===u}):co,h=d.filter(function(v){return l.indexOf(v)>=0});h.length===0&&(h=d);var f=h.reduce(function(v,E){return v[E]=ar(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[Ot(E)],v},{});return Object.keys(f).sort(function(v,E){return f[v]-f[E]})}function zz(t){if(Ot(t)===Lf)return[];var e=Pa(t);return[$f(t),e,$f(e)]}function qz(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,v=f===void 0?!0:f,E=n.allowedAutoPlacements,T=e.options.placement,D=Ot(T),$=D===T,z=c||($||!v?[Pa(T)]:zz(T)),p=[T].concat(z).reduce(function(De,un){return De.concat(Ot(un)===Lf?Jw(e,{placement:un,boundary:u,rootBoundary:d,padding:l,flipVariations:v,allowedAutoPlacements:E}):un)},[]),X=e.rects.reference,M=e.rects.popper,W=new Map,ue=!0,Ee=p[0],Te=0;Te<p.length;Te++){var Qe=p[Te],Oe=Ot(Qe),Le=Hn(Qe)===fi,Wt=[nt,yt].indexOf(Oe)>=0,Kt=Wt?"width":"height",F=ar(e,{placement:Qe,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),U=Wt?Le?ht:dt:Le?yt:nt;X[Kt]>M[Kt]&&(U=Pa(U));var H=Pa(U),le=[];if(o&&le.push(F[Oe]<=0),a&&le.push(F[U]<=0,F[H]<=0),le.every(function(De){return De})){Ee=Qe,ue=!1;break}W.set(Qe,le)}if(ue)for(var ke=v?3:1,wt=function(un){var zn=p.find(function(Ke){var kt=W.get(Ke);if(kt)return kt.slice(0,un).every(function(ft){return ft})});if(zn)return Ee=zn,"break"},Ge=ke;Ge>0;Ge--){var Qt=wt(Ge);if(Qt==="break")break}e.placement!==Ee&&(e.modifiersData[r]._skip=!0,e.placement=Ee,e.reset=!0)}}var bx={name:"flip",enabled:!0,phase:"main",fn:qz,requiresIfExists:["offset"],data:{_skip:!1}};function Tx(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Dx(t){return[nt,ht,yt,dt].some(function(e){return t[e]>=0})}function Gz(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ar(e,{elementContext:"reference"}),a=ar(e,{altBoundary:!0}),c=Tx(s,r),l=Tx(a,i,o),u=Dx(c),d=Dx(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Sx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gz};function Wz(t,e,n){var r=Ot(t),i=[dt,nt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[dt,ht].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Kz(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Uf.reduce(function(u,d){return u[d]=Wz(d,e.rects,o),u},{}),a=s[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=s}var Ax={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kz};function Qz(t){var e=t.state,n=t.name;e.modifiersData[n]=$l({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var xx={name:"popperOffsets",enabled:!0,phase:"read",fn:Qz,data:{}};function Zw(t){return t==="x"?"y":"x"}function Yz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,v=n.tetherOffset,E=v===void 0?0:v,T=ar(e,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),D=Ot(e.placement),$=Hn(e.placement),z=!$,p=ds(D),X=Zw(p),M=e.modifiersData.popperOffsets,W=e.rects.reference,ue=e.rects.popper,Ee=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,Te=typeof Ee=="number"?{mainAxis:Ee,altAxis:Ee}:Object.assign({mainAxis:0,altAxis:0},Ee),Qe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Oe={x:0,y:0};if(M){if(o){var Le,Wt=p==="y"?nt:dt,Kt=p==="y"?yt:ht,F=p==="y"?"height":"width",U=M[p],H=U+T[Wt],le=U-T[Kt],ke=f?-ue[F]/2:0,wt=$===fi?W[F]:ue[F],Ge=$===fi?-ue[F]:-W[F],Qt=e.elements.arrow,De=f&&Qt?us(Qt):{width:0,height:0},un=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jl(),zn=un[Wt],Ke=un[Kt],kt=hs(0,W[F],De[F]),ft=z?W[F]/2-ke-kt-zn-Te.mainAxis:wt-kt-zn-Te.mainAxis,yn=z?-W[F]/2+ke+kt+Ke+Te.mainAxis:Ge+kt+Ke+Te.mainAxis,dr=e.elements.arrow&&sr(e.elements.arrow),Jl=dr?p==="y"?dr.clientTop||0:dr.clientLeft||0:0,Ba=(Le=Qe?.[p])!=null?Le:0,Zl=U+ft-Ba-Jl,eu=U+yn-Ba,$a=hs(f?ls(H,Zl):H,U,f?or(le,eu):le);M[p]=$a,Oe[p]=$a-U}if(a){var Ha,tu=p==="x"?nt:dt,nu=p==="x"?yt:ht,Br=M[X],_i=X==="y"?"height":"width",za=Br+T[tu],mo=Br-T[nu],qa=[nt,dt].indexOf(D)!==-1,ru=(Ha=Qe?.[X])!=null?Ha:0,iu=qa?za:Br-W[_i]-ue[_i]-ru+Te.altAxis,ou=qa?Br+W[_i]+ue[_i]-ru-Te.altAxis:mo,su=f&&qa?yx(iu,Br,ou):hs(f?iu:za,Br,f?ou:mo);M[X]=su,Oe[X]=su-Br}e.modifiersData[r]=Oe}}var Mx={name:"preventOverflow",enabled:!0,phase:"main",fn:Yz,requiresIfExists:["offset"]};function e0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function t0(t){return t===We(t)||!_t(t)?fs(t):e0(t)}function Xz(t){var e=t.getBoundingClientRect(),n=pi(e.width)/t.offsetWidth||1,r=pi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function n0(t,e,n){n===void 0&&(n=!1);var r=_t(e),i=_t(e)&&Xz(e),o=Gt(e),s=$n(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Pt(e)!=="body"||ms(o))&&(a=t0(e)),_t(e)?(c=$n(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=ps(o))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Jz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function r0(t){var e=Jz(t);return gx.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function i0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function o0(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Px={placement:"bottom",modifiers:[],strategy:"absolute"};function Ox(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Px:i;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Px,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(D){var $=typeof D=="function"?D(u.options):D;E(),u.options=Object.assign({},o,u.options,$),u.scrollParents={reference:Bn(a)?lo(a):a.contextElement?lo(a.contextElement):[],popper:lo(c)};var z=r0(o0([].concat(r,u.options.modifiers)));return u.orderedModifiers=z.filter(function(p){return p.enabled}),v(),f.update()},forceUpdate:function(){if(!h){var D=u.elements,$=D.reference,z=D.popper;if(Ox($,z)){u.rects={reference:n0($,sr(z),u.options.strategy==="fixed"),popper:us(z)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Te){return u.modifiersData[Te.name]=Object.assign({},Te.data)});for(var p=0;p<u.orderedModifiers.length;p++){if(u.reset===!0){u.reset=!1,p=-1;continue}var X=u.orderedModifiers[p],M=X.fn,W=X.options,ue=W===void 0?{}:W,Ee=X.name;typeof M=="function"&&(u=M({state:u,options:ue,name:Ee,instance:f})||u)}}}},update:i0(function(){return new Promise(function(T){f.forceUpdate(),T(u)})}),destroy:function(){E(),h=!0}};if(!Ox(a,c))return f;f.setOptions(l).then(function(T){!h&&l.onFirstUpdate&&l.onFirstUpdate(T)});function v(){u.orderedModifiers.forEach(function(T){var D=T.name,$=T.options,z=$===void 0?{}:$,p=T.effect;if(typeof p=="function"){var X=p({state:u,name:D,instance:f,options:z}),M=function(){};d.push(X||M)}})}function E(){d.forEach(function(T){return T()}),d=[]}return f}}var Zz=[Ix,xx,Ex,Fl,Ax,bx,Mx,_x,Sx],s0=Rx({defaultModifiers:Zz});var e4="tippy-box",Hx="tippy-content",t4="tippy-backdrop",zx="tippy-arrow",qx="tippy-svg-arrow",gs={passive:!0,capture:!0},Gx=function(){return document.body};function a0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function f0(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Wx(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Nx(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function n4(t){return t.split(/\s+/).filter(Boolean)}function Ra(t){return[].concat(t)}function kx(t,e){t.indexOf(e)===-1&&t.push(e)}function r4(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function i4(t){return t.split("-")[0]}function qf(t){return[].slice.call(t)}function Fx(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Hl(){return document.createElement("div")}function Gf(t){return["Element","Fragment"].some(function(e){return f0(t,e)})}function o4(t){return f0(t,"NodeList")}function s4(t){return f0(t,"MouseEvent")}function a4(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function c4(t){return Gf(t)?[t]:o4(t)?qf(t):Array.isArray(t)?t:qf(document.querySelectorAll(t))}function c0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Vx(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function l4(t){var e,n=Ra(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function u4(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,c=a.interactiveBorder,l=i4(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=l==="bottom"?u.top.y:0,h=l==="top"?u.bottom.y:0,f=l==="right"?u.left.x:0,v=l==="left"?u.right.x:0,E=o.top-r+d>c,T=r-o.bottom-h>c,D=o.left-n+f>c,$=n-o.right-v>c;return E||T||D||$})}function l0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Lx(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Vr={isTouch:!1},jx=0;function d4(){Vr.isTouch||(Vr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Kx))}function Kx(){var t=performance.now();t-jx<20&&(Vr.isTouch=!1,document.removeEventListener("mousemove",Kx)),jx=t}function h4(){var t=document.activeElement;if(a4(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function f4(){document.addEventListener("touchstart",d4,gs),window.addEventListener("blur",h4)}var p4=typeof window<"u"&&typeof document<"u",m4=p4?!!window.msCrypto:!1;var g4={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},v4={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},cr=Object.assign({appendTo:Gx,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},g4,v4),y4=Object.keys(cr),_4=function(e){var n=Object.keys(e);n.forEach(function(r){cr[r]=e[r]})};function Qx(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=cr[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function w4(t,e){var n=e?Object.keys(Qx(Object.assign({},cr,{plugins:e}))):y4,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function Ux(t,e){var n=Object.assign({},e,{content:Wx(e.content,[t])},e.ignoreAttributes?{}:w4(t,e.plugins));return n.aria=Object.assign({},cr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var E4=function(){return"innerHTML"};function d0(t,e){t[E4()]=e}function Bx(t){var e=Hl();return t===!0?e.className=zx:(e.className=qx,Gf(t)?e.appendChild(t):d0(e,t)),e}function $x(t,e){Gf(e.content)?(d0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?d0(t,e.content):t.textContent=e.content)}function h0(t){var e=t.firstElementChild,n=qf(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Hx)}),arrow:n.find(function(r){return r.classList.contains(zx)||r.classList.contains(qx)}),backdrop:n.find(function(r){return r.classList.contains(t4)})}}function Yx(t){var e=Hl(),n=Hl();n.className=e4,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Hl();r.className=Hx,r.setAttribute("data-state","hidden"),$x(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=h0(e),c=a.box,l=a.content,u=a.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&$x(l,t.props),s.arrow?u?o.arrow!==s.arrow&&(c.removeChild(u),c.appendChild(Bx(s.arrow))):c.appendChild(Bx(s.arrow)):u&&c.removeChild(u)}return{popper:e,onUpdate:i}}Yx.$$tippy=!0;var I4=1,zf=[],u0=[];function C4(t,e){var n=Ux(t,Object.assign({},cr,Qx(Fx(e)))),r,i,o,s=!1,a=!1,c=!1,l=!1,u,d,h,f=[],v=Nx(Zl,n.interactiveDebounce),E,T=I4++,D=null,$=r4(n.plugins),z={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:T,reference:t,popper:Hl(),popperInstance:D,props:n,state:z,plugins:$,clearDelayTimeouts:iu,setProps:ou,setContent:su,show:fP,hide:pP,hideWithInteractivity:mP,enable:qa,disable:ru,unmount:gP,destroy:vP};if(!n.render)return p;var X=n.render(p),M=X.popper,W=X.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+p.id,p.popper=M,t._tippy=p,M._tippy=p;var ue=$.map(function(b){return b.fn(p)}),Ee=t.hasAttribute("aria-expanded");return dr(),ke(),U(),H("onCreate",[p]),n.showOnCreate&&za(),M.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&Wt().addEventListener("mousemove",v)}),p;function Te(){var b=p.props.touch;return Array.isArray(b)?b:[b,0]}function Qe(){return Te()[0]==="hold"}function Oe(){var b;return!!((b=p.props.render)!=null&&b.$$tippy)}function Le(){return E||t}function Wt(){var b=Le().parentNode;return b?l4(b):document}function Kt(){return h0(M)}function F(b){return p.state.isMounted&&!p.state.isVisible||Vr.isTouch||u&&u.type==="focus"?0:a0(p.props.delay,b?0:1,cr.delay)}function U(b){b===void 0&&(b=!1),M.style.pointerEvents=p.props.interactive&&!b?"":"none",M.style.zIndex=""+p.props.zIndex}function H(b,q,oe){if(oe===void 0&&(oe=!0),ue.forEach(function(Se){Se[b]&&Se[b].apply(Se,q)}),oe){var Fe;(Fe=p.props)[b].apply(Fe,q)}}function le(){var b=p.props.aria;if(b.content){var q="aria-"+b.content,oe=M.id,Fe=Ra(p.props.triggerTarget||t);Fe.forEach(function(Se){var en=Se.getAttribute(q);if(p.state.isVisible)Se.setAttribute(q,en?en+" "+oe:oe);else{var Mn=en&&en.replace(oe,"").trim();Mn?Se.setAttribute(q,Mn):Se.removeAttribute(q)}})}}function ke(){if(!(Ee||!p.props.aria.expanded)){var b=Ra(p.props.triggerTarget||t);b.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===Le()?"true":"false"):q.removeAttribute("aria-expanded")})}}function wt(){Wt().removeEventListener("mousemove",v),zf=zf.filter(function(b){return b!==v})}function Ge(b){if(!(Vr.isTouch&&(c||b.type==="mousedown"))){var q=b.composedPath&&b.composedPath()[0]||b.target;if(!(p.props.interactive&&Lx(M,q))){if(Ra(p.props.triggerTarget||t).some(function(oe){return Lx(oe,q)})){if(Vr.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[p,b]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),a=!0,setTimeout(function(){a=!1}),p.state.isMounted||zn())}}}function Qt(){c=!0}function De(){c=!1}function un(){var b=Wt();b.addEventListener("mousedown",Ge,!0),b.addEventListener("touchend",Ge,gs),b.addEventListener("touchstart",De,gs),b.addEventListener("touchmove",Qt,gs)}function zn(){var b=Wt();b.removeEventListener("mousedown",Ge,!0),b.removeEventListener("touchend",Ge,gs),b.removeEventListener("touchstart",De,gs),b.removeEventListener("touchmove",Qt,gs)}function Ke(b,q){ft(b,function(){!p.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&q()})}function kt(b,q){ft(b,q)}function ft(b,q){var oe=Kt().box;function Fe(Se){Se.target===oe&&(l0(oe,"remove",Fe),q())}if(b===0)return q();l0(oe,"remove",d),l0(oe,"add",Fe),d=Fe}function yn(b,q,oe){oe===void 0&&(oe=!1);var Fe=Ra(p.props.triggerTarget||t);Fe.forEach(function(Se){Se.addEventListener(b,q,oe),f.push({node:Se,eventType:b,handler:q,options:oe})})}function dr(){Qe()&&(yn("touchstart",Ba,{passive:!0}),yn("touchend",eu,{passive:!0})),n4(p.props.trigger).forEach(function(b){if(b!=="manual")switch(yn(b,Ba),b){case"mouseenter":yn("mouseleave",eu);break;case"focus":yn(m4?"focusout":"blur",$a);break;case"focusin":yn("focusout",$a);break}})}function Jl(){f.forEach(function(b){var q=b.node,oe=b.eventType,Fe=b.handler,Se=b.options;q.removeEventListener(oe,Fe,Se)}),f=[]}function Ba(b){var q,oe=!1;if(!(!p.state.isEnabled||Ha(b)||a)){var Fe=((q=u)==null?void 0:q.type)==="focus";u=b,E=b.currentTarget,ke(),!p.state.isVisible&&s4(b)&&zf.forEach(function(Se){return Se(b)}),b.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||s)&&p.props.hideOnClick!==!1&&p.state.isVisible?oe=!0:za(b),b.type==="click"&&(s=!oe),oe&&!Fe&&mo(b)}}function Zl(b){var q=b.target,oe=Le().contains(q)||M.contains(q);if(!(b.type==="mousemove"&&oe)){var Fe=_i().concat(M).map(function(Se){var en,Mn=Se._tippy,_s=(en=Mn.popperInstance)==null?void 0:en.state;return _s?{popperRect:Se.getBoundingClientRect(),popperState:_s,props:n}:null}).filter(Boolean);u4(Fe,b)&&(wt(),mo(b))}}function eu(b){var q=Ha(b)||p.props.trigger.indexOf("click")>=0&&s;if(!q){if(p.props.interactive){p.hideWithInteractivity(b);return}mo(b)}}function $a(b){p.props.trigger.indexOf("focusin")<0&&b.target!==Le()||p.props.interactive&&b.relatedTarget&&M.contains(b.relatedTarget)||mo(b)}function Ha(b){return Vr.isTouch?Qe()!==b.type.indexOf("touch")>=0:!1}function tu(){nu();var b=p.props,q=b.popperOptions,oe=b.placement,Fe=b.offset,Se=b.getReferenceClientRect,en=b.moveTransition,Mn=Oe()?h0(M).arrow:null,_s=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Le()}:t,M0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(au){var ws=au.state;if(Oe()){var yP=Kt(),lp=yP.box;["placement","reference-hidden","escaped"].forEach(function(cu){cu==="placement"?lp.setAttribute("data-placement",ws.placement):ws.attributes.popper["data-popper-"+cu]?lp.setAttribute("data-"+cu,""):lp.removeAttribute("data-"+cu)}),ws.attributes.popper={}}}},go=[{name:"offset",options:{offset:Fe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!en}},M0];Oe()&&Mn&&go.push({name:"arrow",options:{element:Mn,padding:3}}),go.push.apply(go,q?.modifiers||[]),p.popperInstance=s0(_s,M,Object.assign({},q,{placement:oe,onFirstUpdate:h,modifiers:go}))}function nu(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function Br(){var b=p.props.appendTo,q,oe=Le();p.props.interactive&&b===Gx||b==="parent"?q=oe.parentNode:q=Wx(b,[oe]),q.contains(M)||q.appendChild(M),p.state.isMounted=!0,tu()}function _i(){return qf(M.querySelectorAll("[data-tippy-root]"))}function za(b){p.clearDelayTimeouts(),b&&H("onTrigger",[p,b]),un();var q=F(!0),oe=Te(),Fe=oe[0],Se=oe[1];Vr.isTouch&&Fe==="hold"&&Se&&(q=Se),q?r=setTimeout(function(){p.show()},q):p.show()}function mo(b){if(p.clearDelayTimeouts(),H("onUntrigger",[p,b]),!p.state.isVisible){zn();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(b.type)>=0&&s)){var q=F(!1);q?i=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function qa(){p.state.isEnabled=!0}function ru(){p.hide(),p.state.isEnabled=!1}function iu(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function ou(b){if(!p.state.isDestroyed){H("onBeforeUpdate",[p,b]),Jl();var q=p.props,oe=Ux(t,Object.assign({},q,Fx(b),{ignoreAttributes:!0}));p.props=oe,dr(),q.interactiveDebounce!==oe.interactiveDebounce&&(wt(),v=Nx(Zl,oe.interactiveDebounce)),q.triggerTarget&&!oe.triggerTarget?Ra(q.triggerTarget).forEach(function(Fe){Fe.removeAttribute("aria-expanded")}):oe.triggerTarget&&t.removeAttribute("aria-expanded"),ke(),U(),W&&W(q,oe),p.popperInstance&&(tu(),_i().forEach(function(Fe){requestAnimationFrame(Fe._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[p,b])}}function su(b){p.setProps({content:b})}function fP(){var b=p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,Fe=Vr.isTouch&&!p.props.touch,Se=a0(p.props.duration,0,cr.duration);if(!(b||q||oe||Fe)&&!Le().hasAttribute("disabled")&&(H("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,Oe()&&(M.style.visibility="visible"),U(),un(),p.state.isMounted||(M.style.transition="none"),Oe()){var en=Kt(),Mn=en.box,_s=en.content;c0([Mn,_s],0)}h=function(){var go;if(!(!p.state.isVisible||l)){if(l=!0,M.offsetHeight,M.style.transition=p.props.moveTransition,Oe()&&p.props.animation){var cp=Kt(),au=cp.box,ws=cp.content;c0([au,ws],Se),Vx([au,ws],"visible")}le(),ke(),kx(u0,p),(go=p.popperInstance)==null||go.forceUpdate(),H("onMount",[p]),p.props.animation&&Oe()&&kt(Se,function(){p.state.isShown=!0,H("onShown",[p])})}},Br()}}function pP(){var b=!p.state.isVisible,q=p.state.isDestroyed,oe=!p.state.isEnabled,Fe=a0(p.props.duration,1,cr.duration);if(!(b||q||oe)&&(H("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,l=!1,s=!1,Oe()&&(M.style.visibility="hidden"),wt(),zn(),U(!0),Oe()){var Se=Kt(),en=Se.box,Mn=Se.content;p.props.animation&&(c0([en,Mn],Fe),Vx([en,Mn],"hidden"))}le(),ke(),p.props.animation?Oe()&&Ke(Fe,p.unmount):p.unmount()}}function mP(b){Wt().addEventListener("mousemove",v),kx(zf,v),v(b)}function gP(){p.state.isVisible&&p.hide(),p.state.isMounted&&(nu(),_i().forEach(function(b){b._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),u0=u0.filter(function(b){return b!==p}),p.state.isMounted=!1,H("onHidden",[p]))}function vP(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),Jl(),delete t._tippy,p.state.isDestroyed=!0,H("onDestroy",[p]))}}function zl(t,e){e===void 0&&(e={});var n=cr.plugins.concat(e.plugins||[]);f4();var r=Object.assign({},e,{plugins:n}),i=c4(t);if(0)var o,s;var a=i.reduce(function(c,l){var u=l&&C4(l,r);return u&&c.push(u),c},[]);return Gf(t)?a[0]:a}zl.defaultProps=cr;zl.setDefaultProps=_4;zl.currentInput=Vr;var Pre=Object.assign({},Fl,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});zl.setDefaultProps({render:Yx});var p0=zl;var m0=class{constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=Ud(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,n){return this.ref.setInput(e,n),this}setInputs(e){return Object.keys(e).forEach(n=>{this.ref.setInput(n,e[n])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}};function Wf(t){return t instanceof Xn}function ql(t){return typeof t=="function"}function Gl(t){return typeof t=="string"}var g0=class{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){let e=this.ref.rootNodes;return e.length===1&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){this.ref.rootNodes[0]!==1&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return Object.assign(this.ref.context,e),this}},v0=class{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}},b4=new G("Component context"),y0=(()=>{let e=class e{constructor(){this.injector=O(Xe),this.appRef=O(br),this.environmentInjector=O(Ct)}createComponent(r,i={}){let o=i.injector??this.injector,s;return i.context&&(s=ei(i.context),o=Xe.create({providers:[{provide:b4,useValue:s.asReadonly()}],parent:o})),new m0({component:r,vcr:i.vcr,injector:o,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:s})}createTemplate(r,i={}){return new g0({vcr:i.vcr,appRef:this.appRef,tpl:r,context:i.context,injector:i.injector})}createView(r,i={}){if(Wf(r))return this.createTemplate(r,i);if(ql(r))return this.createComponent(r,i);if(Gl(r))return new v0(r);throw"Type of content is not supported"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jx=!1,Zx=!1;typeof window<"u"&&(Jx="IntersectionObserver"in window,Zx="ResizeObserver"in window);function Xx(t,e={root:null,threshold:.3}){let n=rM(t);return new se(r=>{if(!Jx){r.next(),r.complete();return}let i=new IntersectionObserver(o=>{o[o.length-1].isIntersecting&&(r.next(),r.complete())},e);return i.observe(n),()=>i.disconnect()})}function eM(t){let e=t.offsetWidth;return e>t.parentElement.offsetWidth||e<t.scrollWidth}function D4(t){let e=rM(t);return tM(e).pipe(Op(150),ie(()=>eM(e)))}function tM(t){return S4(t)}function S4(t){return new se(e=>{if(!Zx){e.next(),e.complete();return}let n=new ResizeObserver(()=>e.next(!0));return n.observe(t),()=>n.disconnect()})}function Wl(t){let e={},n=["useTextContent","variations","useHostWidth","defaultVariation","beforeRender","isLazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr","popperWidth","zIndexGetter","staticWidthHost"],r=["onShow","onHidden","onCreate"];return Object.keys(t).forEach(i=>{!n.includes(i)&&!r.includes(i)&&(e[i]=t[i])}),e}function nM(t){return(x4(t)?t.split(" "):t).map(n=>n?.trim()).filter(Boolean)}function A4(t){return M4(t)?"":typeof t=="string"?t:`${t}px`}function x4(t){return typeof t=="string"}function M4(t){return t==null}function rM(t){return t instanceof mt?t.nativeElement:t}var _0,w0=new WeakMap;function P4(t,e){return _0??=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting||w0.get(r.target)()})}),w0.set(t,e),_0.observe(t),()=>{w0.delete(t),_0.unobserve(t)}}var E0=new G("Tippy config",{providedIn:"root",factory(){return{}}}),iM=new G("TIPPY_REF"),Lr=(()=>{let e=class e{set appendTo(r){this.updateProps({appendTo:r})}constructor(r,i,o,s,a,c,l){this.platformId=r,this.globalConfig=i,this.injector=o,this.viewService=s,this.vcr=a,this.zone=c,this.hostRef=l,this.onlyTextOverflow=!1,this.staticWidthHost=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.isVisible=!1,this.visible=new Ye,this.destroyed=new Ft,this.enabled=!0,this.variationDefined=!1,this.visibleInternal=new Ft,this.contentChanged=new Ft}ngOnChanges(r){if(this.isServerSide)return;let i=Object.keys(r).reduce((s,a)=>(a==="isVisible"||(s[a]=r[a].currentValue),s),{}),o;Kf("content",r)&&this.contentChanged.next(),Kf("variation",r)?(o=r.variation.currentValue,this.variationDefined=!0):this.variationDefined||(o=this.globalConfig.defaultVariation,this.variationDefined=!0),o&&(i=R(R({},this.globalConfig.variations[o]),i)),Kf("isEnabled",r)&&(this.enabled=r.isEnabled.currentValue,this.setStatus()),Kf("isVisible",r)&&(this.isVisible?this.show():this.hide()),this.updateProps(i)}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){this.isServerSide||this.zone.runOutsideAngular(()=>{this.isLazy?this.onlyTextOverflow?Xx(this.host).pipe(It(()=>this.isOverflowing$()),Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):Xx(this.host).pipe(Wn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?this.isOverflowing$().pipe(Wn(this.destroyed)).subscribe(r=>{this.checkOverflow(r)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView(),this.visibilityObserverCleanup?.()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}observeHostVisibility(){if(!this.isServerSide&&this.props.appendTo&&this.props.appendTo!==document.body)return this.visibilityObserverCleanup?.(),this.visibleInternal.asObservable().pipe(Wn(this.destroyed)).subscribe(r=>{r?this.zone.runOutsideAngular(()=>{this.visibilityObserverCleanup=P4(this.instance.reference,()=>{this.hide(),this.props.animation&&this.onHidden()})}):this.visibilityObserverCleanup?.()})}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}updateProps(r){this.setProps(R(R({},this.props),r))}setProps(r){this.props=r,this.instance?.setProps(Wl(r))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return this.host.getBoundingClientRect().width}createInstance(){!this.content&&!this.useTextContent||this.zone.runOutsideAngular(()=>{this.instance=p0(this.host,Ae(R(R(R({allowHTML:!0,appendTo:document.body},this.globalConfig.zIndexGetter?{zIndex:this.globalConfig.zIndexGetter()}:{}),Wl(this.globalConfig)),Wl(this.props)),{onMount:r=>{this.isVisible=!0,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(r)},onCreate:r=>{if(r.popper.classList.add(`tippy-variation-${this.variation||this.globalConfig.defaultVariation}`),this.className)for(let i of nM(this.className))r.popper.classList.add(i);this.globalConfig.onCreate?.(r),this.isVisible===!0&&r.show()},onShow:r=>{r.reference.setAttribute("data-tippy-open",""),this.zone.run(()=>{let i=this.resolveContent(r);Gl(i)&&(r.setProps({allowHTML:!1}),i?.trim()?this.enable():this.disable()),r.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth?this.setInstanceWidth(r,this.hostWidth):this.popperWidth&&this.setInstanceWidth(r,this.popperWidth),this.globalConfig.onShow?.(r)},onHide(r){r.reference.removeAttribute("data-tippy-open")},onHidden:r=>{this.onHidden(r)}})),this.setStatus(),this.setProps(this.props),this.variation==="contextMenu"&&this.handleContextMenu()})}resolveContent(r){if(!this.viewOptions$&&!Gl(this.content)){let o=Xe.create({providers:[{provide:iM,useValue:this.instance}],parent:this.injector});ql(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:o}):Wf(this.content)&&(this.viewOptions$={injector:o,context:{$implicit:this.hide.bind(this),data:this.data}})}this.viewRef=this.viewService.createView(this.content,R({vcr:this.vcr},this.viewOptions$)),this.detectChangesComponent&&ql(this.content)&&this.viewRef.detectChanges();let i=this.viewRef.getElement();return this.useTextContent&&(i=r.reference.textContent),Gl(i)&&this.globalConfig.beforeRender&&(i=this.globalConfig.beforeRender(i)),i}handleContextMenu(){ks(this.host,"contextmenu").pipe(Wn(this.destroyed)).subscribe(r=>{r.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:r.clientY,bottom:r.clientY,left:r.clientX,right:r.clientX})}),this.instance.show()})}handleEscapeButton(){this.zone.runOutsideAngular(()=>{ks(document.body,"keydown").pipe(Yt(({code:r})=>r==="Escape"),Wn(Xa(this.destroyed,this.visibleInternal.pipe(Yt(r=>!r))))).subscribe(()=>this.hide())})}checkOverflow(r){r?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){tM(this.host).pipe(Wn(Xa(this.destroyed,this.visibleInternal))).subscribe(()=>{this.setInstanceWidth(this.instance,this.hostWidth)})}setInstanceWidth(r,i){let o=A4(i);r.popper.style.width=o,r.popper.style.maxWidth=o,r.popper.firstElementChild.style.maxWidth=o}get isServerSide(){return _c(this.platformId)}onHidden(r=this.instance){this.destroyView(),this.isVisible=!1,this.visibleInternal.next(this.isVisible),this.visible.observed&&this.zone.run(()=>this.visible.next(this.isVisible)),this.globalConfig.onHidden?.(r)}isOverflowing$(){let r=[D4(this.host)];return this.staticWidthHost&&r.push(this.contentChanged.asObservable().pipe(It(()=>new se(i=>{let o=window.requestAnimationFrame(()=>{i.next(),i.complete()});return()=>cancelAnimationFrame(o)})),ie(()=>eM(this.host)))),Xa(...r)}};e.\u0275fac=function(i){return new(i||e)(S(On),S(E0),S(Xe),S(y0),S(jt),S(Ie),S(mt))},e.\u0275dir=ut({type:e,selectors:[["","tp",""]],inputs:{appendTo:[re.None,"tpAppendTo","appendTo"],content:[re.None,"tp","content"],delay:[re.None,"tpDelay","delay"],duration:[re.None,"tpDuration","duration"],hideOnClick:[re.None,"tpHideOnClick","hideOnClick"],interactive:[re.None,"tpInteractive","interactive"],interactiveBorder:[re.None,"tpInteractiveBorder","interactiveBorder"],maxWidth:[re.None,"tpMaxWidth","maxWidth"],offset:[re.None,"tpOffset","offset"],placement:[re.None,"tpPlacement","placement"],popperOptions:[re.None,"tpPopperOptions","popperOptions"],showOnCreate:[re.None,"tpShowOnCreate","showOnCreate"],trigger:[re.None,"tpTrigger","trigger"],triggerTarget:[re.None,"tpTriggerTarget","triggerTarget"],zIndex:[re.None,"tpZIndex","zIndex"],animation:[re.None,"tpAnimation","animation"],useTextContent:[re.HasDecoratorInputTransform,"tpUseTextContent","useTextContent",kn],isLazy:[re.HasDecoratorInputTransform,"tpIsLazy","isLazy",kn],variation:[re.None,"tpVariation","variation"],isEnabled:[re.None,"tpIsEnabled","isEnabled"],className:[re.None,"tpClassName","className"],onlyTextOverflow:[re.HasDecoratorInputTransform,"tpOnlyTextOverflow","onlyTextOverflow",kn],staticWidthHost:[re.HasDecoratorInputTransform,"tpStaticWidthHost","staticWidthHost",kn],data:[re.None,"tpData","data"],useHostWidth:[re.HasDecoratorInputTransform,"tpUseHostWidth","useHostWidth",kn],hideOnEscape:[re.HasDecoratorInputTransform,"tpHideOnEscape","hideOnEscape",kn],detectChangesComponent:[re.None,"tpDetectChangesComponent","detectChangesComponent"],popperWidth:[re.None,"tpPopperWidth","popperWidth"],customHost:[re.None,"tpHost","customHost"],isVisible:[re.HasDecoratorInputTransform,"tpIsVisible","isVisible",kn]},outputs:{visible:"tpVisible"},exportAs:["tippy"],standalone:!0,features:[Fd,Jr]});let t=e;return t})();function Kf(t,e){return t in e}var oM=(()=>{let e=class e{constructor(r,i,o){this.globalConfig=r,this.view=i,this.injector=o}create(r,i,o={}){let s=o.variation||this.globalConfig.defaultVariation,a=Ae(R(R(R({onShow:c=>{if(r.setAttribute("data-tippy-open",""),!c.$viewOptions){c.$viewOptions={};let l=Xe.create({providers:[{provide:iM,useValue:c}],parent:o.injector||this.injector});c.$viewOptions.injector=l,Wf(i)?c.$viewOptions.context=R({$implicit:c.hide.bind(c)},o.context):ql(i)&&(c.context=o.context,c.data=o.data)}c.view||(c.view=this.view.createView(i,R(R({},o),c.$viewOptions))),c.setContent(c.view.getElement()),o?.onShow?.(c)},onHidden:c=>{r.removeAttribute("data-tippy-open"),o.preserveView||(c.view.destroy(),c.view=null),o?.onHidden?.(c)}},Wl(this.globalConfig)),this.globalConfig.variations[s]),Wl(o)),{onCreate:c=>{if(c.popper.classList.add(`tippy-variation-${s}`),o.className)for(let l of nM(o.className))c.popper.classList.add(l);this.globalConfig.onCreate?.(c),o.onCreate?.(c)}});return p0(r,a)}};e.\u0275fac=function(i){return new(i||e)(L(E0),L(y0),L(Xe))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sM(t={}){return Fi([{provide:E0,useValue:t}])}var uo=class{constructor(e,n){this.length=e,n&&n>e&&(this.maxLength=n)}restart(e){clearTimeout(this.timeout),this.runnable=e,this.timeout=setTimeout(()=>{e&&e(),this.timeout=null,this.maxLengthTimeout&&(clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null)},this.length),this.maxLength&&!this.maxLengthTimeout&&(this.maxLengthTimeout=setTimeout(()=>{e&&e(),this.maxLengthTimeout=null,clearTimeout(this.timeout),this.timeout=null},this.maxLength))}stop(){clearTimeout(this.timeout),this.timeout=null,clearTimeout(this.maxLengthTimeout),this.maxLengthTimeout=null}complete(){this.stop(),this.runnable&&this.runnable()}isActive(){return this.timeout!=null}};var R4=500,ln=R4+"ms ease",Zre=Rr("skip",[Mt(":enter",[])]),Na=Rr("fade",[Mt(":enter",[we({opacity:0}),Zt(ln,we({opacity:1}))]),Mt(":leave",[we({opacity:1,"pointer-events":"none"}),Zt(ln,we({opacity:0}))])]),eie=Rr("scalefade",[Mt(":enter",[we({opacity:0,width:0,"min-width":0,height:0,"min-height":0}),Zt(ln,we({opacity:"*",width:"*","min-width":"*",height:"*","min-height":"*"}))]),Mt(":leave",[we({opacity:"*","pointer-events":"none",width:"*","min-width":"*",height:"*","min-height":"*"}),Zt(ln,we({opacity:0,width:0,"min-width":0,height:0,"min-height":0}))])]),aM=Rr("crossfade",[Mt(":enter",[we({opacity:0}),Zt(ln,we({opacity:1}))]),Mt(":leave",[we({opacity:1,"pointer-events":"none",position:"absolute"}),Zt(ln,we({opacity:0}))])]),cM=Rr("enter",[Mt(":enter",[we({opacity:0}),Zt(ln,we({opacity:1}))])]),tie=Rr("leave",[Mt(":leave",[we({opacity:1}),Zt(ln,we({opacity:0}))])]),nie=Rr("hidden",[Mt("* => true",[we({opacity:"*"}),Zt(ln,we({opacity:0}))]),Mt("true => *",[we({opacity:0}),Zt(ln,we({opacity:"*"}))])]),rie=Rr("drawer2",[rA("0",we({height:0})),Mt("1 => void",[]),Mt("1 => *",[we({height:"*"}),Zt(ln,we({height:0}))]),Mt("0 => void",[we({height:0}),Zt(ln,we({height:0}))]),Mt("0 => *",[we({height:0}),Zt(ln,we({height:"*"}))])]),lM=Rr("drawer",[Mt(":enter",[we({height:0,opacity:0}),Zt(ln,we({height:"*",opacity:"*"}))]),Mt(":leave",[we({height:"*",opacity:"*"}),Zt(ln,we({height:0,opacity:0}))])]);var rt=(()=>{let e=class e{constructor(){this.darkTheme=!0,this.loading=ei(!1),this.changes=ei(!1),this.errors=ei(!1)}initTheme(){this.darkTheme?(document.body.classList.add("dark-theme"),document.body.style.colorScheme="dark"):(document.body.classList.add("light-theme"),document.body.style.colorScheme="light")}isDarkTheme(){return this.darkTheme}toggleTheme(){this.darkTheme?(this.darkTheme=!1,document.body.classList.toggle("dark-theme",!1),document.body.classList.toggle("light-theme",!0),document.body.style.colorScheme="light"):(this.darkTheme=!0,document.body.classList.toggle("dark-theme",!0),document.body.classList.toggle("light-theme",!1),document.body.style.colorScheme="dark")}get reduceBandwidth(){return window.localStorage.getItem("REDUCE_BANDWIDTH")=="1"}set reduceBandwidth(r){window.localStorage.setItem("REDUCE_BANDWIDTH",r?"1":"0")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k=class{static isEmpty(e){return!e||!Array.isArray(e)||e.length==0}static includes(e,n,r){if(!this.isEmpty(e)&&n)return r?e.map(i=>r(i)).includes(r(n)):e.includes(n)}static push(e,n){if(Array.isArray(e))if(Array.isArray(n))for(let r of n)r!=null&&!e.includes(r)&&e.push(r);else n!=null&&!e.includes(n)&&e.push(n)}static remove(e,n,r){if(!this.isEmpty(e)&&n)if(Array.isArray(n)){if(n.length>0)if(r){let i=e.map(o=>r(o));for(let o of n.map(s=>r(s)))this._remove(e,o,i)}else for(let i of n)this._remove(e,i)}else return r?this._remove(e,r(n),e.map(i=>r(i))):this._remove(e,n)}static _remove(e,n,r){if(r){let i=r.indexOf(n);if(i!=-1)return r.splice(i,1),e.splice(i,1).length>0}else{let i=e.indexOf(n);if(i!=-1)return e.splice(i,1).length>0}}static toggle(e,n){Array.isArray(e)&&n!=null&&(e.includes(n)?this._remove(e,n):e.push(n))}static distinct(e,n){if(!this.isEmpty(e)){let r=[],i=new Map,o;for(let s of e)o=n(s),i.has(o)||(i.set(o,!0),r.push(s));return r}return[]}static getFirst(e){if(!this.isEmpty(e))return e[0]}static isFirst(e,n){if(!this.isEmpty(e)&&n)return n==e[0]}static getLast(e){if(!this.isEmpty(e))return e[e.length-1]}static isLast(e,n){if(!this.isEmpty(e)&&n)return n==e[e.length-1]}static getPrevious(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)-1]||(r?e[e.length-1]:void 0)}static findPrevious(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s>0;)if(r(e[--s]))return e[s];if(i){for(s=e.length-1;s>o;)if(r(e[--s]))return e[s]}return}}static getNext(e,n,r=!1){if(!this.isEmpty(e))return e[e.indexOf(n)+1]||(r?e[0]:void 0)}static findNext(e,n,r,i=!1){if(!this.isEmpty(e)){let o=e.indexOf(n),s=o;for(;s<e.length-1;)if(r(e[++s]))return e[s];if(i){for(s=0;s<o;)if(r(e[++s]))return e[s]}return}}static findClosest(e,n,r){if(!this.isEmpty(e)){let i=e.indexOf(n),o=0,s,a=!0,c=!0;for(;a||c;)if(o++,c&&(s=e[i+o],s||(c=!1),s&&(!r||r(s)))||a&&(s=e[i-o],s||(a=!1),s&&(!r||r(s))))return s;return}}static getRandom(e,n){return this.isEmpty(e)?null:e.length==1?e[0]:(e=e.slice(),this.remove(e,n),e[Math.floor(Math.random()*e.length)])}static nearestRightFirst(e,n,r){if(n+1<e.length){for(let i=n+1;i<e.length;i++)if(!r||r(e[i]))return e[i]}if(n>0){for(let i=n-1;i>-1;i--)if(!r||r(e[i]))return e[i]}return null}static shuffle(e){let n=e.length,r;for(;n!=0;)r=Math.floor(Math.random()*n),n--,[e[n],e[r]]=[e[r],e[n]];return e}};var N4=["content"];function k4(t,e){if(t&1){let n=Q();m(0,"div",6,7),I("click",function(){A(n);let i=w(2);return x(i.overlayClick())}),g()}}function F4(t,e){if(t&1){let n=Q();m(0,"i",12),I("click",function(){A(n);let i=w(3);return x(i.close())}),g()}}function V4(t,e){if(t&1){let n=Q();m(0,"div",8,9),I("mousedown",function(i){A(n);let o=Ut(1),s=w(2);return x(s.onHeaderMouseDown(i,o))}),m(2,"span",10),N(3),g(),B(4,F4,1,0,"i",11),g()}if(t&2){let n=w(2);y(3),ye(n.contentComponentInstance.configuration.title),y(),C("ngIf",!n.contentComponentInstance.configuration.hideHeaderCloseButton)}}function L4(t,e){if(t&1&&(Je(0),J(1,"div",3),B(2,k4,2,0,"div",4)(3,V4,5,2,"div",5),Ze()),t&2){let n=w();y(2),C("ngIf",!n.contentComponentInstance.configuration.hideClickOverlay),y(),C("ngIf",n.contentComponentInstance.configuration.title)}}function j4(t,e){t&1&&(m(0,"div",13),Fg(1,null,14),g())}function U4(t,e){if(t&1){let n=Q();m(0,"i",19),I("click",function(){A(n);let i=w(2).$implicit;return x(i.click&&i.click())}),g()}if(t&2){let n=w(2).$implicit,r=w(2);vb("icon-button "+r.getIconClass(n)),Ce("disabled",r.isDisabled(n))}}function B4(t,e){if(t&1){let n=Q();m(0,"div",20),I("click",function(){A(n);let i=w(2).$implicit;return x(i.click&&i.click())}),N(1),g()}if(t&2){let n=w(2).$implicit,r=w(2);Ce("disabled",r.isDisabled(n)),y(),ye(r.getText(n))}}function $4(t,e){if(t&1&&(Je(0),B(1,U4,1,4,"i",17)(2,B4,2,3,"div",18),Ze()),t&2){let n=w().$implicit;y(),C("ngIf",n.iconClass),y(),C("ngIf",n.text)}}function H4(t,e){if(t&1&&(Je(0),B(1,$4,3,2,"ng-container",0),Ze()),t&2){let n=e.$implicit,r=w(2);y(),C("ngIf",!r.isHidden(n))}}function z4(t,e){if(t&1&&(m(0,"div",15),B(1,H4,2,1,"ng-container",16),g()),t&2){let n=w();y(),C("ngForOf",n.contentComponentInstance.configuration.buttons)}}var uM=(()=>{let e=class e{constructor(r,i){this.elementRef=r,this.dialogService=i,this.borderWarning=!1,this.isMouseDown=!1,this.result=new Promise(o=>this.resolve=o)}ngAfterViewInit(){this.top=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".top")),this.left=Number.parseInt(window.localStorage.getItem(this.contentComponentType.name+".left"));let r=this.containerRef.createComponent(this.contentComponentType);this.contentComponentInstance=r.instance,this.contentComponentInstance.inputs=this.inputs,this.contentComponentInstance.resolve=this.resolve,this.result.finally(()=>r.destroy()),r.changeDetectorRef.detectChanges()}closeLast(){k.isLast(this.dialogService.dialogs,this)&&this.close()}close(){this.contentComponentInstance?.close()}isHidden(r){return r.hidden&&r.hidden()}isDisabled(r){return r.disabled&&r.disabled()}getText(r){if(r.text)return typeof r.text=="function"?r.text():r.text}getIconClass(r){if(r.iconClass)return typeof r.iconClass=="function"?r.iconClass():r.iconClass}onHeaderMouseDown(r,i){if(r.buttons==1&&r.target==i){if(this.isMouseDown=!0,this.mouseDownOffsetX=r.offsetX,this.mouseDownOffsetY=r.offsetY,(this.top||this.top===0)&&(this.left||this.left===0))return;let o=this.elementRef.nativeElement.getBoundingClientRect();this.top=o.top,this.left=o.left,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}}onHeaderMouseUp(){this.isMouseDown=!1,localStorage.setItem(this.contentComponentType.name+".top",this.top.toString()),localStorage.setItem(this.contentComponentType.name+".left",this.left.toString())}onHeaderMouseMove(r){if(r.preventDefault(),this.isMouseDown){let i=this.elementRef.nativeElement.getBoundingClientRect(),o=r.clientX-i.left;r.movementX<0&&o<this.mouseDownOffsetX?(this.left=this.left+r.movementX,this.left<0&&(this.left=0)):r.movementX>0&&o>this.mouseDownOffsetX&&(this.left=this.left+r.movementX,this.left+i.width>window.innerWidth+1&&(this.left=window.innerWidth-i.width+1));let s=r.clientY-i.top;r.movementY<0&&s<this.mouseDownOffsetY?(this.top=this.top+r.movementY,this.top<0&&(this.top=0)):r.movementY>0&&s>this.mouseDownOffsetY&&(this.top=this.top+r.movementY,this.top+i.height>window.innerHeight+2&&(this.top=window.innerHeight-i.height+2))}}overlayClick(){let r=this.dialogService.dialogs.findIndex(i=>i==this);for(let i=r;i<this.dialogService.dialogs.length;i++){let o=this.dialogService.dialogs[i];o.borderWarning=!0,setTimeout(()=>o.borderWarning=!1,500)}}};e.\u0275fac=function(i){return new(i||e)(S(mt),S(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-dialog-container"]],viewQuery:function(i,o){if(i&1&&Db(N4,5,jt),i&2){let s;Lg(s=jg())&&(o.containerRef=s.first)}},hostVars:6,hostBindings:function(i,o){i&1&&I("keydown.escape",function(a){return o.closeLast(a)},!1,ze)("mouseup",function(a){return o.onHeaderMouseUp(a)},!1,gc)("mousemove",function(a){return o.onHeaderMouseMove(a)},!1,gc),i&2&&(tr("top",o.top,"px")("left",o.left,"px"),Ce("border-warning",o.borderWarning))},standalone:!0,features:[Y],decls:3,vars:3,consts:[[4,"ngIf"],["class","content",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"glass-effect"],["class","overlay-effect",3,"click",4,"ngIf"],["class","header",3,"mousedown",4,"ngIf"],[1,"overlay-effect",3,"click"],["overlay",""],[1,"header",3,"mousedown"],["header",""],[1,"header-title"],["class","icon-button fa-solid fa-times",3,"click",4,"ngIf"],[1,"icon-button","fa-solid","fa-times",3,"click"],[1,"content"],["content",""],[1,"buttons"],[4,"ngFor","ngForOf"],[3,"class","disabled","click",4,"ngIf"],["class","button",3,"disabled","click",4,"ngIf"],[3,"click"],[1,"button",3,"click"]],template:function(i,o){i&1&&B(0,L4,4,2,"ng-container",0)(1,j4,3,0,"div",1)(2,z4,2,1,"div",2),i&2&&(C("ngIf",o.contentComponentInstance),y(),C("ngIf",o.contentComponentType),y(),C("ngIf",o.contentComponentInstance))},dependencies:[Z,He,Re],styles:["[_nghost-%COMP%]{border:1px solid var(--color-border);position:fixed;border-radius:.5rem;overflow:hidden;z-index:200}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{text-shadow:1px 1px 2px black}@media screen and (max-width: 768px){[_nghost-%COMP%]{max-width:calc(100% - 1.3333333332rem);max-height:calc(100% - 1.3333333332rem)}}@media screen and (min-width: 768px){[_nghost-%COMP%]{max-width:80%;max-height:80%}}.border-warning[_nghost-%COMP%]{border-color:var(--color-negative)}[_nghost-%COMP%]:not(.border-warning){transition:border-color .5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;border-top:1px solid var(--color-border);border-bottom:1px solid var(--color-border)}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;-webkit-user-select:none;user-select:none;padding:1rem;gap:.3333333333rem}.header[_ngcontent-%COMP%]:has(i){padding:.3333333333rem .3333333333rem .3333333333rem 1rem}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{pointer-events:none}.buttons[_ngcontent-%COMP%]{gap:.3333333333rem;padding:.3333333333rem;height:3rem;display:flex;align-items:center;justify-content:space-evenly}.button[_ngcontent-%COMP%]{flex:1;transition:.5s;white-space:nowrap;min-width:auto}.glass-effect[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.overlay-effect[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:-2;-webkit-user-select:none;user-select:none}"]});let t=e;return t})();var it=class{};function q4(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit;y(),ye(n)}}var dM=(()=>{let e=class e extends it{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>this.inputs.positiveButtonText,click:()=>this.resolve(!0)},{text:()=>this.inputs.negativeButtonText,click:()=>this.resolve(!1)},{text:()=>"Cancel",click:()=>this.resolve(!1)}]}}submit(){this.resolve(!0)}close(){this.resolve(!1)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-confirmation-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,ze)("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),B(1,q4,2,1,"span",1),g()),i&2&&(y(),C("ngForOf",o.inputs.messages))},dependencies:[Z,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var _M=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S(Ro),S(mt))},e.\u0275dir=ut({type:e});let t=e;return t})(),G4=(()=>{let e=class e extends _M{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275dir=ut({type:e,features:[$e]});let t=e;return t})(),wM=new G("");var W4={provide:wM,useExisting:fc(()=>jr),multi:!0};function K4(){let t=ii()?ii().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Q4=new G(""),jr=(()=>{let e=class e extends _M{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!K4())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S(Ro),S(mt),S(Q4,8))},e.\u0275dir=ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ug([W4]),$e]});let t=e;return t})();var Y4=new G(""),X4=new G("");function EM(t){return t!=null}function IM(t){return Fo(t)?je(t):t}function CM(t){let e={};return t.forEach(n=>{e=n!=null?R(R({},e),n):e}),Object.keys(e).length===0?null:e}function bM(t,e){return e.map(n=>n(t))}function J4(t){return!t.validate}function TM(t){return t.map(e=>J4(e)?e:n=>e.validate(n))}function Z4(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){return CM(bM(n,e))}}function DM(t){return t!=null?Z4(TM(t)):null}function eq(t){if(!t)return null;let e=t.filter(EM);return e.length==0?null:function(n){let r=bM(n,e).map(IM);return Pp(r).pipe(ie(CM))}}function SM(t){return t!=null?eq(TM(t)):null}function hM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tq(t){return t._rawValidators}function nq(t){return t._rawAsyncValidators}function I0(t){return t?Array.isArray(t)?t:[t]:[]}function Yf(t,e){return Array.isArray(t)?t.includes(e):t===e}function fM(t,e){let n=I0(e);return I0(t).forEach(i=>{Yf(n,i)||n.push(i)}),n}function pM(t,e){return I0(e).filter(n=>!Yf(t,n))}var Xf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},C0=class extends Xf{get formDirective(){return null}get path(){return null}},Yl=class extends Xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},b0=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},kie=Ae(R({},rq),{"[class.ng-submitted]":"isSubmitted"}),ho=(()=>{let e=class e extends b0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(Yl,2))},e.\u0275dir=ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ce("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$e]});let t=e;return t})();var Kl="VALID",Qf="INVALID",ka="PENDING",Ql="DISABLED";function iq(t){return(Jf(t)?t.validators:t)||null}function oq(t){return Array.isArray(t)?DM(t):t||null}function sq(t,e){return(Jf(e)?e.asyncValidators:t)||null}function aq(t){return Array.isArray(t)?SM(t):t||null}function Jf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var T0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kl}get invalid(){return this.status===Qf}get pending(){return this.status==ka}get disabled(){return this.status===Ql}get enabled(){return this.status!==Ql}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pM(e,this._rawAsyncValidators))}hasValidator(e){return Yf(this._rawValidators,e)}hasAsyncValidator(e){return Yf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ka,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this.errors=null,this._forEachChild(r=>{r.disable(Ae(R({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kl,this._forEachChild(r=>{r.enable(Ae(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(R({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kl||this.status===ka)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ql:Kl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;let n=IM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Ql:this.errors?Qf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(Qf)?Qf:Kl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aq(this._rawAsyncValidators)}};var AM=new G("CallSetDisabledState",{providedIn:"root",factory:()=>D0}),D0="always";function cq(t,e){return[...e.path,t]}function lq(t,e,n=D0){dq(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),hq(t,e),pq(t,e),fq(t,e),uq(t,e)}function mM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function dq(t,e){let n=tq(t);e.validator!==null?t.setValidators(hM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=nq(t);e.asyncValidator!==null?t.setAsyncValidators(hM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();mM(e._rawValidators,i),mM(e._rawAsyncValidators,i)}function hq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xM(t,e)})}function fq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function mq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gq(t){return Object.getPrototypeOf(t.constructor)===G4}function vq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===jr?n=o:gq(o)?r=o:i=o}),i||r||n||null}function gM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yq=class extends T0{constructor(e=null,n,r){super(iq(n),sq(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _q={provide:Yl,useExisting:fc(()=>vi)},yM=Promise.resolve(),vi=(()=>{let e=class e extends Yl{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new yq,this._registered=!1,this.name="",this.update=new Ye,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=vq(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),mq(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lq(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){yM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&kn(i);yM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?cq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(C0,9),S(Y4,10),S(X4,10),S(wM,10),S(ji,8),S(AM,8))},e.\u0275dir=ut({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[re.None,"disabled","isDisabled"],model:[re.None,"ngModel","model"],options:[re.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ug([_q]),$e,Jr]});let t=e;return t})();var wq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({});let t=e;return t})();var vn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:AM,useValue:r.callSetDisabledState??D0}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=rn({type:e}),e.\u0275inj=on({imports:[wq]});let t=e;return t})();var Nt=class{static format(e,...n){do e=e.replace("%s",n.shift()||"");while(e.includes("%s"));return e}static capitalize(e){if(!this.isEmpty(e))return e.substring(0,1).toUpperCase()+e.substring(1)}static isEmpty(e){return!e||typeof e!="string"||e.trim().length<=0}static getWordCount(e){return e.split(new RegExp(`[^ /
]+`,"g")).length-1}};var MM=(()=>{let e=class e extends it{ngOnInit(){this.value=this.inputs.defaultValue,this.configuration={title:this.inputs.title,buttons:[{text:()=>"Cancel",click:()=>this.resolve(null)},{text:()=>this.inputs.positiveButtonText,disabled:()=>!this.canSubmit(),click:()=>{this.canSubmit()&&this.resolve(this.value)}}]}}canSubmit(){return!Nt.isEmpty(this.value)}submit(){this.canSubmit()&&this.resolve(this.value)}close(){this.resolve(null)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-input-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,ze)("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:1,vars:2,consts:[["autofocus","",3,"ngModel","placeholder","ngModelChange"]],template:function(i,o){i&1&&(m(0,"input",0),ri("ngModelChange",function(a){return Li(o.value,a)||(o.value=a),a}),g()),i&2&&(ni("ngModel",o.value),C("placeholder",o.inputs.placeholder))},dependencies:[Z,vn,jr,ho,vi],styles:["[_nghost-%COMP%]{width:650px;padding:.5rem}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})();function Eq(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit;y(),ye(n)}}var PM=(()=>{let e=class e extends it{ngOnInit(){this.configuration={title:this.inputs.title,buttons:[{text:()=>"OK",click:()=>this.resolve()}]}}submit(){this.resolve()}close(){this.resolve()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=er(e)))(o||e)}})(),e.\u0275cmp=K({type:e,selectors:[["app-message-dialog"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,ze)("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(m(0,"div",0),B(1,Eq,2,1,"span",1),g()),i&2&&(y(),C("ngForOf",o.inputs.messages))},dependencies:[Z,He],styles:[".container[_ngcontent-%COMP%]{padding:.9999999999rem}"]});let t=e;return t})();var Rt=(()=>{let e=class e{constructor(r,i){this.applicationRef=r,this.injector=i,this.dialogs=[]}createMessage(r,i){return this.create(PM,{title:r,messages:i})}createConfirmation(r,i,o,s){return this.create(dM,{title:r,messages:i,positiveButtonText:o,negativeButtonText:s})}createInput(r,i,o,s){return this.create(MM,{title:r,placeholder:i,defaultValue:o,positiveButtonText:s})}create(r,i){if(this.dialogs.some(a=>a.contentComponentType==r))return;let o=Ud(uM,{environmentInjector:this.injector}),s=o.instance;return s.contentComponentType=r,s.inputs=i,s.result.finally(()=>{k.remove(this.dialogs,this.dialogs.find(a=>a==s)),this.applicationRef.detachView(o.hostView),o.destroy()}),this.dialogs.push(s),this.applicationRef.attachView(o.hostView),document.body.firstElementChild.appendChild(o.location.nativeElement),o.changeDetectorRef.detectChanges(),s.result}};e.\u0275fac=function(i){return new(i||e)(L(br),L(Ct))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Iq(t,e){t&1&&J(0,"div",3),t&2&&C("@fade",void 0)}function Cq(t,e){t&1&&J(0,"span",4),t&2&&C("@fade",void 0)}var OM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.dialogService=i,this.hideLoadingBarDelay=new uo(1500),this.applicationService.initTheme(),Ui(()=>{this.applicationService.changes()&&this.hideLoadingBarDelay.restart()})}isBlurOverlayVisible(){return this.applicationService.loading()}getLoadingBarColor(){return this.applicationService.changes()?"orange":this.applicationService.errors()?"red":this.hideLoadingBarDelay.isActive()?"limegreen":"transparent"}};e.\u0275fac=function(i){return new(i||e)(S(rt),S(Rt))},e.\u0275cmp=K({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[["class","overlay-blur",4,"ngIf"],[1,"overlay-loading-bar"],["class","loading-spinner",4,"ngIf"],[1,"overlay-blur"],[1,"loading-spinner"]],template:function(i,o){i&1&&(B(0,Iq,1,1,"div",0),J(1,"div",1),B(2,Cq,1,1,"span",2),J(3,"router-outlet")),i&2&&(C("ngIf",o.isBlurOverlayVisible()),y(),tr("background-color",o.getLoadingBarColor()),y(),C("ngIf",o.applicationService.loading()))},dependencies:[Z,Re,Uw],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--color-text);background-color:var(--color-background-primary)}.overlay-blur[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100;position:absolute}.overlay-loading-bar[_ngcontent-%COMP%]{width:100%;height:1px;align-self:start;pointer-events:none;z-index:100;position:absolute;background-color:transparent;transition-property:background-color;transition-duration:.5s}.loading-spinner[_ngcontent-%COMP%]{width:75px;height:75px;border-width:3px;border-color:var(--color-background-secondary);border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s infinite linear;border-radius:50%;border-style:solid;position:absolute;z-index:100}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"],data:{animation:[Na]}});let t=e;return t})();var xn=class{static isImage(e){return e.mimeType.includes("image")&&e.thumbnailLink!=null}static isVideo(e){return e.mimeType.includes("video")&&e.thumbnailLink!=null}static isFolder(e){return e.mimeType=="application/vnd.google-apps.folder"}};var Fa=class{constructor(e){this.http=e,this.API_KEY="AIzaSyBLAfLb8QHSIqXPFTh2YJEMfMoW8EhJpRU"}createFile(e,n,r){let i="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(i,{name:e,parents:n,mimeType:r}))}createFolder(e,n){let r="https://content.googleapis.com/drive/v3/files?key="+this.API_KEY;return En(this.http.post(r,{name:e,mimeType:"application/vnd.google-apps.folder",parents:[n]}))}getFolderMetadata(e="root"){let r="https://content.googleapis.com/drive/v3/files?pageSize=1000&q="+("'"+e+"' in parents and trashed=false")+"&fields=files("+this.FIELDS+")&key="+this.API_KEY;return this.getFileArrayPromise(r)}getEntityMetadata(e){let n="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.get(n))}getContent(e){let n="https://www.googleapis.com/drive/v3/files/"+e;return En(this.http.get(n,{params:{alt:"media"},responseType:"json"}))}updateContent(e,n){let r="https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media";return En(this.http.patch(r,n))}move(e,n,r){let i="https://www.googleapis.com/drive/v3/files/"+e+"?removeParents="+n+"&addParents="+r+"&key="+this.API_KEY;return En(this.http.patch(i,{}))}trash(e){return this.updateMetadata(e,{trashed:!0})}updateProperty(e,n,r){return this.updateMetadata(e,{appProperties:{[n]:r}})}updateProperties(e,n){return this.updateMetadata(e,{appProperties:n})}openFolderById(e){let n="https://drive.google.com/drive/folders/"+e;window.open(n,"_blank")}openSearch(e){let n="https://drive.google.com/drive/search?q="+e+"%20title:"+e;window.open(n,"_blank")}updateMetadata(e,n){let r="https://content.googleapis.com/drive/v3/files/"+e+"?fields="+this.FIELDS+"&key="+this.API_KEY;return En(this.http.patch(r,n))}getFileArrayPromise(e,n){return n?En(this.http.post(e,n).pipe(ie(r=>r?r.files:[]))):En(this.http.get(e).pipe(ie(r=>r?r.files:[])))}};var Va=(()=>{let e=class e extends Fa{constructor(r){super(r),this.http=r,this.FIELDS="id,name,thumbnailLink,mimeType,imageMediaMetadata,videoMediaMetadata"}get dataFileId(){if(!this._fileId){let r=sessionStorage.getItem("dataFileId");r&&(this._fileId=r)}return this._fileId}set dataFileId(r){this._fileId=r,sessionStorage.setItem("dataFileId",r)}getData(){return _(this,null,function*(){let r="https://www.googleapis.com/drive/v3/files/"+this.dataFileId;return yield En(this.http.get(r,{params:{alt:"media"},responseType:"json"})).catch(i=>i)})}getBase64(r){return _(this,null,function*(){return new Promise(i=>{let o="https://www.googleapis.com/drive/v3/files/"+r;this.http.get(o,{params:{alt:"media"},responseType:"blob"}).subscribe(s=>{let a=new FileReader;a.onload=c=>i(c.target.result),a.readAsDataURL(s)})})})}};e.\u0275fac=function(i){return new(i||e)(L(Lo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bq(t,e){if(t&1){let n=Q();m(0,"span",6),I("click",function(){let o=A(n).$implicit,s=w(2);return x(s.onDataFileClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;y(),ye(n.name.substring(0,n.name.length-10))}}function Tq(t,e){if(t&1){let n=Q();m(0,"span",6),I("click",function(){let o=A(n).$implicit,s=w(2);return x(s.onFolderClick(o))}),N(1),g()}if(t&2){let n=e.$implicit;y(),ye(n.name)}}function Dq(t,e){if(t&1&&(m(0,"div",4),B(1,bq,2,1,"span",5)(2,Tq,2,1,"span",5),g()),t&2){let n=w();y(),C("ngForOf",n.dataFiles),y(),C("ngForOf",n.folders)}}var RM=(()=>{let e=class e{constructor(r,i,o){this.router=r,this.googleService=i,this.applicationService=o,this.FOLDER_ROOT="root",this.FOLDER_GALLERY_DATA="gallerydata",this.SUFFIX_DATA_FILE="-data.json",this.SUFFIX_ARCHIVE_FOLDER="-archive",this.applicationService.loading.set(!0)}ngOnInit(){return _(this,null,function*(){let r=yield this.googleService.getFolderMetadata();this.dataFolder=r.find(s=>s.name==this.FOLDER_GALLERY_DATA),this.dataFolder||(this.dataFolder=yield this.googleService.createFolder(this.FOLDER_GALLERY_DATA,this.FOLDER_ROOT));let i=yield this.googleService.getFolderMetadata(this.dataFolder.id);this.dataFiles=i.filter(s=>s.name.endsWith(this.SUFFIX_DATA_FILE));let o=this.dataFiles.map(s=>s.name.substring(0,s.name.indexOf(this.SUFFIX_DATA_FILE)));this.folders=r.filter(s=>xn.isFolder(s)&&!o.includes(s.name)&&s.name!=this.FOLDER_GALLERY_DATA),this.applicationService.loading.set(!1)})}onDataFileClick(r){this.applicationService.loading.set(!0),this.googleService.dataFileId=r.id,this.router.navigate(["/gallery"])}onFolderClick(r){return _(this,null,function*(){this.applicationService.loading.set(!0);let i=yield this.googleService.createFile(r.name+this.SUFFIX_DATA_FILE,[this.dataFolder.id],"application/json"),o=yield this.googleService.createFolder(r.name+this.SUFFIX_ARCHIVE_FOLDER,this.dataFolder.id);this.googleService.dataFileId=i.id,this.googleService.updateContent(i.id,{dataFolderId:r.id,archiveFolderId:o.id,imageProperties:[],groupProperties:[],tags:[],heartsFilter:0,bookmarksFilter:0,groupSizeFilterMin:0,groupSizeFilterMax:999}).then(()=>{this.router.navigate(["/gallery"])})})}};e.\u0275fac=function(i){return new(i||e)(S(gn),S(Va),S(rt))},e.\u0275cmp=K({type:e,selectors:[["app-folder-picker"]],standalone:!0,features:[Y],decls:4,vars:4,consts:[[1,"container"],["class","folders-container",4,"ngIf"],[1,"buttons-container"],["tp","Toggle Low Bandwidth Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"folders-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),B(1,Dq,3,2,"div",1),m(2,"div",2)(3,"i",3),I("click",function(){return o.applicationService.reduceBandwidth=!o.applicationService.reduceBandwidth}),g()()()),i&2&&(Ce("opacity-1",!o.applicationService.loading()),y(),C("ngIf",!0),y(2),C("ngClass",o.applicationService.reduceBandwidth?"fa-signal":"fa-wifi"))},dependencies:[Z,Tt,He,Re],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--color-text);gap:.3333333333rem;opacity:0;transition-property:opacity;transition-duration:.5s}.folders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid var(--color-text);border-radius:.3333333333rem;width:300px}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.3333333333rem;border-bottom:1px solid var(--color-text);cursor:pointer;-webkit-user-select:none;user-select:none}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.folders-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{border:0}.buttons-container[_ngcontent-%COMP%]{display:flex}"]});let t=e;return t})();var NM=(()=>{let e=class e{set ngVar(r){this.context.ngVar=r}static ngTemplateContextGuard(r,i){return!0}constructor(r,i){this.containerRef=r,this.templateRef=i,this.context=new A0,this.containerRef.createEmbeddedView(this.templateRef,this.context)}};e.\u0275fac=function(i){return new(i||e)(S(jt),S(Xn))},e.\u0275dir=ut({type:e,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0});let t=e;return t})(),A0=class{};var ep=class{constructor(){this.images=[]}};var tp=class{};var np=class extends tp{};function Sq(t,e){if(t&1){let n=Q();m(0,"i",4),I("mousedown",function(i){A(n);let o=w();return x(o.onMouseDown(i))})("click",function(i){A(n);let o=w();return x(o.nextState(i))})("contextmenu",function(i){A(n);let o=w();return x(o.previousState(i))}),g()}if(t&2){let n=w();C("ngClass",n.tri?"fa-circle-xmark":"fa-circle")}}function Aq(t,e){if(t&1){let n=Q();m(0,"i",5),I("mousedown",function(i){A(n);let o=w();return x(o.onMouseDown(i))})("click",function(i){A(n);let o=w();return x(o.nextState(i))})("contextmenu",function(i){A(n);let o=w();return x(o.previousState(i))}),g()}}function xq(t,e){if(t&1){let n=Q();m(0,"i",6),I("mousedown",function(i){A(n);let o=w();return x(o.onMouseDown(i))})("click",function(i){A(n);let o=w();return x(o.nextState(i))})("contextmenu",function(i){A(n);let o=w();return x(o.previousState(i))}),g()}}var kM=(()=>{let e=class e{constructor(){this.tri=!1,this.stateChange=new Ye}ngOnInit(){this.state||(this.state=this.tri?0:-1)}onMouseDown(r){this.clickX=r.pageX,this.clickY=r.pageY}nextState(r){switch(this.state){case-1:this.state=this.tri?0:1,r.state=this.tri?0:1;break;case 0:this.state=1,r.state=1;break;case 1:this.state=-1,r.state=-1;break}this.stateChange.emit(r)}previousState(r){switch(r.preventDefault(),this.state){case-1:this.state=1,r.state=1;break;case 0:this.state=-1,r.state=-1;break;case 1:this.state=this.tri?0:-1,r.state=this.tri?0:-1;break}this.stateChange.emit(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-switch"]],inputs:{tri:"tri",state:"state"},outputs:{stateChange:"stateChange"},standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"container"],["class","negative fa-regular",3,"ngClass","mousedown","click","contextmenu",4,"ngIf"],["class","neutral fa-regular fa-circle",3,"mousedown","click","contextmenu",4,"ngIf"],["class","positive fa-regular fa-circle-check",3,"mousedown","click","contextmenu",4,"ngIf"],[1,"negative","fa-regular",3,"ngClass","mousedown","click","contextmenu"],[1,"neutral","fa-regular","fa-circle",3,"mousedown","click","contextmenu"],[1,"positive","fa-regular","fa-circle-check",3,"mousedown","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0),B(1,Sq,1,1,"i",1)(2,Aq,1,0,"i",2)(3,xq,1,0,"i",3),g()),i&2&&(Ce("tri",o.tri),y(),C("ngIf",o.state==-1),y(),C("ngIf",o.state==0),y(),C("ngIf",o.state==1))},dependencies:[Z,Tt,Re],styles:[".container[_ngcontent-%COMP%]{cursor:pointer;margin-left:1px}.container.tri[_ngcontent-%COMP%] > .negative[_ngcontent-%COMP%]{color:#b22222}.container[_ngcontent-%COMP%] > .positive[_ngcontent-%COMP%]{color:#228b22}"]});let t=e;return t})();function Mq(t,e){if(t&1){let n=Q();Je(0),m(1,"div",1)(2,"app-switch",2),I("stateChange",function(i){A(n);let o=w();return x(o.onShowVideosStateChange(i))}),g(),m(3,"span",3),N(4,"Show Videos"),g()(),m(5,"div",1)(6,"app-switch",4),I("stateChange",function(i){A(n);let o=w();return x(o.onAutoBookmarkStateChange(i))}),g(),m(7,"span",3),N(8,"Auto Bookmark"),g()(),Ze()}if(t&2){let n=w();y(2),C("state",n.stateService.settings.showVideos),y(4),C("state",n.stateService.settings.autoBookmark)}}var rp=(()=>{let e=class e extends it{constructor(r){super(),this.stateService=r,this.configuration={title:"Settings",buttons:[{text:()=>"OK",click:()=>this.close()}],hideHeaderCloseButton:!0},this.needsFilterRefresh=!1,this.needsDataUpdate=!1}ngOnInit(){this.stateService.settings||(this.stateService.settings={})}onShowVideosStateChange(r){this.needsFilterRefresh=!0,this.needsDataUpdate=!0,this.stateService.settings.showVideos=r.state}onAutoBookmarkStateChange(r){this.needsDataUpdate=!0,this.stateService.settings.autoBookmark=r.state}close(){this.stateService.images&&(this.needsFilterRefresh&&this.stateService.updateFilters(),this.needsDataUpdate&&this.stateService.save()),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-settings"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.close(a)},!1,ze)("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"switch-container"],["tp","Show videos",3,"state","stateChange"],[1,"nowrap"],["tp","Bookmark new images automatically",3,"state","stateChange"]],template:function(i,o){i&1&&B(0,Mq,9,2,"ng-container",0),i&2&&C("ngIf",o.stateService.settings)},dependencies:[Z,Re,kM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > .switch-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();var ot=(()=>{let e=class e{constructor(r,i,o,s){this.sanitizer=r,this.applicationService=i,this.googleService=o,this.dialogService=s,this.updateDelay=new uo(5e3),this.images=[],this.filter=ei([]),this.target=ei(null),this.filterFavorite={},this.filterBookmark={},this.filterGroupSizeMin={},this.filterGroupSizeMax={}}processData(){return _(this,null,function*(){let r=yield this.googleService.getData();this.dataFolderId=r.dataFolderId,this.archiveFolderId=r.archiveFolderId,this.filterFavorite.state=r.heartsFilter,this.filterBookmark.state=r.bookmarksFilter,this.filterGroupSizeMin.state=r.groupSizeFilterMin,this.filterGroupSizeMax.state=r.groupSizeFilterMax,this.comparison=r.comparison,this.tags=r.tags,this.tags.forEach(o=>o.lowerCaseName=o.name.toLowerCase()),r.settings?this.settings=r.settings:yield this.dialogService.create(rp);let i=new Set;yield this.processImages(r,this.dataFolderId,this.images,i),yield Promise.all(i);for(let o of r.imageProperties.filter(s=>!this.images.some(a=>s.id==a.id)))console.log(o),console.log("This image does not exist, but has a data entry. Removing image entry from data."),k.remove(this.images,this.images.find(s=>s.id==o.id));this.groups=r.groupProperties.map(o=>{let s=new ep;return s.images=this.images.filter(a=>o.imageIds.includes(a.id)),s.images.sort((a,c)=>o.imageIds.indexOf(a.id)-o.imageIds.indexOf(c.id)),s.images.forEach(a=>a.group=s),s}),this.updateFilters(),this.applicationService.loading.set(!1),this.save()})}processImages(r,i,o,s){return _(this,null,function*(){let a=yield this.googleService.getFolderMetadata(i);for(let c of a.filter(l=>xn.isFolder(l)))s.add(this.processImages(r,c.id,o,s));k.push(o,a.filter(c=>xn.isImage(c)||xn.isVideo(c)).map(c=>this.metaToImage(c,r.imageProperties.find(l=>l.id==c.id),i,this.applicationService.reduceBandwidth)))})}metaToImage(r,i,o,s){let a=new np;return a.id=r.id,a.name=r.name,a.mimeType=r.mimeType,a.parentFolderId=o,s?a.thumbnailLink=r.thumbnailLink:a.thumbnailLink=r.thumbnailLink.replace("=s220","=w440"),xn.isImage(a)?(a.imageMediaMetadata=r.imageMediaMetadata,a.aspectRatio=a.imageMediaMetadata.width/a.imageMediaMetadata.height,a.contentLink=r.thumbnailLink.replace("=s220","=s"+Math.max(window.screen.width,window.screen.height))):xn.isVideo(a)&&(a.videoMediaMetadata=r.videoMediaMetadata,a.videoMediaMetadata||(a.videoMediaMetadata={}),(!a.videoMediaMetadata.width||a.videoMediaMetadata.width==0)&&(a.videoMediaMetadata.width=1920),(!a.videoMediaMetadata.height||a.videoMediaMetadata.height==0)&&(a.videoMediaMetadata.height=1080),a.aspectRatio=a.videoMediaMetadata.width/a.videoMediaMetadata.height,a.contentLink=this.sanitizer.bypassSecurityTrustResourceUrl("https://drive.google.com/file/d/"+a.id+"/preview")),i?(a.heart=i.heart,a.bookmark=i.bookmark,a.tagIds=i.tagIds||[]):(this.settings.autoBookmark&&(a.bookmark=!0),a.tagIds=[]),a}save(r=!1){this.applicationService.changes.set(!0),this.updateDelay.restart(()=>{this.googleService.updateContent(this.googleService.dataFileId,{dataFolderId:this.dataFolderId,archiveFolderId:this.archiveFolderId,settings:this.settings,imageProperties:this.images.map(i=>({id:i.id,heart:i.heart,bookmark:i.bookmark,tagIds:i.tagIds})),groupProperties:this.groups.filter(i=>i.images?.length>1).map(i=>({imageIds:i.images.map(o=>o.id)})),tags:this.tags.map(i=>({id:i.id,name:i.name,state:i.state})).sort((i,o)=>i.name.localeCompare(o.name)),heartsFilter:this.filterFavorite,bookmarksFilter:this.filterBookmark,groupSizeFilterMin:this.filterGroupSizeMin,groupSizeFilterMax:this.filterGroupSizeMax,comparison:this.comparison}).then(i=>{i||this.applicationService.errors.set(!0)}).finally(()=>{this.applicationService.changes.set(!1)})}),r&&this.updateDelay.complete()}updateFilters(r){r?r.passesFilter=this.doesPassFilter(r):this.images.forEach(i=>i.passesFilter=this.doesPassFilter(i)),this.filter.set(this.images.filter(i=>i.passesFilter))}doesPassFilter(r){if(!r||this.filterFavorite.state==-1&&r.heart||this.filterFavorite.state==1&&!r.heart||this.filterBookmark.state==-1&&r.bookmark||this.filterBookmark.state==1&&!r.bookmark||this.settings.showVideos==-1&&xn.isVideo(r)||this.groupEditorGroup&&r.group&&!this.groupEditorGroup.images.includes(r))return!1;let i=r.group?r.group.images.length:0;if(i<this.filterGroupSizeMin.state||i>this.filterGroupSizeMax.state)return!1;let o;for(let s of this.tags)if(o=r.tagIds.includes(s.id),s.state==-1&&o||s.state==1&&!o)return!1;return!0}toggleFavorite(r,i=!1){r.heart=!r.heart,i&&(this.updateFilters(r),this.save())}toggleBookmark(r,i=!1){r.bookmark=!r.bookmark,i&&(this.updateFilters(r),this.save())}toggleTag(r,i,o=!1){k.toggle(r.tagIds,i.id),o&&(this.updateFilters(r),this.save())}delete(r,i,o=!0){return _(this,null,function*(){if(!(o&&!(yield this.dialogService.createConfirmation("Confirmation",["Are you sure you want to "+(i?"archive":"delete")+" this image?"],"Yes","No")))){if(this.applicationService.loading.set(!0),i?yield this.googleService.move(r.id,r.parentFolderId,this.archiveFolderId):yield this.googleService.trash(r.id),k.remove(this.images,this.images.find(s=>s.id==r.id)),r.group&&(r.group.images.length>2?k.remove(r.group.images,r):(r.group.images.forEach(s=>delete s.group),k.remove(this.groups,r.group))),this.comparison!=null)for(let s of Object.values(this.comparison))s.includes(r.id)&&k.remove(s,r.id);this.filter.set(this.images.filter(s=>s.passesFilter)),this.target.set(null),this.save(!0),this.applicationService.loading.set(!1)}})}getTag(r){return this.tags.find(i=>i.id==r)}};e.\u0275fac=function(i){return new(i||e)(L(x_),L(rt),L(Va),L(Rt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Pq(t,e){if(t&1){let n=Q();m(0,"span",12),I("click",function(){let o=A(n).$implicit,s=w();return x(s.toggleFilter(o))})("contextmenu",function(i){let s=A(n).$implicit,a=w();return i.preventDefault(),x(a.galleryService.openTagEditor(s))}),N(1),g()}if(t&2){let n=e.$implicit,r=w();C("ngClass",r.getFilterClass(n)),y(),ye(n.name)}}var FM=(()=>{let e=class e extends it{constructor(r,i){super(),this.galleryService=r,this.stateService=i,this.configuration={title:"Filter Configuration",buttons:[{text:()=>"OK",click:()=>this.close()}],hideHeaderCloseButton:!0}}getFilterClass(r,i=!1){switch(r.state){case 1:return"positive "+(i?"fa-solid":"");case-1:return"negative "+(i?"fa-solid":"");default:return i?"fa-regular":""}}toggleFilter(r){r.state=r.state==0?1:r.state==1?-1:0,this.stateService.updateFilters()}clearFilters(){this.stateService.tags.forEach(r=>r.state=0),this.stateService.updateFilters()}isActiveFilter(){return this.stateService.tags.some(r=>r.state!=0)}close(){this.stateService.save(),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(S(Ur),S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-filter"]],hostBindings:function(i,o){i&1&&I("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:21,vars:7,consts:[[2,"display","flex","gap","1rem","justify-content","center"],[1,"filter-list-row","flex","gap","center",3,"click","contextmenu"],[1,"fa-heart",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",3,"ngClass"],[1,"h-separator"],[1,"filter-list-container"],["class","filter-list-row",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",2,"flex","1","gap","0.33333333rem",3,"click"],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-filter-circle-xmark"],[1,"filter-list-row",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1),I("click",function(){return o.toggleFilter(o.stateService.filterFavorite)})("contextmenu",function(a){return a.preventDefault(),o.toggleFilter(o.stateService.filterFavorite)}),J(2,"i",2),m(3,"span",3),N(4,"Favorites"),g()(),m(5,"div",1),I("click",function(){return o.toggleFilter(o.stateService.filterBookmark)})("contextmenu",function(a){return a.preventDefault(),o.toggleFilter(o.stateService.filterBookmark)}),J(6,"i",4),m(7,"span",3),N(8,"Bookmarks"),g()()(),J(9,"div",5),m(10,"div",6),B(11,Pq,2,2,"span",7),g(),m(12,"div",8)(13,"div",9),I("click",function(){return o.galleryService.openTagEditor()}),J(14,"i",10),m(15,"span"),N(16,"Create"),g()(),m(17,"div",9),I("click",function(){return o.clearFilters()}),J(18,"i",11),m(19,"span"),N(20,"Clear"),g()()()),i&2&&(y(2),C("ngClass",o.getFilterClass(o.stateService.filterFavorite,!0)),y(),C("ngClass",o.getFilterClass(o.stateService.filterFavorite)),y(3),C("ngClass",o.getFilterClass(o.stateService.filterBookmark,!0)),y(),C("ngClass",o.getFilterClass(o.stateService.filterBookmark)),y(4),C("ngForOf",o.stateService.tags),y(6),Ce("disabled",!o.isActiveFilter()))},dependencies:[Z,Tt,He],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;flex-wrap:wrap;column-gap:1rem;row-gap:.3333333333rem;overflow:auto}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{width:max-content}}[_nghost-%COMP%]   .filter-list-row[_ngcontent-%COMP%]{cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:-.6666666666rem;margin-top:0}"]});let t=e;return t})();var VM=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var LM=(()=>{let e=class e extends it{constructor(r,i){super(),this.dialogService=r,this.stateService=i,this.configuration={title:"Tag Editor",buttons:[{text:()=>"Delete",hidden:()=>this.inputs.tag==null,click:()=>this.deleteTag()},{text:()=>"Cancel",click:()=>this.close()},{text:()=>this.inputs.tag?"Save":"Create",disabled:()=>!this.canSubmit(),click:()=>this.submit()}]}}ngOnInit(){this.inputs.tag&&(this.inputs.tagName=this.inputs.tag.name)}deleteTag(){this.inputs.tag&&this.dialogService.createConfirmation("Delete Tag",['Are you sure you want to delete tag "'+this.inputs.tag.name+'"?'],"Yes","No").then(r=>{if(r){for(let i of this.stateService.images)k.remove(i.tagIds,this.inputs.tag.id);k.remove(this.stateService.tags,this.inputs.tag),this.stateService.save(),this.resolve(null)}})}canSubmit(){return Nt.isEmpty(this.inputs.tagName)?!1:this.inputs.tag&&this.inputs.tagName==this.inputs.tag.name?!0:this.stateService.tags.find(r=>this.inputs.tagName==r.name)==null}submit(){this.canSubmit()&&(this.inputs.tag?(this.inputs.tag.name=this.inputs.tagName,this.inputs.tag.lowerCaseName=this.inputs.tagName.toLowerCase()):(this.inputs.tag={id:VM(),name:this.inputs.tagName,state:0,lowerCaseName:this.inputs.tagName.toLowerCase()},this.stateService.tags.push(this.inputs.tag)),this.stateService.tags.sort((r,i)=>r.name.localeCompare(i.name)),this.stateService.save(),this.resolve(this.inputs.tag))}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(S(Rt),S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery-tag-editor"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:4,vars:1,consts:[[1,"element-label"],[1,"element-container"],[1,"element",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&(m(0,"span",0),N(1,"Name"),g(),m(2,"div",1)(3,"input",2),ri("ngModelChange",function(a){return Li(o.inputs.tagName,a)||(o.inputs.tagName=a),a}),g()()),i&2&&(y(3),ni("ngModel",o.inputs.tagName))},dependencies:[Z,vn,jr,ho,vi],styles:["[_nghost-%COMP%]{display:grid;align-content:center;grid-template-columns:auto 1fr;grid-auto-rows:min-content;row-gap:.3333333333rem;column-gap:.3333333333rem;padding:.9999999999rem}[_nghost-%COMP%]   .element-label[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]{width:300px;height:3rem;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .element-container[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{flex:1;height:3rem;box-sizing:border-box}"]});let t=e;return t})();var La=(()=>{let e=class e{constructor(r){let i=r.element.nativeElement;i.draggable=!0,i.ondragstart=()=>e.onDragStart(this.array,this.array.indexOf(this.object)),i.ondragenter=()=>e.onDragEnter(this.array,this.array.indexOf(this.object)),i.ondragend=()=>e.onDragEnd(this.array),i.ondragover=o=>o.preventDefault()}static onDragStart(r,i){this.currentArray==null&&this.currentIndex==null&&(this.currentArray=r,this.currentIndex=i)}static onDragEnter(r,i){this.currentArray==r&&this.currentIndex!=i&&(this.currentArray.splice(i,0,this.currentArray.splice(this.currentIndex,1)[0]),this.currentIndex=i)}static onDragEnd(r){this.currentArray==r&&(this.currentArray=null,this.currentIndex=null)}};e.\u0275fac=function(i){return new(i||e)(S(jt))},e.\u0275dir=ut({type:e,selectors:[["","dragdrop",""]],inputs:{object:[re.None,"dragdrop","object"],array:[re.None,"dragdropParent","array"]},standalone:!0});let t=e;return t})();function Oq(t,e){t&1&&(m(0,"span"),N(1,"No Images"),g())}function Rq(t,e){if(t&1){let n=Q();m(0,"div",4),I("click",function(){let o=A(n).$implicit,s=w(3);return x(s.stateService.target.set(o))}),m(1,"i",5),I("click",function(i){let s=A(n).$implicit,a=w(3);return i.stopPropagation(),x(a.remove(s))}),g(),J(2,"img",6),g()}if(t&2){let n=e.$implicit,r=w(3);C("dragdrop",n)("dragdropParent",r.stateService.groupEditorGroup.images),y(2),C("src",n.thumbnailLink,Nn)}}function Nq(t,e){if(t&1&&(m(0,"div",2),B(1,Rq,3,3,"div",3),g()),t&2){let n=w(2);y(),C("ngForOf",n.stateService.groupEditorGroup.images)}}function kq(t,e){if(t&1&&(Je(0),B(1,Oq,2,0,"span",0)(2,Nq,2,1,"div",1),Ze()),t&2){let n=w();y(),C("ngIf",n.stateService.groupEditorGroup.images.length==0),y(),C("ngIf",n.stateService.groupEditorGroup.images.length>0)}}var jM=(()=>{let e=class e extends it{constructor(r){super(),this.stateService=r,this.configuration={title:"Group Editor",buttons:[{text:()=>"Disband",hidden:()=>this.inputs.sourceGroup==null,click:()=>this.disband()},{text:()=>"Save",disabled:()=>this.stateService.groupEditorGroup.images.length==0,click:()=>this.save()},{text:()=>"Cancel",click:()=>this.close()}],hideClickOverlay:!0}}ngOnInit(){this.stateService.groupEditorGroup={images:this.inputs.sourceGroup?[...this.inputs.sourceGroup.images]:[]},this.stateService.updateFilters()}remove(r){k.remove(this.stateService.groupEditorGroup.images,r)}disband(){let r=this.inputs.sourceGroup;if(r){k.remove(this.stateService.groups,r);for(let i of r.images)i.group=null}}save(){let r=this.inputs.sourceGroup,i=this.stateService.groupEditorGroup;i.images.length>0&&(r?(r.images.forEach(o=>o.group=null),r.images=[...i.images],r.images.forEach(o=>o.group=r)):(this.stateService.groups.push(i),i.images.forEach(o=>o.group=i)),this.stateService.save(),this.close())}close(){this.stateService.groupEditorGroup=null,this.stateService.updateFilters(),this.resolve()}};e.\u0275fac=function(i){return new(i||e)(S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-group-editor"]],standalone:!0,features:[$e,Y],decls:1,vars:1,consts:[[4,"ngIf"],["class","order-container",4,"ngIf"],[1,"order-container"],["class","image-container",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"image-container",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-times",3,"click"],[1,"image",3,"src"]],template:function(i,o){i&1&&B(0,kq,3,2,"ng-container",0),i&2&&C("ngIf",o.stateService.groupEditorGroup)},dependencies:[Z,He,Re,La],styles:["[_nghost-%COMP%]{height:120px;min-height:120px;display:flex;align-items:center;justify-content:center;padding:1rem}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]{height:120px;min-height:120px;display:flex;gap:.3333333333rem;overflow:auto}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border-radius:.3333333333rem;cursor:pointer}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{opacity:0;pointer-events:none;position:absolute;top:0;right:0}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .order-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();var vs=class t{static getBetterThan(e,n,r,i=[]){for(let o of r[e])k.push(i,o),t.getBetterThan(o,n,r,i);return i}static getFirst(e){for(let n of e)if(n.getBetterThan().length==e.length-1)return n}static getLeaderboard(e,n){let r=[],i=e;for(;i;)r.push(i),i.directlyBetterThan.length==1?i=i.directlyBetterThan[0]:i=null;let o=[];return n.filter(s=>!r.includes(s)).forEach(s=>o.push([s,s.getBetterThan().length])),o.sort((s,a)=>a[1]-s[1]),k.push(r,o.map(s=>s[0])),r}};var ip=class{constructor(e,n){this.id=e,this.object=n,this.directlyBetterThan=[]}isBetterThan(e){return this.betterThan||this.getBetterThan(),this.betterThan.includes(e)}getBetterThan(){if(!this.betterThan){this.betterThan=this.directlyBetterThan.slice();for(let e of this.directlyBetterThan)k.push(this.betterThan,e.getBetterThan())}return this.betterThan}clearBetterThan(){this.betterThan&&(this.betterThan.length=0)}};var ja=class{constructor(e,n,r){if(this.contenders=[],this.queue=[],this.winnersQueue=[],this.losersQueue=[],this.leaderboard=[],this.first=null,this.resolvingTiesFor=null,this.history=[],this.contenders=e.map(i=>new ip(n(i),i)),this.maxHistoryLength=Math.min(10,Math.round(this.contenders.length/4)),r&&Object.keys(r).length>0)for(let i of this.contenders)i.directlyBetterThan=r[i.id]?.map(o=>this.contenders.find(s=>s.id==o))||[];this.first=vs.getFirst(this.contenders),this.first?this.currentQueueType="tiebreaker":(this.currentQueueType="start",this.queue=this.contenders.slice()),this.leaderboard=vs.getLeaderboard(this.first,this.contenders),this.nextComparison()}nextComparison(){switch(this.currentQueueType){case"start":case"winners":case"losers":this.nextComparisonUntilFirst();break;case"tiebreaker":this.nextComparisonTiebreaker();break}}nextComparisonUntilFirst(){let e=this.queue.shift(),n=this.queue.shift();e.isBetterThan(n)?this.handleUserInput(e,n):n.isBetterThan(e)?this.handleUserInput(n,e):(this.currentComparison=[e,n],this.leaderboard=vs.getLeaderboard(this.first,this.contenders))}nextComparisonTiebreaker(){this.resolvingTiesFor=null,this.history.length=Math.min(this.history.length,this.maxHistoryLength);let e=this.history.slice(),n=1,r,i;do{for(let o of this.contenders)i=o.directlyBetterThan.filter(s=>!e.includes(s)),i.length>n&&(n=i.length,r=i,this.resolvingTiesFor=o);if(e.length==0)break;e.length=e.length-2}while(this.resolvingTiesFor==null);if(this.resolvingTiesFor){let o=r[0],s=r[1];o.isBetterThan(s)?(k.remove(this.resolvingTiesFor.directlyBetterThan,s),k.push(o.directlyBetterThan,s),this.nextComparison()):s.isBetterThan(o)?(k.remove(this.resolvingTiesFor.directlyBetterThan,o),k.push(s.directlyBetterThan,o),this.nextComparison()):(this.currentComparison=[o,s],this.history.unshift(o,s),this.leaderboard=vs.getLeaderboard(this.first,this.contenders))}else this.currentComparison=null}handleUserInput(e,n){switch(this.currentQueueType){case"start":if(k.push(this.winnersQueue,e),k.push(this.losersQueue,n),k.push(e.directlyBetterThan,n),this.queue.length<=1){let r=this.queue.shift();r&&this.winnersQueue.unshift(r),this.queue=this.winnersQueue.slice(),this.winnersQueue.length=0,this.currentQueueType="winners"}break;case"winners":k.push(this.winnersQueue,e),k.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.winnersQueue.unshift(this.queue[0]),this.queue=this.losersQueue.slice(),this.losersQueue.length=0,this.currentQueueType="losers");break;case"losers":k.push(this.losersQueue,n),k.push(e.directlyBetterThan,n),this.queue.length<=1&&(this.queue.length==1&&this.losersQueue.unshift(this.queue[0]),this.queue=this.winnersQueue.slice(),this.queue.length==1?(this.first=this.winnersQueue.shift(),console.log(this.first),this.queue.length=0,this.currentQueueType="tiebreaker"):(this.winnersQueue.length=0,this.currentQueueType="winners"));break;case"tiebreaker":k.remove(this.resolvingTiesFor.directlyBetterThan,n),k.push(e.directlyBetterThan,n);break}this.contenders.forEach(r=>r.clearBetterThan()),this.nextComparison()}reset(){this.first=null,this.currentQueueType="start",this.leaderboard=this.contenders.slice(),this.contenders.forEach(e=>e.directlyBetterThan.length=0),this.queue=this.contenders.slice(),this.nextComparison()}};function Fq(t,e){if(t&1){let n=Q();m(0,"div",4)(1,"div",5),I("click",function(){A(n);let i=w();return x(i.onImageClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),J(2,"img",6),g(),J(3,"div",7),m(4,"div",5),I("click",function(){A(n);let i=w();return x(i.onImageClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),J(5,"img",6),g()()}if(t&2){let n=w();y(2),C("src",n.tournament.currentComparison[0].object.thumbnailLink,Nn),y(3),C("src",n.tournament.currentComparison[1].object.thumbnailLink,Nn)}}function Vq(t,e){if(t&1&&(m(0,"div",8),J(1,"img",6),g()),t&2){let n=e.$implicit;y(),C("src",n.object.thumbnailLink,Nn)}}var UM=(()=>{let e=class e extends it{constructor(r){super(),this.stateService=r,this.configuration={title:"Image Comparison",buttons:[{text:()=>"Reset",click:()=>this.reset()},{text:()=>"Save",click:()=>this.save()}]}}ngOnInit(){this.tournament=new ja(this.inputs.images,r=>r.id,this.stateService.comparison)}onImageClick(r,i){this.tournament.handleUserInput(r,i)}reset(){this.tournament.reset()}save(){let r={};for(let i of this.tournament.contenders)r[i.id]=i.directlyBetterThan.map(o=>o.id);this.stateService.comparison=r,this.stateService.save(!0),this.resolve(!1)}close(){this.resolve(!1)}};e.\u0275fac=function(i){return new(i||e)(S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-image-comparison"]],standalone:!0,features:[$e,Y],decls:4,vars:2,consts:[["class","comparison",4,"ngIf"],[1,"h-separator"],[1,"results"],["class","image-container",4,"ngFor","ngForOf"],[1,"comparison"],[1,"image-container",3,"click"],[1,"image",3,"src"],[1,"v-separator"],[1,"image-container"]],template:function(i,o){i&1&&(B(0,Fq,6,2,"div",0),J(1,"div",1),m(2,"div",2),B(3,Vq,2,1,"div",3),g()),i&2&&(C("ngIf",o.tournament.currentComparison),y(3),C("ngForOf",o.tournament.leaderboard))},dependencies:[Z,He,Re],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;width:max-content}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;overflow:hidden}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{flex:1;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;cursor:pointer}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:hover{background-color:var(--color-border)}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain;border-radius:.3333333333rem}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{height:200px;min-height:200px;overflow:auto;display:flex;flex-wrap:wrap;justify-content:center;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(300px + .6666666666rem);padding:.3333333333rem}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{width:calc(700px + 1.9999999998rem + .5533333333rem);padding:.3333333333rem 0 .3333333333rem .5533333333rem}}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100px;height:100px;display:flex;position:relative;justify-content:center;align-items:center}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;border-radius:.3333333333rem}"]});let t=e;return t})();function Lq(t,e){if(t&1){let n=Q();m(0,"span",11),I("click",function(){let o=A(n).$implicit,s=w();return x(s.stateService.toggleTag(s.inputs.image,o))})("contextmenu",function(i){let s=A(n).$implicit,a=w();return i.preventDefault(),x(a.galleryService.openTagEditor(s))}),N(1),g()}if(t&2){let n=e.$implicit,r=w();C("ngClass",r.getTagClass(n)),y(),ye(n.name)}}var BM=(()=>{let e=class e extends it{constructor(r,i){super(),this.galleryService=r,this.stateService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Save",click:()=>this.close()}],hideHeaderCloseButton:!0}}getFavoriteClass(r){return this.inputs.image.heart?r?"positive fa-solid":"positive":r?"fa-regular":""}getBookmarkClass(r){return this.inputs.image.bookmark?r?"positive fa-solid":"positive":r?"fa-regular":""}getTagClass(r,i=!1){return this.inputs.image.tagIds.includes(r.id)?i?"positive fa-solid":"positive":i?"fa-regular":""}close(){this.stateService.save(),this.stateService.updateFilters(),this.resolve(!0)}};e.\u0275fac=function(i){return new(i||e)(S(Ur),S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-tag-manager"]],hostBindings:function(i,o){i&1&&I("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:17,vars:5,consts:[[2,"display","flex","gap","1rem","justify-content","center"],[1,"filter-list-row","flex","gap","center",3,"click","contextmenu"],[1,"fa-heart",3,"ngClass"],[3,"ngClass"],[1,"fa-bookmark",3,"ngClass"],[1,"h-separator"],[1,"filter-list-container"],["class","filter-list-row",3,"ngClass","click","contextmenu",4,"ngFor","ngForOf"],[1,"buttons-container"],[1,"button",2,"flex","1","gap","0.33333333rem",3,"click"],[1,"fa-solid","fa-plus"],[1,"filter-list-row",3,"ngClass","click","contextmenu"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"div",1),I("click",function(){return o.stateService.toggleFavorite(o.inputs.image)})("contextmenu",function(a){return a.preventDefault(),o.stateService.toggleFavorite(o.inputs.image)}),J(2,"i",2),m(3,"span",3),N(4,"Favorite"),g()(),m(5,"div",1),I("click",function(){return o.stateService.toggleBookmark(o.inputs.image)})("contextmenu",function(a){return a.preventDefault(),o.stateService.toggleBookmark(o.inputs.image)}),J(6,"i",4),m(7,"span",3),N(8,"Bookmark"),g()()(),J(9,"div",5),m(10,"div",6),B(11,Lq,2,2,"span",7),g(),m(12,"div",8)(13,"div",9),I("click",function(){return o.galleryService.openTagEditor()}),J(14,"i",10),m(15,"span"),N(16,"Create"),g()()()),i&2&&(y(2),C("ngClass",o.getFavoriteClass(!0)),y(),C("ngClass",o.getFavoriteClass(!1)),y(3),C("ngClass",o.getBookmarkClass(!0)),y(),C("ngClass",o.getBookmarkClass(!1)),y(4),C("ngForOf",o.stateService.tags))},dependencies:[Z,Tt,He],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{max-height:50vh;display:flex;flex-direction:column;flex-wrap:wrap;column-gap:1rem;row-gap:.3333333333rem;overflow:auto}@media screen and (min-width: 768px){[_nghost-%COMP%]   .filter-list-container[_ngcontent-%COMP%]{width:max-content}}[_nghost-%COMP%]   .filter-list-row[_ngcontent-%COMP%]{cursor:pointer;white-space:nowrap}[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem;margin:-.6666666666rem;margin-top:0}"]});let t=e;return t})();var Ur=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.stateService=i,this.tippyService=o}openImageComparison(){this.dialogService.create(UM,{images:k.shuffle(this.stateService.images.slice())})}openGroupEditor(r){this.dialogService.create(jM,{sourceGroup:r})}openFilter(){this.dialogService.create(FM)}openSettings(){this.dialogService.create(rp)}openTagEditor(r){this.dialogService.create(LM,{tag:r})}openTagManager(r){this.dialogService.create(BM,{image:r})}openYandexReverseImageSearch(r,i){let o="https://yandex.com/images/search?rpt=imageview&url="+encodeURIComponent(i.thumbnailLink.replace(new RegExp("=s..."),"=s9999"));r.altKey?(navigator.clipboard.writeText(o),this.tippyService.create(r.target,"URL copied to clipboard!",{trigger:"click",onShow(s){setTimeout(()=>{s.hide()},3e3)},onHidden(s){s.destroy()}}).show()):window.open(o,"_blank")}};e.\u0275fac=function(i){return new(i||e)(L(Rt),L(ot),L(oM))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jq(t,e){if(t&1){let n=Q();m(0,"i",19),I("click",function(){A(n);let i=w(2);return x(i.setRandomGroupTarget())}),g()}}function Uq(t,e){if(t&1){let n=Q();m(0,"div",20)(1,"i",21),I("click",function(){A(n);let i=w().ngVar,o=w();return x(o.moveTargetGroupLeft(i))}),g(),m(2,"i",22),I("click",function(){A(n);let i=w().ngVar,o=w();return x(o.moveTargetGroupRight(i))}),g()()}if(t&2){let n=w().ngVar,r=w();y(),Ce("disabled",r.isFirstGroupImage(n)),y(),Ce("disabled",r.isLastGroupImage(n))}}function Bq(t,e){if(t&1&&(m(0,"div",23)(1,"span",24),N(2),g()()),t&2){let n=w().ngVar;y(2),ti("",n.imageMediaMetadata.width," x ",n.imageMediaMetadata.height,"")}}function $q(t,e){if(t&1&&J(0,"iframe",28),t&2){let n=w().$implicit;Vd("max-width:"+n.videoMediaMetadata.width+"px;max-height:"+n.videoMediaMetadata.height+"px;"),C("src",n.contentLink,DC)}}function Hq(t,e){if(t&1){let n=Q();m(0,"img",29),I("click",function(){A(n);let i=w().$implicit,o=w(2);return x(o.onImageClick(i))}),g()}if(t&2){let n=w().$implicit,r=w(2);C("src",r.getSrc(n),Nn)}}function zq(t,e){if(t&1&&(m(0,"div",25),B(1,$q,1,3,"iframe",26)(2,Hq,1,1,"img",27),g()),t&2){let n=w(2);C("@fade",void 0),y(),C("ngIf",n.video),y(),C("ngIf",!n.video)}}function qq(t,e){if(t&1){let n=Q();Je(0),m(1,"div",2)(2,"div")(3,"i",3),I("click",function(){A(n);let i=w();return x(i.stateService.target.set(null))}),g(),B(4,jq,1,0,"i",4),m(5,"i",5),I("click",function(){A(n);let i=w();return x(i.setRandomTarget())}),g()(),m(6,"div")(7,"i",6),I("click",function(){let o=A(n).ngVar,s=w();return x(s.stateService.toggleFavorite(o,!0))}),g(),m(8,"i",7),I("click",function(){let o=A(n).ngVar,s=w();return x(s.stateService.toggleBookmark(o,!0))}),g()()(),m(9,"div",8)(10,"div",9)(11,"div",10)(12,"i",11),I("click",function(){let o=A(n).ngVar,s=w();return x(s.stateService.delete(o,!0))}),g(),m(13,"i",12),I("click",function(){let o=A(n).ngVar,s=w();return x(s.stateService.delete(o,!1))}),g()(),m(14,"div",13),B(15,Uq,3,4,"div",14),m(16,"div",13)(17,"i",15),I("click",function(){let o=A(n).ngVar,s=w();return x(s.galleryService.openTagManager(o))}),g()()(),m(18,"div",16),B(19,Bq,3,2,"div",17),g()()(),B(20,zq,3,3,"div",18),Ze()}if(t&2){let n=e.ngVar,r=w();y(4),C("ngIf",n==null?null:n.group),y(3),C("ngClass",n!=null&&n.heart?"fa-solid":"fa-regular"),y(),C("ngClass",n!=null&&n.bookmark?"fa-solid":"fa-regular"),y(7),C("ngIf",n==null?null:n.group),y(4),C("ngIf",n),y(),C("ngForOf",r.crossfadeHelper)}}var $M=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.dialogService=o,this.galleryService=s,this.crossfadeHelper=[],this.loadingT=!0,this.loadingC=!0,this.video=!1,Ui(()=>{let a=this.stateService.target();a?this.update(a):this.crossfadeHelper.length=0})}update(r){r&&this.crossfadeHelper[0]!=r&&(this.crossfadeHelper[0]=r,xn.isVideo(r)?this.video=!0:(this.video=!1,this.loadingT=!0,this.loadingC=!0))}initKeybinds(r){if(this.dialogService.dialogs.length==0){switch(r.code){case"Escape":this.stateService.target.set(null);return}if(["BODY","VIDEO"].includes(r.target.nodeName)&&this.stateService.target())switch(r.code){case"KeyR":this.setRandomTarget();return;case"KeyG":this.setRandomGroupTarget();return}}}setRandomTarget(){if(!k.isEmpty(this.stateService.filter())){let r,i=this.stateService.target();i?i.group?r=k.getRandom(this.stateService.filter(),i.group.images):r=k.getRandom(this.stateService.filter(),[i]):r=k.getRandom(this.stateService.filter()),r&&this.stateService.target.set(r)}}setRandomGroupTarget(){let r=this.stateService.target();r?.group&&this.stateService.target.set(k.getRandom(r.group.images,[r]))}getSrc(r){if(!this.loadingC)return r.contentLink;if(!this.loadingT)return r.thumbnailLink}onImageClick(r){this.applicationService.reduceBandwidth&&(r.thumbnailLink=r.thumbnailLink.replace("=s220","=s440"))}snapshot(){let r=document.getElementById("video-element");if(r){let i=document.createElement("canvas");i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),window.open("about:blank","Video Snapshot").document.write("<img src='"+i.toDataURL("image/png")+"' alt='from canvas'/>")}}isFirstGroupImage(r){return k.isFirst(r.group.images.filter(i=>i.passesFilter),r)}isLastGroupImage(r){return k.isLast(r.group.images.filter(i=>i.passesFilter),r)}moveTargetGroupLeft(r){this.stateService.target.set(k.getPrevious(r.group.images.filter(i=>i.passesFilter),r,!0))}moveTargetGroupRight(r){this.stateService.target.set(k.getNext(r.group.images.filter(i=>i.passesFilter),r,!0))}};e.\u0275fac=function(i){return new(i||e)(S(rt),S(ot),S(Rt),S(Ur))},e.\u0275cmp=K({type:e,selectors:[["app-fullscreen"]],hostBindings:function(i,o){i&1&&I("keydown",function(a){return o.initKeybinds(a)},!1,gc)},standalone:!0,features:[Y],decls:3,vars:3,consts:[[4,"ngVar"],[2,"display","none",3,"src","load"],[1,"fullscreen-header"],["tp","Back","tpPlacement","right",1,"icon-button","fa-solid","fa-arrow-left",3,"click"],["class","icon-button fa-solid fa-arrows-spin","tp","Random Image from Group","tpPlacement","right",3,"click",4,"ngIf"],["tp","Random Image","tpPlacement","right",1,"icon-button","fa-solid","fa-shuffle",3,"click"],["tp","Favorite","tpPlacement","left",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark","tpPlacement","left",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"fullscreen-footer"],[1,"buttons"],[2,"justify-content","start"],["tp","Archive","tpPlacement","right",1,"icon-button","fa-solid","fa-box",3,"click"],["tp","Delete","tpPlacement","right",1,"icon-button","fa-solid","fa-trash",3,"click"],[1,"flex","column","center"],["class","flex",4,"ngIf"],["tp","Tags",1,"icon-button","fa-solid","fa-tags",3,"click"],[2,"justify-content","end"],["class","resolution-info",4,"ngIf"],["class","fullscreen-crossfade",4,"ngFor","ngForOf"],["tp","Random Image from Group","tpPlacement","right",1,"icon-button","fa-solid","fa-arrows-spin",3,"click"],[1,"flex"],[1,"icon-button","fa-solid","fa-arrow-left",3,"click"],[1,"icon-button","fa-solid","fa-arrow-right",3,"click"],[1,"resolution-info"],[2,"white-space","nowrap","padding","1rem"],[1,"fullscreen-crossfade"],["class","fullscreen-content","frameborder","0","allowfullscreen","",3,"src","style",4,"ngIf"],["class","fullscreen-content",3,"src","click",4,"ngIf"],["frameborder","0","allowfullscreen","",1,"fullscreen-content",3,"src"],[1,"fullscreen-content",3,"src","click"]],template:function(i,o){i&1&&(B(0,qq,21,6,"ng-container",0),m(1,"img",1),I("load",function(){return o.loadingT=!1}),g(),m(2,"img",1),I("load",function(){return o.loadingC=!1}),g()),i&2&&(C("ngVar",o.stateService.target()),y(),C("src",o.crossfadeHelper[0]==null?null:o.crossfadeHelper[0].thumbnailLink,Nn),y(),C("src",o.crossfadeHelper[0]==null?null:o.crossfadeHelper[0].contentLink,Nn))},dependencies:[Z,Tt,He,Re,NM,Lr],styles:['[_nghost-%COMP%]{z-index:20;background-color:#000000e6;transition:.5s}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;top:0;right:0;left:0;display:flex;justify-content:space-between;pointer-events:none}[_nghost-%COMP%]   .fullscreen-header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]{z-index:30;padding:.3333333333rem;position:absolute;right:0;bottom:0;left:0;pointer-events:none;display:flex;flex-direction:column}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:all}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between}[_nghost-%COMP%]   .fullscreen-footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .resolution-info[_ngcontent-%COMP%]{width:3rem;height:3rem;min-width:3rem;min-height:3rem;display:flex;align-items:flex-end;justify-content:flex-end;flex-direction:column;box-sizing:border-box;text-shadow:-1px 0 var(--color-text-shadow),0 1px var(--color-text-shadow),1px 0 var(--color-text-shadow),0 -1px var(--color-text-shadow)}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]{width:100%;height:100%;padding:.3333333333rem;display:flex;align-items:center;justify-content:center;position:absolute;box-sizing:border-box;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[_ngcontent-%COMP%]{width:100%;height:100%;outline:none;object-fit:contain;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .fullscreen-crossfade[_ngcontent-%COMP%]   .fullscreen-content[src=""][_ngcontent-%COMP%]{opacity:0}'],data:{animation:[Na]}});let t=e;return t})();var HM=(()=>{let e=class e{constructor(r){this.elementRef=r,this.create=new Ye}ngOnInit(){this.create.emit(this.elementRef)}};e.\u0275fac=function(i){return new(i||e)(S(mt))},e.\u0275dir=ut({type:e,selectors:[["","create",""]],outputs:{create:"create"},standalone:!0});let t=e;return t})();var yi=class{constructor(){}static isLargeScreen(){return window.innerWidth>1e3}static isElementVisible(e,n){if(e){let r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(n?n.clientHeight:window.innerHeight)&&r.right<=(n?n.clientWidth:window.innerWidth)}}};function Gq(t,e){if(t&1){let n=Q();m(0,"i",8),I("click",function(){A(n);let i=w();return x(i.galleryService.openFilter())}),g()}}var zM=(()=>{let e=class e{constructor(r,i,o){this.applicationService=r,this.stateService=i,this.galleryService=o}};e.\u0275fac=function(i){return new(i||e)(S(rt),S(ot),S(Ur))},e.\u0275cmp=K({type:e,selectors:[["app-header"]],standalone:!0,features:[Y],decls:8,vars:2,consts:[[1,"header-start"],["tp","Open Comparison",1,"icon-button","fa-solid","fa-code-compare",3,"click"],["tp","Create Image Group",1,"icon-button","fa-solid","fa-folder-plus",3,"click"],[1,"header-center"],["class","icon-button fa-solid fa-filter","tp","Filter",3,"click",4,"ngIf"],[1,"header-end"],["tp","Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],["tp","Settings",1,"icon-button","fa-solid","fa-gear",3,"click"],["tp","Filter",1,"icon-button","fa-solid","fa-filter",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"i",1),I("click",function(){return o.galleryService.openImageComparison()}),g(),m(2,"i",2),I("click",function(){return o.galleryService.openGroupEditor()}),g()(),m(3,"div",3),B(4,Gq,1,0,"i",4),g(),m(5,"div",5)(6,"i",6),I("click",function(){return o.applicationService.toggleTheme()}),g(),m(7,"i",7),I("click",function(){return o.galleryService.openSettings()}),g()()),i&2&&(y(4),C("ngIf",o.stateService.images.length>0),y(2),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,Tt,Re,Lr],styles:["[_nghost-%COMP%]{padding:.3333333333rem;height:3rem;display:flex;justify-content:space-between}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{flex:1;display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header-start[_ngcontent-%COMP%]{justify-content:start}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.3333333333rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]{min-height:3rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover);cursor:pointer}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-bubble[_ngcontent-%COMP%]   .filter-bubble-text[_ngcontent-%COMP%]{height:100%;align-content:center;padding-left:1rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]{min-width:3rem;min-height:3rem;display:flex;align-items:center;justify-content:center;border-radius:.3333333333rem;background-color:var(--color-hover)}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%]{width:100%;padding-left:.99rem}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:not(#filter-input){position:absolute;width:100%;border:0;padding:0;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]   .header-center[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .filter-input-text[_ngcontent-%COMP%] > input#filter-input[_ngcontent-%COMP%]{position:relative;width:100%;border:0;padding:0}[_nghost-%COMP%]   .header-end[_ngcontent-%COMP%]{justify-content:end}"]});let t=e;return t})();function Wq(t,e){if(t&1){let n=Q();Je(0),m(1,"div",8)(2,"i",9),I("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),x(s.stateService.toggleFavorite(o,!0))}),g(),m(3,"i",10),I("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),x(s.stateService.toggleBookmark(o,!0))}),g()(),m(4,"div",11)(5,"i",12),I("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),x(s.googleService.openSearch(o.name))}),g(),m(6,"i",13),I("click",function(i){A(n);let o=w().$implicit,s=w();return i.stopPropagation(),x(s.galleryService.openYandexReverseImageSearch(i,o))}),g()(),Ze()}if(t&2){let n=w().$implicit;y(2),C("ngClass",n.heart?"fa-solid active":"fa-regular"),y(),C("ngClass",n.bookmark?"fa-solid active":"fa-regular")}}function Kq(t,e){if(t&1){let n=Q();m(0,"div",3),I("click",function(){let o=A(n).$implicit,s=w();return x(s.onImageClick(o))}),m(1,"div",4)(2,"img",5,6),I("create",function(i){let s=A(n).$implicit,a=w();return x(a.onBrickCreate(i,s))})("load",function(){A(n);let i=Ut(3);return x(i.style.opacity="1")}),g()(),B(4,Wq,7,2,"ng-container",7),g()}if(t&2){let n=e.$implicit,r=w();Vd("width: "+n.width+"px; height: "+n.height+"px; top: "+n.top+"px; left: "+n.left+"px; "),Ce("modifying-group",r.stateService.groupEditorGroup==null?null:r.stateService.groupEditorGroup.images.includes(n)),C("@fade",void 0),y(2),C("src",n.thumbnailLink,Nn),y(2),C("ngIf",r.areBrickButtonsVisible())}}var qM=(()=>{let e=class e{constructor(r,i,o,s){this.applicationService=r,this.stateService=i,this.googleService=o,this.galleryService=s,this.bricks={},Ui(()=>this.updateLayout()),Ui(()=>this.scrollTo(this.stateService.target()))}updateLayout(){if(this.masonryContainer){if(this.masonryImages=this.stateService.filter().filter(u=>u.group?u==u.group.images.find(d=>d.passesFilter):!0),this.masonryImages.length==0)return;let r=yi.isLargeScreen()?250:200,i=yi.isLargeScreen()?9.6666666666:4.3333333333,o=this.masonryContainer.clientWidth,s=Math.max(Math.floor(o/r),2),a=(o-i*(s-1))/s,c=[],l=[];for(let u=0;u<s;u++)c[u]=0,l[u]=u*(a+i);for(let u of this.masonryImages){u.width!=a&&(u.width=a,u.height=a/u.aspectRatio);let d=this.getShortestColumnIndex(c);u.top=c[d],u.left=l[d],c[d]=c[d]+u.height+i}}}scrollTo(r){if(r){let i=r.group?r.group.images.find(s=>s.passesFilter):r,o=this.bricks[i?.id];if(o&&!yi.isElementVisible(o)){let s=document.getElementsByClassName("masonry-scroll-container")[0],a=i.top-(s.clientHeight-o.height)/2;s.scrollTo({top:a,behavior:"smooth"})}}}getShortestColumnIndex(r){return r.indexOf(Math.min(...r))}onImageClick(r){let i=this.stateService.groupEditorGroup;if(i){if(r.group&&i!=r.group)return;k.toggle(i.images,r);return}this.stateService.target.set(r)}onBrickCreate(r,i){this.bricks[i.id]=r.nativeElement}onMasonryContainerCreate(r){this.masonryContainer=r.nativeElement,this.updateLayout()}onResize(){this.updateLayout()}areBrickButtonsVisible(){return yi.isLargeScreen()&&!this.stateService.groupEditorGroup}};e.\u0275fac=function(i){return new(i||e)(S(rt),S(ot),S(Va),S(Ur))},e.\u0275cmp=K({type:e,selectors:[["app-masonry"]],hostBindings:function(i,o){i&1&&I("resize",function(){return o.onResize()},!1,ze)},standalone:!0,features:[Y],decls:4,vars:1,consts:[[1,"masonry-scroll-container"],[1,"masonry-container",3,"create"],["class","masonry-brick",3,"style","modifying-group","click",4,"ngFor","ngForOf"],[1,"masonry-brick",3,"click"],[1,"brick-container"],[3,"src","create","load"],["imageElement",""],[4,"ngIf"],[1,"brick-header"],["tp","Favorite",1,"icon-button","fa-heart",3,"ngClass","click"],["tp","Bookmark",1,"icon-button","fa-bookmark",3,"ngClass","click"],[1,"brick-footer"],["tp","Open in Google Drive",1,"icon-button","fa-brands","fa-google-drive",3,"click"],["tp","Open Yandex RIS",1,"icon-button","fa-brands","fa-yandex-international",3,"click"]],template:function(i,o){i&1&&(J(0,"app-header"),m(1,"div",0)(2,"div",1),I("create",function(a){return o.onMasonryContainerCreate(a)}),B(3,Kq,5,7,"div",2),g()()),i&2&&(y(3),C("ngForOf",o.masonryImages))},dependencies:[Z,Tt,He,Re,HM,Lr,zM],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;background-color:var(--color-background-primary);height:100%;padding:1px .3333333333rem .3333333333rem}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]{border-right:1px solid var(--color-border)}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]{position:absolute;transition-property:top,left;transition-duration:.5s;padding-bottom:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{outline-color:var(--color-border)}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick.modifying-group[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.3333333333rem}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]{border-radius:.3333333333rem;width:100%;height:100%;display:flex;background-color:var(--color-background-secondary);transition-property:outline,background-color;transition-duration:.5s;outline:1px solid transparent}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-user-select:none;user-select:none;border-radius:.3333333333rem;contain:size;opacity:0;transition-property:opacity,margin;transition-duration:.5s}@media screen and (min-width: 768px){[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]:hover   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:1;pointer-events:all}}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;padding:.3333333333rem;box-sizing:border-box;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{opacity:0;pointer-events:none}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.no-hover[_ngcontent-%COMP%]{cursor:default!important;border-color:transparent!important;background-color:transparent!important}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]   .icon-button.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-header[_ngcontent-%COMP%]{top:0}[_nghost-%COMP%]   .masonry-scroll-container[_ngcontent-%COMP%]   .masonry-container[_ngcontent-%COMP%]   .masonry-brick[_ngcontent-%COMP%]   .brick-footer[_ngcontent-%COMP%]{bottom:0;padding-bottom:.6666666666rem}"],data:{animation:[Na]}});let t=e;return t})();var GM=(()=>{let e=class e{constructor(r,i){this.applicationService=r,this.stateService=i,this.applicationService.loading.set(!0)}ngOnInit(){this.stateService.processData()}};e.\u0275fac=function(i){return new(i||e)(S(rt),S(ot))},e.\u0275cmp=K({type:e,selectors:[["app-gallery"]],standalone:!0,features:[Y],decls:3,vars:3,consts:[[1,"stack-container"]],template:function(i,o){i&1&&(m(0,"div",0),J(1,"app-masonry")(2,"app-fullscreen"),g()),i&2&&(y(),C("@enter",void 0),y(),Ce("transparent",!o.stateService.target()))},dependencies:[Z,qM,$M],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;display:flex}"],data:{animation:[cM]}});let t=e;return t})();var ys=class{static random(e,n){return Math.random()*(n?n-e:e)+(n?e:0)}static from(e,n){return n&&(Array.isArray(n)?e=e.filter(r=>!n.includes(r)):e=e.filter(r=>r!=n)),e[Math.floor(this.random(e.length))]}static percentage(e){return Math.random()<e/100}static oneIn(e){return Math.random()<1/e}static color(){let e=(Math.random()+.618033988749895)%1,n=this.random(.4,.6),r=.95,i=Math.floor(e*6),o=e*6-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l,u,d;switch(i%6){case 0:l=r,u=c,d=s;break;case 1:l=a,u=r,d=s;break;case 2:l=s,u=r,d=c;break;case 3:l=s,u=a,d=r;break;case 4:l=c,u=s,d=r;break;case 5:l=r,u=s,d=a;break}return"#"+Math.round(l*255).toString(16)+Math.round(u*255).toString(16)+Math.round(d*255).toString(16)}};function Qq(t,e){if(t&1){let n=Q();m(0,"div",5)(1,"div",6)(2,"span"),N(3,"po\u010Det t\xEDmov"),g(),m(4,"input",7,8),I("input",function(){A(n);let i=Ut(5),o=w();return x(o.onTeamCountChange(i))}),g()(),m(6,"div",6)(7,"span"),N(8,"trvanie kola"),g(),m(9,"input",7,9),I("input",function(){A(n);let i=Ut(10),o=w();return x(o.onRoundDurationChange(i))}),g()(),m(11,"span",10),I("click",function(){A(n);let i=w();return x(i.settingsDone())}),N(12,"\u0161tart"),g()()}if(t&2){let n=w();y(4),C("value",4),y(5),C("value",60),y(2),Ce("disabled",!n.validateSettings())}}function Yq(t,e){t&1&&(m(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function Xq(t,e){if(t&1){let n=Q();m(0,"div",11),B(1,Yq,2,0,"span",12),m(2,"span"),N(3),g(),m(4,"span"),N(5),g(),m(6,"span",10),I("click",function(){A(n);let i=w();return x(i.startRound())}),N(7,"\u0161tart"),g()()}if(t&2){let n=w();y(),C("ngIf",n.isCurrentRoundForEveryone()),y(2),ye(n.getCurrentDiscipline()),y(2),ye(n.availablePhrases[0])}}function Jq(t,e){if(t&1){let n=Q();m(0,"span",10),I("click",function(){A(n);let i=w(2);return x(i.endRoundEarly())}),N(1,"hotovo"),g()}}function Zq(t,e){if(t&1&&(m(0,"div",13)(1,"span"),N(2),g(),B(3,Jq,2,0,"span",14),g()),t&2){let n=w();y(2),ye(n.timeLeft),y(),C("ngIf",n.showEndRoundEarlyButton)}}function eG(t,e){t&1&&(m(0,"span"),N(1,"pre v\u0161etk\xFDch"),g())}function tG(t,e){if(t&1){let n=Q();m(0,"input",18,19),I("input",function(){A(n);let i=Ut(1),o=w(2);return x(o.onForEveryoneWinnerChange(i))}),g()}}function nG(t,e){if(t&1){let n=Q();m(0,"div",15),B(1,eG,2,0,"span",12),m(2,"span"),N(3),g(),m(4,"span"),N(5),g(),m(6,"div",16),B(7,tG,2,0,"input",17),m(8,"span",10),I("click",function(){A(n);let i=w();return x(i.roundOver(!0))}),N(9,"uh\xE1dli"),g()(),m(10,"span",10),I("click",function(){A(n);let i=w();return x(i.roundOver(!1))}),N(11,"neuh\xE1dli"),g()()}if(t&2){let n=w();y(),C("ngIf",n.isCurrentRoundForEveryone()),y(2),ye(n.getCurrentDiscipline()),y(2),ye(n.availablePhrases[0]),y(),tr("gap","2rem"),y(),C("ngIf",n.isCurrentRoundForEveryone()),y(),tr("width",100,"%"),Ce("disabled",n.isCurrentRoundForEveryone()&&!n.forEveryoneWinnerTeamIndexValid)}}function rG(t,e){if(t&1&&(m(0,"span"),N(1),g()),t&2){let n=e.$implicit,r=e.index;y(),ti("",r+1,". t\xEDm: ",n.wins,"")}}function iG(t,e){if(t&1){let n=Q();m(0,"div",20)(1,"span"),N(2,"sk\xF3re"),g(),B(3,rG,2,2,"span",21),m(4,"span",10),I("click",function(){A(n);let i=w();return x(i.currentView="instructions")}),N(5,"\u010Fa\u013E\u0161ie kolo"),g()()}if(t&2){let n=w();y(3),C("ngForOf",n.teams)}}var WM=(()=>{let e=class e{constructor(){this.phrases=["koh\xFAtik","sliepo\u010Dka","kuriatko"],this.currentView="settings",this.teamCount=4,this.teamCountValid=!0,this.roundDuration=60,this.roundDurationValid=!0,this.forEveryoneChanceOneIn=6,this.beforeRoundStartDuration=3,this.forEveryoneWinnerTeamIndexValid=!1}ngOnInit(){}onTeamCountChange(r){let i=Number.parseInt(r.value);i>=2?(this.teamCount=i,this.teamCountValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.teamCountValid=!1,r.style.borderColor="red")}onRoundDurationChange(r){let i=Number.parseInt(r.value);i>0?(this.roundDuration=i,this.roundDurationValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.roundDurationValid=!1,r.style.borderColor="red")}validateSettings(){return this.teamCountValid&&this.roundDurationValid}settingsDone(){this.validateSettings()&&this.startGame()}startGame(){this.currentView="instructions",this.currentTeamIndex=0,this.availablePhrases=k.shuffle(this.phrases.slice()),this.teams=[];for(let o=0;o<this.teamCount;o++)this.teams.push({wins:0,roundDisciplines:[],roundsForEveryone:[]});let r=Math.floor(this.phrases.length/3);for(let o=0;o<r;o++)this.teams.forEach(s=>k.push(s.roundDisciplines,k.shuffle(["hovorenie","kreslenie","ukazovanie"])));let i=Math.ceil(this.phrases.length/this.forEveryoneChanceOneIn);for(let o=0;o<i;o++)this.teams.forEach(s=>s.roundsForEveryone.push(Math.floor(ys.random(o*this.forEveryoneChanceOneIn,(o+1)*this.forEveryoneChanceOneIn))))}getCurrentDiscipline(){let r=this.teams[this.currentTeamIndex];return r.roundDisciplines[r.wins]}isCurrentRoundForEveryone(){let r=this.teams[this.currentTeamIndex];return r.roundsForEveryone.includes(r.wins)}startRound(){this.currentView="countdown",this.timeLeft=this.beforeRoundStartDuration,this.showEndRoundEarlyButton=!1,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.timeLeft=this.roundDuration,this.showEndRoundEarlyButton=!0,this.interval=setInterval(()=>{--this.timeLeft<1&&(clearInterval(this.interval),this.currentView="result")},1e3))},1e3)}endRoundEarly(){clearInterval(this.interval),this.currentView="result"}onForEveryoneWinnerChange(r){let i=Number.parseInt(r.value);i>0&&i<=this.teams.length?(this.forEveryoneWinnerTeamIndex=i-1,this.forEveryoneWinnerTeamIndexValid=!0,r.style.borderColor=window.getComputedStyle(document.body).getPropertyValue("--border-color")):(this.forEveryoneWinnerTeamIndexValid=!1,r.style.borderColor="red")}roundOver(r){this.availablePhrases.shift(),r&&this.teams[this.forEveryoneWinnerTeamIndex||this.currentTeamIndex].wins++,this.forEveryoneWinnerTeamIndex=null,++this.currentTeamIndex==this.teamCount&&(this.currentTeamIndex=0),this.currentView="score"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-activity"]],standalone:!0,features:[Y],decls:5,vars:5,consts:[["class","settings-container",4,"ngIf"],["class","instructions-container",4,"ngIf"],["class","countdown-container",4,"ngIf"],["class","result-container",4,"ngIf"],["class","score-container",4,"ngIf"],[1,"settings-container"],[1,"flex","column","gap"],["type","number",3,"value","input"],["teamCountInput",""],["roundDurationInput",""],[1,"button",3,"click"],[1,"instructions-container"],[4,"ngIf"],[1,"countdown-container"],["class","button",3,"click",4,"ngIf"],[1,"result-container"],[1,"flex","column","center"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input",4,"ngIf"],["type","number","placeholder","ktor\xFD t\xEDm uh\xE1dol?",3,"input"],["forEveryoneWinnerInput",""],[1,"score-container"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&B(0,Qq,13,4,"div",0)(1,Xq,8,3,"div",1)(2,Zq,4,2,"div",2)(3,nG,12,10,"div",3)(4,iG,6,1,"div",4),i&2&&(C("ngIf",o.currentView=="settings"),y(),C("ngIf",o.currentView=="instructions"),y(),C("ngIf",o.currentView=="countdown"),y(),C("ngIf",o.currentView=="result"),y(),C("ngIf",o.currentView=="score"))},dependencies:[Z,He,Re,vn],styles:["[_nghost-%COMP%]{font-size:2rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]{width:fit-content;display:flex;flex-direction:column;gap:1.9999999998rem}[_nghost-%COMP%]   .settings-container[_ngcontent-%COMP%]   span.button[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .instructions-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.9999999998rem;align-items:center}[_nghost-%COMP%]   .countdown-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:1.9999999998rem}[_nghost-%COMP%]   .result-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.9999999999rem}"]});let t=e;return t})();var KM=["nikdy som si neochutnal \u0161u\u0161e\u0148","nikdy som neukradol nie\u010Do nad 10 eur","nikdy som nepodaroval dar\u010Dek \u010Falej","nikdy som neupchal toaletu na n\xE1v\u0161teve","nikdy som neprezradil niekoho tajomstvo","nikdy som si nevytvoril falo\u0161n\xFD profil na soci\xE1lnej sieti","nikdy som sa ako dospel\xFD tak nesmial, \u017Ee som sa pocikal","nikdy som sa ako dospel\xFD neposral","nikdy som sa netv\xE1ril, \u017Ee som si zabudol pe\u0148a\u017Eenku, lebo som nechcel plati\u0165","nikdy som nepochyboval o svojej sexu\xE1lnej orient\xE1cii","nikdy som nesledoval susedov \u010Falekohladom","nikdy som si neprdol v uzavretom priestore a tv\xE1ril sa, akoby sa ni\u010D nestalo","nikdy som nemusel uteka\u0165 o \u017Eivot","nikdy som sa nemusel v nebezpe\u010Dnej situ\xE1cii schov\xE1va\u0165","nikdy som nepokreslil spiaceho kamar\xE1ta","nikdy som nezaspal opit\xFD na verejnosti","nikdy som sa nevkradol na cudziu p\xE1rty, kde som nikoho nepoznal","nikdy som sa neodmietol \xEDs\u0165 na k\xFApalisko preto, \u017Ee som sa hanbil za svoju postavu","nikdy som sa z hlboka nenad\xFDchol svojho prdu","nikdy som nebol vyhoden\xFD z podniku","nikdy som neochutnal \u017Er\xE1dlo pre zvierat\xE1","nikdy som po\u010Das tejto hry neklamal","nikdy som sa aspo\u0148 3 dni neosprchoval","nikdy som si aspo\u0148 3 dni neumyl zuby","nikdy som nikoho nepodplatil","nikdy som nebol na verejnosti \xFAplne nah\xFD","nikdy som nenast\xFApil do nespr\xE1vneho autobusu","nikdy som sa nepozeral na svoju ri\u0165 v zrkadle"],QM=["nikdy som si nezaplatil za porno","nikdy som nikoho nepodviedol","nikdy som sa nevyka\u0161lal na rande bez ozn\xE1menia","nikdy som nikomu omylom neposlal nah\xFA fotku","nikdy som nek\xFApil drink niekomu, koho som nepoznal","nikdy som nebol na rande s viacero osobami za jeden de\u0148","nikdy som nehladal vz\u0165ah na zoznamke","nikdy som nehladal sex na zoznamke","nikdy som neh\u013Eadal n\xE1vod, ako niekoho zbali\u0165","nikdy som neh\u013Eadal n\xE1vod, ako sa bozk\xE1va\u0165","nikdy som neh\u013Eadal n\xE1vod, ako ma\u0165 sex","nikdy som nepo\u010Dul susedov alebo spolub\xFDvaj\xFAcich ma\u0165 sex","nikdy som si nemusel zakr\xFDva\u0165 cucflek","nikdy som s niek\xFDm neflirtoval len preto, aby niekto in\xFD \u017Eiarlil","nikdy som nebol v gay bare","nikdy som opit\xFD nep\xEDsal ex, \u017Ee mi ch\xFDba","nikdy som net\xFA\u017Eil po partnerke svojho kamar\xE1ta","nikdy som si s nik\xFDm neporovn\xE1val svoju p\xFDchu alebo prsia"],YM=["nikdy som si pri sexe nepredstavoval, \u017Ee som s niekym in\xFDm","nikdy som nemal sex s niek\xFDm, kde vekov\xFD rozdiel bol aspo\u0148 5 rokov","nikdy som s nik\xFDm nestr\xE1vil cel\xFD de\u0148 v posteli","nikdy som nemal sex, ke\u010F sa na n\xE1s pozeralo dom\xE1ce zvieratko","nikdy som nemal sex s osobou rovnak\xE9ho pohlavia","nikdy som nikomu neplatil za sex","nikdy som nemal erotick\xE9 predstavy o niekom z tejto miestnosti","nikdy som nemal sex vo v\xFD\u0165ahu","nikdy som nemal sex v sk\xFA\u0161obnej kab\xEDnke","nikdy som nemal sex v aute","nikdy som nemal sex v pr\xEDrode","nikdy som nemal sex na pl\xE1\u017Ei","nikdy som nemal sex na z\xE1chodoch","nikdy som nikomu nerobil stript\xEDz","nikdy som nepou\u017Eil erotick\xFA hra\u010Dku alebo pom\xF4cku","nikdy som nenosil spodn\xE9 pr\xE1dlo opa\u010Dn\xE9ho pohlavia","nikdy som sa nepok\xFA\u0161al nie\u010Do si vopcha\u0165 do zadku","nikdy som nesk\xFAsil nie\u010Do z BDSM","nikdy som nesk\xFAsil roleplay","nikdy som sa nezobudil na or\xE1lny sex","nikdy som nerealizoval svoje sexu\xE1lne fant\xE1zie","nikdy som nemal sex bez ochrany","nikdy sme si s in\xFDm p\xE1rom nevymenili partnerky","nikdy som ned\xE1val partnerke mas\xE1\u017E cel\xE9ho tela","nikdy som nebol na mas\xE1\u017Ei cel\xE9ho tela"];var XM=(()=>{let e=class e{constructor(){this.availableQuestions=[]}ngOnInit(){this.reset()}reset(){this.availableQuestions.length=0,k.push(this.availableQuestions,KM),k.push(this.availableQuestions,QM),k.push(this.availableQuestions,YM),k.shuffle(this.availableQuestions),this.next()}next(){this.currentQuestion=this.availableQuestions.pop()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-nikdy-som"]],standalone:!0,features:[Y],decls:3,vars:1,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.next()}),m(1,"span"),N(2),g()()),i&2&&(y(2),ye(o.currentQuestion))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();var JM=(()=>{let e=class e{constructor(){this.limbs=["prav\xE1 ruka","\u013Eav\xE1 ruka","prav\xE1 noha","\u013Eav\xE1 noha"],this.colors=[["\u010Derven\xE1","red"],["zelen\xE1","limegreen"],["modr\xE1","blue"],["\u017Elt\xE1","yellow"]]}ngOnInit(){this.spin()}spin(){this.limb=ys.from(this.limbs,this.limb),[this.color,this.backgroundColor]=ys.from(this.colors)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-twister"]],standalone:!0,features:[Y],decls:3,vars:4,consts:[[1,"container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.spin()}),m(1,"span"),N(2),g()()),i&2&&(tr("background-color",o.backgroundColor),y(2),ti("",o.limb," ",o.color,""))},dependencies:[Z],styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:100%;height:100%;display:block;text-align:center;align-content:center}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;mix-blend-mode:difference;-webkit-user-select:none;user-select:none;font-size:64px}"]});let t=e;return t})();function oG(t,e){if(t&1){let n=Q();Je(0),m(1,"span",1),I("click",function(){A(n);let i=w();return x(i.navigate("gallery"))}),N(2,"Gallery"),g(),m(3,"span",1),I("click",function(){A(n);let i=w();return x(i.navigate("story-manager"))}),N(4,"Story Manager"),g(),m(5,"span",1),I("click",function(){A(n);let i=w();return x(i.navigate("comparison"))}),N(6,"Comparison"),g(),Ze()}}var ZM=(()=>{let e=class e{constructor(r,i){this.router=r,this.applicationService=i,this.dev=0}ngOnInit(){}navigate(r){sessionStorage.setItem("appId",r),this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(S(gn),S(rt))},e.\u0275cmp=K({type:e,selectors:[["app-landing"]],standalone:!0,features:[Y],decls:12,vars:2,consts:[[1,"column"],[1,"button",3,"click"],[4,"ngIf"],[1,"v-separator"],["tp","Toggle Theme",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"dev-container",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span",1),I("click",function(){return o.navigate("games/activity")}),N(2,"Activity"),g(),m(3,"span",1),I("click",function(){return o.navigate("games/twister")}),N(4,"Twister"),g(),m(5,"span",1),I("click",function(){return o.navigate("games/nikdy-som")}),N(6,"Nikdy som"),g(),B(7,oG,7,0,"ng-container",2),g(),J(8,"div",3),m(9,"div",0)(10,"i",4),I("click",function(){return o.applicationService.toggleTheme()}),g()(),m(11,"div",5),I("click",function(){return o.dev=o.dev+1}),g()),i&2&&(y(7),C("ngIf",o.dev>4),y(3),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"))},dependencies:[Z,Tt,Re],styles:["[_nghost-%COMP%]{display:flex;gap:.3333333333rem}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.3333333333rem}.column[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:var(--color-hover)}.dev-container[_ngcontent-%COMP%]{height:100px;position:absolute;right:0;bottom:0;left:0}"]});let t=e;return t})();var eP="https://mazacik.github.io",x0={production:!0,baseUrl:eP,redirectUrl:eP+"/login"};var Ua=(()=>{let e=class e{constructor(r){this.http=r,this.CLIENT_ID="692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com",this.CLIENT_SECRET="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"}getAccessToken(){return this.accessToken}startAuthentication(){let s="https://accounts.google.com/o/oauth2/v2/auth?redirect_uri="+x0.redirectUrl+"&prompt=consent&response_type=code&client_id="+"692582629035-s6vftm7t7erhlblg9iekl0fhfhdskq25.apps.googleusercontent.com"+"&scope="+"https://www.googleapis.com/auth/drive"+"&access_type=offline";window.location=s}requestTokens(r){return _(this,null,function*(){let i="https://accounts.google.com/o/oauth2/token",o={"content-type":"form-data",grant_type:"authorization_code",code:r,client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET,redirect_uri:x0.redirectUrl,plugin_name:"TagalleryWeb"};yield Ru(this.http.post(i,o)).then(s=>{s&&(this.accessToken=s.access_token,this.refreshToken=s.refresh_token,window.localStorage.setItem("googleRefreshToken",this.refreshToken))}).catch(s=>s)})}requestAccessToken(){return _(this,null,function*(){let r="https://accounts.google.com/o/oauth2/token",i={grant_type:"refresh_token",refresh_token:this.getRefreshToken(),client_id:this.CLIENT_ID,client_secret:this.CLIENT_SECRET};return yield Ru(this.http.post(r,i)).then(o=>{o&&(this.accessToken=o.access_token)}).catch(o=>o),this.accessToken})}getRefreshToken(){return this.refreshToken||(this.refreshToken=window.localStorage.getItem("googleRefreshToken")),this.refreshToken}};e.\u0275fac=function(i){return new(i||e)(L(Lo))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tP=(()=>{let e=class e{constructor(r,i,o){this.route=r,this.router=i,this.authenticationService=o}ngAfterViewInit(){this.route.queryParams.subscribe(r=>{let i=r.code;i&&this.authenticationService.requestTokens(i).finally(()=>{this.router.navigate([sessionStorage.getItem("appId")||""])})})}signIn(){this.authenticationService.startAuthentication()}};e.\u0275fac=function(i){return new(i||e)(S(so),S(gn),S(Ua))},e.\u0275cmp=K({type:e,selectors:[["app-login"]],decls:4,vars:0,consts:[[1,"sign-in-button",3,"click"],["src","assets/google-logo.svg"],[1,"sign-in-text"]],template:function(i,o){i&1&&(m(0,"div",0),I("click",function(){return o.signIn()}),J(1,"img",1),m(2,"span",2),N(3,"Sign in with Google"),g()())},styles:["[_nghost-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{width:18px;height:18px}.sign-in-button[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;gap:8px;padding:0 12px;cursor:pointer;background-color:#fff;border:1px solid #dadce0;border-radius:4px;-webkit-user-select:none;user-select:none}.sign-in-button[_ngcontent-%COMP%]:hover{background:#f8faff;border-color:#d2e3fc}.sign-in-text[_ngcontent-%COMP%]{color:#3c4043;font-family:Google Sans,arial,sans-serif;font-size:14px;letter-spacing:.25px}"]});let t=e;return t})();var op=(t,e)=>_(void 0,null,function*(){sessionStorage.setItem("appId",t.url.join("")),console.log("guard: start");let n=O(gn),r=O(Ua);if(r.getAccessToken())return console.log("guard: has access token, return true"),!0;if(console.log("guard: no access token"),r.getRefreshToken()){if(console.log("guard: has refresh token"),yield r.requestAccessToken())return console.log("guard: got access token from refresh token, return true"),!0;console.log("guard: could not get access token from refresh token")}return console.log("guard: return false"),n.navigate(["login"])});var nP=(t,e)=>{let n=O(gn),r=sessionStorage.getItem("dataFileId");return Nt.isEmpty(r)?n.createUrlTree(["/folder-picker"]):!0};var rP=(t,e)=>{for(let n of["FB_IAB","FBAN","FBAV","FB4A","MESSENGER"])if(navigator.userAgent.includes(n))return!0;return O(gn).createUrlTree([""])};var iP=(()=>{let e=class e{constructor(){this.crossfade=!0,this.userAgent=window.navigator.userAgent}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-fuck-messenger-browser"]],hostVars:1,hostBindings:function(i,o){i&2&&Vg("@crossfade",o.crossfade)},standalone:!0,features:[Y],decls:7,vars:1,consts:[[1,"user-agent"],["src","/assets/fuck-messenger-browser.jpg",1,"picture"]],template:function(i,o){i&1&&(m(0,"span",0),N(1),g(),m(2,"span"),N(3,"Prehliada\u010D v aplik\xE1cii Messenger nesp\u013A\u0148a modern\xE9 \u0161tandardy a ned\xE1 sa v \u0148om prihl\xE1si\u0165 do \xFA\u010Dtu Google."),g(),m(4,"span"),N(5,"Vpravo hore by malo by\u0165 tla\u010D\xEDtko, ktor\xE9 ti str\xE1nku otvor\xED v norm\xE1lnom prehliada\u010Di."),g(),J(6,"img",1)),i&2&&(y(),ye(o.userAgent))},dependencies:[Z,vn],styles:["[_nghost-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.3333333332rem 0;text-align:center;gap:2rem;margin:0 .6666666666rem;position:relative;box-sizing:border-box}[_nghost-%COMP%]   .user-agent[_ngcontent-%COMP%]{font-size:.667rem;position:absolute;top:.667rem}[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{max-width:100%}"],data:{animation:[aM]}});let t=e;return t})();var fo=(()=>{let e=class e{constructor(){this.sidebarVisible=!0}initialize(r){if(r&&!k.isEmpty(r.stories)){this.stories=r.stories,this.currentStory=this.stories[0],k.isEmpty(this.currentStory.notes)||(this.currentNote=k.getFirst(this.currentStory.notes));for(let i of this.stories)for(let o of i.notes)o.parent=i,o.wordCount=Nt.getWordCount(o.text)}this.stories||(this.stories=[])}serialize(){return{stories:this.stories.map(r=>({title:r.title,notes:r.notes.map(i=>({title:i.title,text:i.text,tags:i.tags})),noteTags:r.noteTags}))}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var po=(()=>{let e=class e extends Fa{constructor(r,i,o,s){super(r),this.http=r,this.applicationService=i,this.stateService=o,this.dialogService=s,this.delay=new uo(3e3),this.FILE_ID="1ydFjvWYG3p-m3S_gDodNJbc0Cyeqv82Z",this.FIELDS="id,name,mimeType,appProperties"}request(){let r=this.getContent(this.FILE_ID);return r.catch(i=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(i)}),r}update(r=!1){this.applicationService.changes.set(!0);let i=()=>{this.updateContent(this.FILE_ID,JSON.stringify(this.stateService.serialize())).then(()=>{this.applicationService.errors.set(!1)}).catch(o=>{this.applicationService.errors.set(!0),this.dialogService.createMessage("Error",["Google Drive Error, check console."]),console.log(o)}).finally(()=>{this.applicationService.changes.set(!1)})};r?(this.delay.stop(),i()):this.delay.restart(()=>i())}};e.\u0275fac=function(i){return new(i||e)(L(Lo),L(rt),L(fo),L(Rt))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aG(t,e){if(t&1){let n=Q();m(0,"div",6),I("click",function(){let o=A(n).$implicit,s=w();return x(s.remove(o))}),m(1,"i",7),I("click",function(i){let s=A(n).$implicit;return w().editTag(s),x(i.stopPropagation())}),g(),m(2,"span"),N(3),g(),J(4,"i",8),g()}if(t&2){let n=e.$implicit,r=w();C("dragdrop",n)("dragdropParent",r.currentTags),y(3),ye(n)}}function cG(t,e){if(t&1){let n=Q();m(0,"div",9),I("click",function(){let o=A(n).$implicit,s=w();return x(s.add(o))}),J(1,"i",10),m(2,"span"),N(3),g(),m(4,"div",11)(5,"i",7),I("click",function(i){let s=A(n).$implicit;return w().editTag(s),x(i.stopPropagation())}),g(),m(6,"i",12),I("click",function(i){let s=A(n).$implicit;return w().deleteTag(s),x(i.stopPropagation())}),g()()()}if(t&2){let n=e.$implicit;y(3),ye(n)}}var oP=(()=>{let e=class e extends it{constructor(r,i){super(),this.dialogService=r,this.googleService=i,this.configuration={title:"Tag Manager",buttons:[{text:()=>"Cancel",click:()=>this.close()},{text:()=>"Save",click:()=>this.submit()}]}}ngOnInit(){this.inputs.note.tags?this.currentTags=this.inputs.note.tags.slice():this.currentTags=[],this.availableTags=this.inputs.note.parent.noteTags.filter(r=>!this.currentTags.includes(r))}add(r){this.currentTags.push(r),k.remove(this.availableTags,r)}remove(r){k.remove(this.currentTags,r),this.availableTags.push(r),this.availableTags.sort((i,o)=>i.localeCompare(o))}editTag(r){this.dialogService.createInput("Tag","Tag Title",r,"OK").then(i=>{if(!Nt.isEmpty(i)){if(this.inputs.note.parent.noteTags.includes(i))return;r?i!=r&&(this.currentTags.includes(r)?(k.remove(this.currentTags,r),this.currentTags.push(i),this.currentTags.sort((o,s)=>o.localeCompare(s))):(k.remove(this.availableTags,r),this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s))),k.remove(this.inputs.note.parent.noteTags,r),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))):(this.availableTags.push(i),this.availableTags.sort((o,s)=>o.localeCompare(s)),this.inputs.note.parent.noteTags.push(i),this.inputs.note.parent.noteTags.sort((o,s)=>o.localeCompare(s))),this.googleService.update(!0)}})}deleteTag(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r+'"?'],"Yes","No").then(i=>{i&&(this.currentTags.includes(r)?k.remove(this.currentTags,r):k.remove(this.availableTags,r),this.inputs.note.parent.notes.forEach(o=>k.remove(o.tags,r)),k.remove(this.inputs.note.parent.noteTags,r),this.googleService.update(!0))})}submit(){this.resolve(this.currentTags)}close(){this.resolve(null)}};e.\u0275fac=function(i){return new(i||e)(S(Rt),S(po))},e.\u0275cmp=K({type:e,selectors:[["app-note-tag-manager"]],hostBindings:function(i,o){i&1&&I("keydown.enter",function(a){return o.submit(a)},!1,ze)("keydown.escape",function(a){return o.close(a)},!1,ze)},standalone:!0,features:[$e,Y],decls:12,vars:2,consts:[[1,"flex","column","gap"],[1,"h-separator"],["class","tag-container-current",3,"dragdrop","dragdropParent","click",4,"ngFor","ngForOf"],[1,"v-separator"],["class","tag-container-available",3,"click",4,"ngFor","ngForOf"],[1,"icon-button-small","fa-solid","fa-plus","create-tag-button",3,"click"],[1,"tag-container-current",3,"dragdrop","dragdropParent","click"],[1,"icon-button-small","fa-solid","fa-pen-to-square",3,"click"],[1,"fa-solid","fa-caret-right",2,"justify-self","end"],[1,"tag-container-available",3,"click"],[1,"fa-solid","fa-caret-left"],[1,"flex",2,"justify-content","end"],[1,"icon-button-small","fa-solid","fa-trash",3,"click"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"span"),N(2,"Tags"),g(),J(3,"div",1),B(4,aG,5,3,"div",2),g(),J(5,"div",3),m(6,"div",0)(7,"span"),N(8,"Available Tags"),g(),J(9,"div",1),B(10,cG,7,1,"div",4),m(11,"i",5),I("click",function(){return o.editTag()}),g()()),i&2&&(y(4),C("ngForOf",o.currentTags),y(6),C("ngForOf",o.availableTags))},dependencies:[Z,He,La],styles:["[_nghost-%COMP%]{min-width:650px;min-height:350px;display:grid;grid-template-columns:1fr auto 1fr;grid-auto-rows:min-content;gap:.3333333333rem;padding:.6666666666rem}[_nghost-%COMP%] > .v-separator[_ngcontent-%COMP%]{min-height:350px}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;gap:.3333333333rem;cursor:pointer;align-items:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;text-align:center}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .tag-container-current[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], [_nghost-%COMP%]   .tag-container-available[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .create-tag-button[_ngcontent-%COMP%]{align-self:center}"]});let t=e;return t})();function lG(t,e){t&1&&J(0,"div",31)}function uG(t,e){if(t&1&&(Je(0),B(1,lG,1,0,"div",29),m(2,"span",30),N(3),g(),Ze()),t&2){let n=e.$implicit,r=e.index;y(),C("ngIf",r!=0),y(2),ye(n)}}function dG(t,e){if(t&1){let n=Q();m(0,"div",20),I("click",function(){let o=A(n).$implicit,s=w(3);return x(s.setCurrentNote(o))})("dragend",function(){A(n);let i=w(3);return x(i.googleService.update())}),m(1,"div",21)(2,"span",22),N(3),g(),m(4,"div",23),B(5,uG,4,2,"ng-container",24),g()(),m(6,"div",25)(7,"span",26),N(8),g(),m(9,"div",27)(10,"i",28),I("click",function(i){let s=A(n).$implicit;return w(3).editTags(s),x(i.stopPropagation())}),g(),m(11,"i",13),I("click",function(i){let s=A(n).$implicit;return w(3).renameNote(s),x(i.stopPropagation())}),g(),m(12,"i",14),I("click",function(i){let s=A(n).$implicit,a=w(2).$implicit;return w().deleteNote(a,s),x(i.stopPropagation())}),g()()()()}if(t&2){let n=e.$implicit,r=w(2).$implicit,i=w();C("dragdrop",n)("dragdropParent",r.notes),y(2),Ce("highlight",n==i.stateService.currentNote)("negative",i.searchNotes.includes(n)),y(),ye(n.title),y(2),C("ngForOf",n.tags),y(3),ye(n.wordCount)}}function hG(t,e){if(t&1){let n=Q();m(0,"div",16),B(1,dG,13,9,"div",17),m(2,"div",18)(3,"i",19),I("click",function(i){A(n);let o=w().$implicit;return w().createNote(o),x(i.stopPropagation())}),g()()()}if(t&2){let n=w().$implicit;C("@drawer",void 0),y(),C("ngForOf",n.notes)}}function fG(t,e){if(t&1){let n=Q();m(0,"div",7)(1,"div",8),I("click",function(){let o=A(n).$implicit,s=w();return x(s.setCurrentStory(o))})("dragend",function(){A(n);let i=w();return x(i.googleService.update())}),m(2,"span",9),N(3),g(),m(4,"div",10)(5,"span",11),N(6),g(),m(7,"div",12)(8,"i",13),I("click",function(i){let s=A(n).$implicit;return w().renameStory(s),x(i.stopPropagation())}),g(),m(9,"i",14),I("click",function(i){let s=A(n).$implicit;return w().deleteStory(s),x(i.stopPropagation())}),g()()()(),B(10,hG,4,2,"div",15),g()}if(t&2){let n=e.$implicit,r=w();y(),C("dragdrop",n)("dragdropParent",r.stateService.stories),y(),Ce("highlight",n==(r.stateService.currentNote==null?null:r.stateService.currentNote.parent))("negative",r.searchStories.includes(n)),y(),ye(n.title),y(3),ye(r.getNotesWordCount(n)),y(4),C("ngIf",n==r.stateService.currentStory)}}var sP=(()=>{let e=class e{constructor(r,i,o){this.dialogService=r,this.googleService=i,this.stateService=o,this.searchStories=[],this.searchNotes=[]}ngOnInit(){}setCurrentNote(r){this.setCurrentStory(r.parent),this.stateService.currentNote=r,yi.isLargeScreen()||(this.stateService.sidebarVisible=!1)}setCurrentStory(r){this.stateService.currentStory=r}createStory(){this.dialogService.createInput("Story Title","Title",null,"OK").then(r=>{r&&(this.stateService.stories.push({title:r,notes:[],noteTags:[]}),this.googleService.update(!0))})}renameStory(r){this.dialogService.createInput("Rename","Story Title",r.title,"OK").then(i=>{Nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteStory(r){this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+r.title+'"?'],"Yes","No").then(i=>{i&&(r==this.stateService.currentStory&&this.setCurrentStory(k.nearestRightFirst(this.stateService.stories,this.stateService.stories.indexOf(r))),k.remove(this.stateService.stories,r),this.googleService.update())})}getNotesWordCount(r){let i=r.notes.flatMap(o=>o.wordCount).reduce((o,s)=>o+s,0);return i>0?i+"":""}editTags(r){this.dialogService.create(oP,{note:r}).then(i=>{i&&Array.isArray(i)&&(r.tags=i,this.googleService.update(!0))})}createNote(r){this.dialogService.createInput("Note Title","Title",null,"OK").then(i=>{if(i){let o={title:i,text:"",tags:[],wordCount:0,parent:r};r.notes.push(o),this.stateService.currentNote=o,this.stateService.currentStory=r,this.googleService.update(!0)}})}renameNote(r){this.dialogService.createInput("Rename","Note Title",r.title,"OK").then(i=>{Nt.isEmpty(i)||(r.title=i,this.googleService.update(!0))})}deleteNote(r,i){let o=r.notes;this.dialogService.createConfirmation("Delete",['Are you sure you want to delete "'+i.title+'"?'],"Yes","No").then(s=>{s&&(i==this.stateService.currentNote&&(this.stateService.currentNote=null),k.remove(o,i),this.googleService.update(!0))})}onSearchInputChange(r){if(this.searchQuery=r.value,this.searchStories.length=0,this.searchNotes.length=0,!Nt.isEmpty(this.searchQuery))for(let i of this.stateService.stories)for(let o of i.notes)o.text.match(new RegExp(this.searchQuery,"i"))&&(k.push(this.searchStories,i),k.push(this.searchNotes,o))}};e.\u0275fac=function(i){return new(i||e)(S(Rt),S(po),S(fo))},e.\u0275cmp=K({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[Y],decls:8,vars:1,consts:[["placeholder","Search",1,"desktop-only","search-input",3,"input","focus"],["searchInput",""],[1,"h-separator","margins"],[1,"content-container","y-scrollbar-container"],["class","story-container",4,"ngFor","ngForOf"],[1,"button-container"],["tp","Create Story",1,"icon-button","fa-solid","fa-plus",3,"click"],[1,"story-container"],[1,"story-label-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"story-label"],[1,"story-info"],[1,"story-notes-word-count"],[1,"story-buttons"],["tp","Rename",1,"icon-button","fa-solid","fa-pen-to-square",3,"click"],["tp","Delete",1,"icon-button","fa-solid","fa-times",3,"click"],["class","notes-container",4,"ngIf"],[1,"notes-container"],["class","note-container",3,"dragdrop","dragdropParent","click","dragend",4,"ngFor","ngForOf"],[1,"flex","center","gap"],["tp","Create Note",1,"icon-button","fa-solid","fa-plus",2,"align-self","center",3,"click"],[1,"note-container",3,"dragdrop","dragdropParent","click","dragend"],[1,"note-title-container"],[1,"note-title"],[1,"note-tag-container"],[4,"ngFor","ngForOf"],[1,"note-info-container","stack-container"],[1,"note-word-count"],[1,"note-buttons"],["tp","Tags",1,"icon-button","fa-solid","fa-tag",3,"click"],["class","v-separator",4,"ngIf"],[2,"text-wrap","nowrap"],[1,"v-separator"]],template:function(i,o){if(i&1){let s=Q();m(0,"input",0,1),I("input",function(){A(s);let c=Ut(1);return x(o.onSearchInputChange(c))})("focus",function(){A(s);let c=Ut(1);return x(c.select())}),g(),J(2,"div",2),m(3,"div",3),B(4,fG,11,9,"div",4),g(),J(5,"div",2),m(6,"div",5)(7,"i",6),I("click",function(){return o.createStory()}),g()()}i&2&&(y(4),C("ngForOf",o.stateService.stories))},dependencies:[Z,He,Re,vn,La,Lr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;overflow-x:hidden;overflow-y:auto}.search-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}.search-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.3333333333rem;flex:1}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:first-child){padding-top:.1666666667rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]:not(:last-child){padding-bottom:.1666666667rem;border-bottom:1px solid var(--color-border)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:space-between;line-height:3rem;border-radius:.3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-notes-word-count[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]:hover   .story-buttons[_ngcontent-%COMP%]{display:flex!important}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-label[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]{text-align:end}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-notes-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem}.content-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]   .story-label-container[_ngcontent-%COMP%]   .story-info[_ngcontent-%COMP%]   .story-buttons[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]{display:flex;border-radius:.3333333333rem;justify-content:space-between;padding:.1666666667rem;align-items:center;cursor:pointer}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover{background-color:var(--color-hover)}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-word-count[_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]:hover   .note-buttons[_ngcontent-%COMP%]{visibility:visible!important}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:.6666666666rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .navigation-note-label[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-title-container[_ngcontent-%COMP%]   .note-tag-container[_ngcontent-%COMP%]{display:flex;font-size:10px;padding-left:.6666666666rem;gap:.3333333333rem}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]{justify-content:end}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-word-count[_ngcontent-%COMP%]{margin:0 .3333333333rem;text-align:end;align-content:center}.content-container[_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]   .note-container[_ngcontent-%COMP%]   .note-info-container[_ngcontent-%COMP%]   .note-buttons[_ngcontent-%COMP%]{display:flex;visibility:hidden;align-items:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:.3333333333rem 0;gap:.3333333333rem}"],data:{animation:[lM]}});let t=e;return t})();function pG(t,e){if(t&1){let n=Q();Je(0),m(1,"div",1)(2,"span",2),N(3),g()(),m(4,"div",3)(5,"textarea",4),ri("ngModelChange",function(i){A(n);let o=w();return Li(o.stateService.currentNote.text,i)||(o.stateService.currentNote.text=i),x(i)}),I("ngModelChange",function(){A(n);let i=w();return x(i.onChange())}),g()(),Ze()}if(t&2){let n=w();y(),Ce("focus-mode",!n.stateService.sidebarVisible),y(2),ti("",n.stateService.currentNote.parent.title," / ",n.stateService.currentNote.title,""),y(2),Ce("focus-mode",!n.stateService.sidebarVisible),ni("ngModel",n.stateService.currentNote.text)}}var aP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.applicationService.loading.set(!0)}ngOnInit(){}onChange(){this.stateService.currentNote.wordCount=Nt.getWordCount(this.stateService.currentNote.text),this.googleService.update()}};e.\u0275fac=function(i){return new(i||e)(S(po),S(rt),S(fo))},e.\u0275cmp=K({type:e,selectors:[["app-note-editor"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[[4,"ngIf"],[1,"note-header"],[1,"note-title"],[1,"y-scrollbar-container"],["spellcheck","false","placeholder","Text",1,"note-content",3,"ngModel","ngModelChange"]],template:function(i,o){i&1&&B(0,pG,6,7,"ng-container",0),i&2&&C("ngIf",o.stateService.currentNote)},dependencies:[Z,Re,vn,jr,ho,vi],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;transition-property:margin;transition-duration:.5s}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--color-border)}@media screen and (min-width: 768px){[_nghost-%COMP%]   .note-header.focus-mode[_ngcontent-%COMP%]{margin:0 25%}}[_nghost-%COMP%]   .note-header[_ngcontent-%COMP%]   .note-title[_ngcontent-%COMP%]{flex:1;min-width:100px;border:0;border-radius:0;padding:.3333333333rem}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]{flex:1;display:flex}[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content[_ngcontent-%COMP%]{flex:1;resize:none;border:none;line-height:1.25rem;padding:.1666666667rem .3333333333rem;overflow-wrap:normal}@media screen and (min-width: 768px){[_nghost-%COMP%]   .y-scrollbar-container[_ngcontent-%COMP%]   .note-content.focus-mode[_ngcontent-%COMP%]{margin-left:25%;padding-right:25%}}"]});let t=e;return t})();var cP=(()=>{let e=class e{constructor(r,i,o){this.googleService=r,this.applicationService=i,this.stateService=o,this.countdownInputRegex=/^([0-9]*[1-9]+[0-9]*[hms])+$/gi,this.countdown={hours:0,minutes:0,seconds:0},this.focusMode=!1,this.applicationService.loading.set(!0)}ngOnInit(){this.googleService.request().then(r=>{r&&(this.stateService.initialize(r),this.applicationService.loading.set(!1))})}import(){navigator.clipboard.readText().then(r=>this.stateService.initialize(JSON.parse(r)))}export(){let r=JSON.stringify(this.stateService.serialize());navigator.clipboard.writeText(r),console.log(r)}onCountdownInputChange(r){r.value.replace(/\W/g,"").match(this.countdownInputRegex)?r.classList.remove("error"):r.classList.add("error")}onCountdownInputSubmit(r,i){if(r.key==="Enter"){let o=i.value.replace(/\W/g,"");if(o.match(this.countdownInputRegex)){i.readOnly=!0;let s=a=>a&&a.map(c=>c.replace(/\D/g,"")).reduce((c,l)=>c+Number.parseInt(l),0);this.countdown.hours=s(o.match(/\d+h/gi)),this.countdown.minutes=s(o.match(/\d+m/gi)),this.countdown.seconds=s(o.match(/\d+s/gi)),this.countdown.minutes+=+Math.floor(this.countdown.seconds/60),this.countdown.seconds%=60,this.countdown.hours+=+Math.floor(this.countdown.minutes/60),this.countdown.minutes%=60,this.countdownInterval=setInterval(()=>{this.countdown.hours>0?i.value=this.countdown.hours.toString().padStart(2,"0")+"h "+this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":this.countdown.minutes>0?i.value=this.countdown.minutes.toString().padStart(2,"0")+"m "+this.countdown.seconds.toString().padStart(2,"0")+"s":i.value=this.countdown.seconds.toString().padStart(2,"0")+"s",this.countdown.seconds--==0&&(this.countdown.seconds=59,this.countdown.minutes--==0&&(this.countdown.hours==0?(i.value="",i.readOnly=!1,clearInterval(this.countdownInterval)):(this.countdown.minutes=59,this.countdown.hours--)))},1e3)}}}onCountdownInputClick(r){r.readOnly&&(r.value="",r.readOnly=!1,clearInterval(this.countdownInterval))}};e.\u0275fac=function(i){return new(i||e)(S(po),S(rt),S(fo))},e.\u0275cmp=K({type:e,selectors:[["app-story-manager"]],standalone:!0,features:[Y],decls:14,vars:10,consts:[[1,"header"],[1,"header-start"],[1,"mobile-only","icon-button","fa-solid","fa-bars",3,"click"],["tp","Focus Mode",1,"desktop-only","icon-button","fa-solid",3,"ngClass","click"],[1,"header-center"],["placeholder","Countdown",1,"desktop-only","countdown-input",3,"click","input","keypress","focus"],["countdownInput",""],[1,"header-end"],["tp","Toggle Brightness Mode",1,"icon-button","fa-solid",3,"ngClass","click"],[1,"content"],[1,"v-separator","desktop-only"],[1,"modules"]],template:function(i,o){if(i&1){let s=Q();m(0,"div",0)(1,"div",1)(2,"i",2),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g(),m(3,"i",3),I("click",function(){return o.stateService.sidebarVisible=!o.stateService.sidebarVisible}),g()(),m(4,"div",4)(5,"input",5,6),I("click",function(){A(s);let c=Ut(6);return x(o.onCountdownInputClick(c))})("input",function(){A(s);let c=Ut(6);return x(o.onCountdownInputChange(c))})("keypress",function(c){A(s);let l=Ut(6);return x(o.onCountdownInputSubmit(c,l))})("focus",function(){A(s);let c=Ut(6);return x(c.select())}),g()(),m(7,"div",7)(8,"i",8),I("click",function(){return o.applicationService.toggleTheme()}),g()()(),m(9,"div",9),J(10,"app-sidebar")(11,"div",10),m(12,"div",11),J(13,"app-note-editor"),g()()}if(i&2){let s=Ut(6);y(3),C("ngClass",o.stateService.sidebarVisible?"fa-bullseye":"fa-circle-dot"),y(2),Ce("user-select-none",s.readOnly),y(3),C("ngClass",o.applicationService.isDarkTheme()?"fa-moon":"fa-sun"),y(2),Ce("hidden",!o.stateService.sidebarVisible),y(),Ce("mobile-only",!o.stateService.sidebarVisible),y(),Ce("desktop-only",o.stateService.sidebarVisible)}},dependencies:[Z,Tt,sP,aP,Lr],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;padding:.3333333333rem;gap:.3333333333rem;border-bottom:1px solid var(--color-border);justify-content:space-between}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-start[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .header-end[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input[_ngcontent-%COMP%]{border:none;text-align:center;caret-color:var(--color-text);font-variant-numeric:tabular-nums;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .countdown-input.error[_ngcontent-%COMP%]{color:var(--color-negative)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]{flex:3;width:0;display:flex;transition-property:flex;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;margin:.6666666666rem;gap:.6666666666rem;-webkit-user-select:none;user-select:none;height:-webkit-fill-available}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .story-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-end;flex:1}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]{gap:.6666666666rem;display:flex;flex-direction:column;align-items:center;justify-content:center;height:33%;transition-property:opacity;transition-duration:.5s}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]   .modules[_ngcontent-%COMP%]   .adventure-container[_ngcontent-%COMP%]   .node-container[_ngcontent-%COMP%]   .node-buttons-container[_ngcontent-%COMP%]{display:flex;gap:.3333333333rem}"]});let t=e;return t})();function mG(t,e){if(t&1){let n=Q();m(0,"span",4),I("click",function(){A(n);let i=w();return x(i.parseText())}),N(1,"Parse"),g()}}function gG(t,e){if(t&1){let n=Q();m(0,"div",6)(1,"span",4),I("click",function(){A(n);let i=w(2);return x(i.onEntryClick(i.tournament.currentComparison[0],i.tournament.currentComparison[1]))}),N(2),g(),m(3,"span",4),I("click",function(){A(n);let i=w(2);return x(i.onEntryClick(i.tournament.currentComparison[1],i.tournament.currentComparison[0]))}),N(4),g()()}if(t&2){let n=w(2);y(2),ye(n.tournament.currentComparison[0].id),y(2),ye(n.tournament.currentComparison[1].id)}}function vG(t,e){if(t&1&&(Je(0),B(1,gG,5,2,"div",5),Ze()),t&2){let n=w();y(),C("ngIf",n.tournament.currentComparison)}}var lP=(()=>{let e=class e{constructor(){this.text=`13
09
04
08
15
02
06
03
01
11
16
07
12
10
14
05
`,this.entries=[],this.result=[]}ngOnInit(){}parseText(){this.entries=this.text.split(`
`).filter(r=>r?.length>0),this.tournament=new ja(this.entries,r=>r),this.text=""}onEntryClick(r,i){this.tournament.handleUserInput(r,i),this.text=this.tournament.leaderboard.map(o=>o.id).join(`
`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=K({type:e,selectors:[["app-tournament"]],standalone:!0,features:[Y],decls:4,vars:5,consts:[[1,"input-container"],[3,"placeholder","ngModel","readOnly","ngModelChange"],["class","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"button",3,"click"],["class","comparison",4,"ngIf"],[1,"comparison"]],template:function(i,o){i&1&&(m(0,"div",0)(1,"textarea",1),ri("ngModelChange",function(a){return Li(o.text,a)||(o.text=a),a}),g(),B(2,mG,2,0,"span",2),g(),B(3,vG,2,1,"ng-container",3)),i&2&&(y(),C("placeholder",o.tournament?"Leaderboard":"Entries"),ni("ngModel",o.text),C("readOnly",o.tournament),y(),C("ngIf",!o.tournament),y(),C("ngIf",o.tournament))},dependencies:[Z,Re,vn,jr,ho,vi],styles:["[_nghost-%COMP%]{display:flex;overflow-x:hidden;width:100%;height:100%}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;gap:.3333333333rem;margin:.3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;color:var(--color-text);overflow-wrap:anywhere;border-radius:.1666666667rem;box-sizing:border-box;border:1px solid var(--color-border);font-family:inherit;font-size:inherit;min-width:50px;background-color:transparent;resize:none;padding:.1666666667rem .3333333333rem}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus-visible{outline:initial}[_nghost-%COMP%]   .input-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex:3;overflow:hidden;gap:.3333333333rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   .comparison[_ngcontent-%COMP%]{aspect-ratio:2}}"]});let t=e;return t})();var uP=[{path:"messenger-browser",canActivate:[rP],component:iP},{path:"login",component:tP},{path:"story-manager",canActivate:[op],component:cP},{path:"folder-picker",canActivate:[op],component:RM},{path:"gallery",canActivate:[op,nP],component:GM},{path:"comparison",component:lP},{path:"home",component:ZM},{path:"games",children:[{path:"activity",component:WM},{path:"twister",component:JM},{path:"nikdy-som",component:XM},{path:"**",redirectTo:"/"}]},{path:"**",redirectTo:"home"}];var hP=(t,e)=>{let n=O(Ua);return e(dP(n,t)).pipe(Gn(r=>{if(r.url.includes("googleapis.com")&&n.getRefreshToken())return console.log(r),je(n.requestAccessToken()).pipe(It(()=>e(dP(n,t))),Gn(i=>Ti(()=>i)))}))},dP=(t,e)=>e.url.includes("googleapis.com")?e.clone({headers:e.headers.set("authorization","Bearer "+t.getAccessToken())}):e;ZS(OM,{providers:[OA(),hx(uP,fx({paramsInheritanceStrategy:"always"})),rT(oT(),iT([hP])),pc(PT(()=>OT({apiKey:"AIzaSyDOAks7IYxZn0CfhQfDYp06r5rP9B-4Jc8",authDomain:"mazacik-69cda.firebaseapp.com",projectId:"mazacik-69cda",storageBucket:"mazacik-69cda.appspot.com",messagingSenderId:"43148772573",appId:"1:43148772573:web:86c8a9749dd20d99260734"}))),pc(qS(()=>GS())),pc(vD(()=>yD())),sM({defaultVariation:"tooltip",variations:{tooltip:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!1,offset:[0,8]},contextmenu:{arrow:!0,animation:"fade",trigger:"click",hideOnClick:!0,offset:[0,8],interactive:!0},hovermenu:{arrow:!0,animation:"fade",trigger:"mouseenter",hideOnClick:!0,offset:[0,8],interactive:!0},focusmenu:{arrow:!0,animation:"fade",trigger:"focus",hideOnClick:!0,offset:[0,8],interactive:!0}}})]}).catch(t=>console.error(t));
